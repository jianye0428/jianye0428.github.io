[{"categories":["draft"],"content":"ä¸€ã€å¼•å…¥ è¿‘å¹´AIGCçš„çˆ†ç«ç¦»ä¸å¼€äººå·¥æ™ºèƒ½åœ¨å›¾åƒç”Ÿæˆã€æ–‡æœ¬ç”Ÿæˆä»¥åŠå¤šæ¨¡æ€ç­‰é¢†åŸŸçš„ä¸æ–­ç´¯ç§¯ï¼Œå…¶ä¸­ç”Ÿæˆæ¨¡å‹çš„å‘å±•å æ®äº†å¾ˆå¤§åŠŸåŠ³ï¼Œå¦‚ï¼šç”Ÿæˆå¯¹æŠ—ç½‘ç»œ GAN åŠå…¶ä¸€ç³»åˆ—å˜ä½“ã€å˜åˆ†è‡ªç¼–ç å™¨ VAE åŠå…¶ä¸€ç³»åˆ—å˜ä½“ã€è‡ªå›å½’æ¨¡å‹ ARã€æµæ¨¡å‹ flow ï¼Œä»¥åŠè¿‘å¹´å¤§ç«çš„æ‰©æ•£æ¨¡å‹ Diffusion Model ç­‰ã€‚ æ‰©æ•£æ¨¡å‹çš„å¤§ç«å¹¶éæ¨ªç©ºå‡ºä¸–ï¼Œæ—©åœ¨2015å¹´å°±æœ‰äººæå‡ºäº†ç±»ä¼¼çš„æƒ³æ³•ï¼Œç›´åˆ°2020å¹´æ‰æå‡ºäº†ç»å…¸çš„ Denoising Diffusion Probabilistic Modelsï¼ˆDDPMï¼‰ï¼ŒåƒOpenAIã€NovelAIã€NVIDIAå’ŒGoogleæˆåŠŸçš„è®­ç»ƒäº†å¤§è§„æ¨¡æ¨¡å‹ä¹‹åï¼Œå®ƒä»¬å¸å¼•äº†å¾ˆå¤šäººæ³¨æ„ï¼Œåç»­æœ‰äº†å¾ˆå¤šåŸºäºæ‰©æ•£æ¨¡å‹çš„å˜ä½“ï¼Œæ¯”å¦‚æœ‰ï¼šGLIDEã€DALLE-2ã€Imagenå’Œå¹´åº•çˆ†ç«çš„å®Œå…¨å¼€æºçš„ç¨³å®šæ‰©æ•£æ¨¡å‹ï¼ˆStable Diffusionï¼‰ã€‚ æ‰©æ•£æ¨¡å‹ä¸ä¹‹å‰æ‰€æœ‰çš„ç”Ÿæˆæ–¹æ³•æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼š ç›´è§‚çš„è¯´å®ƒæ˜¯å°†å›¾åƒç”Ÿæˆè¿‡ç¨‹ï¼ˆé‡‡æ ·ï¼‰åˆ†è§£ä¸ºè®¸å¤šå°çš„å»å™ªæ­¥éª¤ï¼Œå…¶å® Diffusion çš„å«ä¹‰æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹ï¼Œå®çº¿ç®­å¤´ç”¨äºæ‰©æ•£æ­¥éª¤ä¸­æ·»åŠ éšæœºå™ªå£°ï¼Œè™šçº¿ç®­å¤´ä»£è¡¨çš„æ˜¯é€šè¿‡å­¦ä¹ é€†å‘æ‰©æ•£è¿‡ç¨‹ä»å™ªå£°ä¸­é‡æ„æ‰€éœ€çš„æ•°æ®æ ·æœ¬ã€‚å¼•å…¥å™ªå£°å¯¼è‡´äº†ä¿¡æ¯çš„è¡°å‡ï¼Œå†é€šè¿‡å™ªå£°å°è¯•è¿˜åŸåŸå§‹æ•°æ®ï¼Œå¤šæ¬¡è¿­ä»£æœ€å°åŒ–æŸå¤±åï¼Œèƒ½å¤Ÿä½¿æ¨¡å‹åœ¨ç»™å®šå™ªå£°è¾“å…¥çš„æƒ…å†µä¸‹å­¦ä¹ ç”Ÿæˆæ–°å›¾åƒã€‚ æ‰€ä»¥Diffusionæ¨¡å‹å’Œå…¶å®ƒç”Ÿæˆæ¨¡å‹çš„åŒºåˆ«æ˜¯ï¼Œå®ƒä¸æ˜¯ç›´æ¥çš„å›¾åƒ-\u003eæ½œå˜é‡ã€æ½œå˜é‡-\u003eå›¾åƒçš„ä¸€æ­¥åˆ°ä½ï¼Œå®ƒæ˜¯ä¸€æ­¥ä¸€æ­¥çš„é€æ¸åˆ†è§£ã€é€æ¸å»å™ªçš„è¿‡ç¨‹ã€‚ å½“ç„¶æœ‰å…³Diffusionçš„ç†è§£å’Œå˜ä½“æœ‰å¾ˆå¤šï¼Œä½†æ˜¯æ‰©æ•£æ¨¡å‹ä»æœ¬è´¨ä¸Šè®²å°±æ˜¯DDPMï¼Œæ‰€ä»¥æœ¬æ–‡ä¸»è¦å¯¹DDPMçš„åŸç†è¿›è¡Œè®²è§£ï¼Œå¹¶ç»™å‡ºDDPMçš„æ‰©æ•£è¿‡ç¨‹ã€å»å™ªè¿‡ç¨‹ã€è®­ç»ƒæŸå¤±çš„è¯¦ç»†æ¨å¯¼ï¼Œå¯¹äºæŒæ¡Diffusionç®—æ³•åŸç†åªéœ€è¦æŠ“ä½ä»¥ä¸‹å››ç‚¹å³å¯ï¼š å‰å‘è¿‡ç¨‹ï¼ˆæ‰©æ•£ï¼‰ï¼› åå‘è¿‡ç¨‹ï¼ˆå»å™ªã€é‡‡æ ·ï¼‰ï¼› å¦‚ä½•è®­ç»ƒï¼› å¦‚ä½•æ¨æ–­ã€‚ ","date":"2023-07-31","objectID":"/posts/ddpm/:1:0","tags":["draft"],"title":"Diffusion æ‰©æ•£æ¨¡å‹ï¼ˆDDPMï¼‰","uri":"/posts/ddpm/"},{"categories":["draft"],"content":"äºŒã€æ‰©æ•£åŸç†é˜è¿° æ‰©æ•£æ¨¡å‹åŒ…æ‹¬ å‰å‘æ‰©æ•£è¿‡ç¨‹ å’Œ åå‘å»å™ªè¿‡ç¨‹(é‡‡æ ·)ï¼Œå‰å‘é˜¶æ®µå¯¹å›¾åƒé€æ­¥æ–½åŠ å™ªå£°ï¼Œç›´è‡³å›¾åƒè¢«ç ´åå˜æˆå®Œå…¨çš„é«˜æ–¯å™ªå£°ï¼Œç„¶ååœ¨åå‘é˜¶æ®µå­¦ä¹ ä»é«˜æ–¯å™ªå£°è¿˜åŸä¸ºåŸå§‹å›¾åƒçš„è¿‡ç¨‹ã€‚ ","date":"2023-07-31","objectID":"/posts/ddpm/:2:0","tags":["draft"],"title":"Diffusion æ‰©æ•£æ¨¡å‹ï¼ˆDDPMï¼‰","uri":"/posts/ddpm/"},{"categories":["draft"],"content":"2.1ã€ç›´è§‚ç†è§£ æ•£æ¨¡å‹çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ å­¦ä¹ ä»çº¯å™ªå£°ç”Ÿæˆå›¾ç‰‡çš„æ–¹æ³•ã€‚ æ‰©æ•£æ¨¡å‹æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ è®­ç»ƒä¸€ä¸ªUNetï¼Œæ¥å—ä¸€ç³»åˆ—åŠ äº†å™ªå£°çš„å›¾ç‰‡ï¼Œå­¦ä¹ é¢„æµ‹æ‰€åŠ çš„å™ªå£°ã€‚ å‰å‘è¿‡ç¨‹åœ¨å¹²ä»€ä¹ˆï¼Ÿ é€æ­¥å‘çœŸå®å›¾ç‰‡æ·»åŠ å™ªå£°æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªçº¯å™ªå£°ï¼› å¯¹äºè®­ç»ƒé›†ä¸­çš„æ¯å¼ å›¾ç‰‡ï¼Œéƒ½èƒ½ç”Ÿæˆä¸€ç³»åˆ—çš„å™ªå£°ç¨‹åº¦ä¸åŒçš„åŠ å™ªå›¾ç‰‡ï¼› åœ¨è®­ç»ƒæ—¶ï¼Œè¿™äº› ã€ä¸åŒç¨‹åº¦çš„å™ªå£°å›¾ç‰‡ + ç”Ÿæˆå®ƒä»¬æ‰€ç”¨çš„å™ªå£°ã€‘ æ˜¯å®é™…çš„è®­ç»ƒæ ·æœ¬ã€‚ åå‘è¿‡ç¨‹åœ¨å¹²ä»€ä¹ˆï¼Ÿ è®­ç»ƒå¥½æ¨¡å‹åï¼Œé‡‡æ ·ã€ç”Ÿæˆå›¾ç‰‡ã€‚ ","date":"2023-07-31","objectID":"/posts/ddpm/:2:1","tags":["draft"],"title":"Diffusion æ‰©æ•£æ¨¡å‹ï¼ˆDDPMï¼‰","uri":"/posts/ddpm/"},{"categories":["draft"],"content":"2.2ã€å‰å‘è¿‡ç¨‹ï¼ˆæ‰©æ•£ï¼‰ å‰å‘è¿‡ç¨‹åœ¨åŸå§‹è¾“å…¥å›¾åƒ$x_0$ä¸Šé€æ­¥æ·»åŠ éšæœºå™ªå£°ï¼Œè¿™ä¸ªå™ªå£°æœä»é«˜æ–¯åˆ†å¸ƒ$N(0, 1)$ï¼Œæ¯ä¸€æ­¥å¾—åˆ°çš„å›¾åƒ$x_t$åªå’Œä¸Šä¸€æ­¥çš„åŠ å™ªç»“æœ$x_{t-1}$ç›¸å…³ï¼Œé€æ­¥æ·»åŠ å™ªå£°è‡³$T$æ­¥ï¼Œå¯ä»¥å¾—åˆ°è¶‹å‘äºçº¯ç²¹å™ªå£°çš„å›¾åƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åé¢æœ‰è¯¦ç»†çš„æ¨å¯¼ï¼Œå…¬å¼æ¯”è¾ƒå¤šï¼Œè¿™é‡Œå…ˆæå‰æŠŠä¸»è¦çš„åˆ—ä¸€ä¸‹æ–¹ä¾¿é˜è¿°ã€‚ å¯¹äºå°†ä¸€å¼ å›¾ç‰‡ï¼Œä»$x_{t-1}\\rightarrow x_{t}$çš„é€æ­¥åŠ å™ªç ´åçš„å…¬å¼ä¸ºï¼š $$x_t=\\sqrt{\\alpha_t}\\left.x_{t-1}+\\sqrt{1-\\alpha_t}\\right.\\varepsilon_t\\quad\\quad\\quad\\quad\\quad\\quad(1)$$ å…¶ä¸­: $x_t$è¡¨ç¤ºç¬¬$t$æ­¥çš„å›¾åƒï¼› $\\varepsilon$ æ˜¯ä¸€ä¸ªæ»¡è¶³æ­£æ€åˆ†å¸ƒçš„éšæœºå™ªå£°ï¼Œ$\\varepsilon \\sim N(0, 1)$ï¼› $\\sqrt{\\alpha_{t}}$ æ˜¯å›¾ç‰‡çš„æƒé‡ï¼Œ$\\sqrt{1 - \\alpha_{t}}$ æ˜¯å™ªå£°çš„æƒé‡ï¼› å®šä¹‰ï¼š $\\alpha_t=1-\\beta_t$ $\\overline{\\alpha}=\\prod_{s=1}^t\\alpha_s$ éšç€$t$çš„å¢åŠ ï¼Œå™ªå£°çš„å æ¯”ä¼šè¶Šæ¥è¶Šå¤§ï¼Œæ‰€ä»¥æ·»åŠ çš„å™ªå£°å¼ºåº¦ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ï¼Œä¹Ÿå°±æ˜¯è¯´å›¾ç‰‡çš„æƒé‡è¦è¶Šæ¥è¶Šå°ï¼Œå™ªå£°çš„æƒé‡è¦è¶Šæ¥è¶Šå¤§ã€‚å› ä¸ºéšç€æ‰©æ•£è¿‡ç¨‹çš„å¢åŠ ï¼Œå›¾åƒä¸­å™ªå£°çš„å æ¯”ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ï¼Œæˆ‘ä»¬æƒ³è¦è¿›ä¸€æ­¥ç ´åå®ƒçš„ç»“æ„ï¼Œå°±éœ€è¦æ·»åŠ æ›´å¤šçš„å™ªå£°ã€‚ æ¢å¥è¯è¯´ï¼Œä¸€å¼€å§‹å›¾åƒæ¯”è¾ƒæ¸…æ™°ï¼Œè¿™ä¸ªæ—¶å€™æ·»åŠ çš„å™ªå£°å°ä¸€äº›ï¼Œéšç€å›¾åƒçš„å™ªå£°è¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªæ—¶å€™å†åŠ ä¸€ç‚¹å™ªå£°çš„è¯ï¼Œå¯¹åŸæ¥çš„å›¾åƒå°±æ²¡ä»€ä¹ˆå½±å“äº†ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æœ‰å¥½å¤šå™ªå£°äº†ï¼Œæ‰€ä»¥éšç€å›¾åƒçš„å™ªå£°è¶Šæ¥è¶Šå¤šï¼Œåé¢çš„æ­¥éª¤å°±è¦åŠ æ›´å¤šçš„å™ªå£°ã€‚ å®é™…è®­ç»ƒè¿‡ç¨‹ä¸­ä¼šæ¯”è¾ƒå¤§ï¼ˆDDPMåŸæ–‡ä¸­ä¸º1000ï¼‰ï¼Œæ‰€ä»¥ä¼šæœ‰ä»$x_0$é€’æ¨åˆ°$x_t$çš„å…¬å¼ï¼š $$x_t=\\sqrt{\\overline{\\alpha}_t}\\left.x_0+\\sqrt{1-\\overline{\\alpha}_t}\\right.\\varepsilon\\quad\\quad\\quad\\quad(2)$$ å…¶ä¸­ï¼š $\\alpha_t$ã€$\\beta_t$ æœ‰ä¸€ä¸ªå›ºå®šçš„å·²çŸ¥å‡½æ•°ï¼Œæ˜¯å¯ä»¥ç›´æ¥è¿›è¡Œè®¡ç®—çš„ï¼› $\\varepsilon$ ä¸ºéšæœºäº§ç”Ÿçš„å™ªå£°ï¼› æ‰€ä»¥æ•´ä¸ªå¼å­æ˜¯å·²çŸ¥çš„ï¼Œå¼ $(1)$ã€$(2)$ å°±å¯ä»¥æè¿°å‰å‘è¿‡ç¨‹äº†ï¼Œ$(1)$ ç”¨äºå°†ä¸€å¼ å›¾ç‰‡çš„é€æ­¥ç ´åï¼Œ$(2)$ ç”¨äºä¸€æ­¥åˆ°ä½çš„ç ´åã€‚ ","date":"2023-07-31","objectID":"/posts/ddpm/:2:2","tags":["draft"],"title":"Diffusion æ‰©æ•£æ¨¡å‹ï¼ˆDDPMï¼‰","uri":"/posts/ddpm/"},{"categories":["draft"],"content":"2.3ã€åå‘è¿‡ç¨‹ï¼ˆå»å™ªï¼‰ åå‘è¿‡ç¨‹åˆ™æ˜¯ä¸æ–­å»é™¤å™ªå£°çš„è¿‡ç¨‹ï¼Œç»™å®šä¸€ä¸ªå™ªå£°å›¾ç‰‡ $x_T$ï¼Œå¯¹å®ƒä¸€æ­¥æ­¥çš„å»å™ªè¿˜åŸï¼Œç›´è‡³æœ€ç»ˆå°†åŸå§‹å›¾åƒ $x_0$ ç»™æ¢å¤å‡ºæ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å»å™ªçš„è¿‡ç¨‹ï¼Œ$x_t$ã€$\\alpha_t$ã€$\\beta_t$ éƒ½æ˜¯å·²çŸ¥çš„ï¼Œåªæœ‰å…¬å¼ $(2)$ ä¸­çš„çœŸå®å™ªå£°æ˜¯æœªçŸ¥çš„ï¼Œå› ä¸ºå®ƒæ˜¯éšæœºé‡‡æ ·çš„ã€‚æ‰€ä»¥éœ€è¦ä¸€ä¸ªç¥ç»ç½‘ç»œæŠŠ $\\varepsilon$ ç»™å­¦å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯è¯´è®­ç»ƒä¸€ä¸ªç”± $x_t$ å’Œ $t$ ä¼°æµ‹å™ªå£°çš„æ¨¡å‹ï¼š $$x_{t-1}=\\frac{1}{\\sqrt{\\alpha_t}}(x_t-\\frac{\\beta_t}{\\sqrt{1-\\overline{\\alpha}t}}\\varepsilon\\theta(x_t,t))$$ å…¶ä¸­ $\\theta$ å°±æ˜¯æ¨¡å‹çš„å‚æ•°ï¼Œé€šå¸¸ä½¿ç”¨UNetä½œä¸ºé¢„ä¼°å™ªå£°çš„æ¨¡å‹ã€‚ ","date":"2023-07-31","objectID":"/posts/ddpm/:2:3","tags":["draft"],"title":"Diffusion æ‰©æ•£æ¨¡å‹ï¼ˆDDPMï¼‰","uri":"/posts/ddpm/"},{"categories":["draft"],"content":"2.4ã€æ¨¡å‹è®­ç»ƒ æ‰€ä»¥è¯´åå‘è¿‡ç¨‹å…¶å®å°±æ˜¯è®­ç»ƒç½‘ç»œå»å­¦ä¹ åˆ†è§£è¿‡ç¨‹æ¯ä¸€æ­¥çš„å™ªå£°ï¼Œå½“ç½‘ç»œè®­ç»ƒå¥½ä¹‹åï¼Œè¾“å…¥ä¸€å¼ å™ªå£°å›¾ç‰‡ï¼Œé€šè¿‡ç½‘ç»œå°±èƒ½æŠŠåŠ çš„å™ªå£°ç»™æ±‚å‡ºæ¥ï¼Œå™ªå£°æœ‰äº†ä»£å…¥å…¬å¼ï¼Œå°±èƒ½æŠŠ $x_{t-1}$ æ­¥çš„æ¯”è¾ƒæ¸…æ™°çš„å›¾ç»™æ±‚å‡ºæ¥äº†ï¼Œä¸€æ­¥æ­¥å¾€å‰è¿­ä»£å°±è¡Œäº†ã€‚ é‡‡ç”¨L2è·ç¦»åˆ»ç”»ç›¸è¿‘ç¨‹åº¦å°±å¯ä»¥ï¼ŒDDPMçš„å…³é”®æ˜¯è®­ç»ƒ $\\varepsilon_{\\theta}(x_t, t)$ï¼Œç›®çš„å°±æ˜¯ä½¿é¢„æµ‹çš„å™ªå£°ä¸çœŸå®ç”¨äºç ´åçš„å™ªå£°ç›¸è¿‘ï¼š $$Loss=\\mid\\mid\\varepsilon-\\varepsilon_\\theta(x_t,t)\\mid\\mid^2=\\mid\\mid\\varepsilon-\\varepsilon_\\theta(\\sqrt{\\overline{\\alpha}_t}~x_0+\\sqrt{1-\\overline{\\alpha}_t}~\\varepsilon_t,t)\\mid\\mid^2$$ ","date":"2023-07-31","objectID":"/posts/ddpm/:2:4","tags":["draft"],"title":"Diffusion æ‰©æ•£æ¨¡å‹ï¼ˆDDPMï¼‰","uri":"/posts/ddpm/"},{"categories":["draft"],"content":" quote note abstract info tip success question warning failure danger bug example quote ","date":"2023-07-31","objectID":"/posts/partfour/:0:0","tags":["draft"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [4]","uri":"/posts/partfour/"},{"categories":["C++"],"content":" å‰è¨€ Effective-C++æ€»ç»“ç³»åˆ—åˆ†ä¸ºå››éƒ¨åˆ†ï¼Œæœ¬æ–‡ä¸ºç¬¬äºŒéƒ¨åˆ†ï¼Œæ¶‰åŠåŸä¹¦ç¬¬3~4ç« ï¼Œå†…å®¹èŒƒå›´Rule13~25ã€‚ä¸ºæ–¹ä¾¿ä¹¦å†™ï¼ŒRule13ç®€å†™ä¸ºR13ã€‚ Effective-C++ç³»åˆ—List æœ¬åšå®¢ç«™ç‚¹ç³»åˆ—å†…å®¹å¦‚ä¸‹ï¼š ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(ä¸€) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(äºŒ) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(ä¸‰) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(å››) ç”±äºåŸä¹¦åœ¨C++11ä¹‹å‰å†™æˆï¼Œæœ‰äº›ç°ä»£C++ç‰¹æ€§ä¸ä¼šæåŠï¼Œæ‰€ä»¥ä¼šæ ¹æ®æœ¬äººå¼€å‘ç»éªŒæ–°å¢ä¸€äº›ä¸ªäººæ„Ÿæ‚ŸğŸ‘‰By the wayç¯èŠ‚ã€‚ ","date":"2023-07-31","objectID":"/posts/partthree/:0:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"CH5. å®ç° ","date":"2023-07-31","objectID":"/posts/partthree/:1:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"R26 å°½å¯èƒ½å»¶åå˜é‡å®šä¹‰å¼çš„å‡ºç°æ—¶é—´ å°½å¯èƒ½å»¶åå˜é‡å®šä¹‰å¼çš„å‡ºç°ï¼Œå¯å¢åŠ ç¨‹åºæ¸…æ™°åº¦å’Œæ•ˆç‡ å®šä¹‰åï¼Œåœ¨ä½¿ç”¨å‰å°±é­é‡æŠ›å¼‚å¸¸ è¿™ç§æƒ…å†µï¼Œå¦‚æœæ˜¯å®šä¹‰äº†å¯¹è±¡ObjectA aï¼Œä¾¿ç™½ç™½åœ°æµªè´¹äº†å¯¹è±¡açš„æ„é€ å’Œææ„æˆæœ¬ã€‚ ä¸åªæ˜¯å»¶åå˜é‡å®šä¹‰åˆ°ä½¿ç”¨æ—¶ï¼Œè€Œæ˜¯å°½é‡å»¶ååˆ°èƒ½ç»™å®ƒåˆå€¼æ—¶ std::string encryptPassword(const std::string\u0026 password){ if(password.length() \u003c 8){ throw std::logic_error(\"Password is too short\"); }// è€ƒè™‘1ï¼šåœ¨å¼‚å¸¸ä¹‹åå®šä¹‰å˜é‡ std::string encrypted(password);//è€ƒè™‘2ï¼šå®šä¹‰å»¶åè‡³å˜é‡èƒ½èµ‹åˆå€¼çš„æ—¶æœº encrypt(encrypted); return encrypted; } æ€è€ƒå˜é‡å®šä¹‰æ˜¯å¦è¯¥åœ¨å¾ªç¯å†… æ–¹æ³•Aï¼šå®šä¹‰äºå¾ªç¯å¤– Widget w; for(int i = 0 ; i\u003c n; ++i) { w = foo(i); // other... } æ–¹æ³•Bï¼šå®šä¹‰äºå¾ªç¯å†… for (int i = 0; i \u003c n; ++i) { Widget w(foo(i)); // other... } ç©¶ç«Ÿæ˜¯Aè¿˜æ˜¯Bæ–¹æ³•å¥½ï¼Œå–å†³äº ä¸€ä¸ªèµ‹å€¼æˆæœ¬å’Œä¸€ç»„æ„é€ +ææ„æˆæœ¬ï¼Œè¿™2è€…ä¹‹é—´ï¼Œå¦‚æœæ˜¯èµ‹å€¼æˆæœ¬ä½ï¼Œé‚£ä¹ˆAæ›´å¥½ï¼Œå¦åˆ™Bæ›´å¥½ã€‚ ","date":"2023-07-31","objectID":"/posts/partthree/:1:1","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"R27 å°½é‡å°‘åšè½¬å‹åŠ¨ä½œ é€šå¸¸çš„è½¬å‹æ˜¯å¯èƒ½ä¼šè¿™æ ·å†™ï¼šå‡½æ•°é£æ ¼çš„int(expression)æˆ–è€…Cé£æ ¼çš„(int)expressionï¼Œè¿™éƒ½è¢«æˆä¸ºâ€œæ—§å¼è½¬å‹â€ã€‚ åœ¨C++ä¸­ï¼Œæœ‰4ç§æ–°å¼è½¬å‹æ“ä½œç¬¦ï¼š const_cast (expression) ä½œç”¨æ˜¯ç§»é™¤å˜é‡çš„å¸¸é‡æ€§(cast away the constness)ï¼Œæ˜¯å”¯ä¸€æœ‰æ­¤èƒ½åŠ›çš„æ“ä½œç¬¦ã€‚ dynamic_cast(expression) ä½œç”¨æ˜¯â€œå®‰å…¨å‘ä¸‹è½¬å‹â€(safe downcasting)ï¼Œå†³å®šæŸä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸç»§æ‰¿ä½“ç³»ã€‚è€—è´¹é‡å¤§è¿è¡Œæˆæœ¬ï¼ˆåŸå› ï¼šéœ€è¦æŸ¥è¯¢RTTIä¿¡æ¯ï¼Œè€Œä¸”ä¸åŒç¼–è¯‘å™¨å®ç°çš„æ–¹æ³•å’Œæ•ˆç‡æœ‰æ‰€ä¸åŒï¼‰ã€‚ reinterpret_cast(expression) æ‰§è¡Œä½çº§è½¬å‹ï¼Œå®é™…ç»“æœå–å†³äºç¼–è¯‘å™¨ï¼Œç§»æ¤æ€§å·®ã€‚ï¼ˆæ¯”å¦‚int* è½¬ä¸ºintï¼‰è¦æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆï¼Œæ…ç”¨ã€‚ static_cast(expression) å¼ºè¿«éšå¼ç±»å‹è½¬æ¢ï¼Œä»£æ›¿Cé£æ ¼çš„\"æ—§å¼è½¬æ¢\"ã€‚ä¹Ÿå¯ä»¥ç»™å˜é‡åŠ ä¸Šconstç‰¹æ€§ã€‚ æ–°å¼è½¬æ¢çš„å¥½å¤„ï¼šå¾ˆå®¹æ˜“åœ¨ä»£ç æ‰¾åˆ°â€œç±»å‹ç³»ç»Ÿåœ¨ä½•å¤„è½¬å˜æˆ–ç ´åâ€ï¼›å¯¹constç‰¹æ€§çš„ä¸¥æ§ï¼Œè®©ç±»å‹ç³»ç»Ÿæ›´å¥å£®ã€‚ æ´¾ç”Ÿç±»é‡Œç›´æ¥è°ƒç”¨åŸºç±»æˆå‘˜å‡½æ•°æ—¶ï¼Œä¸è¦ç”¨è½¬å‹ class SpecialWindow:public Window{ public: virtual void onResize(){ Window::onResize();//ä¸è¦ä½¿ç”¨ static_cast\u003cWindow\u003e(*this).onResize(); } }; å…³äºdynamic_castéœ€è¦æ³¨æ„çš„ å¦‚ä½•æ›¿ä»£å’Œé¿å… ä¸€èˆ¬æ˜¯æŒæœ‰ä¸€ä¸ªBase *pBaseï¼Œä½†æ˜¯æŒ‡å‘çš„æ˜¯DerivedObjï¼Œäºæ˜¯è½¬å‹ä¸ºpDerived å¯ä»¥è¿™æ ·ä¿®æ”¹ï¼š ä¿®æ”¹è®¾è®¡ï¼Œçª„åŒ–ç±»å‹ï¼ŒæŒæœ‰ä¸€ä¸ªpDerivedå³å¯ï¼›æˆ–è€…å°†æƒ³åšçš„äº‹æ”¾åˆ°è™šå‡½æ•°ä¸­ï¼Œåˆ©ç”¨å¤šæ€å»å®Œæˆã€‚ é¿å…ä¸²è” é¿å…ä¸‹æ–¹è¿™æ ·çš„ä»£ç ï¼Œä¸€è¿ä¸²çš„dynamic_castï¼š class Window{ ... }; // å®šä¹‰å­ç±» SpecialWindow1,SpecalWindow2,SpecialWindow3 Window* winPtr; // çœç•¥winPtrçš„å…¶ä»–æ“ä½œ ... if(SpecialWindow1 *psw1 = dynamic_cast\u003cSpecialWindow1*\u003e(winPtr)){ ... } else if(SpecialWindow2 *psw2 = dynamic_cast\u003cSpecialWindow2*\u003e(winPtr)){ ... } else if(SpecialWindow3 *psw3 = dynamic_cast\u003cSpecialWindow3*\u003e(winPtr)){ ... } è¿™æ ·çš„ä»£ç åˆå¤§åˆæ…¢ï¼Œæ¯æ¬¡ç»§æ‰¿ä½“ç³»æœ‰æ‰€æ”¹å˜ï¼Œä»£ç å°±éœ€è¦é‡æ–°æ£€é˜…åˆ¤æ–­ã€‚è¿™æ ·çš„ä»£ç åº”è¯¥ç”¨â€œåŸºäºvirtualå‡½æ•°è°ƒç”¨â€å–ä»£å®ƒã€‚ By the way è‡ª C++11 èµ·ï¼Œé’ˆå¯¹æ™ºèƒ½æŒ‡é’ˆ shared_ptr çš„è½¬å‹ï¼Œæ¨å‡ºäº†å¦å¤– 4 ä¸ªæ¨¡ç‰ˆå‡½æ•°ï¼š std::static_pointer_cast å‡½æ•°çš„åŸå‹å£°æ˜ä¸ºï¼š template\u003c class T, class U \u003e std::shared_ptr\u003cT\u003e static_pointer_cast( const std::shared_ptr\u003cU\u003e\u0026 r ) noexcept; å«ä¹‰ä»¥åŠåº”ç”¨åœºæ™¯ä¸ static_cast ç±»ä¼¼ï¼Œæ¯”å¦‚å­ç±»å‹æŒ‡é’ˆè½¬ä¸ºçˆ¶ç±»å‹ï¼š auto basePtr = std::make_shared\u003cBase\u003e(); auto derivedPtr = std::make_shared\u003cDerived\u003e(); basePtr = std::static_pointer_cast\u003cBase\u003e(derivedPtr); æˆ–è®¸æˆ‘ä»¬ä¼šæœ‰ç–‘é—®ï¼Œæ˜¯å¦æœ‰å¿…è¦ç”¨è¿™ä¸ªå‡½æ•°è¿›è¡Œè½¬å‹å‘¢ï¼Œå¦‚ä¸‹å®ç°ä¸æ˜¯ä¸€æ ·çš„å—? basePtr = std::shared_ptr\u003cBase\u003e(static_cast\u003cBase*\u003e(derivedPtr.get())); ğŸ¤” å½“ç„¶ä¸ä¸€æ ·ï¼Œstatic_cast\u003cT*\u003e((U*)nullptr)æ˜¯æœªå®šä¹‰è¡Œä¸ºï¼Œè€Œä¸”å°±è¯­æ³•æè¿°ä¸Šæ¥çœ‹ï¼Œå“ªä¸ªæ›´ç®€æ´ä¸è¨€è‡ªæ˜ã€‚ å¦å¤–ï¼Œè‡ª C++20 èµ·æ”¯æŒå³å€¼å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯å¦‚ä¸‹å½¢å¼ï¼š template\u003c class T, class U \u003e std::shared_ptr\u003cT\u003e static_pointer_cast( std::shared_ptr\u003cU\u003e\u0026\u0026 r ) noexcept; std::dynamic_pointer_cast å«ä¹‰ä»¥åŠåº”ç”¨åœºæ™¯ä¸ dynamic_cast ç±»ä¼¼ï¼Œç”¨æ³•ä¼ å‚ä¸ std::static_pointer_cast ç±»ä¼¼ï¼Œä¸”è‡ª C++20 èµ·æ”¯æŒå³å€¼å¼•ç”¨ï¼Œä¸èµ˜è¿°ã€‚ std::const_pointer_castï¼šä¸å‰ 2 è€…ç±»ä¼¼ï¼Œä¸èµ˜è¿°ã€‚ std::reinterpret_pointer_castï¼šä¸å‰ 3 è€…ç±»ä¼¼ï¼Œä¸èµ˜è¿°ã€‚ ","date":"2023-07-31","objectID":"/posts/partthree/:1:2","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"R28 é¿å…è¿”å›handlesæŒ‡å‘å¯¹è±¡å†…éƒ¨æˆåˆ† è¿™é‡Œçš„handlesï¼ˆå·ç ç‰Œï¼‰åŒ…æ‹¬æŒ‡å‘å¯¹è±¡å†…éƒ¨çš„æŒ‡é’ˆã€è¿­ä»£å™¨ã€å¼•ç”¨ã€‚ ä»¥ä¸‹è®²è¿°å½“è¿”å›å¯¹è±¡å†…éƒ¨çš„handlesæ—¶ï¼Œå­˜åœ¨çš„2ä¸ªé—®é¢˜ï¼š å¯èƒ½ä¼šç ´åå°è£…æ€§ è€ƒè™‘ä¸€ä¸ªåœºæ™¯ï¼špublicå‡½æ•°è¿”å›ä¸€ä¸ªprivateæˆå‘˜çš„éconstå¼•ç”¨ï¼Œå°±è®©å¤–ç•Œæœ‰äº†ä¿®æ”¹privateçš„æœºä¼šï¼Œç ´åäº†å°è£…æ€§ã€‚ æ­¤æ—¶ï¼Œéœ€è¦å°†éconstå¼•ç”¨æ”¹ä¸ºconstå¼•ç”¨ï¼Œåªè¯»å±æ€§ã€‚ struct Pixel { float r,g,b; } class Image { public: //æ³¨æ„ï¼šåé¢è¿™conståªä¿è¯æˆå‘˜å˜é‡vPixPtrs_ä¸æ”¹ Pixel\u0026 GetThePixel(int idx) const{ return vPixPtrs_[i];}//éšæ‚£ï¼šå…¶å®å¤–éƒ¨è°ƒç”¨è€…ä»èƒ½ç›´æ¥ä¿®æ”¹Pixelçš„rgbå€¼ // ä¸Šä¸€å¥çš„è¿”å›å€¼åº”è¯¥æ”¹ä¸º \"const Pixel\u0026\" private: std::vector\u003cstd::shared_ptr\u003cPixel\u003e\u003e vPixPtrs_; } å¯èƒ½ä¼šå¼•èµ·â€œç©ºæ‚¬handlesâ€ å³ä½¿ç”¨constè§£å†³äº†å°è£…æ€§çš„é—®é¢˜ï¼Œå› ä¸ºå¾ˆå®¹æ˜“å‡ºç°**â€œhandlesæ¯”å…¶æ‰€æŒ‡å¯¹è±¡æ›´é•¿å¯¿â€**ï¼Œå¯èƒ½å­˜åœ¨å¯¹è±¡å·²ææ„ï¼Œä½†handlesè¿˜ç•™å­˜çš„é—®é¢˜ã€‚å°¤å…¶æ˜¯ä¸´æ—¶å˜é‡çš„ææ„ï¼Œä¸å¤ªå®¹æ˜“å¯Ÿè§‰ã€‚ class SceneGraph{ ... }; const Image CaptureImage(const SceneGraph\u0026 graph); //é‚£ä¹ˆè°ƒç”¨æ–¹å¯èƒ½ä¼šè¿™æ ·ä½¿ç”¨ SceneGraph Grap; //ä¸‹é¢è¿™å¥ä¹‹åï¼ŒImageä¸´æ—¶å¯¹è±¡è¢«é”€æ¯ï¼ŒpPixæŒ‡å‘ä¸€ä¸ªä¸å­˜åœ¨çš„å¯¹è±¡ const Pixel *pPix = \u0026(CaptureImage(Grap).GetThePixel(0)); æ³¨æ„ï¼ŒCaptureImageçš„ç¡®èƒ½è¿”å›ä¸€ä¸ªä¸´æ—¶Imageå¯¹è±¡ï¼Œèƒ½æˆåŠŸè°ƒç”¨GetThePixelï¼Œä½†è¿™å¥ç»“æŸåï¼Œä¸´æ—¶å¯¹è±¡ç«‹é©¬ä¼šè¢«é”€æ¯ï¼Œé€ æˆç©ºæ‚¬ç°è±¡ï¼Œæˆ–å«è™šåŠ(dangling) ï¼ ","date":"2023-07-31","objectID":"/posts/partthree/:1:3","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"R29 ä¸ºâ€œå¼‚å¸¸å®‰å…¨â€è€ŒåŠªåŠ›æ˜¯å€¼å¾—çš„ â€œå¼‚å¸¸å®‰å…¨â€æ˜¯æŒ‡ï¼Œå½“å¼‚å¸¸æŠ›å‡ºæ—¶ï¼Œä»£ç ä¾ç„¶èƒ½åšåˆ°å¦‚ä¸‹2ç‚¹ï¼š ä¸æ³„éœ²ä»»ä½•èµ„æº åŒ…æ‹¬å†…å­˜èµ„æºï¼Œé”èµ„æºã€‚ ä¸å…è®¸æ•°æ®è´¥å ä¸ä¼šå› ä¸ºå¼‚å¸¸è€Œå¯¼è‡´ç©ºæ‚¬æŒ‡é’ˆç­‰æœªå®šä¹‰è¡Œä¸ºã€‚ è€ƒè™‘ä¸‹æ–¹çš„ç¤ºä¾‹ä»£ç ï¼Œï¼ˆå¦‚æœnew ImageæŠ›std::bad_allocå¼‚å¸¸ï¼‰åˆ™ä¼šåŒæ—¶è¿èƒŒäº†ä¸Šè¿°2æ¡ï¼š class PrettyMenu{ private: Mutex mutex_; //äº’æ–¥å™¨ Image* bgImage_ = nullptr; int imageChangeCnt_ = 0; public: void PrettyMenu::changeBackground(std::ifstream\u0026 imgSrc){ lock(\u0026mutex_);// è¿™ä¸ªå¯ä»¥æ”¹ä¸ºRAIIçš„é”ï¼Œæ¥ä¿è¯å¼‚å¸¸å®‰å…¨ delete bgImage_; ++imageChangeCnt_; //è¿™é‡Œnew ImageæŠ›å¼‚å¸¸ï¼Œå¯¼è‡´æ— æ³•è§£é”ï¼›ä¸”bgImage_æŒ‡å‘èµ„æºå·²ç»é‡Šæ”¾ï¼Œç©ºæ‚¬æŒ‡é’ˆ bgImage_ = new Image(imageSrc_); unlock(\u0026mutex_); } }; å¼‚å¸¸å®‰å…¨çš„3ä¸ªç­‰çº§ å¼‚å¸¸å®‰å…¨çš„å‡½æ•°ï¼Œæœ‰3ä¸ªç­‰çº§çš„å¼‚å¸¸å®‰å…¨ä¿è¯ï¼Œä¼šæ»¡è¶³ä¸‰è€…ä¹‹ä¸€ï¼š åŸºæœ¬æ‰¿è¯º å¦‚æœå¼‚å¸¸è¢«æŠ›å‡ºï¼Œç¨‹åºå†…çš„ä»»ä½•äº‹åŠ¡ä»ç„¶ä¿æŒåœ¨æœ‰æ•ˆçŠ¶æ€ä¸‹ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•æ•°æ®è´¥åã€‚æ¯”å¦‚ä¸Šä¾‹ä¸­å¦‚æœæŠ›å¼‚å¸¸ï¼Œä¼šå¦å¤–æ·»åŠ å®ç°ï¼Œä½¿bgImage_æŒæœ‰æŸä¸ªé»˜è®¤å›¾åƒï¼Œæˆ–ä¿æŒåŸå€¼ï¼Œè®©ç¨‹åºç»§ç»­æœ‰æ•ˆè¿è¡Œã€‚ å¼ºçƒˆä¿è¯ å¦‚æœå¼‚å¸¸è¢«æŠ›å‡ºï¼Œç¨‹åºçŠ¶æ€ä¸æ”¹å˜ã€‚è¿™æ ·çš„å‡½æ•°è¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆé€€å›åˆ°æ‰§è¡Œå‰çš„çŠ¶æ€ã€‚ ä¸Šè¿°æ¡ˆä¾‹åˆ™åº”è¯¥ä¼šè¢«ä¿®æ”¹æˆå¦‚ä¸‹å½¢å¼ï¼š class PrettyMenu{ private: std::shared_ptr\u003cImage\u003e bgImage_; //RAIIé¿å…äº†å¼‚å¸¸å‘ç”Ÿæ—¶çš„èµ„æºæ³„æ¼å’Œæ•°æ®è´¥å //... çœç•¥å…¶ä»–æˆå‘˜ public: void PrettyMenu::changeBackground(std::ifstream\u0026 imgSrc){ CLock ml(\u0026mutex_);//RAIIå°è£…çš„Lockç±»ï¼Œè¯¦ç»†å¯å‚è€ƒ é˜…è¯»æ€»ç»“(äºŒ)-Rule14 bgImage_.reset(new Image(imgSrc));//è‹¥newå¤±è´¥ï¼Œåˆ™ä¸ä¼šreset ++imageChangeCnt_;//æŠŠäº‹æƒ…åšå®Œå†++count } }; ä¸æŠ›å¼‚å¸¸ åœ¨åŸä¹¦ä¸­ï¼Œè¿™ä¸ªâ€œNo Throwâ€ä¸æ˜¯ç»å¯¹ä¸æŠ›å¼‚å¸¸ï¼Œè€Œæ˜¯ä¸€æ—¦æ„å¤–æŠ›å¼‚å¸¸ï¼Œå°±ä¼šè°ƒç”¨unexpectedå‡½æ•°è¿›è€Œabortï¼ˆä¾‹å¦‚int doSomething() throw();//ç©ºç™½çš„å¼‚å¸¸æ˜ç»†ï¼‰ã€‚ By the way åŸä¹¦ä¸­ä¾‹å­çš„ throw() åœ¨ä¸åŒç¼–è¯‘å™¨è¡¨ç°ä¸ä¸€è‡´ï¼Œç°åœ¨å·²ç» ä¸æ¨èä½¿ç”¨ã€‚ æ›´è¯¦ç»†èµ„æ–™å¯å‚è€ƒA Pragmatic Look at Exception Specificationså’ŒShould I use an exception specifier in C++ åœ¨C++11ä¸­ï¼Œæœ‰äº†æ›´å¯é æœ‰æ•ˆçš„å…³é”®å­—noexceptï¼Œä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œæœ‰æ“ä½œç¬¦å’Œå¼‚å¸¸æç¤ºç¬¦ä¸¤ç§ä½œç”¨ï¼Œä¸‹æ–¹å±•ç¤ºç®€å•ç”¨æ³•ï¼š void f() noexcept; // å‡½æ•° f() ä¸ä¼šæŠ›å‡º void (*fp)() noexcept(false); // fp æŒ‡å‘å¯èƒ½ä¼šæŠ›å‡ºçš„å‡½æ•° void g(void pfa() noexcept); // g æ¥æ”¶æŒ‡å‘ä¸ä¼šæŠ›å‡ºçš„å‡½æ•°çš„æŒ‡é’ˆ // typedef int (*pf)() noexcept; // é”™è¯¯ æ›´è¯¦ç»†çš„noexceptä»‹ç»å¯ä»¥è®¿é—®cppreferenceï¼šnoexceptæ“ä½œç¬¦å’Œcppreferenceï¼šnoexceptå¼‚å¸¸è¯´æ˜ç¬¦ ä½¿ç”¨copy-and-swapä¿éšœå¼‚å¸¸å®‰å…¨ copy-and-swapæŠ€æœ¯ï¼šå…ˆæ‹·è´ä¸€ä»½æƒ³ä¿®æ”¹çš„å¯¹è±¡ï¼Œç­‰ä¿®æ”¹å½»åº•å®Œæˆåï¼ˆè¿‡ç¨‹ä¸­ä¸æŠ›å¼‚å¸¸ï¼‰ï¼Œå†ä¸åŸå¯¹è±¡äº¤æ¢ã€‚ ä¸ºäº†æ›´å½¢è±¡å±•ç¤ºè¿™ä¸€è¿‡ç¨‹ï¼Œä½¿ç”¨pImlæ‰‹æ³•å¯¹bgImage_å°è£…ä¸€ä¸‹ï¼š struct ImgPimpl{ //é€‰ç”¨structè€ŒéClassï¼šæ–¹ä¾¿ï¼›æœ€åè¢«privateæˆå‘˜å½¢å¼ä½¿ç”¨ï¼Œå°è£…æ€§ä¸ç”¨æ‹…å¿ƒ std::shared_ptr\u003cImage\u003e bgImage_; int imageChangeCnt_ = 0; }; é‚£ä¹ˆPrettyMenuç±»å¯ä»¥æ”¹ä¸ºå¦‚ä¸‹ï¼š class PrettyMenu{ private: Mutex mutex_; std::shared_ptr\u003cImgPimpl\u003e pImpl_; public: //æ„é€ ç•¥ void PrettyMenu::changeBackground(std::ifstream\u0026 imgSrc){ using std::swap; //å‚è€ƒ é˜…è¯»æ€»ç»“(äºŒ)-Rule25 CLock ml(\u0026mutex_);//RAIIå°è£…çš„Lockç±»ï¼Œè¯¦ç»†å¯å‚è€ƒæ€»ç»“(äºŒ)-Rule14 std::shared_ptr\u003cImgPimpl\u003e pNewCopy(new ImgPimpl(*pImpl_)); pNewCopy-\u003ebgImage_.reset(new Image(imgSrc)); //ä¿®æ”¹å‰¯æœ¬ ++pNewCopy-\u003eimageChangeCnt_; swap(pImpl_,pNewCopy);//æ”¹å®Œä¹‹åswap } }; å¼‚å¸¸å®‰å…¨çš„è¿å¸¦å½±å“(side effects) å‡½æ•°æä¾›çš„â€œå¼‚å¸¸å®‰å…¨ä¿è¯ç­‰çº§â€åªå–å†³äºå…¶è°ƒç”¨çš„å„ä¸ªå­å‡½æ•°çš„â€œæœ€ä¸å®‰å…¨è€…â€ã€‚ è€ƒè™‘ä»¥ä¸‹å‡½æ•°SomeFuncä»£ç ï¼š void SomeFunc{ ... // å¯¹localçŠ¶æ€åšä¸€ä»½å‰¯æœ¬ f1(); f2(); ... //å°†ä¿®æ”¹åçš„çŠ¶æ€ç½®æ¢è¿‡æ¥ } åˆ†æï¼šæ˜¾ç„¶copy-and-swapåœ¨å°½åŠ›å¼ºçƒˆä¿è¯å¼‚å¸¸å®‰å…¨ï¼Œä½†æ˜¯ï¼Œf1æˆ–è€…f2çš„å¼‚å¸¸å®‰å…¨å¦‚æœæ¯”è¾ƒä½ï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦å•ç‹¬å¯¹f1ï¼Œf2è¿›è¡Œcopy-and-swapï¼Œæ¥å°è¯•ä¿è¯â€œå¼ºçƒˆå¼‚å¸¸å®‰å…¨â€ï¼›å³ä½¿å¦‚æ­¤ï¼Œå¦‚æœf1èƒ½æˆåŠŸåšäº†ä¿®æ”¹ï¼Œä½†æ˜¯f2ä¿®æ”¹å¤±è´¥äº†å¹¶å›é€€ï¼Œé‚£ä¹ˆf1ã€f2æ•´ä½“çœ‹èµ·æ¥è¿˜æ˜¯â€œæ”¹äº†ä¸€éƒ¨åˆ†â€ã€‚ è¿™ä¹Ÿå‘Šè¯«æˆ‘ä»¬ï¼Œå¦‚æœå¼•å…¥äº†å¼‚å¸¸ä¸å®‰å…¨çš„æ—§ä»£ç ï¼Œé‚£ä¹ˆè¿™ç§ç‰¹æ€§ä¼šæ³¢åŠå…¶ä»–ä»£ç ã€‚ å°±è®¾è®¡è€…è€Œè¨€ï¼Œåªèƒ½æ ¹æ®å®é™…æƒ…å†µï¼Œå°½å¯èƒ½ä¿è¯â€œå¼‚å¸¸å®‰å…¨â€ï¼Œé€‰æ‹©3ä¸ªå¼‚å¸¸å®‰å…¨ç­‰çº§ä¹‹ä¸€å®æ–½ã€‚ ","date":"2023-07-31","objectID":"/posts/partthree/:1:4","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"R30 é€å½»äº†è§£inlineçš„é‡Œé‡Œå¤–å¤– inlineæ˜¯C++çš„å…³é”®å­—ï¼Œè¡¨ç¤ºå†…è”å‡½æ•°ã€‚ç›´æ¥åœ¨å¯¹åº”ä½ç½®å±•å¼€ä»£ç ï¼Œå…å»å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œéš¾ä»¥é¿å… â€œä»£ç è†¨èƒ€â€é—®é¢˜ã€‚ ä½¿ç”¨inlineæ—¶åº”è¯¥æ³¨æ„ä»¥ä¸‹é—®é¢˜ï¼š inlineåªæ˜¯å¯¹ç¼–è¯‘å™¨çš„ç”³è¯· inlineåªæ˜¯å¯¹ç¼–è¯‘å™¨çš„ç”³è¯·/å»ºè®®ï¼Œä¸æ˜¯å¼ºåˆ¶å‘½ä»¤ï¼Œç¼–è¯‘å™¨æœ‰æƒåˆ© å¯¹å…¶è®¤ä¸ºä¸é€‚åˆinlineçš„å‡½æ•°æ‹’ç»inlineã€‚ ï¼ˆåŸä¹¦è¯´ï¼šå¦‚æœç¼–è¯‘å™¨æ‹’ç»ï¼Œé€šå¸¸å®ƒä¼šç»™å‡ºwarningä¿¡æ¯ã€‚å®é™…æœ¬äººå®æµ‹VS2017æ²¡çœ‹åˆ°ï¼‰ inlineæœ‰2ç§ç”³è¯·æ–¹å¼ ï¼š åœ¨å‡½æ•°å®šä¹‰ æ—¶ä½¿ç”¨å…³é”®å­—inlineæ˜¾å¼å¼ºè°ƒ å®ç°åœ¨Classå†…çš„æˆå‘˜å‡½æ•°æˆ–friendå‡½æ•°ï¼Œå±äºéšå¼inline inlineå’ŒTemplateæ²¡æœ‰ä»»ä½•å¿…ç„¶è”ç³» è™½ç„¶æœ‰ä¸å°‘ç®€çŸ­çš„Templateå‡½æ•°æ˜¯å¸¦æœ‰inlineï¼ˆä¾‹å¦‚ä¸‹æ–¹çš„std::maxï¼‰ï¼Œä½†ä¸æ˜¯å¿…ç„¶ä¸ºä¹‹ï¼Œä¸¤è€…æ²¡æœ‰å› æœå…³ç³»ã€‚ template\u003ctypename T\u003e inline const T\u0026 std::max(const T\u0026 a, const T\u0026 b){ //å¯ä»¥ç”³è¯·inlineï¼Œä½†ä¸æ˜¯å¿…é¡»ç”³è¯· return a \u003c b ? b : a; } ç¼–è¯‘å™¨æ‹’ç»å¤æ‚å‡½æ•°è¿›è¡Œinline å¤æ‚å‡½æ•°çš„inlineä¼šå¸¦æ¥è¾ƒä¸¥é‡çš„â€œä»£ç è†¨èƒ€â€é—®é¢˜ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæ›´æ…¢ï¼Œå› ä¸ºå¢åŠ äº†è¿è¡Œæ—¶çš„â€œé¢å¤–æ¢é¡µâ€è¡Œä¸ºï¼Œé™ä½äº†æŒ‡ä»¤cacheå‘½ä¸­ç‡ã€‚ inlineå‡½æ•°å†…ä¸è¦å‡ºç°å¾ªç¯æˆ–é€’å½’ è™šå‡½æ•°ä¹Ÿä¸é€‚åˆåšinline å› ä¸ºinlineæ˜¯ç¼–è¯‘æœŸé—´å†³å®šçš„äº‹ï¼Œè€Œè™šå‡½æ•°æ˜¯è¿è¡Œæ—¶å†³å®šçš„äº‹ï¼Œä¸¤è€…å°±ä¸æ˜¯åŒä¸€ä¸ªåœºæ™¯çš„ã€‚ æ„é€ /ææ„å‡½æ•°ä¹Ÿä¸é€‚åˆåšinline ç¼–è¯‘å™¨å¯èƒ½ä¼šåœ¨æ„é€ /ææ„å‡½æ•°å†…éƒ¨åšç²¾å¦™å¤æ‚çš„å¼‚å¸¸å¤„ç†ï¼›ä»¥åŠåœ¨ç»§æ‰¿ä½“ç³»ä¸‹ï¼ŒBaseç±»å‡½æ•°ä½“åˆ°å¤„inlineè†¨èƒ€ã€‚ ä»¥å‡½æ•°æŒ‡é’ˆå½¢å¼çš„è°ƒç”¨é€šå¸¸ä¸èƒ½inline å¯¹ç»å¤§å¤šæ•°ç¼–è¯‘å™¨è€Œè¨€ï¼Œæ˜¯å¦inlineæ˜¯compileé˜¶æ®µå†³å®šçš„äº‹æƒ…ï¼Œå°‘æ•°ç¼–è¯‘å™¨æ”¾åˆ°äº†linké˜¶æ®µã€‚ è®¨è®ºå¤§å¤šæ•°æƒ…å†µï¼šéœ€è¦åœ¨ç¼–è¯‘æ—¶å¾—çŸ¥inlineçš„æœ¬ä½“ï¼Œè€Œå‡½æ•°æŒ‡é’ˆåŠä¸åˆ°ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š inline void f() {...} //å‡è®¾ç¼–è¯‘å™¨æœ‰æ„æ„¿inline â€œå¯¹fçš„è°ƒç”¨â€ void (* pf)() = f;//pf æ‰§è¡Œf ... f(); //è¿™ä¸ªè°ƒç”¨å°†è¢«inlinedï¼Œå› ä¸ºæ˜¯ä¸ªæ­£å¸¸è°ƒç”¨ pf(); //è¿™ä¸ªå¾ˆå¯èƒ½ä¸è¢«inlined è¿‡åº¦inlineå¯¹è°ƒè¯•å’Œå‘å¸ƒå¸¦æ¥å›°éš¾ inlineæ˜¯ä»£ç åµŒå…¥ä¸å±•å¼€ï¼Œè€Œéå‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥æŸäº›ç¼–è¯‘å™¨ä¸æ”¯æŒinlineçš„å•æ­¥Debugï¼ˆå°±åƒå®å±•å¼€ä¸€æ ·ä¸æ”¯æŒè°ƒè¯•ï¼‰ï¼›å¦å¤–ï¼Œinlineåªè¦å·²ä¿®æ”¹ï¼Œæ¶‰åŠè°ƒç”¨å®ƒçš„ä»£ç å…¨éƒ½è¦ç¼–è¯‘ï¼Œå¦‚æœæ˜¯non-inlineåˆ™å¯èƒ½åªéœ€è¦é‡æ–°linkå³å¯ã€‚ ","date":"2023-07-31","objectID":"/posts/partthree/:1:5","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"R31 å°†æ–‡ä»¶é—´çš„ç¼–è¯‘ä¾èµ–å…³ç³»é™è‡³æœ€ä½ C++çš„Classå®šä¹‰å¼åŒ…æ‹¬äº†æˆå‘˜å˜é‡ï¼Œå‡è®¾æŸæˆå‘˜å˜é‡æ˜¯ç±»å¯¹è±¡ClassObjA aï¼Œå¦‚æœClassObjAç±»çš„å†…éƒ¨å®ç°å‘ç”Ÿäº†æ”¹å˜ï¼ˆå“ªæ€•è¿™ä¸ªClassObjA.hå†…åªåœ¨æŸå¤„åŠ äº†ä¸€ä¸ªç©ºæ ¼ ï¼‰ï¼Œé‚£ä¹ˆincludeäº†ClassObjA.hçš„æ‰€æœ‰.hæ–‡ä»¶.cppæ–‡ä»¶éƒ½ä¼šé‡æ–°ç¼–è¯‘ã€‚ ğŸ‘†è¿™å°±æ˜¯ç”±â€œç¼–è¯‘ä¾èµ–â€å…³ç³»å¸¦æ¥çš„é—®é¢˜ã€‚ ä½¿ç”¨ PIMPL æ‰‹æ³•(pointer to implementation)å¯ä»¥å¾ˆå¥½åœ°åˆ†ç¦»å£°æ˜å’Œå®šä¹‰ï¼š //Person.hæ–‡ä»¶ ä¸éœ€è¦include \"PersonImpl.h\"å’Œ\"BirthDay.h\" class PersonImpl; class BirthDay;// å‰ç½®å£°æ˜ä»£æ›¿include class Person { public:// æ„é€ å‡½æ•°è¿™é‡Œæ”¾å®ç°æ— æ‰€è°“ï¼Œå› ä¸ºæ˜¯å‡½æ•°æŒ‡é’ˆï¼Œä¸éœ€çŸ¥é“PersonImplæœ¬ä½“å®ç° Person(const std::shared_ptr\u003cPersonImpl\u003e\u0026 pImpl);//æ„é€ å‡½æ•°çš„å®ç°ä¹Ÿæ”¾åˆ°cppé‡Œå» const BirthDay\u0026 GetBirthDay();// æ³¨æ„ï¼šè¿™é‡Œåªå£°æ˜ï¼ŒæŠŠå®ç°éƒ¨åˆ†æ”¾åˆ°cppé‡Œ std::string GetName();//å®ç°ç»†èŠ‚ç”±pImpl_è½¬å‘å®ç° private: std::shared_ptr\u003cPersonImpl\u003e pImpl_; }; //Person.cppæ–‡ä»¶ #include \"PersonImpl.h\" //åœ¨\"PersonImpl.h\"æ–‡ä»¶å†…includeé‚£ä¸ª\"BirthDay.h\" #include \"Person.h\" æ³¨æ„ï¼šImplç”¨æ³•ï¼Œç›¸å…³çš„å¤´æ–‡ä»¶é‡Œä¸è¦æ”¾ç½®ä»»ä½•å‡½æ•°å®ç°ä»£ç  ã€‚ ä¸Šè¿°åšæ³•å¯ä»¥è®©ä½¿ç”¨Personç±»çš„å®¢æˆ·ä¸éœ€è¦å†å…³å¿ƒPersonImplä»¥åŠBirthDayçš„å®ç°ç»†èŠ‚äº†ï¼Œåšåˆ°äº†â€œæ¥å£ä¸å®ç°åˆ†ç¦»â€ï¼Œå…³é”®ç‚¹åœ¨äºæŠŠâ€œå®šä¹‰çš„ä¾èµ–æ€§â€ æ¢æˆ $\\Rightarrow$ â€œå£°æ˜çš„ä¾èµ–æ€§â€ã€‚ è¿™é‡Œçªå‡ºäº†å¦‚ä½•æœ€å°åŒ–ç¼–è¯‘ä¾èµ–æ€§çš„æœ¬è´¨ï¼šè®©å¤´æ–‡ä»¶å°½å¯èƒ½è‡ªæˆ‘æ»¡è¶³ï¼Œå¦‚æœä¸è¡Œï¼Œä¹Ÿè¦ä¾èµ–äºå…¶ä»–æ–‡ä»¶çš„å£°æ˜å¼è€Œéå®šä¹‰å¼ã€‚ å…·ä½“åˆ°è®¾è®¡ç­–ç•¥ä¸Šï¼Œæœ‰ä»¥ä¸‹å‡ ç§åšæ³•ï¼š å¦‚æœèƒ½ç”¨object references æˆ– object pointerså®Œæˆä»»åŠ¡ï¼Œå°±åˆ«ç”¨objects å¦‚æœè¦å®šä¹‰æŸç±»å‹çš„objectsï¼Œå°±è¦ä½¿ç”¨å®šä¹‰å¼ï¼ŒæŒ‡é’ˆå’Œåº”ç”¨åˆ™å¯ä»¥åªç”¨å£°æ˜å¼ã€‚ å°½é‡ä»¥classå£°æ˜å¼æ›¿æ¢classå®šä¹‰å¼ å‡½æ•°å£°æ˜ç§çš„Classç±»å‹å¯ä»¥åªç”¨å£°æ˜å¼ï¼Œå³ä½¿ä»¥by-object-valueå½¢å¼ä¼ å€¼ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä¸ºå£°æ˜å¼å’Œå®šä¹‰å¼æä¾›ä¸åŒçš„æ–‡ä»¶ æ¯”å¦‚Dateç±»ï¼Œåˆ†ä¸ºåªåŒ…å«å£°æ˜å¼çš„\"Datefwd.h\"å’ŒåŒ…å«å®šä¹‰å¼çš„\"Date.h\"ï¼Œé‚£ä¹ˆä½¿ç”¨æ—¶ç”¨å£°æ˜å¼å¤´æ–‡ä»¶ä»£æ›¿å‰ç½®å£°æ˜ï¼Œåœ¨éœ€è¦åº”ç”¨ä»£ç client.cppé‡Œincludeå®šä¹‰å¼å¤´æ–‡ä»¶ã€‚è¿™ç§æ–¹å¼åœ¨æ ‡å‡†åº“é‡Œé‡‡ç”¨è¾ƒå¤šï¼Œå‚è€ƒå’Œ,,ç­‰ã€‚ By the way C/C++å¯ä»¥ä½¿ç”¨ç¼–è¯‘å™¨é¢„å¤„ç†æŒ‡ä»¤#pragma messageï¼Œæ‰“å°å‡ºè¯¥æ–‡ä»¶æ˜¯å¦å‚ä¸æ­¤æ¬¡ç¼–è¯‘ï¼Œä»¥åŠå‚ä¸ç¼–è¯‘æ—¶è¢«å“ªä¸ªæ–‡ä»¶æ‰€ä¾èµ–ã€‚ //æ¯”å¦‚å¯ä»¥åœ¨ testEffective.h æ–‡ä»¶å†…åŠ ä¸Šè¿™å¥ï¼Œå°±èƒ½åœ¨ç¼–è¯‘è¾“å‡ºä¿¡æ¯é‡Œçœ‹åˆ°æ‰“å°ä¿¡æ¯ï¼Œè§‚å¯Ÿåˆ°ä¾èµ–å…³ç³» #pragma message(\"testEffective.h å‚ä¸é‡æ–°ç¼–è¯‘\") //è¿˜å¯ä»¥ç”¨äºæµ‹è¯•æŸäº›å®æ˜¯å¦çœŸçš„ç”Ÿæ•ˆï¼Œæœ‰æ—¶IDEçš„é«˜äº®æ˜¾ç¤ºä¸å‡†ç¡®è€Œä»¤äººç”Ÿç–‘ã€‚ å…³äºå¤´æ–‡ä»¶includeçš„å…¶ä»–ç¼–å†™è§„èŒƒï¼Œå¯ä»¥å‚è€ƒï¼šGoogle-C++é£æ ¼æŒ‡å—ï¼š1.å¤´æ–‡ä»¶ ä½¿ç”¨ Interface Class ä¹Ÿèƒ½åšåˆ°æ¥å£å’Œå®ç°çš„çœŸæ­£åˆ†ç¦»ï¼š è¿™ç§æ–¹å¼å¸¸è§äºè¾“å‡ºåŠ¨æ€åº“ç»™åˆ°å®¢æˆ·ä½¿ç”¨ï¼Œå®¢æˆ·èƒ½è§åˆ°æ¥å£å®šä¹‰å’Œä½¿ç”¨ï¼Œä½†æ— æ³•çœ‹åˆ°å†…éƒ¨å®ç°ã€‚ ç”¨æ³•è¾ƒä¸ºå¸¸è§ï¼Œä¸èµ˜è¿°ï¼Œç›´æ¥show-codeï¼š //VirtualPerson.h //å’Œ libæ–‡ä»¶ä¸€èµ·æä¾›ç»™åˆ°å®¢æˆ· class VirtualPerson { public: //createçš„è¿”å›å€¼è¿˜å¯ä»¥æ ¹æ®éœ€æ±‚ï¼Œæ¢æˆRAIIçš„æ™ºèƒ½æŒ‡é’ˆ static VirtualPerson * create(int level, int salary); virtual int Level() = 0; virtual int Salary() = 0; virtual ~VirtualPerson();// avoid memory leak }; //VirtualPerson.cpp //æºç ä¸æä¾›ç»™å®¢æˆ·ï¼Œè€Œæ˜¯ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶ libæ–‡ä»¶ VirtualPerson* VirtualPerson::create(int level, int salary) { if (level == 3) { //å·¥å‚æ–¹æ³•ï¼Œè¿˜å¯ä»¥ç”Ÿæˆå…¶ä»–å­ç±» return new Engineer(level, salary); } return nullptr; } VirtualPerson::~VirtualPerson() { } // Engineer.h //Engineerä¹Ÿæ˜¯å‚ä¸ç¼–è¯‘åˆ° libæ–‡ä»¶ä¸­ class Engineer: public VirtualPerson { public: Engineer(int level,int salary); virtual int Level() ; virtual int Salary() ; private: int level_ = 3; int salary_ = 0; }; ","date":"2023-07-31","objectID":"/posts/partthree/:1:6","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"CH6. ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡ ","date":"2023-07-31","objectID":"/posts/partthree/:2:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":"R32 ç¡®å®šä½ çš„publicç»§æ‰¿å¡‘é€ å‡ºis-aå…³ç³» ref: [1]. https://blog.csdn.net/cltcj/category_12098441.html [2]. https://kissingfire123.github.io/2022/02/14_effective-c-%E4%B9%8B%E9%98%85%E8%AF%BB%E6%80%BB%E7%BB%93%E4%B8%89/ ","date":"2023-07-31","objectID":"/posts/partthree/:2:1","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [3]","uri":"/posts/partthree/"},{"categories":["C++"],"content":" å‰è¨€ Effective-C++æ€»ç»“ç³»åˆ—åˆ†ä¸ºå››éƒ¨åˆ†ï¼Œæœ¬æ–‡ä¸ºç¬¬äºŒéƒ¨åˆ†ï¼Œæ¶‰åŠåŸä¹¦ç¬¬3~4ç« ï¼Œå†…å®¹èŒƒå›´Rule13~25ã€‚ä¸ºæ–¹ä¾¿ä¹¦å†™ï¼ŒRule13ç®€å†™ä¸ºR13ã€‚ Effective-C++ç³»åˆ—List æœ¬åšå®¢ç«™ç‚¹ç³»åˆ—å†…å®¹å¦‚ä¸‹ï¼š ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(ä¸€) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(äºŒ) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(ä¸‰) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(å››) ç”±äºåŸä¹¦åœ¨C++11ä¹‹å‰å†™æˆï¼Œæœ‰äº›ç°ä»£C++ç‰¹æ€§ä¸ä¼šæåŠï¼Œæ‰€ä»¥ä¼šæ ¹æ®æœ¬äººå¼€å‘ç»éªŒæ–°å¢ä¸€äº›ä¸ªäººæ„Ÿæ‚ŸğŸ‘‰By the wayç¯èŠ‚ã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:0:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"CH3.èµ„æºç®¡ç† ","date":"2023-07-30","objectID":"/posts/parttwo/:1:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R13 ä»¥å¯¹è±¡ç®¡ç†èµ„æº ä¸ºé˜²æ­¢èµ„æºæ³„éœ²ï¼Œå°½é‡ä½¿ç”¨RAIIå¯¹è±¡(èµ„æºè·å–å³åˆå§‹åŒ–ï¼ŒResource Acquisition Is Initialization) å¦‚æœç”¨è€å¼çš„new-deleteç»„åˆæ‰‹åŠ¨ç®¡ç†èµ„æºï¼Œå¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼Œå¤„ç†ä»£ç ä¸­æœ‰å¤šå¤„return/breakä¹‹ç±»çš„åˆ†æ”¯è¯­å¥ï¼Œæ¯å¤„éƒ½æ‰‹åŠ¨æ·»åŠ deleteå›æ”¶èµ„æºéš¾å…ä¼šæœ‰é—æ¼é£é™©ã€‚ auto_ptr æœ¬ä¹¦æåŠçš„æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡std::auto_ptrå¯ä»¥åœ¨èµ„æºAåˆå§‹åŒ–åŒ–æ—¶æ¥ç®¡å¯¹è±¡Aï¼Œå¯¹è±¡è„±ç¦»ä½œç”¨åŸŸï¼Œææ„æ—¶é‡Šæ”¾æ¥ç®¡çš„Aã€‚ ä¸ºé¿å…é‡å¤åˆ é™¤èµ„æºï¼Œstd::auto_ptrç‰¹æ€§: é€šè¿‡copyæ„é€ å‡½æ•°æˆ–copy-assignmentæ“ä½œç¬¦ï¼Œæ“ä½œå®ƒä»¬ï¼Œå®ƒä»¬è‡ªèº«ä¼šå¤±å»èµ„æºæ‰€æœ‰æƒï¼Œå˜æˆNULL ï¼ shared_ptr ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œåæ¥æ¨å‡ºäº†å¼•ç”¨è®¡æ•°ç®¡ç†èµ„æºï¼Œå³RCSP(Reference-counting smart poiner)ï¼Œstd::shared_ptr ã€‚(ä¹¦ä¸­å½“æ—¶è¿˜æ˜¯tr1::shared_ptr)ç‰¹ç‚¹æ˜¯shared_ptråœ¨ä½¿ç”¨copyæ„é€ å‡½æ•°æˆ–copy-assignmentæ“ä½œç¬¦æ—¶ï¼Œä¸ä¼šå¤±å»èµ„æºæ‰€æœ‰æƒï¼Œè€Œæ˜¯è‡ªèº«å¼•ç”¨è®¡æ•°åŠ 1ã€‚ Note auto_ptrç›®å‰å·²ç»è¢«å¼ƒç”¨ï¼Œè½¬è€Œä½¿ç”¨ std::unique_ptræ¥æŒ‡æ¶‰ç‹¬å èµ„æºçš„æ™ºèƒ½æŒ‡é’ˆï¼Œä¸å¯è¢«å¤åˆ¶å’Œèµ‹å€¼ã€‚ shared_ptrå­˜åœ¨çš„é—®é¢˜æ˜¯ç¯å½¢å¾ªç¯åº”ç”¨ï¼Œäº’ç›¸æŒæœ‰å¯¹æ–¹ï¼Œåˆ™æ— æ³•é‡Šæ”¾ï¼Œé’ˆå¯¹è¿™ä¸€é—®é¢˜ï¼Œéœ€è¦å¼•å…¥std::weak_ptræ¥ç ´å±€ã€‚ è¿™äº›æ™ºèƒ½æŒ‡é’ˆçš„å¤´æ–‡ä»¶æ”¯æŒï¼š#include å¸¸ç”¨çš„RAIIæ–¹å¼å­˜åœ¨çš„é—®é¢˜ ä¸Šè¿°çš„shared_ptræ˜¯ä¸æ”¯æŒæ•°ç»„èµ„æºçš„é‡Šæ”¾çš„ï¼Œåœ¨ææ„æ—¶é»˜è®¤è°ƒç”¨deleteï¼Œè€Œä¸æ˜¯delete[] ã€‚å¦‚æœè¦èƒ½é‡Šæ”¾ï¼Œéœ€è¦æ‰‹åŠ¨ä¼ å…¥ææ„å‡½æ•°ã€‚ std::shared_ptr\u003cInvestment\u003e instSpMan(new Investment[5], [](Investment* p) {delete[] p; }); // ä½¿ç”¨lamdaå‡½æ•°ï¼Œè¿˜å¯ä»¥ä¼ å…¥æ™®é€šå‡½æ•°æŒ‡é’ˆ std::shared_ptr\u003cInvestment[]\u003e instSp(new Investment[5]);// shared_ptré‡è½½äº†[] std::unique_ptr\u003cint[]\u003e intUp(new int[5]); // unique_ptré‡è½½äº†[] PS: é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœèƒ½ç”¨vectorä»£æ›¿çš„åœºæ™¯ï¼Œå°±ä¸éœ€è¦è¿™æ ·ä½¿ç”¨å¯¹è±¡æ•°ç»„ã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:1:1","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R14 åœ¨èµ„æºç®¡ç†ç±»ä¸­å°å¿ƒcopingè¡Œä¸º å¹¶éæ‰€æœ‰èµ„æºéƒ½æ˜¯å †ä¸Šç®¡ç†(heap-based)ï¼Œæ‰€ä»¥ä¹Ÿæœ‰æ™ºèƒ½æŒ‡é’ˆä¸é€‚åˆçš„åœºæ™¯ï¼Œè¿™æ—¶éœ€è¦è‡ªå·±å®ç°ä¸€ä¸ªèµ„æºç®¡ç†ç±»ã€‚ æ¯”å¦‚æœ‰ä¸ªç±»CMutex ï¼Œåªæœ‰2ä¸ªå‡½æ•°lockå’Œunlockï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªç®¡ç†ç±»CLockï¼Œæ¥ç®¡ç†Mutexç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š class CMutex {/*çœç•¥ç±»å®ç°*/}; void lock(CMutex *mtx) { std::cout \u003c\u003c \"has lock...\\n\";/*other operation...*/ } void unlock(CMutex *mtx) { std::cout \u003c\u003c \"release lock...\\n\";/*other operation...*/ } class CLock { public: explicit CLock(CMutex *mtx) :mtx_(mtx) { lock(mtx_); } ~CLock() { unlock(mtx_); } private: CMutex *mtx_; }; å¦‚æœæ¶‰åŠCLockçš„copingç›¸å…³å‡½æ•°ï¼Œé‚£ä¹ˆæœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š ç¦æ­¢å¤åˆ¶ å‚è€ƒæœ¬ä¹¦Part1-Rule06ï¼Œç¦æ­¢copingå‡½æ•°çš„ç”Ÿæˆã€‚ å¯¹åº•å±‚èµ„æºä½¿ç”¨â€œå¼•ç”¨è®¡æ•°æ³•â€ ä»¥shared_pträ»£æ›¿è£¸æŒ‡é’ˆï¼Œå¹¶ä¸”ä¼ å…¥unlockå‡½æ•°ä½œä¸ºè¯¥æŒ‡é’ˆçš„â€œåˆ é™¤å™¨â€ã€‚ å¤åˆ¶åº•éƒ¨èµ„æº å³â€œæ·±åº¦æ‹·è´â€ï¼Œå¤åˆ¶èµ„æºç®¡ç†å¯¹è±¡æ—¶ï¼ŒåŒæ—¶å¤åˆ¶å…¶åŒ…è£¹çš„èµ„æºã€‚ è½¬ç§»åº•éƒ¨èµ„æºæ‰€æœ‰æƒ å³æµ…å¤åˆ¶ï¼Œä¸æ‹·è´åŒ…è£¹çš„èµ„æºï¼Œè€Œæ˜¯è½¬ç§»æ‰€æœ‰æƒï¼Œå’Œå‰æ–‡æåˆ°çš„auto_ptréå¸¸å¥‘åˆã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:1:2","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R15 åœ¨èµ„æºç®¡ç†ç±»ä¸­æä¾›å¯¹åŸå§‹èµ„æºçš„è®¿é—® æ™ºèƒ½æŒ‡é’ˆauto_ptr, unique_ptr, shared_ptréƒ½æä¾›äº†æ¥å£è®¿é—®åŸå§‹èµ„æºï¼Œæ–¹æ³•åç§°ä¸ºget()ï¼Œå¯¹ç±»Aèµ„æºå¾—åˆ°è£¸æŒ‡é’ˆA*ã€‚ æ™ºèƒ½æŒ‡é’ˆä¹Ÿé‡è½½äº†æ“ä½œç¬¦operator -\u003e å’Œ operator * ï¼Œè®¿é—®ç±»æˆå‘˜å‡½æ•°éƒ½å¯ä»¥åƒæ™®é€šæŒ‡é’ˆé‚£æ ·ä½¿ç”¨ã€‚ å¦‚æœè‡ªè¡Œè®¾è®¡èµ„æºç®¡ç†ç±»ï¼Œä¹Ÿè¦åƒä¸Šè¿°çš„æ™ºèƒ½æŒ‡é’ˆé‚£æ ·ï¼Œåšåˆ°èƒ½å¤Ÿè½»æ¾è®¿é—®åŸå§‹èµ„æºã€‚ æŸäº›æƒ…å†µï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨getæˆå‘˜å‡½æ•°æ˜¾å¼è½¬æ¢ï¼Œè½¬è€Œä½¿ç”¨éšå¼ç±»å‹è½¬æ¢ï¼Œæ–¹ä¾¿å®¢æˆ·è°ƒç”¨: class Font{ public: // éšå¼è½¬æ¢ operator FontHandle() const{ return f;} // æ˜¾å¼è½¬æ¢ FontHandle get() const { return f;} private: FontHandle f; } ","date":"2023-07-30","objectID":"/posts/parttwo/:1:3","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R16 æˆå¯¹ä½¿ç”¨newå’Œdeleteæ—¶è¦é‡‡å–ç›¸åŒå½¢å¼ å…ˆçœ‹ä¸€æ®µé”™è¯¯ä»£ç ï¼š std::string *stringArray = new std::string[100]; delete stringArray;// undefined behavior,æœªå®šä¹‰è¡Œä¸ºï¼›æœ‰å¯èƒ½åªåˆ é™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´  æ³¨æ„ new å’Œ deleteå¯¹åº” new[] å’Œ delete[]å¯¹åº” ä¸å¯é—æ¼æˆ–è€…äº¤å‰é”™é…ï¼ ç®€å•æ¢ç©¶ delete[]çš„åŸç†ï¼šå®é™…ä¸Šï¼Œåœ¨ç¼–è¯‘å™¨çš„å®ç°ä¸­ï¼Œå¯¹è±¡æ•°ç»„çš„èµ·å§‹å†…å­˜ä¼šå­˜æ”¾â€œæ•°ç»„é•¿åº¦â€è¿™ä¸€å˜é‡ï¼Œä»¥ä¾¿å‘ŠçŸ¥delete[]åº”è¯¥è°ƒç”¨å¤šå°‘æ¬¡ææ„ï¼Œåˆ é™¤å¤šå°‘èµ„æºã€‚ ğŸ‘‰ è°¨æ…å¯¹æ•°ç»„ä½¿ç”¨typedefï¼Œå®¹æ˜“äº§ç”Ÿnew-deleteçš„åŒ¹é…è¯¯è§£ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š typedef std::string AddressLines[4]; std::string *pal = new AddressLines;//æ³¨æ„ï¼šè¿™é‡Œå…¶å®å°±æ˜¯ new string[4] delete pal; // è¡Œä¸ºæœªå®šä¹‰ï¼ï¼ delete [] pal; // æ­£è§£ï¼ // è¿™é‡Œå»ºè®®çš„æ›¿ä»£æ–¹æ³•ï¼švector\u003cstring\u003e ","date":"2023-07-30","objectID":"/posts/parttwo/:1:4","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R17 ä»¥ç‹¬ç«‹è¯­å¥å°†newedå¯¹è±¡ç½®å…¥æ™ºèƒ½æŒ‡é’ˆ ä¸è¦å°†ç”³è¯·èµ„æºçš„newè¯­å¥ç›´æ¥å½“ä½œå‡½æ•°å…¥å‚ï¼Œè€Œæ˜¯åº”è¯¥å…ˆä»¥å•ç‹¬è¯­å¥ç”³è¯·åä¼ å…¥ã€‚ è€ƒè™‘ä¸‹è¿°é—®é¢˜ä»£ç ï¼š int priority(); void processWidget(std::shared_ptr\u003cWidget\u003e pw,int pri); //å‡½æ•°è°ƒç”¨ processWidget(std::shared_ptr\u003cWidget\u003e(new Widget),priority()); ä¸Šè¿°ä»£ç ç¬¬4è¡Œï¼Œåœ¨processWidgetå‡½æ•°ä½“æ‰§è¡Œä¹‹å‰ï¼Œè‡³å°‘æœ‰3ä¸ªæ­¥éª¤(å¹¶éä¸¥æ ¼æ¬¡åº)ï¼š æ‰§è¡Œ\"new Widget\" è°ƒç”¨std::shared_ptrçš„æ„é€ å‡½æ•° è°ƒç”¨priorityå‡½æ•° C++ç¼–è¯‘å™¨èƒ½ä¿è¯1-\u003e2çš„æ¬¡åº(2éœ€è¦1åšå…¥å‚)ï¼Œä½†æ˜¯æ— æ³•ä¿è¯3çš„æ¬¡åºä¸åœ¨1ï¼Œ2ä¹‹é—´ï¼Œå¦‚æœæ­¥éª¤3æŠ›å‡ºå¼‚å¸¸ï¼Œå°†ä¼šç›´æ¥å¯¼è‡´å†…å­˜æ³„æ¼ã€‚æ­£ç¡®ç¤ºä¾‹å¦‚ä¸‹ï¼š std::shared_ptr\u003cWidget\u003e pw(new Widget); processWidget(pw,priority()); ","date":"2023-07-30","objectID":"/posts/parttwo/:1:5","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"CH4.è®¾è®¡ä¸å£°æ˜ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R18 è®©æ¥å£å®¹æ˜“è¢«æ­£ç¡®ä½¿ç”¨ï¼Œä¸æ˜“è¢«è¯¯ç”¨ è¦æƒ³è®¾è®¡ä¸€ä¸ªä¸å®¹æ˜“è¯¯ç”¨çš„æ¥å£ï¼Œå°±è¦å…ˆè€ƒè™‘ä½¿ç”¨è€…å¯èƒ½çŠ¯ä»€ä¹ˆé”™è¯¯ã€‚ é¿å…â€œæ¥å£è¯¯ç”¨â€ï¼Œå¯ä»¥å¯¼å…¥æ–°ç±»å‹è¿›è¡Œé™åˆ¶ æ¯”å¦‚è®¾è®¡ä¸€ä¸ªDateç±»ï¼Œå‚æ•°ä¼ é€’å°±å¯èƒ½å‡ºé”™ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š class Date{ public: Date(int month,int day,int year); }; å®é™…ä½¿ç”¨æ—¶ï¼Œä½¿ç”¨è€…å¯èƒ½å†™å‡ºDate date(30,4,2021);è¿™æ ·çš„é”™è¯¯ä»£ç ï¼Œå¦‚ä½•é˜²èŒƒå‘¢ï¼Ÿ æ–¹æ³•ä¹‹ä¸€ï¼šå°è£…å‡ºMonth,Day,Yearè¿™3ä¸ªStruct/Classï¼Œä½œä¸ºå‚æ•°å…¥å‚ï¼Œå¹¶æ·»åŠ æœˆä»½é™åˆ¶ï¼Œä»£ç ï¼š class Month{ public: static Month Jan() { return Month(1);} // ...çœç•¥å…¶ä»–11ä¸ªæœˆä»½ private: int val; explicit Month(int m):val(m){} //å¯è¢«class-staticè°ƒç”¨ï¼Œä¸èƒ½è¢«å¤–éƒ¨è°ƒç”¨ }; struct Day {explicit Day(int d) :day(d){} int day; }; //çœç•¥ struct Yearå®šä¹‰ï¼Œå’ŒDayç±»ä¼¼ class Date{ public: Date(const Month\u0026 month,const Day\u0026 day,const Year\u0026 year){} }; æœ€ç»ˆå®¢æˆ·ä»£ç ä½¿ç”¨çš„æƒ…å†µå¦‚ä¸‹ï¼š Date date(Month::Jan(),Day(13),Year(2022)); By the way C++11 æ”¯æŒå¯¹æšä¸¾çš„å¼ºåŒ–ï¼Œå³ç±»å‹å®‰å…¨çš„`enum class`ï¼Œå®ƒä¸èƒ½éšå¼åœ°è½¬æ¢ä¸ºæ•´æ•°ï¼›ä¹Ÿæ— æ³•ä¸æ•´æ•°æ•°å€¼åšæ¯”è¾ƒã€‚æ­¤å¤„å¯ä»¥è€ƒè™‘å®šä¹‰ä¸€ä¸ªMonthEmæ¥ä»£æ›¿Monthï¼š ```c++ enum class MonthEm { Jan = 1, Feb = 2, //... çœç•¥å…¶å®ƒçš„æœˆä»½å®šä¹‰ }; // ä¿®æ”¹Dateçš„æ„é€ å‡½æ•°ï¼ŒMonthEmæ¥ä»£æ›¿Month Date(const MonthEm\u0026 monthEm, const Day\u0026 day, const Year\u0026 year) {} // æ„é€ å¯¹è±¡ Date date2(MonthEm::Feb, Day(23), Year(2021)); ``` é™åˆ¶ç±»å‹å†…ä»€ä¹ˆäº‹æ˜¯å¯ä¸å¯åšçš„ å¸¸è§æ“ä½œæ˜¯åŠ ä¸Šconsté™åˆ¶ï¼Œæ¯”å¦‚â€œä»¥const ä¿®é¥°operator * çš„è¿”å›ç±»å‹â€å¯ä»¥é˜»æ­¢è¿™ä¸ªé”™è¯¯ï¼š //æœ¬æ„æ˜¯æƒ³åšæ¯”è¾ƒï¼Œå†™æˆäº†èµ‹å€¼ï¼Œä½†æ˜¯èµ‹ç»™constï¼ŒæŠ¥é”™ï¼ if (a * b = c) æ™ºèƒ½æŒ‡é’ˆä¼ å…¥åˆ é™¤å™¨å¯é¿å…\"Cross-dll-problem\" std::shared_ptrç®¡ç†èµ„æºæ—¶ï¼Œä¼ å…¥åˆ é™¤å™¨ï¼Œå¯é¿å…åœ¨A-Dllä¸­newï¼Œç»“æœåœ¨å¦ä¸€ä¸ªB-Dllä¸­deleteçš„æƒ…å†µï¼Œè¿™ä¼šå¯¼è‡´Runtime-Errorã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:1","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R19 è®¾è®¡ClassçŠ¹å¦‚è®¾è®¡Type è®¾è®¡ä¸€ä¸ªä¼˜ç§€çš„Classå¹¶ä¸å®¹æ˜“ï¼Œå¾ˆå¤šC++ä¹¦ç±éƒ½åƒæœ¬ä¹¦ä¸€æ ·æåˆ°â€œCheck-Tableâ€ï¼Œè®¾è®¡Class/Typeå‰ï¼Œé—®è‡ªå·±ä¸€äº›é‡è¦é—®é¢˜ï¼š æ–°typeçš„å¯¹è±¡åº”è¯¥å¦‚ä½•è¢«åˆ›å»ºå’Œé”€æ¯ï¼Ÿ å¯¹è±¡çš„åˆå§‹åŒ–å’Œèµ‹å€¼è¯¥æœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿ æ–°typeçš„å¯¹è±¡å¦‚æœå€¼ä¼ é€’(pass-by-value)ï¼Œæ„å‘³ç€ä»€ä¹ˆï¼Ÿ copyæ„é€ å‡½æ•°ç”¨æ¥å®šä¹‰ä¸€ä¸ªtypeçš„å€¼ä¼ é€’å…·ä½“å®ç°ã€‚ ä»€ä¹ˆæ˜¯æ–°typeçš„â€œåˆæ³•å€¼â€ï¼Ÿ æƒ³æ¸…æ¥šçº¦æŸæ¡ä»¶ï¼Œç‰¹åˆ«æ˜¯æ„é€ å‡½æ•°ã€èµ‹å€¼æ“ä½œç¬¦ä»¥åŠsetterå‡½æ•°ï¼Œæ¶‰åŠçš„é”™è¯¯æ£€æŸ¥ä¸éæ³•å€¼æ‹¦æˆªã€‚ æ–°typeéœ€è¦é…åˆæŸä¸ªç»§æ‰¿å›¾è°±å—ï¼Ÿ å¦‚æœç»§æ‰¿è‡ªæŸBaseç±»ï¼Œé‚£ä¹ˆå°±ä¼šæ”¶åˆ°virtual,non-virtualå‡½æ•°çš„çº¦æŸï¼›å¦‚æœè¦åšåç»­ç±»çš„åŸºç±»ï¼Œåˆ™è¯¥typeå°±è¦æ³¨æ„è™šææ„çš„è®¾è®¡ã€‚ æ–°typeæ¶‰åŠä»€ä¹ˆæ ·çš„è½¬æ¢ï¼Ÿ ä¸å…¶ä»–typeä¹‹é—´å¦‚æœ‰è½¬æ¢éœ€æ±‚ï¼Œåˆ™éœ€è¦è‡ªè¡Œå®ç°ç›¸å…³å‡½æ•°ï¼Œå¯å‚è€ƒRule15ã€‚ æ–°typeéœ€è¦æ€æ ·çš„æ“ä½œç¬¦å’Œå‡½æ•°ï¼Ÿ ç¡®å®šå“ªäº›æ˜¯memberå‡½æ•°ï¼Œå“ªäº›ä¸æ˜¯ã€‚å‚è€ƒRule23ï¼ŒRule24ï¼ŒRule26ã€‚ æ˜¯å¦æœ‰éœ€è¦ç«‹å³é©³å›çš„æ ‡å‡†å‡½æ•°ï¼Ÿ æ¯”å¦‚æ˜¯å¦ç¦æ­¢copyæ„é€ ï¼Œcopy-assignmentæ“ä½œç¬¦ç­‰å‡½æ•°ï¼Œå¯ä»¥å£°æ˜ä¸ºprivateï¼›æˆ–è€…ä½¿ç”¨C++æ–°ç‰¹æ€§\"=delete\"ã€‚å‚è€ƒRule6ã€‚ æ–°typeæˆå‘˜çš„è®¿é—®å±æ€§æ§åˆ¶ï¼Ÿ æˆå‘˜å˜é‡éƒ½åº”ä¸ºprivateï¼Œè€ƒè™‘å…¶ä»–memberå‡½æ•°è¯¥ä¸ºprivate/public/protectedã€‚ä»¥åŠå¯ç”¨å‹å…ƒfriendçš„è€ƒè™‘ã€‚ ä»€ä¹ˆæ˜¯æ–°typeçš„â€œæœªå£°æ˜æ¥å£â€? å‚è€ƒRule29ã€‚ æ–°typeæœ‰å¤šä¹ˆä¸€èˆ¬åŒ–ï¼Ÿ å¦‚æœæ˜¯ä¸€èˆ¬åŒ–çš„é—®é¢˜å¤„ç†ï¼Œè¯¥è€ƒè™‘æ˜¯å¦è¯¥å®šä¹‰Class-Templateã€‚ çœŸçš„éœ€è¦ä¸€ä¸ªæ–°typeå—ï¼Ÿ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:2","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R20 ä»¥pass-by-reference-to-constä»£æ›¿pass-by-value å°½é‡ä»¥pass-by-reference-to-constä»£æ›¿pass-by-value å‰è€…é€šå¸¸æ›´é«˜æ•ˆï¼Œå¹¶å¯é¿å…â€œå¯¹è±¡åˆ‡å‰²â€é—®é¢˜ã€‚ å¦‚æœå¯¹è±¡å…¥å‚ä»¥å€¼ä¼ é€’ï¼Œå°±ä¼šåœ¨å…¥å‚æ—¶åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œå‡½æ•°å®Œæˆåä¸´æ—¶å¯¹è±¡ææ„ï¼Œæ¶‰åŠæ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„è°ƒç”¨ï¼Œè¿™äº›éƒ½å¯èƒ½æ˜¯ä¸å°çš„å¼€é”€ï¼ å¦‚æœæ˜¯ä»¥const referenceå½¢å¼ï¼Œåˆ™ä¸ä¼šæœ‰ä»»ä½•æ„é€ /ææ„çš„å¼€é”€ã€‚constçš„ä½œç”¨æ˜¯è®©ä½¿ç”¨è€…æ”¾å¿ƒï¼Œä¸ä¼šæ”¹å˜å…¥å‚çš„å€¼ã€‚ â€œå¯¹è±¡åˆ‡å‰²\"é—®é¢˜ï¼š å¦‚æœæ˜¯å€¼ä¼ é€’ï¼ŒDerived-Objä¼ é€’ç»™Base-Paramï¼Œä¼šä¸¢å¤±Derivedç‹¬æœ‰çš„ç‰¹æ€§ï¼Œåªä¿ç•™Baseçš„é‚£éƒ¨åˆ†ã€‚ å¯¹äºC++å†…ç½®ç±»å‹ï¼Œå€¼ä¼ é€’å¾€å¾€æ›´é«˜æ•ˆ ä»C++ç¼–è¯‘å™¨çš„åº•å±‚å®ç°è§’åº¦æ¥çœ‹ï¼Œreferenceså¼•ç”¨å¾€å¾€æ˜¯ä»¥æŒ‡é’ˆçš„å½¢å¼å®ç°ã€‚æ‰€ä»¥å¦‚æœæ˜¯å†…ç½®æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚intç±»å‹ ï¼Œç›´æ¥å€¼ä¼ é€’åè€Œæ•ˆç‡æ›´é«˜ã€‚ æ­¤è§„åˆ™è¿˜é€‚ç”¨äºSTLè¿­ä»£å™¨å’Œå‡½æ•°å¯¹è±¡ã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:3","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R21 å¿…é¡»è¿”å›å¯¹è±¡æ—¶ï¼Œä¸è¦éšæ„è¿”å›reference ä¸è¦è¿”å›æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘ä»¥ä¸‹å¯¹è±¡: å±€éƒ¨æ ˆå¯¹è±¡(local stack) å‡½æ•°å†…éƒ¨æ–°å»ºçš„æ ˆå˜é‡å¯¹è±¡ï¼Œå‡ºäº†å‡½æ•°å°±é¢ä¸´æ¶ˆäº¡ï¼Œä»æŒæœ‰å®ƒçš„å¼•ç”¨/æŒ‡é’ˆï¼Œæ˜¯å…¸å‹çš„æœªå®šä¹‰è¡Œä¸ºã€‚ å †åˆ†é…å¯¹è±¡(heap allocated) å†…éƒ¨newï¼Œç„¶åreturnå‡ºå»ä½¿ç”¨ï¼Œä¸€æ¥ä¼šå¢åŠ å¤–éƒ¨deleteçš„è´Ÿæ‹…ï¼ŒäºŒæ¥å¯èƒ½deleteçš„æœºä¼šéƒ½æ²¡æœ‰ã€‚ä»£ç å¦‚ä¸‹ï¼š const Rational\u0026 operator*(const Rational\u0026 lhs, const Rational\u0026 rhs){ Rational *result = new Rational(lhs.n * rhs.n,lhs.d * rhs.d); return *result; } // å¦‚ä¸‹ä½¿ç”¨è¿ä¹˜ï¼Œåˆ™æ²¡æœ‰deleteçš„æœºä¼š Rational w,x,y,z; w = x * y * z; // å†…å­˜æ³„æ¼ï¼ï¼ï¼ ä¸Šè¿°ä»£ç è¿”å›çš„æ˜¯å¼•ç”¨ï¼Œè¿”å›æŒ‡é’ˆä¹Ÿæ˜¯ä¸€æ ·çš„è´Ÿä½œç”¨ã€‚ å±€éƒ¨staticå¯¹è±¡(local static) å‡½æ•°å†…éƒ¨çš„staticå¯¹è±¡ï¼Œåªåˆå§‹åŒ–ä¸€æ¬¡ï¼Œä¸”åªæœ‰ä¸€ä»½ï¼Œæœ‰è®°å¿†åŠŸèƒ½ï¼Œå¯ä»¥è¢«æ›´æ–°ã€‚é‚£ä¹ˆä¸‹è¿°ä»£ç å°±ä¼šå‡ºç°é—®é¢˜ï¼š const Rational\u0026 operator*(const Rational\u0026 lhs,const Rational\u0026 rhs){ static Rational result; result = Rational(lhs.n * rhs.n,lhs.d * rhs.d) return result; //åœ¨è°ƒç”¨è€…çœ‹æ¥ï¼Œå› ä¸ºæ˜¯å¼•ç”¨ï¼Œæ°¸è¿œåªçœ‹åˆ°ç‹¬ä¸€ä»½çš„resultçš„â€œæœ€æ–°å€¼ â€ } // ä¸‹æ–¹çš„æ¯”è¾ƒæ°¸è¿œéƒ½æ˜¯trueï¼Œæ°¸è¿œèµ°ifåˆ†æ”¯ ï¼ï¼ Rational a,b,c,d; if((a*b) == (c*d)){ //ä¹˜ç§¯ç›¸ç­‰ï¼Œèµ°ifåˆ†æ”¯ }else{ //ä¹˜ç§¯ä¸ç›¸ç­‰ï¼Œèµ°elseåˆ†æ”¯ } Tips é‚£æ˜¯ä¸æ˜¯æ°¸è¿œä¸èƒ½ä»¥referenceä½œä¸ºè¿”å›å€¼å‘¢ ï¼Ÿ å½“ç„¶ä¸æ˜¯ï¼Œ*thiså¯ä»¥è¿”å›å…¶å¼•ç”¨ï¼Œå‚è€ƒRule10ï¼›æˆ–è€…ç±»æˆå‘˜ä½œä¸ºè¿”å›å€¼æ—¶ï¼Œå¯ä»¥è¿”å›å…¶å¼•ç”¨ï¼Œä½†æœ€å¥½æ˜¯constã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:4","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R22 å°†æˆå‘˜å˜é‡å£°æ˜ä¸ºprivate æˆå‘˜å˜é‡ä¸ºprivateè·å¾—çš„å¥½å¤„ å®¢æˆ·è®¿é—®æ•°æ®çš„ä¸€è‡´æ€§ã€‚éƒ½æ˜¯ç”¨getterå‡½æ•°ï¼ˆéœ€è¦åŠ æ‹¬å·ï¼‰ï¼Œè€Œä¸æ˜¯æ··ç”¨å‡½æ•°è·å–å’Œç›´æ¥è®¿é—®ï¼› ç»†åŒ–æˆå‘˜å˜é‡çš„è®¿é—®æƒé™ã€‚æ ¹æ®æ˜¯å¦æœ‰getterã€setterå‡½æ•°å¯ä»¥ç²¾å‡†æ§åˆ¶read/write/noneè¿™æ ·çš„ç»†åŒ–ã€‚ ä¿æŒå®ç°å¼¹æ€§ã€‚æ¯”å¦‚è·å–æŸç³»ç»ŸæŒ‡æ ‡ï¼Œå¯ä»¥åœ¨getterå‡½æ•°ä¸­ä¿®æ”¹å„ç§çµæ´»çš„ç­–ç•¥å’Œç®—æ³•ï¼Œè€Œè°ƒç”¨è€…æ„ŸçŸ¥ä¸åˆ°ã€‚ å°è£…æ€§ã€‚å°è£…æ€§æ˜¯æŒ‡â˜ è¶Šå¤šå‡½æ•°å¯ä»¥è®¿é—®è¯¥æ•°æ®ï¼Œå°è£…æ€§è¶Šä½ã€‚ å®¢æˆ·è°ƒç”¨ç«¯æ„ŸçŸ¥ä¸åˆ°classå†…éƒ¨çš„å®ç°ï¼Œè¿™äº›ç¡®å®ä¹Ÿæ˜¯ä¸å¿…æš´éœ²çš„ã€‚å¹¶ä¸”ï¼Œå¦‚æœæ˜¯è¦ä¿®æ”¹æŸä¸ªå˜é‡ï¼Œä½¿ç”¨setterå‡½æ•°ä¹Ÿæ›´æ–¹ä¾¿è°ƒè¯•ï¼Œä¸è‡³äºè¢«éšæ„ä¿®æ”¹ã€‚ protectedå’Œpublicå·®ä¸å¤šï¼Œéƒ½ä¸å…·å¤‡å°è£…æ€§ å¦‚æœæŸä¸ªpublic/protectedå˜é‡æƒé™è¢«å–æ¶ˆï¼ˆæ¯”å¦‚æ”¹ä¸ºprivateï¼‰ï¼Œå°†ä¼šå¯¼è‡´å¤§é¢ç§¯çš„ç¼–è¯‘é”™è¯¯ï¼Œèƒ½è®¿é—®çš„å˜æˆunaccessibleï¼Œéœ€è¦å¯¹åº”ä¿®æ”¹è®¸å¤šä»£ç ã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:5","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R23 å®å¯ç”¨non-member,non-friendä»£æ›¿memberå‡½æ•° å®é™…ä¸Šï¼Œnon-member/non-friendå‡½æ•°å…·æœ‰æ›´å¤§çš„å°è£…æ€§ è€ƒè™‘ä¸‹è¿°ä¸€ä¸ªç±»WebBrowserï¼Œmemberå‡½æ•°å’Œnon-memberå‡½æ•°ï¼Œå®é™…ä¸Šï¼Œmemberå‡½æ•°WebBrowser::clearEverythingå…·æœ‰å…¶ä»–privateæ•°æ®çš„è®¿é—®æƒé™ï¼Œå°è£…æ€§æ˜¯æ›´å·®çš„ï¼ class WebBrowser { public: void clearCache() {/*to clear cache*/} void clearHistory() {/*to clear history*/} void removeCookies() {/*to clear cookies*/} void clearEverything() { clearCache(); clearHistory(); removeCookies();} }; void clearBrowser(WebBrowser \u0026wb) { wb.clearCache(); wb.clearHistory(); wb.removeCookies(); } å·¥ç¨‹ç»“æ„å®‰æ’ å¯¹äºä¸Šè¿°WebBrowserçš„ä¾‹å­ï¼Œnon-memberå‡½æ•°æ”¾å“ªé‡Œå‘¢ï¼Œé™¤äº†å¯ä»¥æ˜¯å…¶ä»–classçš„memberå‡½æ•°ï¼Œæ›´é€‚ç”¨è‡ªç„¶çš„ç­”æ¡ˆæ˜¯ç”¨namespaceåŒ…è£¹èµ·æ¥ã€‚ä»£ç å¦‚ä¸‹ï¼š namespace WebBrowserStuff{ class WebBrowser {}; void clearBrowser(WebBrowser \u0026wb); } æ³¨æ„ï¼šnamespaceå¯ä»¥è·¨è¶Šå¤šä¸ªæºç æ–‡ä»¶ï¼Œè€Œclassä¸èƒ½ã€‚ é€šå¸¸çš„ç»„ç»‡æ–¹å¼ï¼šå¤šä¸ª.hå¤´æ–‡ä»¶éƒ½ä½¿ç”¨åŒä¸€ä¸ªnamespaceï¼Œç®¡ç†ä¸åŒçš„åŠŸèƒ½æ¨¡å—ã€‚é™¤äº†è®©æ¨¡å—æ›´æ¸…æ™°ï¼Œè¿˜èƒ½é™ä½ä¸å¿…è¦çš„ç¼–è¯‘ä¾èµ–å…³ç³»ã€‚ å¯¹äºprivateæ•°æ®ï¼Œmemberå’Œfriendå‡½æ•°å…·æœ‰ç›¸åŒçš„è®¿é—®æƒé™ åŸºäºæ­¤ï¼Œè¿™é‡Œè®¨è®ºçš„å°è£…æ€§ä¸åœ¨äºmemberä¸å¦ï¼Œè€Œæ˜¯memberå’Œnon-member ï¼Œnon-friendå‡½æ•°ä¹‹é—´ã€‚ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:6","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R24 è‹¥æ‰€æœ‰å‚æ•°çš†éœ€ç±»å‹è½¬æ¢ï¼Œè¯·é‡‡ç”¨non-member æ ‡é¢˜éœ€æ˜æ™°ï¼šæ‰€æœ‰å‚æ•°ï¼Œæ˜¯æŒ‡åŒ…å«äº†è¢«thisæŒ‡é’ˆæ‰€æŒ‡å‘çš„é‚£ä¸ªéšå«å‚æ•°ï¼ˆnon-explicitæ„é€ å‡½æ•°è°ƒç”¨éšå¼ç±»å‹è½¬æ¢æ—¶ï¼‰ã€‚ åº”å¯¹å…·ä½“åœºæ™¯ï¼šæ„é€ å‡½æ•°å…è®¸éšå¼ç±»å‹è½¬æ¢ï¼Œä¸”éœ€è¦è¿™ä¸ªæ„é€ å¥½çš„å¯¹è±¡ç«‹å³è°ƒç”¨æŸmemberå‡½æ•°foo(æ¯”å¦‚operatorå‡½æ•°)ï¼Œæ­¤æ—¶è¿™ä¸ªfooå‡½æ•°åº”è¯¥æ”¹ä¸ºnon-memberçš„fooå‡½æ•°ã€‚ è€ƒè™‘ä¸€ä¸ªæœ‰ç†æ•°ç±»Rationalï¼Œå…è®¸éšå¼ç±»å‹è½¬æ¢æ„é€ ï¼ˆå³non-explicitï¼‰ï¼Œå¦‚æœoperator*æ˜¯memberå‡½æ•°åˆ™ä¼šå‡ºç°é—®é¢˜ã€‚Rationalç±»å®ç°ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š class Rational { public: Rational(int numerator = 0, int denominator = 1) :numerator_(numerator), denominator_(denominator) {} const Rational operator* (const Rational\u0026 rhs)const { return Rational(numerator_*rhs.numerator_, denominator_*rhs.denominator_); } int numerator()const { return numerator_; } int denominator()const { return denominator_; } private: int numerator_ = 0; int denominator_ = 1; }; ä¸Šè¿°ä»£ç å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸èƒ½æ··åˆè¿ç®—ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š Rational rat(2, 5); Rational rat3Tm = rat * 3; //èƒ½æˆåŠŸè°ƒç”¨member-operator* Rational rat3Tm2 = 3 * rat; //ç¼–è¯‘æŠ¥é”™ï¼ï¼ï¼ æœ¬èŠ‚çš„åœºæ™¯å°±åœ¨äºæ­¤. å¦‚æœè¦è®©è¿™ç§æ··åˆè¿ç®—æ— éšœç¢ï¼ŒæŠŠoperator*å‡½æ•°æ”¹æˆnon-memberå³å¯ï¼Œæ³¨æ„è¦åˆ æ‰åŸæ¥memberå†…çš„operator*ï¼Œä¸èƒ½åŒæ—¶å­˜åœ¨è¿™2ä¸ªoperator*ã€‚ class Rational { //... æ³¨æ„ï¼Œè¦åˆ é™¤ç±»å†…çš„memberå‡½æ•°operator* }; const Rational operator* (const Rational\u0026 lhs, const Rational\u0026 rhs) { return Rational(lhs.numerator() * rhs.numerator(), lhs.denominator() * rhs.denominator()); } ","date":"2023-07-30","objectID":"/posts/parttwo/:2:7","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["C++"],"content":"R25 è€ƒè™‘å†™ä¸€ä¸ªä¸æŠ›å¼‚å¸¸çš„swapå‡½æ•° å½“ std::swapå¯¹æŸä¸ªç±»å‹æ•ˆç‡ä¸é«˜æ—¶ï¼Œæä¾›ä¸€ä¸ªswapæˆå‘˜å‡½æ•°ï¼Œä¸”è¯¥swapä¸æŠ›å¼‚å¸¸ å…ˆçœ‹ä¸€ä¸‹æ•ˆç‡ä¸é«˜çš„std::swapå®ç°ï¼š namespace std { template\u003ctypename T\u003e //std::swapçš„å…¸å‹å®ç° void swap(T\u0026 a,T\u0026 b) { //ç½®æ¢ a å’Œ b çš„å€¼ T temp(a); //è‹¥Tæ˜¯classï¼Œæ­¤å¤„è°ƒç”¨copyæ„é€ å‡½æ•° a = b; //è‹¥Tæ˜¯classï¼Œæ­¤å¤„è°ƒç”¨copy assignmentæ“ä½œç¬¦ b = temp; } } è€ƒè™‘è¿™æ ·çš„ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦swapä¸€ä¸ª\"pimplæ‰‹æ³•â€(pointer to implementation)å®ç°çš„ç±»ï¼Œè¿™ç§ä¼ ç»Ÿçš„std::swapå¿…ç„¶æ˜¯æ•ˆç‡ä¸é«˜(æ·±å¤åˆ¶implç±»çš„æ•°æ®è€—æ—¶è¾ƒé•¿)ã€‚ class WidgetSwImpl { private: int a, b, c; std::vector\u003cdouble\u003e v; //å¾ˆå¤§çš„vector,æ„å‘³ç€å¤åˆ¶æ—¶é—´å¾ˆé•¿ }; class WidgetSw { public: WidgetSw(WidgetSwImpl* pImpl) :pImpl_(pImpl) {} WidgetSw(const WidgetSw\u0026 rhs) {/*å…¶ä»–copy\u0026initialæ“ä½œ*/} WidgetSw\u0026 operator=(const WidgetSw\u0026 rhs) { *pImpl_ = *(rhs.pImpl_); } void swap(WidgetSw\u0026 other) { //public-memberå‡½æ•°swap using std::swap; //ä»¤std::swapåœ¨æ­¤å‡½æ•°å¯ç”¨ swap(pImpl_,other.pImpl_); } private: WidgetSwImpl* pImpl_ = nullptr; }; è°ƒç”¨æ—¶ä»£ç å¦‚ä¸‹ï¼š WidgetSw wSw1(new WidgetSwImpl); WidgetSw wSw2(new WidgetSwImpl); wSw1.swap(wSw2); //æˆåŠŸè¿è¡Œ å¦‚æœæä¾›äº†member swapï¼Œéœ€æä¾›ä¸€ä¸ªnon-memberçš„swapè°ƒç”¨å‰è€… æ³¨æ„ï¼Œå…¶å®ä¸Šè¿°swapæˆå‘˜å‡½æ•°ä½¿ç”¨èµ·æ¥ä¸ç®—ç›´è§‚å’Œç»Ÿä¸€ï¼Œå¯ä»¥å…¨ç‰¹åŒ–std::swapè®©ä½¿ç”¨æ›´ç›´è§‚æ–¹ä¾¿ï¼Œä»£ç å¦‚ä¸‹ï¼š namespace std { template\u003c\u003e void swap\u003cWidgetSw\u003e(WidgetSw\u0026 a, WidgetSw\u0026 b) { a.swap(b); } } // å®¢æˆ·ç«¯åº”ç”¨ä»£ç å¯ä»¥å¦‚ä¸‹è°ƒç”¨ // æ³¨æ„ï¼Œä¸åº”è¯¥ï¼Œä¹Ÿæ²¡å¿…è¦åŠ  std::ï¼Œä¼šé™åˆ¶ç¼–è¯‘å™¨åªä½¿ç”¨stdå‘½åç©ºé—´çš„swap swap(wSw1,wSw2);//ç¼–è¯‘å™¨ä¼šä¼˜å…ˆæŒ‘ä¸­å…¨ç‰¹åŒ–ç‰ˆæœ¬çš„std::swap å¦‚æœæ˜¯Class-Templateï¼Œåˆ™ä¸è¦ç‰¹åŒ–stdå‘½åç©ºé—´çš„swapï¼Œè€Œæ˜¯ç§»åˆ°å…¶å®ƒå‘½åç©ºé—´ namespace WidgetStuff{ template\u003ctypename T\u003e class WidgetSw{ /*çœç•¥ç±»å®šä¹‰*/} // ç±»å†…å«æœ‰swapæˆå‘˜å‡½æ•° template\u003ctypename T\u003e void swap(WidgetSw\u003cT\u003e\u0026 a, WidgetSw\u003cT\u003e\u0026 b) { a.swap(b); } } Notice stdå‘½åç©ºé—´çš„å‡½æ•°ä¸è¦å°è¯•é‡è½½ï¼Œä¹Ÿä¸è¦å¢åŠ ä»»ä½•æ–°ä¸œè¥¿ C++åªå…è®¸å¯¹Class-Templateç›´æ¥åç‰¹åŒ–ï¼Œä¸èƒ½å¯¹Function-Templateåç‰¹åŒ–(å‡½æ•°æ¨¡æ¿å¯ä»¥é€šè¿‡é‡è½½é—´æ¥å®ç°â€œåç‰¹åŒ–â€çš„ä½œç”¨) æˆå‘˜ç‰ˆswapç»å¯¹ä¸è¦æŠ›å‡ºå¼‚å¸¸ï¼Œéæˆå‘˜swapå¯ä»¥(å› ä¸ºæˆå‘˜swapçš„ä¸€ä¸ªæœ€å¥½åº”ç”¨å°±æ˜¯æä¾›å¼‚å¸¸å®‰å…¨æ€§) ref: [1]. https://blog.csdn.net/cltcj/category_12098441.html [2]. https://kissingfire123.github.io/2022/01/11_effective-c-%e4%b9%8b%e5%ad%a6%e4%b9%a0%e6%80%bb%e7%bb%93%e4%ba%8c/ ","date":"2023-07-30","objectID":"/posts/parttwo/:2:8","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [2]","uri":"/posts/parttwo/"},{"categories":["draft"],"content":"è‡ªå®šä¹‰åˆ†é…å™¨ å¾ˆå¤šæ—¶å€™ï¼Œä½ ä¼šæœ‰å»ºç«‹è‡ªå®šä¹‰åˆ†é…å™¨çš„æƒ³æ³•ï¼š allocator\u003cT\u003eå¯¹çº¿ç¨‹å®‰å…¨é‡‡å–äº†æªæ‹–ï¼Œä½†æ˜¯ä½ åªå¯¹å•çº¿ç¨‹çš„ç¨‹åºæ„Ÿå…´è¶£ï¼Œä½ ä¸æƒ³èŠ±è´¹ä¸éœ€è¦çš„åŒæ­¥å¼€é”€ åœ¨æŸäº›å®¹å™¨é‡Œçš„å¯¹è±¡é€šå¸¸ä¸€åŒè¢«ä½¿ç”¨ï¼Œæ‰€ä»¥ä½ æƒ³åœ¨ä¸€ä¸ªç‰¹åˆ«çš„å †é‡ŒæŠŠå®ƒä»¬æ”¾å¾—å¾ˆè¿‘ä½¿å¼•ç”¨çš„åŒºåŸŸæ€§æœ€å¤§åŒ– ä½ æƒ³å»ºç«‹ä¸€ä¸ªç›¸å½“å…±äº«å†…å­˜çš„å”¯ä¸€çš„å †ï¼Œç„¶åæŠŠä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨æ”¾åœ¨é‚£å—å†…å­˜é‡Œï¼Œå› ä¸ºè¿™æ ·å®ƒä»¬å¯ä»¥è¢«å…¶ä»–è¿›ç¨‹å…±äº«ã€‚ ","date":"2023-07-30","objectID":"/posts/clause_11/:1:0","tags":["draft"],"title":"Effective STL [11] | ç†è§£è‡ªå®šä¹‰åˆ†é…å™¨çš„æ­£ç¡®ç”¨æ³•","uri":"/posts/clause_11/"},{"categories":["draft"],"content":"ç®¡ç†å…±äº«å†…å­˜ å‡å®šä½ æœ‰ä»¿æ•ˆmallocå’Œfreeçš„ç‰¹åˆ«ç¨‹åºï¼Œç”¨äºç®¡ç†å…±äº«å†…å­˜çš„å † void* mallocShared(size_t bytesNeeded); void freeShared(void *ptr); å¹¶ä¸”ä½ å¸Œæœ›èƒ½æŠŠSTLå®¹å™¨çš„å†…å®¹æ”¾åœ¨å…±äº«å†…å­˜ä¸­: template\u003ctypename T\u003e class SharedMemoryAllocator { public: ... pointer allocate(size_type numObiects, const void *localityHint = 0) { return static_cast\u003cpointer\u003e(mallocShared(numObiects * sizeof(T))); } void deallocate(pointer ptrToMemory, size_type numObjects) { freeShared(ptrToMiemory); } ... }; ä½¿ç”¨SharedMemoryAllocatorï¼š // æ–¹ä¾¿çš„typedef typedef vector\u003cdouble, SharedMemoryAllocator\u003cdouble\u003e \u003e SharedDoubleVec; ... { // å¼€å§‹ä¸€ä¸ªå— SharedDoubleVec v; // å»ºç«‹ä¸€ä¸ªå…ƒç´ åœ¨ // å…±äº«å†…å­˜ä¸­çš„vector ... // ç»“æŸè¿™ä¸ªå— } ã€Œé—®é¢˜ï¼šã€vä½¿ç”¨SharedMemoryAllocatorï¼Œæ‰€ä»¥våˆ†é…æ¥å®¹çº³å®ƒå…ƒç´ çš„å†…å­˜å°†æ¥è‡ªå…±äº«å†…å­˜ï¼Œä½†væœ¬èº«â€”â€”åŒ…æ‹¬å®ƒçš„å…¨éƒ¨æ•°æ®æˆå‘˜â€”â€”å‡ ä¹å°†è‚¯å®šä¸è¢«æ”¾åœ¨å…±äº«å†…å­˜é‡Œï¼Œvåªæ˜¯ä¸€ä¸ªæ™®é€šçš„åŸºäºå †çš„å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒå°†è¢«æ”¾åœ¨è¿è¡Œæ—¶ç³»ç»Ÿä¸ºæ‰€æœ‰æ™®é€šçš„åŸºäºå †çš„å¯¹è±¡ä½¿ç”¨çš„ä»»ä½•å†…å­˜ã€‚é‚£å‡ ä¹ä¸ä¼šæ˜¯å…±äº«å†…å­˜ã€‚ ä¸ºäº†æŠŠvçš„å†…å®¹å’Œvæœ¬èº«æ”¾è¿›å…±äº«å†…å­˜ï¼Œå¿…é¡»è¿™ä¹ˆåš: void *pVectorMemory = mallocShared(sizeof(SharedDoubleVec));// åˆ†é…è¶³å¤Ÿçš„å…±äº«å†…å­˜æ¥å®¹çº³ä¸€ä¸ªSharedDoubleVecå¯¹è±¡ SharedDoubleVec *pv = new (pVectorMemory) SharedDoubleVec; // ä½¿ç”¨â€œplacement newâ€æ¥ åœ¨é‚£å—å†…å­˜ä¸­å»ºç«‹ ä¸€ä¸ªSharedDoubleVecå¯¹è±¡ï¼› // å‚è§ä¸‹é¢è¿™ä¸ªå¯¹è±¡çš„ä½¿ç”¨ï¼ˆé€šè¿‡pvï¼‰ ... pv-\u003e~SharedDoubleVec(); // é”€æ¯å…±äº«å†…å­˜ä¸­çš„å¯¹è±¡ freeShared(pVectorMemory); // é”€æ¯åŸæ¥çš„å…±äº«å†…å­˜å— è¿™å°±æ˜¯ã€Œæ‰‹å·¥çš„å››æ­¥åˆ†é…/å»ºé€ /é”€æ¯/å›æ”¶çš„è¿‡ç¨‹ã€ï¼šè·å¾—ä¸€äº›å…±äº«å†…å­˜ â€”â€”\u003e åœ¨é‡Œé¢å»ºç«‹ä¸€ä¸ªç”¨å…±äº«å†…å­˜ä¸ºè‡ªå·±å†…éƒ¨åˆ†é…çš„vector â€”â€”\u003e ç”¨å®Œè¿™ä¸ªvectoræ—¶ï¼Œè°ƒç”¨å®ƒçš„ææ„å‡½æ•° â€”â€”\u003e é‡Šæ”¾vectorå ç”¨çš„å†…å­˜ã€‚ è¿™æ®µä»£ç æœ‰2ç‚¹éœ€è¦æ³¨æ„ï¼š å¿½ç•¥äº†mallocSharedå¯èƒ½è¿”å›ä¸€ä¸ªnullæŒ‡é’ˆã€‚ å…±äº«å†…å­˜ä¸­çš„vectorçš„å»ºç«‹ç”±â€œplacement newâ€å®Œæˆã€‚ ","date":"2023-07-30","objectID":"/posts/clause_11/:1:1","tags":["draft"],"title":"Effective STL [11] | ç†è§£è‡ªå®šä¹‰åˆ†é…å™¨çš„æ­£ç¡®ç”¨æ³•","uri":"/posts/clause_11/"},{"categories":["draft"],"content":"ç®¡ç†åˆ†é…å’Œå›æ”¶çš„å † å‡è®¾æœ‰2ä¸ªå †ï¼Œç±»Heap1å’ŒHeap2ã€‚ æ¯ä¸ªå †ç±»æœ‰ç”¨äºè¿›è¡Œã€Œåˆ†é…ã€å’Œã€Œå›æ”¶ã€çš„ã€Œé™æ€æˆå‘˜å‡½æ•°ã€ï¼š class Heap1 { public: ... static void* alloc(size_t numBytes, const void *memoryBlockToBeNear); static void dealloc(void *ptr); ... }; class Heap2 { ... }; // æœ‰ç›¸åŒçš„alloc/deallocæ¥å£ ä½ æƒ³åœ¨ä¸åŒçš„å †é‡Œè”åˆå®šä½ä¸€äº›STLå®¹å™¨çš„å†…å®¹ã€‚ é¦–å…ˆï¼Œè®¾è®¡ä¸€ä¸ªåˆ†é…å™¨ï¼Œä½¿ç”¨åƒHeap1å’ŒHeap2é‚£æ ·ç”¨äºçœŸå®å†…å­˜ç®¡ç†çš„ç±»ï¼š template\u003ctypenameT, typename Heap\u003e class SpecificHeapAllocator { public: pointer allocate(size_type numObjects, const void *localityHint = 0) { return static_cast\u003cpointer\u003e(Heap::alloc(numObjects * sizeof(T), localityHint)); } void deallocate(pointer ptrToMemory, size_type numObjects) { Heap::dealloc(ptrToMemory); } ... }; ç„¶åï¼Œä½¿ç”¨SpecificHeapAllocatoræ¥æŠŠå®¹å™¨çš„å…ƒç´ é›†åˆåœ¨ä¸€èµ·ï¼š vector\u003cint, SpecificHeapAllocator\u003cint, Heap1 \u003e\u003e v; // æŠŠvå’Œsçš„å…ƒç´ æ”¾è¿›Heap1 set\u003cint, SpecificHeapAllocator\u003cint Heap1 \u003e\u003e s; list\u003cWidget, SpecificHeapAllocator\u003cWidget, Heap2\u003e\u003e L; // æŠŠLå’Œmçš„å…ƒç´  æ”¾è¿›Heap2 map\u003cint, string, less\u003cint\u003e, SpecificHeapAllocator\u003cpair\u003cconst int, string\u003e, Heap2\u003e\u003e m; åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ã€ŒHeap1å’ŒHeap2æ˜¯ç±»å‹è€Œä¸æ˜¯å¯¹è±¡ã€ã€‚ STLä¸ºç”¨ä¸åŒçš„åˆ†é…å™¨å¯¹è±¡åˆå§‹åŒ–ç›¸åŒç±»å‹çš„ä¸åŒSTLå®¹å™¨æä¾›äº†è¯­æ³•ã€‚é‚£æ˜¯ã€Œå› ä¸ºå¦‚æœHeap1å’ŒHeap2æ˜¯å¯¹è±¡è€Œä¸æ˜¯ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä»¬å°†æ˜¯ä¸ç­‰ä»·çš„åˆ†é…å™¨ï¼Œé‚£å°±è¿åäº†åˆ†é…å™¨çš„ç­‰ä»·çº¦æŸã€ã€‚ åªè¦éµå¾ªã€Œç›¸åŒç±»å‹çš„æ‰€æœ‰åˆ†é…å™¨éƒ½ä¸€å®šç­‰ä»·çš„é™åˆ¶æ¡ä»¶ã€ï¼Œä½ å°†æ¯«ä¸è´¹åŠ›åœ°ä½¿ç”¨è‡ªå®šä¹‰åˆ†é…å™¨æ¥ã€Œæ§åˆ¶ä¸€èˆ¬å†…å­˜ç®¡ç†ç­–ç•¥ï¼Œç¾¤é›†å…³ç³»å’Œä½¿ç”¨å…±äº«å†…å­˜ä»¥åŠå…¶ä»–ç‰¹æ®Šçš„å †ã€ã€‚ ","date":"2023-07-30","objectID":"/posts/clause_11/:1:2","tags":["draft"],"title":"Effective STL [11] | ç†è§£è‡ªå®šä¹‰åˆ†é…å™¨çš„æ­£ç¡®ç”¨æ³•","uri":"/posts/clause_11/"},{"categories":["C++"],"content":"åºè¨€ è¿™æœ¬C++çš„ç»å…¸ä¹‹ä½œï¼Œä½œè€…æ˜¯å¤§ä½¬Scott MeyersğŸ‘‰å¤§ä½¬ä¸»é¡µï¼Œè¿˜å†™è¿‡å…¶ä»–å‡ æœ¬å½±å“æ·±è¿œçš„C++ç»å…¸ï¼Œä¾‹å¦‚ã€ŠEffective STLã€‹,ã€ŠMore Effective C++ã€‹,ã€ŠEffective Mordern C++ã€‹,ã€ŠOverview of the New C++(C++11/14)ã€‹ç­‰ç­‰ã€‚æœ¬äººçœ‹çš„æ˜¯ä¸­æ–‡ç‰ˆï¼Œä¾¯æ·è€å¸ˆç¿»è¯‘çš„ï¼Œç²¾è¯»åˆ†æå¹¶å®è·µæ¨æ•²åï¼Œæ•´ç†æˆåšå®¢è®°å½•ä¸‹æ¥ã€‚ (Effective-C++æ€»ç»“ç³»åˆ—åˆ†ä¸ºå››éƒ¨åˆ†ï¼Œæœ¬æ–‡ä¸ºç¬¬ä¸€éƒ¨åˆ†ï¼Œæ¶‰åŠåŸä¹¦ç¬¬1~2ç« ï¼Œå†…å®¹èŒƒå›´Rule01~12ã€‚ä¸ºæ–¹ä¾¿ä¹¦å†™ï¼ŒRule01ç®€å†™ä¸ºR01)ã€‚ Effective-C++ç³»åˆ—List æœ¬åšå®¢ç«™ç‚¹ç³»åˆ—å†…å®¹å¦‚ä¸‹ï¼š ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(ä¸€) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(äºŒ) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(ä¸‰) ğŸ’¡ Effective C++(ç¬¬3ç‰ˆ)ç²¾è¯»æ€»ç»“(å››) ","date":"2023-07-29","objectID":"/posts/partone/:0:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"CH1.è®©è‡ªå·±ä¹ æƒ¯C++ ","date":"2023-07-29","objectID":"/posts/partone/:1:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R01 è§†C++ä¸ºä¸€ä¸ªè¯­è¨€è”é‚¦ å¦‚ä»Šçš„C++å·²ç»æ˜¯ä¸ªå¤šé‡èŒƒå¼(multiparadigm)è¯­è¨€ï¼ŒåŒæ—¶æ”¯æŒé¢å‘è¿‡ç¨‹å½¢å¼ã€é¢å‘å¯¹è±¡å½¢å¼ã€å‡½æ•°å½¢å¼ã€æ³›å‹å½¢å¼ã€å…ƒç¼–ç¨‹å½¢å¼ã€‚ è¦ç†è§£è¿™ä¹ˆå¤šç‰¹æ€§ï¼Œå¯ä»¥ç®€å•çš„å½’ç»“ä¸ºå››ç§æ¬¡è¯­è¨€(sublanguage)ç»„æˆï¼š Cè¯­è¨€ï¼šC++ä»ä»¥Cä¸ºåŸºç¡€ã€‚C++æ˜¯Cçš„è¶…é›†ï¼ŒåŒºå— ã€è¯­å¥ã€é¢„å¤„ç†ã€å†…ç½®æ•°æ®ç±»å‹ã€æ•°ç»„ã€æŒ‡é’ˆç­‰å…¨éƒ¨æ¥è‡ªäºCè¯­è¨€ï¼› è¯´åˆ°åº• C++ ä»ç„¶ä»¥ C ä¸ºåŸºç¡€ã€‚åŒºå—ã€è¯­å¥ã€é¢„å¤„ç†å™¨ã€å†…ç½®æ•°æ®ç±»å‹ ã€æ•°ç»„ã€æŒ‡é’ˆç­‰ç»Ÿç»Ÿæ¥è‡ªCï¼Œè®¸å¤šæ—¶å€™C++å¯¹é—®é¢˜çš„è§£å†³å…¶å®ä¸è¿‡å°±æ˜¯è¾ƒé«˜çº§çš„ C è§£æ³•ï¼Œä½†å½“ä½ C++å†…çš„ C æˆåˆ†å·¥ä½œæ—¶ï¼Œé«˜æ•ˆç¼–ç¨‹å®ˆåˆ™æ˜ ç…§å‡º C è¯­è¨€çš„å±€é™ï¼šæ²¡æœ‰æ¨¡æ¿(template) ï¼Œæ²¡æœ‰å¼‚å¸¸(exceptions)ï¼Œæ²¡æœ‰é‡è½½(overloading)â€¦â€¦ Object-Oriented C++: é¢å‘å¯¹è±¡ç‰¹æ€§ã€‚è¿™éƒ¨åˆ†ä¹Ÿå°±æ˜¯ C with classes æ‰€è¯‰æ±‚çš„ï¼šclasses(åŒ…æ‹¬æ„é€ å‡½æ•°å’Œææ„å‡½æ•°)ï¼Œå°è£…(encapsulation)ã€ç»§æ‰¿(inheritance)ã€å¤šæ€(polymorhpism)ã€virtualå‡½æ•°(åŠ¨æ€ç»‘å®š)â€¦â€¦ç­‰ç­‰ï¼Œè¿™ä¸€éƒ¨åˆ†æ˜¯é¢å‘å¯¹è±¡è®¾è®¡ä¹‹å¤å…¸å®ˆåˆ™åœ¨C++ ä¸Šçš„ç›´æ¥å®æ–½ã€‚ **Template C++:**C++çš„æ³›å‹(generic)ç¼–ç¨‹çš„éƒ¨åˆ†ï¼Œä¹Ÿå¸¦æ¥äº†é»‘é­”æ³•-æ¨¡æ¿å…ƒç¼–ç¨‹(TMP,Metaprogramming)ï¼› **STLï¼š**STL(Standard Temlate Library)å³æ ‡å‡†æ¨¡æ¿åº“ï¼Œå®ƒæ˜¯templateç¨‹åºåº“ã€‚å°è£…äº†å„ç±»å®¹å™¨(container)ã€é…ç½®å™¨(allocator)ã€è¿­ä»£å™¨(iterator)ã€ç®—æ³•ä»¥åŠå¸¸ç”¨å¯¹è±¡ã€‚ æ€»ç»“: C++é«˜æ•ˆç¼–ç¨‹å®ˆåˆ™è§†çŠ¶å†µè€Œå˜åŒ–ï¼Œå–å†³äºä½ ä½¿ç”¨C++çš„å“ªä¸€éƒ¨åˆ† ","date":"2023-07-29","objectID":"/posts/partone/:1:1","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R02 å°½é‡ä»¥const,enum,inlineæ›¿æ¢#define å¯¹äºå®å®šä¹‰çš„å¸¸é‡ï¼Œå»ºè®®ç”¨constå¸¸é‡æˆ–è€…æšä¸¾enumæ›¿æ¢ è¿™æ ·åšçš„å¥½å¤„æ˜¯æ–¹ä¾¿è°ƒè¯•ï¼Œå› ä¸ºå®æŠ¥é”™å°±æ˜¯ä¸ªå¸¸æ•°å€¼ï¼Œæ²¡æœ‰ç¬¦å·è¡¨ï¼›å¹¶ä¸”å®ä¸å…·æœ‰å°è£…æ€§(å®çš„ä½œç”¨åŸŸæ˜¯åœ¨ç¼–è¯‘æ—¶æ˜¯å…¶å®šä¹‰ä¹‹äº‹)ã€‚ // ä¸¾ä¾‹ï¼šMAX_DATA_COUNTåœ¨é¢„å¤„ç†é˜¶æ®µå°±ä¼šè¢«æ›¿æ¢ï¼Œç¼–è¯‘å™¨ä¸ä¼šè§åˆ°å®ƒï¼Œæ‰€ä»¥ä¸€æ—¦æœ‰ç›¸å…³æŠ¥é”™ï¼Œç»™çš„æ˜¯100è¿™ä¸ªå€¼ #define MAX_DATA_COUNT 100 const int MAX_DATA_COUNT = 100 ;//å¸¸é‡åªæœ‰ä¸€ä»½ï¼Œå®ä¼šå¯¼è‡´å¤šä»½å¸¸é‡å€¼ class Buffer{ public://...ç±»å…¶ä»–éƒ¨åˆ†çœç•¥ static const double factor_ ;//staticå¸¸é‡,ç±»å†…å£°æ˜ static const int times_ = 2;// intç±»å‹å…è®¸ç±»å†…åˆå§‹åŒ–,è§„èŒƒä¸Šè¿˜æ˜¯å»ºè®®æ‹¿åˆ°ç±»å¤– private: static const int ArrLength = 5; int arr[ArrLength]; }; const double Buffer::factor_ = 0.1;//ç±»å¤–åˆå§‹åŒ–,ä¸€èˆ¬å†™åœ¨å®ç°æ–‡ä»¶*.cpp,*.ccä¸­ å¦‚æœç¼–è¯‘å™¨ä¸å…è®¸å£°æ˜æ—¶\"in-classåˆå€¼è®¾å®š\",å¦‚æœæ˜¯æ•´å½¢å¸¸é‡ï¼Œå¯ä»¥è®©æšä¸¾å€¼æ¥æ›¿ä»£ï¼Œè€Œä¸”æšä¸¾å€¼ä¸èƒ½è¢«å–åœ°å€ã€‚ å¯¹äºå®å®šä¹‰çš„å‡½æ•°ï¼Œå»ºè®®ç”¨å†…è”inlineå‡½æ•°æ›¿æ¢ å®å‡½æ•°æ²¡åŠæ³•å•è¡Œdebugè°ƒè¯•ï¼Œè€Œå†…è”å‡½æ•°å¯ä»¥ï¼› å®çš„å†™æ³•å³ä½¿å°å¿ƒç¿¼ç¿¼çš„åŠ å¥½äº†æ‹¬å·ï¼Œä¹Ÿå¯èƒ½é€ æˆæ„æƒ³ä¸åˆ°çš„å®å‡½æ•°é‡å¤è®¡ç®—çš„é—®é¢˜ã€‚ #define GET_MAX(a,b) ((a)\u003e(b) ? (a) :(b)) int a = 5, b = 0; GET_MAX(++a,b); // aç´¯åŠ äºŒæ¬¡ GET_MAX(++a,b+10); // aç´¯åŠ ä¸€æ¬¡ // å®šä¹‰ä¸ªinlineå‡½æ•°å°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜,(a,b)ä½œä¸ºå‡½æ•°å…¥å‚å°±åªä¼šè®¡ç®—ä¸€æ¬¡ By the way ä¸Šè¿°æƒ…å†µï¼Œä»çº¯Cè¯­è¨€è§’åº¦ï¼Œæƒ³é¿å…â€œå®å‡½æ•°é‡å¤è®¡ç®—â€ï¼Œå…¶å®è¿˜æœ‰ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨GNU C æ‰©å±•çš„ typeof æˆ– GCC çš„ __auto_type å…³é”®å­—ï¼Œè¯¦ç»†å¯å‚è€ƒGCCå®˜æ–¹æ–‡æ¡£é¡µé¢ã€‚2è€…éƒ½é€‚ç”¨äºGCCå’ŒClangï¼Œéƒ½ä¸é€‚ç”¨MSVCï¼‰ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š #define GET_MAX_ONCE(a,b) \\ ( {typeof(a) _a = (a); \\ typeof(b) _b = (b); \\ (_a) \u003e (_b) ? (_a) : (_b); } ) æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š int a = 10,b = 20; int c = GET_MAX(++a, b++); std::cout \u003c\u003c \"a = \" \u003c\u003c a \u003c\u003c \", b = \"\u003c\u003c b \u003c\u003c \", c = \" \u003c\u003c c \u003c\u003c std::endl; a = 10 , b = 20; c = GET_MAX_ONCE(++a, b++); std::cout \u003c\u003c \"a = \" \u003c\u003c a \u003c\u003c \", b = \"\u003c\u003c b \u003c\u003c \", c = \" \u003c\u003c c \u003c\u003c std::endl; æµ‹è¯•ä»£ç è¾“å‡ºï¼š a = 11, b = 22, c = 21 a = 11, b = 21, c = 20 ğŸ¤” ä½¿ç”¨ __auto_type æ¥å–ä»£æ—¶è¦èµ‹åˆå€¼ï¼Œå…³é”®çš„ typeof é‚£è¡Œç”¨æ³•æ”¹ä¸º__auto_type _a = (a); ã€‚ __auto_type æ¯” typeof çš„ä¼˜åŠ¿ä¹‹å¤„åœ¨äºé¢å¯¹å˜é•¿æ•°ç»„(VLA)ï¼Œåªè§£æ1æ¬¡ï¼›ä»¥åŠé¢å¯¹åµŒå¥—å®å®šä¹‰æ—¶ä¹Ÿæ˜¯åªä¸¥æ ¼è§£æä¸€æ¬¡ã€‚ ","date":"2023-07-29","objectID":"/posts/partone/:1:2","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R03 å°½å¯èƒ½ç”¨const è¯´èµ·constï¼Œå…ˆå¤ä¹ ä¸ªé¢è¯•é«˜é¢‘é¢˜ğŸ˜ //ç±»å‹charåœ¨å“ªé‡Œæ²¡å…³ç³»ï¼Œå…³é”®çœ‹constå’Œ*çš„ç›¸å¯¹ä½ç½®ï¼š //conståœ¨*å·¦è¾¹ï¼ŒæŒ‡é’ˆæ‰€æŒ‡ç‰©ä¸ºå¸¸é‡; //conståœ¨*å³è¾¹ï¼ŒæŒ‡é’ˆä¸ºå¸¸é‡ï¼› const char* p; // æŒ‡é’ˆpæ‰€æŒ‡çš„å­—ç¬¦ä¸²ä¸ºå¸¸é‡ï¼Œä½†æ˜¯på¯ä»¥ä¿®æ”¹ char* const p; // æŒ‡é’ˆpæ˜¯å¸¸é‡ï¼ŒæŒ‡å‘çš„å­—ç¬¦ä¸²å¯ä¿®æ”¹ constä¿®é¥°å‡½æ•°è¿”å›å€¼æ—¶çš„é˜²å¾¡æ€§ constä¿®é¥°å‡½æ•°çš„è¿”å›å€¼ï¼Œå¯ä»¥é¿å…ä¸€äº›é”™è¯¯ï¼Œå¦‚ä¸‹ï¼š const Rational operator* (const Rational\u0026 lhs,const Rational\u0026 rhs); //å­˜åœ¨Rational a,b,c; if(a*b = c) //ä¾‹å¦‚æ‰‹è¯¯ \"==\"æ‰“æˆäº†\"=\"ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™ constæˆå‘˜å‡½æ•°çš„é™åˆ¶ constæˆå‘˜å‡½æ•°æœ‰2ä¸ªå¥½å¤„ï¼š(1). æ˜ç¡®ç†è§£å‡½æ•°æ˜¯å¦ä¿®æ”¹å¯¹è±¡å†…å®¹ï¼›(2). ä½¿â€œæ“ä½œconstå¯¹è±¡â€æˆä¸ºå¯èƒ½ã€‚ å¯ä»¥é€šè¿‡constç‰¹æ€§è®©å¯¹è±¡è‡ªåŠ¨è°ƒç”¨æ­£ç¡®çš„ç‰ˆæœ¬ï¼š class TextBlock{//...ç±»å…¶ä»–éƒ¨åˆ†çœç•¥ const char\u0026 operator[](std::size_t index) const{ return text[index];} char\u0026 operator[](std::size_t index) { return text[index];} private: std::string text; } void print(const TextBlock\u0026 ctb){ std::cout \u003c\u003c ctb[0] ;//æ ¹æ®constç‰¹æ€§ï¼Œè°ƒç”¨ const TextBlock::operator[] } æ€è€ƒï¼šconstæˆå‘˜å‡½æ•°ä¸ä¿®æ”¹æˆå‘˜å¯¹è±¡ï¼Œé‚£ä¹ˆï¼Œå¦‚æœæˆå‘˜å¯¹è±¡ä¸ºæŒ‡é’ˆchar *pï¼Œä»…ä¿®æ”¹pæŒ‡å‘çš„å†…å®¹ï¼Œé‚£å®ƒè¿˜æ˜¯constæˆå‘˜å‡½æ•°å—ï¼Ÿ å®æµ‹ï¼šconstæˆå‘˜å‡½æ•°æ˜¯å…è®¸p[2]= 'x'è¿™ä¸€æ“ä½œçš„ï¼Œä½†æ˜¯ä¸å…è®¸p++ï¼› bitwise-constness(åˆç§°ä¸ºphysical constness)ç†å¿µè®¤ä¸ºä¸æ˜¯ï¼Œä¸èƒ½æ›´æ”¹ä»»ä½•å¯¹è±¡å†…çš„ä»»ä½•ä¸€ä¸ªbitã€‚è¿™ç§è¯´æ³•ä¹Ÿæœ‰çº°æ¼ï¼Œconstå‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨å°±å¤±æ§äº†,å¤–éƒ¨å¯æ”¹ï¼› logical-constnessç†å¿µåˆ™å…è®¸constæˆå‘˜å‡½æ•°ä¿®æ”¹æˆå‘˜å˜é‡çš„bitsï¼Œä½†åªæœ‰åœ¨å®¢æˆ·ç«¯ä¾¦æµ‹ä¸å‡ºçš„æƒ…å†µä¸‹; constæˆå‘˜å‡½æ•°å¦‚æœä¸€å®šè¦ä¿®æ”¹æˆå‘˜å˜é‡ï¼Œæˆå‘˜å˜é‡ä½¿ç”¨ mutable ä¿®é¥°å³å¯. constä¸non-constçš„æˆå‘˜å‡½æ•°å®ç°å®Œå…¨ç›¸åŒæ—¶ è¿™ç§æƒ…å†µï¼Œå¦‚ä½•å»é™¤ä»£ç å†—ä½™æ˜¯ä¸ªé—®é¢˜ã€‚ä¸è¦å°è£…å‡ºä¸€ä¸ªprivateå‡½æ•°ç„¶åä¸€èµ·è°ƒç”¨ï¼Œå¤šäº†å±‚è°ƒç”¨ã€‚ æ­£ç¡®åšæ³•ğŸ‘‰ ä½¿ç”¨è½¬å‹,è®©non-constè°ƒç”¨constæˆå‘˜å‡½æ•°ï¼Œå¦‚ä¸‹ä¸ºç¤ºä¾‹ï¼š class Rawdata { public: Rawdata(char *src):p_(src),length_(strlen(src)) {} const int\u0026 GetLength()const{ p_[1] = 'a';//ä¸ºæ±‚ç®€ä¾¿,ä¸ä½œæ£€æŸ¥äº†ã€‚p_å†…å®¹ä¿®æ”¹ç¼–è¯‘å™¨æ˜¯å…è®¸çš„. return length_; } int GetLength() { return const_cast\u003cint\u0026\u003e( (static_cast\u003cconst Rawdata\u0026\u003e(*this)).GetLength()); } private: char *p_ = nullptr; int length_ = 0; }; ","date":"2023-07-29","objectID":"/posts/partone/:1:3","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R04 ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰å…ˆåˆå§‹åŒ– åˆ†æ¸…\"èµ‹å€¼\"å’Œ\"åˆå§‹åŒ–\"ï¼Œåœ¨ç±»çš„æ„é€ å‡½æ•°ä½“å†…ä½¿ç”¨ç­‰å·\"=â€œèµ‹å€¼å¹¶é\"åˆå§‹åŒ–â€ã€‚æˆå‘˜å˜é‡çš„åˆå§‹åŒ–æ˜¯åœ¨æ„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å®ç°ï¼Œæ•ˆç‡æ›´é«˜ã€‚ C++åˆå§‹åŒ–çš„æ¬¡åº: Base classæ€»æ˜¯æ—©äºDerived Classè¢«åˆå§‹åŒ–ï¼› Classå†…çš„æˆå‘˜å˜é‡æ€»æ˜¯ä»¥å£°æ˜æ¬¡åºè¢«åˆå§‹åŒ–ï¼› ä¸¾ä¾‹: ä¸‹å›¾ä¸­çš„ä»£ç åˆå§‹åŒ–é¡ºåºä¸ºå£°æ˜é¡ºåº\"age_$\\rightarrow$name_$\\rightarrow$gender_ $\\rightarrow$isVip_â€ class Customer { public: //è¿™é‡Œåªæ˜¯ä¸ºäº†éªŒè¯ï¼Œå¦‚æœæ˜¯å®é™…å·¥ç¨‹ä»£ç ï¼Œå»ºè®®åˆå€¼åˆ—è¡¨å°½é‡å’Œå£°æ˜é¡ºåºä¿æŒä¸€è‡´ Customer(std::string gender, uint8_t age, std::string name, bool isVip = false) :isVip_(isVip), gender_(gender), name_(name), age_(age) {} private: uint8_t age_; std::string name_; std::string gender_; bool isVip_; }; By the way ğŸ’¡ï¼šä»»ä½•ä¸€ä¸ªæˆå‘˜å˜é‡açš„åˆå§‹åŒ–æµç¨‹ï¼šç±»å†…å£°æ˜èµ‹åˆå€¼(C++11)-\u003eæ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨-\u003eæ„é€ å‡½æ•°ä½“å†…èµ‹å€¼. å‡½æ•°ä½“å¤–staticå˜é‡ç§°ä¸ºnon-local staticå˜é‡ï¼Œè¿™ç§å˜é‡å¯ä»¥åœ¨å„è‡ªçš„ç¼–è¯‘å•å…ƒæ­£å¸¸å·¥ä½œï¼Œä½†C++æ— æ³•ä¿è¯åˆå§‹åŒ–æ¬¡åºï¼Œå½“ç¼–è¯‘å•å…ƒä¹‹é—´éœ€è¦å…±äº«å˜é‡æ—¶ï¼Œè€Œè¯¥å˜é‡ä¾èµ–non-local staticï¼Œå°±å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚ è§£å†³åŠæ³•æ˜¯å°†è¿™æ ·çš„å˜é‡æ”¾å›å‡½æ•°ä½“å†…ï¼Œæˆä¸ºlocal staticï¼Œå› ä¸ºC++ç¡®ä¿åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶ä¸€å®šä¼šåˆå§‹åŒ–è¿™ä¸ªstaticå˜é‡ã€‚ ","date":"2023-07-29","objectID":"/posts/partone/:1:4","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"CH2.æ„é€ /ææ„/èµ‹å€¼è¿ç®— ","date":"2023-07-29","objectID":"/posts/partone/:2:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R05 äº†è§£C++é»˜è®¤ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•° ç¼–è¯‘å™¨å¯ä»¥æš—è‡ªä¸ºClassåˆ›å»ºdefaultæ„é€ å‡½æ•°ï¼Œcopyæ„é€ å‡½æ•°(å¤åˆ¶æ„é€ )ï¼Œcopy assigment(èµ‹å€¼æ„é€ )æ“ä½œç¬¦ï¼Œä»¥åŠdefaultææ„å‡½æ•°ã€‚ class EmptyClass{}; ç­‰ä»·äº: class EmptyClass { public: EmptyClass() {} // defaultæ„é€ å‡½æ•° EmptyClass(const EmptyClass\u0026 rhs) {}//copyæ„é€ å‡½æ•° ~EmptyClass() {}//defaultææ„å‡½æ•°ï¼Œæ³¨æ„æ˜¯non-virtual EmptyClass\u0026 operator=(const EmptyClass\u0026 rhs) {}//copy assignmentæ“ä½œç¬¦ }; å¦‚æœä¸€ä¸ªéç©ºClassè‡ªè¡Œå£°æ˜äº†æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸å†ä¸ºå®ƒåˆ›å»ºdefaultæ„é€ å‡½æ•°; å¦‚æœä¸€ä¸ªClasså†…æœ‰å¼•ç”¨å˜é‡æˆ–constå˜é‡ï¼Œç¼–è¯‘å™¨ä¸ä¼šä¸ºå…¶ç”Ÿæˆcopy-assignmentå‡½æ•°ï¼Œéœ€è¦è‡ªå·±å®ç°. class NameObject { public: NameObject(std::string\u0026 name, const int value) :nameValue_(name), objectVal_(value) {} private: std::string\u0026 nameValue_; const int objectVal_; };//è€ƒè™‘ä»¥ä¸‹åº”ç”¨ä»£ç  std::string name(\"Mike\"), name2(\"Nicky\"); NameObject nObj(name,22), nObj2(name2,33); nObj2 = nObj;//è¿™ä¸€å¥ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼Œå› ä¸ºå¼•ç”¨ä¸èƒ½æŒ‡å‘2ä¸ªå¯¹è±¡ï¼Œä¸”constä¸å¯æ”¹ ","date":"2023-07-29","objectID":"/posts/partone/:2:1","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R06 ä¸æƒ³ç¼–è¯‘å™¨çš„è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°,æ˜ç¡®æ‹’ç» æŸäº›åœºæ™¯ï¼Œç±»å¯¹è±¡æœ¬èº«æ˜¯è®¤ä¸ºç‹¬ä¸€æ— äºŒçš„ï¼Œæ¯”å¦‚æè¿°äººç‰©æ€§æ ¼çš„ç±»Personality(å¯èƒ½ä¸æ°å½“)ï¼Œä¸åŒçš„äººæ€§æ ¼ä¸åŒï¼Œè‚¯å®šæ˜¯ä¸å¸Œæœ›èƒ½å¤åˆ¶/èµ‹å€¼çš„ã€‚ å¦‚æœä¸æƒ³ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆé‚£å‡ ä¸ªå‡½æ•°ï¼Œæ¯”å¦‚ä¸æƒ³è¦å¤åˆ¶æ„é€ æˆ–èµ‹å€¼æ„é€ ï¼Œå°±æ˜ç¡®åœ¨ä»£ç ä¸­ç¦æ­¢ï¼Œä¹Ÿé˜²æ­¢å¤–éƒ¨ç”¨æˆ·ä½¿ç”¨ã€‚ æŠ€å·§1ï¼šå¯ä»¥å£°æ˜ä¸ºprivateå‡½æ•°ä½†æ˜¯ä¸ç»™å‡ºå®ç°ï¼Œè®©ç¼–è¯‘å™¨æŠ¥é”™ï¼› æŠ€å·§2ï¼šå¯ä»¥è®¾ç«‹åŸºç±»Baseï¼Œè®©å¤åˆ¶æ„é€ å’Œèµ‹å€¼æ„é€ éƒ½ä¸ºprivateå‡½æ•°ï¼Œè®©ç›®æ ‡ç±»ç»§æ‰¿äºBaseç±»ã€‚ By the way C++11é’ˆå¯¹æ­¤ç±»æƒ…å†µï¼Œç»™äºˆäº†deleteå…³é”®å­—ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œåœ¨æˆå‘˜å‡½æ•°åé¢æ–°å¢\"=delete\"ï¼Œå³å¯æ˜¾å¼åœ°æ‹’ç»è¿™ä¸ªå‡½æ•°çš„ç”Ÿæˆå’Œè°ƒç”¨.ä¸¾ä¾‹å¦‚ä¸‹: class A { public: A(const A\u0026) = delete; // æ‹·è´æ„é€  A\u0026 operator=(const A\u0026) = delete; // æ‹·è´èµ‹å€¼ }; ","date":"2023-07-29","objectID":"/posts/partone/:2:2","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R07 ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•° é’ˆå¯¹Base* pBase= new DerivedObj()ï¼Œé‡Šæ”¾pBaseæ—¶ï¼Œå¦‚æœBaseåŸºç±»çš„ææ„å‡½æ•°None-Virtualï¼Œåˆ™ä¼šå¯¼è‡´Derivedçš„ææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ï¼Œé€ æˆå†…å­˜ä¸å®Œå…¨é‡Šæ”¾ï¼Œå³å†…å­˜æ³„æ¼ï¼› Non-Virtualçš„Classä¸è¦åšåŸºç±»ï¼› å¦‚æœä¸åšåŸºç±»ï¼Œå°±ä¸è¦å£°æ˜ææ„å‡½æ•°ä¸ºvirtualå‡½æ•°ï¼Œé¿å…è™šè¡¨ä¸ºå…¶åˆ†é…vptré€ æˆæµªè´¹ï¼› å¦‚æœæƒ³è¦æŠ½è±¡ç±»ï¼Œåˆæš‚æ—¶æ²¡æœ‰åˆé€‚æ¥å£ï¼Œå¯ä»¥è®©å…ˆè™šææ„æˆä¸ºçº¯è™šå‡½æ•°ï¼Œä¾‹å¦‚ class RawData{ public: virtual ~RawData() = 0; }; // è¿™é‡Œç‰¹æ®Šçš„æ˜¯ï¼Œéœ€è¦ä¸ºè¿™ä¸ªçº¯è™šå‡½æ•°æä¾›å®šä¹‰ ~RawData::RawData(){} ","date":"2023-07-29","objectID":"/posts/partone/:2:3","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R08 åˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•° ææ„å‡½æ•°æœ€å¥½ä¸è¦åå‡ºå¼‚å¸¸ å¯¹äºæŸä¸ªWidgetç±»ï¼Œå¦‚æœææ„å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆvector\u003cwidget\u003eææ„æ—¶å¯èƒ½è¿ç»­æŠ›å‡ºå¤šä¸ªå¼‚å¸¸ä»¥è‡³äºæ— æ³•å¤„ç†ï¼Œç›´æ¥å¯¼è‡´æå‰ç¨‹åºç»“æŸæˆ–è€…æœªå®šä¹‰è¡Œä¸ºã€‚ å¦‚æœæœ‰æŸä¸ªå‡½æ•°å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶éœ€è¦å¯¹å¼‚å¸¸åšå‡ºååº”ï¼Œåº”è¯¥æä¾›ä¸€ä¸ªéææ„çš„å‡½æ•°æ¥å¤„ç† æ³¨æ„ï¼Œåœ¨ææ„ä¸­æŠ›å¼‚å¸¸å¹¶åä¸‹(catchågo-on-execute)ï¼Œä¼šæ©ç›–é”™è¯¯ï¼Œä¹Ÿä¸æ˜¯ä¸ªå¥½åŠæ³•;æŠ›å¼‚å¸¸åcatchä½å¹¶std::abort()åè€Œå¯ä»¥æå‰ç»ˆç»“ã€æœªå®šä¹‰è¡Œä¸ºã€ã€‚ ","date":"2023-07-29","objectID":"/posts/partone/:2:4","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R09 ç»ä¸åœ¨æ„é€ å’Œææ„è¿‡ç¨‹ä¸­è°ƒç”¨virtualå‡½æ•° åœ¨Derived-Classçš„Base-Classæ„é€ æœŸé—´ï¼Œå¯¹è±¡çš„ç±»å‹æ˜¯Base-Classï¼Œè€ŒéDerivedï¼Œå³ä½¿dynamic_castä¹Ÿæ˜¯è¿™æ ·è®¤ä¸ºçš„ï¼Œå› ä¸ºæ­¤æ—¶virtualå‡½æ•°ä¸ä¼šä¸‹é™åˆ°Derived-Classçš„é˜¶å±‚ï¼›æ¢å¥è¯è¯´==\u003e â€œåœ¨Base-Classæ„é€ æœŸé—´ï¼Œvirtualå‡½æ•°ä¸æ˜¯virtualå‡½æ•°â€ï¼› åœ¨ææ„çš„æ—¶å€™ä¹Ÿæ˜¯ç±»ä¼¼é“ç†ï¼Œä¹Ÿä¸è¦åœ¨ææ„å‡½æ•°ä¸­è°ƒç”¨virtualå‡½æ•°ï¼Œé—´æ¥è°ƒç”¨ä¹Ÿä¸è¡Œ(æ¯”å¦‚non-Virtual-\u003evirtual)ï¼› é‚£ä¹ˆæ›¿ä»£æ–¹æ¡ˆæ˜¯ï¼Ÿ å¦‚æœæœ‰è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå¸Œæœ›åœ¨å­ç±»æ„é€ æ—¶èƒ½è°ƒç”¨çˆ¶ç±»çš„fooå‡½æ•°(ä¸‹æ–¹logTransactionå‡½æ•°)ï¼Œé‚£ä¹ˆå°†fooæ”¹ä¸ºnon-Virtualå‡½æ•°ï¼Œå¹¶ä¸”å­ç±»æ„é€ æ—¶è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œæœ‰å‚æ•°æ—¶ä¸€å¹¶ä¼ è¿‡å»ï¼› class Transaction { public: explict Transaction(const std::string\u0026 info,int id):id_(id) { logTransaction(info); } void logTransaction(const std::string\u0026 info) { std::cout \u003c\u003c info.c_str(); }//non-Virtualå‡½æ•° private: int id_; }; class BuyTransaction :public Transaction { public: //å°†logä¿¡æ¯ä¼ é€’ç»™ åŸºç±»Transactionæ„é€ å‡½æ•°ï¼› å¹¶åˆå§‹åŒ–äº†åŸºç±»æˆå‘˜ BuyTransaction(const std::string\u0026 info, int id) :Transaction(info,id) {/**/} }; By the way ä¸Šè¿°ä»£ç ä¸­ï¼Œå¦‚æœæœ‰å‡ ä¸ªBaseæ„é€ å‡½æ•°ï¼Œå°±å¾—å†™å‡ ä¸ªDerivedæ„é€ å‡½æ•°ä¼ å‚ã€‚ä¸ºäº†ç®€åŒ–è¿™ä¸€æ­¥éª¤ï¼Œ åœ¨ç°ä»£C++11ï¼Œæ¨å‡ºäº†ç»§æ‰¿æ„é€ å‡½æ•°(Inheriting Constructor)ï¼Œå­ç±»å¯ä»¥ä¸€ä¸ªéƒ½ä¸ç”¨å†™ï¼Œç›´æ¥å†™ä¸€å¥usingå£°æ˜å³å¯ï¼Œä½¿ç”¨using BaseClass::BaseClassçš„å½¢å¼ï¼Œå¦‚ä¸‹ğŸ‘‡ class BuyTransaction :public Transaction { public: using Transaction::Transaction; //å…¶ä»– }; ","date":"2023-07-29","objectID":"/posts/partone/:2:5","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R10 ä»¤operator=è¿”å›ä¸€ä¸ªreference to *this å…³äºèµ‹å€¼æ“ä½œç¬¦operator=ï¼Œä¸»æµåšæ³•æ˜¯: class Widget { public: Widget\u0026 operator=(const Widget \u0026rhs) { //... do some thing return *this; } }; ä¸Šè¿°åšæ³•ä¸å±€é™äºoperator=ï¼Œè¿˜æœ‰operator += ,-=,*=,/=ç­‰å…¶ä»–èµ‹å€¼è¿ç®—ç¬¦ã€‚ è¯¥ä¸»æµåè®®/åšæ³•ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œåªæ˜¯ä¸ªå»ºè®®ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥å…è®¸è¿ç»­èµ‹å€¼($x=y=z$çš„å½¢å¼)ã€‚ è¯¥åè®®è¢«å†…ç½®ç±»å‹ï¼Œä»¥åŠSTLçš„ç±»å‹(å¦‚string,vector,complex,shared_ptr)å…±åŒéµå®ˆã€‚ ","date":"2023-07-29","objectID":"/posts/partone/:2:6","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R11 åœ¨operator=ä¸­å¤„ç†\"è‡ªæˆ‘èµ‹å€¼\" ä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™è‡ªå·±ï¼Œè¿™ç§çœ‹èµ·æ¥æœ‰ç‚¹å‚»çš„åšæ³•ï¼Œæœ‰æ—¶å€™ä¼šæ¯”è¾ƒéš¾ä»¥å‘è§‰ã€‚æ¯”å¦‚ï¼ša[i] = a[j]ï¼Œå¦‚æœ $i$ å’Œ $j$ ç›¸ç­‰ï¼Œå°±æ˜¯â€œè‡ªæˆ‘èµ‹å€¼â€çš„ç»å…¸åœºæ™¯äº†ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå°½é‡å®Œå¤‡çš„èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ğŸ¤”ã€‚ è€ƒè™‘å¦‚ä¸‹ç±»MapWidgetï¼Œå†…æœ‰æ•°æ®è£¸æŒ‡é’ˆBitMap *pb_ï¼Œåœ¨èµ‹å€¼æ—¶åŒæ—¶è€ƒè™‘å¼‚å¸¸å®‰å…¨å’Œ â€œè‡ªæˆ‘èµ‹å€¼â€ å®‰å…¨(è®¤åŒæµ‹è¯•ä¿éšœè‡ªæˆ‘èµ‹å€¼å®‰å…¨)ï¼Œæ˜¯ä¸€ä¸ªç›¸å¯¹ä¸é”™çš„å®ç°ã€‚ä½†æ˜¯ï¼Œè®¤åŒæµ‹è¯•ä¼šé™ä½è¿è¡Œæ•ˆç‡ï¼Œæ ¹æ®å®é™…å·¥ç¨‹å®è·µæƒ…å†µ(è‡ªæˆ‘èµ‹å€¼æ¦‚ç‡æä½ )å¯ä»¥é…Œæƒ…å»æ‰ã€‚ class BitMap {/*çœç•¥ç±»å£°æ˜\u0026å®ç°*/}; class MapWidget { private: BitMap * pb_ = nullptr; public: explicit MapWidget(BitMap *pb) :pb_(pb) {} MapWidget\u0026 operator=(const MapWidget\u0026 rhs) { if (this == \u0026rhs) return *this; //è¿™ä¸€å¥ä¸ºè®¤åŒæµ‹è¯•(identity test) BitMap *pOrig = pb_;//ä¸è¦ä¸€ä¸Šæ¥å°±deleteï¼Œè€Œæ˜¯ä¿å­˜this-\u003epb_ pb_ = new BitMap(*rhs.pb_);//å› ä¸ºè¿™ä¸€å¥å¯èƒ½æŠ›å¼‚å¸¸ delete pOrig; return *this; } }; Copy and SwapæŠ€æœ¯ ä¸Šæ–‡ä¸­ä¿éšœå¼‚å¸¸å®‰å…¨å’Œ **â€œè‡ªæˆ‘èµ‹å€¼â€**å®‰å…¨çš„æŠ€æœ¯æ‰‹æ®µï¼Œå¦å¤–ä¸€ä¸ªåŠæ³•ï¼Œå°±æ˜¯Copy and SwapæŠ€æœ¯ã€‚è¿™ä¸ªæŠ€æœ¯çš„å…³é”®åœ¨äºâ€œä¿®æ”¹å¯¹è±¡æ•°æ®çš„å‰¯æœ¬ï¼Œç„¶ååœ¨ä¸€ä¸ªä¸æŠ›å¼‚å¸¸çš„å‡½æ•°ä¸­å°†ä¿®æ”¹çš„æ•°æ®å’ŒåŸä»¶ç½®æ¢ â€ã€‚ void MapWidget::Swap(MapWidget\u0026 rhs){std::swap(rhs.pb_,pb_);} MapWidget\u0026 MapWidget::operator=(const MapWidget\u0026 rhs) { MapWidget temp(rhs); Swap(temp); return *this; } ","date":"2023-07-29","objectID":"/posts/partone/:3:0","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["C++"],"content":"R12 å¤åˆ¶å¯¹è±¡æ—¶åˆ«å¿˜è®°å…¶æ¯ä¸€ä¸ªæˆåˆ† ç¼–å†™ç±»çš„Copyingå‡½æ•°æ—¶éœ€è¦åšåˆ°2ç‚¹ è¿™é‡Œçš„Copyingå‡½æ•°æ˜¯æŒ‡æœ‰copyå±æ€§çš„ç‰¹æ®Šå‡½æ•°==\u003e copyæ„é€ å‡½æ•°å’Œcopyèµ‹å€¼æ“ä½œç¬¦ã€‚ å¤åˆ¶æ‰€æœ‰Localæˆå‘˜å˜é‡ å¦‚æœæˆå‘˜å¤åˆ¶çš„æ—¶å€™æœ‰é—æ¼ï¼Œç¼–è¯‘å™¨å¹¶ä¸ä¼šæœ‰æ€¨è¨€ï¼Œè¿™å°±åŸ‹ä¸‹äº†éšæ‚£ã€‚å¦‚æœæ–°å¢äº†æˆå‘˜ï¼Œè¦å¯¹åº”ä¿®æ”¹Copyingå‡½æ•°ã€‚ è°ƒç”¨æ‰€æœ‰Base-Classå†…éƒ¨çš„é€‚å½“çš„Copyå‡½æ•° å…·ä½“ä»£ç çš„æ¨èå®ç° å¦‚ä¸‹ğŸ‘‡ï¼š class Customer { public: Customer(std::string name, float money):name_(name),money_(money) {} private: std::string name_; float money_; }; class VipCustomer :public Customer { public: //æ³¨æ„ï¼šæ´¾ç”Ÿç±»è¦å¤åˆ¶åŸºç±»é‚£éƒ¨åˆ†çš„æˆå‘˜å˜é‡ using Customer::Customer; //å‚è€ƒR09 VipCustomer(const VipCustomer\u0026 rhs) :priority_(rhs.priority_),Customer(rhs){} VipCustomer\u0026 operator=(const VipCustomer\u0026 rhs){ Customer::operator=(rhs); priority_ = rhs.priority_; return *this; } void setPriority(int priority) { priority_ = priority; }; private: int priority_;//å­ç±»ç‹¬æœ‰æˆå‘˜å¯ä»¥å•ç‹¬setå‡½æ•°èµ‹å€¼ï¼Œæˆ–è€…æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨èµ‹å€¼ }; ä¸è¦ç”¨ä¸€ä¸ªCopyingå‡½æ•°å»å®ç°å¦ä¸€ä¸ª ä»¤copy-assignmentæ“ä½œç¬¦è°ƒç”¨copyæ„é€ å‡½æ•°æ˜¯ä¸åˆç†çš„ï¼›åä¹‹ï¼Œåè€…è°ƒç”¨å‰è€…ä¹Ÿæ˜¯æ— æ„ä¹‰çš„ã€‚ å¦‚æœ2è€…æœ‰å¤§é‡çš„ä»£ç æ˜¯ç›¸åŒçš„ï¼Œå¯ä»¥å‰¥ç¦»ä¸€ä¸ªç±»å†…privateç±»å‹çš„initå‡½æ•°å‡ºæ¥ï¼Œæä¾›ç»™ä¸Šè¿°2è€…è°ƒç”¨ã€‚ ref: [1]. https://blog.csdn.net/cltcj/category_12098441.html [2]. https://kissingfire123.github.io/2021/12/06_effective-c-%e4%b9%8b%e5%ad%a6%e4%b9%a0%e6%80%bb%e7%bb%93%e4%b8%80/ ","date":"2023-07-29","objectID":"/posts/partone/:3:1","tags":["Effective"],"title":"Effective C++ (ç¬¬3ç‰ˆ) ç²¾è¯»æ€»ç»“ [1]","uri":"/posts/partone/"},{"categories":["draft"],"content":"åˆ é™¤æŒ‡å®šå€¼å¯¹è±¡ å‡å®šä½ æœ‰ä¸€ä¸ªå®¹çº³intæ ‡å‡†STLå®¹å™¨: Container\u003cint\u003e c; è€Œä½ æƒ³æŠŠcä¸­æ‰€æœ‰å€¼ä¸º2023çš„å¯¹è±¡éƒ½å»æ‰ã€‚ ä»¤äººåƒæƒŠçš„æ˜¯ï¼Œå®Œæˆè¿™é¡¹ä»»åŠ¡çš„æ–¹æ³•å› ä¸åŒçš„å®¹å™¨ç±»å‹è€Œä¸åŒï¼šæ²¡æœ‰ä¸€ç§æ–¹æ³•æ˜¯é€šç”¨çš„ã€‚ å½“cæ˜¯è¿ç»­å†…å­˜å®¹å™¨ï¼ˆvectorã€dequeæˆ–stringï¼‰ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯erase-removeæƒ¯ç”¨æ³• c.erase(remove(c.begin(), c.end(), 2023), c.end()); // å½“cæ˜¯vectorã€stringæˆ–dequeæ—¶ï¼Œ // erase-removeæƒ¯ç”¨æ³•æ˜¯å»é™¤ç‰¹å®šå€¼çš„å…ƒç´ çš„æœ€ä½³æ–¹æ³• Note STL å’Œ vectorä¸­çš„removeçš„ä½œç”¨æ˜¯å°†ç­‰äºvalueçš„å…ƒç´ æ”¾åˆ°vectorçš„å°¾éƒ¨ï¼Œä½†å¹¶ä¸å‡å°‘vectorçš„sizeï¼› vectorä¸­eraseçš„ä½œç”¨æ˜¯åˆ é™¤æ‰æŸä¸ªä½ç½®positionæˆ–ä¸€æ®µåŒºåŸŸ(begin, end)ä¸­çš„å…ƒç´ ï¼Œå‡å°‘å…¶sizeï¼Œè¿”å›è¢«åˆ é™¤å…ƒç´ ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ã€‚ è¿™æ–¹æ³•ä¹Ÿé€‚åˆäºlistï¼Œä½†æ˜¯listçš„æˆå‘˜å‡½æ•°removeæ›´é«˜æ•ˆï¼š // å½“cæ˜¯listæ—¶ï¼Œremoveæˆå‘˜å‡½æ•°æ˜¯å»é™¤ç‰¹å®šå€¼çš„å…ƒç´ çš„æœ€ä½³æ–¹æ³• c.remove(1963); å½“cæ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼ˆå³setã€multisetã€mapæˆ–multimapï¼‰æ—¶ï¼Œä½¿ç”¨ä»»ä½•å«åšremoveçš„ä¸œè¥¿éƒ½æ˜¯å®Œå…¨é”™è¯¯çš„ã€‚è¿™æ ·çš„å®¹å™¨æ²¡æœ‰å«åšremoveçš„æˆå‘˜å‡½æ•°ï¼Œè€Œä¸”ä½¿ç”¨removeç®—æ³•å¯èƒ½è¦†ç›–å®¹å™¨å€¼ï¼Œæ½œåœ¨åœ°ç ´åå®¹å™¨ã€‚å¯¹äºå…³è”å®¹å™¨ï¼Œè§£å†³é—®é¢˜çš„é€‚å½“æ–¹æ³•æ˜¯è°ƒç”¨eraseï¼š // å½“cæ˜¯æ ‡å‡†å…³è”å®¹å™¨æ—¶,eraseæˆå‘˜å‡½æ•°æ˜¯å»é™¤ç‰¹å®šå€¼çš„å…ƒç´ çš„æœ€ä½³æ–¹æ³• c.erase(2023); è¿™å¾ˆé«˜æ•ˆï¼ŒåªèŠ±è´¹å¯¹æ•°æ—¶é—´ï¼Œåºåˆ—å®¹å™¨çš„åŸºäºåˆ é™¤çš„æŠ€æœ¯éœ€è¦çº¿æ€§æ—¶é—´ã€‚å¹¶ä¸”ï¼Œå…³è”å®¹å™¨çš„eraseæˆå‘˜å‡½æ•°æœ‰åŸºäºç­‰ä»·è€Œä¸æ˜¯ç›¸ç­‰çš„ä¼˜åŠ¿ã€‚ ","date":"2023-07-28","objectID":"/posts/clause_9/:1:0","tags":["draft"],"title":"Effective STL [9] | åœ¨åˆ é™¤é€‰é¡¹ä¸­ä»”ç»†é€‰æ‹©","uri":"/posts/clause_9/"},{"categories":["draft"],"content":"æ¶ˆé™¤åˆ¤æ–­å¼ æ¶ˆé™¤ä¸‹é¢åˆ¤æ–­å¼ï¼Œè¿”å›çœŸçš„æ¯ä¸ªå¯¹è±¡: bool badValue(int x); // è¿”å›xæ˜¯å¦æ˜¯â€œbadâ€ å¯¹äºåºåˆ—å®¹å™¨ï¼ˆvectorã€stringã€dequeå’Œlistï¼‰ï¼ŒæŠŠæ¯ä¸ªremoveæ›¿æ¢ä¸ºremove_ifï¼š c.erase(remove_if(c.begin(), c.end(), badValue), // å½“cæ˜¯vectorã€stringæˆ–dequeæ—¶ c.end()); // è¿™æ˜¯å»æ‰badValueè¿”å›çœŸçš„å¯¹è±¡çš„æœ€ä½³æ–¹æ³• c.remove_if(badValue); // å½“cæ˜¯listæ—¶è¿™æ˜¯å»æ‰badValueè¿”å›çœŸçš„å¯¹è±¡çš„æœ€ä½³æ–¹æ³• å¯¹äºæ ‡å‡†å…³è”å®¹å™¨ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¤„ç†è¯¥é—®é¢˜ï¼Œä¸€ä¸ªæ›´å®¹æ˜“ç¼–ç ï¼Œå¦ä¸€ä¸ªæ›´é«˜æ•ˆã€‚ AssocContainer\u003cint\u003e c; // cç°åœ¨æ˜¯ä¸€ç§æ ‡å‡†å…³è”å®¹å™¨ AssocContainer\u003cint\u003e goodValues; // ç”¨äºå®¹çº³ä¸åˆ é™¤çš„å€¼çš„ä¸´æ—¶å®¹å™¨ remove_copy_if(c.begin(), c.end(),inserter(goodValues, goodValues.end()), badValue); c.swap(goodValues); // äº¤æ¢cå’ŒgoodValuesçš„å†…å®¹ å¯¹è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯å®ƒæ‹·è´äº†æ‰€æœ‰ä¸åˆ é™¤çš„å…ƒç´ ã€‚ å› ä¸ºå…³è”å®¹å™¨æ²¡æœ‰æä¾›ç±»ä¼¼remove_ifçš„æˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥å¿…é¡»å†™ä¸€ä¸ªå¾ªç¯æ¥è¿­ä»£cä¸­çš„å…ƒç´ ï¼Œå’ŒåŸæ¥ä¸€æ ·åˆ é™¤å…ƒç´ ã€‚ä¸å¹¸çš„æ˜¯ï¼Œé‚£äº›æ­£ç¡®å·¥ä½œçš„ä»£ç å¾ˆå°‘æ˜¯è·ƒå‡ºè„‘æµ·çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯å¾ˆå¤šç¨‹åºå‘˜é¦–å…ˆæƒ³åˆ°çš„ï¼š AssocContainer\u003cint\u003e c; ... for (AssocContainer\u003cint\u003e::iterator i = c.begin(); i!= c.end(); ++i) { // æ¸…æ™°ï¼Œç›´æˆªäº†å½“è€Œæ¼æ´ç™¾å‡ºçš„,ç”¨äºåˆ é™¤cä¸­badValueè¿”å›çœŸçš„æ¯ä¸ªå…ƒç´ çš„ä»£ç  if (badValue(*i)) { c.erase(i); } } // ä¸è¦è¿™ä¹ˆåšï¼ è¿™æœ‰æœªå®šä¹‰çš„è¡Œä¸ºã€‚å½“å®¹å™¨çš„ä¸€ä¸ªå…ƒç´ è¢«åˆ æ—¶ï¼ŒæŒ‡å‘é‚£ä¸ªå…ƒç´ çš„æ‰€æœ‰è¿­ä»£å™¨éƒ½å¤±æ•ˆäº†ã€‚ å½“c.erase(i)è¿”å›æ—¶ï¼Œiå·²ç»å¤±æ•ˆã€‚é‚£å¯¹äºè¿™ä¸ªå¾ªç¯æ˜¯ä¸ªåæ¶ˆæ¯ï¼Œå› ä¸ºåœ¨eraseè¿”å›åï¼Œié€šè¿‡forå¾ªç¯çš„++iéƒ¨åˆ†è‡ªå¢ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯åœ¨è°ƒç”¨eraseä¹‹å‰å°±å¾—åˆ°äº†cä¸­ä¸‹ä¸€å…ƒç´ çš„è¿­ä»£å™¨ã€‚æœ€å®¹æ˜“çš„æ–¹æ³•æ˜¯å½“æˆ‘ä»¬è°ƒç”¨æ—¶åœ¨iä¸Šä½¿ç”¨åç½®é€’å¢ï¼š AssocContainer\u003cint\u003e c; ... for (AssocContainer\u003cint\u003e::iterator i = c.begin(); i != c.end();/*nothing*/ ){// forå¾ªç¯çš„ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ç©ºçš„ï¼›iç°åœ¨åœ¨ä¸‹é¢è‡ªå¢ if (badValue(*i)) { c.erase(i++); // å¯¹äºåçš„å€¼ï¼ŒæŠŠå½“å‰çš„iä¼ ç»™eraseï¼Œç„¶åä½œä¸ºå‰¯ä½œç”¨å¢åŠ iï¼› } else { ++i; // å¯¹äºå¥½çš„å€¼ï¼Œåªå¢åŠ i } } ç²¾é«“çš„åœ°æ–¹åœ¨äºï¼šè¿™ç§è°ƒç”¨eraseçš„è§£å†³æ–¹æ³•å¯ä»¥å·¥ä½œï¼Œå› ä¸ºè¡¨è¾¾å¼i++çš„å€¼æ˜¯içš„æ—§å€¼ï¼Œä½†ä½œä¸ºå‰¯ä½œç”¨ï¼Œiå¢åŠ äº†ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬æŠŠiçš„æ—§å€¼ï¼ˆæ²¡å¢åŠ çš„ï¼‰ä¼ ç»™eraseï¼Œä½†åœ¨eraseå¼€å§‹æ‰§è¡Œå‰iå·²ç»è‡ªå¢äº†ã€‚ ç°åœ¨ä¸ä»…åˆ é™¤badValueè¿”å›çœŸçš„æ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸”æ¯å½“ä¸€ä¸ªå…ƒç´ è¢«åˆ æ‰æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæƒ³æŠŠä¸€æ¡æ¶ˆæ¯å†™åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚ å¯ä»¥é€šè¿‡ç›´æ¥ä»åŸå®¹å™¨åˆ é™¤å…ƒç´ æ¥é¿å¼€æ‹·è´ã€‚ â€œæ›´å®¹æ˜“ä½†æ•ˆç‡è¾ƒä½â€çš„è§£å†³æ–¹æ¡ˆç”¨remove_copy_ifæŠŠéœ€è¦çš„å€¼æ‹·è´åˆ°ä¸€ä¸ªæ–°å®¹å™¨ä¸­ï¼Œç„¶åæŠŠåŸå®¹å™¨çš„å†…å®¹å’Œæ–°çš„äº¤æ¢ï¼š å¯¹äºå…³è”å®¹å™¨ï¼Œè¿™è¯´å¤šå®¹æ˜“å°±æœ‰å¤šå®¹æ˜“ï¼Œå› ä¸ºåªéœ€è¦å¯¹åˆšæ‰å¼€å‘çš„å¾ªç¯åšä¸€ä¸ªå¾®ä¸è¶³é“çš„ä¿®æ”¹å°±è¡Œäº†ï¼š ofstream logFile; // è¦å†™å…¥çš„æ—¥å¿—æ–‡ä»¶ AssocContainer\u003cint\u003e c; ... for (AssocContainer\u003cint\u003e::iterator i = c.begin(); i !=c.end();){// å¾ªç¯æ¡ä»¶å’Œå‰é¢ä¸€æ · if (badValue(*i)){ logFile \u003c\u003c \"Erasing \" \u003c\u003c *i \u003c\u003c'\\n'; // å†™æ—¥å¿—æ–‡ä»¶ c.erase(i++); // åˆ é™¤å…ƒç´  } else { ++i; } } ç°åœ¨æ˜¯vectorã€stringå’Œdequeä¸èƒ½å†ä½¿ç”¨erase-removeæƒ¯ç”¨æ³•ï¼Œå› ä¸ºæ²¡æœ‰åŠæ³•è®©eraseæˆ–removeå†™æ—¥å¿—æ–‡ä»¶ã€‚ è€Œä¸”ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨åˆšåˆšä¸ºå…³è”å®¹å™¨å¼€å‘çš„å¾ªç¯ï¼Œå› ä¸ºå®ƒä¸ºvectorã€stringå’Œdequeäº§ç”Ÿæœªå®šä¹‰çš„è¡Œä¸ºï¼ è¦è®°å¾—å¯¹äºé‚£æ ·çš„å®¹å™¨ï¼Œè°ƒç”¨eraseä¸ä»…ä½¿æ‰€æœ‰æŒ‡å‘è¢«åˆ å…ƒç´ çš„è¿­ä»£å™¨å¤±æ•ˆï¼Œä¹Ÿä½¿è¢«åˆ å…ƒç´ ä¹‹åçš„æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆã€‚ åŒ…æ‹¬æ‰€æœ‰iä¹‹åçš„è¿­ä»£å™¨ã€‚æˆ‘ä»¬å†™i++ï¼Œ++iæˆ–ä½ èƒ½æƒ³èµ·çš„å…¶å®ƒä»»ä½•ä¸œè¥¿éƒ½æ²¡æœ‰ç”¨ï¼Œå› ä¸ºæ²¡æœ‰èƒ½å¯¼è‡´è¿­ä»£å™¨æœ‰æ•ˆçš„ã€‚å¿…é¡»åˆ©ç”¨eraseçš„è¿”å›å€¼ã€‚é‚£ä¸ªè¿”å›å€¼æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼šä¸€æ—¦åˆ é™¤å®Œæˆï¼Œå®ƒå°±æ˜¯æŒ‡å‘ç´§æ¥åœ¨è¢«åˆ å…ƒç´ ä¹‹åçš„å…ƒç´ çš„æœ‰æ•ˆè¿­ä»£å™¨ã€‚ æˆ‘ä»¬è¿™ä¹ˆå†™ï¼š for (SeqContainer\u003cint\u003e::iterator i = c.begin(); i != c.end();){ if (badValue(*i)){ logFile \u003c\u003c \"Erasing \" \u003c\u003c *i \u003c\u003c '\\n'; i = c.erase(i); // é€šè¿‡æŠŠeraseçš„è¿”å›å€¼ } // èµ‹ç»™iæ¥ä¿æŒiæœ‰æ•ˆ else { ++i; } } è¿™å¯ä»¥å¾ˆå¥½åœ°å·¥ä½œï¼Œä½†åªç”¨äºæ ‡å‡†åºåˆ—å®¹å™¨ã€‚ æ ‡å‡†å…³è”å®¹å™¨çš„eraseçš„è¿”å›ç±»å‹æ˜¯voidã€‚å¯¹äºé‚£äº›å®¹å™¨ï¼Œä½ å¿…é¡»ä½¿ç”¨â€œåç½®é€’å¢ä½ è¦ä¼ ç»™eraseçš„è¿­ä»£å™¨â€æŠ€æœ¯ã€‚ä¸ºäº†é¿å…ä½ å¥‡æ€ªlistçš„é€‚å½“æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Œäº‹å®è¡¨æ˜å¯¹äºè¿­ä»£å’Œåˆ é™¤ï¼Œä½ å¯ä»¥åƒvector/string/dequeä¸€æ ·æˆ–åƒå…³è”å®¹å™¨ä¸€æ ·å¯¹å¾…listï¼›ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ä¸ºlistå·¥ä½œã€‚ ","date":"2023-07-28","objectID":"/posts/clause_9/:2:0","tags":["draft"],"title":"Effective STL [9] | åœ¨åˆ é™¤é€‰é¡¹ä¸­ä»”ç»†é€‰æ‹©","uri":"/posts/clause_9/"},{"categories":["draft"],"content":"ç»“è®º å»é™¤ä¸€ä¸ªå®¹å™¨ä¸­æœ‰ç‰¹å®šå€¼çš„æ‰€æœ‰å¯¹è±¡ï¼š å¦‚æœå®¹å™¨æ˜¯vectorã€stringæˆ–dequeï¼Œä½¿ç”¨erase-removeæƒ¯ç”¨æ³• å¦‚æœå®¹å™¨æ˜¯listï¼Œä½¿ç”¨list::remove å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼Œä½¿ç”¨å®ƒçš„eraseæˆå‘˜å‡½æ•° å»é™¤ä¸€ä¸ªå®¹å™¨ä¸­æ»¡è¶³ä¸€ä¸ªç‰¹å®šåˆ¤å®šå¼çš„æ‰€æœ‰å¯¹è±¡ï¼š å¦‚æœå®¹å™¨æ˜¯vectorã€stringæˆ–dequeï¼Œä½¿ç”¨erase-remove_ifæƒ¯ç”¨æ³• å¦‚æœå®¹å™¨æ˜¯listï¼Œä½¿ç”¨list::remove_if å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼Œä½¿ç”¨remove_copy_ifå’Œswapï¼Œæˆ–å†™ä¸€ä¸ªå¾ªç¯æ¥éå†å®¹å™¨å…ƒç´ ï¼Œå½“ä½ æŠŠè¿­ä»£å™¨ä¼ ç»™eraseæ—¶è®°å¾—åç½®é€’å¢å®ƒ åœ¨å¾ªç¯å†…åšæŸäº›äº‹æƒ…ï¼ˆé™¤äº†åˆ é™¤å¯¹è±¡ä¹‹å¤–ï¼‰ï¼š å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†åºåˆ—å®¹å™¨ï¼Œå†™ä¸€ä¸ªå¾ªç¯æ¥éå†å®¹å™¨å…ƒç´ ï¼Œæ¯å½“è°ƒç”¨eraseæ—¶è®°å¾—éƒ½ç”¨å®ƒçš„è¿”å›å€¼æ›´æ–°ä½ çš„è¿­ä»£å™¨ã€‚ å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼Œå†™ä¸€ä¸ªå¾ªç¯æ¥éå†å®¹å™¨å…ƒç´ ï¼Œå½“ä½ æŠŠè¿­ä»£å™¨ä¼ ç»™eraseæ—¶è®°å¾—åç½®é€’å¢å®ƒã€‚ å¦‚ä½ æ‰€è§ï¼Œä¸ä»…ä»…è°ƒç”¨eraseç›¸æ¯”ï¼Œæœ‰æ•ˆåœ°åˆ é™¤å®¹å™¨å…ƒç´ æœ‰æ›´å¤šçš„ä¸œè¥¿ã€‚ è§£å†³é—®é¢˜çš„æœ€å¥½æ–¹æ³•å–å†³äºä½ æ˜¯æ€æ ·é‰´åˆ«å‡ºå“ªä¸ªå¯¹è±¡æ˜¯è¦è¢«å»æ‰çš„ï¼Œå‚¨å­˜å®ƒä»¬çš„å®¹å™¨çš„ç±»å‹ï¼Œå’Œå½“ä½ åˆ é™¤å®ƒä»¬çš„æ—¶å€™ä½ è¿˜æƒ³è¦åšä»€ä¹ˆï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚ è¿™ä»…å¯¹å¸¦æœ‰è¿­ä»£å™¨å®å‚çš„eraseå½¢å¼æ˜¯æ­£ç¡®çš„ã€‚å…³è”å®¹å™¨ä¹Ÿæä¾›ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªå€¼çš„å®å‚çš„eraseå½¢å¼ï¼Œè€Œé‚£ç§å½¢å¼è¿”å›è¢«åˆ æ‰çš„å…ƒç´ ä¸ªæ•°ã€‚ä½†è¿™é‡Œï¼Œæˆ‘ä»¬åªå…³å¿ƒé€šè¿‡è¿­ä»£å™¨åˆ é™¤ä¸œè¥¿ã€‚ ","date":"2023-07-28","objectID":"/posts/clause_9/:3:0","tags":["draft"],"title":"Effective STL [9] | åœ¨åˆ é™¤é€‰é¡¹ä¸­ä»”ç»†é€‰æ‹©","uri":"/posts/clause_9/"},{"categories":["ML"],"content":"å¼•å…¥ Notes æœ¬æ–‡ä¹Ÿæ˜¯ä¸ºå†™ Stable Diffusion ç›¸å…³æ–‡ç« åšçš„é“ºå«ï¼Œä¸»è¦å‚è€ƒäº†æå®æ¯…è€å¸ˆçš„è§†é¢‘è¯¾ä»¥åŠBç«™çš„ç™½æ¿æ¨å¯¼ç³»åˆ—ã€‚æœ‰å…³GMMã€è’™ç‰¹å¡æ´›ã€ELBOã€å˜åˆ†æ¨æ–­ã€é‡å‚æ•°åŒ–çš„ç»†èŠ‚æœ¬æ–‡ä¸åšè¯¦ç»†ä»‹ç»ï¼Œä¸»è¦å›´ç»•VAEçš„ç»“æ„ä»¥åŠlossä¼˜åŒ–æ¨å¯¼åšè®²è§£ã€‚ æˆ‘ä»¬å…ˆæ¥ç®€å•çš„å¼•å…¥ä¸€ä¸‹ï¼š Vï¼šå˜åˆ†æ¨æ–­ï¼Œå®ƒçš„æ„æ€æ¥è‡ªäºæ¦‚ç‡å›¾æ¨¡å‹ï¼Œæœ¬æ–‡ä¼šç»™å‡ºå˜åˆ†ä¸‹ç•Œçš„è¯¦ç»†æ¨å¯¼ï¼› AEï¼šAuto-Encoderï¼Œè‡ªç¼–ç å™¨ï¼› VAEï¼šVariational Auto-Encoderï¼Œå˜åˆ†è‡ªç¼–ç å™¨ï¼Œå°†æ¦‚ç‡å›¾æ¨¡å‹å’Œç¥ç»ç½‘ç»œç›¸ç»“åˆçš„æ¨¡å‹ï¼› ","date":"2023-07-27","objectID":"/posts/vae_1/:1:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"ä¸€ã€AE å…ˆæ¥ä»‹ç»ä¸€ä¸‹è‡ªç¼–ç å™¨ï¼ˆAuto-Encoderï¼‰ï¼Œå®ƒæ˜¯ä¸€ç§æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒåŸç†å¯æ¦‚è¿°ä¸ºï¼š å°†é«˜ç»´åŸå§‹æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ï¼‰é€å…¥ Encoderï¼Œåˆ©ç”¨ Encoder å°†é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªä½ç»´ç©ºé—´ï¼Œå°†nç»´å‹ç¼©åˆ°mç»´($mÂ«n$)ï¼Œæˆ‘ä»¬ç”¨éšå˜é‡æ¥è¡¨ç¤ºï¼› ç„¶åå°†ä½ç»´ç©ºé—´çš„ç‰¹å¾é€å…¥ Decoder è¿›è¡Œè§£ç ï¼Œä»¥æ­¤æ¥é‡å»ºåŸå§‹è¾“å…¥æ•°æ®ã€‚ Note Encoderã€Decoderç½‘ç»œå¯ä»¥ä¸ºæ™®é€šçš„å…¨è¿æ¥ã€ä¹Ÿå¯ä»¥ä¸ºCNNã€æˆ–è€…ç±»ä¼¼äºUnetéƒ½å¯ä»¥ï¼Œæ²¡æœ‰å›ºå®šçš„è¦æ±‚ã€‚ è¿™é‡Œä¸ºå’Œåæ–‡çš„æ¨å¯¼è”ç³»èµ·æ¥ï¼Œæˆ‘ä»¬å°† Encoder ç½‘ç»œçš„æ˜ å°„å‡½æ•°å®šä¹‰ä¸º $q_{\\phi}$ ã€Decoder ç½‘ç»œå®šä¹‰ä¸º $p_{\\theta}$ï¼Œå…¶ä¸­ $\\phi$ã€$\\theta$ çš†ä¸ºç½‘ç»œå‚æ•°ã€‚ é‚£ä¹ˆå¯¹äºè¾“å…¥ $x$ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Encoderå¾—åˆ° Latent Variableï¼š$z = q_{\\phi}(x)$ï¼Œç„¶åDecoderå¯ä»¥ä»éšå˜é‡zä¸­å¯¹åŸå§‹æ•°æ®è¿›è¡Œé‡å»ºï¼š$xâ€™ = p_{\\theta}(z) = p_{\\theta}(q_{\\phi}(x))$ã€‚ æˆ‘ä»¬å¸Œæœ›é‡å»ºçš„æ•°æ®å’ŒåŸæ¥çš„æ•°æ®è¿‘ä¼¼ä¸€è‡´ï¼Œå³æœ€å°åŒ–è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„é‡æ„è¯¯å·®ï¼Œé‚£ä¹ˆAEçš„è®­ç»ƒæŸå¤±å¯ä»¥é‡‡ç”¨ç®€å•çš„MSEï¼š $$L_{\\text{AE}}(\\theta, \\phi) = \\frac{1}{n}\\sum_{i=1}^{n} (x^{(i)} - xâ€™^{(i)})^2 =\\frac{1}{n}\\sum_{i=1}^{n} (x^{(i)} - p_{\\theta}(q_{\\phi}(x^{(i)})))^2$$ Note å¯ä»¥ç†è§£ä¸ºæ¯”è¾ƒè¾“å…¥å’Œé‡æ„è¾“å…¥çš„åƒç´ ç‚¹çš„è¯¯å·®ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:2:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"äºŒã€AE å­˜åœ¨çš„é—®é¢˜ ä¸Šé¢æˆ‘ä»¬é€šè¿‡AEå¯ä»¥æ„å»ºä¸€ä¸ªé‡æ„å›¾åƒçš„æ¨¡å‹ï¼Œä½†æ˜¯è¿™ä¸ªæ¨¡å‹å¹¶ä¸èƒ½æ»¡è¶³è¦æ±‚ï¼Œæˆ–è€…è¯´å®ƒå¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„ç”Ÿæˆæ¨¡å‹ã€‚å¯¹äºä¸€ä¸ªç”Ÿæˆæ¨¡å‹è€Œè¨€ï¼Œå®ƒæ»¡è¶³ï¼š Encoder å’Œ Decoder å¯ä»¥ç‹¬ç«‹æ‹†åˆ†ï¼ˆç±»æ¯” GAN çš„ Generator å’Œ Discriminatorï¼‰ï¼› å›ºå®šç»´åº¦ä¸‹ä»»æ„é‡‡æ ·å‡ºæ¥çš„ç¼–ç ï¼Œéƒ½åº”è¯¥èƒ½é€šè¿‡ Decoder äº§ç”Ÿä¸€å¼ æ¸…æ™°ä¸”é€¼çœŸçš„å›¾ç‰‡ã€‚ å½“ç„¶å¯¹äºç¬¬ä¸€ç‚¹å®ƒæ˜¯æ»¡è¶³çš„ï¼Œæˆ‘ä»¬ä¸»è¦åˆ†æç¬¬äºŒç‚¹ï¼Œä¹Ÿå°±æ˜¯AEå­˜åœ¨çš„é—®é¢˜ï¼Œä»è€Œå¼•å‡ºVAEã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç”¨ä¸€å¼ å…¨æœˆå›¾å’Œä¸€å¼ åŠæœˆå›¾å»è®­ç»ƒä¸€ä¸ªAEï¼Œç»è¿‡è®­ç»ƒæ¨¡å‹æ˜¯èƒ½å¤Ÿå¾ˆå¥½çš„è¿˜åŸå‡ºè¿™ä¸¤å¼ å›¾ç‰‡ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ latent code ä¸­ä»»å–ä¸€ç‚¹ï¼Œå°†å…¶äº¤ç»™ Decoder è¿›è¡Œè§£ç ï¼Œç›´è§‰ä¸Šæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€å¼ ä»‹äºå…¨æœˆå’ŒåŠæœˆä¹‹å‰çš„å›¾ç‰‡ï¼ˆæ¯”å¦‚é˜´å½±é¢ç§¯è¦†ç›–çš„æ ·å­ï¼‰ã€‚ç„¶è€Œå®é™…ä¸Šçš„è¾“å‡ºå›¾ç‰‡ä¸ä»…æ¨¡ç³Šè€Œä¸”è¿˜æ˜¯ä¹±ç çš„ã€‚ å¯¹äºè¿™ä¸ªç°è±¡ï¼Œä¸€ä¸ªç›´è§‚çš„è§£é‡Šå°±æ˜¯AEçš„ Encoder å’Œ Decoder éƒ½ç”¨äº†DNNï¼Œé‚£ä¹ˆNNåªä¼šå¹²ä¸€ä»¶äº‹æƒ…ï¼šå­¦ä¹ ã€è®°ä½ã€ç”¨è®°ä½çš„ä¸œè¥¿é¢„æµ‹ï¼Œæˆ‘ä»¬ä» latent space ä¸­é‡‡æ ·çš„ç‚¹ï¼Œç¼–ç å™¨éƒ½æ²¡æœ‰å­¦ä¹ è¿‡ï¼Œæ€ä¹ˆèƒ½å¤ŸæŒ‡æœ›å®ƒç”Ÿæˆå¸Œæœ›çš„å€¼å‘¢? æ¢å¥è¯è¯´ï¼ŒNNåªè®°ä½äº†å·¦è¾¹å…¨æœˆå›¾ç‰‡çš„éšå‘é‡å’Œå³è¾¹åŠæœˆå›¾ç‰‡çš„éšå‘é‡ï¼Œå¹¶ä¸èƒ½æ³›åŒ–åˆ°ä¸­é—´å°±æ˜¯$\\frac{3}{4}$æœˆäº®çš„å›¾ç‰‡ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæœ€ç›´æ¥çš„æ€æƒ³å°±æ˜¯å¼•å…¥å™ªå£°ï¼Œæ‰©å¤§å›¾ç‰‡çš„ç¼–ç åŒºåŸŸï¼Œä»è€Œèƒ½å¤Ÿè¦†ç›–åˆ°å¤±çœŸçš„ç©ºç™½ç¼–ç åŒºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å…¶å®è¯´ç™½äº†å°±æ˜¯é€šè¿‡å¢åŠ è¾“å…¥çš„å¤šæ ·æ€§ä»è€Œå¢å¼ºè¾“å‡ºçš„é²æ£’æ€§ã€‚ å½“æˆ‘ä»¬ç»™è¾“å…¥å›¾ç‰‡è¿›è¡Œç¼–ç ä¹‹å‰å¼•å…¥ä¸€ç‚¹å™ªå£°ï¼Œä½¿å¾—æ¯å¼ å›¾ç‰‡çš„ç¼–ç ç‚¹å‡ºç°åœ¨ç»¿è‰²ç®­å¤´èŒƒå›´å†…ï¼Œè¿™æ ·ä¸€æ¥æ‰€å¾—åˆ°çš„ latent space å°±èƒ½è¦†ç›–åˆ°æ›´å¤šçš„ç¼–ç ç‚¹ã€‚æ­¤æ—¶æˆ‘ä»¬å†ä»ä¸­é—´ç‚¹æŠ½å–è¿˜åŸä¾¿å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒå¸Œæœ›çš„è¾“å‡ºã€‚ è™½ç„¶æˆ‘ä»¬ç»™è¾“å…¥çš„å›¾ç‰‡å¢åŠ äº†ä¸€äº›å™ªå£°ï¼Œä½¿å¾— latent space èƒ½å¤Ÿè¦†ç›–åˆ°æ¯”è¾ƒå¤šçš„åŒºåŸŸï¼Œä½†æ˜¯è¿˜æœ‰ä¸å°‘åœ°æ–¹æ²¡æœ‰è¦†ç›–åˆ°ï¼Œæ¯”å¦‚ä¸Šå›¾çš„é»„è‰²ç‚¹ä½ç½®ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥å°è¯•åˆ©ç”¨æ›´å¤šçš„å™ªå£°ï¼Œä½¿å¾—å¯¹äºæ¯ä¸€ä¸ªè¾“å…¥æ ·æœ¬ï¼Œå®ƒçš„ç¼–ç éƒ½èƒ½å¤Ÿè¦†ç›–åˆ°æ•´ä¸ªç¼–ç ç©ºé—´ï¼Ÿåªä¸è¿‡æˆ‘ä»¬è¿™é‡Œéœ€è¦ä¿è¯çš„æ˜¯ï¼šå¯¹äºç¼–ç é™„è¿‘çš„æˆ‘ä»¬åº”è¯¥ç»™å®šä¸€ä¸ªé«˜çš„æ¦‚ç‡å€¼ï¼Œå¯¹äºè·ç¦»åŸç¼–ç ç‚¹è¿œçš„åº”è¯¥ç»™å®šä¸€ä¸ªä½çš„æ¦‚ç‡å€¼ã€‚ è¿™æ ·æ€»ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å°±æ˜¯è¦å°†åŸå…ˆçš„ä¸€ä¸ªå•ç‚¹æ‹‰ä¼¸åˆ°æ•´ä¸ªç¼–ç ç©ºé—´ï¼Œå³å°†ç¦»æ•£çš„ç¼–ç ç‚¹æ‹‰ä¼¸ä¸ºä¸€æ¡è¿ç»­çš„æ¥è¿‘æ­£å¤ªåˆ†å¸ƒçš„ç¼–ç æ›²çº¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™ä¸ªå…¶å®å°±æ˜¯VAEçš„æ€æƒ³ï¼Œç†Ÿæ‚‰GMMçš„åŒå­¦åº”è¯¥çŸ¥é“ï¼Œå®ƒæ˜¯Kä¸ªé«˜æ–¯åˆ†å¸ƒï¼ˆGaussian Distributionï¼‰çš„æ··åˆï¼Œå…¶å®**VAEå¯ä»¥è¯´æ˜¯æ— é™ä¸ªé«˜æ–¯åˆ†å¸ƒçš„æ··åˆ**ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:3:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"ä¸‰ã€VAE ç»“æ„é¢„è§ˆ å¦‚ä¸Šå›¾æ‰€ç¤ºVAEçš„ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°VAEé‡Œçš„ç¼–ç å™¨ä¸æ˜¯è¾“å‡ºéšå‘é‡$z$ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œåˆ†å¸ƒçš„å‡å€¼ä¸º$m$ã€æ–¹å·®ä¸º$\\sigma$ï¼Œ$e$ å³ä¸ºç»™ç¼–ç æ·»åŠ çš„å™ªå£°ï¼Œæ¥è‡ªäºæ­£æ€åˆ†å¸ƒã€‚ tips VAEçš„Encoderçš„è¾“å‡ºä¸æ˜¯éšå‘é‡ï¼Œè€Œæ˜¯å‡å€¼ä¸º$m$, æ–¹å·®ä¸º$\\sigma$çš„æ­£æ€åˆ†å¸ƒã€‚ å…¬å¼æ€ä¹ˆå¾—åˆ°çš„åé¢ä¼šç»™å‡ºæ¨å¯¼ï¼Œæˆ‘ä»¬å…ˆæ¥æè¿°ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š $$z_{i} = c_{i} = \\exp(\\sigma_i) * e_i + m_i$$ Encoderä¼šè®¡ç®—å‡ºä¸¤ç»„ç¼–ç ï¼Œä¸€ç»„ä¸ºå‡å€¼mã€ä¸€ç»„ä¸ºæ§åˆ¶å™ªå£°å¹²æ‰°ç¨‹åº¦çš„æ–¹å·®$\\sigma$ï¼› æ–¹å·®$\\sigma$ä¸»è¦ç”¨æ¥ä¸ºå™ªå£°ç¼–ç  $e$ åˆ†é…æƒé‡ï¼› å–æŒ‡æ•°ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯åˆ†é…åˆ°çš„æƒé‡æ˜¯æ­£å€¼ï¼› ä¹Ÿå°±æ˜¯è¯´æ•°æ®åˆ†å¸ƒä¼šåœ¨ $\\exp(\\sigma_i) * e$ æ–¹å·®èŒƒå›´å†…é‡‡æ ·ä¸€ä¸ªå€¼ï¼Œå¾—åˆ°ä¸€ä¸ªåç§»é‡ï¼Œå°±æ˜¯ç›¸å½“äºæŠŠåŸå§‹çš„æ ·æœ¬åŠ ä¸Šäº†ä¸€ä¸ªå™ªå£°ã€‚ä»ç»“æ„å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒæŸå¤±é™¤äº†AEçš„ é‡æ„æŸå¤±ï¼ˆreconstruction errorï¼‰å¤–ï¼Œè¿˜å¤šå‡ºäº†ä¸‹é¢è¿™ä¸€é¡¹ï¼š $$c = (c_1, c_2, c_3) = \\sum_{i=1}^{3} (e^{\\sigma_i} - (1 + \\sigma_i) + (m_i)^2)$$ è¿™ä¸ªè¾…åŠ©losså¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªçº¦æŸï¼Œä¹Ÿå°±æ˜¯è¯´ç”Ÿæˆçš„ $\\sigma$ è¦æ»¡è¶³è¿™ä¸ªçº¦æŸã€‚ ä¸ºä»€ä¹ˆè¦åŠ è¿™ä¸ªè¾…åŠ©lossï¼Ÿ æˆ‘ä»¬æœ€å°åŒ–äº† reconstruction errorï¼Œå¦‚æœä¸åŠ è¿™ä¸ªè¾…åŠ©lossçš„è¯ï¼ŒEncoderè‚¯å®šå¸Œæœ›å™ªå£°å¯¹è‡ªèº«ç”Ÿæˆçš„å›¾ç‰‡å¹²æ‰°è¶Šå°è¶Šå¥½ï¼Œä¸ºäº†ä¿è¯ç”Ÿæˆå›¾ç‰‡çš„è´¨é‡ï¼Œäºæ˜¯åˆ†é…ç»™å™ªå£°çš„æƒé‡ä¹Ÿå°±æ˜¯è¶Šä½ã€‚å¦‚æœä¸åŠ è¿™ä¸ªçº¦æŸçš„è¯ï¼Œç½‘ç»œåªéœ€è¦å°†æ–¹å·®è®¾ç½®ä¸ºæ¥è¿‘è´Ÿæ— ç©·å¤§çš„å€¼ $\\exp ^ {-\\infty} = 0$ï¼Œå³å¯æ¶ˆé™¤å™ªå£°å¸¦æ¥çš„å½±å“ï¼Œè¿™æ ·å¿…ç„¶ä¼šè¿‡æ‹Ÿåˆå¯¼è‡´é²æ£’æ€§ä¸ä½³ã€‚ tips æ·»åŠ è¾…åŠ©lossæ˜¯ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œæé«˜æ¨¡å‹çš„é²æ£’æ€§ã€‚ ä¸ºä»€ä¹ˆåŠ è¿™ä¸ªè¾…åŠ©lossæœ‰ç”¨ï¼Ÿ æˆ‘ä»¬å¯¹ $\\sigma$ æ±‚å¯¼å¯å¾— $c = e^{\\sigma} - 1$ï¼Œä»¤å…¶ç­‰äº0å¯æ±‚å‡º $\\sigma = 0$ æ—¶å–å¾—æå°å€¼ï¼Œè¿™æ ·ä¸€æ¥ä¾¿å¯ä»¥çº¦æŸæ–¹å·®ä¸ä¼šä¸€è·¯èµ°å‘è´Ÿæ— ç©·ï¼Œä»è€Œèµ·åˆ°æ­£åˆ™åŒ–çº¦æŸçš„ä½œç”¨ï¼› å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ$e^{\\sigma}$ æ˜¯è“è‰²æ›²çº¿ï¼Œ$1 + \\sigma$ æ˜¯çº¢è‰²çº¿æ¡ï¼Œé‚£ä¹ˆ $e^{\\sigma} - (1 + \\sigma)$å°±æ˜¯è“è‰²æ›²çº¿å‡å»çº¢è‰²ç›´çº¿ï¼Œå¾—åˆ°ç»¿è‰²æ›²çº¿ï¼Œæ˜¾è€Œæ˜“è§çš„å¯ä»¥å‘ç°å®ƒçš„æœ€å°å€¼ä¸º0ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:4:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"å››ã€æ•°å­¦æè¿° ","date":"2023-07-27","objectID":"/posts/vae_1/:5:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"4.1ã€ä½œè€…çš„ Intuition å€Ÿç”¨ä½œè€…åŸæ–‡çš„è¡¨è¿°ï¼Œæˆ‘ä»¬æ¥å¼•å…¥å®šä¹‰ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé¦–å…ˆæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªé«˜ç»´çš„éšæœºå˜é‡ï¼Œä¸ä¹‹ç›¸å…³è”çš„æˆ‘ä»¬å«å®ƒéšå˜é‡ $z$ï¼Œ$z$ çš„ç»´åº¦ä¸€èˆ¬è¦æ¯” $x$ ä½å¾ˆå¤šï¼Œç”¨æ¥æè¿° $x$ ä¸­æ‰€åŒ…å«çš„ä¿¡æ¯ã€‚ æˆ‘ä»¬å‡è®¾ $z$ æ»¡è¶³åˆ†å¸ƒ $p_{\\theta}(z)$ï¼Œ$x$ ä¹Ÿæ˜¯ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š åœ¨å·²çŸ¥ $z$ çš„æƒ…å†µä¸‹ï¼Œ$p_{\\theta}(z)$èƒ½ç”Ÿæˆä¸€ä¸ªsample $x$ ï¼› ç»™å®šä¸€ä¸ªsample $x$ï¼Œ$q_{\\phi}(x)$ å°±å¯ä»¥å°è¯•æ¨æµ‹å‡ºè¿™ä¸ªæ¥ã€‚ Note å› ä¸ºå‡è®¾$z$æ»¡è¶³ä¸€å®šåˆ†å¸ƒï¼Œæ‰€ä»¥ä¹Ÿæœ‰ä»$\\theta$åˆ°$z$çš„ç®­å¤´ï¼› ä¹‹åæåˆ°çš„$z$éƒ½æ˜¯Decoderé‡Œçš„å‚æ•°ã€‚ è¿™ä¹ˆè¯´å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼š å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æœ‰ä¸€ä¸ªå›¾åƒï¼Œé‡Œé¢æœ‰3ä¸ªé¢œè‰²ä¸ä¸€è‡´çš„å½¢çŠ¶ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬çš„è¾“å…¥$x$ã€‚é€šè¿‡å³å›¾çš„å‚æ•°ï¼Œå¯ä»¥æ§åˆ¶$x$ï¼Œè¿™å°±æ˜¯éšå˜é‡$z$ã€‚ é‚£ä¹ˆå›åˆ°å®é™…çš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬æƒ³è¦é€šè¿‡$x$è·å¾—$z$ï¼Œåˆæƒ³é€šè¿‡$z$å¾—åˆ°ç›¸åº”çš„$x$ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­çš„åŒç®­å¤´å°±æ˜¯æˆ‘ä»¬æƒ³è¦åšçš„äº‹æƒ…ã€‚ é‚£ä¹ˆå¯¹äºç”Ÿæˆæ¨¡å‹è€Œè¨€ï¼ŒVAEçš„æ•°æ®äº§ç”ŸåŒ…æ‹¬ä¸¤ä¸ªè¿‡ç¨‹ï¼š ä»ä¸€ä¸ªå…ˆéªŒåˆ†å¸ƒ $p_{\\theta}(z)$ ä¸­é‡‡æ ·ä¸€ä¸ª $z^{(i)}$ï¼› æ ¹æ®æ¡ä»¶åˆ†å¸ƒ $p_{\\theta}(x|z)$ï¼Œç”¨ $z^{(i)}$ ç”Ÿæˆ $x^{(i)}$ã€‚ æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªå‚æ•° $\\theta^*$ æ¥æœ€å¤§åŒ–ç”ŸæˆçœŸå®æ•°æ®çš„æ¦‚ç‡ï¼š $$\\theta^*=\\argmax_{\\theta} \\prod_{i=1}^{n}p_{\\theta}(x^{(i)})$$ è¿™é‡Œ $p_{\\theta}(x^{(i)})$ å¯ä»¥é€šè¿‡å¯¹ $z$ ç§¯åˆ†å¾—åˆ°ï¼š $$p_{\\theta}(x^{(i)}) = \\int_{z} p_{\\theta}(x, z) \\mathrm{d}{z} = \\int_{z} p_{\\theta}(z) p_{\\theta}(x^{(i)}|z)\\mathrm{d}{z}$$ å®é™…ä¸Šæˆ‘ä»¬è¦æ ¹æ®ä¸Šè¿°ç§¯åˆ†æ˜¯ä¸å¯èƒ½å®ç°çš„ï¼Œå…ˆéªŒåˆ†å¸ƒ $p_{\\theta}(z)$ æ˜¯æœªçŸ¥çš„ï¼Œè€Œä¸”å¦‚æœåˆ†å¸ƒæ¯”è¾ƒå¤æ‚ä¸”é«˜ç»´ï¼Œå¯¹å…¶ç©·ä¸¾è®¡ç®—ä¹Ÿæ˜¯ä¸ç°å®çš„ã€‚ å˜åˆ†æ¨æ–­å¼•å…¥åéªŒæ¦‚ç‡æ¥è”åˆå»ºæ¨¡ï¼Œå³given $x$ æƒ³è¦å¾—åˆ°å®ƒçš„ $z$ï¼Œæ ¹æ®è´å¶æ–¯å…¬å¼è¡¨ç¤ºä¸ºï¼š $$p_{\\theta}(z | x) = \\frac{p_{\\theta}(x|z) p_{\\theta}(z)}{p_{\\theta}(x)}$$ æˆ‘ä»¬åˆå›åˆ°æœ€ä¸Šé¢çš„å›¾ï¼š å®çº¿ç®­å¤´å°±æ˜¯æˆ‘ä»¬è¦å¾—åˆ°çš„ç”Ÿæˆæ¨¡å‹ $p_{\\theta}(z) p_{\\theta}(x|z)$ï¼Œè¿™é‡Œ $p_{\\theta} (z)$ å¾€å¾€æ˜¯äº‹å…ˆå®šä¹‰å¥½çš„ï¼Œæ¯”å¦‚æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œè€Œ $p_{\\theta}(x|z)$ å¯ä»¥ç”¨ä¸€ä¸ªç½‘ç»œæ¥å­¦ä¹ ï¼Œå®ƒå°±å¯ä»¥çœ‹æˆæ˜¯ Probabilistic Decoderã€‚ è™šçº¿ç®­å¤´ä»£è¡¨å¯¹åéªŒåˆ†å¸ƒ $p_{\\theta}(z|x)$ çš„å˜åˆ†ä¼°è®¡ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªç½‘ç»œå»è¿‘ä¼¼ï¼Œæˆ‘ä»¬è®°ä¸º $q_{\\phi}(z|x)$ï¼Œåˆ™è¿™ä¸ªç½‘ç»œç§°ä¸º Probabilistic Encoderã€‚ æ‰€ä»¥VAEçš„ä¼˜åŒ–ç›®æ ‡å°±æœ‰äº†ï¼Œä¸ºäº†è¾¾åˆ°ä»xä¼°è®¡zçš„è¿‡ç¨‹ï¼Œå¯¹äºä¼°è®¡çš„åéªŒ $q_{\\phi}(z|x)$ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒæ¥è¿‘çœŸå®çš„åéªŒåˆ†å¸ƒ $p_{\\theta}(z|x)$ ï¼Œå³ï¼š $$p_{\\theta}(z|x) \\cong q_{\\phi}(z|x)$$ è¯´ç™½äº†å°±æ˜¯ä½¿ç”¨å¦ä¸€ä¸ªæ¨¡å‹ï¼Œå‚æ•°ç”± $\\phi$ è¡¨ç¤ºï¼Œåœ¨å‚æ•° $\\phi$ çš„å¸®åŠ©ä¸‹ï¼Œæœ‰äº†ä¸€ä¸ªåˆ†å¸ƒ $q$ ï¼Œç°åœ¨å¸Œæœ›åˆ†å¸ƒ $q$ èƒ½å¤Ÿå°½é‡æ¥è¿‘ $p$ï¼Œä»è€Œè¾¾åˆ°ä» $x$ ä¼°è®¡ $z$ çš„è¿‡ç¨‹ã€‚ Note å¯ä»¥çœ‹åˆ°VAEå’ŒAEæ¶æ„ä¸Šè¿˜æ˜¯ç›¸ä¼¼çš„ï¼ŒVAEçš„æœ€ç»ˆç›®æ ‡æ˜¯å¾—åˆ°ç”Ÿæˆæ¨¡å‹å³Decoderï¼ŒEncoderåªæ˜¯è¾…åŠ©å»ºæ¨¡ã€‚ è€ŒAEå¸¸å¸¸æ˜¯ä¸ºäº†å¾—åˆ°Encoderæ¥è¿›è¡Œç‰¹å¾æå–æˆ–å‹ç¼©ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:5:1","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"4.2ã€å˜åˆ†ä¸‹ç•Œ ä¸ºäº†è¡¡é‡ä¸¤ä¸ª distribution çš„ç›¸ä¼¼ç¨‹åº¦ï¼Œæˆ‘ä»¬åº”è¯¥å¾ˆè‡ªç„¶çš„æƒ³åˆ°äº†KL divergenceï¼Œå› ä¸ºæˆ‘ä»¬å®é™…ä¸Šè®¡ç®—çš„æ˜¯åˆ†å¸ƒ $q$ ï¼Œæ‰€ä»¥æˆ‘ä»¬ä» $q$ çš„è§†è§’æ¥è®¡ç®—å®ƒåˆ° $p$ çš„KLæ•£åº¦ï¼š $$q_{\\phi}(z|x) \\cong p_{\\theta}(z|x) \\rightarrow D_{\\text{KL}}(q_{\\phi}(z|x) || p_{\\theta}(z|x))$$ Note éœ€è¦å†æ¬¡å¼ºè°ƒçš„æ˜¯ï¼š $\\theta$ ä¸º decoder çš„å‚æ•°ï¼› $\\phi$ ä¸º encoder çš„å‚æ•°ã€‚ æ ¹æ®å®šä¹‰æˆ‘ä»¬å°†KL divergenceå±•å¼€ï¼Œå¯¹ $z$ æ±‚å’Œï¼Œè¡¨ç¤ºå¦‚ä¸‹ï¼š $$ \\begin{align} D_{\\text{KL}}(q_{\\phi}(z|x) || p_{\\theta}(z|x)) \u0026= \\sum_{z} q_{\\phi}(z | x) \\log (\\frac{q_{\\phi}(z | x)}{p_{\\theta}(z | x)}) \\cr \u0026= - \\sum_{z} q_{\\phi}(z | x) \\log (\\frac{p_{\\theta}(z | x)}{q_{\\phi}(z | x)})\\cr \u0026= - \\sum_{z} q_{\\phi}(z | x) \\log (\\frac{\\frac{p_{\\theta}(z,x)}{p_{\\theta}(x)}}{q_{\\phi}(z | x)})\\cr \u0026= - \\sum_{z} q_{\\phi}(z | x) [\\log({\\frac{p_{\\theta}(x, z)}{p_{\\theta}(x)}}) - \\log({q_{\\phi}(z | x)})]\\cr \u0026= - \\sum_{z} q_{\\phi}(z | x) [\\log({\\frac{p_{\\theta}(x, z)}{q_{\\phi}(z|x)}}) - \\log({p_{\\theta}(x)})]\\cr \\end{align} $$ Note $p_{\\theta}(z | x)$ æ˜¯æ ¹æ®æ¡ä»¶æ¦‚ç‡å…¬å¼æ‹†å¼€çš„ã€‚ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ³¨æ„åˆ° $\\log(p_{\\theta}(x))$ æ˜¯å’Œ $z$ æ²¡æœ‰å…³ç³»çš„ï¼Œå¹¶ä¸”logé¡¹æ˜¯å¸¸æ•°ï¼Œæ‰€ä»¥åœ¨ä¹˜æ±‚å’Œçš„æ—¶å€™ç›´æ¥æåˆ° $\\sum$ å¤–é¢å»å°±å¯ä»¥äº†ï¼Œå¹¶ä¸” $q_{\\phi} (z | x)$ å¯¹ $z$ æ±‚å’Œçš„ç»“æœæ˜¯1ï¼Œé‚£æ‰€ä»¥ $-\\sum_{z}(q_{\\phi}(z|x))(-\\log(p_{\\theta}(x)))$ çš„ç»“æœå°±æ˜¯ $\\log(p_{\\theta}(x))$ï¼Œå®ƒæ˜¯ä¸ªconstã€‚ æˆ‘ä»¬å°†å®ƒç§»åˆ°ç­‰å¼çš„å·¦è¾¹ï¼Œè¡¨ç¤ºå¦‚ä¸‹ï¼š $$ \\begin{align} \\log(p_{\\theta}(x)) \u0026= D_{KL}(q_{\\phi}(z|x) || p_{\\theta}(z|x)) + \\sum_{z}q_{\\phi}(z|x)\\log(\\frac{p_{\\theta}(x, z)}{q_{\\phi}(z|x)}) \\cr \u0026= D_{KL}(q_{\\phi}(z|x) || p_{\\theta}(z|x)) + L(\\theta, \\phi; x) \\end{align} $$ æˆ‘ä»¬å°† $\\sum_{z}q_{\\phi}(z|x)\\log(\\frac{p_{\\theta}(x, z)}{q_{\\phi}(z|x)})$ å†™æˆ $L(\\theta, \\phi; x)$ ï¼Œç­‰å¼å·¦è¾¹æ˜¯ä¸€ä¸ªconstï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡ $x$ çš„åˆ†å¸ƒæ˜¯ä»€ä¹ˆæ ·ï¼Œå®ƒå¯¹ $\\theta$ æ¥è¯´æ²¡ä»€ä¹ˆå½±å“ã€‚ç­‰å¼å³è¾¹ï¼ŒKL divergenceæ˜¯ä¸€ä¸ªéè´Ÿçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦æŠŠ $L(\\theta, \\phi; x)$ çš„å€¼å°½å¯èƒ½çš„æ‹‰å¤§ï¼Œé‚£ä¹ˆKL divergenceçš„å€¼å°±ä¼šéšä¹‹ç¼©å°ã€‚ æƒ³è¦æœ€å¤§åŒ–çš„$L(\\theta, \\phi; x)$ï¼Œå°±è¢«ç§°ä¸ºå˜åˆ†ä¸‹ç•Œï¼ˆVariational lower boundï¼‰ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:5:2","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"4.3ã€Loss Function ç°åœ¨æˆ‘ä»¬åªè¦æƒ³åŠæ³•å°†è¿™ä¸ª lower bound æå‡å°±å¯ä»¥äº†ï¼Œé‚£ä¹ˆè¿™ä¸ª lower bound å°±å¯ä»¥ä½œä¸ºæˆ‘ä»¬çš„ loss functionï¼š $$ \\begin{aligned} L(\\theta, \\phi; x) \u0026= \\sum_{z}q_{\\phi}(z|x)\\log(\\frac{p_{\\theta}(x, z)}{q_{\\phi}(z|x)}) \\cr \u0026= \\sum_{z}q_{\\phi}(z|x)\\log(\\frac{p_{\\theta}(x|z) p_{\\theta}(z)}{q_{\\phi}(z|x)}) \\cr \u0026= \\sum_{z}q_{\\phi}(z|x)[\\log(p_{\\theta}(x|z)) + \\log(\\frac{p_{\\theta}(z)}{q_{\\phi}(z | x)})] \\cr \u0026= {E}{q{\\phi}(z|x)}[\\log(p_{\\theta}(x|z))] - D_{KL}(q_{\\theta}(z | x) || p_{\\theta}(z))\\cr \\end{aligned} $$ ä¸Šè¿°ç­‰å¼ï¼Œæˆ‘ä»¬å°† lower bound å†å±•å¼€ï¼Œå°† $p_{\\theta}(x, z)$ å±•æˆæ¡ä»¶æ¦‚ç‡ï¼Œç„¶åå†å°†logæ‹†åˆ†ã€‚ ç¬¬ä¸‰è¡Œä¸­æ‹¬å·å†…ï¼Œå·¦è¾¹çš„å¯ä»¥å†™æˆæœŸæœ›çš„å½¢å¼ï¼Œå³è¾¹çš„å› ä¸ºéƒ½æœ‰ $q_{\\phi}$ å’Œ $p_{\\theta}$ æ‰€ä»¥ç¬¦åˆKL divergenceçš„å…¬å¼ã€‚ æˆ‘ä»¬å°† ${E}{q{\\phi}(z|x)}[\\log(p_{\\theta}(x|z))]$ ç§°ä¸ºReconstruction Lossï¼Œ å°† $-D_{KL}(q_{\\theta}(z | x) || p_{\\theta}(z))$ ç§°ä¸º Regularization Lossã€‚ æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¼°è®¡å‡ºè¿™ä¸¤é¡¹çš„æ¢¯åº¦æ¥ï¼Œå°±å¯ä»¥å¯¹ lower bound è¿›è¡Œä¼˜åŒ–äº†ã€‚ Note æˆ‘ä»¬çš„ç›®çš„æ˜¯æƒ³è®© Probabilistic Encoder æ¥è¿‘äº $p_{\\theta}(z)$ï¼Œå› ä¸ºä¸¤ä¸ªæŸå¤±ï¼Œè¿™æ ·KL divergenceå°±è¶Šå¤§è¶Šå¥½ï¼Œå®é™…-KLæ‰æ˜¯è®­ç»ƒç”¨çš„lossã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:5:3","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"4.4ã€è’™ç‰¹å¡æ´›æ³•æ±‚æ¢¯åº¦ æ¥ä¸‹æ¥è®²å¦‚ä½•æ±‚å‡ºè¿™ä¸¤é¡¹çš„å¯¼æ•°ï¼Œæ¥ä¼˜åŒ–æå‡ lower boundã€‚æˆ‘ä»¬çœ‹åˆ°æƒ³è¦ä¼˜åŒ–çš„è¿™ä¸ªlossï¼Œå…¶å®æ˜¯å¯ä»¥å†™æˆæœŸæœ›çš„å½¢å¼çš„ï¼Œå‡å®šæœŸæœ›é‡Œçš„è¿™ä¸€é¡¹æ˜¯ $f(z)$ï¼Œå¯¹äºä¼°è®¡è¿™ç§æœŸæœ›å®ƒçš„å¯¼æ•°ï¼Œæœ€ç›´æ¥çš„æˆ‘ä»¬å°±æƒ³åˆ°äº†è’™ç‰¹å¡æ´›çš„æ–¹æ³•ã€‚ Note è™½ç„¶è¿™é‡Œæœ‰ä¸ª $\\phi$ï¼Œä½†æˆ‘ä»¬å‡å®šè¿™ä¸ª $f(z)$ å’Œ $\\phi$ æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚(å‡è®¾ï¼ï¼ï¼ï¼) ä½¿ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•ï¼Œå¯¹ $f(z)$ åœ¨ $q_{\\phi}$ ä¸Šçš„æœŸæœ›ï¼Œå¯¹ $\\phi$ æ±‚å¯¼æ•°ï¼Œè¡¨ç¤ºå¦‚ä¸‹ï¼š $$ \\begin{aligned} \\eta \u0026= \\triangle_{\\phi} E_{q_{\\phi}(z)}[f(z)]\\cr \u0026= \\triangle_{\\phi} \\int {q_{\\phi}(z)}f(z) \\mathrm{d}z\\cr \u0026= \\int \\triangle_{\\phi}{q_{\\phi}(z)}f(z) \\mathrm{d}z\\cr \u0026= \\int {q_{\\phi}(z)}f(z)\\triangle_{\\phi} \\log {q_{\\phi}(z)}\\mathrm{d}z\\cr \u0026= E_{q_{\\phi}(z)}[f(z)\\triangle_{\\phi} \\log {q_{\\phi}(z)}]\\cr \\end{aligned} $$ $line 1 \\sim 2:$ æ ¹æ®æœŸæœ›çš„å®šä¹‰å±•å¼€ï¼Œå› ä¸ºæˆ‘ä»¬å‡è®¾ $f(z)$ å’Œ $\\phi$ æ²¡æœ‰å…³ç³»ï¼Œæ‰€ä»¥å¯ä»¥å°†å¯¼æ•°ç¬¦å·æ‹¿è¿›æ¥ï¼› $line 3: $ æ ¹æ®å˜æ¢ $\\triangle_{\\phi} \\log q_{\\phi}(z) = \\frac{\\triangle_{\\phi}q_{\\phi}(z)}{q_{\\phi}(z)}$ å¸¦å…¥å¯å¾—; å¥—ç”¨è’™ç‰¹å¡æ´›å…¬å¼ï¼Œæœ€ç»ˆè¡¨ç¤ºå¦‚ä¸‹ï¼š $$ \\begin{aligned} \\triangle_{\\phi}E_{q_{\\phi}(z)}[f(z)] \u0026= E_{q_{\\phi}(z)}[f(z) \\triangle_{q_{\\phi}(z)} \\log{q_{\\phi}(z)}] \\cr \u0026\\cong \\frac{1}{L}\\sum_{l=1}^{L} f(z) \\triangle_{q_{\\phi}(z^{(l)})} \\log{q_{\\phi}(z^{(l)})}, where z^{(l)} \\sim q_{\\phi}(z|x^{(i)}) \\end{aligned} $$ ä½†æ˜¯ä½œè€…å®éªŒå‘ç°ä½¿ç”¨è¿™ä¸ª estimator æ˜¯æœ‰å¾ˆé«˜çš„ variance çš„ï¼Œå°±æ˜¯ç›´è§‚ä¸Šæ¥è¯´ä¼šå¯¼è‡´è®­ç»ƒå¾ˆä¸ç¨³å®šã€‚ åœ¨æ­¤åŸºç¡€ä¸Šä½œè€…æå‡ºäº† Generic Stochastic Gradient Variational Bayes (SGVB) estimatorï¼Œå¹¶ä½¿ç”¨**é‡å‚æ•°åŒ–(Reparameterization)**trickï¼Œæˆ‘ä»¬å…ˆæ¥è¯´ä¸‹é‡å‚æ•°åŒ–ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:5:4","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"4.5ã€é‡å‚æ•°åŒ– Trick ä¸Šé¢æˆ‘ä»¬ç”¨è’™ç‰¹å¡æ´›çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªéå¸¸å¼ºçš„å‡è®¾ï¼Œé‚£å°±æ˜¯å‡è®¾ $f(z)$ å’Œ $\\phi$ æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œä½†å®é™…è¡¨è¾¾å¼ä¸­ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒè¿˜æ˜¯æœ‰å…³ç³»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—è€ƒè™‘å®ƒä»¬ä¹‹é—´å­˜åœ¨çš„å…³ç³»ã€è¿™ä¸ªå…³ç³»ä¼šå¸¦æ¥ä»€ä¹ˆæ ·çš„é—®é¢˜ã€‚ æˆ‘ä»¬æŠŠå®ƒæ‰“å¼€æ¥çœ‹ï¼š $$ \\begin{aligned} \\triangle_{\\phi}E_{q_{\\phi}}[f(z)] \u0026= \\triangle_{\\phi}\\int q_{\\phi}(z)f(z) \\mathrm{d}z \\cr \u0026= \\int \\triangle_{\\phi}[q_{\\phi}(z)f(z)] \\mathrm{d}z\\cr \u0026= \\int f(z) \\triangle_{\\phi}q_{\\phi}(z) \\mathrm{d}z + \\int q_{\\phi}(z)\\triangle_{\\phi}f(z) \\mathrm{d}z\\cr \u0026= \\underbrace{\\int f(z) \\triangle_{\\phi}q_{\\phi}(z) \\mathrm{d}z}{what \\ about \\ this \\ ?} + E{q_{\\phi}(z)}[\\triangle_{\\phi}f(z)] \\end{aligned} $$ åˆ†åˆ«æ±‚å¯¼ä¹‹åï¼Œåé¢ä¸€é¡¹å¯ä»¥å†™æˆæœŸæœ›çš„å½¢å¼ï¼Œä½†æ˜¯å‰é¢è¿™ä¸€é¡¹å°±æ— æ³•å¤„ç†äº†ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½œè€…ä½¿ç”¨äº†é‡å‚æ•°åŒ–æŠ€å·§ï¼ˆReparameterization Trickï¼‰ã€‚ æ ¸å¿ƒæ€æƒ³å°±æ˜¯å¼•å…¥ä¸€ä¸ªè¾…åŠ©çš„éšæœºå˜é‡ $\\epsilon$ï¼Œ$\\epsilon \\in p(\\epsilon)$ï¼Œè¿™ä¸ªéšæœºå˜é‡å’Œå…¶å®ƒå˜é‡æ²¡æœ‰å…³ç³»ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„éšæœºå˜é‡ï¼Œç”¨æ¥è¡¨ç¤ºäº§ç”Ÿ $z$ çš„è¿‡ç¨‹ä¸­æ‰€æœ‰çš„éšæœºæ€§ã€‚ä¹Ÿå°±æ˜¯è¯´æŠ½æ ·äº§ç”Ÿ $z$ çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„éšæœºæ€§éƒ½æ˜¯ç”±è¿™ä¸ª $\\epsilon \\in p(\\epsilon)$ äº§ç”Ÿçš„ã€‚ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠ $z$ å†™æˆè¿™ç§å½¢å¼ï¼š $z = g_{\\phi}(\\epsilon, x)$ï¼Œä»è€Œå¯ä»¥æŠŠ $q_{\\phi}(z)$ è¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒè½¬ç§»åˆ° $p_{\\epsilon}$ ä¸Šï¼Œè€Œ $\\epsilon$ æœ‰ä¸€ä¸ªéå¸¸å¥½çš„ç‰¹æ€§ï¼Œé‚£å°±æ˜¯å’Œ $\\phi$ æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚ è¿™ç§ trick å°±æ˜¯é‡å‚æ•°åŒ–ï¼Œå¾—åˆ°æ–°çš„å˜å½¢åé‡æ–°å¯¹ $\\phi$ æ±‚å¯¼ï¼š $$ \\begin{aligned} E_{q_{\\phi(z)}}[f(z^{(i)})] \u0026= E_{p(\\epsilon)}[f(g_{\\phi}(\\epsilon, x^i))] \\cr \\triangle_{\\phi}E_{q_{\\phi(z)}}[f(z^{(i)})] \u0026= \\triangle_{\\phi}E_{p(\\epsilon)}[f(g_{\\phi}(\\epsilon, x^i)]\\cr \u0026=E_{p(\\epsilon)}[\\triangle_{\\phi}f(g_{\\phi}(\\epsilon, x^i)]\\cr \u0026\\approx \\frac{1}{L} \\sum_{l=1}^{L} \\triangle_{\\phi}f(g_{\\phi}(\\epsilon^{(l)}, x^{(i)})) \\end{aligned} $$ ä¼°è®¡è¿™ä¸ªæœŸæœ›ä¹Ÿæ˜¯é‡‡æ ·ç„¶åæ±‚å¹³å‡å¾—åˆ°æœ€åçš„å¼å­ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠlossçš„æ¢¯åº¦ç»™ä¼°è®¡å‡ºæ¥äº†ã€‚ ä»¥ä¸Šæ˜¯ä»æ•°å­¦è§’åº¦æ¥åˆ†æçš„é‡å‚æ•°åŒ–æŠ€å·§ï¼Œè¿™é‡Œä½œè€…ç»™å‡ºäº†ä¸€ä¸ªæ›´åŠ ç›´è§‚çš„è¡¨è¾¾ï¼š å·¦å›¾ä¸ºåŸæ¥çš„å½¢å¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ $\\phi$ å’Œ $x$ äº§ç”Ÿä¸€ä¸ªdistributionï¼Œç„¶ååœ¨è¿™ä¸ªdistributionä¸­æŠ½æ ·äº§ç”Ÿä¸€ä¸ªzï¼Œç„¶åå†å¾—åˆ°æœ€ç»ˆçš„ $f$ ã€‚ä½†æ˜¯åœ¨ä¼ é€’æ¢¯åº¦çš„æ—¶å€™ï¼Œæ€ä¹ˆæŠŠæ¢¯åº¦é€šè¿‡æŠ½æ ·è¿™ä¸ªè¿‡ç¨‹ä¼ é€’å›æ¥å‘¢ï¼Ÿè¿™ä¸ªæ˜¯æ²¡æ³•ä¼ é€’æ¢¯åº¦çš„ã€‚ åœ¨ä½¿ç”¨äº†é‡å‚æ•°åŒ–trickåï¼Œéšæœºæ€§ç§»åŠ¨åˆ°äº† $\\epsilon$ ä¸Šï¼Œä¹‹å‰æ‰€æœ‰æŠ½æ ·çš„è¿‡ç¨‹åŒ…æ‹¬çš„éšæœºæ€§ï¼Œéƒ½è®© $\\epsilon$ åŒ…æ‹¬äº†ï¼Œè¿™æ ·å°±å¯ä»¥é¡ºåˆ©åœ°å°†æ¢¯åº¦é€šè¿‡ $z$ ä¼ é€’åˆ° $\\phi$ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å·§å¦™çš„æ–¹æ³•. Note å¯ä»¥ç†è§£æˆç”¨å¤šä½™å‚æ•°é€¼è¿‘æŠ½æ ·çš„è¿‡ç¨‹ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:5:5","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"4.6 Generic SGVB ç®€å•è¯´å®Œé‡å‚æ•°åŒ–ï¼Œæˆ‘ä»¬å›åˆ°SGVB: è¿™é‡Œæ˜¯æƒ³æ±‚è¿™ä¸€ä¸²æœŸæœ›ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬çš„ $f(z)$ ï¼Œæ ¹æ®ä¹‹å‰çš„ Reparameterization Trickï¼Œæˆ‘ä»¬æŠŠ $z$ å†™æˆè¿™æ ·çš„å½¢å¼ï¼š $$z^{(i, l)} = g_{\\phi} (\\epsilon^{(i,l)}, x^{(i)}) \\ and \\ \\epsilon^{(l)} \\sim p(\\epsilon)$$ è®© $\\epsilon$ ä»è¿™ä¸ª distribution ä¸­æŠ½æ ·äº§ç”Ÿï¼Œ$\\epsilon$ æ˜¯ä¸€ä¸ªä¸ $\\phi$ ã€$\\theta$ éƒ½æ²¡æœ‰å…³ç³»çš„éšæœºå˜é‡ï¼Œç„¶å loss å°±å˜æˆï¼š $$L(\\theta, \\phi, x^{(i)}) = \\frac{1}{L} \\sum_{l=1}^{L} \\log p_{\\theta}(x^{(i)}, z^{(i,l)}) - \\log q_{\\phi}(z^{(i,l)} | x^{(i)})$$ æƒ³è¦æ±‚å®ƒå¯¹ $\\phi$ çš„å¯¼æ•°ï¼Œåªéœ€è¦ä¸¤è¾¹åŒæ—¶æ±‚å¯¼å³å¯ã€‚ note å› ä¸ºæœŸæœ›è¿™ä¸ªç§¯åˆ†å·²ç»è¢«æ›¿æ¢æˆäº† $\\epsilon$ çš„distributionï¼Œå®ƒè·Ÿ $\\phi$ æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä¼°è®¡æ•´ä¸ªlossçš„å¯¼æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹ $\\phi$ æ±‚å¯¼å°±å¯ä»¥äº†ã€‚ è¿™ä¸ªå°±æ˜¯ä½œè€…æå‡ºçš„ç¬¬ä¸€ç§ä¼°è®¡æ¢¯åº¦çš„æ–¹æ³•ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:5:6","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"4.7ã€Another SGVB åœ¨æ­¤åŸºç¡€ä¸Šä½œè€…è¿˜å‘ç°ï¼Œæœ‰ä¸€äº›å¥½çš„æ€§è´¨å¯ä»¥ç›´æ¥æ‹¿æ¥åˆ©ç”¨ï¼Œæ¯”å¦‚æœŸæœ›çš„ä¸€äº›æ€§è´¨ã€‚ åœ¨ 4.3 èŠ‚ä¸­æˆ‘ä»¬è®²åˆ°åŸæ¥çš„ loss å¯ä»¥å†™æˆ KLæ•£åº¦ + æœŸæœ› çš„å½¢å¼ï¼š $$L(\\theta, \\phi, x^{(i)}) = -D_{KL}(q_{\\phi}(z|x^{(i)})||p_{\\theta}(z)) + E_{q_{\\phi}(z|x)}[\\log(p_{\\theta}(x^{(i)}|z))]$$ è¿™é‡Œæˆ‘ä»¬å‡è®¾è¿™ä¸¤ä¸ªdistributionï¼š$q_{\\phi}$ ã€$p_{\\theta}$ éƒ½æ˜¯ Gaussian distributionï¼Œè¯´ç™½äº†å°±æ˜¯0å‡å€¼1æ–¹å·®ï¼Œæ ¹æ®å®šä¹‰ï¼š $$ \\begin{cases} D_{KL}(P||Q) = E_{x \\sim P}[\\log(\\frac{P(x)}{Q(x)})]\\cr E_{x\\sim P(x)} = \\int P(x)Q(x)\\mathrm{d}x \\end{cases} $$ æˆ‘ä»¬æ ¹æ®ä¸Šè¿°å®šä¹‰æ‰“å¼€è¿™ä¸ªKL divergenceï¼š $$-D_{KL}(q_{\\phi}(z|x)||p_{\\theta}(z)) = \\int q_{\\phi}(z|x)(\\log p_{\\theta}(z)) - \\log q_{\\phi}(z|x) \\mathrm{d}z$$ æˆ‘ä»¬å…ˆæ¥çœ‹ $\\int q_{\\phi}(z|x)\\log p_{\\theta}(z) \\mathrm{d}z$: $$ \\begin{align} \\int q_{\\phi}(z|x)\\log p_{\\theta}(z) \\mathrm{d}z \u0026= \\int N(z; \\mu, \\sigma^2) \\log N(z; 0, 1)\\mathrm{d}z\\cr \u0026= \\int N(z; \\mu, \\sigma^2) (-\\frac{1}{2}z^2 - \\frac{1}{2}\\log(2\\pi))\\mathrm{d}z\\cr \u0026= -\\frac{1}{2} \\int N(z; \\mu, \\sigma^2) z^2\\mathrm{d}z - \\frac{J}{2}\\log(2\\pi) \\cr \u0026= -\\frac{J}{2} \\log (2\\pi) - \\frac{1}{2}(E_{z \\sim N(z;\\mu, \\sigma^2)}[z]^2 + Var(z))\\cr \u0026= -\\frac{J}{2} \\log (2\\pi) - \\frac{1}{2}\\sum_{J}^{j=1}(\\mu^2 + \\sigma_j^2) \\end{align} $$ $line 1\\sim 2:$ æˆ‘ä»¬è®©å·¦é¢åˆ†å¸ƒ $N(z; \\mu, \\sigma^2)$ ä¿æŒä¸åŠ¨ï¼Œå°† normal distribution çš„PDFå¸¦è¿›å»ï¼› normal distribution çš„PDFä¸º: å°†å¸¸æ•°é¡¹ç›´æ¥æ‹¿å‡ºæ¥ï¼ŒæŒ‡æ•°çš„éƒ¨åˆ†ä¹Ÿé€šè¿‡logç›´æ¥æ‹¿ä¸‹æ¥äº†ï¼› $line 3:$ å› ä¸º $\\frac{1}{2}\\log(2\\pi)$ æ˜¯ä¸ªå¸¸æ•°ã€$N(z; \\mu, \\sigma^2)$ è¿™ä¸ªåˆ†å¸ƒç§¯åˆ†ä¹‹åæ˜¯1ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æŠŠå¸¸æ•°é¡¹æ‹¿åˆ°ç§¯åˆ†å¤–é¢ï¼›ä½†æ˜¯å› ä¸º $z$ æ˜¯ä¸€ä¸ªå‘é‡ï¼Œæˆ‘ä»¬å‡è®¾ $z$ æœ‰ $J$ ä¸ªå…ƒç´ elementï¼Œé‚£ä¹ˆæ¯ä¸ªå…ƒç´ éƒ½ä¼šç§¯å‡ºä¸€ä¸ªå€¼æ¥ï¼Œæ‰€ä»¥è¦ä¹˜ä¸Š $J$ï¼Œå³ $\\frac{J}{2}\\log(2\\pi)$; $line 4:$ å¯¹äºç§¯åˆ† $\\int N(z;\\mu,\\sigma^2) z^2\\mathrm{d}z$ æˆ‘ä»¬å¯ä»¥æ¢ä¸ªè§’åº¦ç†è§£å®ƒï¼šè¿™é‡Œæˆ‘ä»¬æŠŠå®ƒå°±å½“æˆä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œæ‰€ä»¥æ•´ä¸ªè¿™ä¸ªç§¯åˆ†å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªæœŸæœ›çš„å½¢å¼ï¼Œä¸è¿‡å®ƒæ˜¯å¯¹ $z^2$ çš„æœŸæœ›ï¼Œç»è¿‡å˜å½¢å¯ä»¥å†™æˆ $-\\frac{1}{2} E_{z \\sim N(z; \\mu, \\sigma^2)}[z]^2$ ã€‚åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæˆ‘ä»¬ä½¿ç”¨æœŸæœ›çš„æ€§è´¨ $E[z^2] = E[z]^2 + variance(z)$ï¼Œå³ $z^2$ çš„æœŸæœ›ç­‰äºæœŸæœ›çš„å¹³æ–¹åŠ ä¸Š $z$ çš„æ–¹å·®ï¼› é‚£ä¹ˆå¯¹äºä¸€ä¸ª normal distribution æ¥è¯´å®ƒçš„æœŸæœ›å’Œæ–¹å·®æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼š$\\mu$ å’Œ $\\sigma$ï¼Œå¯¹äº $z$ é‡Œçš„æ¯ä¸ªå…ƒç´ ï¼ˆè„šæ ‡æ˜¯ $j$ï¼‰éƒ½åŠ èµ·æ¥å°±å¥½äº†ï¼Œè¿™æ ·æœ€å¼€å§‹çš„ç§¯åˆ†å°±å¯ä»¥ç®€åŒ–æˆæœ€åçš„å½¢å¼ã€‚ æˆ‘ä»¬å†æ¥çœ‹ $\\int q_{\\phi}(z|x)\\log q_{\\phi}(z|x)\\mathrm{d}z$: $$ \\begin{aligned} \\int q_{\\phi}(z|x)\\log q_{\\phi}(z|x)\\mathrm{d}z \u0026=\\int N(z; \\mu, \\sigma^2)\\log N(z;\\mu,\\sigma^2)\\mathrm{d}z\\cr \u0026= \\int N(z; \\mu, \\sigma^2)(-\\frac{1}{2}(\\frac{z - \\mu}{\\sigma})^2- \\frac{1}{2}\\log (2 \\pi) - \\frac{1}{2}\\log(\\sigma^2))\\mathrm{d}z\\cr \u0026=-\\frac{1}{2}\\int N(z;\\mu,\\sigma^{2})(\\frac{z-\\mu}{\\sigma})^{2}\\mathrm{d}z-\\frac{J}{2}log(2\\pi)-\\frac{1}{2}\\sum_{j=1}^{J}log(\\sigma_{j}^{2}) \\cr \u0026=-\\frac J2log(2\\pi)-\\frac12\\sum_{j=1}^{J}log(\\sigma_{j}^{2})-\\frac12E_{z\\sim N(z;\\mu,\\sigma^{2})}[(\\frac{z-\\mu}\\sigma)^{2}] \\cr \u0026=-\\frac{J}{2}log(2\\pi)-\\frac{1}{2}\\sum_{j=1}^{J}log(\\sigma_{j}^{2})-\\frac{1}{2}(E_{z\\sim N(z;\\mu,\\sigma^{2})}[\\frac{z-\\mu}{\\sigma}]^{2}+Var(\\frac{z-\\mu}{\\sigma})) \\cr \u0026=-\\frac{J}{2}log(2\\pi)-\\frac{1}{2}\\sum_{j=1}^{J}(1+log(\\sigma_j^2)) \\end{aligned} $$ åŒæ ·çš„è¿˜æ˜¯æŠŠå®ƒçš„PDFå¸¦è¿›æ¥ï¼Œå±•æˆä¸Šé¢ç›¸ä¼¼çš„å½¢å¼ï¼Œä½†æ˜¯è¿™ä¸ªåœ°æ–¹çš„å¸¸æ•°é¡¹å’Œå˜é‡è¦æ˜¾å¾—å¤æ‚ä¸€ç‚¹ï¼Œç›¸ä¼¼çš„æ˜¯æˆ‘ä»¬ä¸€æ ·å¯ä»¥æŠŠå¸¸æ•°éƒ¨åˆ†æ‹¿åˆ°ç§¯åˆ†å¤–é¢å»ï¼Œç„¶åå¯¹äºå‰é¢è¿™é¡¹ç§¯åˆ†ä¹ŸæŠŠå®ƒç†è§£æˆæœŸæœ›çš„å½¢å¼ï¼ŒåŒæ ·åˆ©ç”¨æœŸæœ›çš„æ€§è´¨å°†å¹³æ–¹åŒ–ç®€ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€åçš„ç»“æœã€‚ éšåæˆ‘ä»¬æŠŠ KLæ•£åº¦ è¿™ä¸¤é¡¹ç»™åˆå¹¶èµ·æ¥ï¼š $$ \\begin{aligned} -D_{KL}(q_{\\phi}(z\\mid x)\\mid\\mid p_{\\theta}(z))\u0026 =\\int q_\\phi(z\\mid x)(logp_\\theta(z))-logq_\\phi(z\\mid x))\\mathrm{d}z \\cr \u0026=\\frac12\\sum_{j=1}^J(1+log((\\sigma_j)^2)-(\\mu_j)^2-(\\sigma_j)^2) \\end{aligned} $$ æŠŠåˆšåˆšä¸Šé¢çš„ç»“æœå¸¦è¿›æ¥åšå‡æ³•å³å¯å¾—åˆ°è¿™ä¸ªç­‰å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥é€šè¿‡è¿™ä¸ªå¼å­æ¥ä¼°è®¡å‡ºKLæ•£åº¦ã€‚ å¯¹äºå¦ä¸€éƒ¨åˆ†çš„loss $E_{q_{\\phi}(z|x)}[\\log(p_{\\theta}(x^{(i)} | z))]$ï¼Œå°±åƒæˆ‘ä»¬ä¸Šé¢è¯´çš„ï¼Œè¿™éƒ¨åˆ†çš„æ¦‚ç‡æˆ‘ä»¬å¸Œæœ›given $z$ äº§ç”Ÿçš„ $x$ å°½é‡çš„æ¥è¿‘è¾“å…¥ $x$ï¼Œä¸ºäº†å®ç°è¿™ä¸ªé€¼è¿‘ï¼Œæˆ‘ä»¬ä½¿ç”¨MSEæ¥è®©$f(z)$é€¼è¿‘è¿™ä¸ªxï¼Œå°±å¯ä»¥æœ€å¤§åŒ–è¿™ä¸ªlossï¼š ä»¥ä¸Šå°±æ˜¯æœ€ç»ˆä½¿ç”¨çš„SGVBï¼Œä½œè€…é€šè¿‡ KLæ•£åº¦ çš„æ€§è´¨å’Œ Regularization Loss çš„è¿‘ä¼¼ï¼Œç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§ç›¸å¯¹ç¨³å®šçš„ä¼°è®¡losså’Œæ¢¯åº¦çš„æ–¹æ³•ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:5:7","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"äº”ã€VAE ç»“æ„å›é¡¾ æ€»çš„æ¥çœ‹ Variational Auto-Encoder çš„modelå°±æ˜¯ï¼š è¾“å…¥ä¸€ä¸ª $x$ï¼Œè¿›äº†Encoderï¼Œè¿™ä¸ª Encoder æ˜¯ç”±å‚æ•°æ¥å†³å®šçš„ï¼ŒEncoder ä¼šäº§ç”Ÿ $Î¼$å’Œ $Ïƒ$ï¼› $Î¼$å’Œ $Ïƒ$é¦–å…ˆè¢«æˆ‘ä»¬ç”¨æ¥è®¡ç®— KL divergenceï¼Œä½œä¸ºè¾…åŠ©æŸå¤±ï¼› åŒæ—¶åœ¨ $Î¼$ å’Œ $Ïƒ$ä¹‹åæˆ‘ä»¬å¯¹å®ƒæŠ½æ ·äº§ç”Ÿä¸€ä¸ª $z$ï¼ŒåŠ ä¸Š $\\epsilon$ å¸®æˆ‘ä»¬äº§ç”Ÿéšæœºçš„é¡¹ï¼› å¾—åˆ°éšå˜é‡ $z$åï¼Œæ”¾åˆ° Decoder é‡Œï¼Œå®ƒæ˜¯ç”±å‚æ•° $\\theta$ æ¥å†³å®šçš„ï¼› ç»è¿‡è¿™ä¸ª Decoder ä¹‹åï¼Œæˆ‘ä»¬é‡å»ºå‡ºäº†ä¸€ä¸ª $x$ï¼› å¯¹æ¯”é‡å»ºåçš„ $x$ å’Œè¾“å…¥ $x$ ä¹‹é—´çš„ MSE å°±æ„æˆäº†lossçš„å¦ä¸€éƒ¨åˆ†ï¼Œ ä¸¤ä¸ªlossåŠ èµ·æ¥å°±æ˜¯æœ€ç»ˆçš„lossã€‚ è¿™ä¸ªå°±æ˜¯æœ€ç»å…¸çš„ Variational Auto-Encoderã€‚ å¯¹æ¯”ç¬¬ä¸€å¤§èŠ‚AEçš„å›¾ï¼Œå¯ä»¥ç”»æˆä¸€ä¸‹å½¢å¼ï¼š ","date":"2023-07-27","objectID":"/posts/vae_1/:6:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"å…­ã€åŸæ–‡å®éªŒ ä½œè€…åŸºäºMNIST å’Œ Frey Faceåšäº†å®éªŒéªŒè¯ï¼Œçœ‹ä¸‹åŸæ–‡çš„ç»“æœå›¾ï¼š é¦–å…ˆä½œè€…è¯´äº†ä½¿ç”¨ä¸åŒçš„å­¦ä¹ æ–¹æ³•èƒ½æŠŠè¿™ä¸ª lower bound æå‡å¤šå°‘ï¼Œlower bound çš„æå‡è¶Šå¤§ï¼Œè¯´æ˜ Encoder å’Œæˆ‘ä»¬æƒ³è¦é€¼è¿‘çš„è¿™ä¸ªDistructionï¼Œå®ƒçš„KLæ•£åº¦æ˜¯è¶Šæ¥è¶Šå°ã€‚ Note ç”±å›¾ä¸­å¯ä»¥çœ‹å‡ºAEVBä¸wake-sleepç®—æ³•çš„æ¯”è¾ƒï¼Œå¯ä»¥çœ‹å‡ºAEVBè®­ç»ƒæ•ˆæœæ›´å¥½ã€‚ä¸”éšç€éšå˜é‡ç»´åº¦å¢å¤§ï¼Œå¹¶æœªå‡ºç°è¿‡æ‹Ÿåˆç°è±¡ã€‚ å›¾4æ˜¯é™å®š2ä¸ªç»´åº¦çš„éšå˜é‡ $z$ï¼Œå¹¶è°ƒèŠ‚ä¸¤ä¸ªç»´åº¦çš„å€¼ï¼Œç”Ÿæˆçš„å›¾ç‰‡ã€‚ å›¾5æ˜¯ä¸åŒç»´åº¦çš„éšå˜é‡éšæœºé‡‡æ ·çš„å›¾ç‰‡ã€‚ ","date":"2023-07-27","objectID":"/posts/vae_1/:7:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"ä¸ƒã€torchå¤ç° AEã€VAE https://wangguisen.blog.csdn.net/article/details/128476638 ","date":"2023-07-27","objectID":"/posts/vae_1/:8:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["ML"],"content":"References [1]. https://arxiv.org/abs/1312.6114 [2]. http://www.gwylab.com/note-vae.html [3]. https://zhuanlan.zhihu.com/p/452743042 [4]. https://www.bilibili.com/video/BV1q64y1y7J2/ [5]. https://www.bilibili.com/video/av15889450/?p=33 [6]. https://gregorygundersen.com/blog/2018/04/29/reparameterization/ [7]. https://mp.weixin.qq.com/s?__biz=Mzk0MzIzODM5MA==\u0026mid=2247486014\u0026idx=1\u0026sn=2ff34f72c869907408ed1b08bec1a238\u0026chksm=c337b7a7f4403eb14a1b5cdc3e1a1b11dca6f957591957cc29a4c270f0ace0a4674a7ae33214\u0026scene=21#wechat_redirect ","date":"2023-07-27","objectID":"/posts/vae_1/:9:0","tags":["VAE"],"title":"å˜åˆ†è‡ªç¼–ç å™¨ VAE è¯¦è§£","uri":"/posts/vae_1/"},{"categories":["C++"],"content":"æ‹·è´ä¸€ä¸ªauto_ptrå°†æ”¹å˜å®ƒçš„å€¼ å½“ä½ æ‹·è´ä¸€ä¸ªauto_ptræ—¶ï¼Œauto_ptræ‰€æŒ‡å‘å¯¹è±¡çš„æ‰€æœ‰æƒè¢«è½¬ç§»åˆ°æ‹·è´çš„auto_ptrï¼Œè€Œè¢«æ‹·è´çš„auto_ptrè¢«è®¾ä¸ºNULLã€‚ class Widget { public: explicit Widget(int in) : randy(in) {} inline bool operator\u003c(Widget\u0026 in) { return randy \u003c in.randy; } public: int randy; }; auto_ptr\u003cWidget\u003e pw1(new Widget); // pw1æŒ‡å‘ä¸€ä¸ªWidget auto_ptr\u003cWidget\u003e pw2(pw1); // pw2æŒ‡å‘pw1çš„Widget; pw1è¢«è®¾ä¸ºNULLã€‚ï¼ˆWidgetçš„æ‰€æœ‰æƒä»pw1è½¬ç§»åˆ°pw2ã€‚ï¼‰ pw1 = pw2; // pw1ç°åœ¨å†æ¬¡æŒ‡å‘Widgetï¼› pw2è¢«è®¾ä¸ºNULL æœ‰æ„æ€çš„æ˜¯ï¼Œå¦‚æœä½ å»ºç«‹ä¸€ä¸ªauto_ptr\u003cWidget\u003eçš„vectorï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªæŒ‡å‘çš„Widgetçš„å€¼çš„å‡½æ•°å¯¹å®ƒè¿›è¡Œæ’åºï¼š bool widgetAPCompare(const auto_ptr\u003cWidget\u003e\u0026 lhs, const auto_ptr\u003cWidget\u003e\u0026 rhs) { return *lhs \u003c *rhs; // å‡è®¾Widget å­˜åœ¨operator\u003c } auto_ptr\u003cWidget\u003e w1(new Widget(3)); auto_ptr\u003cWidget\u003e w2(new Widget(2)); widgets.push_back(w1); widgets.push_back(w2); vector\u003cauto_ptr\u003cWidget\u003e \u003e widgets; // å»ºç«‹ä¸€ä¸ªvectorï¼Œç„¶åç”¨Widgetçš„auto_ptrå¡«å……å®ƒï¼› // è®°ä½è¿™å°†ä¸èƒ½ç¼–è¯‘ï¼ sort(widgets.begin(), widgets.end(), widgetAPCompare);// æ’åºè¿™ä¸ªvector è¿™æ®µä»£ç å°†ä¸èƒ½ç¼–è¯‘ warning: â€˜template\u003cclass\u003e class std::auto_ptrâ€™ is deprecated [-Wdeprecated-declarations] 30 | std::vector\u003cauto_ptr\u003cWidget\u003e \u003e | ^~~~~~~~ In file included from /usr/include/c++/9/memory:80, from temp.cpp:10: /usr/include/c++/9/bits/unique_ptr.h:53:28: note: declared here 53 | template\u003ctypename\u003e class auto_ptr; | ^~~~~~~~ temp.cpp:33:3: warning: â€˜template\u003cclass\u003e class std::auto_ptrâ€™ is deprecated [-Wdeprecated-declarations] 33 | auto_ptr\u003cWidget\u003e w1(new Widget(3)); | ^~~~~~~~ ä»æ¦‚å¿µä¸Šçœ‹æ‰€æœ‰ä¸œè¥¿ä¹Ÿéƒ½å¾ˆåˆç†ï¼Œä½†ç»“æœå´å®Œå…¨ä¸åˆç†ã€‚ä¾‹å¦‚ï¼Œåœ¨æ’åºè¿‡ç¨‹ä¸­widgetsä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªauto_ptrå¯èƒ½å·²ç»è¢«è®¾ä¸ºNULLã€‚ æ’åºè¿™ä¸ªvectorçš„è¡Œä¸ºå¯èƒ½å·²ç»æ”¹å˜äº†å®ƒçš„å†…å®¹ï¼ ","date":"2023-07-27","objectID":"/posts/clause_8/:1:0","tags":["STL"],"title":"Effective STL [8] | æ°¸ä¸å»ºç«‹auto_ptrçš„å®¹å™¨","uri":"/posts/clause_8/"},{"categories":["C++"],"content":"å‰–æ å®ç°sortçš„æ–¹æ³•æ˜¯ä½¿ç”¨äº†å¿«é€Ÿæ’åºç®—æ³•çš„æŸç§å˜ä½“ã€‚ æ’åºä¸€ä¸ªå®¹å™¨çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œé€‰æ‹©å®¹å™¨çš„æŸä¸ªå…ƒç´ ä½œä¸ºâ€œä¸»å…ƒâ€ï¼Œç„¶åå¯¹å¤§äºå’Œå°äºæˆ–ç­‰äºä¸»å…ƒçš„å€¼è¿›è¡Œé€’å½’æ’åºã€‚ åœ¨sortå†…éƒ¨ï¼Œè¿™æ ·çš„æ–¹æ³•çœ‹èµ·æ¥åƒè¿™æ ·ï¼š template\u003cclass RandomAccessIterator, class Compare\u003e// è¿™ä¸ªsortçš„å£°æ˜ç›´æ¥æ¥è‡ªäºæ ‡å‡† void sort(RandomAccessIterator first, RandomAccessIterator last, Compare comp) { // è¿™ä¸ªtypedefåœ¨ä¸‹é¢è§£é‡Š typedef typename iterator_traits\u003cRandomAccessIterator\u003e::value_type ElementType; RandomAccessIterator i; ... // è®©iæŒ‡å‘ä¸»å…ƒ ElementType pivotValue(*); // æŠŠä¸»å…ƒæ‹·è´åˆ°ä¸€ä¸ªå±€éƒ¨ä¸´æ—¶å˜é‡ä¸­ï¼› ... // wor } æºç ä¸ºï¼š template\u003ctypename _RandomAccessIterator, typename _Compare\u003e inline void sort(_RandomAccessIterator __first, _RandomAccessIterator __last, _Compare __comp) { // concept requirements __glibcxx_function_requires(_Mutable_RandomAccessIteratorConcept\u003c _RandomAccessIterator\u003e) __glibcxx_function_requires(_BinaryPredicateConcept\u003c_Compare, typename iterator_traits\u003c_RandomAccessIterator\u003e::value_type, typename iterator_traits\u003c_RandomAccessIterator\u003e::value_type\u003e) __glibcxx_requires_valid_range(__first, __last); __glibcxx_requires_irreflexive_pred(__first, __last, __comp); std::__sort(__first, __last, __gnu_cxx::__ops::__iter_comp_iter(__comp)); } // ä¸Šé¢ __gnu_cxx::__ops::__iter_comp_iter(__comp) çš„å®ç°å¦‚ä¸‹ template\u003ctypename _Compare, typename _Iterator\u003e inline _Iter_comp_to_iter\u003c_Compare, _Iterator\u003e __iter_comp_iter(_Iter_comp_iter\u003c_Compare\u003e __comp, _Iterator __it) { return _Iter_comp_to_iter\u003c_Compare, _Iterator\u003e( _GLIBCXX_MOVE(__comp._M_comp), __it); // è¿™é‡Œæœ‰move } å½“æ¶‰åŠiterator_traits\u003cRandomAccessIterator\u003e::value_typeæ—¶ï¼Œå¿…é¡»åœ¨å®ƒå‰é¢å†™ä¸Štypenameï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªä¾èµ–äºæ¨¡æ¿å‚æ•°ç±»å‹çš„åå­—ï¼Œåœ¨è¿™é‡Œæ˜¯RandomAccessIteratorã€‚ ä¸Šé¢ä»£ç ä¸­æ£˜æ‰‹çš„æ˜¯è¿™ä¸€è¡Œ: ElementType pivotValue(*i); å› ä¸ºå®ƒæŠŠä¸€ä¸ªå…ƒç´ ä»ä¿å­˜çš„åŒºé—´æ‹·è´åˆ°å±€éƒ¨ä¸´æ—¶å¯¹è±¡ä¸­ã€‚ åœ¨ä¾‹å­é‡Œï¼Œè¿™ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªauto_ptr\u003cWidget\u003eï¼Œæ‰€ä»¥è¿™ä¸ªæ‹·è´æ“ä½œé»˜é»˜åœ°æŠŠè¢«æ‹·è´çš„auto_ptrâ€”â€”vectorä¸­çš„é‚£ä¸ªâ€”â€”è®¾ä¸ºNULLã€‚ å¦å¤–ï¼Œå½“pivotValueå‡ºäº†ç”Ÿå­˜æœŸï¼Œå®ƒä¼šè‡ªåŠ¨åˆ é™¤æŒ‡å‘çš„Widgetã€‚è¿™æ—¶sortè°ƒç”¨è¿”å›äº†ï¼Œvectorçš„å†…å®¹å·²ç»æ”¹å˜äº†ï¼Œè€Œä¸”è‡³å°‘ä¸€ä¸ªWidgetå·²ç»è¢«åˆ é™¤äº†ã€‚ ä¹Ÿå¯èƒ½æœ‰å‡ ä¸ªvectorå…ƒç´ å·²ç»è¢«è®¾ä¸ºNULLï¼Œè€Œä¸”å‡ ä¸ªwidgetå·²ç»è¢«åˆ é™¤ï¼Œå› ä¸ºå¿«é€Ÿæ’åºæ˜¯ä¸€ç§é€’å½’ç®—æ³•ï¼Œé€’å½’çš„æ¯ä¸€å±‚éƒ½ä¼šæ‹·è´ä¸€ä¸ªä¸»å…ƒã€‚ ","date":"2023-07-27","objectID":"/posts/clause_8/:2:0","tags":["STL"],"title":"Effective STL [8] | æ°¸ä¸å»ºç«‹auto_ptrçš„å®¹å™¨","uri":"/posts/clause_8/"},{"categories":["C++"],"content":"ç»“è®º æ™ºèƒ½æŒ‡é’ˆçš„å®¹å™¨æ˜¯å¾ˆå¥½çš„ï¼Œ ä½†æ˜¯auto_ptrå®Œå…¨ä¸æ˜¯é‚£æ ·çš„æ™ºèƒ½æŒ‡é’ˆã€‚ ","date":"2023-07-27","objectID":"/posts/clause_8/:3:0","tags":["STL"],"title":"Effective STL [8] | æ°¸ä¸å»ºç«‹auto_ptrçš„å®¹å™¨","uri":"/posts/clause_8/"},{"categories":["C++"],"content":"STLå®¹å™¨èƒ½å¤Ÿåšçš„äº‹æƒ… æä¾›äº†å‰å‘å’Œé€†å‘éå†çš„è¿­ä»£å™¨ï¼ˆé€šè¿‡beginã€endã€rbeginç­‰ï¼‰ï¼› èƒ½å‘Šè¯‰ä½ æ‰€å®¹çº³çš„å¯¹è±¡ç±»å‹ï¼ˆé€šè¿‡value_typeçš„ttypedefï¼‰ï¼› åœ¨æ’å…¥å’Œåˆ é™¤ä¸­ï¼Œè´Ÿè´£ä»»ä½•éœ€è¦çš„å†…å­˜ç®¡ç†ï¼› æŠ¥å‘Šå®¹çº³äº†å¤šå°‘å¯¹è±¡å’Œæœ€å¤šå¯èƒ½å®¹çº³çš„æ•°é‡ï¼ˆåˆ†åˆ«é€šè¿‡sizeå’Œmax_sizeï¼‰ï¼› å½“å®¹å™¨è‡ªå·±è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨é”€æ¯å®¹çº³çš„æ¯ä¸ªå¯¹è±¡ã€‚ ","date":"2023-07-26","objectID":"/posts/clause_7/:1:0","tags":["STL"],"title":"Effective STL [7] | å½“ä½¿ç”¨newå¾—æŒ‡é’ˆçš„å®¹å™¨æ—¶ï¼Œè®°å¾—åœ¨é”€æ¯å®¹å™¨å‰deleteé‚£äº›æŒ‡é’ˆ","uri":"/posts/clause_7/"},{"categories":["C++"],"content":"å®¹å™¨å†…åŒ…å«æŒ‡é’ˆ è™½ç„¶STLå®¹å™¨è¢«é”€æ¯æ—¶ï¼Œèƒ½å¤Ÿè‡ªåŠ¨é”€æ¯å®¹çº³çš„æ¯ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å¦‚æœè¿™äº›å¯¹è±¡æ˜¯é€šè¿‡newåˆ†é…çš„å¯¹è±¡çš„æŒ‡é’ˆæ—¶ï¼Œå®ƒä¸ä¼šè°ƒç”¨deleteï¼Œé”€æ¯æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚ Example void doSomething() { vector\u003cWidget*\u003e vwp; for (int i = 0; i \u003c SOME_MAGIC_NUMBER; ++i) vwp.push_back(new Widget); ... // work } // Widgetsåœ¨è¿™é‡Œæ³„æ¼ï¼ è¿™æ®µä»£ç å°†ç›´æ¥å¯¼è‡´å†…å­˜æ³„éœ²ã€‚ å½“vwpç»“æŸå…¶ç”Ÿå‘½å‘¨æœŸåï¼Œvwpçš„æ¯ä¸ªå…ƒç´ éƒ½è¢«é”€æ¯ï¼Œä½†ä¸ä¼šdeleteæ¯ä¸ªnewå¾—åˆ°çš„å¯¹è±¡ã€‚ é‚£æ ·çš„åˆ é™¤æ˜¯ä½ çš„èŒè´£ï¼Œè€Œä¸æ˜¯vectorçš„ã€‚è¿™æ˜¯ä¸€ä¸ªç‰¹æ€§ã€‚åªæœ‰ä½ çŸ¥é“ä¸€ä¸ªæŒ‡é’ˆæ˜¯å¦åº”è¯¥è¢«åˆ é™¤ã€‚ å¯ä»¥å¾ˆç®€å•åœ°å®ç°ï¼š void doSomething() { vector\u003cWidget*\u003e vwp; ... // work for (vector\u003cWidget*\u003e::iterator i = vwp.begin(); i != vwp.end(), ++i) { delete *i; } } è¿™æ®µé”€æ¯çš„ä»£ç ï¼Œä»ç„¶æœ‰2ä¸ªé—®é¢˜ï¼š æ–°çš„forå¾ªç¯ä»£ç æ¯”for_eachå¤šå¾—å¤šï¼Œæ²¡æœ‰ä½¿ç”¨for_eachæ¥çš„æ¸…æ¥š è¿™æ®µä»£ç ä¸æ˜¯å¼‚å¸¸å®‰å…¨çš„ã€‚å¦‚æœåœ¨ç”¨æŒ‡é’ˆå¡«å……äº†vwpçš„æ—¶å€™å’Œä½ è¦åˆ é™¤å®ƒä»¬ä¹‹é—´æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œä½ ä¼šå†æ¬¡èµ„æºæ³„æ¼ã€‚ for_eachåˆ é™¤å¯¹è±¡ è¦æŠŠä½ çš„ç±»ä¼¼for_eachçš„å¾ªç¯è½¬åŒ–ä¸ºçœŸæ­£ä½¿ç”¨for_eachï¼Œä½ éœ€è¦æŠŠdeleteè½¬å…¥ä¸€ä¸ªå‡½æ•°å¯¹è±¡ä¸­ã€‚ template\u003ctypename T\u003e struct DeleteObject : public unary_function\u003cconst T*, void\u003e { // è¿™é‡Œæœ‰è¿™ä¸ªç»§æ‰¿ void operator()(const T* ptr) const { delete ptr; } }; ç°åœ¨å¯ä»¥è¿™ä¹ˆåˆ é™¤å¯¹è±¡ void HappyWork() { ... // work for_each(vwp.begin(), vwp.end(), DeleteObject\u003cWidget\u003e); } é—®é¢˜ å¦‚æœæœ‰äººç¼–å†™äº†ä¸€ä¸ªç±»ï¼Œè¯¥ç±»ç»§æ‰¿äº† string class SpecialString: public string { ... }; è¿™æ˜¯å¾ˆå±é™©çš„è¡Œä¸ºï¼Œå› ä¸ºstringï¼Œå°±åƒæ‰€æœ‰çš„æ ‡å‡†STLå®¹å™¨ï¼Œç¼ºå°‘è™šææ„å‡½æ•°ï¼Œè€Œä»æ²¡æœ‰è™šææ„å‡½æ•°çš„ç±»å…¬æœ‰ç»§æ‰¿æ˜¯ä¸€ä¸ªå¤§çš„C++ç¦å¿Œã€‚ å½“ä»–åˆ é™¤ SpecialString æ—¶å°±ä¼šèµ„æºæ³„éœ² void doSomething() { deque\u003cSpecialString*\u003e dssp; ... for_each(dssp.begin(), dssp.end(), // è¡Œä¸ºæœªå®šä¹‰ï¼é€šè¿‡æ²¡æœ‰ DeleteObject\u003cstring\u003e()); // è™šææ„å‡½æ•°çš„åŸºç±» } // æŒ‡é’ˆæ¥åˆ é™¤æ´¾ç”Ÿå¯¹è±¡ è§£å†³ å¯ä»¥é€šè¿‡ç¼–è¯‘å™¨æ¨æ–­ä¼ ç»™DeleteObject::operator()çš„æŒ‡é’ˆçš„ç±»å‹æ¥æ¶ˆé™¤è¿™ä¸ªé”™è¯¯ï¼ˆä¹Ÿå‡å°‘DeleteObjectçš„ç”¨æˆ·éœ€è¦çš„å‡»é”®æ¬¡æ•°ï¼‰ã€‚ æŠŠæ¨¡æ¿åŒ–ä»DeleteObjectç§»åˆ°å®ƒçš„operator()ï¼š struct DeleteObject { // åˆ é™¤è¿™é‡Œçš„ // æ¨¡æ¿åŒ–å’ŒåŸºç±» template\u003ctypename T\u003e // æ¨¡æ¿åŒ–åŠ åœ¨è¿™é‡Œ void operator()(const T* ptr) const { delete ptr; } } é€šè¿‡ä¼ ç»™DeleteObject::operator()çš„æŒ‡é’ˆçš„ç±»å‹ï¼Œè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªoperator()ã€‚è¿™ç§ç±»å‹æ¼”ç»ä¸‹é™è®©æˆ‘ä»¬æ”¾å¼ƒä½¿DeleteObjectå¯é€‚é…çš„èƒ½åŠ› ç°åœ¨åˆ é™¤ SpecialString å°±ä¼šæ­£å¸¸äº† void doSomething() { deque\u003cSpecialString*\u003e dssp; ... for_each(dssp.begin(), dssp.end(), DeleteObject()); // goodï¼ } ç°åœ¨ä»ä¸æ˜¯å¼‚å¸¸å®‰å…¨çš„ã€‚ æœåœ¨SpecialStringè¢«newä½†åœ¨è°ƒç”¨for_eachä¹‹å‰æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œå°±ä¼šå‘ç”Ÿæ³„æ¼ã€‚ è¿™ä¸ªé—®é¢˜å¯ä»¥ä»¥å¤šç§æ–¹å¼è¢«è§£å†³ï¼Œä½†æœ€ç®€å•çš„å¯èƒ½æ˜¯ç”¨æ™ºèƒ½æŒ‡é’ˆçš„å®¹å™¨æ¥ä»£æ›¿æŒ‡é’ˆçš„å®¹å™¨ï¼Œå…¸å‹çš„æ˜¯å¼•ç”¨è®¡æ•°æŒ‡é’ˆã€‚ ","date":"2023-07-26","objectID":"/posts/clause_7/:2:0","tags":["STL"],"title":"Effective STL [7] | å½“ä½¿ç”¨newå¾—æŒ‡é’ˆçš„å®¹å™¨æ—¶ï¼Œè®°å¾—åœ¨é”€æ¯å®¹å™¨å‰deleteé‚£äº›æŒ‡é’ˆ","uri":"/posts/clause_7/"},{"categories":["C++"],"content":"Booståº“ä¸­çš„shared_ptr åˆ©ç”¨Boostçš„shared_ptrï¼Œæœ¬æ¡æ¬¾çš„åŸå§‹ä¾‹å­å¯ä»¥é‡å†™ä¸ºè¿™æ ·ï¼š void doSomething() { typedef boost::shared_ ptr\u003cWidget\u003e SPW; //SPW = \"shared_ptr to Widget\" vector\u003cSPW\u003e vwp; for (int i = 0; i \u003c SOME_MAGIC_NUMBER; ++i) vwp.push_back(SPW(new Widget)); // ä»ä¸€ä¸ªWidgetå»ºç«‹SPW,ç„¶åè¿›è¡Œä¸€æ¬¡push_back ... // work } // è¿™é‡Œæ²¡æœ‰Widgetæ³„æ¼ï¼Œç”šè‡³åœ¨ä¸Šé¢ä»£ç ä¸­æŠ›å‡ºå¼‚å¸¸ ","date":"2023-07-26","objectID":"/posts/clause_7/:3:0","tags":["STL"],"title":"Effective STL [7] | å½“ä½¿ç”¨newå¾—æŒ‡é’ˆçš„å®¹å™¨æ—¶ï¼Œè®°å¾—åœ¨é”€æ¯å®¹å™¨å‰deleteé‚£äº›æŒ‡é’ˆ","uri":"/posts/clause_7/"},{"categories":["C++"],"content":"ç»“è®º STLå®¹å™¨å¾ˆæ™ºèƒ½ï¼Œä½†å®ƒä»¬æ²¡æœ‰æ™ºèƒ½åˆ°çŸ¥é“æ˜¯å¦åº”è¯¥åˆ é™¤å®ƒä»¬æ‰€åŒ…å«çš„æŒ‡é’ˆã€‚ å½“ä½ è¦åˆ é™¤æŒ‡é’ˆçš„å®¹å™¨æ—¶è¦é¿å…èµ„æºæ³„æ¼ï¼Œä½ å¿…é¡»ç”¨æ™ºèƒ½å¼•ç”¨è®¡æ•°æŒ‡é’ˆå¯¹è±¡ï¼ˆæ¯”å¦‚Boostçš„shared_ptrï¼‰æ¥ä»£æ›¿æŒ‡é’ˆï¼Œæˆ–è€…ä½ å¿…é¡»åœ¨å®¹å™¨é”€æ¯å‰æ‰‹åŠ¨åˆ é™¤å®¹å™¨ä¸­çš„æ¯ä¸ªæŒ‡é’ˆã€‚ ","date":"2023-07-26","objectID":"/posts/clause_7/:4:0","tags":["STL"],"title":"Effective STL [7] | å½“ä½¿ç”¨newå¾—æŒ‡é’ˆçš„å®¹å™¨æ—¶ï¼Œè®°å¾—åœ¨é”€æ¯å®¹å™¨å‰deleteé‚£äº›æŒ‡é’ˆ","uri":"/posts/clause_7/"},{"categories":["ML"],"content":"ä¸€ã€GANçš„å¼•å…¥ GANï¼ˆGenerative Adversarial Networksï¼‰æ˜¯ä¸€ç§æ— ç›‘ç£çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œæå‡ºäº2014å¹´ï¼Œè¢«èª‰ä¸ºâ€œè¿‘å¹´æ¥å¤æ‚åˆ†å¸ƒä¸Šæ— ç›‘ç£å­¦ä¹ æœ€å…·å‰æ™¯çš„æ–¹æ³•ä¹‹ä¸€â€ã€‚ quote Yann Lecunå¯¹å…¶çš„è¯„ä»·æ˜¯ï¼šå¯¹æŠ—å¼è®­ç»ƒæ˜¯è¿„ä»Šä¸ºæ­¢æœ€é…·çš„ä¸€ä»¶äº‹æƒ…ã€‚ Adversarial training is the coolest thing since sliced bread. æˆ‘ä»¬æ¥çœ‹ä¸‹åŸæ–‡çš„æ ‡é¢˜ï¼š Generativeï¼šæˆ‘ä»¬çŸ¥é“æœºå™¨å­¦ä¹ æ¨¡å‹æœ‰ä¸¤å¤§ç±»ï¼Œç¬¬ä¸€ä¸ªæ˜¯åˆ†è¾¨æ¨¡å‹ï¼šå¯¹äºä¸€ä¸ªæ•°æ®å»åˆ†è¾¨å®ƒçš„ç±»åˆ«ï¼Œæˆ–è€…æ˜¯é¢„æµ‹ä¸€ä¸ªå®æ•°å€¼ï¼›å¦ä¸€ç±»æ˜¯ç”Ÿæˆæ¨¡å‹ï¼Œæ„æ€æ˜¯æ€ä¹ˆæ ·ç”Ÿæˆè¿™ä¸ªæ•°æ®æœ¬èº«ã€‚æ˜¾ç„¶GANæ˜¯å±äºç”Ÿæˆæ¨¡å‹ã€‚ Adversarialï¼šå¯¹æŠ—çš„ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯GANæå‡ºçš„è¿™ç§ framework é‡‡ç”¨å¯¹æŠ—è®­ç»ƒçš„æ–¹å¼æ¥workã€‚ Netsï¼šNetworkçš„ç®€å†™ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:1:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"äºŒã€GANçš„åº”ç”¨ä¸¾ä¾‹ æ•°æ®ç”Ÿæˆï¼šç”Ÿæˆä¸€äº›å‡çš„å›¾åƒæ•°æ®ï¼Œæ¯”å¦‚æµ·æŠ¥ä¸­çš„äººè„¸ã€æ–‡æœ¬ç”Ÿæˆå›¾åƒç­‰ï¼› æ•°æ®å¢å¼ºï¼šä»åˆ†å‰²å›¾ç”Ÿæˆå‡çš„çœŸå®è¡—æ™¯ï¼Œæ¯”å¦‚å¯ä»¥æ–¹ä¾¿è®­ç»ƒæ— äººæ±½è½¦ç­‰ï¼› é£æ ¼åŒ–å’Œè‰ºæœ¯çš„å›¾åƒåˆ›é€ ï¼šæ¯”å¦‚è½¬æ¢å›¾åƒé£æ ¼ã€AIæ¢è„¸ã€ä¿®è¡¥å›¾åƒç­‰ï¼› å£°éŸ³çš„è½¬æ¢ï¼šæ¯”å¦‚ä¸€ä¸ªäººçš„å£°éŸ³è½¬ä¸ºå¦ä¸€ä¸ªçš„å£°éŸ³ã€å»é™¤å™ªå£°ç­‰ï¼› â€¦â€¦ ","date":"2023-07-26","objectID":"/posts/gan_1/:2:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"ä¸‰ã€GANçš„å¿«é€Ÿæ¦‚è¿° æ¯”å¦‚äººè„¸æ£€æµ‹ã€å›¾åƒè¯†åˆ«ã€è¯­éŸ³è¯†åˆ«ç­‰ï¼Œæœºå™¨æ€»æ˜¯åœ¨ç°æœ‰äº‹ç‰©çš„åŸºç¡€ä¸Šï¼Œåšå‡ºæè¿°å’Œåˆ¤æ–­ã€‚èƒ½ä¸èƒ½åˆ›é€ è¿™ä¸ªä¸–ç•Œä¸å­˜åœ¨çš„ä¸œè¥¿ï¼Ÿ GANå°±æ˜¯ä¸ºæ­¤è€Œæ¥ï¼Œå®ƒåŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šç”Ÿæˆã€åˆ¤åˆ«ã€å¯¹æŠ—ã€‚å…¶ä¸­ ç”Ÿæˆ å’Œ åˆ¤åˆ« æ˜¯å®ƒçš„ç»“æ„ç»„æˆï¼Œå¯¹æŠ—åˆ™æ˜¯å®ƒçš„è®­ç»ƒè¿‡ç¨‹ã€‚ ç”Ÿæˆï¼šç”Ÿæˆ å’Œ åˆ¤åˆ« æŒ‡çš„æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„æ¨¡å‹ï¼Œç”Ÿæˆå™¨ä¼šæ ¹æ®éšæœºå‘é‡äº§ç”Ÿå‡æ•°æ®ï¼Œè¿™äº›å‡æ•°æ®æ—¢å¯ä»¥æ˜¯å›¾ç‰‡ã€ä¹Ÿå¯ä»¥æ˜¯æ–‡æœ¬ï¼Œå¹¶è¯•å›¾æ¬ºéª—åˆ¤åˆ«ç½‘ç»œï¼› åˆ¤åˆ«ï¼šåˆ¤åˆ«å™¨è´Ÿè´£åˆ¤æ–­æ¥å—åˆ°çš„æ•°æ®æ˜¯å¦æ˜¯çœŸå®çš„ï¼Œå³å¯¹ç”Ÿæˆæ•°æ®è¿›è¡ŒçœŸä¼ªé‰´åˆ«ï¼Œè¯•å›¾æ­£ç¡®è¯†åˆ«æ‰€æœ‰å‡æ•°æ®ï¼Œå®ƒå…¶å®æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œä¼šç»™å‡ºä¸€ä¸ªæ¦‚ç‡ï¼Œä»£è¡¨ç€å†…å®¹çš„çœŸå®ç¨‹åº¦ï¼›ä¸¤è€…ä½¿ç”¨å“ªç§ç½‘ç»œå¹¶æ²¡æœ‰æ˜ç¡®çš„è§„å®šï¼Œæ‰€ä»¥åŸæ–‡ä¸­ä½œè€…ç§°å…¶ä¸ºframeworkã€‚æ¯”å¦‚å¯ä»¥ä½¿ç”¨æ“…é•¿å¤„ç†å›¾ç‰‡çš„CNNã€å¸¸è§çš„å…¨è¿æ¥ç­‰ç­‰ï¼Œåªè¦èƒ½å¤Ÿå®Œæˆç›¸åº”çš„åŠŸèƒ½å°±å¯ä»¥äº†ã€‚ å¯¹æŠ—ï¼šè¿™æŒ‡çš„æ˜¯ GAN çš„äº¤æ›¿è®­ç»ƒè¿‡ç¨‹ã€‚ä»¥å›¾ç‰‡ç”Ÿæˆä¸ºä¾‹ï¼Œå…ˆè®©ç”Ÿæˆå™¨äº§ç”Ÿä¸€äº›å‡å›¾ç‰‡ï¼Œå’Œæ”¶é›†åˆ°çš„çœŸå›¾ç‰‡ä¸€èµ·äº¤ç»™è¾¨åˆ«å™¨ï¼Œè®©å®ƒå­¦ä¹ åŒºåˆ†ä¸¤è€…ï¼Œç»™çœŸçš„é«˜åˆ†ï¼Œç»™å‡çš„ä½åˆ†ï¼Œå½“åˆ¤åˆ«å™¨èƒ½å¤Ÿç†Ÿç»ƒåˆ¤æ–­ç°æœ‰æ•°æ®åï¼›å†è®© ç”Ÿæˆå™¨ ä»¥ä» åˆ¤åˆ«å™¨ å¤„è·å¾—é«˜åˆ†ä¸ºç›®æ ‡ï¼Œä¸æ–­ç”Ÿæˆæ›´å¥½çš„å‡å›¾ç‰‡ï¼Œç›´åˆ°èƒ½éª—è¿‡åˆ¤åˆ«å™¨ï¼Œé‡å¤è¿›è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°è¾¨åˆ«å™¨å¯¹ä»»ä½•å›¾ç‰‡çš„é¢„æµ‹æ¦‚ç‡éƒ½æ¥è¿‘0.5ï¼Œä¹Ÿå°±æ˜¯æ— æ³•åˆ†è¾¨å›¾ç‰‡çš„çœŸå‡ï¼Œå°±åœæ­¢è®­ç»ƒã€‚ ä¹Ÿå°±æ˜¯è¯´åœ¨è®­ç»ƒè¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œä¸¤ä¸ªç½‘ç»œæŒç»­åœ°è¿›åŒ–å’Œå¯¹æŠ—ï¼Œç›´åˆ°åˆ°è¾¾ä¸€ä¸ªå¹³è¡¡çŠ¶æ€ï¼Œå³åˆ¤åˆ«ç½‘ç»œæ— æ³•è¯†åˆ«çœŸå‡ã€‚è™½è¯´æ˜¯å¯¹æŠ—ï¼Œä½†æ˜¯ç”Ÿæˆå™¨å’Œè¾¨åˆ«å™¨çš„å…³ç³»æ›´åƒæ˜¯æœ‹å‹ï¼Œæœ€åˆå¤§å®¶éƒ½æ˜¯â€œæ— åä¹‹è¾ˆâ€ï¼Œéšç€ä¸æ–­çš„è®­ç»ƒâ€œåˆ‡ç£‹â€ï¼Œå…±åŒæˆä¸ºâ€œä¸€ä»£é«˜æ‰‹â€ã€‚ æˆ‘ä»¬è®­ç»ƒGANçš„æœ€ç»ˆç›®æ ‡æ˜¯è·å¾—å¥½ç”¨çš„ç”Ÿæˆå™¨ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆè¶³å¤Ÿä»¥å‡ä¹±çœŸçš„å†…å®¹ï¼Œèƒ½å®Œæˆç±»ä¼¼åŠŸèƒ½çš„è¿˜æœ‰æ³¢å°”æ–¯æ›¼æœºã€å˜åˆ†è‡ªç¼–ç å™¨ç­‰ï¼Œå®ƒä»¬è¢«ç§°ä¸ºç”Ÿæˆæ¨¡å‹ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:3:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"å››ã€åŸæ–‡çš„æ‘˜è¦ quote åˆ°åº•ä»€ä¹ˆæ˜¯GANï¼Ÿ é¦–å…ˆä½œè€…æå‡ºä¸€ä¸ªæ–°çš„frameworkï¼Œé€šè¿‡ä¸€ä¸ªå¯¹æŠ—è¿‡ç¨‹æ¥ä¼°è®¡ä¸€ä¸ªç”Ÿæˆæ¨¡å‹ã€‚ åŒæ—¶ä¼šè®­ç»ƒä¸¤ä¸ªæ¨¡å‹ï¼š ç¬¬ä¸€ä¸ªæ¨¡å‹å«åš ç”Ÿæˆæ¨¡å‹Gï¼Œç”¨æ¥æ•è·æ•´ä¸ªæ•°æ®çš„åˆ†å¸ƒï¼Œå…¶å®å°±æ˜¯é€šè¿‡ ç”Ÿæˆå™¨ å»æ‹Ÿåˆå’Œé€¼è¿‘çœŸå®çš„æ•°æ®åˆ†å¸ƒï¼› ç¬¬äºŒä¸ªæ˜¯ è¾¨åˆ«æ¨¡å‹Dï¼Œå®ƒæ˜¯ç”¨æ¥ä¼°è®¡ä¸€ä¸ªæ ·æœ¬æ˜¯æ¥è‡ªçœŸæ­£çš„æ•°æ®ã€è¿˜æ˜¯æ¥è‡ªäºGç”Ÿæˆçš„ã€‚ Note è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ï¼šç”Ÿæˆæ¨¡å‹ å®ƒå°±æ˜¯å¯¹æ•´ä¸ªæ•°æ®çš„åˆ†å¸ƒè¿›è¡Œå»ºæ¨¡ï¼Œä½¿å¾—èƒ½å¤Ÿç”Ÿæˆå„ç§åˆ†å¸ƒã€‚è¿™é‡Œâ€œåˆ†å¸ƒâ€æ˜¯ä¸€ä¸ªå¾ˆä¸€èˆ¬åŒ–çš„è¯ï¼Œæ¯”å¦‚ç”Ÿæˆå›¾ç‰‡ã€ç”Ÿæˆæ–‡æœ¬ã€ç”Ÿæˆè§†é¢‘ç­‰ã€‚åœ¨ç»Ÿè®¡å­¦çœ¼é‡Œï¼Œæ•´ä¸ªä¸–ç•Œæ˜¯é€šè¿‡é‡‡æ ·ä¸åŒçš„åˆ†å¸ƒæ¥å¾—åˆ°çš„ï¼Œæ‰€ä»¥æƒ³è¦ç”Ÿæˆä¸œè¥¿ï¼Œç›®çš„å°±æ˜¯è¦æŠ“ä½æ•´ä¸ªæ•°æ®çš„ä¸€ä¸ªåˆ†å¸ƒã€‚ ç”Ÿæˆæ¨¡å‹çš„ä»»åŠ¡æ˜¯å°½é‡çš„æƒ³è®©è¾¨åˆ«æ¨¡å‹çŠ¯é”™ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªæœ€å¤§æœ€å°çš„åšå¼ˆã€‚åœ¨ä»»ä½•å‡½æ•°ç©ºé—´çš„Gå’ŒDé‡Œé¢ï¼Œå­˜åœ¨ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„è§£ï¼Œè¿™ä¸ªè§£æ˜¯ä»£è¡¨ï¼šGèƒ½å¤Ÿæ‰¾å‡ºè®­ç»ƒæ•°æ®çš„çœŸå®åˆ†å¸ƒï¼ˆç”Ÿæˆçš„æ•°æ®åˆ†å¸ƒè¶‹å‘äºçœŸå®æ•°æ®åˆ†å¸ƒï¼‰ï¼Œæ­¤æ—¶è¾¨åˆ«å™¨å°±åˆ¤åˆ«ä¸å‡ºæ¥äº†ï¼Œæ‰€ä»¥æ¦‚ç‡å€¼ä¸º$\\frac{1}{2}$ã€‚ å¦‚æœGå’ŒDæ˜¯ä¸€ä¸ªMLPçš„è¯ï¼Œé‚£ä¹ˆæ•´ä¸ªç³»ç»Ÿå°±å¯ä»¥é€šè¿‡è¯¯å·®åå‘ä¼ æ’­æ¥è¿›è¡Œè®­ç»ƒã€‚ä½œè€…è¯´è¿™é‡Œä¸éœ€è¦ä½¿ç”¨ä»»ä½•çš„é©¬å°”ç§‘å¤«é“¾ï¼Œæˆ–è€…è¯´æ˜¯å¯¹ä¸€ä¸ªè¿‘ä¼¼çš„æ¨ç†è¿‡ç¨‹å±•å¼€ï¼ˆè¯´ç™½äº†æ„æ€å¥½åƒå°±æ˜¯å’Œåˆ«äººçš„æ–¹æ³•æ¯”æ¯”è¾ƒç®€å•ä¸€ç‚¹ï¼‰ï¼Œæœ€åå°±æ˜¯è¯´å®éªŒçš„æ•ˆæœéå¸¸å¥½ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:4:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"äº”ã€åŸæ–‡çš„ä¾‹å­ åœ¨å¯¹æŠ—ç½‘ç»œçš„æ¡†æ¶é‡Œæœ‰ä¸¤ç±»æ¨¡å‹ï¼šä¸€ä¸ªæ˜¯ç”Ÿæˆæ¨¡å‹ã€ä¸€ä¸ªæ˜¯åˆ¤åˆ«æ¨¡å‹ï¼š ç”Ÿæˆæ¨¡å‹æ¯”å–»æˆé€ å‡çš„äººï¼Œå®ƒè¦å»äº§ç”Ÿå‡å¸ï¼› åˆ¤åˆ«æ¨¡å‹æ¯”å–»æˆè­¦å¯Ÿï¼Œè­¦å¯Ÿçš„ä»»åŠ¡å°±æ˜¯å¾ˆå¥½çš„é‰´åˆ«å‡å¸å’ŒçœŸå¸ï¼› é€ å‡è€…å’Œè­¦å¯Ÿä¼šä¸æ–­çš„å­¦ä¹ ï¼Œé€ å‡è€…ä¼šæå‡è‡ªå·±çš„é€ å‡æŠ€èƒ½ï¼Œè­¦å¯Ÿä¹Ÿä¼šæå‡è‡ªå·±åˆ¤åˆ«çœŸå¸å’Œå‡å¸çš„æ€§èƒ½ã€‚æœ€åå¸Œæœ›é€ å‡è€…èƒ½å¤Ÿèµ¢ï¼Œå°±æ˜¯è¯´é€ çš„å‡é’±å’ŒçœŸé’±ä¸€æ¨¡ä¸€æ ·ï¼Œç„¶åè­¦å¯Ÿæ²¡æœ‰èƒ½åŠ›å»åŒºåˆ†çœŸå¸å’Œå‡å¸ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ç”Ÿæˆå™¨ç”Ÿæˆå’ŒçœŸå®æ•°æ®ä¸€æ ·çš„æ•°æ®äº†ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:5:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"å…­ã€GANæ¨¡å‹ç»“æ„ \u0026 è®­ç»ƒGANçš„ç›®çš„ æ‘˜è¦è¯´çš„å·²ç»å¾ˆæ¸…æ¥šäº†ï¼ŒGANç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š ç”Ÿæˆå™¨Gï¼ˆGeneratorï¼‰ï¼› åˆ¤åˆ«å™¨Dï¼ˆDiscriminatorï¼‰ï¼› æˆ‘ä»¬çš„æœ€ç»ˆç›®çš„æ˜¯å¸Œæœ›ç”Ÿæˆå™¨Gï¼Œèƒ½å¤Ÿå­¦ä¹ åˆ°æ ·æœ¬çš„çœŸå®åˆ†å¸ƒ$P_{\\text{data}}(x)$ï¼Œé‚£ä¹ˆå°±èƒ½ç”Ÿæˆä¹‹å‰ä¸å­˜åœ¨çš„ã€ä½†æ˜¯å´åˆå¾ˆçœŸå®çš„æ ·æœ¬ã€‚ é‚£å†å•°å—¦çš„è¯´æ˜ç™½ä¸€ç‚¹å°±æ˜¯ï¼š æˆ‘ä»¬æŠŠéšæœºå‘é‡ï¼ˆéšæœºå™ªå£°ï¼‰å®šä¹‰ä¸º $z$ï¼Œ$z \\in F$ï¼Œå¯ä»¥æ˜¯ä»»æ„åˆ†å¸ƒï¼Œæ¯”å¦‚æ­£æ€åˆ†å¸ƒã€å‡åŒ€åˆ†å¸ƒã€‚ å°†éšæœºå™ªå£°è¾“å…¥åˆ° ç”Ÿæˆå™¨G ä¸­ï¼ŒGå…¶å®çœ‹æˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥ï¼Œå®ƒå¯ä»¥æ˜¯ä»»æ„çš„ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œå› ä¸ºç¥ç»ç½‘ç»œå¯ä»¥é€¼è¿‘ä»»ä½•å½¢å¼çš„å‡½æ•°ã€‚ éšæœºå™ªå£° $z$ ç»è¿‡ç”Ÿæˆå™¨Gåä¼šäº§ç”Ÿä¸€ä¸ª $G(z)$ï¼Œç”Ÿæˆçš„è¿™ä¸ªæ–°çš„å‘é‡ $G(z)$ï¼Œå®ƒå¯ä»¥è®°ä¸ºæœä»$P_G(x)$ã€‚ä½†æ˜¯$P_G(x)$è¿™ä¸ªåˆ†å¸ƒä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯ç”Ÿæˆå™¨Gç”Ÿæˆä¸€ä¸ªæ»¡è¶³äºçœŸå®åˆ†å¸ƒ$P_{\\text{data}}(x)$çš„æ•°æ®ã€‚ é€šè¿‡ä¸æ–­çš„è®­ç»ƒè¿­ä»£ï¼Œæ›´æ–°è°ƒæ•´ç”Ÿæˆå™¨Gçš„å‚æ•°ï¼Œä½¿å¾—$P_G(x)$è¿‘ä¼¼äº $P_{\\text{data}}(x)$ã€‚ é€šè¿‡è°ƒæ•´ ç”Ÿæˆå™¨G çš„å‚æ•°ï¼Œä½¿å¾—å®ƒç”Ÿæˆçš„åˆ†å¸ƒå’ŒçœŸå®çš„åˆ†å¸ƒå°½å¯èƒ½çš„åƒï¼Œè¿™ä¸ªå°±æ˜¯æœ€ç»ˆè¦è¾¾åˆ°çš„ç›®çš„ï¼Œå¯ä»¥é€šè¿‡ ç”Ÿæˆå™¨G ç”Ÿæˆä¸€äº›æ»¡è¶³çœŸå®åˆ†å¸ƒï¼Œä½†åˆä¸æ˜¯çœŸå®å­˜åœ¨çš„æ•°æ®ã€‚ æˆ‘ä»¬ä»¥æ‰‹å†™æ•°å­—è¯†åˆ«ä¸ºä¾‹ï¼Œå›¾ä¾‹å¦‚ä¸‹ï¼š GANæ¨¡å‹ç»“æ„å›¾å¦‚ä¸‹ç¤ºä¾‹ï¼š æˆ‘ä»¬å°†éšæœºå™ªå£°è¾“å…¥åˆ°ç”Ÿæˆå™¨Gä¸­ï¼Œäº§ç”Ÿ $G(z)$ï¼Œæˆ‘ä»¬æŠŠå®ƒå«åš$x_{\\text{fake}}$ï¼Œ$x_{\\text{fake}}$ä¸ºç”Ÿæˆçš„å›¾ç‰‡ï¼Œå°±æ˜¯å‡çš„å›¾ç‰‡ï¼› æˆ‘ä»¬è¿˜æœ‰æ»¡è¶³äºçœŸå®åˆ†å¸ƒ$P_{\\text{data}}(x)$çš„æ•°æ®ï¼Œè®°ä¸º$x_{\\text{real}}$ï¼› æˆ‘ä»¬æŠŠ $x_{\\text{real}}$ å’Œ $x_{\\text{fake}}$ åŒæ—¶é€åˆ°åˆ¤åˆ«å™¨Dä¸­å»è®­ç»ƒï¼Œåšä¸€ä¸ªäºŒåˆ†ç±»ä»»åŠ¡ï¼Œåˆ¤æ–­æ˜¯çœŸè¿˜æ˜¯å‡ï¼› ","date":"2023-07-26","objectID":"/posts/gan_1/:6:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"ä¸ƒã€ä¸¾ä¾‹ç†è§£GANçš„åŸç† Note å› ä¸ºåŸæ–‡ä¸¾çš„ä¾‹å­æ¯”è¾ƒæ•æ„Ÿï¼Œæˆ‘ä»¬ä»¥æå®æ¯…è€å¸ˆçš„ä¾‹å­ï¼ˆä¸­å¤®ç”µè§†å°é‰´å®èŠ‚ç›®ï¼šä¸€æ§Œå®šéŸ³ï¼‰æ¥è¿›è¡ŒGANåŸç†çš„é˜è¿°ã€‚ å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªäººï¼Œæˆ‘ä»¬ç§°å®ƒä¸ºå°ç‹ï¼Œå°ç‹æ˜¯ä¸€ä¸ªæ”¶è—å®¶ï¼Œå®ƒçš„æ”¶è—å®¤é‡Œæ”¶è—äº†å¾ˆå¤šâ€œå›½å®â€ã€‚ä½†æ˜¯å°ç‹ä¸æƒ³åªåšä¸€ä¸ªæ”¶è—å®¶ï¼Œä»–è¿˜æƒ³é«˜ä»¿è¿™äº›â€œå›½å®â€ï¼Œæˆ‘ä»¬è¿™é‡Œå°†é«˜ä»¿çš„èµå“å®šä¹‰ä¸ºâ€œå·¥è‰ºå“â€ã€‚ åŸºäºGANçš„ç›®æ ‡ï¼Œæˆ‘ä»¬çŸ¥é“ï¼š å°ç‹æœ€ç»ˆæƒ³æˆä¸ºä¸€ä¸ªæ°´å¹³å¾ˆé«˜çš„â€œå·¥è‰ºå“å¤§å¸ˆâ€ï¼› ä½†æ˜¯å¦‚æœæƒ³æˆä¸ºä¸€ä¸ªâ€œå·¥è‰ºå“â€æ–¹é¢çš„ä¸“å®¶ï¼Œå°ç‹è‡ªå·±åœ¨å®¶é—­é—¨é€ è½¦è‚¯å®šæ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ€»ç›®æ ‡æ˜¯æƒ³è®©å°ç‹æˆä¸ºä¸€ä¸ªé«˜æ°´å¹³çš„ã€å¯ä»¥ä»¥å‡ä¹±çœŸçš„å·¥è‰ºå“å¤§å¸ˆã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œé¦–å…ˆéœ€è¦ä¸€ä¸ªé«˜æ°´å¹³çš„é‰´èµä¸“å®¶ï¼ˆé«˜æ°´å¹³çš„å¯¹æ‰‹ï¼‰ï¼Œå…¶æ¬¡å°ç‹æœ¬èº«å°±è¦æ˜¯ä¸ªé«˜æ°´å¹³çš„å·¥è‰ºå“å¤§å¸ˆã€‚æ‰€ä»¥å°ç‹è¿˜éœ€è¦æ‰¾ä¸€ä¸ªæ°´å¹³å¾ˆé«˜çš„å›½å®é‰´èµä¸“å®¶ã€‚é‰´èµä¸“å®¶è´Ÿè´£è¾¨åˆ«å‡ºçœŸçš„â€œå›½å®â€å’Œå°ç‹çš„â€œå·¥è‰ºå“â€ï¼Œå°ç‹è´Ÿè´£é«˜ä»¿ç”Ÿäº§â€œå·¥è‰ºå“â€ã€‚ æ¦‚è¿°æ¥è¯´ï¼šå°ç‹éœ€è¦å…ˆæœ‰ä¸€ä¸ªé«˜æ°´å¹³çš„ä¸“å®¶ï¼Œç„¶åæ‰å¯èƒ½æˆä¸ºä¸€ä¸ªé«˜æ°´å¹³çš„å¤§å¸ˆã€‚é«˜æ°´å¹³çš„ä¸“å®¶å¯ä»¥çœ‹æˆä¸€ç§æ‰‹æ®µï¼Œæˆä¸ºé«˜æ°´å¹³çš„å¤§å¸ˆæ‰æ˜¯æˆ‘ä»¬çš„ç›®æ ‡ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:7:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"å…«ã€æ•°å­¦æè¿° ","date":"2023-07-26","objectID":"/posts/gan_1/:8:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"8.1 ç›¸å…³ç¬¦å· åŸºäºä¸Šè¿°é‰´å®ä¾‹å­ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹GANçš„æ•°å­¦æè¿°ï¼Œé¦–å…ˆéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼š å·¥è‰ºå“ç»è¿‡é‰´èµä¸“å®¶åˆ¤æ–­åï¼Œæ˜¯ä¼šå—åˆ°ä¸€ä¸ª feedback çš„ï¼› å¯¹äºé‰´èµä¸“å®¶è€Œè¨€ï¼Œå®ƒä¹Ÿä¼šä»å·¥è‰ºå“å—åˆ°ä¸€ä¸ª feedback ï¼Œå½“ç„¶è¿™æ˜¯æ½œåœ¨çš„ï¼› æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹ï¼Œè¿™ä¸ªä¾‹å­å¦‚ä½•ç”¨æ•°å­¦ç¬¦å·å»è¡¨ç¤ºï¼š â€œå›½å®\"æ˜¯é™æ€çš„ï¼Œå®ƒç›¸å½“äºæˆ‘ä»¬çš„çœŸå®æ ·æœ¬ ${x_{\\text{real}i}}^N{i=1}$ ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥ $P_{data}$ è¡¨ç¤ºï¼› å·¥è‰ºå“ä¹Ÿæ˜¯ä»ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒé‡ŒæŠ½æ ·å‡ºæ¥çš„ï¼Œæˆ‘ä»¬å°†å·¥è‰ºå“è®°ä½œ ${x_{\\text{fake}i}}^N{i=1}$ ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒç§°ä½œ $P_g(x;\\theta_{g})$ï¼Œgå°±ä»£è¡¨Generatorçš„æ„æ€ï¼› Note æ³¨æ„æˆ‘ä»¬å¹¶ä¸ç›´æ¥å¯¹ $P_g$ å»ºæ¨¡ï¼Œå³ä¸ç›´æ¥å¯¹ç”Ÿæˆæ¨¡å‹æœ¬èº«è¿›è¡Œå»ºæ¨¡ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç¥ç»ç½‘ç»œå»é€¼è¿‘è¿™ä¸ªåˆ†å¸ƒï¼Œçº¯ç²¹çš„ç¥ç»ç½‘ç»œå®ƒæ˜¯ä¸å…·å¤‡éšæœºæ€§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå‡è®¾å®ƒæœ‰ä¸€ä¸ª $z$ï¼Œå°±æ˜¯å‰é¢æåˆ°çš„éšæœºå™ªå£°ï¼Œæ˜¯æ¥è‡ªäºä¸€ä¸ªç®€å•çš„åˆ†å¸ƒï¼Œæ¯”å¦‚é«˜æ–¯åˆ†å¸ƒï¼š $z \\sim P_Z(z)$ ï¼› åŸå§‹çš„GANé‡Œï¼Œç¥ç»ç½‘ç»œå°±ç”¨NNè¡¨ç¤ºï¼Œå®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªç¡®å®šæ€§å˜æ¢ï¼Œå³æ˜¯ä¸€ä¸ªå¤æ‚å‡½æ•°ï¼Œè¡¨ç¤ºä¸º $G(z;\\theta_{g})$ï¼› Note $\\theta_g$ åœ¨NNé‡Œå°±æ˜¯è¡¨ç¤ºæƒé‡å‚æ•°ï¼Œåœ¨ $P_g$ é‡Œå°±æ˜¯ä»£è¡¨æ¦‚ç‡åˆ†å¸ƒå‚æ•°ã€‚ é‰´èµä¸“å®¶ä¹Ÿå¯ä»¥çœ‹æˆä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œæˆ‘ä»¬ä¹Ÿç”¨ä¸€ä¸ªNNæ¥æè¿°å®ƒï¼š$D(x; \\theta_{d})$ï¼Œä»£è¡¨ $x$ æ˜¯å›½å®çš„æ¦‚ç‡ å¯¹äºé‰´èµä¸“å®¶ (åˆ¤åˆ«å™¨D) æ¥æ”¶åˆ°çš„æ¥è¯´ï¼š å¯ä»¥æ˜¯æ¥è‡ªå›½å®ã€ä¹Ÿå¯ä»¥æ˜¯æ¥è‡ªäºå·¥è‰ºå“ï¼Œæ˜¯æ— æ‰€è°“çš„ï¼Œé‡è¦çš„æ˜¯æœ¬èº«æ˜¯ä»£è¡¨æ˜¯å›½å®çš„æ¦‚ç‡ã€‚ å¯¹äºåˆ¤åˆ«å™¨Dçš„è¾“å‡ºæ¥è¯´ï¼š $D(x)$ çš„å€¼è¶Šè¶‹è¿‘äº1ï¼Œè¯´æ˜å®ƒæ˜¯å›½å®çš„æ¦‚ç‡å°±è¶Šå¤§ï¼›è¶Šè¶‹è¿‘äº0ï¼Œè¯´æ˜å®ƒæ˜¯å·¥è‰ºå“çš„æ¦‚ç‡å°±è¶Šå¤§ã€‚ ä¸Šå›¾åˆå¯ç®€åŒ–ä¸ºï¼š ä¸€æ–¹é¢æ˜¯ä» $P_{data}$ é‡Œæ¥çš„ $x_{real}$ï¼Œä¸€æ–¹é¢æ˜¯ $z$ è¾“å…¥åˆ°ç”Ÿæˆå™¨åçš„è¾“å‡º $x_{fake}$ï¼Œ$z$ ä¸ºå™ªå£°ã€‚ Note æ¢å¥è¯è¯´, $z$ æ˜¯ä»ç®€å•åˆ†å¸ƒä¸­é‡‡æ ·ï¼Œç»è¿‡ç”Ÿæˆå™¨åå˜æˆ $x$ï¼Œæ­¤æ—¶ç”Ÿæˆçš„ç”±çš„å…ˆéªŒåˆ†å¸ƒå’Œç”Ÿæˆå™¨å…±åŒå†³å®šã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:8:1","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"8.2ã€â€œé«˜ä¸“å®¶â€çš„ç›®æ ‡å‡½æ•° ç¬¦å·æè¿°è¡¨è¿°æ¸…æ¥šåï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹GANçš„ç›®æ ‡å‡½æ•°ï¼Œé¦–å…ˆå›é¡¾ä¸€ä¸‹GANçš„ç›®æ ‡ï¼šæˆä¸ºä¸€ä¸ªé«˜æ°´å¹³çš„ã€å¯ä»¥ä»¥å‡ä¹±çœŸçš„å¤§å¸ˆã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬åˆå¯ä»¥åˆ†ä¸ºä¸€ä¸ªæ‰‹æ®µå’Œä¸€ä¸ªç›®æ ‡ï¼š æ‰‹æ®µï¼šéœ€è¦ä¸€ä¸ªé«˜æ°´å¹³çš„é‰´åˆ«ä¸“å®¶ï¼› ç›®æ ‡ï¼šæˆä¸ºé«˜æ°´å¹³çš„å·¥è‰ºå“å¤§å¸ˆã€‚ ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦å…ˆæˆå°±ä¸€ä¸ªé«˜æ°´å¹³çš„ä¸“å®¶ï¼Œæ‰æœ‰å¯èƒ½æˆå°±ä¸€ä¸ªé«˜æ°´å¹³çš„å¤§å¸ˆï¼Œæ‰€ä»¥å®ƒä»¬çš„å…³ç³»æ˜¯ï¼š(é«˜å¤§å¸ˆ(é«˜ä¸“å®¶))ã€‚ é¦–å…ˆçœ‹é«˜ä¸“å®¶ï¼Œé«˜ä¸“å®¶æ°´å¹³é«˜ä½“ç°åœ¨ï¼šå›½å®åˆ¤åˆ«ä¸ºçœŸã€å·¥è‰ºå“åˆ¤åˆ«ä¸ºå‡ï¼š $$ é«˜ä¸“å®¶ï¼š \\begin{equation} \\left{ \\begin{aligned} %\\nonumber if \\ x \\ is \\ from \\ P_{data}, \\ then D(x) \\uparrow\\ if \\ x \\ is \\ from \\ P_{g}, \\ then D(x) \\downarrow\\ (z \\ is \\ from \\ P_{z}) \\ \\end{aligned} \\right. \\end{equation} $$ ä¸ºäº†å°†å¼å­ç»Ÿä¸€èµ·æ¥ï¼Œæˆ‘ä»¬æ”¹å†™ä¸ºï¼š $$ é«˜ä¸“å®¶ï¼š \\begin{equation} \\left{ \\begin{aligned} %\\nonumber if \\ x \\ is \\ from \\ P_{data}, \\ then D(x) \\uparrow\\ if \\ x \\ is \\ from \\ P_{g}, \\ then \\ 1-D(x) \\uparrow\\ (z \\ is \\ from \\ P_{z}) \\ \\end{aligned} \\right. \\end{equation} $$ Note å› ä¸º $D(x)$ æ˜¯ä¸€ä¸ªæ¦‚ç‡å€¼åˆ†å¸ƒï¼ŒèŒƒå›´æ˜¯0~1ï¼Œ $D(x)$ åå°ï¼Œ $1-D(x)$ åˆ™ç›¸åº”çš„å°±åå¤§ã€‚ å¯¹äºå·¥è‰ºå“ï¼Œ$x$ æ˜¯ä»ç”Ÿæˆå™¨Gæ¥çš„ï¼Œæ‰€ä»¥å¯ä»¥è¡¨ç¤ºæˆ $G(z)$ï¼š $$ é«˜ä¸“å®¶ï¼š \\begin{equation} \\left{ \\begin{aligned} %\\nonumber if \\ x \\ is \\ from \\ P_{data}, \\ then D(x) \\uparrow\\ if \\ x \\ is \\ from \\ P_{g}, \\ then \\ 1 - D(G(z)) \\uparrow\\ (z \\ is \\ from \\ P_{z}) \\ \\end{aligned} \\right. \\end{equation} $$ ä¸ºäº†ä½¿ç›®æ ‡å‡½æ•°æ›´å®¹æ˜“è¡¨è¾¾ï¼Œæˆ–è€…è¯´è®¡ç®—æ›´åŠ æ–¹ä¾¿ï¼Œæˆ‘ä»¬åŠ ä¸Šï¼Œæ‰€ä»¥è¿›ä¸€æ­¥è¡¨è¾¾ä¸ºï¼š $$ é«˜ä¸“å®¶ï¼š \\begin{equation} \\left{ \\begin{aligned} %\\nonumber if \\ x \\ is \\ from \\ P_{data}, \\ then \\ \\log{D(x)} \\uparrow\\ if \\ x \\ is \\ from \\ P_{g}, \\ then \\ \\log{(1 - D(G(z)))} \\uparrow\\ (z \\ is \\ from \\ P_{z}) \\ \\end{aligned} \\right. \\end{equation} $$ Note $\\log$ ä¸ºå¢å‡½æ•°ï¼Œ$\\log(x)$ ä¸ $x$ çš„å¢å‡æ€§ä¿æŒä¸€è‡´ï¼Œåœ¨æå¤§åŒ–å‚æ•°çš„æ—¶å€™ï¼Œä¸åŸå§‹æ±‚è§£æ˜¯ä¸€æ ·çš„ã€‚ æ‰€ä»¥å¯¹äºæˆå°±ä¸€ä¸ªé«˜ä¸“å®¶æ¥è¯´ï¼Œç›®æ ‡å‡½æ•°å¦‚ä¸‹ï¼š $$\\max_{D} E_{x \\sim P_{data}}[\\log{D(x)}] + E_{z \\sim P_{z}}[\\log (1 - D(G(z)))]$$ note å¯èƒ½æœ‰åŒå­¦ä¸æ˜ç™½ä¸ºä»€ä¹ˆåŸæ–‡è¿™é‡Œç”¨æœŸæœ›ï¼Œå…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬å‡è®¾æ•°æ®åˆ†å¸ƒæ€»å…±æœ‰ä¸ªæ ·æœ¬ï¼Œé‚£ä¹ˆå®ƒçš„æœŸæœ›å¯ä»¥è¡¨ç¤ºä¸ºï¼š $$E_{x \\sim P_{data}}[\\log(D(x))] = \\frac{1}{N} \\sum_{i=1}^{N} \\log(D(x_i)), x_i \\sim P_{data}$$ ","date":"2023-07-26","objectID":"/posts/gan_1/:8:2","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"8.3ã€â€œé«˜å¤§å¸ˆâ€çš„ç›®æ ‡å‡½æ•° æˆ‘ä»¬å†æ¥çœ‹é«˜å¤§å¸ˆçš„ç›®æ ‡å‡½æ•°ï¼Œé«˜å¤§å¸ˆæ˜¯å»ºç«‹åœ¨é«˜ä¸“å®¶çš„æ°´å¹³ä¹‹ä¸Šï¼Œå¯¹äºé«˜å¤§å¸ˆæ¥è®²ï¼Œå¸Œæœ›é«˜ä¸“å®¶å°†æ‰€æœ‰çš„å·¥è‰ºå“éƒ½åˆ¤æ–­ä¸ºçœŸï¼š $$é«˜å¤§å¸ˆ: if \\ x \\ from \\ P_g,\\ then \\ D(G(z)) \\uparrow $$ ä¸ºäº†ç»Ÿä¸€èµ·æ¥ï¼Œæˆ‘ä»¬æ”¹å†™ä¸º: $$é«˜å¤§å¸ˆ: if \\ x \\ from \\ P_g,\\ then \\ (1 - D(G(z))) \\downarrow $$ æ‰€ä»¥å¯¹äºé«˜å¤§å¸ˆæ¥è®²ï¼Œç›®æ ‡å‡½æ•°ä¸º: $$\\min_{G} E_{z \\sim P_z}[\\log (1 - D(G(z)))]$$ ","date":"2023-07-26","objectID":"/posts/gan_1/:8:3","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"8.4ã€æ€»ç›®æ ‡å‡½æ•° æœ¬ç€å…ˆæˆå°± é«˜ä¸“å®¶, å†æˆå°± é«˜å¤§å¸ˆçš„åŸåˆ™ï¼ŒGANçš„ç›®æ ‡å‡½æ•°ä¸ºï¼š $$\\min_{G} \\max_{D} V(D, G) = \\mathbb{E_{x\\sim p_{data}(x)}}[\\log(D(x))] + \\mathbb{E_{z\\sim p_{z}(z)}}[\\log(1 - D(G(z)))]$$ Note é€šè¿‡ç›®æ ‡å‡½æ•°æˆ‘ä»¬ä¹Ÿèƒ½çœ‹å‡ºï¼ŒGANæ¨¡å‹çš„å¤æ‚åº¦ï¼Œä¸åœ¨äºæ¨¡å‹çš„å®šä¹‰ï¼Œè€Œåœ¨äºæ¨¡å‹çš„traningï¼Œä¹Ÿå°±æ˜¯Då’ŒGçš„å­¦ä¹ ã€‚ Note è¿˜æœ‰ä¸€ç‚¹éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè‡ªå§‹è‡³ç»ˆæˆ‘ä»¬éƒ½æ²¡æœ‰å»ç›´æ¥é¢å¯¹ $P_g$ï¼Œæˆ‘ä»¬å®é™…ä¸Šä½¿ç”¨ä¸€ä¸ªå¯å¾®ç¥ç»ç½‘ç»œ $G(z)$ å»é€¼è¿‘è¿™ä¸ª $P_g$ ï¼Œè€Œä¸”æ˜¯ä»é‡‡æ ·çš„è§’åº¦å»é€¼è¿‘ï¼Œæ¢å¥è¯è¯´ï¼Œå¯¹äºç”Ÿæˆç½‘ç»œ $P_g$ï¼ŒGANæ˜¯ç»•è¿‡äº†å®ƒï¼Œå¹¶æ²¡æœ‰ç›´æ¥å»è§£å†³ $P_g$ï¼Œè€Œæ˜¯ä»é‡‡æ ·çš„è§’åº¦å»é€¼è¿‘å®ƒã€‚æ‰€ä»¥GANåˆè¢«ç§°åšï¼šImplicit Density Model. å…¬å¼æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å¯¹ç›®æ ‡å‡½æ•°å†å•°å—¦çš„ä»‹ç»ä¸‹ï¼š æˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼Œå®ƒå®é™…ä¸Šå°±è¦å¯¹ä»·å€¼å‡½æ•° $V(D, G)$ è¿›è¡Œminã€maxçš„åšå¼ˆï¼Œè¿˜æœ‰éœ€è¦æ³¨æ„çš„æ˜¯ï¼š$D(x)$ æ˜¯åˆ¤åˆ«å™¨çš„è¾“å‡ºï¼Œå®ƒè¦åšäºŒåˆ†ç±»ï¼Œæ‰€ä»¥ç»è¿‡sigmoidä¹‹å $D(x) \\in [0, 1]$ï¼› æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼š é¦–å…ˆå›ºå®šä½Gä¸åŠ¨ï¼Œé€šè¿‡è°ƒæ•´Dçš„å‚æ•°ï¼Œæ¥æœ€å¤§åŒ–ä»·å€¼å‡½æ•° $V(D, G)$ï¼š è¦æƒ³æœ€å¤§åŒ– $V$ ï¼Œå·¦è¾¹çš„ $D(x)$ è¦è¶‹è¿‘äº1ï¼ˆè¿™æ ·æ‰èƒ½ä¿è¯logçš„å€¼å°½å¯èƒ½å¤§ï¼‰ï¼ŒåŒæ—¶è¦è®©å³è¾¹çš„ $D(G(z))$ è¶‹è¿‘äº0ï¼ˆè¿™æ ·æ‰èƒ½ä¿è¯ $log(1-D(G(z)))$ å°½å¯èƒ½å¤§ï¼‰ï¼› $\\max V(D, G)$ å…¶å®å°±æ˜¯æŠŠçœŸå®æ•°æ®å’Œå‡æ•°æ®åŒºåˆ†çš„ä¸€ä¸ªè¿‡ç¨‹. $$\\min_{G} \\max_{D} V(D, G) = \\mathbb{E_{x\\sim p_{data}(x)}}[\\log(D(x))] + \\mathbb{E_{z\\sim p_{z}(z)}}[\\log(1 - D(G(z)))]$$ ç„¶åå›ºå®šä½Dä¸åŠ¨ï¼Œæ­¤æ—¶å…¬å¼çš„å·¦éƒ¨åˆ†å·²ç»æ˜¯ä¸ªå®šå€¼äº†ï¼Œæˆ‘ä»¬è°ƒæ•´Gçš„å‚æ•°ï¼Œæ¥æœ€å°åŒ–ä»·å€¼å‡½æ•° $V(D, G)$ï¼š è¦è®© $V(D, G)$ æœ€å°ï¼Œé‚£ä¹ˆå°±è¦è®© $D(G(z))$ è¶‹è¿‘äº1ï¼Œåªæœ‰ $V(G(z))$ è¶‹è¿‘äº1çš„æ—¶å€™ï¼Œå®šä¹‰åŸŸé‡Œçš„å€¼æ‰èƒ½è¶‹è¿‘äº0ï¼Œä¹Ÿå°±æ˜¯logä¼šå˜å¾—è¶Šæ¥è¶Šå°ï¼Œè¾¾åˆ°æœ€å°åŒ– $V$ çš„è¿‡ç¨‹ï¼› è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æƒ³è®© $D(G(z))$ è¶‹è¿‘äº1ï¼Œzæ»¡è¶³ç”Ÿæˆæ•°æ®çš„åˆ†å¸ƒï¼Œå®ƒæ˜¯å‡çš„ï¼Œé‚£ä¹ˆ $min_G$ çš„è¿‡ç¨‹å°±æ˜¯æƒ³è¦è°ƒæ•´ç”Ÿæˆå™¨ï¼Œæ¥éª—è¿‡åˆ¤åˆ«å™¨ï¼Œä»è€Œä½¿å¾—å‡æ•°æ®è¢«åˆ¤åˆ«ä¸ºçœŸã€‚ $$\\min_{G} \\max_{D} V(D, G) = \\mathbb{E_{x\\sim p_{data}(x)}}[\\log(D(x))] + \\mathbb{E_{z\\sim p_{z}(z)}}[\\log(1 - D(G(z)))]$$ æ€»ç»“å¦‚ä¸‹ï¼š å›ºå®šG, è°ƒæ•´D, æœ€å¤§åŒ– $V(D, G)$, å¯¼è‡´ $D(x) \\rightarrow 1, D(G(z)) \\rightarrow 0$ å›ºå®šD, è°ƒæ•´G, æœ€å°åŒ– $\\max_{D}V(D, G)$, å¯¼è‡´ $D(G(z)) \\rightarrow 1$ æƒ³å¿…è‚¯å®šæœ‰åŒå­¦ä¼šå‘ç°è¿™é‡Œå‡ºç°çš„ä¸€ä¸ªçŸ›ç›¾ï¼šä¸Šé¢çš„è¶‹è¿‘äº0ï¼Œä¸‹é¢çš„è¶‹è¿‘äº1ï¼Œè¿™ä¸ªçŸ›ç›¾ã€å†²çªï¼Œå°±ç†è§£ä¸ºGANä¸­çš„å¯¹æŠ—çš„æ„æ€ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:8:4","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"ä¹ã€å…¨å±€æœ€ä¼˜è§£æ¨å¯¼ å› ä¸ºå…¬å¼å¤šã€ç¯‡å¹…é•¿ï¼Œæ‰€ä»¥åœ¨æ¨å¯¼æœ€ä¼˜è§£ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹GANé‡Œçš„ä¸‰ä¸ªè§’è‰²ï¼š çœŸå®æ ·æœ¬åˆ†å¸ƒ$P_{data}$ï¼› ç”Ÿæˆå™¨ Generator å¯¹åº”æ¦‚ç‡åˆ†å¸ƒä¸º:$P_g$ï¼Œå³ä»£è¡¨ç”Ÿæˆå™¨ç”Ÿæˆæ•°æ®çš„æ¦‚ç‡åˆ†å¸ƒï¼› åˆ¤åˆ«å™¨ Discriminator å¯¹åº”çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒæ˜¯ç¦»æ•£çš„ï¼Œå°±æ˜¯0-1åˆ†å¸ƒï¼ˆä¼¯åŠªåˆ©åˆ†å¸ƒï¼‰ï¼Œç»™å®šxçš„æƒ…å†µä¸‹ï¼Œ1ä»£è¡¨æ­£å“ã€0ä»£è¡¨å·¥è‰ºå“ï¼ˆèµå“ï¼‰ï¼› æˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡ï¼Œå°±æ˜¯æƒ³è®©ç”Ÿæˆå™¨ç”Ÿæˆçš„æ ·æœ¬çš„æ¦‚ç‡åˆ†å¸ƒ$P_g$æ— é™çš„æ¥è¿‘äº$P_{data}$ï¼Œå³ï¼š$P_g \\rightarrow P_{data}$ï¼› note æˆ‘ä»¬å¸¸è§„çš„ç”Ÿæˆæ¨¡å‹ï¼ˆä¸æ˜¯GANï¼‰ï¼Œæ˜¯ç›´æ¥å¯¹$P_g$è¿›è¡Œå»ºæ¨¡: $P_g \\rightarrow \\theta_{g}$, æå¤§ä¼¼ç„¶ä¼°è®¡è¡¨ç¤ºå¦‚ä¸‹ï¼š $$\\theta_g = \\argmax_{\\theta_g} \\sum_{i=1}^N \\log{P_g}(x_i) = \\argmin KL(P_{data} || P_g)$$ ä»è·ç¦»çš„è§’åº¦è®²ï¼Œæ˜¯æœ€å°åŒ–KLæ•£åº¦ï¼Œæœ€ç»ˆæƒ³è®©$P_{data} = P_g$ï¼Œè¿™å°±æ˜¯åŸå…ˆå¦‚ä½•æŠŠå‚æ•°æ±‚å‡ºæ¥çš„ç­–ç•¥ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:9:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"9.1ã€å…³äº D çš„æœ€å¤§å€¼ GANä»å¯¹æŠ—å­¦ä¹ çš„è§’åº¦å»æ„é€ ç›®æ ‡å‡½æ•°ï¼Œæˆ‘ä»¬ä¸Šé¢æ„é€ çš„ç›®æ ‡å‡½æ•°ï¼Œåªæ˜¯ä»é€»è¾‘ä¸Šè§‰å¾—å®ƒæ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¼šè€ƒè™‘ï¼š è¿™ä¸ªæœ€å¤§æœ€å°é—®é¢˜ï¼Œå®ƒçš„æœ€ä¼˜è§£å­˜åœ¨ä¸å­˜åœ¨ï¼Ÿ å¦‚æœæœ€ä¼˜è§£ $P_g$ï¼ˆå°±æ˜¯Gï¼‰å­˜åœ¨ï¼Œé‚£ä¹ˆå…¨å±€æœ€ä¼˜çš„æƒ…å†µä¸‹ï¼Œ$P_g$æ˜¯å¦ç­‰äº$P_{data}$ï¼Ÿ å¦‚æœè¿™ä¸ªä¸æˆç«‹çš„è¯ï¼Œé‚£ä¹ˆå…¶å®è¿™ä¸ªç›®æ ‡å‡½æ•°æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œæ–¹ä¾¿è®°ä½œï¼Œç›´æ¥ç”¨è®ºæ–‡ä¸­çš„ç¬¦å·æ¥æè¿°ï¼š æˆ‘ä»¬è®°ï¼š $$V(D, G) = \\mathbb{E}{x\\sim p{data}(x)}[\\log{D(x)}] + \\mathbb{E}{z\\sim p{z}}[\\log{1 - D(G(z))}]$$ æˆ‘ä»¬å…ˆæ±‚maxï¼Œæ ¹æ®æœŸæœ›çš„å®šä¹‰ï¼š$E_{x \\sim P(x)} = \\int_x p(x)f(x)dx$ï¼Œå°†å…¶å±•ä¸ºç§¯åˆ†çš„å½¢å¼ï¼š $\\quad For \\quad fixed \\quad G, æ±‚ï¼š \\max_D(V(D, G))$ $$ \\begin{align} \\max_D V(D, G) \u0026= \\int P_{data} \\cdot \\log D dx + \\int P_g \\cdot \\log (1 - D) dx \\ \u0026= \\int {[P_{data} \\cdot \\log D + P_g \\cdot \\log(1 - D)]} dx \\end{align} $$ note è¿™é‡Œä¸¤ä¸ªç§¯åˆ†ä¸­çš„xç¡®å®æ˜¯ä¸åŒçš„å˜é‡ï¼Œä½†æ˜¯ç§¯åˆ†å¾®å…ƒçš„ç¬¦å·å¯ä»¥åšä»»æ„å˜æ¢ï¼Œä¸ç”¨çº ç»“è¿™é‡Œã€‚ æˆ‘ä»¬è¦æ±‚é‡Œé¢å‡½æ•°å…³äºxç§¯åˆ†çš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆå°±çœ‹ä¸€ä¸‹å®ƒçš„å¯¼æ•°ï¼š $$ \\begin{align} \\frac{\\partial}{\\partial{D}}(\\max V(D, G)) \u0026= \\frac{\\partial}{\\partial D}\\int {[P_{data} \\cdot \\log D + P_g \\cdot \\log(1 - D)]} \\ \u0026= \\int \\frac{\\partial}{\\partial D} {[P_{data} \\cdot \\log D + P_g \\cdot \\log(1 - D)]} \\ \u0026= \\int {[P_{data} \\cdot \\frac{1}{D} + P_g \\cdot \\frac{-1}{\\log(1 - D)}]} \\Longleftrightarrow 0\\ \\end{align} $$ note å› ä¸ºç§¯åˆ†æ˜¯å¯¹xç§¯çš„ï¼Œæ±‚å¯¼æ˜¯å¯¹Dæ±‚çš„ï¼Œä¸¤è€…äº’ä¸å¹²æ‰°å¯ä»¥äº¤æ¢è¯åºã€‚ æœ€ä¼˜çš„æ—¶å€™å¯¼æ•°ä¸º0ã€‚ $$\\therefore P_{data} \\cdot \\frac{1}{D} = P_g \\cdot \\frac{1}{1-D}$$ æ‰€ä»¥å½“å›ºå®šGæ—¶ï¼Œæœ€ä¼˜çš„Dä¸º: $$D^*G = \\frac{P{data}}{P_{data} + P_g}$$ ","date":"2023-07-26","objectID":"/posts/gan_1/:9:1","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"9.2 å…³äº G çš„æœ€å°å€¼ æœ€å¤§å€¼æ±‚å‡ºæ¥ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹å…³äºGçš„æœ€å°å€¼ï¼Œæˆ‘ä»¬å°†$D^*$å¸¦è¿›å»ï¼š $$ \\begin{align} \\min_G \\max_D V(D, G) \u0026= \\min_G V(D^*G, G) \\ \u0026= \\min_G E{x \\sim P_{data}}[\\log(\\frac{P_{data}}{P_{data} + P_g})] + E_{x \\sim P_{g}}[\\log(1 - \\frac{P_{data}}{P_{data} + P_g})] \\ \u0026= \\min_G E_{x \\sim P_{data}}[\\log(\\frac{P_{data}}{P_{data} + P_g})] + E_{x \\sim P_{g}}[\\log(\\frac{P_{g}}{P_{data} + P_g})]\\ \\end{align} $$ è¿™é‡Œ $P_{data}$ å’Œ $P_g$ï¼Œå’ŒKLæ•£åº¦çš„å®šä¹‰éå¸¸ç±»ä¼¼ï¼ŒKL divergenceå®šä¹‰ï¼š $$KL(P||Q) = E_{x \\sim P}[\\log(\\frac{P(x)}{Q(x)})]$$ ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ç›´æ¥è¿™ä¹ˆå†™ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯åˆ†å­å’Œåˆ†æ¯å¿…é¡»åŒæ—¶ä¸ºä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œä½†æ˜¯åˆ†æ¯æ˜¯$P_{data} + P_g$ï¼Œæ˜¯ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒç›¸åŠ ï¼Œé‚£å®ƒçš„å–å€¼å°±å˜æˆ[0, 2]äº†ã€‚ æ‰€ä»¥æˆ‘ä»¬ç»™å®ƒå†é™¤ä»¥ä¸ª2å°±å¯ä»¥äº†ï¼Œå–å€¼èŒƒå›´å°±åˆå˜æˆ[0, 1]äº†ã€‚æ¢å¥è¯è¯´ï¼Œå¯ä»¥æŠŠå®ƒçœ‹æˆæ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œå…·ä½“ä»€ä¹ˆæ ·å­æ— æ‰€è°“ï¼Œå®ƒçš„å–å€¼åœ¨[0, 1]ä¹‹é—´ï¼Œå¹¶ä¸”æ˜¯è¿ç»­çš„ã€‚ $$ \\begin{align} \\min_G \\max_D V(D, G) \u0026= \\min_G V(D^*G, G) \\ \u0026= \\min_G E{x \\sim P_{data}}[\\log(\\frac{P_{data}}{P_{data} + P_g})] + E_{x \\sim P_{g}}[\\log(1 - \\frac{P_{data}}{P_{data} + P_g})] \\ \u0026= \\min_G E_{x \\sim P_{data}}[\\log(\\frac{P_{data}}{P_{data} + P_g})] + E_{x \\sim P_{g}}[\\log(\\frac{P_{g}}{P_{data} + P_g})]\\ \u0026= \\min_G E_{x \\sim P_{data}}[\\log(\\frac{P_{data}}{(P_{data} + P_g)/2} \\cdot\\frac{1}{2})] + E_{x \\sim P_{g}}[\\log(\\frac{P_{g}}{(P_{data} + P_g)/2}\\cdot\\frac{1}{2})]\\ \u0026= \\min_{G} KL (P_{data} || \\frac{P_{data} + P_g}{2}) + KL (P_{g} || \\frac{P_{data} + P_g}{2}) - \\log4\\ \\end{align} $$ tips å°†ä¸¤ä¸ª$\\log(\\frac{1}{2})$æ‹¿å‡ºå»ï¼Œ$\\log(\\frac{1}{2}) = \\log1 - \\log2 = -\\log2,$ï¼Œ$-\\log2$çš„æœŸæœ›å°±æ˜¯å®ƒè‡ªå·±ï¼Œä¸¤ä¸ªå°±æ˜¯$-\\log2-\\log2 = -\\log4$ æˆ‘ä»¬å¾—å‡ºä¸Šå¼ï¼Œå‘ç°å®ƒåˆæ»¡è¶³ JS divergence çš„å®šä¹‰ï¼š $$JSD(P||Q) = \\frac{1}{2} KL(P || M) + \\frac{1}{2} KL (Q||M), å…¶ä¸­ M = \\frac{P + Q}{2}$$ æ‰€ä»¥ä¸Šå¼åˆå¯å†™æˆï¼š $$\\min_G - \\log 4 + 2 JSP(P_{data}||P_g)$$ JS divergenceæ˜¯è¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»ï¼Œæ‰€ä»¥åªæœ‰å½“è¿™ä¸¤ä¸ªåˆ†å¸ƒè¶Šæ¥è¶Šç›¸ç­‰çš„æ—¶å€™ï¼Œå°±æ‰¾åˆ°è¿™ä¸ªå¼å­çš„æœ€å°å€¼äº†ï¼Œæ•…ï¼š å½“$P_g(x) = P_{data}(x)$æ—¶ï¼Œä¸Šå¼å¯å¾—æœ€å°å€¼ã€‚ æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¼˜åŒ–ï¼š $$\\min_G\\max_D V(D, G) = \\mathbb{E}{x\\sim{p{data}(x)}}[\\log D(x)] + \\mathbb{E}{z\\sim{p{z}(z)}}[1 - \\log D(G(z))]$$ å°±å¯ä»¥å¾—åˆ°$P_g(x) = P_{data}(x)$. tips å¦å¤–ï¼Œå½“ $P_g(x) = P_{data}(x)$ æ—¶ï¼Œåˆå› ä¸º $D^G = \\frac{P{data}}{P_{data} + P_g}$ï¼Œ æ‰€ä»¥æ­¤æ—¶ $D^ = \\frac{1}{2}$ ã€‚æ„æ€æ˜¯ï¼Œåœ¨æœ€ä¼˜çš„æƒ…å†µä¸‹ï¼Œé‰´èµä¸“å®¶å·²ç»æ²¡æœ‰åˆ†è¾¨çœŸå‡çš„èƒ½åŠ›äº†ï¼Œæ¦‚ç‡éƒ½0.5ï¼Œè¿™ä¸ªæ—¶å€™åˆ¤åˆ«å™¨å¯¹äºç”Ÿæˆå™¨è€Œè¨€ï¼Œå·²ç»æ²¡æœ‰ç»§ç»­å­¦ä¹ çš„å¿…è¦äº†ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:9:2","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"åã€åŸæ–‡ç»™å‡ºçš„è®­ç»ƒæ­¥éª¤ åœ¨æ¯ä¸€ä¸ªstepé‡Œå…ˆé‡‡æ ·mä¸ªå™ªéŸ³æ ·æœ¬ï¼› å†é‡‡æ ·mä¸ªæ¥è‡ªäºçœŸå®æ•°æ®çš„æ ·æœ¬ï¼›è¿™æ ·å°±ç»„æˆäº†ä¸€ä¸ªå¤§å°ä¸º2mçš„å°æ‰¹é‡ï¼› å°†æ ·æœ¬åˆ†åˆ«æ”¾åˆ° ç”Ÿæˆå™¨ å’Œ è¾¨åˆ«å™¨ å»æ±‚æ¢¯åº¦ï¼Œæ›´æ–° è¾¨åˆ«å™¨ å‚æ•°ï¼› åšå®Œä¹‹åï¼š å†é‡‡æ ·mä¸ªå™ªéŸ³æ ·æœ¬ï¼Œæ”¾åˆ°å…¬å¼çš„ç¬¬äºŒé¡¹é‡Œé¢ï¼ˆå› ä¸ºæˆ‘ä»¬è¦æ›´æ–°ç”Ÿæˆå™¨ï¼Œç”Ÿæˆå™¨ä¸ç¬¬ä¸€é¡¹æ— å…³ï¼‰ï¼Œç®—å‡ºå®ƒçš„æ¢¯åº¦ï¼› ç„¶åå¯¹ç”Ÿæˆå™¨è¿›è¡Œå‚æ•°æ›´æ–°ã€‚ è¿™æ ·å°±å®Œæˆäº†ä¸€æ¬¡è¿­ä»£ï¼Œå¯ä»¥çœ‹åˆ°æ¯æ¬¡è¿­ä»£é‡Œï¼Œæˆ‘ä»¬æ˜¯å…ˆæ›´æ–°è¾¨åˆ«å™¨ï¼Œå†æ›´æ–°ç”Ÿæˆå™¨ã€‚ tips kæ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œä¸èƒ½å¤ªå°ä¹Ÿä¸èƒ½å¤ªå¤§ï¼Œè¦ä¿è¯è¾¨åˆ«å™¨æœ‰è¶³å¤Ÿçš„æ›´æ–°ï¼Œä½†ä¹Ÿä¸è¦æ›´æ–°å¤ªå¥½äº†ã€‚å¦‚æœæ²¡æœ‰è¶³å¤Ÿå¥½çš„æ›´æ–°ï¼Œå°±æ˜¯ç”Ÿæˆå™¨å˜æ¢äº†ä¹‹åï¼Œæ²¡æœ‰æŠŠè¾¨åˆ«å™¨æ›´æ–°çš„è¶³å¤Ÿå¥½ï¼Œ Gå·²ç»åšäº†å˜åŒ–ï¼Œä½†æ˜¯Dæ²¡æœ‰åšä»€ä¹ˆæ”¹å˜ï¼Œå†æ›´æ–°Gæ¥ç³Šå¼„Dï¼Œå…¶å®æ„ä¹‰ä¸å¤§ã€‚ åè¿‡æ¥è®²ï¼Œå¦‚æœä¸€æ›´æ–°å°±æŠŠDè®­ç»ƒåˆ°å®Œç¾ï¼Œé‚£ä¹ˆ1-Då°±ä¼šå˜æˆ0ï¼Œå¯¹ä¸€ä¸ª0çš„ä¸œè¥¿æ±‚å¯¼ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨ç”Ÿæˆæ¨¡å‹ä¸Šæ›´æ–°æœ‰å›°éš¾ã€‚ å›åˆ°åŸæ–‡çš„ä¾‹å­ï¼Œè¾¨åˆ«å™¨æ˜¯è­¦å¯Ÿï¼Œç”Ÿæˆå™¨å°±æ˜¯é€ å‡è€…ï¼Œå‡è®¾è­¦å¯Ÿç‰¹åˆ«å‰å®³ï¼Œé€ å‡è€…äº§ä¸€ç‚¹å‡é’å‡ºæ¥å°±è¢«è¿é”…ç«¯äº†ï¼Œé‚£é€ å‡è€…å°±æ²¡èƒ½åŠ›æ”¹è¿›å’Œæå‡è‡ªå·±äº†ï¼Œä½†åè¿‡æ¥è®²ï¼Œå¦‚æœè­¦å¯Ÿæ— åŠ›ï¼Œé€ å‡è€…éšä¾¿é€ ç‚¹ä¸œè¥¿ï¼Œè­¦å¯Ÿä¹Ÿçœ‹ä¸å‡ºæ¥ï¼Œé‚£é€ å‡è€…å°±ä¸ä¼šæœ‰åŠ¨åŠ›å»æ”¹è¿›å’Œæå‡è‡ªå·±ã€‚ æ‰€ä»¥æœ€å¥½æ˜¯ä¸¤è€…å®åŠ›ç›¸å½“ã€ç›¸çˆ±ç›¸æ€ï¼Œå¤§å®¶ä¸€èµ·è¿›æ­¥ã€‚æ‰€ä»¥kçš„è°ƒå‚ï¼Œè¦ä½¿å¾—Dçš„æ›´æ–°å’ŒGçš„æ›´æ–°è¿›åº¦éƒ½å·®ä¸å¤šã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:10:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"åä¸€ã€GANåŸç†åŠè®­ç»ƒè¿‡ç¨‹æ€»ç»“ ","date":"2023-07-26","objectID":"/posts/gan_1/:11:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"11.1ã€GANåŸç†æ€»ç»“ GANä¸»è¦åŒ…æ‹¬äº†ä¸¤éƒ¨åˆ†ï¼š ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ï¼šç”Ÿæˆå™¨ä¸»è¦ç”¨æ¥å­¦ä¹ çœŸå®æ•°æ®çš„åˆ†å¸ƒï¼Œä»è€Œè®©è‡ªèº«ç”Ÿæˆçš„æ•°æ®æ›´åŠ çœŸå®ï¼Œéª—è¿‡åˆ¤åˆ«å™¨ï¼› åˆ¤åˆ«å™¨ï¼ˆDiscriminatorï¼‰ï¼šåˆ¤åˆ«å™¨åˆ™éœ€è¦å¯¹æ¥å—çš„æ•°æ®è¿›è¡ŒçœŸå‡åˆ¤æ–­ã€‚ åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç”Ÿæˆå™¨åŠªåŠ›åœ°è®©ç”Ÿæˆçš„æ•°æ®æ›´åŠ çœŸå®ï¼Œè€Œåˆ¤åˆ«å™¨åˆ™åŠªåŠ›åœ°å»è¯†åˆ«å‡ºæ•°æ®çš„çœŸå‡ï¼Œè¿™ä¸ªè¿‡ç¨‹ç›¸å½“äºä¸€ä¸ªäºŒäººåšå¼ˆï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨åœ¨ä¸æ–­çš„è¿›è¡Œå¯¹æŠ—ï¼Œè¿™å°±æ˜¯å®ƒå¯¹æŠ—çš„å«ä¹‰ã€‚ æœ€ç»ˆä¸¤ä¸ªç½‘ç»œè¾¾åˆ°äº†ä¸€ä¸ªåŠ¨æ€å‡è¡¡ï¼šç”Ÿæˆå™¨ç”Ÿæˆçš„æ•°æ®æ¥è¿‘äºçœŸå®æ•°æ®åˆ†å¸ƒï¼Œè€Œåˆ¤åˆ«å™¨è¯†åˆ«ä¸å‡ºçœŸå‡æ•°æ®ï¼Œå¯¹äºç»™å®šæ•°æ®çš„é¢„æµ‹ä¸ºçœŸçš„æ¦‚ç‡åŸºæœ¬æ¥è¿‘0.5ï¼ˆç›¸å½“äºéšæœºçŒœæµ‹ç±»åˆ«ï¼‰ã€‚ GANè®¾è®¡çš„å…³é”®åœ¨äºæŸå¤±å‡½æ•°çš„å¤„ç†ï¼š å¯¹äºåˆ¤åˆ«æ¨¡å‹ï¼ŒæŸå¤±å‡½æ•°æ˜¯å®¹æ˜“å®šä¹‰çš„ï¼Œåˆ¤æ–­ä¸€å¼ å›¾ç‰‡æ˜¯çœŸå®çš„è¿˜æ˜¯ç”Ÿæˆçš„ï¼Œæ˜¾ç„¶æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ã€‚ å¯¹äºç”Ÿæˆæ¨¡å‹ï¼ŒæŸå¤±å‡½æ•°çš„å®šä¹‰å°±ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ï¼Œæˆ‘ä»¬å¸Œæœ›ç”Ÿæˆå™¨å¯ä»¥ç”Ÿæˆæ¥è¿‘äºçœŸå®çš„å›¾ç‰‡ï¼Œå¯¹äºç”Ÿæˆçš„å›¾ç‰‡æ˜¯å¦åƒçœŸå®çš„ï¼Œæˆ‘ä»¬äººç±»è‚‰çœ¼å®¹æ˜“åˆ¤æ–­ï¼Œä½†å…·ä½“åˆ°ä»£ç ä¸­ï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡çš„ï¼Œéš¾ä»¥æ•°å­¦å…¬é‡ŒåŒ–å®šä¹‰çš„èŒƒå¼ã€‚ é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠç”Ÿæˆæ¨¡å‹çš„è¾“å‡ºï¼Œäº¤ç»™åˆ¤åˆ«æ¨¡å‹å¤„ç†ï¼Œè®©åˆ¤åˆ«å™¨åˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªçœŸå®çš„å›¾åƒè¿˜æ˜¯å‡çš„å›¾åƒï¼Œå› ä¸ºæ·±åº¦å­¦ä¹ æ¨¡å‹å¾ˆé€‚åˆåšåˆ†ç±»ï¼Œè¿™æ ·å°±å°†ç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨ç´§å¯†åœ°è”åˆåœ¨äº†ä¸€èµ·ã€‚ tips å‡å¦‚æˆ‘ä»¬ç›´æ¥ç”¨ç”Ÿæˆå™¨è®­ç»ƒï¼Œå®ƒçš„è®­ç»ƒç»“æœå¹¶ä¸ä¼šå¾—åˆ°ä¸€ä¸ªçœŸå®çš„å›¾åƒï¼Œè€Œä¼šå¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒæ¨¡ç³Šçš„å›¾åƒï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•æ„å»ºä¸€ä¸ªåˆé€‚çš„æŸå¤±å»åˆ¤æ–­å®ƒæ˜¯å¦åƒçœŸå®å›¾ç‰‡ï¼Œæ‰€ä»¥å®ƒä¼šå°†æ‰€æœ‰è®­ç»ƒæ ·æœ¬åšå¹³å‡ï¼Œäº§ç”Ÿä¸€ä¸ªæ¯”è¾ƒç³Šçš„å›¾ç‰‡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å°†ç”Ÿæˆå™¨çš„æ ·æœ¬äº¤ç»™åˆ¤åˆ«å™¨æ¥æ„å»ºæŸå¤±ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:11:1","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"11.2ã€GANç®—æ³•æµç¨‹æ€»ç»“ $G$ æ˜¯ä¸€ä¸ªç”Ÿæˆå›¾ç‰‡çš„ç½‘ç»œï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªéšæœºçš„å™ªå£°zï¼Œé€šè¿‡è¿™ä¸ªå™ªå£°ç”Ÿæˆå›¾ç‰‡$G(z)$ï¼Œè®°ä½œï¼› $D$ æ˜¯ä¸€ä¸ªåˆ¤åˆ«ç½‘ç»œï¼Œåˆ¤åˆ«ä¸€å¼ å›¾ç‰‡æ˜¯ä¸æ˜¯â€œçœŸå®çš„â€ï¼Œå®ƒçš„è¾“å…¥å‚æ•°æ˜¯xï¼Œxä»£è¡¨ä¸€å¼ å›¾ç‰‡ï¼Œè¾“å‡º$D(x)$ï¼Œä»£è¡¨xä¸ºçœŸå®å›¾ç‰‡çš„æ¦‚ç‡ï¼Œå¦‚æœä¸º1ï¼Œå°±ä»£è¡¨100%æ˜¯çœŸå®çš„å›¾ç‰‡ï¼Œè¾“å‡ºä¸º0ï¼Œå°±ä»£è¡¨ä¸æ˜¯çœŸå®å›¾ç‰‡ã€‚ åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå°†éšæœºå™ªå£°è¾“å…¥ç”Ÿæˆç½‘ç»œGï¼Œå¾—åˆ°ç”Ÿæˆçš„å›¾ç‰‡ï¼›åˆ¤åˆ«å™¨æ¥å—ç”Ÿæˆçš„å›¾ç‰‡å’ŒçœŸå®çš„å›¾ç‰‡ï¼Œå¹¶å°½é‡å°†ä¸¤è€…åŒºåˆ†å¼€æ¥ã€‚åœ¨è¿™ä¸ªè®¡ç®—è¿‡ç¨‹ä¸­ï¼Œèƒ½å¦æ­£ç¡®åŒºåˆ†ç”Ÿæˆçš„å›¾ç‰‡å’ŒçœŸå®çš„å›¾ç‰‡å°†ä½œä¸ºåˆ¤åˆ«å™¨çš„æŸå¤±ï¼›è€Œèƒ½å¦ç”Ÿæˆè¿‘ä¼¼çœŸå®çš„å›¾ç‰‡ã€å¹¶ä½¿å¾—åˆ¤åˆ«å™¨å°†ç”Ÿæˆçš„å›¾ç‰‡åˆ¤å®šä¸ºçœŸï¼Œå°†ä½œä¸ºç”Ÿæˆå™¨çš„æŸå¤±ã€‚ ç”Ÿæˆå™¨çš„æŸå¤±æ˜¯é€šè¿‡åˆ¤åˆ«å™¨çš„è¾“å‡ºæ¥è®¡ç®—çš„ï¼Œè€Œåˆ¤åˆ«å™¨çš„è¾“å‡ºæ˜¯ä¸€ä¸ªæ¦‚ç‡å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äº¤å‰ç†µæ¥è®¡ç®—ã€‚ ","date":"2023-07-26","objectID":"/posts/gan_1/:11:2","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["ML"],"content":"åäºŒã€torchå¤ç° https://wangguisen.blog.csdn.net/article/details/127820071 ref: [1]. https://arxiv.org/abs/1406.2661 [2]. https://www.bilibili.com/video/BV1eE411g7xc [3]. https://www.bilibili.com/video/BV1rb4y187vD [4]. https://www.bilibili.com/video/BV1HD4y1S7Pe ","date":"2023-07-26","objectID":"/posts/gan_1/:12:0","tags":["GAN"],"title":"ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN","uri":"/posts/gan_1/"},{"categories":["Transformer"],"content":" ref: [1]. Bç«™è®²è§£è§†é¢‘ [2]. https://wmathor.com/index.php/archives/1438/ [3]. Transformerçš„pytorchå®ç° ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:0:0","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"Transformer è¯¦è§£ Transformer æ˜¯è°·æ­Œå¤§è„‘åœ¨ 2017 å¹´åº•å‘è¡¨çš„è®ºæ–‡ attention is all you need ä¸­æ‰€æå‡ºçš„ seq2seq æ¨¡å‹ã€‚ç°åœ¨å·²ç»å–å¾—äº†å¤§èŒƒå›´çš„åº”ç”¨å’Œæ‰©å±•ï¼Œè€Œ BERT å°±æ˜¯ä» Transformer ä¸­è¡ç”Ÿå‡ºæ¥çš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ è¿™ç¯‡æ–‡ç« åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ† Transformer ç›´è§‚è®¤è¯† Positional Encoding Self Attention Mechanism æ®‹å·®è¿æ¥å’Œ Layer Normalization Transformer Encoder æ•´ä½“ç»“æ„ Transformer Decoder æ•´ä½“ç»“æ„ æ€»ç»“ å‚è€ƒæ–‡ç«  ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:0","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"0. Transformer ç›´è§‚è®¤è¯† Transformer å’Œ LSTM çš„æœ€å¤§åŒºåˆ«ï¼Œå°±æ˜¯ LSTM çš„è®­ç»ƒæ˜¯è¿­ä»£çš„ã€ä¸²è¡Œçš„ï¼Œå¿…é¡»è¦ç­‰å½“å‰å­—å¤„ç†å®Œï¼Œæ‰å¯ä»¥å¤„ç†ä¸‹ä¸€ä¸ªå­—ã€‚è€Œ Transformer çš„è®­ç»ƒæ—¶å¹¶è¡Œçš„ï¼Œå³æ‰€æœ‰å­—æ˜¯åŒæ—¶è®­ç»ƒçš„ï¼Œè¿™æ ·å°±å¤§å¤§å¢åŠ äº†è®¡ç®—æ•ˆç‡ã€‚Transformer ä½¿ç”¨äº†ä½ç½®åµŒå…¥ (Positional Encoding) æ¥ç†è§£è¯­è¨€çš„é¡ºåºï¼Œä½¿ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSelf Attention Mechanismï¼‰å’Œå…¨è¿æ¥å±‚è¿›è¡Œè®¡ç®—ï¼Œè¿™äº›åé¢ä¼šè®²åˆ° Transformer æ¨¡å‹ä¸»è¦åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ Encoder å’Œ Decoderã€‚Encoder è´Ÿè´£æŠŠè¾“å…¥ï¼ˆè¯­è¨€åºåˆ—ï¼‰éšå°„æˆéšè—å±‚ï¼ˆä¸‹å›¾ä¸­ç¬¬ 2 æ­¥ç”¨ä¹å®«æ ¼ä»£è¡¨çš„éƒ¨åˆ†ï¼‰ï¼Œç„¶åè§£ç å™¨å†æŠŠéšè—å±‚æ˜ å°„ä¸ºè‡ªç„¶è¯­è¨€åºåˆ—ã€‚ä¾‹å¦‚ä¸‹å›¾æœºå™¨ç¿»è¯‘çš„ä¾‹å­ï¼ˆDecoder è¾“å‡ºçš„æ—¶å€™ï¼Œæ˜¯é€šè¿‡ N å±‚ Decoder Layer æ‰è¾“å‡ºä¸€ä¸ª tokenï¼Œå¹¶ä¸æ˜¯é€šè¿‡ä¸€å±‚ Decoder Layer å°±è¾“å‡ºä¸€ä¸ª tokenï¼‰ æœ¬ç¯‡æ–‡ç« å¤§éƒ¨åˆ†å†…å®¹åœ¨äºè§£é‡Š Encoder éƒ¨åˆ†ï¼Œå³æŠŠè‡ªç„¶è¯­è¨€åºåˆ—æ˜ å°„ä¸ºéšè—å±‚çš„æ•°å­¦è¡¨è¾¾çš„è¿‡ç¨‹ã€‚ç†è§£äº† Encoder çš„ç»“æ„ï¼Œå†ç†è§£ Decoder å°±å¾ˆç®€å•äº† ä¸Šå›¾ä¸º Transformer Encoder Block ç»“æ„å›¾ï¼Œæ³¨æ„ï¼šä¸‹é¢çš„å†…å®¹æ ‡é¢˜ç¼–å·åˆ†åˆ«å¯¹åº”ç€å›¾ä¸­ 1,2,3,4 ä¸ªæ–¹æ¡†çš„åºå· ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:1","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"1. Positional Encoding ç”±äº Transformer æ¨¡å‹æ²¡æœ‰å¾ªç¯ç¥ç»ç½‘ç»œçš„è¿­ä»£æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»æä¾›æ¯ä¸ªå­—çš„ä½ç½®ä¿¡æ¯ç»™ Transformerï¼Œè¿™æ ·å®ƒæ‰èƒ½è¯†åˆ«å‡ºè¯­è¨€ä¸­çš„é¡ºåºå…³ç³»ã€‚ ç°åœ¨å®šä¹‰ä¸€ä¸ªä½ç½®åµŒå…¥çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯ Positional Encodingï¼Œä½ç½®åµŒå…¥çš„ç»´åº¦ä¸º [max_sequence_length, embedding_dimension], ä½ç½®åµŒå…¥çš„ç»´åº¦ä¸è¯å‘é‡çš„ç»´åº¦æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯ embedding_dimensionã€‚max_sequence_length å±äºè¶…å‚æ•°ï¼ŒæŒ‡çš„æ˜¯é™å®šæ¯ä¸ªå¥å­æœ€é•¿ç”±å¤šå°‘ä¸ªè¯æ„æˆ æ³¨æ„ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä»¥å­—ä¸ºå•ä½è®­ç»ƒ Transformer æ¨¡å‹ã€‚é¦–å…ˆåˆå§‹åŒ–å­—ç¼–ç çš„å¤§å°ä¸º [vocab_size, embedding_dimension]ï¼Œvocab_size ä¸ºå­—åº“ä¸­æ‰€æœ‰å­—çš„æ•°é‡ï¼Œembedding_dimension ä¸ºå­—å‘é‡çš„ç»´åº¦ï¼Œå¯¹åº”åˆ° PyTorch ä¸­ï¼Œå…¶å®å°±æ˜¯ nn.Embedding(vocab_size, embedding_dimension) è®ºæ–‡ä¸­ä½¿ç”¨äº† sin å’Œ cos å‡½æ•°çš„çº¿æ€§å˜æ¢æ¥æä¾›ç»™æ¨¡å‹ä½ç½®ä¿¡æ¯: $$\\left{\\begin{aligned} PE(pos, 2i) = \\sin (pos/10000^{2i/d_{model}}) \\ PE(pos, 2i + 1) = \\cos (pos/10000^{2i/d_{model}}) \\ \\end{aligned}\\right.$$ ä¸Šå¼ä¸­ $pos$ æŒ‡çš„æ˜¯ä¸€å¥è¯ä¸­æŸä¸ªå­—çš„ä½ç½®ï¼Œå–å€¼èŒƒå›´æ˜¯ $[0, \\text{max_sequence_length}]$ ï¼Œ $i$ æŒ‡çš„æ˜¯å­—å‘é‡çš„ç»´åº¦åºå·ï¼Œå–å€¼èŒƒå›´æ˜¯ $[0, \\text{embedding_dimension} / 2]$ ï¼Œ $d_{model}$ æŒ‡çš„æ˜¯ embedding_dimensionâ€‹çš„å€¼ ä¸Šé¢æœ‰ sin å’Œ cos ä¸€ç»„å…¬å¼ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”ç€ embedding_dimension ç»´åº¦çš„ä¸€ç»„å¥‡æ•°å’Œå¶æ•°çš„åºå·çš„ç»´åº¦ï¼Œä¾‹å¦‚ 0,1 ä¸€ç»„ï¼Œ2,3 ä¸€ç»„ï¼Œåˆ†åˆ«ç”¨ä¸Šé¢çš„ sin å’Œ cos å‡½æ•°åšå¤„ç†ï¼Œä»è€Œäº§ç”Ÿä¸åŒçš„å‘¨æœŸæ€§å˜åŒ–ï¼Œè€Œä½ç½®åµŒå…¥åœ¨ embedding_dimensionâ€‹ç»´åº¦ä¸Šéšç€ç»´åº¦åºå·å¢å¤§ï¼Œå‘¨æœŸå˜åŒ–ä¼šè¶Šæ¥è¶Šæ…¢ï¼Œæœ€ç»ˆäº§ç”Ÿä¸€ç§åŒ…å«ä½ç½®ä¿¡æ¯çš„çº¹ç†ï¼Œå°±åƒè®ºæ–‡åŸæ–‡ä¸­ç¬¬å…­é¡µè®²çš„ï¼Œä½ç½®åµŒå…¥å‡½æ•°çš„å‘¨æœŸä» $ 2\\pi $ åˆ° $10000 * 2 \\pi$ å˜åŒ–ï¼Œè€Œæ¯ä¸€ä¸ªä½ç½®åœ¨ embedding_dimension â€‹ç»´åº¦ä¸Šéƒ½ä¼šå¾—åˆ°ä¸åŒå‘¨æœŸçš„ $ \\sin $ å’Œ $ \\cos $ å‡½æ•°çš„å–å€¼ç»„åˆï¼Œä»è€Œäº§ç”Ÿç‹¬ä¸€çš„çº¹ç†ä½ç½®ä¿¡æ¯ï¼Œæœ€ç»ˆä½¿å¾—æ¨¡å‹å­¦åˆ°ä½ç½®ä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œè‡ªç„¶è¯­è¨€çš„æ—¶åºç‰¹æ€§ã€‚ å¦‚æœä¸ç†è§£è¿™é‡Œä¸ºä½•è¿™ä¹ˆè®¾è®¡ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  Transformer ä¸­çš„ Positional Encoding ä¸‹é¢ç”»ä¸€ä¸‹ä½ç½®åµŒå…¥ï¼Œçºµå‘è§‚å¯Ÿï¼Œå¯è§éšç€ embedding_dimensionâ€‹åºå·å¢å¤§ï¼Œä½ç½®åµŒå…¥å‡½æ•°çš„å‘¨æœŸå˜åŒ–è¶Šæ¥è¶Šå¹³ç¼“ import numpy as np import matplotlib.pyplot as plt import seaborn as sns import math def get_positional_encoding(max_seq_len, embed_dim): # åˆå§‹åŒ–ä¸€ä¸ªpositional encoding # embed_dim: å­—åµŒå…¥çš„ç»´åº¦ # max_seq_len: æœ€å¤§çš„åºåˆ—é•¿åº¦ positional_encoding = np.array([ [pos / np.power(10000, 2 * i / embed_dim) for i in range(embed_dim)] if pos != 0 else np.zeros(embed_dim) for pos in range(max_seq_len)]) positional_encoding[1:, 0::2] = np.sin(positional_encoding[1:, 0::2]) # dim 2i å¶æ•° positional_encoding[1:, 1::2] = np.cos(positional_encoding[1:, 1::2]) # dim 2i+1 å¥‡æ•° return positional_encoding positional_encoding = get_positional_encoding(max_seq_len=100, embed_dim=16) plt.figure(figsize=(10,10)) sns.heatmap(positional_encoding) plt.title(\"Sinusoidal Function\") plt.xlabel(\"hidden dimension\") plt.ylabel(\"sequence length\") plt.figure(figsize=(8, 5)) plt.plot(positional_encoding[1:, 1], label=\"dimension 1\") plt.plot(positional_encoding[1:, 2], label=\"dimension 2\") plt.plot(positional_encoding[1:, 3], label=\"dimension 3\") plt.legend() plt.xlabel(\"Sequence length\") plt.ylabel(\"Period of Positional Encoding\") ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:2","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"2. Self Attention Mechanism å¯¹äºè¾“å…¥çš„å¥å­ $ X $ï¼Œé€šè¿‡ WordEmbedding å¾—åˆ°è¯¥å¥å­ä¸­æ¯ä¸ªå­—çš„å­—å‘é‡ï¼ŒåŒæ—¶é€šè¿‡ Positional Encoding å¾—åˆ°æ‰€æœ‰å­—çš„ä½ç½®å‘é‡ï¼Œå°†å…¶ç›¸åŠ ï¼ˆç»´åº¦ç›¸åŒï¼Œå¯ä»¥ç›´æ¥ç›¸åŠ ï¼‰ï¼Œå¾—åˆ°è¯¥å­—çœŸæ­£çš„å‘é‡è¡¨ç¤ºã€‚ç¬¬ $ t $ ä¸ªå­—çš„å‘é‡è®°ä½œ $ x_t $ã€‚ æ¥ç€æˆ‘ä»¬å®šä¹‰ä¸‰ä¸ªçŸ©é˜µ $ W_Q $, $ W_K $, $ W_V $ï¼Œä½¿ç”¨è¿™ä¸‰ä¸ªçŸ©é˜µåˆ†åˆ«å¯¹æ‰€æœ‰çš„å­—å‘é‡è¿›è¡Œä¸‰æ¬¡çº¿æ€§å˜æ¢ï¼Œäºæ˜¯æ‰€æœ‰çš„å­—å‘é‡åˆè¡ç”Ÿå‡ºä¸‰ä¸ªæ–°çš„å‘é‡ $ q_t $, $ k_t $, $ v_t $ã€‚æˆ‘ä»¬å°†æ‰€æœ‰çš„ $ q_t $ å‘é‡æ‹¼æˆä¸€ä¸ªå¤§çŸ©é˜µï¼Œè®°ä½œæŸ¥è¯¢çŸ©é˜µ $ Q $ ï¼Œå°†æ‰€æœ‰çš„ $ k_t $ å‘é‡æ‹¼æˆä¸€ä¸ªå¤§çŸ©é˜µï¼Œè®°ä½œé”®çŸ©é˜µ $ K $ ï¼Œå°†æ‰€æœ‰çš„ $ v_t $ å‘é‡æ‹¼æˆä¸€ä¸ªå¤§çŸ©é˜µï¼Œè®°ä½œå€¼çŸ©é˜µ $ V $ ï¼ˆè§ä¸‹å›¾ï¼‰ ä¸ºäº†è·å¾—ç¬¬ä¸€ä¸ªå­—çš„æ³¨æ„åŠ›æƒé‡ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ç¬¬ä¸€ä¸ªå­—çš„æŸ¥è¯¢å‘é‡ $ q_1 $ ä¹˜ä»¥é”®çŸ©é˜µ $ K $ï¼ˆè§ä¸‹å›¾ï¼‰ [0, 4, 2] [1, 0, 2] x [1, 4, 3] = [2, 4, 4] [1, 0, 1] ä¹‹åè¿˜éœ€è¦å°†å¾—åˆ°çš„å€¼ç»è¿‡ softmaxï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸º 1ï¼ˆè§ä¸‹å›¾ï¼‰ softmax([2, 4, 4]) = [0.0, 0.5, 0.5] æœ‰äº†æƒé‡ä¹‹åï¼Œå°†æƒé‡å…¶åˆ†åˆ«ä¹˜ä»¥å¯¹åº”å­—çš„å€¼å‘é‡ $ v_t $ï¼ˆè§ä¸‹å›¾ï¼‰ 0.0 * [1, 2, 3] = [0.0, 0.0, 0.0] 0.5 * [2, 8, 0] = [1.0, 4.0, 0.0] 0.5 * [2, 6, 3] = [1.0, 3.0, 1.5] æœ€åå°†è¿™äº›æƒé‡åŒ–åçš„å€¼å‘é‡æ±‚å’Œï¼Œå¾—åˆ°ç¬¬ä¸€ä¸ªå­—çš„è¾“å‡ºï¼ˆè§ä¸‹å›¾ï¼‰ [0.0, 0.0, 0.0] + [1.0, 4.0, 0.0] + [1.0, 3.0, 1.5] ----------------- = [2.0, 7.0, 1.5] å¯¹å…¶å®ƒçš„è¾“å…¥å‘é‡ä¹Ÿæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œå³å¯å¾—åˆ°é€šè¿‡ self-attention åçš„æ‰€æœ‰è¾“å‡º çŸ©é˜µè®¡ç®— ä¸Šé¢ä»‹ç»çš„æ–¹æ³•éœ€è¦ä¸€ä¸ªå¾ªç¯éå†æ‰€æœ‰çš„å­—$ x_t $ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢çš„å‘é‡è®¡ç®—å˜æˆçŸ©é˜µçš„å½¢å¼ï¼Œä»è€Œä¸€æ¬¡è®¡ç®—å‡ºæ‰€æœ‰æ—¶åˆ»çš„è¾“å‡º ç¬¬ä¸€æ­¥å°±ä¸æ˜¯è®¡ç®—æŸä¸ªæ—¶åˆ»çš„$ q_t $, $ k_t $, $ v_t $äº†ï¼Œè€Œæ˜¯ä¸€æ¬¡è®¡ç®—æ‰€æœ‰æ—¶åˆ»çš„ $ Q $, $ K $, $ V $ã€‚è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™é‡Œçš„è¾“å…¥æ˜¯ä¸€ä¸ªçŸ©é˜µ $ X $ï¼ŒçŸ©é˜µç¬¬ $ t $ è¡Œä¸ºç¬¬ $ t $ ä¸ªè¯çš„å‘é‡è¡¨ç¤º $x_t$ æ¥ä¸‹æ¥å°† $ Q $ å’Œ $K_T$ ç›¸ä¹˜ï¼Œç„¶åé™¤ä»¥ $ \\sqrt{d_k} $ï¼ˆè¿™æ˜¯è®ºæ–‡ä¸­æåˆ°çš„ä¸€ä¸ª trickï¼‰ï¼Œç»è¿‡ softmax ä»¥åå†ä¹˜ä»¥ $ V $ å¾—åˆ°è¾“å‡º Multi-Head Attention è¿™ç¯‡è®ºæ–‡è¿˜æå‡ºäº† Multi-Head Attention çš„æ¦‚å¿µã€‚å…¶å®å¾ˆç®€å•ï¼Œå‰é¢å®šä¹‰çš„ä¸€ç»„ $Q $, $ K $, $ V $, å¯ä»¥è®©ä¸€ä¸ªè¯ attend to ç›¸å…³çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šç»„ $Q $, $ K $, $ V $ï¼Œè®©å®ƒä»¬åˆ†åˆ«å…³æ³¨ä¸åŒçš„ä¸Šä¸‹æ–‡ã€‚è®¡ç®— $Q $, $ K $, $ V $ çš„è¿‡ç¨‹è¿˜æ˜¯ä¸€æ ·ï¼Œåªä¸è¿‡çº¿æ€§å˜æ¢çš„çŸ©é˜µä»ä¸€ç»„ $ W^Q $, $ W^K $, $ W^V $ å˜æˆäº†å¤šç»„$ W^Q_0 $, $ W^K_0 $, $ W^V_0 $ ï¼Œ$ W^Q_1 $, $ W^K_1 $, $ W^V_1 $ ï¼Œâ€¦ å¦‚ä¸‹å›¾æ‰€ç¤º: å¯¹äºè¾“å…¥çŸ©é˜µ $ X $ ï¼Œæ¯ä¸€ç»„ $ Q $ ã€$ K $ å’Œ $ V $ éƒ½å¯ä»¥å¾—åˆ°ä¸€ä¸ªè¾“å‡ºçŸ©é˜µ $ Z $ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º Padding Mask ä¸Šé¢ Self Attention çš„è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ mini-batch æ¥è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡è®¡ç®—å¤šå¥è¯ï¼Œå³ $ X $ çš„ç»´åº¦æ˜¯ [batch_size, sequence_length]ï¼Œsequence_lengthâ€‹æ˜¯å¥é•¿ï¼Œè€Œä¸€ä¸ª mini-batch æ˜¯ç”±å¤šä¸ªä¸ç­‰é•¿çš„å¥å­ç»„æˆçš„ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰ç…§è¿™ä¸ª mini-batch ä¸­æœ€å¤§çš„å¥é•¿å¯¹å‰©ä½™çš„å¥å­è¿›è¡Œè¡¥é½ï¼Œä¸€èˆ¬ç”¨ 0 è¿›è¡Œå¡«å……ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åš padding ä½†è¿™æ—¶åœ¨è¿›è¡Œ softmax å°±ä¼šäº§ç”Ÿé—®é¢˜ã€‚å›é¡¾ softmax å‡½æ•° $\\sigma(z_i) = \\frac{e^{z_i}}{\\sum_K^{j=i} e^{z_j}}$ï¼Œ$e^0$ æ˜¯ 1ï¼Œæ˜¯æœ‰å€¼çš„ï¼Œè¿™æ ·çš„è¯ softmax ä¸­è¢« padding çš„éƒ¨åˆ†å°±å‚ä¸äº†è¿ç®—ï¼Œç›¸å½“äºè®©æ— æ•ˆçš„éƒ¨åˆ†å‚ä¸äº†è¿ç®—ï¼Œè¿™å¯èƒ½ä¼šäº§ç”Ÿå¾ˆå¤§çš„éšæ‚£ã€‚å› æ­¤éœ€è¦åšä¸€ä¸ª mask æ“ä½œï¼Œè®©è¿™äº›æ— æ•ˆçš„åŒºåŸŸä¸å‚ä¸è¿ç®—ï¼Œä¸€èˆ¬æ˜¯ç»™æ— æ•ˆåŒºåŸŸåŠ ä¸€ä¸ªå¾ˆå¤§çš„è´Ÿæ•°åç½®ï¼Œå³ $$\\left{\\begin{aligned} Z_{illegal} = Z_{illegal} + bias_{illegal} \\ bias_{illegal}-\u003e -\\infin \\ \\end{aligned}\\right.$$ ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:3","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"3. æ®‹å·®è¿æ¥å’Œ Layer Normalization æ®‹å·®è¿æ¥ æˆ‘ä»¬åœ¨ä¸Šä¸€æ­¥å¾—åˆ°äº†ç»è¿‡ self-attention åŠ æƒä¹‹åè¾“å‡ºï¼Œä¹Ÿå°±æ˜¯$\\text{Self-Attention(Q, K, V)}$ï¼Œç„¶åæŠŠä»–ä»¬åŠ èµ·æ¥åšæ®‹å·®è¿æ¥ $$X_{\\text{embedding}} + \\text{Self-Attention(Q, K, V)}$$ Layer Normalization Layer Normalization çš„ä½œç”¨æ˜¯æŠŠç¥ç»ç½‘ç»œä¸­éšè—å±‚å½’ä¸€ä¸ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œä¹Ÿå°±æ˜¯ $i.i.d$ ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œä»¥èµ·åˆ°åŠ å¿«è®­ç»ƒé€Ÿåº¦ï¼ŒåŠ é€Ÿæ”¶æ•›çš„ä½œç”¨ $$\\mu_j = \\frac{1}{m} \\sum^{i}{i=1} x{ij}$$ ä¸Šå¼ä»¥çŸ©é˜µçš„åˆ—ï¼ˆcolumnï¼‰ä¸ºå•ä½æ±‚å‡å€¼ï¼› $$\\sigma^2_{j} = \\frac{1}{m}\\sum^m_{i=1}(x_{ij} - \\mu_j)^2$$ ä¸Šå¼ä»¥çŸ©é˜µçš„åˆ—ï¼ˆcolumnï¼‰ä¸ºå•ä½æ±‚æ–¹å·® $$LayerNorm(x) = \\frac{x_{ij} - \\mu_{j}}{\\sqrt{\\sigma^2 + \\epsilon}}$$ ç„¶åç”¨æ¯ä¸€åˆ—çš„æ¯ä¸€ä¸ªå…ƒç´ å‡å»è¿™åˆ—çš„å‡å€¼ï¼Œå†é™¤ä»¥è¿™åˆ—çš„æ ‡å‡†å·®ï¼Œä»è€Œå¾—åˆ°å½’ä¸€åŒ–åçš„æ•°å€¼ï¼ŒåŠ  $\\epsilon$ æ˜¯ä¸ºäº†é˜²æ­¢åˆ†æ¯ä¸º 0ã€‚ ä¸‹å›¾å±•ç¤ºäº†æ›´å¤šç»†èŠ‚ï¼šè¾“å…¥ $x_1, x_2$ ç» self-attention å±‚ä¹‹åå˜æˆ $z_1, z_2$ï¼Œç„¶åå’Œè¾“å…¥ $x_1, x_2$ è¿›è¡Œæ®‹å·®è¿æ¥ï¼Œç»è¿‡ LayerNorm åè¾“å‡ºç»™å…¨è¿æ¥å±‚ã€‚å…¨è¿æ¥å±‚ä¹Ÿæœ‰ä¸€ä¸ªæ®‹å·®è¿æ¥å’Œä¸€ä¸ª LayerNormï¼Œæœ€åå†è¾“å‡ºç»™ä¸‹ä¸€ä¸ª Encoderï¼ˆæ¯ä¸ª Encoder Block ä¸­çš„ FeedForward å±‚æƒé‡éƒ½æ˜¯å…±äº«çš„ï¼‰ ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:4","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"4. Transformer Encoder æ•´ä½“ç»“æ„ ç»è¿‡ä¸Šé¢ 3 ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬äº†è§£äº† Encoder çš„ä¸»è¦æ„æˆéƒ¨åˆ†ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨å…¬å¼æŠŠä¸€ä¸ª Encoder block çš„è®¡ç®—è¿‡ç¨‹æ•´ç†ä¸€ä¸‹ï¼š (1). å­—å‘é‡ä¸ä½ç½®ç¼–ç  $$X = \\text{Embedding-Lookup(X)} + \\text{Positional-Encoding}$$ (2). è‡ªæ³¨æ„åŠ›æœºåˆ¶ $$Q = Linear_{q}(X) = XW_{Q}$$ $$K = Linear_{k}(X) = XW_{K}$$ $$V = Linear_{v}(X) = XW_{V}$$ $$X_{attention} = \\text{Self-Attention(Q, K, V)}$$ (3). self-attention æ®‹å·®è¿æ¥ä¸ Layer Normalization $$X_{attention} = X + X_{attention}$$ $$X_{attention} = LayerNorm(attention)$$ (4). ä¸‹é¢è¿›è¡Œ Encoder block ç»“æ„å›¾ä¸­çš„ç¬¬ 4 éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ FeedForwardï¼Œå…¶å®å°±æ˜¯ä¸¤å±‚çº¿æ€§æ˜ å°„å¹¶ç”¨æ¿€æ´»å‡½æ•°æ¿€æ´»ï¼Œæ¯”å¦‚è¯´ $ReLU$ $$X_{hidden} = Linear(ReLU(Linear(X_{attention})))$$ (5). FeedForward æ®‹å·®è¿æ¥ä¸ Layer Normalization $$X_{hidden} = X_{attention} + X_{hidden}$$ $$X_{hidden} = LayerNorm(X_{hidden})$$ å…¶ä¸­ $$X_{hidden} \\in \\mathbb{R}^{batch_size * seq_len * embed_dim}$$ ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:5","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"5. Transformer Decoder æ•´ä½“ç»“æ„ æˆ‘ä»¬å…ˆä» HighLevel çš„è§’åº¦è§‚å¯Ÿä¸€ä¸‹ Decoder ç»“æ„ï¼Œä»ä¸‹åˆ°ä¸Šä¾æ¬¡æ˜¯ï¼š Masked Multi-Head Self-Attention Multi-Head Encoder-Decoder Attention FeedForward Network å’Œ Encoder ä¸€æ ·ï¼Œä¸Šé¢ä¸‰ä¸ªéƒ¨åˆ†çš„æ¯ä¸€ä¸ªéƒ¨åˆ†ï¼Œéƒ½æœ‰ä¸€ä¸ªæ®‹å·®è¿æ¥ï¼Œåæ¥ä¸€ä¸ª Layer Normalizationã€‚Decoder çš„ä¸­é—´éƒ¨ä»¶å¹¶ä¸å¤æ‚ï¼Œå¤§éƒ¨åˆ†åœ¨å‰é¢ Encoder é‡Œæˆ‘ä»¬å·²ç»ä»‹ç»è¿‡äº†ï¼Œä½†æ˜¯ Decoder ç”±äºå…¶ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œå› æ­¤åœ¨è®­ç»ƒæ—¶ä¼šæ¶‰åŠåˆ°ä¸€äº›ç»†èŠ‚ Masked Self-Attention å…·ä½“æ¥è¯´ï¼Œä¼ ç»Ÿ Seq2Seq ä¸­ Decoder ä½¿ç”¨çš„æ˜¯ RNN æ¨¡å‹ï¼Œå› æ­¤åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¾“å…¥ $t$ æ—¶åˆ»çš„è¯ï¼Œæ¨¡å‹æ— è®ºå¦‚ä½•ä¹Ÿçœ‹ä¸åˆ°æœªæ¥æ—¶åˆ»çš„è¯ï¼Œå› ä¸ºå¾ªç¯ç¥ç»ç½‘ç»œæ˜¯æ—¶é—´é©±åŠ¨çš„ï¼Œåªæœ‰å½“ $t$ æ—¶åˆ»è¿ç®—ç»“æŸäº†ï¼Œæ‰èƒ½çœ‹åˆ° $t + 1$ æ—¶åˆ»çš„è¯ã€‚è€Œ Transformer Decoder æŠ›å¼ƒäº† RNNï¼Œæ”¹ä¸º Self-Attentionï¼Œç”±æ­¤å°±äº§ç”Ÿäº†ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ•´ä¸ª ground truth éƒ½æš´éœ²åœ¨ Decoder ä¸­ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯¹çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ Decoder çš„è¾“å…¥è¿›è¡Œä¸€äº›å¤„ç†ï¼Œè¯¥å¤„ç†è¢«ç§°ä¸º Mask ä¸¾ä¸ªä¾‹å­ï¼ŒDecoder çš„ ground truth ä¸º â€œ I am fineâ€ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªå¥å­è¾“å…¥åˆ° Decoder ä¸­ï¼Œç»è¿‡ WordEmbedding å’Œ Positional Encoding ä¹‹åï¼Œå°†å¾—åˆ°çš„çŸ©é˜µåšä¸‰æ¬¡çº¿æ€§å˜æ¢ $(W_Q, W_K, W_V)$ã€‚ç„¶åè¿›è¡Œ self-attention æ“ä½œï¼Œé¦–å…ˆé€šè¿‡å¾—åˆ° Scaled Scoresï¼Œæ¥ä¸‹æ¥éå¸¸å…³é”®ï¼Œæˆ‘ä»¬è¦å¯¹ Scaled Scores è¿›è¡Œ Maskï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå½“æˆ‘ä»¬è¾“å…¥ â€œIâ€ æ—¶ï¼Œæ¨¡å‹ç›®å‰ä»…çŸ¥é“åŒ…æ‹¬ â€œIâ€ åœ¨å†…ä¹‹å‰æ‰€æœ‰å­—çš„ä¿¡æ¯ï¼Œå³ â€œâ€ å’Œ â€œIâ€ çš„ä¿¡æ¯ï¼Œä¸åº”è¯¥è®©å…¶çŸ¥é“ â€œIâ€ ä¹‹åè¯çš„ä¿¡æ¯ã€‚é“ç†å¾ˆç®€å•ï¼Œæˆ‘ä»¬åšé¢„æµ‹çš„æ—¶å€™æ˜¯æŒ‰ç…§é¡ºåºä¸€ä¸ªå­—ä¸€ä¸ªå­—çš„é¢„æµ‹ï¼Œæ€ä¹ˆèƒ½è¿™ä¸ªå­—éƒ½æ²¡é¢„æµ‹å®Œï¼Œå°±å·²ç»çŸ¥é“åé¢å­—çš„ä¿¡æ¯äº†å‘¢ï¼ŸMask éå¸¸ç®€å•ï¼Œé¦–å…ˆç”Ÿæˆä¸€ä¸ªä¸‹ä¸‰è§’å…¨ 0ï¼Œä¸Šä¸‰è§’å…¨ä¸ºè´Ÿæ— ç©·çš„çŸ©é˜µï¼Œç„¶åå°†å…¶ä¸ Scaled Scores ç›¸åŠ å³å¯ ä¹‹åå†åš softmaxï¼Œå°±èƒ½å°† - inf å˜ä¸º 0ï¼Œå¾—åˆ°çš„è¿™ä¸ªçŸ©é˜µå³ä¸ºæ¯ä¸ªå­—ä¹‹é—´çš„æƒé‡ Multi-Head Self-Attention æ— éå°±æ˜¯å¹¶è¡Œçš„å¯¹ä¸Šè¿°æ­¥éª¤å¤šåšå‡ æ¬¡ï¼Œå‰é¢ Encoder ä¹Ÿä»‹ç»äº†ï¼Œè¿™é‡Œå°±ä¸å¤šèµ˜è¿°äº† Masked Encoder-Decoder Attention å…¶å®è¿™ä¸€éƒ¨åˆ†çš„è®¡ç®—æµç¨‹å’Œå‰é¢ Masked Self-Attention å¾ˆç›¸ä¼¼ï¼Œç»“æ„ä¸€æ¨¡ä¸€æ ·ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯è¿™é‡Œçš„ K, Vä¸º Encoder çš„è¾“å‡ºï¼ŒQ ä¸º Decoder ä¸­ Masked Self-Attention çš„è¾“å‡º ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:6","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"6. æ€»ç»“ åˆ°æ­¤ä¸ºæ­¢ï¼ŒTransformer ä¸­ 95% çš„å†…å®¹å·²ç»ä»‹ç»å®Œäº†ï¼Œæˆ‘ä»¬ç”¨ä¸€å¼ å›¾å±•ç¤ºå…¶å®Œæ•´ç»“æ„ã€‚ä¸å¾—ä¸è¯´ï¼ŒTransformer è®¾è®¡çš„ååˆ†å·§å¤ºå¤©å·¥ ä¸‹é¢æœ‰å‡ ä¸ªé—®é¢˜ï¼Œæ˜¯æˆ‘ä»ç½‘ä¸Šæ‰¾çš„ï¼Œæ„Ÿè§‰çœ‹å®Œä¹‹åèƒ½å¯¹ Transformer æœ‰ä¸€ä¸ªæ›´æ·±çš„ç†è§£ Transformer ä¸ºä»€ä¹ˆéœ€è¦è¿›è¡Œ Multi-head Attentionï¼Ÿ åŸè®ºæ–‡ä¸­è¯´åˆ°è¿›è¡Œ Multi-head Attention çš„åŸå› æ˜¯å°†æ¨¡å‹åˆ†ä¸ºå¤šä¸ªå¤´ï¼Œå½¢æˆå¤šä¸ªå­ç©ºé—´ï¼Œå¯ä»¥è®©æ¨¡å‹å»å…³æ³¨ä¸åŒæ–¹é¢çš„ä¿¡æ¯ï¼Œæœ€åå†å°†å„ä¸ªæ–¹é¢çš„ä¿¡æ¯ç»¼åˆèµ·æ¥ã€‚å…¶å®ç›´è§‚ä¸Šä¹Ÿå¯ä»¥æƒ³åˆ°ï¼Œå¦‚æœè‡ªå·±è®¾è®¡è¿™æ ·çš„ä¸€ä¸ªæ¨¡å‹ï¼Œå¿…ç„¶ä¹Ÿä¸ä¼šåªåšä¸€æ¬¡ attentionï¼Œå¤šæ¬¡ attention ç»¼åˆçš„ç»“æœè‡³å°‘èƒ½å¤Ÿèµ·åˆ°å¢å¼ºæ¨¡å‹çš„ä½œç”¨ï¼Œä¹Ÿå¯ä»¥ç±»æ¯” CNN ä¸­åŒæ—¶ä½¿ç”¨å¤šä¸ªå·ç§¯æ ¸çš„ä½œç”¨ï¼Œç›´è§‚ä¸Šè®²ï¼Œå¤šå¤´çš„æ³¨æ„åŠ›æœ‰åŠ©äºç½‘ç»œæ•æ‰åˆ°æ›´ä¸°å¯Œçš„ç‰¹å¾ / ä¿¡æ¯ Transformer ç›¸æ¯”äº RNN/LSTMï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ RNN ç³»åˆ—çš„æ¨¡å‹ï¼Œæ— æ³•å¹¶è¡Œè®¡ç®—ï¼Œå› ä¸º T æ—¶åˆ»çš„è®¡ç®—ä¾èµ– T-1 æ—¶åˆ»çš„éšå±‚è®¡ç®—ç»“æœï¼Œè€Œ T-1 æ—¶åˆ»çš„è®¡ç®—ä¾èµ– T-2 æ—¶åˆ»çš„éšå±‚è®¡ç®—ç»“æœ Transformer çš„ç‰¹å¾æŠ½å–èƒ½åŠ›æ¯” RNN ç³»åˆ—çš„æ¨¡å‹è¦å¥½ ä¸ºä»€ä¹ˆè¯´ Transformer å¯ä»¥ä»£æ›¿ seq2seqï¼Ÿ è¿™é‡Œç”¨ä»£æ›¿è¿™ä¸ªè¯ç•¥æ˜¾ä¸å¦¥å½“ï¼Œseq2seq è™½å·²è€ï¼Œä½†å§‹ç»ˆè¿˜æ˜¯æœ‰å…¶ç”¨æ­¦ä¹‹åœ°ï¼Œseq2seq æœ€å¤§çš„é—®é¢˜åœ¨äºå°†Encoderç«¯çš„æ‰€æœ‰ä¿¡æ¯å‹ç¼©åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å‘é‡ä¸­ï¼Œå¹¶å°†å…¶ä½œä¸º Decoder ç«¯é¦–ä¸ªéšè—çŠ¶æ€çš„è¾“å…¥ï¼Œæ¥é¢„æµ‹ Decoder ç«¯ç¬¬ä¸€ä¸ªå•è¯ (token) çš„éšè—çŠ¶æ€ã€‚åœ¨è¾“å…¥åºåˆ—æ¯”è¾ƒé•¿çš„æ—¶å€™ï¼Œè¿™æ ·åšæ˜¾ç„¶ä¼šæŸå¤± Encoder ç«¯çš„å¾ˆå¤šä¿¡æ¯ï¼Œè€Œä¸”è¿™æ ·ä¸€è‚¡è„‘çš„æŠŠè¯¥å›ºå®šå‘é‡é€å…¥ Decoder ç«¯ï¼ŒDecoder ç«¯ä¸èƒ½å¤Ÿå…³æ³¨åˆ°å…¶æƒ³è¦å…³æ³¨çš„ä¿¡æ¯ã€‚ Transformer ä¸ä½†å¯¹ seq2seq æ¨¡å‹è¿™ä¸¤ç‚¹ç¼ºç‚¹æœ‰äº†å®è´¨æ€§çš„æ”¹è¿› (å¤šå¤´äº¤äº’å¼ attention æ¨¡å—)ï¼Œè€Œä¸”è¿˜å¼•å…¥äº† self-attention æ¨¡å—ï¼Œè®©æºåºåˆ—å’Œç›®æ ‡åºåˆ—é¦–å…ˆ â€œè‡ªå…³è”â€ èµ·æ¥ï¼Œè¿™æ ·çš„è¯ï¼Œæºåºåˆ—å’Œç›®æ ‡åºåˆ—è‡ªèº«çš„ embedding è¡¨ç¤ºæ‰€è•´å«çš„ä¿¡æ¯æ›´åŠ ä¸°å¯Œï¼Œè€Œä¸”åç»­çš„ FFN å±‚ä¹Ÿå¢å¼ºäº†æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ï¼Œå¹¶ä¸” Transformer å¹¶è¡Œè®¡ç®—çš„èƒ½åŠ›è¿œè¿œè¶…è¿‡äº† seq2seq ç³»åˆ—æ¨¡å‹ ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:7","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["Transformer"],"content":"7. å‚è€ƒæ–‡ç«  Transformer The Illustrated Transformer TRANSFORMERS FROM SCRATCH Seq2seq pay Attention to Self Attention: Part 2 ","date":"2023-07-24","objectID":"/posts/transformerdetailedexplanation/:1:8","tags":["draft"],"title":"Transformer è¯¦è§£","uri":"/posts/transformerdetailedexplanation/"},{"categories":["draft"],"content":"å‡½æ•°å£°æ˜çš„å‡ ç§æ–¹å¼ å£°æ˜ä¸€ä¸ªå‡½æ•°få¸¦æœ‰ä¸€ä¸ªdoubleè€Œä¸”è¿”å›ä¸€ä¸ªintï¼š int f(double d); åä¸ºdçš„å‚æ•°å·¦å³çš„æ‹¬å·æ˜¯å¤šä½™çš„ï¼Œè¢«å¿½ç•¥ï¼š int f(double (d)); // åŒä¸Šï¼›då·¦å³çš„æ‹¬å·è¢«å¿½ç•¥ çœç•¥äº†å‚æ•°åï¼š int f(double); // åŒä¸Šï¼›å‚æ•°åè¢«çœç•¥ ç¬¬ä¸€ä¸ªå£°æ˜äº†ä¸€ä¸ªå‡½æ•°gï¼Œå®ƒå¸¦æœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¸ªå‚æ•°æ˜¯æŒ‡å‘ä¸€ä¸ªæ²¡æœ‰å‚æ•°ã€è¿”å›doubleçš„å‡½æ•°çš„æŒ‡é’ˆï¼š int g(double (*pf)()); // gå¸¦æœ‰ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆä½œä¸ºå‚æ•° å”¯ä¸€çš„ä¸åŒæ˜¯pfä½¿ç”¨éæŒ‡é’ˆè¯­æ³•æ¥å£°æ˜(ä¸€ä¸ªåœ¨Cå’ŒC++ä¸­éƒ½æœ‰æ•ˆçš„è¯­æ³•): int g(double pf()); // åŒä¸Šï¼›pfå…¶å®æ˜¯ä¸€ä¸ªæŒ‡é’ˆ ç…§å¸¸ï¼Œå‚æ•°åå¯ä»¥çœç•¥ï¼Œæ‰€ä»¥è¿™æ˜¯gçš„ç¬¬ä¸‰ç§å£°æ˜ï¼Œå»æ‰äº†pfè¿™ä¸ªåå­—ï¼š int g(double ()); // åŒä¸Šï¼›å‚æ•°åçœç•¥ æ³¨æ„å‚æ•°åå·¦å³çš„æ‹¬å·ï¼ˆå°±åƒfçš„ç¬¬äºŒç§å£°æ˜ä¸­çš„dï¼‰å’Œå•ç‹¬çš„æ‹¬å·ï¼ˆæ­£å¦‚æœ¬ä¾‹ï¼‰ä¹‹é—´çš„åŒºåˆ«ã€‚ å‚æ•°åå·¦å³çš„æ‹¬å·è¢«å¿½ç•¥ï¼Œä½†å•ç‹¬çš„æ‹¬å·æŒ‡å‡ºå­˜åœ¨ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼šå®ƒä»¬å£°æ˜äº†å­˜åœ¨æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆçš„å‚æ•°ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_6/:1:0","tags":["draft"],"title":"Effective STL [6] | è­¦æƒ•C++æœ€ä»¤äººæ¼æ€’çš„è§£æ","uri":"/posts/clause_6/"},{"categories":["draft"],"content":"é—®é¢˜æ¢è®¨ å‡è®¾æœ‰ä¸€ä¸ªintçš„æ–‡ä»¶ï¼Œæƒ³è¦æŠŠé‚£äº›intæ‹·è´åˆ°ä¸€ä¸ªlistä¸­ï¼Œå¯èƒ½ä¼šä½¿ç”¨ä¸‹é¢ä»£ç ï¼š ifstream dataFile(\"ints.dat\"); // è­¦å‘Šï¼è¿™å®Œæˆçš„å¹¶ä¸æ˜¯åƒä½ æƒ³è±¡çš„é‚£æ · list\u003cint\u003e data(istream_iterator\u003cint\u003e(dataFile), istream_iterator\u003cint\u003e()); è¿™é‡Œçš„æƒ³æ³•æ˜¯ä¼ ä¸€å¯¹istream_iteratorç»™listçš„åŒºé—´æ„é€ å‡½æ•°ï¼Œå› æ­¤æŠŠintä»æ–‡ä»¶æ‹·è´åˆ°listä¸­ã€‚ è¿™æ®µä»£ç å¯ä»¥ç¼–è¯‘ï¼Œä½†æ˜¯è¿è¡Œæ—¶ä»€ä¹ˆéƒ½ä¸ä¼šåšï¼Œä¸ä¼šä»æ–‡ä»¶ä¸­è¯»å‡ºä»»ä½•æ•°æ®ï¼Œç”šè‡³ä¸ä¼šæ„å»º1ä¸ªlistã€‚ ç¬¬äºŒå¥å¹¶ä¸å£°æ˜listï¼Œä¹Ÿä¸è°ƒç”¨æ„é€ å‡½æ•°ã€‚ è¿™å£°æ˜äº†ä¸€ä¸ªå‡½æ•°dataï¼Œå®ƒçš„è¿”å›ç±»å‹æ˜¯list\u003cint\u003eã€‚è¿™ä¸ªå‡½æ•°dataå¸¦æœ‰ä¸¤ä¸ªå‚æ•°ï¼š â— ç¬¬1ä¸ªå‚æ•°å«åšdataFileã€‚å®ƒçš„ç±»å‹æ˜¯istream_iterator\u003cint\u003eã€‚dataFileå·¦å³çš„æ‹¬å·æ˜¯å¤šä½™çš„è€Œä¸”è¢«å¿½ç•¥ã€‚ â— ç¬¬2ä¸ªå‚æ•°æ²¡æœ‰åå­—ã€‚å®ƒçš„ç±»å‹æ˜¯æŒ‡å‘ä¸€ä¸ªæ²¡æœ‰å‚æ•°è€Œä¸”è¿”å›istream_iterator\u003cint\u003eçš„å‡½æ•°çš„æŒ‡é’ˆã€‚ å°±åƒä¸‹é¢å…·æœ‰è¿™æ¡è§„åˆ™çš„ä»£ç ï¼š class Widget {...}; // å‡è®¾Widgetæœ‰é»˜è®¤æ„é€ å‡½æ•° Widget w(); è¿™å¹¶æ²¡æœ‰å£°æ˜ä¸€ä¸ªå«åšwçš„Widgetï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªå«ä½œwçš„æ²¡æœ‰å‚æ•°ä¸”è¿”å›Widgetçš„å‡½æ•°ã€‚ æœ¬æ¥ä»£ç çš„åˆè¡·ï¼Œæ˜¯ç”¨ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹æ¥åˆå§‹åŒ–ä¸€ä¸ªlist\u003cint\u003eå¯¹è±¡ï¼Œç°åœ¨å¹¶æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬çš„æœŸæœ›ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_6/:2:0","tags":["draft"],"title":"Effective STL [6] | è­¦æƒ•C++æœ€ä»¤äººæ¼æ€’çš„è§£æ","uri":"/posts/clause_6/"},{"categories":["draft"],"content":"è§£å†³åŠæ³• å‡½æ•°è°ƒç”¨å‰åå¢åŠ æ‹¬å· ç”¨æ‹¬å·åŒ…å›´ä¸€ä¸ªå®å‚çš„å£°æ˜æ˜¯ä¸åˆæ³•çš„ï¼Œä½†ç”¨æ‹¬å·åŒ…å›´ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„è§‚ç‚¹æ˜¯åˆæ³•çš„ï¼Œæ‰€ä»¥é€šè¿‡å¢åŠ ä¸€å¯¹æ‹¬å·ï¼Œä»£ç å˜ä¸ºï¼š list\u003cint\u003e data((istream_iterator\u003cint\u003e(dataFile)), // æ³¨æ„åœ¨listæ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå®å‚å·¦å³çš„æ–°æ‹¬å· istream_iterator\u003cint\u003e()); è¿™æ˜¯å¯èƒ½çš„å£°æ˜æ•°æ®æ–¹æ³•ï¼Œç»™äºˆistream_iteratorsçš„å®ç”¨æ€§å’ŒåŒºé—´æ„é€ å‡½æ•°ã€‚ å‘½åè¿­ä»£å™¨å¯¹è±¡ ifstream dataFile(\"ints.dat\"); istream_iterator\u003cint\u003e dataBegin(dataFile); istream_iterator\u003cint\u003e dataEnd; list\u003cint\u003e data(dataBegin, dataEnd); å‘½åè¿­ä»£å™¨å¯¹è±¡çš„ä½¿ç”¨å’Œæ™®é€šçš„STLç¼–ç¨‹é£æ ¼ç›¸åï¼Œä½†æ˜¯ä½ å¾—åˆ¤æ–­è¿™ç§æ–¹æ³•å¯¹ç¼–è¯‘å™¨å’Œå¿…é¡»ä½¿ç”¨ç¼–è¯‘å™¨çš„äººéƒ½æ¨¡æ£±ä¸¤å¯çš„ä»£ç æ˜¯ä¸€ä¸ªå€¼å¾—ä»˜å‡ºçš„ä»£ä»·ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_6/:3:0","tags":["draft"],"title":"Effective STL [6] | è­¦æƒ•C++æœ€ä»¤äººæ¼æ€’çš„è§£æ","uri":"/posts/clause_6/"},{"categories":["draft"],"content":" ref: [1]. https://mp.weixin.qq.com/s?__biz=MzUyMDc2MDMxNg==\u0026mid=2247490705\u0026idx=1\u0026sn=830797e69b61fe9693bf4aaea72df4b3\u0026chksm=f9e42202ce93ab1437ad36c37e141b0794328495c0c584d808d0f4ad36251680dbfba257b060\u0026cur_album_id=3009999611861975043\u0026scene=189#wechat_redirect ","date":"2023-07-24","objectID":"/posts/clause_5/:0:0","tags":["draft"],"title":"Effective STL [5] | å°½é‡ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°ä»£æ›¿å®ƒä»¬çš„å•å…ƒç´ å…„å¼Ÿ","uri":"/posts/clause_5/"},{"categories":["draft"],"content":"Example Qï¼šç»™å®šä¸¤ä¸ªvectorï¼Œv1å’Œv2ï¼Œä½¿v1çš„å†…å®¹å’Œv2çš„ååŠéƒ¨åˆ†ä¸€æ ·çš„æœ€ç®€å•æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ Aï¼š v1.assign(v2.begin() + v2.size() / 2, v2.end()); è¿™ä¸ªæµ‹éªŒè®¾è®¡ä¸ºåšä¸¤ä»¶äº‹: å®ƒæä¾›ç»™æˆ‘ä¸€ä¸ªæœºä¼šæ¥æé†’ä½ assignæˆå‘˜å‡½æ•°çš„å­˜åœ¨ å¤ªå¤šçš„ç¨‹åºå‘˜æ²¡æ³¨æ„åˆ°è¿™æ˜¯ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„æ–¹æ³•ã€‚å®ƒå¯¹äºæ‰€æœ‰æ ‡å‡†åºåˆ—å®¹å™¨ï¼ˆvectorï¼Œstringï¼Œdequeå’Œlistï¼‰éƒ½æœ‰æ•ˆã€‚ æ— è®ºä½•æ—¶ä½ å¿…é¡»å®Œå…¨ä»£æ›¿ä¸€ä¸ªå®¹å™¨çš„å†…å®¹ï¼Œä½ å°±åº”è¯¥æƒ³åˆ°èµ‹å€¼ã€‚ å¦‚æœä½ åªæ˜¯æ‹·è´ä¸€ä¸ªå®¹å™¨åˆ°å¦ä¸€ä¸ªåŒç±»å‹çš„å®¹å™¨ï¼Œoperator=å°±æ˜¯é€‰æ‹©çš„èµ‹å€¼å‡½æ•°ï¼Œä½†å¯¹äºç¤ºèŒƒçš„é‚£ä¸ªä¾‹å­ï¼Œå½“ä½ æƒ³è¦ç»™ä¸€ä¸ªå®¹å™¨å®Œå…¨çš„æ–°æ•°æ®é›†æ—¶ï¼Œassignå°±å¯ä»¥åˆ©ç”¨ï¼Œä½†operator=åšä¸äº†ã€‚ æ¼”ç¤ºä¸ºä»€ä¹ˆåŒºé—´æˆå‘˜å‡½æ•°ä¼˜å…ˆäºå®ƒä»¬çš„å•å…ƒç´ æ›¿ä»£å“ã€‚ åŒºé—´æˆå‘˜å‡½æ•°æ˜¯ä¸€ä¸ªåƒSTLç®—æ³•çš„æˆå‘˜å‡½æ•°ï¼Œä½¿ç”¨ä¸¤ä¸ªè¿­ä»£å™¨å‚æ•°æ¥æŒ‡å®šå…ƒç´ çš„ä¸€ä¸ªåŒºé—´æ¥è¿›è¡ŒæŸä¸ªæ“ä½œã€‚ ä¸ç”¨åŒºé—´æˆå‘˜å‡½æ•°æ¥è§£å†³è¿™ä¸ªæ¡æ¬¾å¼€å¤´çš„é—®é¢˜ï¼Œä½ å°±å¿…é¡»å†™ä¸€ä¸ªæ˜¾å¼å¾ªç¯ï¼Œå¯èƒ½å°±åƒè¿™æ ·: vector\u003cRandy\u003e v1, v2; // å‡è®¾v1å’Œv2æ˜¯Randyçš„vector v1.clear(); for (vector\u003cRandy\u003e::const_iterator ci = v2.begin() + v2.size() / 2; ci != v2.end(); ++ci) { v1.push_back(*ci); } å†™è¿™æ®µä»£ç æ¯”å†™assignçš„è°ƒç”¨è¦åšå¤šå¾—å¤šçš„å·¥ä½œã€‚ copy æ›¿ä»£å¾ªç¯ v1.clear(); copy(v2.begin() + v2.size() / 2, v2.end(), back_inserter(v1)) è™½ç„¶åœ¨è¿™æ®µä»£ç ä¸­æ²¡æœ‰è¡¨ç°å‡ºå¾ªç¯ï¼Œåœ¨copyä¸­çš„ç¡®å­˜åœ¨ä¸€ä¸ªå¾ªç¯ ã€‚ æ•ˆç‡æŸå¤±ä»ç„¶å­˜åœ¨ã€‚ å‡ ä¹æ‰€æœ‰ç›®æ ‡åŒºé—´æ˜¯é€šè¿‡æ’å…¥è¿­ä»£å™¨ï¼ˆæ¯”å¦‚ï¼Œé€šè¿‡inserterï¼Œback_inserteræˆ–front_inserterï¼‰æŒ‡å®šçš„copyçš„ä½¿ç”¨éƒ½å¯ä»¥â€”â€”åº”è¯¥â€”â€”é€šè¿‡è°ƒç”¨åŒºé—´ æˆå‘˜å‡½æ•°æ¥ä»£æ›¿ã€‚ æ¯”å¦‚è¿™é‡Œï¼Œè¿™ä¸ªcopyçš„è°ƒç”¨å¯ä»¥ç”¨ä¸€ä¸ªinsertçš„åŒºé—´ç‰ˆæœ¬ä»£æ›¿ï¼š v1.insert(v1.end(), v2.begin() + v2.size() / 2, v2.end()); è¿™ä¸ªè¾“å…¥é‡ç¨å¾®æ¯”è°ƒç”¨copyå°‘ï¼Œä½†å®ƒå‘ç”Ÿçš„ä¹Ÿæ¯”è¯´çš„è¦ç›´æ¥ï¼šæ•°æ®æ’å…¥v1ã€‚ è¿™é‡Œinsert ä¹Ÿæ¯” copy å¥½ï¼Œå› ä¸ºå­—é¢ä¸Šinsert è¡¨ç¤ºæœ‰æ•°æ®æ’å…¥åˆ°äº† v1ä¸­ï¼Œè€Œcopy çš„ä½¿ç”¨æŠŠå®ƒå˜å¾—æ™¦æ¶©ã€‚ å…³äºä¸œè¥¿è¢«æ‹·è´è¿™ä¸ªäº‹å®å¹¶æ²¡æœ‰ä»€ä¹ˆå¥½å…³æ³¨çš„ï¼Œå› ä¸ºSTLæ„å»ºåœ¨ä¸œè¥¿ä¼šè¢«æ‹·è´çš„å‡å®šä¸Šã€‚æ‹·è´å¯¹STLæ¥è¯´å¾ˆåŸºæœ¬ã€‚ å°ç»“ æˆ‘ä»¬å·²ç»ç¡®å®š3ä¸ªå°½é‡ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°ä»£æ›¿å®ƒä»¬çš„å•å…ƒç´ å…„å¼Ÿçš„ç†ç”±ã€‚ â— ä¸€èˆ¬æ¥è¯´ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°å¯ä»¥è¾“å…¥æ›´å°‘çš„ä»£ç ã€‚ â— åŒºé—´æˆå‘˜å‡½æ•°ä¼šå¯¼è‡´ä»£ç æ›´æ¸…æ™°æ›´ç›´æ¥äº†å½“ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_5/:1:0","tags":["draft"],"title":"Effective STL [5] | å°½é‡ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°ä»£æ›¿å®ƒä»¬çš„å•å…ƒç´ å…„å¼Ÿ","uri":"/posts/clause_5/"},{"categories":["draft"],"content":"æ•ˆç‡ å½“å¤„ç†æ ‡å‡†åºåˆ—å®¹å™¨æ—¶ï¼Œåº”ç”¨å•å…ƒç´ æˆå‘˜å‡½æ•°æ¯”å®ŒæˆåŒæ ·ç›®çš„çš„åŒºé—´æˆå‘˜å‡½æ•°éœ€è¦æ›´å¤šåœ°å†…å­˜åˆ†é…ï¼Œæ›´é¢‘ç¹åœ°æ‹·è´å¯¹è±¡ï¼Œè€Œä¸”/æˆ–è€…é€ æˆå¤šä½™æ“ä½œã€‚ å¯¹æ­¤ï¼Œæˆ‘ä¹‹å‰è¿˜åšäº†ä¸ªå•å…ƒç´ å…„å¼Ÿæ’å…¥å’Œæ‰¹é‡æ’å…¥çš„æ•ˆç‡æ¯”è¾ƒçš„æ–‡ç« ã€Švector ç”¨ insert æ‰¹é‡æ’å…¥æ•ˆç‡é«˜è¿˜æ˜¯emplace_backæ•ˆç‡é«˜ã€‹ï¼Œä¹Ÿè¯å®äº†è¿™ä¸ªè§‚ç‚¹ã€‚ æ ‡å‡†è¦æ±‚åŒºé—´insertå‡½æ•°ç›´æ¥æŠŠç°æœ‰å…ƒç´ ç§»åŠ¨åˆ°å®ƒä»¬æœ€åçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ï¼Œå¼€é”€æ˜¯æ¯ä¸ªå…ƒç´ ä¸€æ¬¡ç§»åŠ¨ã€‚æ€»å…±å¼€é”€æ˜¯næ¬¡ç§»åŠ¨ï¼ŒnumValuesæ¬¡å®¹å™¨ä¸­çš„å¯¹è±¡ç±»å‹çš„æ‹·è´æ„é€ å‡½æ•°ï¼Œå‰©ä¸‹çš„æ˜¯ç±»å‹çš„èµ‹å€¼æ“ä½œç¬¦ã€‚ ç›¸æ¯”å•å…ƒç´ æ’å…¥ç­–ç•¥ï¼ŒåŒºé—´insertå°‘æ‰§è¡Œäº†n*(numValues-1)æ¬¡ç§»åŠ¨ã€‚ èŠ±ä¸€åˆ†é’Ÿæƒ³æƒ³ã€‚è¿™æ„å‘³ç€å¦‚æœnumValuesæ˜¯100ï¼Œinsertçš„åŒºé—´å½¢å¼ä¼šæ¯”é‡å¤è°ƒç”¨insertçš„å•å…ƒç´ å½¢å¼çš„ä»£ç å°‘èŠ±è´¹99%çš„ç§»åŠ¨ï¼ ä»…å½“å¯ä»¥ä¸ç”¨å¤±å»ä¸¤ä¸ªè¿­ä»£å™¨çš„ä½ç½®å°±èƒ½å†³å®šå®ƒä»¬ä¹‹é—´çš„è·ç¦»æ—¶ï¼Œä¸€ä¸ªåŒºé—´insertå‡½æ•°æ‰èƒ½åœ¨ä¸€æ¬¡ç§»åŠ¨ä¸­æŠŠä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°å®ƒçš„æœ€ç»ˆä½ç½®ã€‚ è¿™å‡ ä¹æ€»æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºæ‰€æœ‰å‰å‘è¿­ä»£å™¨æä¾›äº†è¿™ä¸ªåŠŸèƒ½ï¼Œè€Œä¸”å‰å‘è¿­ä»£å™¨å‡ ä¹åˆ°å¤„éƒ½æ˜¯ã€‚ æ‰€æœ‰ç”¨äºæ ‡å‡†å®¹å™¨çš„è¿­ä»£å™¨éƒ½æä¾›äº†å‰å‘è¿­ä»£å™¨çš„åŠŸèƒ½ã€‚éæ ‡å‡†çš„æ•£åˆ—å®¹å™¨çš„è¿­ä»£å™¨ä¹Ÿæ˜¯ã€‚ åœ¨æ•°ç»„ä¸­è¡¨ç°ä¸ºè¿­ä»£å™¨çš„æŒ‡é’ˆä¹Ÿæä¾›äº†è¿™æ ·çš„åŠŸèƒ½ã€‚äº‹å®ä¸Šï¼Œå”¯ä¸€ä¸æä¾›å‰å‘è¿­ä»£å™¨èƒ½åŠ›çš„æ ‡å‡†è¿­ä»£å™¨æ˜¯è¾“å…¥å’Œè¾“å‡ºè¿­ä»£å™¨ã€‚ å•å…ƒç´ æ’å…¥çš„é—®é¢˜ å½“ä½ è¯•å›¾å»æŠŠä¸€ä¸ªå…ƒç´ æ’å…¥å†…å­˜å·²ç»æ»¡äº†çš„vectoræ—¶ï¼Œè¿™ä¸ªvectorä¼šåˆ†é…å…·æœ‰æ›´å¤šå®¹é‡çš„æ–°å†…å­˜ï¼Œä»æ—§å†…å­˜æŠŠå®ƒçš„å…ƒç´ æ‹·è´åˆ°æ–°å†…å­˜ï¼Œé”€æ¯æ—§å†…å­˜é‡Œçš„å…ƒç´ ï¼Œå›æ”¶æ—§å†…å­˜ã€‚ç„¶åå®ƒæ·»åŠ æ’å…¥çš„å…ƒç´ ã€‚ æ¯å½“ç”¨å®Œå†…å­˜æ—¶ï¼Œå¤§éƒ¨åˆ†vectorå®ç°éƒ½ä½¿å®ƒä»¬çš„å®¹é‡ç¿»å€ï¼Œæ‰€ä»¥æ’å…¥numValuesä¸ªæ–°å…ƒç´ ä¼šå¯¼è‡´æœ€å¤š$\\log_2{numValues}$æ¬¡æ–°å†…å­˜çš„åˆ†é…ã€‚ æ¯æ¬¡ä¸€ä¸ªåœ°æ’å…¥1000ä¸ªå…ƒç´ ä¼šå¯¼è‡´10æ¬¡æ–°çš„åˆ†é…ï¼ˆåŒ…æ‹¬å®ƒä»¬è´Ÿè´£çš„å…ƒç´ æ‹·è´ï¼‰ã€‚ ä¸ä¹‹å¯¹æ¯”çš„æ˜¯ï¼Œä¸€ä¸ªåŒºé—´æ’å…¥å¯ä»¥åœ¨å¼€å§‹æ’å…¥ä¸œè¥¿å‰è®¡ç®—å‡ºéœ€è¦å¤šå°‘æ–°å†…å­˜ï¼ˆå‡è®¾ç»™çš„æ˜¯å‰å‘è¿­ä»£å™¨ï¼‰ï¼Œæ‰€ä»¥å®ƒä¸ç”¨å¤šäºä¸€æ¬¡åœ°é‡æ–°åˆ†é…vectorçš„å†…åœ¨å†…å­˜ã€‚ åˆšæ‰è¿›è¡Œåˆ†ææ˜¯ç”¨äºvectorçš„ï¼Œä½†åŒæ ·çš„ç†ç”±ä¹Ÿä½œç”¨äºstringã€‚ deque å¯¹äºdequeï¼Œç†ç”±ä¹Ÿå¾ˆç›¸ä¼¼ï¼Œä½†dequeç®¡ç†å®ƒä»¬å†…å­˜çš„æ–¹å¼å’Œvectorå’Œstringä¸åŒï¼Œæ‰€ä»¥é‡å¤å†…å­˜åˆ†é…çš„è®ºç‚¹ä¸èƒ½åº”ç”¨ã€‚ ä½†æ˜¯ï¼Œå…³äºå¾ˆå¤šæ¬¡ä¸å¿…è¦çš„å…ƒç´ ç§»åŠ¨çš„è®ºç‚¹é€šå¸¸é€šè¿‡å¯¹å‡½æ•°è°ƒç”¨æ¬¡æ•°çš„è§‚å¯Ÿä¹Ÿåº”ç”¨åˆ°äº†ï¼ˆè™½ç„¶ç»†èŠ‚ä¸åŒï¼‰ã€‚ list åœ¨è¿™é‡Œä½¿ç”¨insertåŒºé—´å½¢å¼ä»£æ›¿å•å…ƒç´ å½¢å¼ä¹Ÿæœ‰ä¸€ä¸ªæ€§èƒ½ä¼˜åŠ¿ã€‚ å…³äºé‡å¤å‡½æ•°è°ƒç”¨çš„è®ºç‚¹å½“ç„¶ç»§ç»­æœ‰æ•ˆï¼Œä½†å› ä¸ºé“¾è¡¨çš„å·¥ä½œæ–¹å¼ï¼Œæ‹·è´å’Œå†…å­˜åˆ†é…é—®é¢˜æ²¡æœ‰å‘ç”Ÿã€‚ å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ–°é—®é¢˜ï¼šè¿‡å¤šé‡å¤åœ°å¯¹listä¸­çš„ä¸€äº›èŠ‚ç‚¹çš„nextå’ŒprevæŒ‡é’ˆèµ‹å€¼ã€‚ æ¯å½“ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°ä¸€ä¸ªé“¾è¡¨æ—¶ï¼ŒæŒæœ‰å…ƒç´ çš„é“¾è¡¨èŠ‚ç‚¹å¿…é¡»æœ‰å®ƒçš„nextå’ŒprevæŒ‡é’ˆé›†ï¼Œè€Œä¸”å½“ç„¶æ–°èŠ‚ç‚¹å‰é¢çš„èŠ‚ç‚¹ï¼ˆæˆ‘ä»¬å«å®ƒBï¼Œå°±æ˜¯â€œbeforeâ€ï¼‰å¿…é¡»è®¾ç½®å®ƒçš„nextæŒ‡é’ˆï¼Œæ–°èŠ‚ç‚¹åé¢çš„èŠ‚ç‚¹ï¼ˆæˆ‘ä»¬å«å®ƒAï¼Œå°±æ˜¯â€œafterâ€ï¼‰å¿…é¡»è®¾ç½®å®ƒçš„prevæŒ‡é’ˆ å½“ä¸€ç³»åˆ—æ–°èŠ‚ç‚¹é€šè¿‡è°ƒç”¨listçš„å•å…ƒç´ insertä¸€ä¸ªæ¥ä¸€ä¸ªæ·»åŠ æ—¶ï¼Œé™¤äº†æœ€åä¸€ä¸ªä»¥å¤–çš„å…¶ä»–æ–°èŠ‚ç‚¹éƒ½ä¼šè®¾ç½®å®ƒçš„nextæŒ‡é’ˆä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æŒ‡å‘Aï¼Œç¬¬äºŒæ¬¡æŒ‡å‘åœ¨å®ƒåé¢æ’å…¥çš„å…ƒç´ ã€‚æ¯æ¬¡åœ¨Aå‰é¢æ’å…¥æ—¶ï¼Œå®ƒéƒ½ä¼šè®¾ç½®å®ƒçš„prevæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ–°èŠ‚ç‚¹ã€‚ å¦‚æœnumValuesä¸ªèŠ‚ç‚¹æ’å…¥Aå‰é¢ï¼Œæ’å…¥èŠ‚ç‚¹çš„nextæŒ‡é’ˆä¼šå‘ç”Ÿæ¬¡å¤šä½™çš„èµ‹å€¼ï¼Œè€Œä¸”Açš„prevæŒ‡é’ˆä¼šå‘ç”ŸnumValues-1æ¬¡å¤šä½™çš„èµ‹å€¼ã€‚åˆè®¡æ¬¡æ²¡æœ‰å¿…è¦çš„æŒ‡é’ˆèµ‹å€¼ã€‚å½“ç„¶ï¼ŒæŒ‡é’ˆèµ‹å€¼å¾ˆè½»é‡ï¼Œä½†å¦‚æœä¸æ˜¯å¿…é¡»ï¼Œä¸ºä»€ä¹ˆè¦ä¸ºå®ƒä»¬èŠ±è´¹å‘¢ï¼Ÿ **é¿å…å¼€é”€çš„å…³é”®æ˜¯ä½¿ç”¨listçš„insertåŒºé—´å½¢å¼ã€‚**å› ä¸ºé‚£ä¸ªå‡½æ•°çŸ¥é“æœ€åæœ‰å¤šå°‘èŠ‚ç‚¹ä¼šè¢«æ’å…¥ï¼Œå®ƒå¯ä»¥é¿å…å¤šä½™çš„æŒ‡é’ˆèµ‹å€¼ï¼Œå¯¹æ¯ä¸ªæŒ‡é’ˆåªä½¿ç”¨ä¸€æ¬¡èµ‹å€¼å°±èƒ½è®¾ç½®å®ƒæ­£ç¡®çš„æ’å…¥åçš„å€¼ ","date":"2023-07-24","objectID":"/posts/clause_5/:2:0","tags":["draft"],"title":"Effective STL [5] | å°½é‡ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°ä»£æ›¿å®ƒä»¬çš„å•å…ƒç´ å…„å¼Ÿ","uri":"/posts/clause_5/"},{"categories":["draft"],"content":"åŒºé—´å‡½æ•° å‚æ•°ç±»å‹iteratoræ„æ€æ˜¯å®¹å™¨çš„è¿­ä»£å™¨ç±»å‹ï¼Œä¹Ÿå°±æ˜¯container::iteratorã€‚ å‚æ•°ç±»å‹InputIteratoræ„æ€æ˜¯å¯ä»¥æ¥å—ä»»ä½•è¾“å…¥è¿­ä»£å™¨ã€‚ åŒºé—´æ„é€  æ‰€æœ‰æ ‡å‡†å®¹å™¨éƒ½æä¾›è¿™ç§å½¢å¼çš„æ„é€ å‡½æ•°ï¼š container::container(InputIterator begin, // åŒºé—´çš„èµ·ç‚¹ InputIterator end); // åŒºé—´çš„ç»ˆç‚¹ å¦‚æœä¼ ç»™è¿™ä¸ªæ„é€ å‡½æ•°çš„è¿­ä»£å™¨æ˜¯istream_iteratorsæˆ–istreambuf_iteratorsï¼Œä½ å¯èƒ½ä¼šé‡åˆ°C++çš„æœ€æƒŠå¼‚çš„è§£æï¼ŒåŸå› ä¹‹ä¸€æ˜¯ä½ çš„ç¼–è¯‘å™¨å¯èƒ½ä¼šå› ä¸ºæŠŠè¿™ä¸ªæ„é€ çœ‹ä½œä¸€ä¸ªå‡½æ•°å£°æ˜è€Œä¸æ˜¯ä¸€ä¸ªæ–°å®¹å™¨å¯¹è±¡çš„å®šä¹‰è€Œä¸­æ–­ã€‚ åŒºé—´æ’å…¥ æ‰€æœ‰æ ‡å‡†åºåˆ—å®¹å™¨éƒ½æä¾›è¿™ç§å½¢å¼çš„insert: void container::insert(iterator position, // åŒºé—´æ’å…¥çš„ä½ç½® InputIterator begin, // æ’å…¥åŒºé—´çš„èµ·ç‚¹ InputIterator end); // æ’å…¥åŒºé—´çš„ç»ˆç‚¹ å…³è”å®¹å™¨ä½¿ç”¨å®ƒä»¬çš„æ¯”è¾ƒå‡½æ•°æ¥å†³å®šå…ƒç´ è¦æ”¾åœ¨å“ªé‡Œï¼Œæ‰€ä»¥å®ƒä»¬äº†çœç•¥positionå‚æ•°ã€‚ void container::insert(lnputIterator begin, InputIterator end); å½“å¯»æ‰¾ç”¨åŒºé—´ç‰ˆæœ¬ä»£æ›¿å•å…ƒç´ æ’å…¥çš„æ–¹æ³•æ—¶ï¼Œä¸è¦å¿˜è®°æœ‰äº›å•å…ƒç´ å˜é‡ç”¨é‡‡ç”¨ä¸åŒçš„å‡½æ•°åä¼ªè£…å®ƒä»¬è‡ªå·±ã€‚æ¯”å¦‚ï¼Œpush_frontå’Œpush_backéƒ½æŠŠå•å…ƒç´ æ’å…¥å®¹å™¨ï¼Œå³ä½¿å®ƒä»¬ä¸å«insertã€‚å¦‚æœä½ çœ‹è§ä¸€ä¸ªå¾ªç¯è°ƒç”¨push_frontæˆ–push_backï¼Œæˆ–å¦‚æœä½ çœ‹è§ä¸€ä¸ªç®—æ³•â€”â€”æ¯”å¦‚copyâ€”â€”çš„å‚æ•°æ˜¯front_inserteræˆ–è€…back_inserterï¼Œä½ å°±å‘ç°äº†ä¸€ä¸ªinsertçš„åŒºé—´å½¢å¼åº”è¯¥ä½œä¸ºä¼˜å…ˆç­–ç•¥çš„åœ°æ–¹ã€‚ åŒºé—´åˆ é™¤ æ¯ä¸ªæ ‡å‡†å®¹å™¨éƒ½æä¾›äº†ä¸€ä¸ªåŒºé—´å½¢å¼çš„eraseï¼Œä½†æ˜¯åºåˆ—å’Œå…³è”å®¹å™¨çš„è¿”å›ç±»å‹ä¸åŒã€‚ åºåˆ—å®¹å™¨æä¾›äº†è¿™ä¸ªï¼š iterator container::erase(iterator begin, iterator end); å…³è”å®¹å™¨æä¾›è¿™ä¸ª: void container::erase(iterator begin, iterator end); Qï¼šä¸ºä»€ä¹ˆä¸åŒï¼Ÿ Aï¼šè§£é‡Šæ˜¯ï¼Œå¦‚æœeraseçš„å…³è”å®¹å™¨ç‰ˆæœ¬è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆè¢«åˆ é™¤çš„é‚£ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªï¼‰ä¼šæ‹›è‡´ä¸€ä¸ªæ— æ³•æ¥å—çš„æ€§èƒ½ä¸‹é™ã€‚ è¿™ä¸ªæ¡æ¬¾çš„å¯¹insertçš„æ€§èƒ½åˆ†æå¤§éƒ¨åˆ†ä¹ŸåŒæ ·å¯ä»¥ç”¨äºeraseã€‚å•å…ƒç´ åˆ é™¤çš„å‡½æ•°è°ƒç”¨æ¬¡æ•°ä»ç„¶å¤§äºä¸€æ¬¡è°ƒç”¨åŒºé—´åˆ é™¤ã€‚å½“ä½¿ç”¨å•å…ƒç´ åˆ é™¤æ—¶ï¼Œæ¯ä¸€æ¬¡å…ƒç´ å€¼ä»ç„¶å¿…é¡»å‘å®ƒä»¬çš„ç›®çš„åœ°ç§»åŠ¨ä¸€ä½ï¼Œè€ŒåŒºé—´åˆ é™¤å¯ä»¥åœ¨ä¸€ä¸ªå•ç‹¬çš„ç§»åŠ¨ä¸­æŠŠå®ƒä»¬ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®ã€‚ å…³äºvectorå’Œstringçš„æ’å…¥å’Œåˆ é™¤çš„ä¸€ä¸ªè®ºç‚¹æ˜¯å¿…é¡»åšå¾ˆå¤šé‡å¤çš„åˆ†é…ã€‚ï¼ˆå½“ç„¶å¯¹äºåˆ é™¤ï¼Œä¼šå‘ç”Ÿé‡å¤çš„å›æ”¶ã€‚ï¼‰é‚£æ˜¯å› ä¸ºç”¨äºvectorå’Œstringçš„å†…å­˜è‡ªåŠ¨å¢é•¿æ¥é€‚åº”äºæ–°å…ƒç´ ï¼Œä½†å½“å…ƒç´ çš„æ•°ç›®å‡å°‘æ—¶å®ƒä¸è‡ªåŠ¨æ”¶ç¼©ã€‚ åŒºé—´èµ‹å€¼ æ‰€æœ‰æ ‡å‡†åˆ—å®¹å™¨éƒ½æä¾›äº†åŒºé—´å½¢å¼çš„assign: void container::assign(InputIterator begin, InputIterator end); ","date":"2023-07-24","objectID":"/posts/clause_5/:3:0","tags":["draft"],"title":"Effective STL [5] | å°½é‡ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°ä»£æ›¿å®ƒä»¬çš„å•å…ƒç´ å…„å¼Ÿ","uri":"/posts/clause_5/"},{"categories":["draft"],"content":"ç»“è®º å‡ ä¹æ‰€æœ‰ç›®æ ‡åŒºé—´è¢«æ’å…¥è¿­ä»£å™¨æŒ‡å®šçš„copyçš„ä½¿ç”¨éƒ½å¯ä»¥ç”¨è°ƒç”¨çš„åŒºé—´æˆå‘˜å‡½æ•°çš„æ¥ä»£æ›¿ ã€‚ å°½é‡ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°æ¥ä»£æ›¿å•å…ƒç´ å…„å¼Ÿçš„ä¸‰ä¸ªå¯é çš„è®ºç‚¹ã€‚åŒºé—´æˆå‘˜å‡½æ•°æ›´å®¹æ˜“å†™ï¼Œå®ƒä»¬æ›´æ¸…æ¥šåœ°è¡¨è¾¾ä½ çš„æ„å›¾ï¼Œè€Œä¸”å®ƒä»¬æä¾›äº†æ›´é«˜çš„æ€§èƒ½ã€‚é‚£æ˜¯å¾ˆéš¾æ‰“è´¥çš„ä¸‰é©¾é©¬è½¦ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_5/:4:0","tags":["draft"],"title":"Effective STL [5] | å°½é‡ä½¿ç”¨åŒºé—´æˆå‘˜å‡½æ•°ä»£æ›¿å®ƒä»¬çš„å•å…ƒç´ å…„å¼Ÿ","uri":"/posts/clause_5/"},{"categories":["C++"],"content":"æ‹·è´å¯¹è±¡æ˜¯STLçš„æ–¹å¼ å½“ä¸€ä¸ªå¯¹è±¡è¿›å…¥ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒå·²ç»ä¸æ˜¯ä½ æ·»åŠ ï¼ˆinsertæˆ–push_backç­‰ï¼‰çš„é‚£ä¸ªå¯¹è±¡äº†ï¼Œè¿›å…¥å®¹å™¨çš„æ˜¯ä½ æŒ‡å®šçš„å¯¹è±¡çš„æ‹·è´ï¼› å½“ä»å®¹å™¨ä¸­å–å‡ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ‰€å¾—åˆ°çš„ä¹Ÿä¸æ˜¯å®¹å™¨é‡Œçš„å¯¹è±¡ï¼› å¦‚æœä»vectorã€stringæˆ–dequeä¸­æ’å…¥æˆ–åˆ é™¤äº†ä»€ä¹ˆï¼Œç°æœ‰çš„å®¹å™¨å…ƒç´ ä¼šç§»åŠ¨ï¼ˆæ‹·è´ï¼‰ å¦‚æœä½¿ç”¨äº†ä»»ä½•æ’åºç®—æ³•ï¼šnext_permutationæˆ–è€…previous_permutationï¼› removeã€uniqueæˆ–å®ƒä»¬çš„åŒç±»ï¼› rotateæˆ–reverseç­‰ï¼Œå¯¹è±¡ä¼šç§»åŠ¨ï¼ˆæ‹·è´ï¼‰ æ‹·è¿›å»ï¼Œæ‹·å‡ºæ¥ã€‚è¿™å°±æ˜¯STLçš„æ–¹å¼. å› ä¸ºæ‹·è´ï¼Œè¿˜è§£å†³äº†ä¸€ä¸ª double free çš„ bugç‚¹å‡»æŸ¥çœ‹ ","date":"2023-07-24","objectID":"/posts/clause_3/:1:0","tags":["STL"],"title":"Effective STL [3] | ä½¿å®¹å™¨é‡Œå¯¹è±¡çš„æ‹·è´æ“ä½œè½»é‡è€Œæ­£ç¡®","uri":"/posts/clause_3/"},{"categories":["C++"],"content":"How Copy? å¦‚ä½•å®Œæˆæ‹·è´ Notice é€šè¿‡æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´å¤åˆ¶æ“ä½œç¬¦å®Œæˆï¼ ä¸€ä¸ªå¯¹è±¡é€šè¿‡ä½¿ç”¨å®ƒçš„æ‹·è´æˆå‘˜å‡½æ•°æ¥æ‹·è´ï¼Œç‰¹åˆ«æ˜¯å®ƒçš„æ‹·è´æ„é€ å‡½æ•°å’Œå®ƒçš„æ‹·è´èµ‹å€¼æ“ä½œç¬¦ã€‚ å¯¹äºç”¨æˆ·è‡ªå®šä¹‰ç±»ï¼Œæ¯”å¦‚Widgetï¼Œè¿™äº›å‡½æ•°ä¼ ç»Ÿä¸Šæ˜¯è¿™ä¹ˆå£°æ˜çš„ï¼š class Widget { public: ... Widget(const Widget\u0026); // æ‹·è´æ„é€ å‡½æ•° Widget\u0026 operator=(const Widget\u0026); // æ‹·è´èµ‹å€¼æ“ä½œç¬¦ ... }; å¦‚æœä½ è‡ªå·±æ²¡æœ‰å£°æ˜è¿™äº›å‡½æ•°ï¼Œä½ çš„ç¼–è¯‘å™¨å§‹ç»ˆä¼šä¸ºä½ å£°æ˜å®ƒä»¬ã€‚ æ‹·è´å†…å»ºç±»å‹ï¼ˆæ¯”å¦‚intã€æŒ‡é’ˆç­‰ï¼‰ä¹Ÿå§‹ç»ˆæ˜¯é€šè¿‡ç®€å•åœ°æ‹·è´ä»–ä»¬çš„å†…åœ¨æ¯”ç‰¹æ¥å®Œæˆçš„ã€‚ï¼ˆè¯·å‚è€ƒã€ŠEffective C++ã€‹ä¸­ï¼Œæ¡æ¬¾11å’Œ27ä¸“æ³¨äºè¿™äº›å‡½æ•°çš„è¡Œä¸ºã€‚ï¼‰ ","date":"2023-07-24","objectID":"/posts/clause_3/:2:0","tags":["STL"],"title":"Effective STL [3] | ä½¿å®¹å™¨é‡Œå¯¹è±¡çš„æ‹·è´æ“ä½œè½»é‡è€Œæ­£ç¡®","uri":"/posts/clause_3/"},{"categories":["C++"],"content":"æ‹·è´å¸¦æ¥çš„é—®é¢˜ æ€§èƒ½ç“¶é¢ˆ æ‹·è´ä¼šå¯¼è‡´æŠŠå¯¹è±¡æ”¾è¿›å®¹å™¨ä¹Ÿä¼šè¢«è¯æ˜ä¸ºæ˜¯ä¸€ä¸ªæ€§èƒ½ç“¶é¢ˆã€‚ å®¹å™¨ä¸­ç§»åŠ¨è¶Šå¤šçš„ä¸œè¥¿ï¼Œä½ å°±ä¼šåœ¨æ‹·è´ä¸Šæµªè´¹è¶Šå¤šçš„å†…å­˜å’Œæ—¶é’Ÿå‘¨æœŸã€‚ åˆ‡ç‰‡åˆ†å‰² å½“ç„¶ç”±äºç»§æ‰¿çš„å­˜åœ¨ï¼Œæ‹·è´ä¼šå¯¼è‡´åˆ†å‰²ã€‚ å¦‚æœä»¥åŸºç±»å¯¹è±¡å»ºç«‹ä¸€ä¸ªå®¹å™¨ï¼Œè€Œä½ è¯•å›¾æ’å…¥æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œé‚£ä¹ˆå½“å¯¹è±¡ï¼ˆé€šè¿‡åŸºç±»çš„æ‹·è´æ„é€ å‡½æ•°ï¼‰æ‹·å…¥å®¹å™¨çš„æ—¶å€™å¯¹è±¡çš„æ´¾ç”Ÿéƒ¨åˆ†ä¼šè¢«åˆ é™¤ï¼š vector\u003cWidget\u003e randy; class SpecialWidget: public Widget {...}; // SpecialWidgetä»ä¸Šé¢çš„Widgetæ´¾ç”Ÿ SpecialWidget sw; randy.push_back(sw); // swè¢«å½“ä½œåŸºç±»å¯¹è±¡æ‹·å…¥randyï¼Œå½“æ‹·è´æ—¶å®ƒçš„ç‰¹æ®Šéƒ¨åˆ†ä¸¢å¤±äº† åˆ†å‰²é—®é¢˜æš—ç¤ºäº†æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æ’å…¥åŸºç±»å¯¹è±¡çš„å®¹å™¨å‡ ä¹æ€»æ˜¯é”™çš„ã€‚ å¦‚æœä½ å¸Œæœ›ç»“æœå¯¹è±¡è¡¨ç°ä¸ºæ´¾ç”Ÿç±»å¯¹è±¡ï¼Œæ¯”å¦‚ï¼Œè°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°ç­‰ï¼Œæ€»æ˜¯é”™çš„ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_3/:3:0","tags":["STL"],"title":"Effective STL [3] | ä½¿å®¹å™¨é‡Œå¯¹è±¡çš„æ‹·è´æ“ä½œè½»é‡è€Œæ­£ç¡®","uri":"/posts/clause_3/"},{"categories":["C++"],"content":"è§£å†³ ä¸€ä¸ªä½¿æ‹·è´æ›´é«˜æ•ˆã€æ­£ç¡®è€Œä¸”å¯¹åˆ†å‰²é—®é¢˜å…ç–«çš„ç®€å•çš„æ–¹å¼æ˜¯å»ºç«‹æŒ‡é’ˆçš„å®¹å™¨è€Œä¸æ˜¯å¯¹è±¡çš„å®¹å™¨ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸æ˜¯å»ºç«‹ä¸€ä¸ªWidgetçš„å®¹å™¨ï¼Œå»ºç«‹ä¸€ä¸ªWidget*çš„å®¹å™¨ã€‚ æ‹·è´æŒ‡é’ˆå¾ˆå¿«ï¼Œå®ƒæ€»æ˜¯ä¸¥å¯†åœ°åšä½ å¸Œæœ›çš„ï¼ˆæŒ‡é’ˆæ‹·è´æ¯”ç‰¹ï¼‰ï¼Œè€Œä¸”å½“æŒ‡é’ˆæ‹·è´æ—¶æ²¡æœ‰åˆ†å‰²ï¼Œå°±æ˜¯intç±»å‹çš„åœ°å€ã€‚ ä½†æ˜¯ä¸€å®šè¦è®°å¾—åœ¨é”€æ¯å®¹å™¨çš„æ—¶å€™ï¼Œä½¿ç”¨delete é”€æ¯é‡Œé¢ä¿å­˜çš„æ¯ä¸ªæŒ‡é’ˆã€‚è€Œä¸”ä¸€å®šè¦å®šä¹‰å¯¹è±¡çš„æ·±æ‹·è´æ„é€ å‡½æ•°å’Œæ·±æ‹·è´æ‹·è´èµ‹å€¼æ“ä½œç¬¦ï¼Œå¦åˆ™delete çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_3/:4:0","tags":["STL"],"title":"Effective STL [3] | ä½¿å®¹å™¨é‡Œå¯¹è±¡çš„æ‹·è´æ“ä½œè½»é‡è€Œæ­£ç¡®","uri":"/posts/clause_3/"},{"categories":["C++"],"content":"å’Œæ•°ç»„å¯¹æ¯”ï¼ŒSTLå®¹å™¨æ›´æ–‡æ˜ STLå®¹å™¨åªå»ºç«‹ï¼ˆé€šè¿‡æ‹·è´ï¼‰ä½ éœ€è¦çš„ä¸ªæ•°çš„å¯¹è±¡ï¼Œè€Œä¸”å®ƒä»¬åªåœ¨ä½ æŒ‡å®šçš„æ—¶å€™åšã€‚ STLè¿›è¡Œäº†å¤§é‡æ‹·è´ï¼Œä½†å®ƒé€šå¸¸è®¾è®¡ä¸ºé¿å…ä¸å¿…è¦çš„å¯¹è±¡æ‹·è´ï¼Œå®é™…ä¸Šï¼Œå®ƒä¹Ÿè¢«å®ç°ä¸ºé¿å…ä¸å¿…è¦çš„å¯¹è±¡æ‹·è´ã€‚ æ•°ç»„åœ¨å£°æ˜çš„æ—¶å€™ï¼Œä¼šé»˜è®¤å…ˆæ„é€ å¥½æ¯ä¸ªå…ƒç´ ï¼›STLå®¹å™¨å¯ä»¥å®ç°åŠ¨æ€æ‰©å±• Widget randy[maxNumWidgets]; // å»ºç«‹ä¸€ä¸ªå¤§å°ä¸ºmaxNumWidgetsçš„Widgetsæ•°ç»„ // é»˜è®¤æ„é€ æ¯ä¸ªå…ƒç´  å³ä½¿åªä½¿ç”¨å…¶ä¸­çš„ä¸€äº›æˆ–è€…æˆ‘ä»¬ç«‹åˆ»ä½¿ç”¨ä»æŸä¸ªåœ°æ–¹è·å–ï¼ˆæ¯”å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶ï¼‰çš„å€¼è¦†ç›–æ¯ä¸ªé»˜è®¤æ„é€ çš„å€¼ï¼Œè¿™ä¹Ÿå¾—æ„é€ maxNumWidgetsä¸ªWidgetå¯¹è±¡ã€‚ ä½¿ç”¨STLæ¥ä»£æ›¿æ•°ç»„ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å¢é•¿çš„vectorï¼Œå°±æ˜¯åŠ¨æ€æ•°ç»„çš„æ¦‚å¿µï¼š vector\u003cWidget\u003e randy; // å»ºç«‹ä¸€ä¸ª0ä¸ªWidgetå¯¹è±¡çš„vector // éœ€è¦çš„æ—¶å€™å¯ä»¥æ‰©å±• å»ºç«‹ä¸€ä¸ªå¯ä»¥è¶³å¤ŸåŒ…å«maxNumWidgetsä¸ªWidgetçš„ç©ºvectorï¼Œä½†ä¸å»æ„é€ Widgetï¼Œéœ€è¦æ—¶å†æ„é€ ï¼š vector\u003cWidget\u003e randy; randy.reserve(maxNumWidgets); // reserveçš„è¯¦ç»†ä¿¡æ¯è¯·å‚è§æ¡æ¬¾14 å³ä¾¿éœ€è¦çŸ¥é“STLå®¹å™¨ä½¿ç”¨äº†æ‹·è´ï¼Œä½†æ˜¯åˆ«å¿˜äº†ä¸€ä¸ªäº‹å®ï¼šæ¯”èµ·æ•°ç»„å®ƒä»¬ä»ç„¶æ˜¯ä¸€ä¸ªè¿›æ­¥ã€‚ ","date":"2023-07-24","objectID":"/posts/clause_3/:5:0","tags":["STL"],"title":"Effective STL [3] | ä½¿å®¹å™¨é‡Œå¯¹è±¡çš„æ‹·è´æ“ä½œè½»é‡è€Œæ­£ç¡®","uri":"/posts/clause_3/"},{"categories":["C++"],"content":"STL å®¹å™¨ç‰¹ç‚¹ STLæ˜¯å»ºç«‹åœ¨æ³›åŒ–ä¹‹ä¸Šçš„ æ•°ç»„æ³›åŒ–ä¸ºå®¹å™¨ï¼Œå‚æ•°åŒ–äº†æ‰€åŒ…å«çš„å¯¹è±¡çš„ç±»å‹ å‡½æ•°æ³›åŒ–ä¸ºç®—æ³•ï¼Œå‚æ•°åŒ–äº†æ‰€ç”¨çš„è¿­ä»£å™¨çš„ç±»å‹ æŒ‡é’ˆæ³›åŒ–ä¸ºè¿­ä»£å™¨ï¼Œå‚æ•°åŒ–äº†æ‰€æŒ‡å‘çš„å¯¹è±¡çš„ç±»å‹ ç‹¬ç«‹çš„å®¹å™¨ç±»å‹æ³›åŒ–ä¸ºåºåˆ—æˆ–å…³è”å®¹å™¨ï¼Œè€Œä¸”ç±»ä¼¼çš„å®¹å™¨æ‹¥æœ‰ç±»ä¼¼çš„åŠŸèƒ½ã€‚ æ ‡å‡†çš„å†…å­˜ç›¸é‚»å®¹å™¨éƒ½æä¾›éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œæ ‡å‡†çš„åŸºäºèŠ‚ç‚¹çš„å®¹å™¨éƒ½æä¾›åŒå‘è¿­ä»£å™¨ã€‚ åºåˆ—å®¹å™¨æ”¯æŒpush_frontæˆ–push_backï¼Œä½†å…³è”å®¹å™¨ä¸æ”¯æŒã€‚å…³è”å®¹å™¨æä¾›å¯¹æ•°æ—¶é—´å¤æ‚åº¦çš„lower_boundã€upper_boundå’Œequal_rangeæˆå‘˜å‡½æ•°ï¼Œä½†åºåˆ—å®¹å™¨å´æ²¡æœ‰ã€‚ ä¸¾ä¾‹: æ ‡å‡†åºåˆ—å®¹å™¨: vectorã€stringã€deque å’Œ list æ ‡å‡†å…³è”å®¹å™¨: setã€multisetã€map å’Œ multimap ","date":"2023-07-20","objectID":"/posts/clause_2/:1:0","tags":["STL"],"title":"Effective STL [2] | å°å¿ƒå¯¹â€œå®¹å™¨æ— å…³ä»£ç â€çš„å¹»æƒ³","uri":"/posts/clause_2/"},{"categories":["C++"],"content":"æ¨è¡Œè‡ªå·±çš„å®¹å™¨ å¾ˆå¤šäººä¼šè¯•å›¾åœ¨ä»–ä»¬çš„è½¯ä»¶ä¸­æ³›åŒ–å®¹å™¨çš„ä¸åŒï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®¹å™¨çš„ç‰¹æ®Šæ€§ç¼–ç¨‹ï¼Œä»–ä»¬ä¼šæƒ³åœ¨vector ä¸­ä½¿ç”¨ deque æˆ–è€… listçš„ç‰¹æ€§ï¼Œè¿™å¾€å¾€ä¼šå¸¦æ¥éº»çƒ¦ã€‚ æ¯”å¦‚ï¼š åªæœ‰åºåˆ—å®¹å™¨æ”¯æŒpush_frontæˆ–push_backï¼Œåªæœ‰å…³è”å®¹å™¨æ”¯æŒcountå’Œlower_bound å³ä¾¿æ˜¯ insertå’Œeraseè¿™æ ·çš„æ“ä½œåœ¨åç§°å’Œè¯­ä¹‰ä¸Šä¹Ÿæœ‰å·®åˆ« å½“æŠŠå¯¹è±¡æ’å…¥åºåˆ—å®¹å™¨ä¸­ï¼Œè¯¥å¯¹è±¡ä¼šä¿ç•™åœ¨ä½ æ”¾ç½®çš„ä½ç½®ä¸Š; å½“ä½ æŠŠå¯¹è±¡æ’å…¥åˆ°ä¸€ä¸ªå…³è”å®¹å™¨ä¸­ï¼Œå®¹å™¨ä¼šæŒ‰ç…§æ’åˆ—é¡ºåºæŠŠå¯¹è±¡ç§»åˆ°å®ƒåº”è¯¥åœ¨çš„ä½ç½®; åœ¨åºåˆ—å®¹å™¨ä¸Šç”¨ä¸€ä¸ªè¿­ä»£å™¨ä½œä¸ºå‚æ•°è°ƒç”¨ eraseï¼Œä¼šè¿”å›ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ï¼›åœ¨å…³è”å®¹å™¨ä¸Šä»€ä¹ˆéƒ½ä¸è¿”å›ã€‚ å®¹å™¨èƒ½åŠ›çš„äº¤é›† å¦‚æœä½ æƒ³å†™ä¸€ä¸ªå¯ä»¥ç”¨åœ¨å¸¸ç”¨åºåˆ—å®¹å™¨ä¸Šçš„ä»£ç â€”â€” åŒ…å«vector, dequeå’Œlistã€‚ä½ å¿…é¡»ä½¿ç”¨å®ƒä»¬èƒ½åŠ›çš„äº¤é›†æ¥ç¼–å†™ã€‚ ä½†è¦è€ƒè™‘å‡ ç‚¹ï¼š dequeå’Œlistä¸æ”¯æŒreserveæˆ–capacity listä¸æ”¯æŒoperator[]æ“ä½œï¼Œä¸”å—é™äºåŒå‘è¿­ä»£å™¨çš„æ€§èƒ½ ä¸èƒ½ä½¿ç”¨éœ€è¦éšæœºè®¿é—®è¿­ä»£å™¨çš„ç®—æ³•ï¼ŒåŒ…æ‹¬sortï¼Œstable_sortï¼Œpartial_sortå’Œnth_element å¦‚æœæƒ³æ”¯æŒvectorçš„è§„åˆ™ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨push_frontå’Œpop_front vectorå’Œdequeéƒ½ä¼šä½¿spliceå’Œæˆå‘˜å‡½æ•°æ–¹å¼çš„sortå¤±è´¥ å› ä¸ºdeque::insertä¼šä½¿æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆï¼Œè€Œä¸”å› ä¸ºç¼ºå°‘capacityï¼Œvector::insertä¹Ÿå¿…é¡»å‡è®¾ä½¿æ‰€æœ‰æŒ‡é’ˆå’Œå¼•ç”¨å¤±æ•ˆï¼Œè€Œdequeæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨è¿­ä»£å™¨å¤±æ•ˆçš„æƒ…å†µä¸‹, æŒ‡é’ˆå’Œå¼•ç”¨ä»ç„¶æœ‰æ•ˆçš„ä¸œè¥¿ ä¸èƒ½æŠŠå®¹å™¨é‡Œçš„æ•°æ®ä¼ é€’ç»™Cé£æ ¼çš„ç•Œé¢ï¼Œåªæœ‰vectoræ”¯æŒè¿™ä¹ˆåš ä¸èƒ½ç”¨boolä½œä¸ºä¿å­˜çš„å¯¹è±¡æ¥å®ä¾‹åŒ–ä½ çš„å®¹å™¨ï¼Œå› ä¸ºvector å¹¶éæ€»è¡¨ç°ä¸ºä¸€ä¸ªvectorï¼Œå®é™…ä¸Šå®ƒå¹¶æ²¡æœ‰çœŸæ­£ä¿å­˜boolå€¼ã€‚ ä¸èƒ½æœŸæœ›äº«å—åˆ°listçš„å¸¸æ•°æ—¶é—´å¤æ‚åº¦çš„æ’å…¥å’Œåˆ é™¤ï¼Œvectorå’Œdequeçš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ˜¯çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ æ‰€ä»¥ï¼ŒçœŸæ­£å¼€å‘æ—¶ï¼Œå¦‚æœéƒ½è€ƒè™‘åˆ°ä¸Šé¢å‡ ç‚¹ï¼Œé‚£æƒ³å¼€å‘çš„å®¹å™¨åªå‰©ä¸‹ä¸€ä¸ª\"æ³›åŒ–çš„åºåˆ—å®¹å™¨\"ï¼Œä½†æ˜¯ä½ ä¸èƒ½è°ƒç”¨reserveã€capacityã€operator[]ã€push_frontã€pop_frontã€spliceæˆ–ä»»ä½•éœ€è¦éšæœºè®¿é—®è¿­ä»£å™¨çš„ç®—æ³•ï¼›è°ƒç”¨insertå’Œeraseä¼šæœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦è€Œä¸”ä¼šä½¿æ‰€æœ‰è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨å¤±æ•ˆï¼›è€Œä¸”ä¸èƒ½å…¼å®¹Cé£æ ¼çš„ç•Œé¢ï¼Œä¸èƒ½å­˜å‚¨boolã€‚ å¦‚æœä½ æ”¾å¼ƒäº†åºåˆ—å®¹å™¨ï¼ŒæŠŠä»£ç æ”¹ä¸ºåªèƒ½å’Œä¸åŒçš„å…³è”å®¹å™¨é…åˆï¼Œè¿™æƒ…å†µå¹¶æ²¡æœ‰ä»€ä¹ˆæ”¹å–„ã€‚ è¦åŒæ—¶å…¼å®¹setå’Œmapå‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºsetä¿å­˜å•ä¸ªå¯¹è±¡ï¼Œè€Œmapä¿å­˜å¯¹è±¡å¯¹ã€‚ ç”šè‡³è¦åŒæ—¶å…¼å®¹setå’Œmultisetï¼ˆæˆ–mapå’Œmultimapï¼‰ä¹Ÿæ˜¯å¾ˆéš¾çš„ã€‚ set/mapçš„insertæˆå‘˜å‡½æ•°åªè¿”å›ä¸€ä¸ªå€¼ï¼Œå’Œä»–ä»¬çš„multiå…„å¼Ÿçš„è¿”å›ç±»å‹ä¸åŒï¼Œè€Œä¸”ä½ å¿…é¡»é¿å…å¯¹ä¸€ä¸ªä¿å­˜åœ¨å®¹å™¨ä¸­çš„å€¼çš„æ‹·è´ä»½æ•°ä½œå‡ºä»»ä½•å‡è®¾ã€‚ å¯¹äºmapå’Œmultimapï¼Œä½ å¿…é¡»é¿å…ä½¿ç”¨operator[]ï¼Œå› ä¸ºè¿™ä¸ªæˆå‘˜å‡½æ•°åªå­˜åœ¨äºmapä¸­ã€‚ ","date":"2023-07-20","objectID":"/posts/clause_2/:2:0","tags":["STL"],"title":"Effective STL [2] | å°å¿ƒå¯¹â€œå®¹å™¨æ— å…³ä»£ç â€çš„å¹»æƒ³","uri":"/posts/clause_2/"},{"categories":["C++"],"content":"å°è£… å¦‚æœæƒ³æ”¹å˜å®¹å™¨ç±»å‹ï¼Œå°±ä½¿ç”¨å°è£…ã€‚ Method 1: typedef ä¸€ç§æœ€ç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡è‡ªç”±åœ°å¯¹å®¹å™¨å’Œè¿­ä»£å™¨ç±»å‹ä½¿ç”¨typedef class Widget {...}; vector\u003cWidget\u003e vw; Widget bestWidget; ... // ç»™bestWidgetä¸€ä¸ªå€¼ vector\u003cWidget\u003e::iterator i = // å¯»æ‰¾å’ŒbestWidgetç›¸ç­‰çš„Widget find(vw.begin(), vw.end(), bestWidget); å¯ä»¥ç®€åŒ–ä¸Šè¿°å†™æ³• class Widget { ... }; typedef vector\u003cWidget\u003e WidgetContainer; typedef WidgetContainer::iterator WCIterator; WidgetContainer cw; Widget bestWidget; ... WCIterator i = find(cw.begin(), cw.end(), bestWidg å¦‚æœéœ€è¦åŠ ä¸Šç”¨æˆ·çš„allocatorï¼Œä¹Ÿç‰¹åˆ«æ–¹ä¾¿ã€‚ï¼ˆä¸€ä¸ªä¸å½±å“å¯¹è¿­ä»£å™¨/æŒ‡é’ˆ/å‚è€ƒçš„å¤±æ•ˆè§„åˆ™çš„æ”¹å˜ï¼‰ class Widget { ... }; template\u003ctypename T\u003e // å…³äºä¸ºä»€ä¹ˆè¿™é‡Œéœ€è¦ä¸€ä¸ªtemplate SpecialAllocator { ... }; // è¯·å‚è§æ¡æ¬¾10 typedef vector\u003cWidget, SpecialAllocator\u003cWidget\u003e \u003e WidgetContainer; typedef WidgetContainer::iterator WCIterator; WidgetContainer cw; // ä»ç„¶èƒ½ç”¨ Widget bestWidget; ... WCIterator i = find(cw.begin(), cw.end(), bestWidget); // ä»ç„¶èƒ½ç”¨ typedefåªæ˜¯å…¶å®ƒç±»å‹çš„åŒä¹‰å­—ï¼Œæ‰€ä»¥å®ƒæä¾›çš„çš„å°è£…æ˜¯çº¯çš„è¯æ³•ï¼ˆè¯‘æ³¨ï¼šä¸åƒ#defineæ˜¯åœ¨é¢„ç¼–è¯‘é˜¶æ®µæ›¿æ¢çš„ï¼‰ã€‚typedefå¹¶ä¸èƒ½é˜»æ­¢ç”¨æˆ·ä½¿ç”¨ï¼ˆæˆ–ä¾èµ–ï¼‰ä»»ä½•ä»–ä»¬ä¸åº”è¯¥ç”¨çš„ï¼ˆæˆ–ä¾èµ–çš„ï¼‰ã€‚ Method 2: class è¦é™åˆ¶å¦‚æœç”¨ä¸€ä¸ªå®¹å™¨ç±»å‹æ›¿æ¢äº†å¦ä¸€ä¸ªå®¹å™¨å¯èƒ½éœ€è¦ä¿®æ”¹çš„ä»£ç ï¼Œå°±éœ€è¦åœ¨ç±»ä¸­éšè—é‚£ä¸ªå®¹å™¨ï¼Œè€Œä¸”è¦é€šè¿‡ç±»çš„æ¥å£é™åˆ¶å®¹å™¨ç‰¹æ®Šä¿¡æ¯å¯è§æ€§çš„æ•°é‡ã€‚ æ¯”å¦‚éœ€è¦éšè— çœŸå®çš„å®¹å™¨ list å»ºç«‹å®¢æˆ·åˆ—è¡¨ï¼š class CustomerList { private: typedef list\u003cCustomer\u003e CustomerContainer; typedef CustomerContainer::iterator CCIterator; CustomerContainer customers; public: // é€šè¿‡è¿™ä¸ªæ¥å£ ... // é™åˆ¶listç‰¹æ®Šä¿¡æ¯çš„å¯è§æ€§ }; å¦‚æœä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä½ å‘ç°ä»åˆ—è¡¨çš„ä¸­éƒ¨æ’å…¥å’Œåˆ é™¤å®¢æˆ·å¹¶ä¸åƒä½ æƒ³è±¡çš„é‚£ä¹ˆé¢‘ç¹ï¼Œä»…ä»…éœ€è¦å¿«é€Ÿç¡®å®šå®¢æˆ·åˆ—è¡¨é¡¶éƒ¨çš„20%â€”â€”ä¸€ä¸ªä¸ºnth_elementç®—æ³•é‡èº«å®šåšçš„ä»»åŠ¡ã€‚ ä½†nth_elementéœ€è¦éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œä¸èƒ½å…¼å®¹listã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ çš„å®¢æˆ·\"list\"å¯èƒ½æ›´åº”è¯¥ç”¨\"vector\"æˆ–\"deque\"æ¥å®ç° å½“ä½ å†³å®šä½œè¿™ç§æ›´æ”¹çš„æ—¶å€™ï¼Œä½ ä»ç„¶å¿…é¡»æ£€æŸ¥æ¯ä¸ªCustomerListçš„æˆå‘˜å‡½æ•°å’Œæ¯ä¸ªå‹å…ƒï¼Œçœ‹çœ‹ä»–ä»¬å—å½±å“çš„ç¨‹åº¦ï¼ˆæ ¹æ®æ€§èƒ½å’Œè¿­ä»£å™¨/æŒ‡é’ˆ/å¼•ç”¨å¤±æ•ˆçš„æƒ…å†µç­‰ç­‰ï¼‰ã€‚ ä½†å¦‚æœä½ åšå¥½äº†å¯¹CustomerListåœ°å®ç°ç»†èŠ‚åšå¥½å°è£…çš„è¯ï¼Œé‚£å¯¹CustomerListçš„å®¢æˆ·çš„å½±å“å°†ä¼šå¾ˆå°ã€‚ ","date":"2023-07-20","objectID":"/posts/clause_2/:3:0","tags":["STL"],"title":"Effective STL [2] | å°å¿ƒå¯¹â€œå®¹å™¨æ— å…³ä»£ç â€çš„å¹»æƒ³","uri":"/posts/clause_2/"},{"categories":["C++"],"content":" quote é€‰æ‹©å®¹å™¨éœ€è¦æ³¨æ„çš„å‡ ä¸ªæ–¹é¢ ","date":"2023-07-19","objectID":"/posts/clause_1/:0:0","tags":["STL"],"title":"Effective STL [1] | ä»”ç»†é€‰æ‹©ä½ çš„å®¹å™¨","uri":"/posts/clause_1/"},{"categories":["C++"],"content":"è¿­ä»£å™¨ è¾“å…¥è¿­ä»£å™¨ æ¯ä¸ªè¿­ä»£ä½ç½®åªèƒ½è¢«è¯»1æ¬¡çš„åªè¯»è¿­ä»£å™¨ï¼Œé€šå¸¸è¡¨ç°ä¸º istream_iterator è¾“å‡ºè¿­ä»£å™¨ æ¯ä¸ªè¿­ä»£ä½ç½®åªèƒ½è¢«å†™1æ¬¡çš„åªå†™è¿­ä»£å™¨ï¼Œé€šå¸¸è¡¨ç°ä¸º ostream_iterator å‰å‘è¿­ä»£å™¨ æœ‰è¾“å…¥å’Œè¾“å‡ºè¿­ä»£å™¨çš„èƒ½åŠ›ï¼Œå¯ä»¥åå¤è¯»å†™1ä¸ªä½ç½®ï¼Œä¸æ”¯æŒ operatorâ€“ï¼Œå¯ä»¥é«˜æ•ˆåœ°å‘å‰ç§»åŠ¨ä»»æ„æ¬¡æ•° æ•£åˆ—å®¹å™¨çš„ä¸€ç§è®¾è®¡å¯ä»¥äº§ç”Ÿå‰å‘è¿­ä»£å™¨ï¼› å•é“¾è¡¨å®¹å™¨ä¹Ÿæä¾›å‰å‘è¿­ä»£å™¨ åŒå‘è¿­ä»£å™¨ åƒå‰å‘è¿­ä»£å™¨ä¸€æ ·ï¼Œåé€€å¾ˆå®¹æ˜“ã€‚æ ‡å‡†å…³è”å®¹å™¨éƒ½æä¾›åŒå‘è¿­ä»£å™¨ï¼Œlistä¹Ÿæœ‰ éšæœºè®¿é—®è¿­ä»£å™¨ å¯ä»¥åšåŒå‘è¿­ä»£å™¨ä¸€æ ·çš„äº‹æƒ…ï¼Œä½†ä¹Ÿæä¾›â€œè¿­ä»£å™¨ç®—æœ¯â€ï¼Œå³è¿­ä»£å™¨æœ‰ä¸€æ­¥å‘å‰æˆ–å‘åè·³çš„èƒ½åŠ›ã€‚ vectorã€string å’Œ deque éƒ½æä¾›éšæœºè®¿é—®è¿­ä»£å™¨ã€‚ æŒ‡é’ˆæ•°ç»„çš„æŒ‡é’ˆå¯ä»¥ä½œä¸ºæ•°ç»„çš„éšæœºè®¿é—®è¿­ä»£å™¨ã€‚ ","date":"2023-07-19","objectID":"/posts/clause_1/:1:0","tags":["STL"],"title":"Effective STL [1] | ä»”ç»†é€‰æ‹©ä½ çš„å®¹å™¨","uri":"/posts/clause_1/"},{"categories":["C++"],"content":"å®¹å™¨ STLæœ‰è¿­ä»£å™¨ã€ç®—æ³•å’Œå‡½æ•°å¯¹è±¡ï¼Œä½†å¯¹äºå¤§å¤šæ•°C++ç¨‹åºå‘˜ï¼Œå®¹å™¨æ˜¯æœ€çªå‡ºçš„ã€‚ å®ƒä»¬æ¯”æ•°ç»„æ›´å¼ºå¤§æ›´çµæ´»ï¼Œå¯ä»¥åŠ¨æ€å¢é•¿ï¼ˆä¹Ÿå¸¸æ˜¯ç¼©å‡ï¼‰ï¼Œå¯ä»¥ç®¡ç†å±äºå®ƒä»¬è‡ªå·±çš„å†…å­˜ï¼Œå¯ä»¥è·Ÿè¸ªå®ƒä»¬æ‹¥æœ‰çš„å¯¹è±¡æ•°ç›®ï¼Œå¯ä»¥é™åˆ¶å®ƒä»¬æ”¯æŒæ“ä½œçš„ç®—æ³•å¤æ‚åº¦ç­‰ç­‰ã€‚ åˆ†ç±» ç±»åˆ« è¯´æ˜ æ ‡å‡†STLåºåˆ—å®¹å™¨ vectorã€stringã€dequeå’Œlist æ ‡å‡†STLå…³è”å®¹å™¨ setã€multisetã€mapå’Œmultimap éæ ‡å‡†åºåˆ—å®¹å™¨slistå’Œrope slistæ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨ï¼Œropeæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé‡å‹å­—ç¬¦ä¸²ã€‚(â€œç»³å­(rope)â€œæ˜¯é‡å‹çš„\"çº¿(string)â€) éæ ‡å‡†å…³è”å®¹å™¨ hash_setã€hash_multisetã€hash_mapå’Œhash_multimap vector å¯ä»¥ä½œä¸ºstringçš„æ›¿ä»£å“ vectorä½œä¸ºæ ‡å‡†å…³è”å®¹å™¨çš„æ›¿ä»£å“ æœ‰æ—¶å€™vectorå¯ä»¥åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šéƒ½è¡¨ç°å¾—æ¯”æ ‡å‡†å…³è”å®¹å™¨å¥½ æ ‡å‡†éSTLå®¹å™¨ åŒ…æ‹¬æ•°ç»„ã€bitsetã€valarrayã€stackã€queueå’Œpriority_queue ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ•°ç»„å¯ä»¥å’ŒSTLç®—æ³•é…åˆï¼Œå› ä¸ºæŒ‡é’ˆå¯ä»¥å½“ä½œæ•°ç»„çš„è¿­ä»£å™¨ä½¿ç”¨ vectorã€listå’Œdequeæä¾›ç»™ç¨‹åºå‘˜ä¸åŒçš„å¤æ‚åº¦ï¼Œå› æ­¤åº”è¯¥è¿™ä¹ˆç”¨ï¼š vectoræ˜¯ä¸€ç§å¯ä»¥é»˜è®¤ä½¿ç”¨çš„åºåˆ—ç±»å‹ å½“å¾ˆé¢‘ç¹åœ°å¯¹åºåˆ—ä¸­éƒ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ—¶åº”è¯¥ç”¨list å½“å¤§éƒ¨åˆ†æ’å…¥å’Œåˆ é™¤å‘ç”Ÿåœ¨åºåˆ—çš„å¤´æˆ–å°¾æ—¶å¯ä»¥é€‰æ‹©dequeè¿™ç§æ•°æ®ç»“æ„ è¿ç»­å†…å­˜å®¹å™¨å’ŒåŸºäºèŠ‚ç‚¹çš„å®¹å™¨çš„åŒºåˆ« è¿ç»­å†…å­˜å®¹å™¨ï¼ˆä¹Ÿå«åšåŸºäºæ•°ç»„çš„å®¹å™¨ï¼‰ åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªï¼ˆåŠ¨æ€åˆ†é…ï¼‰çš„å†…å­˜å—ä¸­ä¿å­˜å®ƒä»¬çš„å…ƒç´ ã€‚ å¦‚æœä¸€ä¸ªæ–°å…ƒç´ è¢«æŸ¥å…¥æˆ–è€…å·²å­˜å…ƒç´ è¢«åˆ é™¤ï¼Œå…¶ä»–åœ¨åŒä¸€ä¸ªå†…å­˜å—çš„å…ƒç´ å°±å¿…é¡»å‘ä¸Šæˆ–è€…å‘ä¸‹ç§»åŠ¨æ¥ä¸ºæ–°å…ƒç´ æä¾›ç©ºé—´æˆ–è€…å¡«å……åŸæ¥è¢«åˆ é™¤çš„å…ƒç´ æ‰€å çš„ç©ºé—´ã€‚ è¿™ç§ç§»åŠ¨å½±å“äº†æ•ˆç‡å’Œå¼‚å¸¸å®‰å…¨ã€‚ æ ‡å‡†çš„è¿ç»­å†…å­˜å®¹å™¨æ˜¯vectorã€stringå’Œdequeã€‚ éæ ‡å‡†çš„ropeä¹Ÿæ˜¯è¿ç»­å†…å­˜å®¹å™¨ã€‚ åŸºäºèŠ‚ç‚¹çš„å®¹å™¨ åœ¨æ¯ä¸ªå†…å­˜å—ï¼ˆåŠ¨æ€åˆ†é…ï¼‰ä¸­åªä¿å­˜ä¸€ä¸ªå…ƒç´ ã€‚ å®¹å™¨å…ƒç´ çš„æ’å…¥æˆ–åˆ é™¤åªå½±å“æŒ‡å‘èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹è‡ªå·±çš„å†…å®¹ã€‚ æ‰€ä»¥å½“æœ‰ä¸œè¥¿æ’å…¥æˆ–åˆ é™¤æ—¶ï¼Œå…ƒç´ å€¼ä¸éœ€è¦ç§»åŠ¨ã€‚ è¡¨ç°ä¸ºé“¾è¡¨çš„å®¹å™¨â€”â€”æ¯”å¦‚listå’Œslistâ€”â€”æ˜¯åŸºäºèŠ‚ç‚¹çš„ï¼Œæ‰€æœ‰çš„æ ‡å‡†å…³è”å®¹å™¨ä¹Ÿæ˜¯ï¼ˆå®ƒä»¬çš„å…¸å‹å®ç°æ˜¯å¹³è¡¡æ ‘ï¼‰ã€‚ éæ ‡å‡†çš„æ•£åˆ—å®¹å™¨ä½¿ç”¨ä¸åŒçš„åŸºäºèŠ‚ç‚¹çš„å®ç°ã€‚ ","date":"2023-07-19","objectID":"/posts/clause_1/:2:0","tags":["STL"],"title":"Effective STL [1] | ä»”ç»†é€‰æ‹©ä½ çš„å®¹å™¨","uri":"/posts/clause_1/"},{"categories":["C++"],"content":"å¦‚ä½•é€‰æ‹©å®¹å™¨? ä½ éœ€è¦â€œå¯ä»¥åœ¨å®¹å™¨çš„ä»»æ„ä½ç½®æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ â€çš„èƒ½åŠ›å—ï¼Ÿ å¦‚æœæ˜¯ï¼Œä½ éœ€è¦åºåˆ—å®¹å™¨ï¼Œå…³è”å®¹å™¨åšä¸åˆ°ã€‚ ä½ å…³å¿ƒå…ƒç´ åœ¨å®¹å™¨ä¸­çš„é¡ºåºå—ï¼Ÿ å¦‚æœä¸ï¼Œæ•£åˆ—å®¹å™¨å°±æ˜¯å¯è¡Œçš„é€‰æ‹©ã€‚å¦åˆ™ï¼Œä½ è¦é¿å…ä½¿ç”¨æ•£åˆ—å®¹å™¨ã€‚ å¿…é¡»ä½¿ç”¨æ ‡å‡†C++ä¸­çš„å®¹å™¨å—? å¦‚æœæ˜¯ï¼Œå°±å¯ä»¥é™¤å»æ•£åˆ—å®¹å™¨ã€slistå’Œropeã€‚ ä½ éœ€è¦å“ªä¸€ç±»è¿­ä»£å™¨ï¼Ÿ å¦‚æœå¿…é¡»æ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œåœ¨æŠ€æœ¯ä¸Šä½ å°±åªèƒ½é™äºvectorã€dequeå’Œstringï¼Œä½†ä½ ä¹Ÿå¯èƒ½ä¼šè€ƒè™‘ropeã€‚ å¦‚æœéœ€è¦åŒå‘è¿­ä»£å™¨ï¼Œä½ å°±ç”¨ä¸äº†slist å’Œæ•£åˆ—å®¹å™¨çš„ä¸€èˆ¬å®ç°ã€‚ å½“æ’å…¥æˆ–è€…åˆ é™¤æ•°æ®æ—¶ï¼Œæ˜¯å¦éå¸¸åœ¨æ„å®¹å™¨å†…ç°æœ‰å…ƒç´ çš„ç§»åŠ¨ï¼Ÿ å¦‚æœæ˜¯ï¼Œä½ å°±å¿…é¡»æ”¾å¼ƒè¿ç»­å†…å­˜å®¹å™¨ã€‚ å®¹å™¨ä¸­çš„æ•°æ®çš„å†…å­˜å¸ƒå±€éœ€è¦å…¼å®¹Cå—ï¼Ÿ å¦‚æœæ˜¯ï¼Œä½ å°±åªèƒ½ç”¨vectorã€‚ æŸ¥æ‰¾é€Ÿåº¦å¾ˆé‡è¦å—ï¼Ÿ å¦‚æœæ˜¯ï¼Œä½ å°±åº”è¯¥çœ‹çœ‹æ•£åˆ—å®¹å™¨ï¼Œæ’åºçš„vectorå’Œæ ‡å‡†çš„å…³è”å®¹å™¨â€”â€”å¤§æ¦‚æ˜¯è¿™ä¸ªé¡ºåºã€‚ ä½ ä»‹æ„å¦‚æœå®¹å™¨çš„åº•å±‚ä½¿ç”¨äº†å¼•ç”¨è®¡æ•°å—ï¼Ÿ å¦‚æœæ˜¯ï¼Œä½ å°±å¾—é¿å¼€stringï¼Œå› ä¸ºå¾ˆå¤šstringçš„å®ç°æ˜¯ç”¨å¼•ç”¨è®¡æ•°ã€‚ ä½ ä¹Ÿä¸èƒ½ç”¨ropeï¼Œå› ä¸ºæƒå¨çš„ropeå®ç°æ˜¯åŸºäºå¼•ç”¨è®¡æ•°çš„ã€‚ äºæ˜¯ä½ å¾—é‡æ–°å®¡æ ¸ä½ çš„stringï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨vector ä½ éœ€è¦æ’å…¥å’Œåˆ é™¤çš„äº‹åŠ¡æ€§è¯­ä¹‰å—ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œä½ éœ€è¦æœ‰å¯é åœ°å›é€€æ’å…¥å’Œåˆ é™¤çš„èƒ½åŠ›å—ï¼Ÿ å¦‚æœæ˜¯ï¼Œä½ å°±éœ€è¦ä½¿ç”¨åŸºäºèŠ‚ç‚¹çš„å®¹å™¨ã€‚ å¦‚æœä½ éœ€è¦å¤šå…ƒç´ æ’å…¥ï¼ˆæ¯”å¦‚ï¼Œä»¥èŒƒå›´çš„æ–¹å¼ï¼‰çš„äº‹åŠ¡æ€§è¯­ä¹‰ï¼Œä½ å°±åº”è¯¥é€‰æ‹©listï¼Œå› ä¸ºlistæ˜¯å”¯ä¸€æä¾›å¤šå…ƒç´ æ’å…¥äº‹åŠ¡æ€§è¯­ä¹‰çš„æ ‡å‡†å®¹å™¨ã€‚ äº‹åŠ¡æ€§è¯­ä¹‰å¯¹äºæœ‰å…´è¶£å†™å¼‚å¸¸å®‰å…¨ä»£ç çš„ç¨‹åºå‘˜æ¥è¯´éå¸¸é‡è¦ã€‚ï¼ˆäº‹åŠ¡æ€§è¯­ä¹‰ä¹Ÿå¯ä»¥åœ¨è¿ç»­å†…å­˜å®¹å™¨ä¸Šå®ç°ï¼Œä½†ä¼šæœ‰ä¸€ä¸ªæ€§èƒ½å¼€é”€ï¼Œè€Œä¸”ä»£ç ä¸é‚£ä¹ˆç›´è§‚ï¼‰ ä½ è¦æŠŠè¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨çš„å¤±æ•ˆæ¬¡æ•°å‡åˆ°æœ€å°‘å—ï¼Ÿ å¦‚æœæ˜¯ï¼Œä½ å°±åº”è¯¥ä½¿ç”¨åŸºäºèŠ‚ç‚¹çš„å®¹å™¨ï¼Œå› ä¸ºåœ¨è¿™äº›å®¹å™¨ä¸Šè¿›è¡Œæ’å…¥å’Œåˆ é™¤ä¸ä¼šä½¿è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨å¤±æ•ˆï¼ˆé™¤éå®ƒä»¬æŒ‡å‘ä½ åˆ é™¤çš„å…ƒç´ ï¼‰ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨è¿ç»­å†…å­˜å®¹å™¨ä¸Šæ’å…¥å’Œåˆ é™¤ä¼šä½¿æ‰€æœ‰æŒ‡å‘å®¹å™¨çš„è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨å¤±æ•ˆã€‚ ä½ éœ€è¦å…·æœ‰ä»¥ä¸‹ç‰¹æ€§çš„åºåˆ—å®¹å™¨å—ï¼š1ï¼‰ å¯ä»¥ä½¿ç”¨éšæœºè®¿é—®è¿­ä»£å™¨ï¼›2ï¼‰ åªè¦æ²¡æœ‰åˆ é™¤è€Œä¸”æ’å…¥åªå‘ç”Ÿåœ¨å®¹å™¨ç»“å°¾ï¼ŒæŒ‡é’ˆå’Œå¼•ç”¨çš„æ•°æ®å°±ä¸ä¼šå¤±æ•ˆï¼Ÿ è¿™ä¸ªä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æƒ…å†µï¼Œä½†å¦‚æœä½ é‡åˆ°è¿™ç§æƒ…å†µï¼Œdequeå°±æ˜¯ä½ æ¢¦æƒ³çš„å®¹å™¨ã€‚ æœ‰è¶£çš„æ˜¯ï¼Œå½“æ’å…¥åªåœ¨å®¹å™¨ç»“å°¾æ—¶ï¼Œdequeçš„è¿­ä»£å™¨ä¹Ÿå¯èƒ½ä¼šå¤±æ•ˆï¼Œdequeæ˜¯**å”¯ä¸€ä¸€ä¸ªâ€œåœ¨è¿­ä»£å™¨å¤±æ•ˆæ—¶ä¸ä¼šä½¿å®ƒçš„æŒ‡é’ˆå’Œå¼•ç”¨å¤±æ•ˆâ€**çš„æ ‡å‡†STLå®¹å™¨ã€‚ ","date":"2023-07-19","objectID":"/posts/clause_1/:3:0","tags":["STL"],"title":"Effective STL [1] | ä»”ç»†é€‰æ‹©ä½ çš„å®¹å™¨","uri":"/posts/clause_1/"},{"categories":["C++"],"content":"ç»“è¯­ å½“é¢å¯¹å®¹å™¨æ—¶ï¼ŒSTLç»™äº†ä½ å¾ˆå¤šé€‰é¡¹ã€‚å¦‚æœä½ çš„è§†çº¿è¶…è¶Šäº†STLçš„èŒƒå›´ï¼Œé‚£å°±ä¼šæœ‰æ›´å¤šçš„é€‰é¡¹ã€‚åœ¨é€‰æ‹©ä¸€ä¸ªå®¹å™¨å‰ï¼Œè¦ä¿è¯è€ƒè™‘äº†æ‰€æœ‰ä½ çš„é€‰é¡¹ã€‚ ","date":"2023-07-19","objectID":"/posts/clause_1/:4:0","tags":["STL"],"title":"Effective STL [1] | ä»”ç»†é€‰æ‹©ä½ çš„å®¹å™¨","uri":"/posts/clause_1/"},{"categories":["Prediction"],"content":"ref link: [1] https://blog.csdn.net/qq_41897558/article/details/120087113 [2] https://zhuanlan.zhihu.com/p/355131328 ref code: [1]https://github.com/xk-huang/yet-another-vectornet [2]https://github.com/DQSSSSS/VectorNet ","date":"2023-07-16","objectID":"/posts/vectornet/:0:0","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"Novel Highlights (1) ä½¿ç”¨çŸ¢é‡åŒ–çš„é«˜ç²¾åœ°å›¾ä»¥åŠéšœç¢ç‰©çš„å†å²è½¨è¿¹ï¼Œä»è€Œé¿å…æœ‰æŸæ¸²æŸ“ä»¥åŠConvNetç¼–ç (è®¡ç®—å¼€é”€æ¯”è¾ƒå¤§)ã€‚ (2) è®¾è®¡å­å›¾ç½‘ç»œä»¥åŠå…¨å±€å›¾ç½‘ç»œï¼Œå»ºæ¨¡ä½é˜¶ä»¥åŠé«˜é˜¶äº¤äº’ (3) auxiliary task æé«˜ç½‘ç»œæ€§èƒ½ ","date":"2023-07-16","objectID":"/posts/vectornet/:1:0","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"VecotorNet ç½‘ç»œä»‹ç» ","date":"2023-07-16","objectID":"/posts/vectornet/:2:0","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"è½¨è¿¹å’Œåœ°å›¾çš„å‘é‡è¡¨ç¤º Representing trajectories and HD maps laneå¯ä»¥è¡¨ç¤ºä¸ºsplinesï¼Œäººè¡Œé“å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªå¾ˆå¤šä¸ªç‚¹ç»„æˆçš„polygonï¼Œstop signæ ‡è®°å¯ä»¥è¡¨ç¤ºä¸ºå•ä¸€ä¸ªç‚¹ã€‚ å¯¹äºagentæ¥è¯´ï¼Œä»–ä»¬çš„è½¨è¿¹ä¹Ÿæ˜¯ä¸€ç§splinesã€‚ è¿™äº›å…ƒç´ éƒ½å¯ä»¥å‘é‡è¡¨ç¤ºã€‚ å¯¹äºåœ°å›¾çš„ç‰¹å¾ï¼šé€‰æ‹©ä¸€ä¸ªstart pointå’Œæœå‘ï¼Œç­‰é—´è·å‡åŒ€é‡‡æ ·å…³é”®ç‚¹ï¼Œå¹¶äºç›¸é‚»çš„å…³é”®ç‚¹ç›¸è¿ä¸ºå‘é‡ å¯¹äºagentè½¨è¿¹ï¼ŒæŒ‰ç…§0.1s sampleå…³é”®ç‚¹ï¼Œå¹¶å°†å®ƒä»¬è¿æ¥æˆå‘é‡ã€‚ é€šè¿‡å‘é‡åŒ–çš„è¿‡ç¨‹ï¼Œå¯ä»¥å¾—åˆ°æŠ˜çº¿polylinesï¼Œè¿™ä¸ªpolylineså’Œè½¨è¿¹ã€åœ°å›¾æ ‡æ³¨ä¹‹é—´æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å¦‚æœç»™å®šçš„æ—¶ç©ºé—´éš”è¶³å¤Ÿå°ï¼Œå¾—åˆ°çš„è¿™äº›æŠ˜çº¿å°±ä¸åŸå§‹åœ°å›¾å’Œè½¨è¿¹ååˆ†æ¥è¿‘ã€‚ æˆ‘ä»¬å°†å±äºæŠ˜çº¿ $P_j$â€‹ çš„æ¯ä¸€ä¸ªå‘é‡$v_i$çœ‹å‡ºå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ç‰¹å¾å¦‚ä¸‹: $$v_i = [d_i^s, d_i^e, a_i, j]$$ å…¶ä¸­å‰ä¸¤ä¸ªvectoråˆ†åˆ«æ˜¯vectorçš„start pointå’Œend pointçš„åæ ‡ï¼Œå¯ä»¥æ˜¯(x,y)æˆ–è€…(x,y,z)ä¸‰ç»´çš„å½¢å¼ ç¬¬ä¸‰ä¸ªå‘é‡åˆ™æ˜¯attributeå±æ€§çš„ç‰¹å¾ï¼Œæ¯”å¦‚objectçš„ç±»å‹ï¼Œè½¨è¿¹çš„æ—¶é—´æˆ³ï¼Œé“è·¯çš„ç‰¹å¾ï¼Œé“è·¯é™é€Ÿç­‰ æœ€åä¸€ä¸ªæ˜¯éšœç¢ç‰©idï¼Œè¡¨ç¤º $v_i$ â€‹å±äº $P_j$ ","date":"2023-07-16","objectID":"/posts/vectornet/:2:1","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"Polyline å­å›¾æ„å»º å¯¹äºä¸€ä¸ªPolyline P, å®ƒçš„èŠ‚ç‚¹æœ‰ ${v_1,v_2,â€¦,v_p}$ï¼Œ å¯ä»¥å®šä¹‰ä¸€ä¸ªå­å›¾ç½‘ç»œï¼š $$v_i^{l+1} = \\varphi_{rel}(g_{enc}(v_i^{(l)}), \\varphi({g_{enc}(v_j^{(l)})}))$$ $v_i^{(l)}$â€‹ ä»£è¡¨ç¬¬iä¸ªèŠ‚ç‚¹ç¬¬Lå±‚çš„èŠ‚ç‚¹ç‰¹å¾ã€‚ $g_{enc}(\\cdot)$ä»£è¡¨èŠ‚ç‚¹çš„å˜æ¢ï¼Œå®è·µä¸­é‡‡ç”¨MLPæ¥å®ç°ã€‚ $\\varphi_{agg}(\\cdot)$ä»£è¡¨ç‰¹å¾èšåˆï¼Œç”¨æ¥ä»ç›¸é‚»çš„èŠ‚ç‚¹æ¥è·å–ä¿¡æ¯ï¼Œå®è·µä¸­é‡‡ç”¨çš„æ˜¯max_poolingã€‚ $\\varphi_{rel}(\\cdot)$ä»£è¡¨viå’Œå‘¨å›´èŠ‚ç‚¹çš„å…³ç³»ï¼Œå®è·µä¸­é‡‡ç”¨çš„æ˜¯concateçš„æ“ä½œã€‚ æœ€åç»è¿‡å¤šå±‚çš„å †å ï¼Œæ¥è·å–æ•´ä¸ªPolylineçº§åˆ«çš„ç‰¹å¾ï¼š $$P = \\varphi_{agg}(v_i^{L_p})$$ è¿™é‡Œï¼Œ $Ï†_{agg}(â‹…)$ä¹Ÿæ˜¯max poolingæ“ä½œ. ","date":"2023-07-16","objectID":"/posts/vectornet/:2:2","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"å…¨å±€å›¾çš„é«˜é˜¶äº¤äº’ Global graph for high-order interactions ç»è¿‡ä¸Šé¢çš„å­å›¾è¿›è¡Œä½é˜¶æ¨¡å‹å»ºæ¨¡åï¼Œç°åœ¨æœ‰äº†polylineçº§åˆ«èŠ‚ç‚¹çš„ç‰¹å¾${p_1,p_2,â€¦,p_P}$. ä¸ºäº†å»ºç«‹é«˜é˜¶çš„äº¤äº’ï¼Œéœ€è¦å»ºç«‹ä¸€ä¸ªglobalçš„äº¤äº’å›¾ï¼Œè¯¦è§è®ºæ–‡å›¾2çš„ç¬¬3ä¸ªå­å›¾ã€‚ $$P_i^{l+1} = GNN(p^l_i, A)$$ $p_i^l$â€‹ä»£è¡¨polylineèŠ‚ç‚¹çš„é›†åˆ Aä»£è¡¨é‚»æ¥çŸ©é˜µï¼Œå®è·µä¸­é‡‡ç”¨å…¨é“¾æ¥ $GNN(â‹…)$ä»£è¡¨ä¸€å±‚çš„GNNç½‘ç»œï¼Œå®è·µä¸­é‡‡ç”¨çš„æ˜¯self attention layerï¼š $$GNN(P) = softmax(P_Q P_K^T)P_V$$ å…¶ä¸­ï¼ŒPæ˜¯nodeçš„feature matrixï¼Œ $P_Q$,$P_k$,$P_v$ â€‹åˆ™æ˜¯å®ƒçš„çº¿æ€§æŠ•å½±ã€‚ ç»è¿‡äº†å…¨å±€çš„ç½‘ç»œä¹‹åï¼Œå°±ç”Ÿæˆäº†èŠ‚ç‚¹çš„ç‰¹å¾$P^{L_t}_i$ï¼Œå…¶ä¸­Ltæ˜¯å…¨å±€GNNç½‘ç»œçš„å±‚æ•°ã€‚ç„¶åå°†$P^{(L_t)}_i$æ”¾å…¥decoderè¿›è¡Œè½¨è¿¹çš„ç”Ÿæˆ: $$v_i^{future} = \\varphi_{traj}(P_i^{L_t})$$ è®ºæ–‡ä¸­ï¼Œdecoder $Ï†_{traj}(â‹…)$ ä½¿ç”¨çš„æ˜¯MLPï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨MultiPathä¸­anchor-basedçš„æ–¹æ³•æˆ–è€…variational RNNs æ¥è¿›è¡Œå¤šæ¨¡æ€è½¨è¿¹é¢„æµ‹ã€‚ ","date":"2023-07-16","objectID":"/posts/vectornet/:2:3","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"è¾…åŠ©ä»»åŠ¡è®­ç»ƒ auxiliary graph completion task ä¸ºäº†è®©å…¨å±€äº¤äº’å›¾èƒ½æ›´å¥½åœ°æ•æ‰ä¸åŒè½¨è¿¹å’Œåœ°å›¾å…ƒç´ ä¹‹é—´çš„äº¤äº’ä¿¡æ¯ï¼Œè®ºæ–‡è¿˜æå‡ºäº†ä¸€ä¸ªè¾…åŠ©çš„ä»»åŠ¡ï¼šåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œéšæœºmaskæ‰ä¸€äº›èŠ‚ç‚¹çš„ç‰¹å¾ï¼Œç„¶åå°è¯•å»è¿˜åŸè¢«æ©ç›–çš„èŠ‚ç‚¹ç‰¹å¾: $$\\hat{P}i = \\varphi{node}(P_i^{L_t})$$ è¿™é‡ŒèŠ‚ç‚¹çš„decoder $Ï†_{node}(â‹…)$ ä¹Ÿæ˜¯ä¸€ä¸ªMLPï¼Œåªåœ¨è®­ç»ƒçš„æ—¶å€™ä½¿ç”¨,åœ¨inferenceè¿‡ç¨‹ä¸­ä¸ä½¿ç”¨ã€‚ ","date":"2023-07-16","objectID":"/posts/vectornet/:2:4","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"æŸå¤±å‡½æ•° Loss Function å¤šä»»åŠ¡è®­ç»ƒç›®æ ‡ï¼Œ multi-task training task: $$\\mathcal{L} = \\mathcal{L_{traj}} + \\alpha \\mathcal{L_{node}}$$ $L_{traj}â€‹$: negative Gaussian log-likelihood loss $L_{node}$â€‹: æ˜¯é¢„æµ‹çš„èŠ‚ç‚¹å’Œè¢«æ©ç›–èŠ‚ç‚¹çš„huberæŸå¤±å‡½æ•° å…¶ä¸­ï¼Œ negative Gaussian Log Likelihood æŸå¤±å‡½æ•°ä¸º: $$L(x, y) = -\\log P(y) = - \\log P(y|\\mu(x), \\sum(x))$$ where, $$p(y) = p(yâˆ£Î¼,Î£)=1(2Ï€)n/2âˆ£Î£âˆ£1/2expâˆ’12(yâˆ’Î¼)âŠ¤Î£âˆ’1(yâˆ’Î¼)$$ Huber æŸå¤±å‡½æ•°ä¸º: $$ L(Y|f(x))= \\begin{cases} \\frac{1}{2} (Y-f(x))^2, \u0026 |Y-f(x)|\u003c= \\delta \\\\ \\delta |Y-f(x)| - \\frac{1}{2}\\delta^2, \u0026 |Y-f(x)| \u003e \\delta \\end{cases} $$ ","date":"2023-07-16","objectID":"/posts/vectornet/:2:5","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"æ•´ç† VectorNetæ•°æ®å¤„ç†éƒ¨åˆ†: å¯¹actorçš„å¤„ç†: è¾“å…¥: å–è½¨è¿¹ç‚¹ï¼Œæ¯ä¸¤ä¸ªè½¨è¿¹ç‚¹æ„å»ºvector, å½¢å¼ä¸º(x1, x2, y1, y2), å…¶ä»–ç‰¹å¾(object type, timestamp, track_id) å¯¹lane nodeçš„å¤„ç†: è¾“å…¥: é’ˆå¯¹lane segment çš„ç‚¹ï¼Œæ±‚polylineï¼ŒåŸåˆ™ä¸Šæ±‚lane segmentçš„å·¦å³è¾¹ç•Œçš„ç‚¹çš„å‘é‡(x_start, x_end, y_start, y_end, turn_direction, traffic_control, is_intersection, lane_id) ç½‘ç»œéƒ¨åˆ†: æ„å»ºsubgraphnet: é’ˆå¯¹æ¯ä¸€ä¸ªpolylineï¼Œé€šè¿‡mlpå’Œmaxpoolæ„æ„å»ºsubgraphnet æ„å»ºglobalgraphnet: ä»¥æ¯ä¸ªpolylineä½œä¸ºgraph nodeï¼Œæ„å»ºå…¨å±€å›¾ç½‘ç»œï¼Œé‡‡ç”¨å…¨é“¾æ¥ï¼Œé€šè¿‡è‡ªæ³¨æ„åŠ›æœºåˆ¶$GNN(P) = softmax(P_Q, P_K)^T(P_V)$ è½¨è¿¹ç”Ÿæˆ: å°†å…¨å±€ç½‘ç»œçš„èŠ‚ç‚¹ç‰¹å¾ï¼Œé€šè¿‡mlpè¿›è¡Œè½¨è¿¹ç”Ÿæˆã€‚ ","date":"2023-07-16","objectID":"/posts/vectornet/:3:0","tags":["draft"],"title":"VectorNet è®ºæ–‡è§£è¯»","uri":"/posts/vectornet/"},{"categories":["Prediction"],"content":"Overview paper link:https://arxiv.org/pdf/2202.04488.pdf ","date":"2023-07-16","objectID":"/posts/crat_pred/:1:0","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"è®ºæ–‡æ¦‚è§ˆ æ–‡ç« æå‡ºäº†ä¸€ç§ç»“åˆCrystal Graph Convolutional Neural Networkå’ŒMulti-Head Self-Attention Mechanismå¯¹äº¤é€šagentå¤„ç†çš„æ–¹å¼ åœ¨argoverseæ•°æ®é›†ä¸Šè¿›è¡ŒéªŒè¯ï¼Œå®ç°äº†map-freeé¢„æµ‹æ¨¡å‹çš„SOTAæ•ˆæœ; ç›¸æ¯”è¾ƒäºå…¶ä»–æ¨¡å‹ï¼Œæ¨¡å‹å‚æ•°æ›´å°‘ã€‚ è¯æ˜: å¯ä»¥é€šè¿‡ Self-Attention Mechanism å­¦ä¹ åˆ°äº¤é€šå‚ä¸è€…ä¹‹é—´çš„äº¤äº’å…³ç³»ã€‚ ","date":"2023-07-16","objectID":"/posts/crat_pred/:2:0","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"ç½‘ç»œç»“æ„ æ•°æ®å¤„ç†: ä»¥argoverse2æ•°æ®ä¸ºä¾‹ï¼Œå–å‰50å¸§æ•°æ®ï¼Œä¸¤ä¸¤ä½œå·®å€¼ï¼Œå–49ç»„ä½ç§»å‘é‡æ•°æ®ä¸ºè¾“å…¥ é¦–å…ˆç”¨EncoderLSTMä½œä¸ºencoder å†å°†æ¯ä¸€ä¸ªagentä½œä¸ºnodeï¼Œé€šè¿‡Crystal Graph Convolutional Neural Networkæ„å»ºå›¾ç¥ç»ç½‘ç»œ é€šè¿‡Multi-Head Self-Attentionå­¦ä¹ nodeä¹‹é—´çš„äº¤äº’å…³ç³» ","date":"2023-07-16","objectID":"/posts/crat_pred/:3:0","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"å®ç°åŸç† ","date":"2023-07-16","objectID":"/posts/crat_pred/:4:0","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"Input Encoder è¾“å…¥ç¼–ç å™¨ è¾“å…¥æ•°æ®ä¸ºè¿‡å»5ç§’çš„ç¦»æ•£ä½ç§»: $$s_i^t = (\\Delta{\\tau_i^t} || b_i^t)$$ å…¶ä¸­ï¼Œ $\\Delta \\tau_i^t = \\tau_i^{t-1}$. ","date":"2023-07-16","objectID":"/posts/crat_pred/:4:1","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"Interaction Module äº¤äº’æ¨¡å— ","date":"2023-07-16","objectID":"/posts/crat_pred/:4:2","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"Output Decoder è¾“å‡ºç¼–ç å™¨ ","date":"2023-07-16","objectID":"/posts/crat_pred/:4:3","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"Training è®­ç»ƒè¿‡ç¨‹ ","date":"2023-07-16","objectID":"/posts/crat_pred/:4:4","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"ä»£ç å®ç°ç»“æ„ æ•°æ®å¤„ç†ç»“æ„ input = dict() input['argo_id'] = list() input['city'] = list() input['past_trajs'] = list() input['fut_trajs'] = list() input['gt'] = list() input['displ'] = list() input['centers'] = list() input['origin'] = list() input['rotation'] = list() 29 + 32 = 61 argo_id: [â€˜01d7deae-31e9-4657-843f-c30009b09f1câ€™, â€˜01ca1736-ec51-41aa-8c73-3338c574a83aâ€™] city: [â€˜austinâ€™, â€˜austinâ€™] past_trajs: torch.Size([29, 50, 3]) torch.Size([32, 50, 3]) fut_trajs: torch.Size([29, 60, 3]) torch.Size([32, 60, 3]) gt: torch.Size([29, 60, 2]) torch.Size([32, 60, 2]) displ: torch.Size([29, 49, 3]) torch.Size([32, 49, 3]) centers: torch.Size([29, 2]) torch.Size([32, 2]) origin: torch.Size([2]) torch.Size([2]) rotation: torch.Size([2, 2]) torch.Size([2, 2]) ç½‘ç»œè¾“å…¥è¾“å‡ºç»“æ„è¯¦è§£ In Inference with two sample data: displ_cat: 61 x 49 x 3 centers_cat: 61 x 2 agents_per_sample: [32, 29] ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:0","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"encoder_lstm input: displ_cat(61 x 49 x 3), agents_per_sample [32,29] $\\downarrow$ input_size = 3; hidden_size = 128; num_layers = 1 $\\downarrow$lstm_hidden_state = torch.randn(num_layers, lstm_in.shape[0], hidden_size) = torch.randn(1, 61, 128) $\\downarrow$lstm_cell_state = torch.randn(num_layers, lstm_in.shape[0], hidden_size) = torch.randn(1, 61, 128) $\\downarrow$lstm_out, lstm_hidden = self.lstm(lstm_in, lstm_hidden) =\u003e lstm((61, 49, 3), (torch((1, 61, 128)), torch(1, 61, 128))) $\\downarrow$ lstm_out(61 x 49 x 128) output: lstm_out[:,-1,:](61 x 128) ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:1","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"agent_gnn input: out_encoder_lstm(61 x 128), centers_cat (61 x 2) agents_per_sample [32,29] $\\downarrow$ x = gnn_in =\u003e (61 x 128) $\\downarrow$ edge_index = build_fully_connected_edge_idx(agents_per_sample).to(gnn_in.device) =\u003e (2, 1804) 1804 = (29 x 29-1) + (32 x (32-1)) $\\downarrow$ $\\downarrow$ edge_attr = build_edge_attr(edge_index, centers).to(gnn_in.device) =\u003e (1804, 2) $\\downarrow$ x = F.relu(self.gcn1(x, edge_index, edge_attr)) =\u003e (61 x 128) output: gnn_out = F.relu(self.gcn2(x, edge_index, edge_attr)) =\u003e (61 x 128) $$\\mathbf{x}^{\\prime}i = \\mathbf{x}i + \\sum{j \\in \\mathcal{N}(i)} \\sigma \\left( \\mathbf{z}{i,j} \\mathbf{W}_f + \\mathbf{b}f \\right) \\odot g \\left( \\mathbf{z}{i,j} \\mathbf{W}_s + \\mathbf{b}_s \\right)$$ ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:2","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"multihead_self_attention input: out_agent_gnn (61 x 128) agents_per_sample[32,29] $\\downarrow$ max_agents = max(agents_per_sample) =\u003e 32 $\\downarrow$ padded_att_in = torch.zeros((len(agents_per_sample), max_agents, self.latent_size), device=att_in[0].device) =\u003e torch: (2 x 32 x 128) $\\downarrow$ mask = torch.arange(max_agents) \u003c torch.tensor(agents_per_sample)[:, None] \u0026\u0026 padded_att_in[mask] = att_in =\u003e torch: (2 x 32 x 128) $\\downarrow$ padded_att_in_swapped = torch.swapaxes(padded_att_in, 0, 1) =\u003e torch: (32, 2, 128) $\\downarrow$ padded_att_in_swapped, _ = self.multihead_attention(padded_att_in_swapped, padded_att_in_swapped, padded_att_in_swapped, key_padding_mask=mask_inverted) =\u003e torch: (32, 2, 128) $\\downarrow$ padded_att_in_reswapped = torch.swapaxes(padded_att_in_swapped, 0, 1) =\u003e torch: (2, 32, 128) $\\downarrow$ att_out_batch = [x[0:agents_per_sample[i]] for i, x in enumerate(padded_att_in_reswapped)] =\u003e list: 2 output: att_out_batch =\u003e list: 2 for each with shape (29, 128) and (32, 128) ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:3","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"torch.stack() input: out_self_attention: list: 2 for each with shape (29, 128) and (32, 128) $\\downarrow$ out_self_attention = torch.stack([x[0] for x in out_self_attention]) output: out_self_attention: torch: (2, 128) ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:4","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"PredictionNet(out_self_attention) ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:5","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"decoder_residual input: out_self_attention(torch: (2, 128)) frozen = False $\\downarrow$ [condition: frozen = False] sample_wise_out.append(PredictionNet(out_self_attention)) =\u003e torch: (2, 120) $\\downarrow$ decoder_out = torch.stack(sample_wise_out) =\u003e torch: (1, 2, 120) $\\downarrow$ decoder_out = torch.swapaxes(decoder_out, 0, 1) =\u003e torch: (2, 1, 120) output: decoder_out =\u003e torch: (2, 1, 120) ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:6","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"out = out_linear.view(len(displ), 1, -1, self.config[â€™num_predsâ€™], 2) input: decoder_out: torch: (2, 1, 120) $\\downarrow$ out = out_linear.view(len(displ), 1, -1, self.config[â€™num_predsâ€™], 2) =\u003e torch: (2, 1, 1, 60, 2) output: out =\u003e torch: (2, 1, 1, 60, 2) ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:7","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"å°†é¢„æµ‹è½¨è¿¹è½¬æ¢åˆ°å…¨å±€åæ ‡ for i in range(len(out)): out[i] = torch.matmul(out[i], rotation[i]) + origin[i].view( 1, 1, 1, -1 ) ","date":"2023-07-16","objectID":"/posts/crat_pred/:5:8","tags":["draft"],"title":"CRAT-Prediction","uri":"/posts/crat_pred/"},{"categories":["Prediction"],"content":"TNT: Target-driveN Trajectory Prediction **ref link:** https://zhuanlan.zhihu.com/p/435953928 https://blog.csdn.net/weixin_40633696/article/details/124542807?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-2-124542807-blog-122758833.pc_relevant_vip_default\u0026spm=1001.2101.3001.4242.2\u0026utm_relevant_index=5 ","date":"2023-07-16","objectID":"/posts/densetnt_tnt/:1:0","tags":["draft"],"title":"DenseTNT and TNT è®ºæ–‡è§£è¯»","uri":"/posts/densetnt_tnt/"},{"categories":["Prediction"],"content":"æ¦‚è§ˆ åœ¨é¢„æµ‹è½¦è¾†çš„è½¨è¿¹æ—¶, éœ€è¦å°½å¯èƒ½è€ƒè™‘åˆ°è½¦è¾†ä¸åŒçš„æƒ…å†µï¼Œå³ä¸åŒçš„æ¨¡æ€ï¼Œå¦‚å‰è¡Œæˆ–å·¦è½¬ï¼Œå¹¶é¢„æµ‹å‡ºå¯¹åº”çš„æ¦‚ç‡ã€‚ æ¨¡æ€çš„å®šä¹‰æ˜¯æ¯”è¾ƒæ¨¡ç³Šçš„ï¼Œä¾‹å¦‚ï¼Œæœ‰ä¸åŒçš„é€Ÿåº¦å‰è¡Œï¼Œå·¦è½¬å¯ä»¥ä»¥ä¸åŒçš„è½¬å¼¯è§’åº¦å®ç°ã€‚ä¸ºäº†èƒ½å¤Ÿæ›´åŠ é€šç”¨ä¸”ç²¾ç¡®åœ°å®šä¹‰æ¯æ¡è½¨è¿¹çš„æ¨¡æ€ï¼Œæˆ‘ä»¬ç›´æ¥å°†æ¯æ¡è½¨è¿¹çš„æ¨¡æ€å®šä¹‰åœ¨æ¯æ¡è½¨è¿¹çš„ç»ˆç‚¹ä¸Šã€‚è¿™é‡Œçš„ä¸€ä¸ªé‡è¦å‡è®¾æ˜¯ï¼Œè½¨è¿¹çš„æ¨¡æ€åŸºæœ¬ç”±ç»ˆç‚¹æ‰€å†³å®šï¼Œå½“ç»ˆç‚¹ç¡®å®šåï¼Œè½¨è¿¹çš„å½¢çŠ¶ä¹Ÿå¤§ä½“ç¡®å®šäº†ã€‚è¿™æ ·æˆ‘ä»¬å°±æŠŠè½¨è¿¹é¢„æµ‹å˜æˆäº†ç»ˆç‚¹é¢„æµ‹é—®é¢˜ï¼Œæå¤§åœ°ç®€åŒ–äº†é—®é¢˜çš„å¤æ‚åº¦ã€‚ TNTçš„é¢„æµ‹æ–¹å¼: é¦–å…ˆé¢„æµ‹è½¨è¿¹çš„ç»ˆç‚¹ï¼Œç„¶ååŸºäºè¿™ä¸ªç»ˆç‚¹è¡¥å……å®Œæ•´æ¡è½¨è¿¹ã€‚ TNT åŸºäºç»ˆç‚¹çš„è½¨è¿¹é¢„æµ‹æµç¨‹å›¾: TNTä½¿ç”¨VectorNetå¯¹é«˜ç²¾åœ°å›¾å’Œè½¦è¾†ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œå¾—åˆ°è¦é¢„æµ‹çš„è½¦è¾†çš„å…¨å±€ç‰¹å¾ï¼Œä»¥ç”¨äºæ¥ä¸‹æ¥çš„è§£ç ï¼Œä»è€Œå®Œæˆè½¨è¿¹é¢„æµ‹ï¼š (1). ç»ˆç‚¹é¢„æµ‹: ä¸ºæ¯ä¸ªAnchoré¢„æµ‹ä¸€ä¸ªåç§»ï¼Œå¾—åˆ°ç»ˆç‚¹ï¼Œè¿™äº›Anchorä»é“è·¯çš„ä¸­å¿ƒçº¿ä¸Šé‡‡æ ·å¾—åˆ°; (2). è½¨è¿¹è¡¥å…¨: åŸºäºä¸Šä¸€æ­¥é¢„æµ‹çš„ç»ˆç‚¹å°†æ•´æ¡è½¨è¿¹è¡¥å……å®Œæ•´; (3). è½¨è¿¹æ‰“åˆ†å’Œç­›é€‰: æ ¹æ®åœºæ™¯ç‰¹å¾ï¼Œä¸ºæ¯æ¡è½¨è¿¹è¿›è¡Œæ‰“åˆ†ï¼Œå¹¶ç­›é€‰å‡ºæœ€æœ‰å¯èƒ½çš„è‹¥å¹²æ¡è½¨è¿¹ã€‚ ","date":"2023-07-16","objectID":"/posts/densetnt_tnt/:1:1","tags":["draft"],"title":"DenseTNT and TNT è®ºæ–‡è§£è¯»","uri":"/posts/densetnt_tnt/"},{"categories":["Prediction"],"content":"TNT å®ç° åŸç† ç»™å®šä¸€ä¸ªå•ä¸ªéšœç¢ç‰©çš„è§‚æµ‹çŠ¶æ€åºåˆ— $S_P = [s_{-T^{â€™}+1}, s_{-T^{â€™}+2}, â€¦, s_0]$ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯é¢„æµ‹å®ƒçš„æœªæ¥çŠ¶æ€ $S_F = [s_1, s_2, â€¦, s_T]$ åˆ°æŸä¸ªå›ºå®šæ—¶é—´æ­¥ Tã€‚è‡ªç„¶åœ°ï¼Œéšœç¢ç‰©ä¸ç”±å…¶å®ƒéšœç¢ç‰©å’Œåœºæ™¯å…ƒç´ ç»„æˆçš„ç¯å¢ƒäº¤äº’ä½œä¸ºèƒŒæ™¯: $C_Pâ€‹=[c_{-Tâ€²+1}â€‹,c_{-Tâ€²+2}â€‹,â€¦,c_0â€‹]$ã€‚ä¸ºç®€æ´èµ·è§ï¼Œæˆ‘ä»¬è®° $X = (s_P, c_P)$ï¼Œå› æ­¤æˆ‘ä»¬æƒ³æ•æ‰çš„æ•´ä½“æ¦‚ç‡åˆ†å¸ƒæ˜¯ $p(S_F|X)$ ã€‚ å®é™…ä¸Šï¼Œ $p(S_F|X)$ å¯ä»¥æ˜¯é«˜åº¦å¤šæ¨¡æ€çš„ã€‚ä¾‹å¦‚ï¼Œè½¦è¾†é©¶è¿‘åå­—è·¯å£æ—¶å¯èƒ½å·¦è½¬ã€ç›´è¡Œæˆ–æ”¹å˜è½¦é“ã€‚ç›´è§‚ä¸Šï¼Œæœªæ¥çŠ¶æ€çš„ä¸ç¡®å®šæ€§å¯ä»¥è¢«åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†ï¼šç›®æ ‡æˆ–è€…æ„å›¾çš„ä¸ç¡®å®šæ€§ï¼Œæ¯”å¦‚å·¦å³è½¬çš„å†³å®šï¼›ä»¥åŠæ§åˆ¶çš„ä¸ç¡®å®šæ€§ï¼Œæ¯”å¦‚è½¬å¼¯æ—¶éœ€è¦çš„ç»†ç²’åº¦è¿åŠ¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹ç›®æ ‡è®¾å®šæ¡ä»¶ï¼Œç„¶åå°†å…¶è¾¹ç¼˜åŒ–ï¼Œä»è€Œå¯¹æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œåˆ†è§£ï¼š $$p(S_Fâ€‹âˆ£X)=âˆ«_{Ï„âˆˆÏ„(C_Pâ€‹)}â€‹p(Ï„âˆ£X)p(S_Fâ€‹âˆ£Ï„,X)d_Ï„â€‹, \\tag{1}$$ å…¶ä¸­ $\\tau(C_P)$ è¡¨ç¤ºå–å†³äºè§‚å¯Ÿåˆ°çš„èƒŒæ™¯ $C_P$ â€‹çš„åˆç†ç›®æ ‡ç©ºé—´ã€‚ åœ¨è¿™ä¸ªå…¬å¼ä¸‹ï¼Œæˆ‘ä»¬çš„ä¸»è¦è§è§£æ˜¯ï¼Œå¯¹äºè½¨è¿¹é¢„æµ‹ç­‰åº”ç”¨ï¼Œé€šè¿‡æ­£ç¡®è®¾è®¡ç›®æ ‡ç©ºé—´ $\\tau Ï„ ( C_P )$ï¼ˆå¦‚ç›®æ ‡ä½ç½®ï¼‰ï¼Œç›®æ ‡åˆ†å¸ƒ $ p(\\tau|X)$ å¯ä»¥å¾ˆå¥½åœ°æ•æ‰æ„å›¾ä¸ç¡®å®šæ€§ã€‚ä¸€æ—¦ç›®æ ‡ç¡®å®šï¼Œæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥è¯æ˜æ§åˆ¶ä¸ç¡®å®šæ€§ï¼ˆå¦‚è½¨è¿¹ï¼‰å¯ä»¥é€šè¿‡ç®€å•çš„å•æ¨¡æ€åˆ†å¸ƒå¯é åœ°å»ºæ¨¡ã€‚æˆ‘ä»¬ç”¨ä¸€ç»„ç¦»æ•£ä½ç½®æ¥æ¨¡æ‹Ÿç›®æ ‡ç©ºé—´ $\\tau{C_P}$ï¼Œå°† $p(\\tau|X)$ çš„ä¼°è®¡ä¸»è¦è½¬åŒ–ä¸ºä¸€ä¸ªåˆ†ç±»ä»»åŠ¡ã€‚ä¸éšå˜åˆ†æ¨¡å‹ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ¨¡å‹ä»¥æ˜ç¡®çš„ç›®æ ‡åˆ†å¸ƒçš„å½¢å¼æä¾›äº†æ›´å¥½çš„å¯è§£é‡Šæ€§ï¼Œå¹¶ä¸”åœ¨è®¾è®¡ç›®æ ‡ç©ºé—´ $\\tau{C_P}$ æ—¶å¯ä»¥è‡ªç„¶åœ°ç»“åˆä¸“å®¶çŸ¥è¯†ï¼ˆå¦‚é“è·¯æ‹“æ‰‘ï¼‰ã€‚ æˆ‘ä»¬çš„æ•´ä½“æ¡†æ¶æœ‰ä¸‰ä¸ªæ¦‚å¿µé˜¶æ®µã€‚ç¬¬ä¸€é˜¶æ®µæ˜¯éšœç¢ç‰©æ„å›¾é¢„æµ‹ï¼Œå…¶ç›®æ ‡æ˜¯ç”¨åŸºäºè§‚å¯ŸèƒŒæ™¯ $X$ çš„ç›®æ ‡ç©ºé—´ $\\tau$ çš„ç¦»æ•£é›†åˆå¯¹æ„å›¾ä¸ç¡®å®šæ€§è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶ä¸”è¾“å‡ºç›®æ ‡åˆ†å¸ƒ $p(\\tau|X)$ ã€‚ç¬¬äºŒä¸ªé˜¶æ®µæ˜¯éšœç¢ç‰©æ¡ä»¶è¿åŠ¨ä¼°è®¡ï¼Œå®ƒç”¨å•æ¨¡æ€åˆ†å¸ƒå¯¹ä»åˆå§‹çŠ¶æ€åˆ°ç›®æ ‡å¯èƒ½çš„æœªæ¥è¿åŠ¨è¿›è¡Œå»ºæ¨¡ã€‚å‰ä¸¤ä¸ªé˜¶æ®µäº§ç”Ÿäº†ä»¥ä¸‹æ¦‚ç‡é¢„æµ‹ $p(S_F|X) = \\sum_{\\tau\\in\\tau(C_P)}p(\\tau|X)p(S_F|\\tau, X)$ã€‚ è®¸å¤šä¸‹æ¸¸åº”ç”¨ï¼Œä¾‹å¦‚å®æ—¶è¡Œä¸ºé¢„æµ‹ï¼Œéœ€è¦ä¸€å°ç»„å…·æœ‰ä»£è¡¨æ€§çš„æœªæ¥é¢„æµ‹ï¼Œè€Œä¸æ˜¯æ‰€æœ‰å¯èƒ½æœªæ¥çš„å®Œæ•´åˆ†å¸ƒã€‚æˆ‘ä»¬çš„æœ€ç»ˆé˜¶æ®µï¼Œè¯„åˆ†å’Œé€‰æ‹©ï¼Œå°±æ˜¯ä¸ºæ­¤ç›®çš„é‡èº«å®šåˆ¶çš„ã€‚æˆ‘ä»¬ä»æ‰€æœ‰ä»£è¡¨æ€§é¢„æµ‹ä¸Šå­¦ä¹ ä¸€ä¸ªè¯„åˆ†å‡½æ•° $\\phi(S_F)$ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ªæœ€ç»ˆçš„å¤šæ ·åŒ–é¢„æµ‹é›†ã€‚ åœºæ™¯ç¼–ç VectorNet å»ºæ¨¡åœºæ™¯èƒŒæ™¯æ˜¯è½¨è¿¹é¢„æµ‹çš„ç¬¬ä¸€æ­¥ï¼Œä»¥è·å–è½¦è¾†-é“è·¯å’Œè½¦è¾†-è½¦è¾†ä¹‹é—´çš„äº¤äº’ã€‚TNTå¯ä»¥ä½¿ç”¨ä»»ä½•åˆé€‚çš„èƒŒæ™¯ç¼–ç å™¨ï¼šå½“é«˜æ¸…åœ°å›¾å¯ç”¨æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€ä¼˜ç§€çš„å±‚æ¬¡å›¾ç¥ç»ç½‘ç»œ VectorNet å¯¹èƒŒæ™¯è¿›è¡Œç¼–ç ã€‚å…·ä½“æ¥è¯´ï¼Œä½¿ç”¨å¤šæ®µçº¿æ¥æŠ½è±¡å‡ºé«˜æ¸…åœ°å›¾å…ƒç´  $C_P$(è½¦é“ï¼Œäº¤é€šæ ‡å¿—) å’Œä»£ç†è½¨è¿¹ $S_P$â€‹ï¼›é‡‡ç”¨å­å›¾ï¼ˆsubgraphï¼‰ç½‘ç»œå¯¹å¤šæ®µçº¿è¿›è¡Œç¼–ç ï¼Œå¤šæ®µçº¿åŒ…å«å¯å˜æ•°é‡çš„å‘é‡ï¼›ç„¶åä½¿ç”¨å…¨å±€å›¾ï¼ˆglobal graphï¼‰å¯¹å¤šæ®µçº¿ä¹‹é—´çš„äº¤äº’è¿›è¡Œå»ºæ¨¡ã€‚è¾“å‡ºæ˜¯æ¯ä¸ªå»ºæ¨¡ä»£ç†çš„å…¨å±€èƒŒæ™¯ç‰¹å¾ $X$ã€‚å¦‚æœåœºæ™¯èƒŒæ™¯åªåœ¨è‡ªä¸Šè€Œä¸‹çš„å›¾åƒå½¢å¼ä¸­å¯ç”¨ï¼Œåˆ™ä½¿ç”¨å·ç§¯ç½‘ç»œä½œä¸ºèƒŒæ™¯ç¼–ç å™¨ã€‚ ç›®æ ‡é¢„æµ‹ åœ¨æˆ‘ä»¬çš„å…¬å¼ä¸­ï¼Œç›®æ ‡ $\\tau$ è¢«å®šä¹‰ä¸ºä¸€ä¸ªé¢„æµ‹ç›®æ ‡å¯èƒ½åœ¨å›ºå®šæ—¶é—´èŒƒå›´ $T$ ä¸Šçš„ä½ç½® $(x,y)$ ã€‚åœ¨ç¬¬ä¸€æ­¥ç›®æ ‡é¢„æµ‹é˜¶æ®µï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªé¢„æµ‹ç›®æ ‡çš„æœªæ¥ç›®æ ‡çš„åˆ†å¸ƒ $p( \\tau âˆ£ X )$ ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ç»„$N$ä¸ªç¦»æ•£çš„ã€å¸¦æœ‰è¿ç»­åç§»çš„é‡åŒ–ä½ç½®æ¥å»ºæ¨¡æ½œåœ¨çš„æœªæ¥ç›®æ ‡ï¼š $\\tau ={\\tau^n}={(x^n,y^n)+(\\Delta x^n,\\Delta y^n)}^N_{n=1}$â€‹ã€‚ç„¶åè¿™ä¸ªç›®æ ‡ä¸Šåˆ†å¸ƒå¯ä»¥é€šè¿‡ä¸€ä¸ªç¦»æ•£-è¿ç»­åˆ†è§£æ¥å»ºæ¨¡ï¼š $$p(Ï„^nâˆ£X)=Ï€(Ï„^nâˆ£X)â‹…N(Î”x^nâˆ£v^x_nâ€‹(X))â‹…N(Î”_y^nâˆ£v_y^nâ€‹(X)),\\tag{2}$$ ä¸­ $\\pi(\\tau^n|X)=\\frac{e^{f(\\tau^n,X)}}{\\sum_{\\tau^{â€™}}e^{f(\\tau^{â€™},X)}}$ æ˜¯åœ¨ä½ç½®é€‰æ‹© $(x^n,y^n)$ä¸Šçš„ç¦»æ•£åˆ†å¸ƒã€‚æœ¯è¯­ $N(Â·|v(Â·))$ è¡¨ç¤ºä¸€ä¸ªå¹¿ä¹‰æ­£æ€åˆ†å¸ƒï¼Œå…¶ä¸­æˆ‘ä»¬é€‰æ‹©Huberä½œä¸ºè·ç¦»å‡½æ•°ã€‚æˆ‘ä»¬å°†å‡å€¼è¡¨ç¤ºä¸º $v(Â·)$å¹¶å‡è®¾å•ä½æ–¹å·®ã€‚ å¯è®­ç»ƒå‡½æ•° $f(Â·)$ å’Œ $v(Â·)$ ç”±ä¸€ä¸ª2å±‚çš„å¤šå±‚æ„ŸçŸ¥æœº(MLP)å®ç°ï¼Œç›®æ ‡åæ ‡ $(x^k,y^k)$ å’Œåœºæ™¯èƒŒæ™¯ç‰¹å¾ $X$ ä½œä¸ºè¾“å…¥ã€‚å®ƒä»¬é¢„æµ‹ç›®æ ‡ä½ç½®ä¸Šçš„ç¦»æ•£åˆ†å¸ƒåŠå…¶æœ€å¯èƒ½çš„åç§»é‡ã€‚è¿™ä¸€é˜¶æ®µçš„è®­ç»ƒæŸå¤±å‡½æ•°ç”±ä»¥ä¸‹å…¬å¼ç»™å‡ºï¼š $$L_{S1}â€‹=L_{clsâ€‹}(Ï€,u)+L_{offset}â€‹(v_xâ€‹,v_yâ€‹,Î”x^u,Î”y^u),\\tag{3}$$ å…¶ä¸­ $L_{cls}$ æ˜¯äº¤å‰ç†µæŸå¤±ï¼Œ $L_{offset}$â€‹ æ˜¯ Huber æŸå¤±ï¼›$u$ æ˜¯ç¦»çœŸå®ä½ç½®æœ€è¿‘çš„ç›®æ ‡ï¼Œå¹¶ä¸” $\\Delta x^u,\\Delta y^u$ æ˜¯ $u$ ç›¸å¯¹äºçœŸå€¼çš„ç©ºé—´åç§»é‡ã€‚ ç¦»æ•£ç›®æ ‡ç©ºé—´çš„é€‰æ‹©åœ¨ä¸åŒåº”ç”¨ä¸­æ˜¯çµæ´»çš„ï¼Œå¦‚å›¾3æ‰€ç¤ºã€‚åœ¨è½¦è¾†è½¨è¿¹é¢„æµ‹é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬ä»é«˜æ¸…åœ°å›¾é‡Œå‡åŒ€åœ°é‡‡æ ·è½¦é“ä¸­å¿ƒçº¿ä¸Šçš„ç‚¹å¹¶ä¸”å°†ä»–ä»¬ä½œä¸ºç›®æ ‡å€™é€‰ç‚¹(æ ‡è®°ä¸ºé»„è‰²è±å½¢)ï¼Œå‡è®¾è½¦è¾†ä»æœªè¿œç¦»è½¦é“çº¿ï¼›å¯¹äºè¡Œäººï¼Œæˆ‘ä»¬åœ¨ä»£ç†å‘¨å›´ç”Ÿæˆäº†ä¸€ä¸ªè™šæ‹Ÿç½‘æ ¼å¹¶å°†ç½‘æ ¼ç‚¹ä½œä¸ºç›®æ ‡å€™é€‰ç‚¹ã€‚å¯¹æ¯ä¸ªå€™é€‰ç›®æ ‡ï¼ŒTNTç›®æ ‡é¢„æµ‹å™¨ç”Ÿæˆäº†ä¸€ä¸ª $(\\pi,\\Delta x, \\Delta y)$ çš„å…ƒç»„ï¼›å›å½’åçš„ç›®æ ‡ä»¥æ©™è‰²äº”è§’æ˜Ÿæ ‡è®°ã€‚ä¸ç›´æ¥å›å½’ç›¸æ¯”ï¼Œå°†æœªæ¥å»ºæ¨¡æˆä¸€ç»„ç¦»æ•£ç›®æ ‡çš„æœ€æ˜¾è‘—çš„ä¼˜åŠ¿åœ¨äºï¼Œå®ƒä¸å—æ¨¡æ€å¹³å‡çš„å½±å“ï¼Œæ¨¡æ€å¹³å‡æ˜¯é˜»æ­¢å¤šæ¨¡æ€é¢„æµ‹çš„ä¸»è¦å› ç´ ã€‚ åŸºäºç›®æ ‡çš„è¿åŠ¨ä¼°è®¡ åœ¨ç¬¬äºŒé˜¶æ®µï¼Œæˆ‘ä»¬å°†ç»™å®šç›®æ ‡è½¨è¿¹çš„å¯èƒ½æ€§å»ºæ¨¡ä¸º $p(S_F|\\tau,X)=\\prod^T_{t=1}p(s_t|\\tau,X)$ï¼ŒåŒæ ·é‡‡ç”¨äº†å¹¿ä¹‰æ­£æ€åˆ†å¸ƒã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªå‡è®¾ã€‚é¦–å…ˆï¼Œæœªæ¥æ—¶é—´æ­¥æ˜¯æ¡ä»¶ç‹¬ç«‹çš„ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬çš„æ¨¡å‹é€šè¿‡é¿å…é¡ºåºé¢„æµ‹æé«˜äº†è®¡ç®—æ•ˆç‡ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬æ­£åœ¨ä½œå‡ºæœ‰åŠ›ä½†åˆç†çš„å‡è®¾ï¼Œå³ç»™å®šç›®æ ‡çš„è½¨è¿¹åˆ†å¸ƒæ˜¯å•æ¨¡æ€(æ­£æ€)çš„ã€‚å¯¹äºçŸ­çš„æ—¶é—´èŒƒå›´æ¥è¯´ï¼Œè¿™å½“ç„¶æ˜¯æ­£ç¡®çš„ï¼›å¯¹äºæ›´é•¿çš„æ—¶é—´èŒƒå›´ï¼Œå¯ä»¥åœ¨(ä¸­é—´)ç›®æ ‡é¢„æµ‹å’Œè¿åŠ¨ä¼°è®¡ä¹‹é—´è¿­ä»£ï¼Œä»¥ä¾¿å‡è®¾ä»ç„¶æˆç«‹ã€‚ è¿™ä¸€é˜¶æ®µä½¿ç”¨2å±‚çš„MLPå®ç°ã€‚å®ƒå°†èƒŒæ™¯ç‰¹å¾ X å’Œç›®æ ‡ä½ç½® $\\tau$ ä½œä¸ºè¾“å…¥ï¼Œå¹¶ä¸”æ¯ä¸ªç›®æ ‡è¾“å‡ºä¸€æ¡æœ€å¯èƒ½çš„è½¨è¿¹ $[\\hat{s_1},â€¦,\\hat{s_T}] [s1â€‹^â€‹,â€¦,sTâ€‹^â€‹]$ã€‚ç”±äºå®ƒä»¥ç¬¬ä¸€é˜¶æ®µçš„é¢„æµ‹ç›®æ ‡ä¸ºæ¡ä»¶ï¼Œä¸ºäº†å®ç°å¹³æ»‘çš„å­¦ä¹ è¿‡ç¨‹ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒæ—¶é‡‡ç”¨teacher forcing Technique[36]ï¼Œå°†çœŸå®ä½ç½® $(x^n,y^n)$ ä½œä¸ºç›®æ ‡ã€‚è¯¥é˜¶æ®µçš„æŸå¤±é¡¹æ˜¯é¢„æµ‹çŠ¶æ€ $\\hat{s_t}$â€‹ å’ŒçœŸå€¼ $s_t$â€‹ ä¹‹é—´çš„è·ç¦»ï¼š $$L_{S2}â€‹ = \\sum_{t=1}^{T}â€‹L_{reg}â€‹(\\hat{s},s_tâ€‹),\\tag{4}$$ å…¶ä¸­ï¼Œ $L_{reg}$â€‹ ä½œä¸ºæ¯ä¸€æ­¥åæ ‡åç§»çš„ Huber æŸå¤±æ¥å®ç°ã€‚ è½¨è¿¹è¯„åˆ†å’Œé€‰æ‹© æˆ‘ä»¬çš„æœ€ç»ˆé˜¶æ®µä¼°è®¡æœªæ¥å®Œæ•´è½¨è¿¹ S F S_F SFâ€‹ çš„å¯èƒ½æ€§ã€‚è¿™å’Œç¬¬äºŒé˜¶æ®µä¸åŒï¼Œç¬¬äºŒé˜¶æ®µåˆ†è§£æ—¶é—´æ­¥å’Œç›®æ ‡ï¼Œä¹Ÿå’Œç¬¬ä¸€é˜¶æ®µä¸åŒï¼Œç¬¬ä¸€é˜¶æ®µåªçŸ¥é“ç›®æ ‡ï¼Œä½†æ²¡æœ‰å®Œæ•´çš„è½¨è¿¹â€”â€”ä¾‹å¦‚ï¼Œä¸€ä¸ªç›®æ ‡å¯èƒ½è¢«ä¼°è®¡æœ‰å¾ˆé«˜çš„å¯èƒ½æ€§ï¼Œä½†åˆ°è¾¾è¯¥ç›®æ ‡å®Œæ•´è½¨è¿¹çš„å¯èƒ½æ€§å¯èƒ½ä¸æ˜¯ã€‚ æˆ‘ä»¬ä½¿ç”¨æœ€å¤§ç†µæ¨¡å‹å¯¹ç¬¬äºŒé˜¶æ®µçš„æ‰€æœ‰ M æ¡è½¨è¿¹è¿›è¡Œè¯„åˆ†: $$\\phi (S_F | X) = \\frac{e^{g(S_F, X)}}{{\\sum}_{m=1}^{M} e^{g(S_F^m, X)}}â€‹$$, å…¶ä¸­ $g(Â·)$ è¢«å»ºæ¨¡ä¸ºä¸€ä¸ª2å±‚çš„ MLPã€‚è¿™ä¸€é˜¶æ®µè®­ç»ƒçš„æŸå¤±é¡¹æ˜¯é¢„æµ‹åˆ†æ•°å’ŒçœŸå€¼åˆ†æ•°ä¹‹é—´çš„äº¤å‰ç†µï¼Œ $$L_{S3} = L_{CE}(\\phi (S_F | X), \\psi(S_F))$$ å…¶ä¸­æ¯ä¸ªé¢„æµ‹è½¨è¿¹çš„çœŸå€¼è¯„åˆ†ç”±é¢„æµ‹è½¨è¿¹åˆ°çœŸå€¼è½¨è¿¹çš„è·ç¦» $\\psi(S_F)=\\frac{exp(-D(S,S_{GT})/\\alpha)}{\\sum_{s^{â€™}}exp(-D(S^{â€™},S_{GT})/\\alpha)}$ å®šä¹‰ï¼Œå…¶ä¸­ $D(Â·)$ å•ä½ä¸ºç±³ï¼Œ $\\alpha$ æ˜¯æ¸©åº¦ã€‚è·ç¦»åº¦é‡å®šä¹‰ä¸º $D(S^i,S^j)=max(||s^i_1-s^j_1||^2_2,â€¦,||s^i_t-s^j_t||^2_2)$ã€‚ ä¸ºäº†ä»å·²è¯„åˆ†çš„ $M$ ä¸ªè½¨è¿¹è·å¾—æœ€ç»ˆä¸€å°ç»„ $K$ ä¸ªé¢„æµ‹è½¨è¿¹ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªè½¨è¿¹é€‰æ‹©ç®—æ³•æ¥æ’é™¤è¿‘ä¼¼é‡å¤çš„è½¨è¿¹ã€‚æˆ‘ä»¬é¦–å…ˆæ ¹æ®ä»–ä»¬çš„åˆ†æ•°å¯¹è½¨è¿¹è¿›è¡Œé™åºæ’åˆ—ï¼Œå¹¶ä¸”è´ªå©ªåœ°é€‰æ‹©è½¨è¿¹ï¼› å¦‚æœä¸€ä¸ªè½¨è¿¹è·ç¦»æ‰€æœ‰çš„é€‰æ‹©è½¨è¿¹éƒ½è¶³å¤Ÿè¿œï¼Œæˆ‘ä»¬ä¹Ÿä¼šé€‰æ‹©å®ƒï¼Œå¦åˆ™æ’é™¤å®ƒã€‚è¿™é‡Œä½¿ç”¨çš„è·ç¦»åº¦é‡å’Œè¯„åˆ†è¿‡ç¨‹ç›¸åŒã€‚è¿™ä¸ªè¿‡ç¨‹çš„çµæ„Ÿæ¥æºäºé€šå¸¸åº”ç”¨äºè®¡ç®—æœºè§†è§‰é—®é¢˜ï¼ˆå¦‚ç›®æ ‡æ£€æµ‹ï¼‰çš„éæå¤§å€¼æŠ‘åˆ¶ç®—æ³•ã€‚ è®­ç»ƒå’Œæ¨ç†ç»†èŠ‚ ä¸Šè¿°çš„ TNT å…¬å¼äº§ç”Ÿå…¨ç›‘ç£çš„ç«¯åˆ°ç«¯è®­ç»ƒï¼Œå…·æœ‰æŸå¤±å‡½æ•° $$L = \\lambda_1 L_{S1} + \\lambda_2 L_{S2} + \\lambda_3 L_{S3}$$ å…¶ä¸­ï¼Œé€‰æ‹© $\\lambda_1,\\lambda_2,\\lambda_3$ æ¥å¹³è¡¡è®­ç»ƒè¿‡ç¨‹ã€‚ åœ¨æ¨ç†æ—¶ï¼ŒTNT çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š (1) å·¥ä½œåœºæ™¯ç¼–ç ï¼› (2) é‡‡æ · N ä¸ªå€™é€‰ç›®æ ‡ä½œä¸ºç›®æ ‡é¢„æµ‹å™¨çš„è¾“å…¥ï¼Œå–ç”± $\\pi(\\tau|X)$ ä¼°è®¡çš„å‰ M ä¸ªç›®æ ‡ï¼› (3) ä»è¿åŠ¨ä¼°è®¡æ¨¡å‹ $p(S_F|\\tau,X)$ ä¸­è·å– M ä¸ªç›®æ ‡","date":"2023-07-16","objectID":"/posts/densetnt_tnt/:1:2","tags":["draft"],"title":"DenseTNT and TNT è®ºæ–‡è§£è¯»","uri":"/posts/densetnt_tnt/"},{"categories":["Prediction"],"content":"DenseTNT: ref link: https://blog.csdn.net/weixin_39397852/article/details/122764880 ","date":"2023-07-16","objectID":"/posts/densetnt_tnt/:2:0","tags":["draft"],"title":"DenseTNT and TNT è®ºæ–‡è§£è¯»","uri":"/posts/densetnt_tnt/"},{"categories":["Prediction"],"content":"Comparison between DenseTNT and TNT TNT(å·¦å›¾)æ˜¯æ ¹æ®laneå®šä¹‰ä¸€äº›anchorï¼Œå†regresså’Œclassifyè·å¾—æœ€ç»ˆçš„ä½ç½®ï¼Œä¹‹åè¿˜è¦é€šè¿‡NMSçš„ç­›é€‰æ³•é€‰å‡ºæœ€åçš„è½¨è¿¹ã€‚ DenseTNT(å³å›¾)æ˜¯é€šè¿‡å¯†é›†åœ°é‡‡ç‚¹é¿å…äº†å®šä¹‰anchorï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†ä½¿ç”¨NMSç­‰è§„åˆ™æ¥ç­›é€‰è½¨è¿¹ã€‚ æ„å›¾é¢„æµ‹ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªé—®é¢˜æ˜¯ground truthåªæœ‰ä¸€ä¸ªï¼Œè€Œå¯¹äºå¤šæ„å›¾çš„é¢„æµ‹æ¥è¯´ï¼Œå¤šä¸ªæ–¹å‘çš„é¢„æµ‹éƒ½æ˜¯å…è®¸çš„ï¼Œè¿™å¯¼è‡´äº†labelä¸­æœ‰å¾ˆå¤šéƒ½æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºgtåªåŒ…å«äº†ä¸€ä¸ªæ„å›¾ä¸‹çš„ç»“æœã€‚æ­¤å¤„è®¾è®¡äº†ä¸€ä¸ªofflineçš„modelæ¥æä¾›å¤šä¸ªæ„å›¾ä¸‹çš„labelã€‚è¿™ä¸ªmodelä½¿ç”¨äº†ä¸€ä¸ªä¼˜åŒ–ç®—æ³•ä»goalçš„åˆ†å¸ƒé‡Œå–å‡ºäº†ä¸€ä¸ªsetä½œä¸ºonline modelçš„labelã€‚ ","date":"2023-07-16","objectID":"/posts/densetnt_tnt/:2:1","tags":["draft"],"title":"DenseTNT and TNT è®ºæ–‡è§£è¯»","uri":"/posts/densetnt_tnt/"},{"categories":["Prediction"],"content":"Method å…·ä½“å®ç°æ–¹æ³• sparse context encoding â€“ VectorNet æœ¬æ–‡ä½¿ç”¨VectorNetæ¥æå–åœ°å›¾çš„featureã€‚(æ²¡æœ‰çš„é«˜ç²¾åœ°å›¾çš„è¯ä¹Ÿå¯ä½¿ç”¨CNN) Dense goal probability estimation TNTå¯¹äºä¸€ä¸ªgoalåªé¢„æµ‹ä¸€æ¡è½¨è¿¹çš„æ¦‚ç‡æ˜¯æœ‰é—®é¢˜çš„ï¼šä¸€ä¸ªgoalåªæœ‰ä¸€æ¡é¢„æµ‹(å¯èƒ½é€šå‘è¿™ä¸ªgoalçš„åˆ«çš„é¢„æµ‹æ¦‚ç‡å¾ˆé«˜)ï¼Œä¸€ä¸ªgoalè·å–çš„featureä¸å¤Ÿä¸°å¯Œ(goalé™„è¿‘çš„ç‚¹çš„ä¿¡æ¯ä¹Ÿç”¨ä¸Šä¼šæ›´å¥½)ã€‚ æˆ‘ä»¬ä½¿ç”¨äº†dense goal encoderã€‚å®ƒä»¥ä¸€å®šçš„é‡‡æ ·é¢‘ç‡è·å–äº†åœ°å›¾ä¸Šåœ¨é“è·¯ä¸Šçš„æ‰€æœ‰ç‚¹ã€‚ç„¶åé¢„æµ‹äº†è¿™äº›å¯†é›†ç‚¹çš„æ¦‚ç‡åˆ†å¸ƒã€‚ Lane Scoring åœ¨è®ºæ–‡å®ç°ä¸­ï¼Œå¯ä»¥ç”¨point scoringä»£æ›¿ï¼Œæ•ˆæœæ›´å¥½ã€‚ç›®çš„åœ¨ä¸é€‰å‡ºè·ç¦»final pos(gt)æ›´è¿‘çš„ç‚¹ã€‚ ä¸ºäº†å‡å°‘éœ€è¦sampleçš„ç‚¹ï¼Œæˆ‘ä»¬å…ˆé¢„æµ‹goalè½åœ¨ä¸åŒlaneä¸Šçš„æ¦‚ç‡ï¼Œè¿™æ ·èƒ½è¿‡æ»¤æ‰æ˜æ˜¾ä¸åœ¨candidate laneé™„è¿‘çš„ç‚¹ï¼Œæå‡è¿ç®—é€Ÿåº¦ã€‚ è¿™æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ã€‚å› æ­¤ä½¿ç”¨äº†äºŒåˆ†ç±»çš„äº¤å‰ç†µè®¡ç®—lossã€‚å¯¹äºlabelï¼Œä½¿ç”¨ç¦»gtçš„goalæœ€è¿‘çš„laneä½œä¸º1ï¼Œåˆ«çš„laneä¸º0ã€‚å¯¹äºåˆ«çš„lane $l$ï¼Œå‡è®¾gtçš„goalæ˜¯$y_{gt}$â€‹ï¼Œå®šä¹‰ä¸€ä¸ªdistance $$d(l,y_{gt}) = min(||l_1 - y_{gt}||^2, ||l_2 - y_{gt}||^2, â€¦, ||l_t - y_{gt}||^2,)$$ ç›´è§‰ä¸Šå°±æ˜¯gtçš„goalåˆ°è¿™æ¡laneçš„æœ€çŸ­è·ç¦»çš„å¹³æ–¹ã€‚ Probability Estimation è·å¾—æ¦‚ç‡åˆ†å¸ƒçš„åšæ³•æ˜¯self-attentionã€‚é¦–å…ˆagentçš„featureç»è¿‡ä¸¤æ¬¡MLPã€‚ç„¶åæŠŠgoalçš„feature $F$ä½œä¸ºéœ€è¦queryçš„å˜é‡ï¼Œä»åœ°å›¾ä¸Šæ‰€æœ‰å…ƒç´  (laneï¼Œagent)çš„featureä¸­å»æŸ¥æ‰¾ç´¢å¼•å¯¹åº”çš„é”®å’Œå€¼ã€‚ç›®çš„å°±æ˜¯å»ºç«‹goalçš„featureä¸åœ°å›¾ä¸Šæ‰€æœ‰å…ƒç´ çš„è”ç³»ã€‚ç›´è§‚ä¸Šï¼Œè¿™ä¸€æ­¥æ˜¯æŠŠagentçš„æœªæ¥çŠ¶æ€(goal)è¡¨ç¤ºæˆç”±å†å²çš„ä¿¡æ¯ä½œä¸ºå˜é‡çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°é‡‡ç”¨çš„æ˜¯self-attentionçš„åšæ³•ã€‚ è½¨è¿¹ç›®æ ‡ç‚¹(goals)å’Œé“è·¯çš„å±€éƒ¨ä¿¡æ¯å¯ä»¥ç”¨ä»¥ä¸‹æ³¨æ„åŠ›æœºåˆ¶è¡¨ç¤º: $$\\mathbf{Q} = \\mathbf{FW}^{\\mathbf{Q}}, \\mathbf{K} = \\mathbf{LW}^{\\mathbf{K}}, \\mathbf{V}=\\mathbf{LW}^{\\mathbf{V}}$$ $$\\mathbf{A}(\\mathbf{Q},\\mathbf{K},\\mathbf{V}) = softmax(\\frac{\\mathbf{QK^\\top}}{\\sqrt{d_k}})\\mathbf{V}$$ where $\\mathbf{W}^Q, \\mathbf{W}^{K}, \\mathbf{W}^{V} \\in \\mathbb{R}^{d_h \\times d_k}$ are the matrices for linear projection, $d_k$ is the dimension of query / key / value vectors, and $\\mathbf{F}, \\mathbf{F}$ are feature matrices of the dense goal candidates and all map elements (i.e., lanes or agents), respectively. è¿™ä¸€æ­¥ä¹‹åçš„ç»“æœæ˜¯goalæ–°çš„feature $\\mathbf{F}$ã€‚å†é€šè¿‡ä¸¤æ¬¡MLPï¼Œå³ä¸‹å›¾ä¸­çš„ $g(.)$.ç”¨softmaxä¸­çš„æ–¹æ³•è·å¾—æ¯ä¸ªgoalçš„æ¦‚ç‡ã€‚å°†æ‰€æœ‰goalåœ¨åœ°å›¾ä¸Šè¡¨ç¤ºå‡ºæ¥çš„è¯å°±æ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒheatmapã€‚ $$\\phi_i = \\frac{\\exp(g(\\mathbf{F}i))}{\\sum{n=1}^{N}\\exp(g(\\mathbf{F}_n))}$$ å¯¹äºLossçš„è®¡ç®—ï¼Œç¦»gtçš„goalæœ€è¿‘çš„goalçš„labelå®šä¸º1ï¼Œå…¶ä½™éƒ½ä¸º0.é‡‡å–äºŒåˆ†ç±»äº¤å‰ç†µçš„ç®—æ³•ã€‚ $$\\mathcal{L}\\text{goal} = \\mathcal{L}{\\text{CE}}(\\phi, \\psi)$$ Goal Set Prediction å¯¹äºå¤šæ„å›¾çš„é¢„æµ‹ï¼Œåœ¨TNTä¸­ï¼Œé¢„å…ˆè®¾å®šå¥½targetï¼Œé‡‡ç”¨NMS(non-maximum suppression)(é çš„è¿‘æˆ–æ¦‚ç‡ä½çš„è¿‡æ»¤æ‰)ã€‚è€ŒDenseTNTçš„ä¸Šä¸€æ­¥è·å¾—æ˜¯heatmapï¼Œå› æ­¤ä¸èƒ½ç®€å•ä½¿ç”¨NMSï¼Œå› ä¸ºç”¨äºç­›é€‰çš„é˜ˆå€¼æ¯”è¾ƒéš¾å®šã€‚è¿™æ˜¯å› ä¸ºTNTä¸­é‡‡ç”¨çš„æ˜¯ä»é«˜åˆ°ä½æ’åºæ¦‚ç‡ï¼Œè€ŒDenseTNTä¸­çš„æ¦‚ç‡åˆ†å¸ƒæ˜¯é’ˆå¯¹äºæ•´ä¸ªé¸Ÿç°å›¾çš„ï¼Œä¸€æ—¦æ„å›¾çš„å¯èƒ½æ€§å˜å¤šäº†ï¼Œå¹³å‡åˆ†å¸ƒåˆ°æ¯ä¸€ä¸ªæ„å›¾çš„æ¦‚ç‡å°±ä½äº†(å¯¹äºæ¦‚ç‡åˆ†å¸ƒï¼Œæ‰€æœ‰çš„ç‚¹çš„æ¦‚ç‡åŠ èµ·æ¥éœ€è¦ä¸º1)ã€‚ heatmapï¼Œè¾“å‡ºæ˜¯goal setï¼Œè¿™ä¸ªæœ‰ç‚¹åƒç›®æ ‡æ£€æµ‹çš„æ¡†ç”Ÿæˆã€‚ä½†å’Œç›®æ ‡æ£€æµ‹ä¸åŒï¼Œå¯¹äºä¸€ä¸ªè¾“å…¥ï¼Œæˆ‘ä»¬çš„labelåªæœ‰ä¸€ä¸ªï¼Œå³gtã€‚è¿™æ ·çš„è¯å¯èƒ½ä¼šæœ‰åˆ«çš„æ„å›¾çš„ç»“æœåœ¨è®­ç»ƒä¸­è¢«å¿½ç•¥ã€‚ä¸ºæ­¤ï¼Œè®¾è®¡äº†ä¸€ä¸ªoffline modelæ¥åˆ¶é€ è¿™äº›labelã€‚å®ƒå’Œonline modelçš„åŒºåˆ«å°±åœ¨è¿™ä¸€æ­¥ä¸­ã€‚æ²¡æœ‰ä½¿ç”¨goal set predictorè€Œæ˜¯é‡‡ç”¨äº†ä¼˜åŒ–ç®—æ³•ã€‚ Offline Optimization ä¸Šä¸€æ­¥heatmapçš„è¾“å‡ºï¼Œå®é™…ä¸Šæ˜¯å¯¹äºåœ°å›¾ä¸Šä¼—å¤šgoalæ¯ä¸ªç‚¹çš„ä¸€ä¸ªå‡½æ•°ã€‚è®¾å®š $C={c_1,c_2,â€¦,c_m}$ ä¸ºæ‰€æœ‰dense goalçš„candidateï¼Œheatmapå°±æŠŠ $C$ æ˜ å°„åˆ°ä¸€ä¸ª0åˆ°1çš„é›†åˆï¼Œå†™æˆ $h(c_i)$ ï¼Œè¿™ä¹Ÿæ˜¯æ¯ä¸ªgoalçš„æ¦‚ç‡ã€‚ æ¥ä¸‹æ¥å®šä¹‰ä¸€ä¸ªç›®æ ‡å‡½æ•°: $$E[d(\\hat{y}, Y)] = \\sum^m_{i=1}h(c_i)d(\\hat{y}, c_i)$$ å…¶ä¸­ï¼Œ$d(\\hat{y}, c_i) = \\mathop{\\min}\\limits_{y_i \\in \\hat{y}}||y_j - y_{c_i}||$ ä»ç›´è§‚ä¸Šè®²ï¼Œç›®æ ‡æ˜¯æœ‰Mä¸ªgoalï¼ˆå¤§æ± å­ï¼‰ï¼Œè¦ä»ä¸­é€‰å–Kä¸ªé è°±çš„goalï¼ˆå°æ± å­ï¼‰ã€‚ $d$ æ˜¯é’ˆå¯¹äºå¤§æ± å­çš„ï¼Œå¯¹äºå¤§æ± å­é‡Œæ‰€æœ‰candidateéƒ½æœ‰ä¸€ä¸ª $d$ã€‚è¿™æ¯ä¸ªcandidateéƒ½ä¸å°æ± å­ä¸­çš„goalè®¡ç®—è·ç¦»ï¼Œå–æœ€è¿‘çš„ä½œä¸º d d dï¼Œå³å¯»æ‰¾å°æ± å­ä¸­ç¦»candidateæœ€è¿‘çš„ç‚¹ã€‚å¯¹äºæ‰€æœ‰çš„ $d$ï¼Œç”¨æ¦‚ç‡åŠ æƒè®¡ç®—æœŸæœ›ã€‚æ€»ä½“çš„è¯åœ¨æ”¶æ•›æƒ…å†µï¼Œå¤§æ± å­ä¸­çš„æ‰€æœ‰goalåˆ°è·ç¦»è‡ªå·±æœ€è¿‘çš„å°æ± å­ä¸­çš„goalä¹˜ä¸Šæ¦‚ç‡åŠ æƒåº”å½“è¾¾åˆ°æœ€å°ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸ªä¼˜åŒ–ç®—æ³•çš„å®ç°ã€‚ ç¿»è¯‘æˆä¸­æ–‡ï¼š åˆå§‹åŒ–Kä¸ªgoalï¼Œä»Mä¸ªgoalçš„å¤§æ± å­é‡Œéšæœºé€‰ å°æ± å­é‡Œçš„æ¯ä¸ªgoalåšéšæœºæ‰°åŠ¨ï¼Œå˜ä¸ºåˆ«çš„goal è®¡ç®—åŸæ¥çš„å’Œç°åœ¨çš„å°æ± å­çš„dçš„æœŸæœ›eå’Œeâ€™ å¦‚æœç°åœ¨çš„å°æ± å­dçš„æœŸæœ›æ›´å°ï¼Œåˆ™ä½¿ç”¨ç°åœ¨çš„å°æ± å­ã€‚å¦åˆ™ä»¥1%çš„æ¦‚ç‡é‡‡ç”¨ç°åœ¨çš„å°æ± å­ã€‚ï¼ˆé¿å…å±€éƒ¨æœ€ä¼˜ï¼‰ ä¸åœå¾ªç¯2-4ç›´åˆ°æ­¥æ•°è¾¾åˆ°é˜ˆå€¼ï¼ˆæˆ–æ—¶é—´å¤ªé•¿ï¼‰ ä¼˜åŒ–ç®—æ³•ä¹‹åå¾—åˆ°çš„å°±æ˜¯å…¨å±€æœ€ä¼˜çš„é€‰ä¸­çš„å°æ± å­ã€‚è¿™ä¸ªå°æ± å­é‡Œçš„ç»“æœèƒ½ä½œä¸ºè®­ç»ƒonlineæ¨¡å‹çš„ä¼ªlabelã€‚ Goal Set Predictor (online) æ¨¡å‹é‡‡ç”¨äº†encode+decodeçš„åŠæ³•ã€‚encoderéƒ¨åˆ†æ˜¯ä¸€å±‚self-attentionåŠ ä¸Šmax poolingï¼Œdecoderéƒ¨åˆ†æ˜¯2å±‚MLPï¼Œè¾“å…¥æ˜¯heatmapï¼Œè¾“å‡ºæ˜¯2K+1ä¸ªå€¼ï¼Œåˆ†åˆ«å¯¹åº”Kä¸ª2ç»´åæ ‡ï¼ˆgoal setï¼‰å’Œä¸€ä¸ªå½“å‰goal setçš„confidenceã€‚ è€ƒè™‘åˆ°heatmapçš„æ¦‚ç‡åˆ†å¸ƒæ¯”è¾ƒæ•£ï¼Œå¯ä»¥é‡‡ç”¨Nå¤´åŒæ—¶è¿ç®—ã€‚å³Nä¸ªgoal set predictorè¾“å‡ºNä¸ª2K+1çš„å€¼ï¼Œä»å½“ä¸­é€‰å–confidenceæœ€é«˜çš„é‚£ä¸ªgoal seté¢„æµ‹ã€‚ä¸ºäº†è¿ç®—æ•ˆç‡çš„æå‡ï¼Œè¿™Nå¤´ä½¿ç”¨ç›¸åŒçš„self-attentionå±‚ï¼Œä½†æ˜¯ä¸åŒçš„2ä¸ªMLPã€‚ åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨äº†offlineæ¨¡å‹çš„ä¼ªlabelä½œä¸ºç›‘ç£ã€‚ä¸Šè¿°offlineä¸­è®²åˆ°çš„åˆå§‹é€‰å®šçš„å°æ± å­ï¼Œåœ¨è¿™é‡Œé‡‡ç”¨çš„æ˜¯onlineæ¨¡å‹çš„Kä¸ªgoalçš„setçš„é¢„æµ‹ã€‚ç„¶åç»è¿‡Læ¬¡éšæœºæ‰°åŠ¨ï¼ˆå³ä¸åœéšæœºé€‰å–é‚»å±…ç‚¹ï¼ŒL=100ï¼‰ï¼Œé€‰å–å½“ä¸­expected errorï¼ˆofflineé‡Œçš„æœŸæœ›é¡¹ï¼‰æœ€å°çš„é‚£ä¸ªsetä½œä¸ºä¼ªlabelã€‚ æ ‡è®° $\\dot{y}$ â€‹ä¸ºé¢„æµ‹ç»“æœï¼Œ $\\hat{y}$ â€‹ä¸ºä¼ªlabelï¼Œåˆ™lossçš„è®¡ç®—å¦‚ä¸‹ã€‚å³ä¸€ä¸€å¯¹åº”åçš„L1è·ç¦»ä¹‹å’Œã€‚ $$\\mathcal{L_{set}(\\dot{y}, \\hat{y})} = \\sum_{i=1}^{k}\\mathcal{L}_{\\text{reg}}(\\dot{y}, \\hat{y})$$ å†è€ƒè™‘åˆ°é‡‡ç”¨äº†Nå¤´é¢„æµ‹ï¼Œè¿™éƒ¨åˆ†çš„losså°†é‡‡ç”¨äºŒåˆ†ç±»çš„äº¤å‰ç†µã€‚å…¶ä¸­ $\\mu$ ä¸ºæ‰€æœ‰headçš„confidenceï¼Œ$\\nu$ ä¸ºlabelï¼Œåªæœ‰expected erroræœ€ä½çš„labelä¸º1ï¼Œåˆ«çš„ä¸º0ã€‚ $$\\mathcal{L}\\text{head} = \\mathcal{L}{\\text{CE}}(\\mu, \\nu)$$ Trajectory Completion è¿™ä¸€æ­¥å’ŒTNTåšæ³•ç±»ä¼¼ã€‚ç±»ä¼¼äºdense goal encodingï¼ˆ2å±‚MLPåè¿‡self-attentionï¼‰æœ€åè¿‡2å±‚MLPæ¥decodeå¾—åˆ°æ•´æ¡é¢„æµ‹è½¨è¿¹çš„stateã€‚é‡‡ç”¨teacher forcingæŠ€å·§ï¼ˆå› ä¸ºåªæœ‰ä¸€æ¡gtï¼‰è®­ç»ƒæ—¶åªç”¨gtçš„goalæ¥ç®—è¿™æ¡é¢„æµ‹è½¨è¿¹ã€‚Lossçš„ç®—æ³•å’ŒTNTä¸€æ ·ï¼Œç”¨çš„æ˜¯ç‚¹ç‚¹ä¹‹é—´çš„Huber lossã€‚ $$\\mathcal{L}{\\text{completion}}","date":"2023-07-16","objectID":"/posts/densetnt_tnt/:2:2","tags":["draft"],"title":"DenseTNT and TNT è®ºæ–‡è§£è¯»","uri":"/posts/densetnt_tnt/"},{"categories":["Prediction"],"content":"paper link: https://arxiv.org/abs/2007.13732 PPT: https://www.cs.toronto.edu/~byang/slides/LaneGCN.pdf ","date":"2023-07-16","objectID":"/posts/lanegcn/:0:0","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"Architechture Lane Graph + Actor Map: construct lane graph from vectorized map data to preserve the map structure and can avoid information loss æ„å»ºçŸ¢é‡åŒ–åœ°å›¾ä¿¡æ¯ï¼Œé¿å…åœ°å›¾ä¿¡æ¯ä¸¢å¤± LaneGCN: extends graph convolutions with multiple adjacency matrices and along-lane dilation to capture complex topology and long range dependencies of the lane graph. exploit a fusion network consisting of four types of interactions: actor-to-lane, lane-to-actor, actor-to-actor, lane-to-lane. present both actors and lanes as nodes in the graph and use a 1D CNN and LaneGCN to extract the features for the actor and lane nodes respectively, and then exploit spatial attention and another LaneGCN to model four types of interactions. Difference between VectorNet and LaneGCN: VecotrNet uses vanilla graph networks with undirected full connections; LaneGCN uses connected lane graph folllowing the map topology and propose task specific multi-type and dilated graph operators. VectorNet uses polyline-level nodes for interactions; LaneGCN uses polyline segments as map nodes to capture higher resolution. ","date":"2023-07-16","objectID":"/posts/lanegcn/:1:0","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"Lane Graph Representations for Motion Forecasting ","date":"2023-07-16","objectID":"/posts/lanegcn/:2:0","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"ActorNet: Extracting Traffic Participant Representations Each Trajctory is represented as a sequence of displacement ${ \\bigtriangleup{p_{-(T-1)},â€¦,\\bigtriangleup{p_{-1}}, \\bigtriangleup{p_0}}}$, where $\\bigtriangleup{p_t}$ is the 2D displacement from time step $t-1$ to t, and T is the trajectory size. For trajectories with sizes smaller than $T$ , we pad them with zeros. We add a binary $1 Ã— T$ mask to indicate if the element at each step is padded or not and concatenate it with the trajectory tensor, resulting in an input tensor of size $3 Ã— T$. 1D CNN is used to process the trajectory input for its effectiveness in extracting multi-scale features and efficiency in parallel computing. The output of ActorNet is a temporal feature map, whose element at $t = 0$ is used as the actor feature. The network has 3 groups/scales of 1D convolutions. Each group consists of 2 residual blocks, with the stride of the first block as 2. We then use a Feature Pyramid Network (FPN) to fuse the multi-scale features, and apply another residual block to obtain the output tensor. For all layers, the convolution kernel size is 3 and the number of output channels is 128. Layer normalization and the Rectified Linear Unit (ReLU) are used after each convolution. ","date":"2023-07-16","objectID":"/posts/lanegcn/:2:1","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"MapNet: Extracting Structured Map Representation General Architecture: part 1: building a lane graph from vectorized map data; part 2: applying our novel LaneGCN to the lane graph to output the map features. Map Data: In this paper, we adopt a simple form of vectorized map data as our representation of HD maps. Specifically, the map data is represented as a set of lanes and their connectivity. Each lane contains a centerline, i.e., a sequence of 2D BEV points, which are arranged following the lane direction (see Fig. 3, top). For any two lanes which are directly reachable, 4 types of connections are given: predecessor, successor, left neighbour and right neighbour. Lane Graph Construction: first define a lane node as the straight line segment formed by any two consecutive points (grey circles in Fig. 3) of the centerline. The location of a lane node is the averaged coordinates of its two end points. Following the connections between lane centerlines, we also derive 4 connectivity types for the lane nodes, i.e., predecessor, successor, left neighbour and right neighbour. We denote the lane nodes with $V âˆˆ \\mathbb R^{N Ã—2}$ , where $N$ is the number of lane nodes and the $i$-th row of $V$ is the BEV coordinates of the $i$-th node. We represent the connectivity with 4 adjacency matrices ${\\lbrace A_i \\rbrace}_{i \\in {pre,suc,left,right}}$ , with $A_i \\in \\mathbb R^{N Ã—N}$. We denote $A_{i,jk}$, as the element in the $j$-th row and $k$-th column of $A_i$. Then $A_{i,jk} = 1$ if node $k$ is an $i$-type neighbor of node $j$. LaneConv Operator: Node Feature: Each lane node corresponds to a straight line segment of a centerline. To encode all the lane node information, we need to take into account both the shape (size and orientation) and the location (the coordinates of the center) of the corresponding line segment. We parameterize the node feature as follows, $$x_i = MLP_{shape} (v_{i}^{end} - v_{i}^{start}) + MLP_{loc}(v_i) $$ where $MLP$ indicates a multi-layer perceptron and the two subscripts refer to shape and location, respectively. $v_i$ is the location of the i-th lane node, i.e., the center between two end points, $v_i^{start}$ and $v_i^{end}$ are the BEV coordinates of the node $iâ€™s$ starting and ending points, and $x_i$ is the $i$-th row of the node feature matrix $X$, denoting the input feature of the $i$-th lane node. LaneConv: To aggregate the topology information of the lane graph at a larger scale, we design the following LaneConv operator: $$Y = XW_0 + \\sum_{i\\in{pre, suc, left, right}}A_iXW_i,\\tag{2}$$ where $A_i$ and $W_i$ are the adjacency and the weight matrices corresponding to the $i$-th connection type respectively. Since we order the lane nodes from the start to the end of the lane, $A_{suc}$ and $A_{pre}$ are matrices obtained by shifting the identity matrix (diagnal 1) one step towards upper right (non-zero superdiagonal) and lower left (non-zero subdiagonal). $A_{suc}$ and $A_{pre}$ can propagate information from the forward and backward neighbours whereas $A_{left}$ and $A_{right}$ allow information to flow from the cross-lane neighbours. It is not hard to see that our LaneConv builds on top of the general graph convolution and encodes more geometric (e.g., connection type/direction) information. As shown in our experiments this improves over the vanilla graph convolution. Dilated LaneConv: Functionality: The model needs to capture the long range dependency along the lane direction for accurate prediction. the k-dilation LaneConv operator is defined as follows: $$Y = XW_0 + A_{pre}^k XW_{pre,k} + A_{suc}^k X W_{suc,k} \\tag{3}$$ where $A_{pre}^k$ is the $k$-th matrix power of $A_{pre}$. This allows us to directly propagate information along the lane for $k$ steps, with $k$ a hyperparameter. Since $A_{pre}^k$ is highly sparse, one can efficiently compute it using sparse matrix multiplication. Note that the dilated LaneConv is only used for predecessor and successor, as the long range dependency is mostly a","date":"2023-07-16","objectID":"/posts/lanegcn/:2:2","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"Fusion Net Four types fusion modules: A2L: introduces real-time traffic information to lane nodes, such as blockage or usage of the lanes. L2L: updates lane node features by propagating the traffic information over the lane graph. -\u003e LaneGCN L2A: fuses updated map features with real-time traffic information back to the actors. A2A: handles the interactions between actors and produces the output actor features, which are then used by the prediction header for motion forecasting. We implement L2L using another LaneGCN, which has the same architecture as the one used in our MapNet (see Section 3.2). In the following we describe the other three modules in detail. We exploit a spatial attention layer for A2L, L2A and A2A. The attention layer applies to each of the three modules in the same way. Taking A2L as an example, given an actor node i, we aggregate the features from its context lane nodes j as follows: $$y_i = x_i W_0 + \\sum_j \\phi (concat(x_i, \\Delta_{i,j}, x_j)W_1)W_2, \\tag{5}$$ with $x_i$ the feature of the $i$-th node, $W$ a weight matrix, $\\phi$ the compositon of layer notmalization and RelU, and $\\Delta_{ij} = MLP(v_j - v_i)$, where $v$ denotes the node location. ","date":"2023-07-16","objectID":"/posts/lanegcn/:2:3","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"Prediction Header Take after-fusion actor features as input, a multi-modal prediction header outputs the final motion forecasting. For each actor, it predicts $K$ possible future trajectories and their confidence scores. The header has two branches, a regression branch to predict the trajectory of each mode and a classification branch to predict the confidence score of each mode. For the m-th actor, we apply a residual block and a linear layer in the regression branch to regress the K sequences of BEV coordinates: $$O_{m,reg} = \\lbrace (p_{m,1}^k, p_{m,2}^k, â€¦, p_{m,T}^k) \\rbrace _{k\\in[0,K-1]}$$ where $p_{m,i}^k$ is the predicted $m$-th actorâ€™s BEV coordinates of the $k$-th mode at the $i$-th time step. For the classification branch, we apply an MLP to $p^k_{m,T} âˆ’ p_{m,0}$ to get $K$ distance embeddings. We then concatenate each distance embedding with the actor feature, apply a residual block and a linear layer to output $K$ confidence scores, $O_{m,cls} = (c_{m,0}, c_{m,1}, â€¦, c_{m,Kâˆ’1})$. ","date":"2023-07-16","objectID":"/posts/lanegcn/:2:4","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"Learning use the sum of classification and regreesion losses to train the model: $$ L = L_{cls} + \\alpha L_{reg},$$ where $\\alpha = 1.0$. For classification, we use the max-margin loss: $$L_{cls} = \\frac{1}{M(K-1)}\\sum_{m=1}^M \\sum_{k \\neq \\hat{k}} \\max(0, c_{m,k} + \\epsilon - c_{m, \\hat{k}}) \\tag{6}$$ where $\\epsilon$ is the margin and $M$ is the total number of actors. For regression, we apply the smooth $l1$ loss on all predicted time steps: $$L_{reg} = \\frac{1}{MT} \\sum_{m=1}^M \\sum_{t=1}^T reg(p_{m,y}^{\\hat{k}} - p_{m,t}^*) \\tag{7}$$ where $p_t^*$ is the ground truth BEV coordinates at time step $t$, $reg(x) = \\sum\\limits_i d(x_i)$, $x_i$ is the $i$-th element of $x$, and $d(x_i)$ is the smooth $\\ell1$ loss defined as: $$d(x_i) = \\begin{cases} 0.5x_i^2 \u0026\\text{if} ||x|| \u003c 1, \\ ||x_i|| - 0.5 \u0026 \\text{otherwise,} \\end{cases} \\tag{8}$$ where $||x_i||$ denotes the $\\ell1$ norm of $x_i$. ","date":"2023-07-16","objectID":"/posts/lanegcn/:2:5","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":" Neural Network Layout ","date":"2023-07-16","objectID":"/posts/lanegcn/:2:6","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["Prediction"],"content":"Data Process And Network Construction ä»¥å®˜æ–¹çš„2645.csvæ•°æ®é›†ä¸ºä¾‹å­ agent node: data['city']:åŸå¸‚åç§° data['trajs'] = [agt_traj] + ctx_trajs:è½¨è¿¹ç‚¹ï¼Œ(agent + context vehicles) data['steps'] = [agt_step] + ctx_steps:åœ¨åŸå§‹æ•°æ®ä¸­çš„ä½ç½® data['feats'] = feats: (13 X 20 X 3) å‰20é¢„æµ‹è½¨è¿¹ + ä¸€ç»´æ˜¯å¦å­˜åœ¨ç‚¹ data['ctrs'] = ctrs: (13 X 2) ä¸­å¿ƒç‚¹ data['orig'] = orig: AGENT å½“å‰ç‚¹åæ ‡ data['theta'] = theta: AGENT åè½¬è§’ data['rot'] = rot: (2 X 2) æ—‹è½¬çŸ©é˜µ data['gt_preds'] = gt_preds:(13 X 30 X 2) å30å¸§çœŸå®è½¨è¿¹ data['has_preds'] = has_preds: (13 X 30) æ ‡è¯†å30å¸§è½¨è¿¹æ˜¯å¦å­˜åœ¨ lane node: graph['ctrs'] = np.concatenate(ctrs, 0): lane nodeçš„ä¸­å¿ƒç‚¹åæ ‡ graph['num_nodes'] = num_nodes: lane nodeçš„æ•°é‡ graph['feats'] = np.concatenate(feats, 0): lane node æ–¹å‘å‘é‡ graph['turn'] = np.concatenate(turn, 0): lane node è½¬å‘æ ‡è¯† graph['control'] = np.concatenate(control, 0): lane node çš„ has_traffic_control æ ‡è¯† graph['intersect'] = np.concatenate(intersect, 0): lane node çš„ is_intersection æ ‡è¯† graph['pre'] = [pre]: pre[â€˜uâ€™] å’Œ pre[â€˜vâ€™], v æ˜¯ u çš„preï¼Œ è¿™é‡Œè¡¨è¿°çš„æ˜¯lane nodeä¹‹é—´çš„å…³ç³» graph['suc'] = [suc]: suc[â€˜uâ€™] å’Œ suc[â€˜vâ€™], v æ˜¯ u çš„sucï¼Œ è¿™é‡Œè¡¨è¿°çš„æ˜¯lane nodeä¹‹é—´çš„å…³ç³» graph['lane_idcs'] = lane_idcs: lane node index 0 0 0 ... 0 1 1 1 ... 1 ... 83 83 83 ... 83 graph['pre_pairs'] = pre_pairs: pair è¡¨è¿°çš„æ˜¯laneä¹‹é—´çš„å…³ç³» graph['suc_pairs'] = suc_pairs: pair è¡¨è¿°çš„æ˜¯laneä¹‹é—´çš„å…³ç³» graph['left_pairs'] = left_pairs: pair è¡¨è¿°çš„æ˜¯laneä¹‹é—´çš„å…³ç³» graph['right_pairs'] = right_pairs: pair è¡¨è¿°çš„æ˜¯laneä¹‹é—´çš„å…³ç³» å¯¹äºpre['u']å’Œpre['v'], v æ˜¯ u çš„ pre å¯¹äºsuc['u']å’Œsuc['v'], v æ˜¯ u çš„ suc å¯¹äºleft['u']å’Œleft['v'], v æ˜¯ u çš„ left å¯¹äºright['u']å’Œright['v'], v æ˜¯ u çš„ right Netç»“æ„ ActorNet input: M x 3 x 20 output: M x 128 x 20 è§£é‡Š: MapNet: æŠŠ v æŒ‰ç…§ u åŠ åˆ°centerä¸Š input: N x 4 output: N x 128 A2M input: N x 128 output: N x 128 M2M input: N x 128 output: N x 128 M2A input: N x 128 output: M x 128 A2A input: N x 128 output: N x 128 Prediction Header: input M x 128 MLP Regression MLP Classification ref link: https://zhuanlan.zhihu.com/p/447129428 ","date":"2023-07-16","objectID":"/posts/lanegcn/:2:7","tags":["draft"],"title":"LaneGCN è®ºæ–‡è§£è¯»","uri":"/posts/lanegcn/"},{"categories":["draft"],"content":"paper link: https://arxiv.org/abs/2012.11717 è®ºæ–‡è§£è¯»å‚è€ƒ: [1] https://zhuanlan.zhihu.com/p/434650863 [2] https://www.gushiciku.cn/pl/amod ","date":"2023-07-16","objectID":"/posts/social_nce/:0:0","tags":["draft"],"title":"Social_NCE è®ºæ–‡è§£è¯»","uri":"/posts/social_nce/"},{"categories":["draft"],"content":"Issue to solve and its Solution Due to the ill-distributed training Data, itâ€™s difficult to capture the notion of the â€œnegativeâ€ examples like collision. Solution: Modeling the negative samples through self-supervision: a social contrastive loss: regularizes the extracted motion representation by discerning the ground-truth positive events from synthetic negative ones; Construct negative samples based on prior knowledge of rare but dangerous circumstances. a social sampling strategy (informed): construct the positive event from the ground-truth location of the primary agent and the negative events from the regions of other neighbors. given that one location cannot be occupied by multiple agents at the same time. ","date":"2023-07-16","objectID":"/posts/social_nce/:1:0","tags":["draft"],"title":"Social_NCE è®ºæ–‡è§£è¯»","uri":"/posts/social_nce/"},{"categories":["draft"],"content":"Method: Contrastive Learning + Social NCE ","date":"2023-07-16","objectID":"/posts/social_nce/:2:0","tags":["draft"],"title":"Social_NCE è®ºæ–‡è§£è¯»","uri":"/posts/social_nce/"},{"categories":["draft"],"content":"Contrastive Representation Learning Functionality: Representation Learning: to learn a parametric function that maps the raw data into a feature space to extract abstract and useful information for downstream tasks. NCE(Noise Contrastive Estimation): to train encoder $$\\mathcal{L_{NCE}} = -\\log \\frac{\\exp(sim(q,k^+)/\\tau)}{\\sum_{n=0}^N \\exp(sim(q,k_n)/ \\tau)}$$ where the encoded query $q$ is brought close to one positive key $k_0 = k^+$ and pushed apart from $N$ negative keys ${ k_1, k_2, â€¦ , k_N}$, $\\tau$ is a temperature hyperparameter, and $sim(u,v) = u^{\\mathsf{T}}v/(||u||||v||)$ is the cosine similarity between two feature vectors. ","date":"2023-07-16","objectID":"/posts/social_nce/:2:1","tags":["draft"],"title":"Social_NCE è®ºæ–‡è§£è¯»","uri":"/posts/social_nce/"},{"categories":["draft"],"content":"Social NCE Social NCE Description: æ™ºèƒ½ä½“ $i$ åœ¨æ—¶åˆ» $t$ ä¸Šçš„ä½ç½®è®°ä¸º $s^i_t=(x^i_t,y^i_t)$ ã€‚é‚£ä¹ˆ $M$ ä¸ªæ™ºèƒ½ä½“çš„è”åˆçŠ¶æ€è®°ä¸º $s_t = { s_t^1, â€¦, s^M_t}$ ã€‚ç»™å®šä¸€ä¸ªå†å²è§‚æµ‹åºåˆ— ${s_1, s_2, â€¦, s_t}$ ï¼Œä»»åŠ¡æ˜¯é¢„æµ‹æ‰€æœ‰æ™ºèƒ½ä½“æœªæ¥ç›´è‡³ $T$ æ—¶åˆ»çš„è½¨è¿¹ ${s_{t+1}, â€¦, s_T}$ï¼Œè®¸å¤šæœ€è¿‘çš„é¢„æµ‹æ¨¡å‹è¢«è®¾è®¡ä¸ºç¼–ç å™¨ - è§£ç å™¨ç¥ç»ç½‘ç»œï¼Œå…¶ä¸­è¿åŠ¨ç¼–ç å™¨ $f(\\cdot)$ é¦–å…ˆæå–ä¸ $i$ ç›¸å…³çš„ç´§å¯†è¡¨ç¤º $h_t^i$ ï¼Œç„¶åè§£ç å™¨ $g(\\cdot)$ éšåæ¨æµ‹å‡ºå…¶æœªæ¥çš„è½¨è¿¹ $\\hat{s}^i_{t+1,T}$ : $$h^i_t = f(s_{1:t}, i), $$ $$\\hat{s}^i_{t+1:T} = g(h^i_t)$$ ä¸ºäº†å¤šæ™ºèƒ½ä½“ä¹‹é—´çš„ç¤¾äº¤äº’åŠ¨ï¼Œ$f(\\cdot)$é€šå¸¸åŒ…å«ä¸¤ä¸ªå­æ¨¡å—ï¼šä¸€ä¸ªåºåˆ—å»ºæ¨¡æ¨¡å— $f_S(\\cdot)$ ç”¨äºç¼–ç æ¯ä¸ªå•ç‹¬çš„åºåˆ—ï¼Œä»¥åŠä¸€ä¸ªäº¤äº’æ¨¡å— $f_I(\\cdot)$ ç”¨äºåœ¨å¤šæ™ºèƒ½ä½“ä¹‹é—´å…±äº«ä¿¡æ¯ï¼š $$z^i_t = f_S(h^i_{t-1}, s^i_t),$$ $$h^i_t = f_I(z_t, i)$$ å…¶ä¸­ï¼Œ $z^i_t$ æ˜¯ç»™å®šæ™ºèƒ½ä½“ $i$ åœ¨æ—¶é—´ $t$ è§‚å¯Ÿå…¶è‡ªèº«çŠ¶æ€çš„æ½œåœ¨è¡¨ç¤ºï¼Œ $z_t = {z^1_t,â€¦,z^M_t}$ ã€‚å¾ˆå¤šæ–¹æ³•å·²ç»æ¢ç´¢äº†å„ç§æ¶æ„ï¼Œå¹¶éªŒè¯äº†å…¶å‡†ç¡®æ€§ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå®ƒä»¬çš„é²æ£’æ€§ä»ç„¶æ˜¯ä¸€ä¸ªæ‚¬è€Œæœªå†³çš„é—®é¢˜ã€‚ æœ€è¿‘çš„å‡ é¡¹å·¥ä½œè¡¨æ˜ï¼Œç°æœ‰æ¨¡å‹é¢„æµ‹çš„è½¨è¿¹é€šå¸¸ä¼šè¾“å‡ºç¤¾ä¼šä¸å¯æ¥å—çš„è§£å†³æ–¹æ¡ˆï¼ˆä¾‹å¦‚ï¼Œç¢°æ’ï¼‰ï¼Œè¡¨æ˜ç¼ºä¹å…³äºç¤¾ä¼šå‡†åˆ™çš„å¸¸è¯†ã€‚ query: embedding of history observations $q = \\psi(h^i_t)$, where $\\psi(\\cdot)$ is an MLP projection head; key: embedding of a future event $k = \\phi(s^i_{s+\\delta t}, \\delta t)$, where $\\phi(\\cdot)$ is an event encoder modeled by an MLP, $s_{t+\\delta t}^i$ is a sampled spatial location and $\\delta_t \u003e 0$ is the sampling horizon. tuning $\\delta_t \\in \\Lambda$, e.g. $\\Lambda = {1,â€¦,4}$, then future events in the next few step can be taken in account simultaneously. Nevertheless, when $\\delta_t$ is a fixed value, then $\\phi(\\cdot)$ can be simplified as a location encoder, i.e., $\\phi(s^i_{t+\\delta t})$. ç»™å®šä¸€ä¸ªåœºæ™¯ï¼ŒåŒ…æ‹¬æ„Ÿå…´è¶£çš„ä¸»æ™ºä½“ï¼ˆè“è‰²ï¼‰å’Œé™„è¿‘å¤šä¸ªç›¸é‚»æ™ºä½“ï¼ˆç°è‰²ï¼‰ï¼ŒSocial-NCE æŸå¤±é¼“åŠ±åœ¨åµŒå…¥ç©ºé—´ä¸­æå–çš„è¿åŠ¨è¡¨ç¤ºï¼Œæ¥è¿‘æœªæ¥çš„æ­£æ ·æœ¬äº‹ä»¶ï¼Œå¹¶è¿œç¦»å¯èƒ½å¯¼è‡´ç¢°æ’æˆ–ä¸é€‚çš„åˆæˆè´Ÿæ ·æœ¬äº‹ä»¶. Social NCEçš„æŸå¤±å‡½æ•°å¦‚ä¸‹: $$\\mathcal{L_{SocialNCE}} = -\\log\\frac{\\exp(\\psi(h^i_t)\\cdot\\phi(s^{i,+}{t+\\delta t}, \\delta t)/\\tau)}{\\sum{\\delta t\\in\\Lambda}\\sum_{n=0}^{N}\\exp(\\psi(h^i_t)\\cdot\\phi(s^{i,n}_{t+\\delta t}, \\delta t)/\\tau))}$$ æœ€ç»ˆçš„è®­ç»ƒæŸå¤±å‡½æ•°ä¸ºSocial-NCEå’Œä¼ ç»Ÿä»»åŠ¡æŸå¤±é¡¹ä¹‹å’Œï¼Œå³è½¨è¿¹é¢„æµ‹çš„mean squared error (MSE) æˆ–è€…negative log-likelihood (NLL)ï¼š $$\\mathcal{L}(f,g,\\psi, \\phi) = \\mathcal{L}{task}(f,g) + \\lambda \\mathcal{L}{SocialNCE}(f, \\psi, \\phi)$$ å…¶ä¸­ï¼Œ$\\lambda$ ä¸ºè¶…å‚æ•°ï¼Œæ§åˆ¶SocialNCEæŸå¤±å‡½æ•°çš„é‡è¦ç¨‹åº¦ã€‚ ","date":"2023-07-16","objectID":"/posts/social_nce/:2:2","tags":["draft"],"title":"Social_NCE è®ºæ–‡è§£è¯»","uri":"/posts/social_nce/"},{"categories":["draft"],"content":"sampling strategy in multi-agent context é‡‡æ ·ç­–ç•¥ åœ¨å…¶ä»–æ™ºèƒ½ä½“é™„è¿‘å¯»æ±‚æ›´å¤šä¿¡æ¯çš„è´Ÿæ ·æœ¬: $$s^{i,n-}{t+\\delta t} = s^{j}{t+\\delta t} + \\bigtriangleup{s_p} + \\epsilon$$ å…¶ä¸­ï¼Œ $j\\in{1,2,â€¦,M} \\backslash i$ æ˜¯å…¶ä»–agentçš„index, $\\bigtriangleup{s_p}$ æ˜¯é€‚åˆç¤¾äº¤è·ç¦»çš„å±€éƒ¨ä½ç§»ã€‚ å¯¹äºpositive sample, å¯¹è¯¥agentå‘¨å›´ç›´æ¥é‡‡æ ·è·å¾—: $$s^{i,n-}{t+\\delta t} = s^{i}{t+\\delta t} + \\epsilon$$ ","date":"2023-07-16","objectID":"/posts/social_nce/:2:3","tags":["draft"],"title":"Social_NCE è®ºæ–‡è§£è¯»","uri":"/posts/social_nce/"},{"categories":["Prediction"],"content":"paper link: https://arxiv.org/abs/2002.11927?from=leiphonecolumn_paperreview0323 ","date":"2023-07-16","objectID":"/posts/social_stgcnn/:0:0","tags":["draft"],"title":"Social_STGCNN è®ºæ–‡è§£è¯»","uri":"/posts/social_stgcnn/"},{"categories":["Prediction"],"content":"ç½‘ç»œç»“æ„ ç‰¹ç‚¹: Social STGCNNä¸åŒäºå…¶ä»–æ–¹æ³•åªæ˜¯èšåˆå„ç§å­¦ä¹ çš„è¡ŒäººçŠ¶æ€ï¼Œè€Œæ˜¯å¯¹è¡Œäººäº¤äº’åšå›¾å»ºæ¨¡ã€‚å…¶ä¸­æå‡ºä¸€ç§kernel functionæŠŠè¡Œäººç¤¾äº¤äº¤äº’åµŒå…¥ä¸€ä¸ªadjacency matrixã€‚ ä»£ç æ˜¾ç¤ºï¼Œå›¾å»ºæ¨¡ä¸€èˆ¬åœ¨æ•°æ®å‰å¤„ç†å®Œæˆã€‚ ","date":"2023-07-16","objectID":"/posts/social_stgcnn/:1:0","tags":["draft"],"title":"Social_STGCNN è®ºæ–‡è§£è¯»","uri":"/posts/social_stgcnn/"},{"categories":["Prediction"],"content":"Model Description ä¸¤éƒ¨åˆ†ï¼šæ—¶ç©ºå›¾å·ç§¯ç¥ç»ç½‘ç»œST-GCNNã€æ—¶é—´å¤–æ¨å™¨TXP-CNNã€‚ ST-GCNNå¯¹è¡Œäººè½¨è¿¹çš„å›¾è¡¨ç¤ºè¿›è¡Œæ—¶ç©ºå·ç§¯æ“ä½œä»¥æå–ç‰¹å¾ã€‚è¿™äº›ç‰¹å¾æ˜¯è§‚å¯Ÿåˆ°çš„è¡Œäººè½¨è¿¹å†å²çš„ç´§å‡‘è¡¨ç¤ºã€‚ TXP-CNNå°†è¿™äº›ç‰¹å¾ä½œä¸ºè¾“å…¥ï¼Œå¹¶é¢„æµ‹æ‰€æœ‰è¡Œäººä½œä¸ºä¸€ä¸ªæ•´ä½“çš„æœªæ¥è½¨è¿¹ã€‚æˆ‘ä»¬ä½¿ç”¨æ—¶é—´å¤–æ¨å™¨çš„åå­—æ˜¯å› ä¸ºTXP-CNNæœŸæœ›é€šè¿‡å·ç§¯è¿ç®—å¤–æ¨æœªæ¥çš„è½¨è¿¹ã€‚ ç»™å®šTå¸§ï¼Œæ„é€ è¡¨ç¤º $G=(V,A)$ çš„æ—¶ç©ºå›¾. ç„¶åï¼Œ$G$ é€šè¿‡æ—¶ç©ºå›¾å·ç§¯ç¥ç»ç½‘ç»œ(ST-GCNNs)è½¬å‘ï¼Œåˆ›å»ºä¸€ä¸ªæ—¶ç©ºåµŒå…¥ã€‚ ä¹‹åï¼ŒTXP-CNNs é¢„æµ‹äº†æœªæ¥çš„è½¨è¿¹ã€‚ $P$ æ˜¯è¡Œäººä½ç½®çš„ç»´æ•°ï¼Œ$N$ æ˜¯è¡Œäººçš„æ•°ç›®ï¼Œ$T$ æ˜¯æ—¶é—´æ­¥é•¿, $\\hat{P}$æ˜¯æ¥è‡ªST-GCNNçš„åµŒå…¥çš„ç»´æ•°. (1) Graph Representation of Pedestrian Trajectories æˆ‘ä»¬é¦–å…ˆæ„é€ ä¸€ç»„ç©ºé—´å›¾ $G_t$ï¼Œè¡¨ç¤ºæ¯ä¸ªæ—¶é—´æ­¥é•¿ $t$ åœ¨åœºæ™¯ä¸­è¡Œäººçš„ç›¸å¯¹ä½ç½®ï¼Œ$G_t = (V_t, E_t)$ ã€‚ $V_t$æ˜¯å›¾ $G_t$ çš„é¡¶ç‚¹é›†ï¼Œè§‚å¯Ÿåˆ°çš„ä½ç½® $(x^i_tï¼Œy^i_t)$ æ˜¯é¡¶ç‚¹ $v^i_t$ çš„å±æ€§; $E_t$ æ˜¯è¾¹é›†ï¼Œå¦‚æœé¡¶ç‚¹ $v^i_t$ å’Œé¡¶ç‚¹ $v^j_t$ ç›¸è¿ $e^{ij}_t = 1$ ï¼Œå¦åˆ™ $=0$ã€‚ ä¸ºäº†å»ºæ¨¡ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´ç›¸äº’å½±å“çš„å¼ºåº¦ï¼Œæˆ‘ä»¬é™„åŠ äº†ä¸€ä¸ªå€¼$a^{ij}_t$, å®ƒæ˜¯ç”±æ¯ä¸ª$ e^{ij}_t$ çš„æŸç§æ ¸å‡½æ•°è®¡ç®—å¾—åˆ°ã€‚$a^{ij}_t$ è¢«ç»„ç»‡ä¸ºå¸¦æƒé‚»æ¥çŸ©é˜µ$A_t$ã€‚ $a^{ij}_{sim,t}$æ˜¯è¦åœ¨é‚»æ¥çŸ©é˜µ$A_t$ä¸­ä½¿ç”¨çš„å†…æ ¸å‡½æ•°ã€‚ å®šä¹‰ä¸º: $$\\begin{equation} a^{ij}_{sim,t}= \\left { \\begin{aligned} 1/||v^i_t - v^j_t||_2 , ||v^i_t - v^j_t||_1\\neq0 \\ 0, Otherwise \\end{aligned} \\right. \\end{equation}$$ (2) Graph Convolution Neural Network å¯¹äºåœ¨äºŒç»´ç½‘æ ¼åœ°å›¾æˆ–ç‰¹å¾åœ°å›¾ä¸Šå®šä¹‰çš„å·ç§¯è¿ç®—ï¼Œå®šä¹‰å¦‚ä¸‹: $$z^{(l+1)} = \\sigma(\\sum_{h=1}^{k}\\sum_{\\omega=1}^{k}(p(z^{(l)},h, \\omega) \\cdot \\boldsymbol{W}^{(l)}(h, \\omega))$$ å…¶ä¸­ï¼Œ$k$æ˜¯å†…æ ¸å¤§å°ï¼Œ$p(.)$ æ˜¯é‡‡æ ·å‡½æ•°ï¼Œå…¶èšé›†ä»¥$z$ä¸ºä¸­å¿ƒçš„é‚»å±…çš„ä¿¡æ¯ï¼Œ $\\sigma$ æ˜¯æ¿€æ´»å‡½æ•°ã€‚${l}$è¡¨ç¤ºç¥ç»ç½‘ç»œå±‚ã€‚ å›¾å·ç§¯å®šä¹‰å¦‚ä¸‹: $$v^{i(l+1)} =\\sigma (\\frac{1}{\\Omega}\\sum_{v^{j(l)}\\in B(v^{j(l)})}p(v^{i(l)}, v^{j(l)}) \\cdot \\boldsymbol{W}(v^{i(l)}, v^{j(l)}))$$ å…¶ä¸­$\\frac{1}{\\Omega}$ æ˜¯æ­£åˆ™åŒ–é¡¹ï¼Œ$B(v^i) = { v^j|d(v^i,v^j)â‰¤D }$æ˜¯é¡¶ç‚¹çš„é‚»å±…é›†ï¼Œè€Œ$d(v^i,v^j)$è¡¨ç¤ºè¿æ¥$v^i$å’Œ$v^j$çš„æœ€çŸ­è·ç¦»ï¼Œ $\\Omega$æ˜¯é‚»å±…é›†çš„åŸºæ•°ã€‚ (3) Spatio-Temporal Graph Convolution Neural Network(ST-GCNNs) é€šè¿‡å®šä¹‰ä¸€ä¸ªæ–°çš„å›¾Gï¼Œå…¶å±æ€§æ˜¯$G_t$å±æ€§çš„é›†åˆï¼ŒST-GCNNå°†ç©ºé—´å›¾å·ç§¯æ‰©å±•åˆ°æ—¶ç©ºå›¾å·ç§¯ã€‚ $G$ç»“åˆäº†è¡Œäººè½¨è¿¹çš„æ—¶ç©ºä¿¡æ¯ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ$G_1ï¼Œâ€¦ï¼ŒG_T$çš„æ‹“æ‰‘ç»“æ„æ˜¯ç›¸åŒçš„ï¼Œè€Œå½“tå˜åŒ–æ—¶ï¼Œä¸åŒçš„å±æ€§è¢«åˆ†é…ç»™$v^i_t$ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å°†$G$å®šä¹‰ä¸º$(V,E)$ï¼Œå…¶ä¸­$V={v_i|i\\in { 1ï¼Œâ€¦ï¼ŒN }}$ å’Œ $E={e_{ij}|iï¼Œjï¼Œ{1ï¼Œâ€¦ï¼ŒN}}$ã€‚ é¡¶ç‚¹$v_i$åœ¨Gä¸­çš„å±æ€§æ˜¯$v^i_t$çš„é›†åˆï¼Œ$âˆ€tâˆˆ{0ï¼Œâ€¦ï¼ŒT}$ã€‚ å¦å¤–ï¼Œ åŠ æƒé‚»æ¥çŸ©é˜µAå¯¹åº”äº$G$ æ˜¯${ A_1ï¼Œâ€¦ï¼ŒA_T}$çš„é›†åˆã€‚ æˆ‘ä»¬å°†ST-GCNNäº§ç”Ÿçš„åµŒå…¥è¡¨ç¤ºä¸º $\\overline{V}$. (4) Time-Extrapolator Convolution Neural Network (TXP-CNN) ST-GCNNçš„åŠŸèƒ½æ˜¯ä»è¾“å…¥å›¾ä¸­æå–æ—¶ç©ºèŠ‚ç‚¹åµŒå…¥ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é¢„æµ‹è¡Œäººæœªæ¥çš„è¿›ä¸€æ­¥ä½ç½®ã€‚ TXP-CNNç›´æ¥ä½œç”¨äºå›¾åµŒå…¥ $\\overline{V}$ çš„æ—¶é—´ç»´åº¦ï¼Œå¹¶å°†å…¶æ‰©å±•ä¸ºé¢„æµ‹çš„å¿…è¦æ¡ä»¶ã€‚ ç”±äºTXP-CNNä¾èµ–äºç‰¹å¾ç©ºé—´çš„å·ç§¯è¿ç®—ï¼Œå› æ­¤ä¸é€’å½’å•å…ƒç›¸æ¯”ï¼Œå®ƒçš„å‚æ•°è¾ƒå°ã€‚éœ€è¦æ³¨æ„çš„ä¸€ä¸ªç‰¹æ€§æ˜¯ï¼Œ TXP-CNNå±‚ä¸æ˜¯ç½®æ¢ä¸å˜çš„ï¼Œå› ä¸ºåœ¨TXP-CNNä¹‹å‰ï¼Œå›¾åµŒå…¥çš„å˜åŒ–ä¼šå¯¼è‡´ä¸åŒçš„ç»“æœã€‚Other than this, if the order of pedestrians is permutated starting from the input to Social-STGCNN then the predictions are invariant. ","date":"2023-07-16","objectID":"/posts/social_stgcnn/:1:1","tags":["draft"],"title":"Social_STGCNN è®ºæ–‡è§£è¯»","uri":"/posts/social_stgcnn/"},{"categories":["Prediction"],"content":"model(Social STGCNN) Implementation Adjacency Matrix Normalization $$ A_t = \\Lambda_t^{-\\frac{1}{2}}\\hat{A}\\Lambda_t^{-\\frac{1}{2}}$$ where $\\hat{A_t} = A_t + I$ and $\\Lambda_t$ is the diagonal node degree matric of $\\hat{A_t}$. We use $\\hat{A}$ and $\\Lambda$ to denote the stack of $\\hat{A_t}$ and $\\Lambda_t$ repectively. The normalization of adjacency is essential for the graph CNN to work properly. STGCNN Network Mechanism $$f(V^{l}, A) = \\sigma(\\Lambda_t^{-\\frac{1}{2}}\\hat{A}\\Lambda_t^{-\\frac{1}{2}}V^{(l)}W^{(l)})$$ where, $V^{(l)}$ denotes the stack of $V^{(l)}_t$, and $W^{(l)}$ denotes the trainable parameters. ","date":"2023-07-16","objectID":"/posts/social_stgcnn/:1:2","tags":["draft"],"title":"Social_STGCNN è®ºæ–‡è§£è¯»","uri":"/posts/social_stgcnn/"},{"categories":["Prediction"],"content":"Data Processing æ•°æ®å¤„ç†ä»¥åŠå›¾æ„å»º obs_traj - å‰8å¸§è§‚å¯Ÿè½¨è¿¹(ç»å¯¹åæ ‡) pred_traj_gt - å12å¸§é¢„æµ‹è½¨è¿¹(ground truth)(ç»å¯¹åæ ‡) obs_traj_rel - å‰8å¸§è§‚å¯Ÿè½¨è¿¹(ç›¸å¯¹åæ ‡) pred_traj_gt_rel - å12å¸§é¢„æµ‹è½¨è¿¹(ground truth)(ç›¸å¯¹åæ ‡) non_linear_ped - éçº¿æ€§è½¨è¿¹ (å‰”é™¤) loss_mask V_obs - graph nodes A_obs - graph Adjacency Matrix V_tr - é¢„æµ‹è½¨è¿¹ graph nodes A_tr - é¢„æµ‹è½¨è¿¹ graph Adjacency Matrix ","date":"2023-07-16","objectID":"/posts/social_stgcnn/:2:0","tags":["draft"],"title":"Social_STGCNN è®ºæ–‡è§£è¯»","uri":"/posts/social_stgcnn/"},{"categories":["C++"],"content":"C++ STL (Standard Template Library) æ€»ç»“ C++ STL å®¹å™¨æ˜¯ä½¿ç”¨é¢‘ç‡è¶…é«˜çš„åŸºç¡€è®¾æ–½ï¼Œåªæœ‰äº†è§£å„ä¸ªå®¹å™¨çš„åº•å±‚åŸç†ï¼Œæ‰èƒ½å¾—å¿ƒåº”æ‰‹åœ°ç”¨å¥½ä¸åŒçš„å®¹å™¨ï¼Œåšåˆ°ç”¨æœ€åˆé€‚çš„å®¹å™¨å¹²æœ€åˆé€‚çš„äº‹æƒ…ã€‚ æœ¬æ–‡æ—¨åœ¨å¯¹ C++ æ ‡å‡†æ¨¡æ¿åº“çš„ array, vector, deque, list, forward_list, queue, priority_queue, stack, map, multimap, set, multi_set, unordered_map, unordered_multimap, unordered_set, unordered_multiset å…±åå…­ç±»å®¹å™¨è¿›è¡Œç³»ç»Ÿçš„å¯¹æ¯”åˆ†æï¼Œé‡ç‚¹å…³æ³¨å„ä¸ªå®¹å™¨çš„åº•å±‚åŸç†ä¸æ€§èƒ½ç‰¹ç‚¹ã€‚æœ¬æ–‡å”¯ä¸€å‚è€ƒèµ„æ–™ä¸ºC++å®˜æ–¹æ–‡æ¡£ï¼Œè‹¥æœ‰å…¶å®ƒå‚è€ƒåˆ™ä¼šæŒ‡æ˜å‡ºå¤„ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:0","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"1. array Container properties: Sequence | Contiguous storage | Fixed-size aggregate å®¹å™¨å±æ€§ï¼šé¡ºåºå®¹å™¨ï¼ˆæ”¯æŒéšæœºè®¿é—®ï¼‰ï¼Œè¿ç»­å†…å­˜ç©ºé—´ï¼Œå›ºå®šå¤§å°ï¼›//è¿ç»­å†…å­˜ ç±»æ¨¡æ¿å¤´ï¼štemplate \u003c class T, size_t N \u003e class array; array å³æ•°ç»„ï¼Œå…¶å¤§å°å›ºå®šï¼Œæ‰€æœ‰çš„å…ƒç´ ä¸¥æ ¼æŒ‰ç…§å†…å­˜åœ°å€çº¿æ€§æ’åˆ—ï¼Œarray å¹¶ä¸ç»´æŠ¤å…ƒç´ ä¹‹å¤–çš„ä»»ä½•å¤šä½™æ•°æ®ï¼Œç”šè‡³ä¹Ÿä¸ä¼šç»´æŠ¤ä¸€ä¸ªsizeè¿™æ ·çš„å˜é‡ï¼Œè¿™ä¿è¯äº†å®ƒåœ¨å­˜å‚¨æ€§èƒ½ä¸Šå’ŒC++è¯­æ³•ä¸­çš„æ•°ç»„ç¬¦å·[]æ— å¼‚ã€‚å°½ç®¡å…¶å®ƒå¤§éƒ¨åˆ†æ ‡å‡†å®¹å™¨éƒ½å¯ä»¥é€šè¿‡ std::allocator æ¥åŠ¨æ€çš„åˆ†é…å’Œå›æ”¶å†…å­˜ç©ºé—´ï¼Œä½† Array å¹¶ä¸æ”¯æŒè¿™æ ·åšã€‚ Array å’Œå…¶å®ƒæ ‡å‡†å®¹å™¨ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸åŒæ˜¯ï¼šå¯¹ä¸¤ä¸ª array æ‰§è¡Œ swap æ“ä½œæ„å‘³ç€çœŸçš„ä¼šå¯¹ç›¸åº” range å†…çš„å…ƒç´ ä¸€ä¸€ç½®æ¢ï¼Œå› æ­¤å…¶æ—¶é—´èŠ±é”€æ­£æ¯”äºç½®æ¢è§„æ¨¡ï¼›ä½†åŒæ—¶ï¼Œå¯¹ä¸¤ä¸ª array æ‰§è¡Œ swap æ“ä½œä¸ä¼šæ”¹å˜ä¸¤ä¸ªå®¹å™¨å„è‡ªçš„è¿­ä»£å™¨çš„ä¾é™„å±æ€§ï¼Œè¿™æ˜¯ç”± array çš„ swap æ“ä½œä¸äº¤æ¢å†…å­˜åœ°å€å†³å®šçš„ã€‚ Array çš„å¦ä¸€ä¸ªç‰¹æ€§æ˜¯ï¼šä¸åŒäºå…¶å®ƒå®¹å™¨ï¼Œarray å¯ä»¥è¢«å½“ä½œ std::tuple ä½¿ç”¨ï¼Œå› ä¸º array çš„å¤´æ–‡ä»¶é‡è½½äº†get()ä»¥åŠtuple_size()å’Œtuple_element()å‡½æ•°ï¼ˆæ³¨æ„è¿™äº›å‡½æ•°é array çš„æˆå‘˜å‡½æ•°ï¼Œè€Œæ˜¯å¤–éƒ¨å‡½æ•°ï¼‰ã€‚ æœ€åéœ€è¦æ³¨æ„ï¼Œè™½ç„¶ array å’Œ C++è¯­æ³•ä¸­çš„[]ç¬¦å·æ— é™æ¥è¿‘ï¼Œä½†ä¸¤è€…æ˜¯ä¸¤ä¸ªå­˜åœ¨ï¼Œarray æ¯•ç«Ÿæ˜¯æ ‡å‡†æ¨¡æ¿åº“çš„ä¸€å‘˜ï¼Œæ˜¯ä¸€ä¸ªclassï¼Œå› æ­¤æ”¯æŒ begin(), end(), front(), back(), at(), empty(), data(), fill(), swap(), ... ç­‰ç­‰æ ‡å‡†æ¥å£ï¼Œè€Œ[]æ˜¯çœŸæ­£çš„æœ€æœ´ç´ çš„æ•°ç»„ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:1","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"2. vector Container properties: Sequence | Dynamic array | Allocator-aware å®¹å™¨å±æ€§ï¼šé¡ºåºå®¹å™¨ï¼ˆæ”¯æŒéšæœºè®¿é—®ï¼‰ï¼ŒåŠ¨æ€è°ƒæ•´å¤§å°ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ï¼›//è¿ç»­å†…å­˜ ç±»æ¨¡æ¿å¤´ï¼štemplate \u003c class T, class Alloc = allocator \u003e class vector; ä¸€å¥è¯æ¥è¯´ï¼Œvector å°±æ˜¯èƒ½å¤ŸåŠ¨æ€è°ƒæ•´å¤§å°çš„ arrayã€‚å’Œ array ä¸€æ ·ï¼Œvector ä½¿ç”¨è¿ç»­å†…å­˜ç©ºé—´æ¥ä¿å­˜å…ƒç´ ï¼Œè¿™æ„å‘³ç€å…¶å…ƒç´ å¯ä»¥ç”¨æ™®é€šæŒ‡é’ˆçš„++å’Œ--æ“ä½œæ¥è®¿é—®ï¼›ä¸åŒäº array çš„æ˜¯ï¼Œå…¶å­˜å‚¨ç©ºé—´å¯ä»¥è‡ªåŠ¨è°ƒæ•´ã€‚ åœ¨åº•å±‚ä¸Šï¼Œvector ä½¿ç”¨åŠ¨æ€åˆ†é…çš„ arrayï¼Œå½“ç°æœ‰ç©ºé—´æ— æ³•æ»¡è¶³å¢é•¿éœ€æ±‚æ—¶ï¼Œä¼šé‡æ–°åˆ†é…ï¼ˆreallocateï¼‰ä¸€ä¸ªæ›´å¤§çš„ array å¹¶æŠŠæ‰€æœ‰å…ƒç´ ç§»åŠ¨è¿‡å»ï¼Œå› æ­¤ï¼Œvector çš„ reallocate æ˜¯ä¸€ä¸ªå¾ˆè€—æ—¶çš„å¤„ç†ã€‚æ‰€ä»¥ï¼Œæ¯æ¬¡ reallocate æ—¶éƒ½ä¼šé¢„ç•™å¤šä½™çš„ç©ºé—´ï¼Œä»¥æ»¡è¶³æ½œåœ¨çš„å¢é•¿éœ€æ±‚ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œvectorçš„capacity()é€šå¸¸ä¼šå¤§äºsize()ã€‚vector ä»€ä¹ˆæ—¶å€™åš reallocateï¼Œreallocate å¤šå°‘å¤šä½™ç©ºé—´ï¼Œæ˜¯æœ‰å…·ä½“ç­–ç•¥çš„ï¼ŒæŒ‰ä¸‹ä¸è¡¨ã€‚æ€»ä½“æ¥è¯´ï¼Œvector æ¯” array å¤šäº†ä¸€äº›å†…å­˜æ¶ˆè€—ï¼Œä»¥æ¢å–æ›´çµæ´»çš„å†…å­˜ç®¡ç†ã€‚ å’Œå…¶å®ƒçš„åŠ¨æ€é¡ºåºå®¹å™¨ï¼ˆdeque, list, forward_listï¼‰ç›¸æ¯”ï¼Œvector åœ¨å…ƒç´ è®¿é—®ä¸Šæ•ˆç‡æœ€é«˜ï¼Œåœ¨å°¾éƒ¨å¢åˆ å…ƒç´ çš„æ•ˆç‡ä¹Ÿç›¸å¯¹æœ€é«˜ã€‚å¦‚æœè°ƒç”¨è€…æœ‰åœ¨å°¾éƒ¨ä»¥å¤–çš„åœ°æ–¹å¢åˆ å…ƒç´ çš„éœ€æ±‚ï¼Œvector åˆ™ä¸å¦‚å…¶å®ƒå®¹å™¨ï¼Œå¹¶ä¸”è¿­ä»£å™¨çš„ä¸€è‡´æ€§ä¹Ÿè¾ƒå·®ï¼ˆhave less consistent iterators and references than lists and forward_listsï¼‰ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:2","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"3. queue å®¹å™¨å±æ€§ï¼šå®¹å™¨é€‚é…å™¨(adapter)ï¼Œå…ˆè¿›å…ˆå‡ºå‹å®¹å™¨ï¼ˆFIFOï¼‰ï¼›//C++è®¾è®¡æ¨¡å¼ä¹‹é€‚é…å™¨æ¨¡å¼ template \u003cclass T, class Container = deque \u003e class queue; queueï¼ˆæ™®é€šé˜Ÿåˆ—ï¼‰æ˜¯ä¸€ä¸ªä¸“ä¸º FIFO è®¾è®¡çš„å®¹å™¨é€‚é…å™¨ï¼Œä¹Ÿå³åªèƒ½ä»ä¸€ç«¯æ’å…¥ã€ä»å¦ä¸€ç«¯åˆ é™¤ï¼›æ‰€è°“å®¹å™¨é€‚é…å™¨ï¼Œæ˜¯æŒ‡å®ƒæœ¬èº«åªæ˜¯ä¸€ä¸ªå°è£…å±‚ï¼Œå¿…é¡»ä¾èµ–æŒ‡å®šçš„åº•å±‚å®¹å™¨ï¼ˆé€šè¿‡æ¨¡æ¿å‚æ•°ä¸­çš„class ContaineræŒ‡å®šï¼‰æ‰èƒ½å®ç°å…·ä½“åŠŸèƒ½ã€‚ **å®¹å™¨é€‚é…å™¨(Adapter)**å®é™…ä¸Šæ˜¯C++è®¾è®¡æ¨¡å¼çš„ä¸€ç§ â€“ ç§°ä¸º Adapter æ¨¡å¼ï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰ï¼ŒAdapter æ¨¡å¼çš„ç›®çš„æ˜¯å°†ç¬¬ä¸‰æ–¹åº“æä¾›çš„æ¥å£åšä¸€ä¸ªå°è£…å’Œè½¬åŒ–ï¼Œä½¿å…¶é€‚é…è‡ªå·±å·¥ç¨‹ä¸­é¢„ç•™çš„æ¥å£ï¼Œæˆ–è€…é€‚åº”è‡ªå·±å·¥ç¨‹çš„è°ƒç”¨é£æ ¼ã€‚æ¢å¥è¯è¯´ï¼ŒAdapter æ¨¡å¼çš„ç›®çš„æ˜¯å°†è¢«è°ƒç”¨ç±»ï¼ˆå¦‚ç¬¬ä¸‰æ–¹åº“ï¼‰çš„æ¥å£è½¬åŒ–ä¸ºå¸Œæœ›çš„æ¥å£ã€‚ å›åˆ°æ­£é¢˜ï¼Œqueue å¯ä»¥æ¥çº³ä»»ä½•ä¸€ä¸ªè‡³å°‘æ”¯æŒä¸‹åˆ—æ¥å£çš„å®¹å™¨ä½œä¸ºåº•å±‚å®¹å™¨ï¼š empty(); size(); front(); back(); push_back(); pop_front(). åœ¨æ ‡å‡†æ¨¡æ¿åº“å®¹å™¨ä¸­ï¼Œdeque å’Œ list æ»¡è¶³ä¸Šè¿°è¦æ±‚ï¼Œå½“ç„¶ç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ»¡è¶³ä¸Šè¿°è¦æ±‚çš„å®¹å™¨ã€‚é€šè¿‡æ¨¡æ¿å‚æ•°å¯ä»¥çœ‹å‡ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œqueue ä½¿ç”¨ deque ä½œä¸ºåº•å±‚å®¹å™¨ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:3","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"4. deque Container properties: Sequence | Dynamic array | Allocator-aware å®¹å™¨å±æ€§ï¼šé¡ºåºå®¹å™¨ï¼ˆæ”¯æŒéšæœºè®¿é—®ï¼‰ï¼ŒåŠ¨æ€è°ƒæ•´å¤§å°ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ï¼›//åˆ†æ®µè¿ç»­å†…å­˜ ç±»æ¨¡æ¿å¤´ï¼štemplate \u003c class T, class Alloc = allocator \u003e class deque; dequeï¼ˆè¯»ä½œ\"deck\"ï¼‰æ˜¯ double-ended queue çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥åœ¨é¦–å°¾ä¸¤ç«¯è¿›è¡ŒåŠ¨æ€å¢åˆ çš„é¡ºåºå®¹å™¨ã€‚ ä¸åŒçš„åº“å¯¹ deque çš„å®ç°å¯èƒ½ä¸åŒï¼Œä½†å¤§ä½“ä¸Šéƒ½æ˜¯æŸç§å½¢å¼çš„åŠ¨æ€ arrayï¼Œä¸”éƒ½æ”¯æŒéšæœºè®¿é—®ã€‚deque çš„åŠŸèƒ½å’Œ vector æ¯”è¾ƒæ¥è¿‘ï¼Œä½† deque é¢å¤–æ”¯æŒåœ¨å¤´éƒ¨åŠ¨æ€å¢åˆ å…ƒç´ ã€‚å’Œ vector ä¸ä¸€æ ·çš„æ˜¯ï¼Œdeque ä¸ä¿è¯å­˜å‚¨åŒºåŸŸä¸€å®šæ˜¯è¿ç»­çš„! å› æ­¤ç”¨æŒ‡å‘å…ƒç´ çš„æ™®é€šæŒ‡é’ˆåš++å’Œ--æ“ä½œæ˜¯éå¸¸å±é™©çš„è¡Œä¸ºã€‚ ä»åº•å±‚æœºç†ä¸Šèƒ½æ›´é€å½»åœ°ç†è§£ deque çš„ç‰¹ç‚¹ï¼švector ä½¿ç”¨çš„æ˜¯å•ä¸€çš„ arrayï¼Œdeque åˆ™ä¼šä½¿ç”¨å¾ˆå¤šä¸ªç¦»æ•£çš„ array æ¥ç»„ç»‡æ•°æ®ã€Œthe elements of a deque can be scattered in different chunks of storageã€ï¼å¦‚æœè¯´ vector æ˜¯è¿ç»­çš„ï¼Œdeque åˆ™æ˜¯åˆ†æ®µè¿ç»­ã€‚deque ä¼šç»´æŠ¤ä¸åŒ array ä¹‹é—´çš„å…³è”ä¿¡æ¯ï¼Œä½¿ç”¨æˆ·æ— éœ€å…³å¿ƒåˆ†æ®µè¿™ä¸ªäº‹å®ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¾ˆæ˜æ˜¾çš„ï¼šdeque åœ¨ reallocate æ—¶ï¼Œåªéœ€æ–°å¢/é‡Šæ”¾ä¸¤ç«¯çš„ storage chunk å³å¯ï¼Œæ— éœ€ç§»åŠ¨å·²æœ‰æ•°æ®ï¼ˆvector çš„å¼Šç«¯ï¼‰ï¼Œæå¤§æå‡äº†æ•ˆç‡ï¼Œå°¤å…¶åœ¨æ•°æ®è§„æ¨¡å¾ˆå¤§æ—¶ï¼Œä¼˜åŠ¿æ˜æ˜¾ã€‚ ç›¸æ¯”äº vector å’Œ listï¼Œdeque å¹¶ä¸é€‚åˆéå†ï¼å› ä¸ºæ¯æ¬¡è®¿é—®å…ƒç´ æ—¶ï¼Œdeque åº•å±‚éƒ½è¦æ£€æŸ¥æ˜¯å¦è§¦è¾¾äº†å†…å­˜ç‰‡æ®µçš„è¾¹ç•Œï¼Œé€ æˆäº†é¢å¤–çš„å¼€é”€ï¼deque çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯åœ¨åŒç«¯éƒ½æ”¯æŒé«˜æ•ˆçš„å¢åˆ æ“ä½œï¼Œç¨‹åºå‘˜é€‰æ‹©ä½¿ç”¨ deque æ—¶éœ€è¦æœ‰åŒç«¯æ“ä½œçš„æ˜ç¡®ç†ç”±ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:4","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"5. priority_queue å®¹å™¨å±æ€§ï¼šå®¹å™¨é€‚é…å™¨ï¼Œä¸¥æ ¼å¼±åºï¼ˆStrict Weak Orderingï¼‰ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—ï¼› template \u003cclass T, class Container = vector, class Compare = less \u003e class priority_queue; å’Œ queue ç±»ä¼¼ï¼Œpriority_queueï¼ˆæœ¯è¯­å«ä½œä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰ä¹Ÿåªæ˜¯ä¸€ä¸ªå®¹å™¨é€‚é…å™¨ï¼Œéœ€è¦æŒ‡å®šåº•å±‚å®¹å™¨æ‰èƒ½å®ä¾‹åŒ–ï¼Œå‚è§æ¨¡æ¿å‚æ•°ä¸­çš„class Containerå½¢å‚ã€‚priority_queue çš„æ ¸å¿ƒç‰¹ç‚¹åœ¨äºå…¶ä¸¥æ ¼å¼±åºç‰¹æ€§ï¼ˆstrict weak orderingï¼‰ï¼šä¹Ÿå³ priority_queue ä¿è¯å®¹å™¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å§‹ç»ˆæ˜¯æ‰€æœ‰å…ƒç´ ä¸­æœ€å¤§çš„ï¼ä¸ºæ­¤ï¼Œç”¨æˆ·åœ¨å®ä¾‹åŒ–ä¸€ä¸ª priority_queue æ—¶ï¼Œå¿…é¡»ä¸ºå…ƒç´ ç±»å‹ï¼ˆclass Tï¼‰é‡è½½\u003cè¿ç®—ç¬¦ï¼Œä»¥ç”¨äºå…ƒç´ æ’åºï¼ priority_queue çš„åŸç†å¯ä»¥ç”¨ä¸€ä¸ªå¤§é¡¶å †æ¥è§£é‡Šï¼špriority_queue åœ¨å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªåŸºäºäºŒå‰æ ‘çš„å¤§é¡¶å †æ•°æ®ç»“æ„ï¼Œåœ¨è¿™ä¸ªæ•°æ®ç»“æ„ä¸­ï¼Œæœ€å¤§çš„å…ƒç´ å§‹ç»ˆä½äºå †é¡¶éƒ¨ï¼Œä¸”åªæœ‰å †é¡¶éƒ¨çš„å…ƒç´ ï¼ˆmax heap elementï¼‰æ‰èƒ½è¢«è®¿é—®å’Œè·å–ï¼Œå¤§é¡¶å †çš„å…·ä½“åŸç†å¯å‚è§ä»»ä½•ä¸€æœ¬æ•°æ®ç»“æ„ä¹¦ç±ã€‚ ä¸ºäº†æ”¯æŒè¿™ç§å·¥ä½œåŸç†ï¼Œpriority_queue å¯¹åº•å±‚å®¹å™¨ä¹Ÿæ˜¯æœ‰è¦æ±‚çš„ï¼Œpriority_queue çš„åº•å±‚å®¹å™¨å¿…é¡»æ”¯æŒéšæœºè®¿é—®å’Œè‡³å°‘ä»¥ä¸‹æ¥å£ï¼š empty(); size(); front(); push_back(); pop_back(). æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„ vector å’Œ deque èƒ½å¤Ÿæ»¡è¶³ä¸Šè¿°éœ€æ±‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œpriority_queue ä½¿ç”¨ vector ä½œä¸ºåº•å±‚å®¹å™¨ã€‚ æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œpriority_queue é»˜è®¤åœ¨ vector ä¸Šä½¿ç”¨å †ç®—æ³•å°† vector ä¸­å…ƒç´ æ„é€ æˆå¤§é¡¶å †çš„ç»“æ„ï¼Œå› æ­¤ priority_queue å°±æ˜¯å † ï¼Œæ‰€æœ‰éœ€è¦ç”¨åˆ°å †çš„ä½ç½®ï¼Œéƒ½å¯ä»¥è€ƒè™‘ä½¿ç”¨ priority_queueã€‚priority_queue é»˜è®¤æ˜¯å¤§é¡¶å †ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ¨¡æ¿å‚æ•°ä¸­çš„ class Compare æ¥å®ç°ä¸€ä¸ªå°é¡¶å †ã€‚ ç›¸æ¯”äº queueï¼ˆæ™®é€šé˜Ÿåˆ—ï¼‰çš„å…ˆè¿›å…ˆå‡ºFIFOï¼Œpriority_queue å®ç°äº†æœ€é«˜ä¼˜å…ˆçº§å…ˆå‡ºã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:5","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"6. list Container properties: Sequence | Doubly-linked list | Allocator-aware å®¹å™¨å±æ€§ï¼šé¡ºåºå®¹å™¨ï¼ˆå¯é¡ºåºè®¿é—®ï¼Œä½†ä¸æ”¯æŒéšæœºè®¿é—®ï¼‰ï¼ŒåŒé“¾è¡¨ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ï¼›//ç¦»æ•£å†…å­˜ ç±»æ¨¡æ¿å¤´ï¼štemplate \u003c class T, class Alloc = allocator \u003e class list; list æ˜¯ä¸€ç§æ”¯æŒåœ¨ä»»æ„ä½ç½®éƒ½å¯ä»¥å¿«é€Ÿåœ°æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„å®¹å™¨ï¼Œä¸”æ”¯æŒåŒå‘éå†ã€‚list å®¹å™¨èƒ½å¤Ÿåšåˆ°è¿™äº›çš„åŸå› åœ¨äºå…¶åº•å±‚ç»“æ„æ˜¯åŒé“¾è¡¨ï¼ŒåŒé“¾è¡¨å…è®¸æŠŠå„ä¸ªå…ƒç´ éƒ½ä¿å­˜åœ¨å½¼æ­¤ä¸ç›¸å¹²çš„å†…å­˜åœ°å€ä¸Šï¼Œä½†æ¯ä¸ªå…ƒç´ éƒ½ä¼šä¸å‰åç›¸é‚»å…ƒç´ å…³è”ã€‚ å’Œå…¶å®ƒçš„é¡ºåºå®¹å™¨ï¼ˆarray, vector, dequeï¼‰ç›¸æ¯”ï¼Œlist çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºæ”¯æŒåœ¨ä»»æ„ä½ç½®æ’å…¥ã€åˆ é™¤å’Œç§»åŠ¨å…ƒç´ ï¼Œå¯¹ list æ¥è¯´ï¼Œåœ¨å“ªä¸ªä½ç½®è¿›è¡Œæ“ä½œå¹¶æ²¡æœ‰åŒºåˆ«ã€‚list åœ¨éƒ¨åˆ†ç®—æ³•ï¼ˆå¦‚ sortingï¼‰ä¸­çš„æ•ˆç‡å¯èƒ½ä¼˜äºå…¶å®ƒé¡ºåºå®¹å™¨ã€‚ list çš„ä¸»è¦ç¼ºç‚¹æ˜¯ä¸æ”¯æŒå…ƒç´ çš„éšæœºè®¿é—®ï¼å¦‚æœæˆ‘ä»¬æƒ³è¦è®¿é—®æŸä¸ªå…ƒç´ ï¼Œåˆ™å¿…é¡»ä»ä¸€ä¸ªå·²çŸ¥å…ƒç´ ï¼ˆå¦‚ begin æˆ– endï¼‰å¼€å§‹æœä¸€ä¸ªæ–¹å‘éå†ï¼Œç›´è‡³åˆ°è¾¾è¦è®¿é—®çš„å…ƒç´ ã€‚æ­¤å¤–ï¼Œlist è¿˜è¦æ¶ˆè€—æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼Œç”¨äºä¿å­˜å„ä¸ªå…ƒç´ çš„å…³è”ä¿¡æ¯ã€‚ [å¦è¯´] list å¯¹å†…å­˜ç©ºé—´çš„ä½¿ç”¨æ•ˆç‡å¹¶ä¸é«˜ï¼Œä¸€æ–¹é¢å…ƒç´ å†…å­˜åœ°å€æ˜¯ç¦»æ•£çš„è€Œéè¿ç»­ï¼Œå¦ä¸€æ–¹é¢ï¼Œlist éœ€è¦ä¿å­˜é¢å¤–çš„å…³è”ä¿¡æ¯ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:6","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"7. forward_list Container properties: Sequence | Linked list | Allocator-aware å®¹å™¨å±æ€§ï¼šé¡ºåºå®¹å™¨ï¼ˆå¯é¡ºåºè®¿é—®ï¼Œä½†ä¸æ”¯æŒéšæœºè®¿é—®ï¼‰ï¼Œå•é“¾è¡¨ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ï¼› ç±»æ¨¡æ¿å¤´ï¼štemplate \u003c class T, class Alloc = allocator \u003e class list; forward_list ä¹Ÿæ˜¯ä¸€ç§æ”¯æŒåœ¨ä»»æ„ä½ç½®å¿«é€Ÿæ’å…¥å’Œåˆ é™¤å…ƒç´ çš„å®¹å™¨ï¼Œforward_list ç›¸æ¯”äº list çš„æ ¸å¿ƒåŒºåˆ«æ˜¯å®ƒæ˜¯ä¸€ä¸ªå•é“¾è¡¨ï¼Œå› æ­¤, æ¯ä¸ªå…ƒç´ åªä¼šä¸ç›¸é‚»çš„ä¸‹ä¸€ä¸ªå…ƒç´ å…³è”ï¼ç”±äºå…³è”ä¿¡æ¯å°‘äº†ä¸€åŠï¼Œå› æ­¤ forward_list å ç”¨çš„å†…å­˜ç©ºé—´æ›´å°ï¼Œä¸”æ’å…¥å’Œåˆ é™¤çš„æ•ˆç‡ç¨ç¨é«˜äº listã€‚ä½œä¸ºä»£ä»·ï¼Œforward_list åªèƒ½å•å‘éå†ã€‚ ç›¸æ¯”äºå…¶å®ƒé¡ºåºå®¹å™¨ï¼ˆarray, vector, dequeï¼‰ï¼Œforward_list çš„ä¼˜ç¼ºç‚¹å’Œ list åŸºæœ¬ç›¸åŒã€‚ æ—¢ç„¶å·²ç»æœ‰äº† listï¼Œä¸ºä»€ä¹ˆ C++ STL åˆè®¾è®¡äº† forward_list è¿™ä¸€å®¹å™¨å‘¢ï¼Ÿè®¾è®¡ forward_list çš„ç›®çš„æ˜¯ä¸ºäº†è¾¾åˆ°ä¸è¾“äºä»»ä½•ä¸€ä¸ªCé£æ ¼æ‰‹å†™é“¾è¡¨çš„æå€¼æ•ˆç‡ï¼ä¸ºæ­¤ï¼Œforward_list æ˜¯ä¸€ä¸ªæœ€å°é“¾è¡¨è®¾è®¡ï¼Œå®ƒç”šè‡³æ²¡æœ‰size()æ¥å£ï¼Œå› ä¸ºå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªsizeå˜é‡ä¼šé™ä½å¢åˆ å…ƒç´ çš„æ•ˆç‡ã€‚å¦‚æœæƒ³è¦è·å– forward_list çš„ sizeï¼Œä¸€ä¸ªé€šå¸¸çš„åšæ³•æ˜¯ï¼Œç”¨ std::distance è®¡ç®— begin åˆ° end çš„è·ç¦»å¾—å‡º sizeã€‚ä¸€å¥è¯æ€»ç»“ï¼šlist å…¼é¡¾äº†æ¥å£ä¸°å¯Œæ€§ç‰ºç‰²äº†æ•ˆç‡ï¼Œè€Œ forward_list èˆå¼ƒäº†ä¸å¿…è¦çš„æ¥å£åªä¸ºè¿½æ±‚æè‡´æ•ˆç‡ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:7","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"8. stack å®¹å™¨å±æ€§ï¼šå®¹å™¨é€‚é…å™¨ï¼Œåè¿›å…ˆå‡ºå‹å®¹å™¨ï¼ˆLIFOï¼‰ï¼› template \u003cclass T, class Container = deque \u003e class stack; stackï¼ˆæ ˆï¼‰æ˜¯ä¸€ä¸ªä¸“ä¸º LIFO è®¾è®¡çš„å®¹å™¨é€‚é…å™¨ï¼Œä¹Ÿå³åªèƒ½ä»ä¸€ç«¯æ’å…¥å’Œåˆ é™¤ï¼›ä½œä¸ºé€‚é…å™¨ï¼Œéœ€è¦æŒ‡å®šåº•å±‚å®¹å™¨æ‰èƒ½å®ä¾‹åŒ–ï¼Œå‚è§æ¨¡æ¿å‚æ•°ä¸­çš„class Containerå½¢å‚ã€‚ stack çš„ç‰¹ç‚¹æ˜¯åè¿›å…ˆå‡ºï¼ˆä¸€ç«¯è¿›å‡ºï¼‰ï¼Œä¸å…è®¸éå†ï¼›ä»»ä½•æ—¶å€™å¤–ç•Œåªèƒ½è®¿é—® stack é¡¶éƒ¨çš„å…ƒç´ ï¼›åªæœ‰åœ¨ç§»é™¤ stack é¡¶éƒ¨çš„å…ƒç´ åï¼Œæ‰èƒ½è®¿é—®ä¸‹æ–¹çš„å…ƒç´ ã€‚stack éœ€è¦åº•å±‚å®¹å™¨èƒ½å¤Ÿåœ¨ä¸€ç«¯å¢åˆ å…ƒç´ ï¼Œè¿™ä¸€ç«¯ä¹Ÿå³ stack çš„â€œæ ˆé¡¶â€ï¼›stack å¯ä»¥æ¥çº³ä»»ä½•ä¸€ä¸ªè‡³å°‘æ”¯æŒä¸‹åˆ—æ¥å£çš„å®¹å™¨ä½œä¸ºåº•å±‚å®¹å™¨ï¼š empty(); size(); back(); push_back(); pop_back() åœ¨æ ‡å‡†æ¨¡æ¿åº“å®¹å™¨ä¸­ï¼Œvectorã€deque å’Œ list æ»¡è¶³ä¸Šè¿°è¦æ±‚ï¼Œå½“ç„¶ç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ»¡è¶³ä¸Šè¿°è¦æ±‚çš„å®¹å™¨ã€‚é€šè¿‡æ¨¡æ¿å‚æ•°å¯ä»¥çœ‹å‡ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œstack ä½¿ç”¨ deque ä½œä¸ºåº•å±‚å®¹å™¨ã€‚ stack å®¹å™¨åº”ç”¨å¹¿æ³›ï¼Œä¾‹å¦‚ï¼Œç¼–è¾‘å™¨ä¸­çš„ undo ï¼ˆæ’¤é”€æ“ä½œï¼‰æœºåˆ¶å°±æ˜¯ç”¨æ ˆæ¥è®°å½•è¿ç»­çš„æ“ä½œã€‚stack çš„è®¾è®¡åœºæ™¯å’Œè‡ªåŠ©é¤é¦†ä¸­å †å çš„ç›˜å­ã€æ‘èµ·æ¥çš„ä¸€å †ä¹¦ç±»ä¼¼ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:8","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"9. map Container properties: Associative | Ordered | Map | Unique keys | Allocator-aware å®¹å™¨å±æ€§ï¼šå…³è”å®¹å™¨ï¼Œæœ‰åºï¼Œå…ƒç´ ç±»å‹\u003ckey, value\u003eï¼Œkeyæ˜¯å”¯ä¸€çš„ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ ï¼› template \u003c class Key, // map::key_type class T, // map::mapped_type class Compare = less, // map::key_compare class Alloc = allocator\u003cpair\u003cconst Key,T\u003e \u003e // map::allocator_type class map; map æ˜¯ä¸€ä¸ªå…³è”å‹å®¹å™¨ï¼Œå…¶å…ƒç´ ç±»å‹æ˜¯ç”± key å’Œ value ç»„æˆçš„ std::pairï¼Œå®é™…ä¸Š map ä¸­å…ƒç´ çš„æ•°æ®ç±»å‹æ­£æ˜¯ typedef pair\u003cconst Key, T\u003e value_type;ï¼Œè¿™å°±çœ‹çš„å¾ˆæ¸…æ¥šäº†ã€‚ æ‰€è°“å…³è”å®¹å™¨ï¼Œæ˜¯æŒ‡å¯¹æ‰€æœ‰å…ƒç´ çš„æ£€ç´¢éƒ½æ˜¯é€šè¿‡å…ƒç´ çš„ key è¿›è¡Œçš„ï¼ˆè€Œéå…ƒç´ çš„å†…å­˜åœ°å€ï¼‰ï¼Œmap é€šè¿‡åº•å±‚çš„ã€Œçº¢é»‘æ ‘ã€æ•°æ®ç»“æ„æ¥å°†æ‰€æœ‰çš„å…ƒç´ æŒ‰ç…§ key çš„ç›¸å¯¹å¤§å°è¿›è¡Œæ’åºï¼Œæ‰€å®ç°çš„æ’åºæ•ˆæœä¹Ÿæ˜¯ä¸¥æ ¼å¼±åºç‰¹æ€§ï¼ˆstrict weak orderingï¼‰ï¼Œä¸ºæ­¤ï¼Œå¼€å‘è€…éœ€è¦é‡è½½ key çš„\u003cè¿ç®—ç¬¦æˆ–è€…æ¨¡æ¿å‚æ•°ä¸­çš„ class Compareã€‚æ‰€æåˆ°çš„çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œå®ƒè¡ç”Ÿè‡ªBæ ‘ï¼Œè¿™é‡Œæ¨èä¸¤ç¯‡æ–‡ç« ï¼ˆè®°ä¸€æ¬¡è…¾è®¯é¢è¯•ï¼šæœ‰äº†äºŒå‰æŸ¥æ‰¾æ ‘ã€å¹³è¡¡æ ‘ï¼ˆAVLï¼‰ä¸ºå•¥è¿˜éœ€è¦çº¢é»‘æ ‘ï¼Ÿï¼Œå›¾è§£ï¼šä»€ä¹ˆæ˜¯çº¢é»‘æ ‘ï¼Ÿï¼‰ä½œä¸ºæ›´æ·±å…¥çš„å‚è€ƒã€‚ å¤§ä½“æ¥è¯´ï¼Œmap è®¿é—®å…ƒç´ çš„é€Ÿåº¦è¦ç¨æ…¢äºä¸‹æ–‡çš„ unordered_mapï¼Œè¿™æ˜¯å› ä¸ºè™½ç„¶éƒ½å«â€œmapâ€ï¼Œä½†ä¸¤è€…çš„åº•å±‚æœºåˆ¶å®Œå…¨ä¸ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œç›¸æ¯”äºåè€…ï¼Œmap æ”¯æŒåœ¨ä¸€ä¸ªå­é›†åˆä¸Šè¿›è¡Œç›´æ¥è¿­ä»£å™¨è®¿é—®ï¼ŒåŸå› åœ¨äº map ä¸­çš„å…ƒç´ æ˜¯è¢«æœ‰åºç»„ç»‡çš„ã€‚ æœ€åï¼Œmap ä¹Ÿæ”¯æŒé€šè¿‡operator[]çš„æ–¹å¼æ¥ç›´æ¥è®¿é—® valueã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:9","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"10. multimap Container properties: Associative | Ordered | Map | Multiple equivalent keys | Allocator-aware å®¹å™¨å±æ€§: å…³è”å®¹å™¨ï¼Œæœ‰åºï¼Œå…ƒç´ ç±»å‹\u003ckey, value\u003eï¼Œå…è®¸ä¸åŒå…ƒç´ keyç›¸åŒï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨ç®¡ç†å†…å­˜ï¼› template \u003c class Key, // map::key_type class T, // map::mapped_type class Compare = less, // map::key_compare class Alloc = allocator\u003cpair\u003cconst Key,T\u003e \u003e // map::allocator_type class map; map ä¸­ä¸å…è®¸å‡ºç° key ç›¸åŒçš„ä¸¤ä¸ªå…ƒç´ ï¼Œä½† multimap åˆ™å¯ä»¥è¿™æ ·åšï¼ multimap ä¸ map åº•å±‚åŸç†å®Œå…¨ä¸€æ ·ï¼Œéƒ½æ˜¯ä½¿ç”¨ã€Œçº¢é»‘æ ‘ã€å¯¹å…ƒç´ æ•°æ®æŒ‰ key çš„æ¯”è¾ƒå…³ç³»ï¼Œè¿›è¡Œå¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’Œæ£€ç´¢æ“ä½œï¼›æ‰€ä¸åŒçš„æ˜¯ multimap å…è®¸å°†å…·æœ‰ç›¸åŒ key çš„ä¸åŒå…ƒç´ æ’å…¥å®¹å™¨ï¼ˆè¿™ä¸ªä¸åŒä½“ç°äº† multimap å¯¹çº¢é»‘æ ‘çš„ä½¿ç”¨æ–¹å¼çš„å·®å¼‚ï¼‰ã€‚åœ¨ multimap å®¹å™¨ä¸­ï¼Œå…ƒç´ çš„ key ä¸å…ƒç´  value çš„æ˜ å°„å…³ç³»ï¼Œæ˜¯ä¸€å¯¹å¤šçš„ï¼Œå› æ­¤ï¼Œmultimap æ˜¯å¤šé‡æ˜ å°„å®¹å™¨ã€‚ æ³¨æ„ï¼Œåœ¨å‘ multimap ä¸­æ–°å¢å…ƒç´ æ—¶ï¼Œmultimap åªä¼šåˆ¤æ–­ key æ˜¯å¦ç›¸åŒï¼Œè€Œå®Œå…¨ä¸ä¼šåˆ¤æ–­ value æ˜¯å¦ç›¸åŒï¼è¿™æ„å‘³ç€å¦‚æœç›¸åŒçš„ \u003ckey, value\u003e æ’å…¥äº†å¤šæ¬¡ï¼Œmultimap ä¼šå¯¹å®ƒä»¬æ‚‰æ•°ä¿å­˜ï¼ åœ¨ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿­ä»£å™¨é…åˆ lower_bound() å’Œ upper_bound() æ¥è®¿é—®ä¸€ä¸ª key å¯¹åº”çš„æ‰€æœ‰ valueï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨equal_range()æ¥è®¿é—®ä¸€ä¸ª key å¯¹åº”çš„æ‰€æœ‰ valueï¼Œä¹Ÿå¯ä»¥é€šè¿‡find()é…åˆcount()æ¥è®¿é—®ä¸€ä¸ª key å¯¹åº”çš„æ‰€æœ‰ valueï¼Œä¸ªäººè®¤ä¸ºå‰ä¸¤ç§æ–¹æ³•ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ä¸€ç‚¹ã€‚ ä¸‹æ–‡ä¸­å°†è¦æåˆ°çš„ multiset ä¹‹äº set ç±»ä¼¼äºè¿™é‡Œçš„ multimap ä¹‹äº mapã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:10","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"11. set Container properties: Associative | Ordered | Set | Unique keys | Allocator-aware å®¹å™¨å±æ€§ï¼šå…³è”å®¹å™¨ï¼Œæœ‰åºï¼Œå…ƒç´ è‡ªèº«å³keyï¼Œå…ƒç´ æœ‰å”¯ä¸€æ€§ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ï¼› template \u003c class T, // set::key_type/value_type class Compare = less, // set::key_compare/value_compare class Alloc = allocator // set::allocator_type class set; set æ˜¯ä¸€ä¸ªå…³è”å‹å®¹å™¨ï¼Œå’Œ map ä¸€æ ·ï¼Œå®ƒçš„åº•å±‚ç»“æ„æ˜¯ã€Œçº¢é»‘æ ‘ã€ï¼Œä½†å’Œ map ä¸ä¸€æ ·çš„æ˜¯ï¼Œset æ˜¯ç›´æ¥ä¿å­˜ value çš„ï¼Œæˆ–è€…è¯´ï¼Œset ä¸­çš„ value å°±æ˜¯ keyã€‚ set ä¸­çš„å…ƒç´ å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸å…è®¸å‡ºç°é‡å¤çš„å…ƒç´ ï¼Œä¸”å…ƒç´ ä¸å¯æ›´æ”¹ï¼Œä½†å¯ä»¥è‡ªç”±æ’å…¥æˆ–è€…åˆ é™¤ã€‚ ç”±äºåº•å±‚æ˜¯çº¢é»‘æ ‘ï¼Œæ‰€ä»¥ set ä¸­çš„å…ƒç´ ä¹Ÿæ˜¯ä¸¥æ ¼å¼±åºï¼ˆstrict weak orderingï¼‰æ’åºçš„ï¼Œå› æ­¤æ”¯æŒç”¨è¿­ä»£å™¨åšèŒƒå›´è®¿é—®ï¼ˆè¿­ä»£å™¨è‡ªåŠ è‡ªå‡ï¼‰ã€‚ å®é™…ä½¿ç”¨ä¸­ï¼Œset å’Œ map æ˜¯è¿‘äº²ï¼Œæ€§èƒ½ç›¸ä¼¼ï¼Œä»–ä»¬çš„å·®åˆ«æ˜¯å…ƒç´ çš„ value æœ¬èº«æ˜¯å¦ä¹Ÿä½œä¸º key æ¥æ ‡è¯†è‡ªå·±ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:11","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"12. multi_set Container properties: Associative | Ordered | Set | Multiple equivalent keys | Allocator-aware å®¹å™¨å±æ€§ï¼šå…³è”å®¹å™¨ï¼Œæœ‰åºï¼Œå…ƒç´ è‡ªèº«å³keyï¼Œå…è®¸ä¸åŒå…ƒç´ å€¼ç›¸åŒï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ ï¼› template \u003c class T, // multiset::key_type/value_type class Compare = less, // multiset::key_compare/value_compare class Alloc = allocator \u003e // multiset::allocator_type class multiset; multiset ä¹‹äº set å°±å¦‚åŒ multimap ä¹‹äº mapï¼š multiset å’Œ set åº•å±‚éƒ½æ˜¯çº¢é»‘æ ‘ï¼Œmultiset ç›¸æ¯”äº set æ”¯æŒä¿å­˜å¤šä¸ªç›¸åŒçš„å…ƒç´ ï¼› multimap å’Œ map åº•å±‚éƒ½æ˜¯çº¢é»‘æ ‘ï¼Œmultimap ç›¸æ¯”äº map æ”¯æŒä¿å­˜å¤šä¸ªkeyç›¸åŒçš„å…ƒç´ ã€‚ é‰´äºä»¥ä¸Šè¿‘äº²å…³ç³»ï¼Œmultiset çš„æ€§èƒ½ç‰¹ç‚¹ä¸å…¶å®ƒä¸‰è€…ç›¸ä¼¼ï¼Œä¸å†èµ˜è¿°ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:12","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"13. unordered_map Container properties: Associative | Unordered | Map | Unique keys | Allocator-aware å®¹å™¨å±æ€§ï¼šå…³è”å®¹å™¨ï¼Œæ— åºï¼Œå…ƒç´ ç±»å‹\u003ckey, value\u003eï¼Œkeyæ˜¯å”¯ä¸€çš„ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ ï¼› template \u003c class Key, // unordered_map::key_type class T, // unordered_map::mapped_type class Hash = hash, // unordered_map::hasher class Pred = equal_to, // unordered_map::key_equal class Alloc = allocator\u003c pair\u003cconst Key,T\u003e \u003e // unordered_map::allocator_type class unordered_map; unordered_map å’Œ map ä¸€æ ·ï¼Œéƒ½æ˜¯å…³è”å®¹å™¨ï¼Œä»¥é”®å€¼å¯¹å„¿ \u003ckey, value\u003e ä½œä¸ºå…ƒç´ è¿›è¡Œå­˜å‚¨ï¼›ä½†æ˜¯ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä¸¤è€…å¯ä»¥è¯´æ˜¯å®Œå…¨ä¸ä¸€æ ·ï¼ è¿™æ˜¯ç”±åº•å±‚çš„æ•°æ®ç»“æ„å†³å®šçš„ï¼Œmap ä»¥çº¢é»‘æ ‘ä½œä¸ºåº•å±‚ç»“æ„ç»„ç»‡æ•°æ®ï¼Œè€Œ unordered_map ä»¥å“ˆå¸Œè¡¨(hash table)ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„æ¥ç»„ç»‡æ•°æ®ï¼Œè¿™é€ æˆäº†ä¸¤ç‚¹é‡è¦å½±å“ï¼š 1. unordered_map ä¸æ”¯æŒæ’åºï¼Œåœ¨ä½¿ç”¨è¿­ä»£å™¨åšèŒƒå›´è®¿é—®æ—¶ï¼ˆè¿­ä»£å™¨è‡ªåŠ è‡ªå‡ï¼‰æ•ˆç‡æ›´ä½ï¼› 2. ä½† unordered_map ç›´æ¥è®¿é—®å…ƒç´ çš„é€Ÿåº¦æ›´å¿«ï¼ˆå°¤å…¶åœ¨è§„æ¨¡å¾ˆå¤§æ—¶ï¼‰ï¼Œå› ä¸ºå®ƒé€šè¿‡ç›´æ¥è®¡ç®— key çš„å“ˆå¸Œå€¼æ¥è®¿é—®å…ƒç´ ï¼Œæ˜¯O(1)å¤æ‚åº¦ï¼ ç½‘ç»œä¸Šæœ‰å¯¹ map VS unordered_map æ•ˆç‡å¯¹æ¯”çš„æµ‹è¯•ï¼Œé€šå¸¸ map å¢åˆ å…ƒç´ çš„æ•ˆç‡æ›´é«˜ï¼Œunordered_map è®¿é—®å…ƒç´ çš„æ•ˆç‡æ›´é«˜ï¼Œå¯ä»¥å‚è§è¿™ç¯‡æ–‡ç« ã€‚å¦å¤–ï¼Œunordered_map å†…å­˜å ç”¨æ›´é«˜ï¼Œå› ä¸ºåº•å±‚çš„å“ˆå¸Œè¡¨éœ€è¦é¢„åˆ†é…è¶³é‡çš„ç©ºé—´ã€‚ ç»¼ä¸Šï¼Œunordered_map æ›´é€‚ç”¨äºå¢åˆ æ“ä½œä¸å¤šï¼Œä½†éœ€è¦é¢‘ç¹è®¿é—®ï¼Œä¸”å†…å­˜èµ„æºå……è¶³çš„åœºåˆã€‚ æ¯”å¦‚åœ¨æœºå™¨äººé¢†åŸŸçš„SLAMæŠ€æœ¯ä¸­ï¼Œå¯ä»¥é€‰æ‹© unordered_map æ¥ç»´æŠ¤ä½“ç´ å½¢å¼çš„ local mapï¼Ÿ å½“ç„¶ deque åº”è¯¥ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:13","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"14. unordered_multimap Container properties: Associative | Unordered | Map | Multiple equivalent keys | Allocator-aware å®¹å™¨å±æ€§ï¼šå…³è”å®¹å™¨ï¼Œæ— åºï¼Œå…ƒç´ ç±»å‹\u003ckey, value\u003eï¼Œå…è®¸ä¸åŒå…ƒç´ keyç›¸åŒï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨ç®¡ç†å†…å­˜ ï¼› template \u003c class Key, // unordered_multimap::key_type class T, // unordered_multimap::mapped_type class Hash = hash, // unordered_multimap::hasher class Pred = equal_to, // unordered_multimap::key_equal class Alloc = allocator\u003c pair\u003cconst Key,T\u003e \u003e // unordered_multimap::allocator_type class unordered_multimap; unordered_multimap æ˜¯å¯¹ unordered_map çš„æ‹“å±•ï¼Œå”¯ä¸€åŒºåˆ«åœ¨äº unordered_multimap å…è®¸ä¸åŒå…ƒç´ çš„ key ç›¸åŒï¼Œä½†ä¸¤è€…æ— è®ºæ˜¯åœ¨åº•å±‚ç»“æ„è¿˜æ˜¯åœ¨å®¹å™¨ç‰¹æ€§ä¸Šéƒ½æ˜¯ç›¸é€šçš„ï¼Œä»…ä»…æ˜¯å¯¹åº•å±‚å“ˆå¸Œè¡¨çš„ä½¿ç”¨æ–¹å¼ç¨æœ‰ä¸åŒã€‚ åœ¨ unordered_multimap ä¸­æƒ³è¦è®¿é—®åŒä¸€ä¸ª key ä¸‹å¯¹åº”çš„æ‰€æœ‰å…ƒç´ çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨equal_range()è½»æ¾åšåˆ°ï¼›å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨find()å’Œcount()é…åˆçš„æ–¹å¼æ¥è®¿é—®ã€‚ unordered_multimap çš„å®¹å™¨ç‰¹æ€§å‚è§ unordered_mapï¼Œä¸å†èµ˜è¿°ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:14","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"15. unordered_set Container properties: Associative | Unordered | Set | Unique keys | Allocator-aware å®¹å™¨å±æ€§ï¼šå…³è”å®¹å™¨ï¼Œæ— åºï¼Œå…ƒç´ è‡ªèº«å³keyï¼Œå…ƒç´ æœ‰å”¯ä¸€æ€§ï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ ï¼› template \u003c class Key, // unordered_set::key_type/value_type class Hash = hash, // unordered_set::hasher class Pred = equal_to, // unordered_set::key_equal class Alloc = allocator // unordered_set::allocator_type class unordered_set; æ‰€æœ‰unordered_XXXç±»å®¹å™¨çš„ç‰¹ç‚¹éƒ½æ˜¯ä»¥å“ˆå¸Œè¡¨ä½œä¸ºåº•å±‚ç»“æ„ï¼›æ‰€æœ‰ XXX_set ç±»å®¹å™¨çš„ç‰¹ç‚¹éƒ½æ˜¯ã€Œå…ƒç´ è‡ªèº«ä¹Ÿä½œä¸ºkeyã€æ¥æ ‡è¯†è‡ªå·±ã€‚æˆ‘ä»¬åœ¨æŠŠä¸¤ç±»ç‰¹æ€§å åŠ åˆ°ä¸€èµ·ï¼Œå°±å¾—åˆ°äº† unordered_setã€‚ åœ¨ unordered_set ä¸­ï¼Œå…ƒç´ è‡ªèº«åŒæ—¶ä¹Ÿä½œä¸º key ä½¿ç”¨ï¼›æ—¢ç„¶æ˜¯ä½œä¸º key ä½¿ç”¨ï¼Œé‚£ä¹ˆå…ƒç´ å°±ä¸èƒ½è¢«æ›´æ”¹ï¼Œä¹Ÿå³ unordered_set ä¸­çš„å…ƒç´ éƒ½æ˜¯ constant çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥è‡ªç”±çš„æ’å…¥å’Œåˆ é™¤å…ƒç´ ï¼Œè¿™ä¹Ÿæ˜¯æ‰€æœ‰XXX_setç±»å®¹å™¨çš„æ€§è´¨ã€‚æ—¢ç„¶åº•å±‚ç»“æ„æ˜¯å“ˆå¸Œè¡¨ï¼Œæ„å‘³ç€ unordered_set ä¸­çš„å…ƒç´ æ˜¯æ— åºçš„ï¼Œä¸èƒ½æŒ‰ç…§å¤§å°æ’åºï¼Œè¿™ä¹Ÿæ˜¯æ‰€æœ‰unordered_XXXç±»å®¹å™¨çš„æ€§è´¨ã€‚ å’Œæ‰€æœ‰çš„unordered_XXXç±»å®¹å™¨ä¸€æ ·ï¼š 1. unordered_set ç›´æ¥ç”¨è¿­ä»£å™¨åšèŒƒå›´è®¿é—®æ—¶ï¼ˆè¿­ä»£å™¨è‡ªåŠ è‡ªå‡ï¼‰æ•ˆç‡æ›´ä½ï¼Œä½äº setï¼› 2. ä½† unordered_set ç›´æ¥è®¿é—®å…ƒç´ çš„é€Ÿåº¦æ›´å¿«ï¼ˆå°¤å…¶åœ¨è§„æ¨¡å¾ˆå¤§æ—¶ï¼‰ï¼Œå› ä¸ºå®ƒé€šè¿‡ç›´æ¥è®¡ç®— key çš„å“ˆå¸Œå€¼æ¥è®¿é—®å…ƒç´ ï¼Œæ˜¯O(1)å¤æ‚åº¦ï¼ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:15","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"16. unordered_multiset Container properties: Associative | Unordered | Set | Multiple equivalent keys | Allocator-aware å®¹å™¨å±æ€§ï¼šå…³è”å®¹å™¨ï¼Œæ— åºï¼Œå…ƒç´ è‡ªèº«å³keyï¼Œå…è®¸ä¸åŒå…ƒç´ å€¼ç›¸åŒï¼Œä½¿ç”¨å†…å­˜åˆ†é…å™¨åŠ¨æ€ç®¡ç†å†…å­˜ ï¼› template \u003c class Key, // unordered_multiset::key_type/value_type class Hash = hash, // unordered_multiset::hasher class Pred = equal_to, // unordered_multiset::key_equal class Alloc = allocator // unordered_multiset::allocator_type class unordered_multiset; unordered_multisetï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯é›†é½äº†â€œå“ˆå¸Œè¡¨ä¸ºåº•å±‚ç»“æ„â€ï¼Œâ€œå…ƒç´ è‡ªèº«å³keyâ€ï¼Œâ€œå…è®¸ä¸åŒå…ƒç´ å€¼ç›¸åŒâ€è¿™ä¸‰ä¸ªç‰¹æ€§çš„å®¹å™¨ï¼Œæ˜¯å¯¹ unordered_set çš„ç®€å•æ‹“å±•ã€‚ unordered_multiset çš„æ•ˆç‡ç‰¹æ€§ä¸æ‰€æœ‰åŸºäºå“ˆå¸Œè¡¨çš„å®¹å™¨ç›¸ä¼¼ï¼Œå‚è§ unordered_setï¼Œä¸å†èµ˜è¿°ã€‚ ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:16","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["C++"],"content":"17. pair \u0026\u0026 tuple template \u003cclassâ€¦ Types\u003e class tuple; template \u003cclass T1, class T2\u003e struct pair; std::pair å’Œ std::tuple å¹¶ä¸æ˜¯stlå®¹å™¨åº“ä¸­çš„å®¹å™¨ï¼Œä¸è¿‡é‰´äºç»å¸¸ç”¨åˆ°ï¼Œå°±é¡ºä¾¿æ•´ç†ä¸€ä¸‹ã€‚å…ˆä» tuple è¯´èµ·ï¼Œpair ç›¸å½“äº tuple çš„ç‰¹ä¾‹ã€‚ tuple å«ä½œå…ƒç»„ï¼Œå®ƒå¯ä»¥æŠŠä¸€ç»„ç±»å‹ç›¸åŒæˆ–ä¸åŒçš„å…ƒç´ ç»„åˆåˆ°ä¸€èµ·ï¼Œä¸”å…ƒç´ çš„æ•°é‡ä¸é™ã€‚tuple çš„åº•å±‚åŸç†ä¸ stl ä¸­çš„å®¹å™¨å®Œå…¨ä¸åŒï¼Œä½†åœ¨åŠŸèƒ½ä¸Šï¼Œtuple æ˜¯å¯¹å®¹å™¨çš„æœ‰æ•ˆè¡¥å……ï¼Œå› ä¸ºæ‰€æœ‰çš„å®¹å™¨éƒ½åªèƒ½ç»„åˆç›¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†tuple å¯ä»¥ç»„åˆä»»æ„ä¸åŒç±»å‹çš„å…ƒç´ ã€‚åœ¨ä½¿ç”¨ä¸Šï¼Œå¯ä»¥ç”¨std::make_tuple()æ¥æ„é€  tuple å¯¹è±¡ï¼Œå¯ä»¥ç”¨std::get()æ¥è·å– tuple å¯¹è±¡çš„æŸä¸ªå…ƒç´ ï¼Œæ³¨æ„std::get()è¿”å›çš„æ˜¯ tuple å¯¹è±¡ä¸­æŸä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå› æ­¤æ˜¯å¯ä»¥ç”¨ä½œå·¦å€¼çš„ï¼æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨std::tie()æ‰“åŒ…ä¸€ç»„å˜é‡æ¥ä½œä¸ºå·¦å€¼æ¥å— tuple å¯¹è±¡çš„èµ‹å€¼ã€‚ tuple çš„åº•å±‚åŸç†å¤§æ¦‚æ˜¯ä¸€ä¸ªå±‚å±‚ç»§æ‰¿çš„ç±»ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼Œå†™çš„éå¸¸é€å½»ã€‚ pair å¯ä»¥çœ‹ä½œæ˜¯æŠŠ tuple çš„ size é™åˆ¶ä¸º 2 çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œpair åªèƒ½æŠŠä¸€å¯¹å„¿å…ƒç´ ç»„åˆåˆ°ä¸€èµ·ã€‚åœ¨ä½¿ç”¨ä¸Šï¼Œå¯ä»¥ç”¨std::make_pair()æ¥ç›´æ¥æ„å»º pair å¯¹è±¡ï¼Œå¯ä»¥ç”¨std::get\u003c0\u003e()å’Œstd::get\u003c1\u003e()æ¥åˆ†åˆ«è·å– pair å¯¹è±¡çš„ä¸¤ä¸ªå…ƒç´ ï¼Œä½†æ›´æ–¹ä¾¿çš„åšæ³•æ˜¯ç›´æ¥è®¿é—® pair ç±»å‹çš„ä¸¤ä¸ªæ•°æ®æˆå‘˜pairå¯¹è±¡.firstå’Œpairå¯¹è±¡.secondæ¥è®¿é—®å…ƒç´  reference: [1]. https://zhuanlan.zhihu.com/p/542115773 ","date":"2023-07-16","objectID":"/posts/datastructrue/:1:17","tags":["draft"],"title":"C++ STL Containers","uri":"/posts/datastructrue/"},{"categories":["Algorithm"],"content":"Runebook www.doc4dev.com ","date":"2023-07-16","objectID":"/posts/treenode/:0:0","tags":["draft"],"title":"TreeNode äºŒå‰æ ‘","uri":"/posts/treenode/"},{"categories":["Algorithm"],"content":"æ·±åº¦ä¼˜å…ˆéå† å‰åºéå†ï¼šä¸­å·¦å³ 5 4 1 2 6 7 8 ä¸­åºéå†ï¼šå·¦ä¸­å³ 1 4 2 5 7 6 8 ååºéå†ï¼šå·¦å³ä¸­ 1 2 4 7 8 6 5 äºŒå‰æ ‘çš„å®šä¹‰ struct TreeNode { int val; TreeNode *left; TreeNode *right; TreeNode(int x) : val(x), left(NULL), right(NULL) {} }; ","date":"2023-07-16","objectID":"/posts/treenode/:1:0","tags":["draft"],"title":"TreeNode äºŒå‰æ ‘","uri":"/posts/treenode/"},{"categories":["Algorithm"],"content":"å‰åºéå† é€’å½’æ³• class Solution { public: void traversal(TreeNode* cur, vector\u003cint\u003e\u0026 vec) { if (cur == nullptr) return; vec.push_back(cur-\u003eval); traversal(root-\u003eleft, vec); traversal(root-\u003eright, vec); } vector\u003cint\u003e preorderTraversal(TreeNode* root) { vector\u003cint\u003e res; traversal(root, vec); return res; } }; è¿­ä»£æ³• class Solution { public: vector\u003cint\u003e preorderTraversal(TreeNode* root) { stack\u003cTreeNode*\u003e st; vector\u003cint\u003e res; if (root == nullptr) return res; st.push(root); while (!st.empty()) { TreeNode* node = st.top(); st.pop(); res.push_back(node-\u003eval); if (node-\u003eright) st.push(node-\u003eright); if (node-\u003eleft) st.push(node-\u003eleft); } return res; } }; ","date":"2023-07-16","objectID":"/posts/treenode/:1:1","tags":["draft"],"title":"TreeNode äºŒå‰æ ‘","uri":"/posts/treenode/"},{"categories":["Algorithm"],"content":"ä¸­åºéå† é€’å½’æ³• class Solution { public: void traversal(TreeNode* cur, vector\u003cint\u003e\u0026 vec) { if (cur == nullptr) return; traversal(root-\u003eleft, vec); vec.push_back(cur-\u003eval); traversal(root-\u003eright, vec); } vector\u003cint\u003e inorderTraversal(TreeNode* root) { vector\u003cint\u003e res; traversal(root, vec); return res; } }; è¿­ä»£æ³• // ä¸­åºéå† class Solution { public: vector\u003cint\u003e inorderTraversal(TreeNode* root) { stack\u003cTreeNode*\u003e st; vector\u003cint\u003e res; if (root == nullptr) return; TreeNode* cur = root; while (!cur || !st.empty()) { if (cur != nullptr) { st.push(cur); cur = cur-\u003eleft; // å·¦ } else { cur = st.top(); st.pop(); res.push_back(cur-\u003eval); cur = cur-\u003eright; } } return res; } }; ","date":"2023-07-16","objectID":"/posts/treenode/:1:2","tags":["draft"],"title":"TreeNode äºŒå‰æ ‘","uri":"/posts/treenode/"},{"categories":["Algorithm"],"content":"ååºéå† é€’å½’æ³• class Solution { public: void traversal(TreeNode* cur, vector\u003cint\u003e\u0026 vec) { if (cur == nullptr) return; traversal(root-\u003eleft, vec); traversal(root-\u003eright, vec); vec.push_back(cur-\u003eval); } vector\u003cint\u003e postorderTraversal(TreeNode* root) { vector\u003cint\u003e res; traversal(root, vec); return res; } }; è¿­ä»£æ³• class Solution { public: vector\u003cint\u003e postorderTraversal(TreeNode* root) { vector\u003cint\u003e res; if (!root) return res; stack\u003cTreeNode*\u003e st; st.push(root); while (!st.empty()) { TreeNode* node = st.top(); st.pop(); res.push(node-\u003eval); if (node-\u003eleft) st.push(node-\u003eleft); if (node-\u003eright) st.push(node-\u003eright); } reverse(res.begin(), res.end()); return res; } }; ","date":"2023-07-16","objectID":"/posts/treenode/:1:3","tags":["draft"],"title":"TreeNode äºŒå‰æ ‘","uri":"/posts/treenode/"},{"categories":["Algorithm"],"content":"äºŒå‰æ ‘çš„ç»Ÿä¸€è¿­ä»£æ³• è¿­ä»£æ³•å‰åºéå† // ä¸­å·¦å³ class Solution { public: vector\u003cint\u003e preorderTraversal(TreeNode* root) { vector\u003cint\u003e res; stack\u003cTreeNode*\u003e st; if (root) st.push(root); while (!st.empty()) { TreeNode* node = st.top(); if (node) { st.pop(); if (node-\u003eright) st.push(node-\u003eright); if (node-\u003eleft) st.push(node-\u003eleft); st.push(node); st.push(nullptr); } else { st.pop(); node = st.top(); st.pop(); res.push_back(node-\u003eval); } } return res; } }; è¿­ä»£æ³•ä¸­åºéå† //å·¦ä¸­å³ class Solution { public: vector\u003cint\u003e inorderTraversal(TreeNode* root) { vector\u003cint\u003e res; stack\u003cTreeNode*\u003e st; if (root != nullptr) st.push(root); while(!st.empty()) { TreeNode* node = st.top(); if (node != nullptr) { st.pop(); //å°†è¯¥èŠ‚ç‚¹å¼¹å‡ºï¼Œé¿å…é‡å¤æ“ä½œ if (node-\u003eright) st.push(node-\u003eright); st.push(node); st.push(nullptr); if (node-\u003eleft) st.push(node-\u003eleft); } else { st.pop(); node = st.top(); st.pop(); res.push_back(node-\u003eval); } } return res; } }; è¿­ä»£æ³•ååºéå† // å·¦å³ä¸­ class Solution { public: vector\u003cint\u003e postorderTraversal(TreeNode* root) { vector\u003cint\u003e res; stack\u003cTreeNode*\u003e st; if (root) st.push(root); while (!st.empty()) { TreeNode* node = st.top(); if (node) { st.pop(); st.push(node); st.push(nullptr); if (node-\u003eright) st.push(node-\u003eright); if (node-\u003eleft) st.push(node-\u003eleft); } else { st.pop(); node = st.top(); st.pop(); res.push_back(node-\u003eval); } } return res; } }; ","date":"2023-07-16","objectID":"/posts/treenode/:2:0","tags":["draft"],"title":"TreeNode äºŒå‰æ ‘","uri":"/posts/treenode/"},{"categories":["Algorithm"],"content":"å¹¿åº¦ä¼˜å…ˆéå† (å±‚åºéå†) é€’å½’æ³• class Solution { public: vector\u003cvector\u003cint\u003e\u003e levelOrder(TreeNode* root) { queue\u003cTreeNode*\u003e que; if (root) que.push(root); vector\u003cvector\u003cint\u003e\u003e ans; while (!que.empty()) { int size = que.size(); vector\u003cint\u003e vec; for (int i = 0; i \u003c size; ++i) { TreeNode* node = que.front(); que.pop(); vec.push_back(node-\u003eval); if (node-\u003eleft) que.push(node-\u003eleft); if (node-\u003eright) que.push(node-\u003eright); } ans.push_back(vec); } return ans; } }; è¿­ä»£æ³• class Solution { public: void order(TreeNode* cur, vector\u003cvector\u003cint\u003e\u003e\u0026 res, int depth) { if (cur == nullptr) return; if (res.size() == depth) res.push_back(vector\u003cint\u003e()); res[depth].push_back(cur-\u003eval); order(cur-\u003eleft, res, depth + 1); order(cur-\u003eright, res, depth + 1); } vector\u003cvector\u003cint\u003e\u003e levelOrder(TreeNode* root) { vector\u003cvector\u003cint\u003e\u003e res; int depth = 0; order(root, res, depth); return res; } }; ","date":"2023-07-16","objectID":"/posts/treenode/:3:0","tags":["draft"],"title":"TreeNode äºŒå‰æ ‘","uri":"/posts/treenode/"},{"categories":["Algorithm"],"content":"Sorting Algotithms Collection Quick Sort å¿«é€Ÿæ’åº void quick_sort(vector\u003cint\u003e\u0026 nums, int l, int r) { if (l + 1 \u003e= r) { return; } int first = l, last = r - 1, key = nums[first]; while (first \u003c last) { while (first \u003c last \u0026\u0026 nums[last] \u003e= key) { --last; } nums[first] = nums[last]; while (first \u003c last \u0026\u0026 nums[first] \u003c= key) { ++first; } nums[last] = nums[first]; } nums[first] = key; quick_sort(nums, l, first); quick_sort(nums, first + 1, r); } Merge Sort å½’å¹¶æ’åº void merge_sort(vector\u003cint\u003e\u0026 nums, int l, int r, vector\u003cint\u003e\u0026 temp) { if (l + 1 \u003e= r) { return; } // divide int m = l + (r - l) / 2; merge_sort(nums, l, m, temp); merge_sort(nums, m, r, temp); // conquer int p = l, q = m, i = l; while (q \u003c m || q \u003c r\u003e) { if (q \u003e= r || q \u003c r) { if (q \u003e= r || (p \u003c m \u0026\u0026 nums[p] \u003c= nums[q])) { temp[i++] = nums[p++]; } else { temp[i++] = nums[q++]; } } } for (int i = l; i \u003c r; ++i) { nums[i] = temp[i]; } } Insertion Sort æ’å…¥æ’åº void insertion_sort(vector\u003cint\u003e\u0026 nums, int n) { for (int i = 0; i \u003c n; ++i) { for (int j = i; j \u003e 0 \u0026\u0026 nums[j] \u003c nums[j-1]; --j) { swap(nums[j], nums[j-1]); } } } Bubble Sort å†’æ³¡æ’åº void bubble_sort(vector\u003cint\u003e\u0026 nums, int n) { bool swapped; for (int i = 1; i \u003c n; ++i) { swapped = false; for (int j = 1; j \u003c n - i + 1; ++j) { if (nums[j] \u003c nums[j-1]) { swap(nums[j], nums[j-1]); swapped = true; } } if (!swapped) { break; } } } Selection Sort é€‰æ‹©æ’åº void selection_sort(vector\u003cint\u003e\u0026 nums, int n) { int mid; for (int i = 0; i \u003c n - 1; ++i) { mid = i; for (int j = i + 1; j \u003c n; ++j) { mid = j; } } swap(nums[mid], nums[i]); } ","date":"2023-07-16","objectID":"/posts/sortingalgo/:0:1","tags":["draft"],"title":"Sorting Algorithms","uri":"/posts/sortingalgo/"},{"categories":["Algorithm"],"content":"ref: dp: https://juejin.cn/post/6844903993429196813 knapsack problem: https://blog.csdn.net/qq_38410730/article/details/81667885 å®Œå…¨èƒŒåŒ…é—®é¢˜: https://www.cnblogs.com/darkerg/p/15464987.html ","date":"2023-07-16","objectID":"/posts/knapsack/:0:0","tags":["draft"],"title":"KnapSack Problem","uri":"/posts/knapsack/"},{"categories":["Algorithm"],"content":"KnapSack èƒŒåŒ…é—®é¢˜ Definiton å®šä¹‰ èƒŒåŒ…é—®é¢˜æ˜¯ä¸€ç§ç»„åˆä¼˜åŒ–çš„NPå®Œå…¨é—®é¢˜:æœ‰Nä¸ªç‰©å“å’Œå®¹é‡ä¸ºWçš„èƒŒåŒ…ï¼Œæ¯ä¸ªç‰©å“éƒ½æœ‰è‡ªå·±çš„ä½“ç§¯wå’Œä»·å€¼vï¼Œ æ±‚æ‹¿å“ªäº›ç‰©å“å¯ä»¥ä½¿å¾—èƒŒåŒ…æ‰€è£…ä¸‹çš„ç‰©å“çš„æ€»ä»·å€¼æœ€å¤§ã€‚å¦‚æœé™å®šæ¯ç§ç‰©å“åªèƒ½é€‰æ‹©0ä¸ªæˆ–è€…1ä¸ªï¼Œåˆ™ç§°é—®é¢˜ä¸º0-1èƒŒåŒ…é—®é¢˜;å¦‚æœä¸é™å®šæ¯ç§ç‰©å“çš„æ•°é‡ï¼Œåˆ™é—®é¢˜ç§°ä¸ºæ— ç•ŒèƒŒåŒ…é—®é¢˜å’Œæˆ–è€…å®Œå…¨èƒŒåŒ…é—®é¢˜ã€‚ 0-1 èƒŒåŒ…é—®é¢˜ ä»¥ 0-1 èƒŒåŒ…é—®é¢˜ä¸ºä¾‹ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ dp å­˜å‚¨æœ€å¤§ä»·å€¼ï¼Œå…¶ä¸­ dp[i][j] è¡¨ç¤ºå‰ i ä»¶ç‰©å“ä½“ç§¯ä¸è¶…è¿‡ j çš„æƒ…å†µä¸‹èƒ½è¾¾åˆ°çš„æœ€å¤§ä»·å€¼ã€‚åœ¨æˆ‘ä»¬éå†åˆ°ç¬¬ i ä»¶ç‰©å“æ—¶ï¼Œåœ¨å½“å‰èƒŒåŒ…æ€»å®¹é‡ä¸º j çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬ä¸å°†ç‰©å“ i æ”¾å…¥èƒŒåŒ…ï¼Œé‚£ä¹ˆ dp[i][j] = dp[i-1][j]ï¼Œå³å‰ i ä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼ç­‰äºåªå–å‰ i-1 ä¸ªç‰©å“æ—¶çš„æœ€å¤§ä»·å€¼ï¼›å¦‚æœæˆ‘ä»¬å°†ç‰©å“ i æ”¾å…¥èƒŒåŒ…ï¼Œå‡è®¾ç¬¬ i ä»¶ç‰©å“ä½“ç§¯ä¸º wï¼Œä»·å€¼ä¸º vï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾—åˆ° dp[i][j] = dp[i-1][j-w] + vã€‚æˆ‘ä»¬åªéœ€åœ¨éå†è¿‡ç¨‹ä¸­å¯¹è¿™ä¸¤ç§æƒ…å†µå–æœ€å¤§å€¼å³å¯ï¼Œæ€»æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½ä¸º O(NW)ã€‚ int knapsack(vector\u003cint\u003e\u0026 weights, vector\u003cint\u003e\u0026 values, int N, int W) { vector\u003cvector\u003cint\u003e\u003e dp(N+1, vector\u003cint\u003e (W+1, 0)); for (int i = 1; i \u003c=N; ++i) { int w = weight[i-1], v = values[i-1]; for (int j = 1; j \u003c= W; ++j) { if (j \u003e= w) { dp[i][j] = max(dp[i-1][j], dp[i-1][j-w] + v); } else { dp[i][j] = dp[i-1][j]; } } } return dp[N][W]; } ç©ºé—´å‹ç¼©: int knapsack(vector\u003cint\u003e\u0026 weights, vector\u003cint\u003e\u0026 values, int N, int W) { vector\u003cint\u003e dp(W+1, 0); for (int i = 1; i \u003c= N; ++i) { int w = weights[i-1], v = values[i-1]; for (j = W; j \u003e= w; ++j) { dp[j] = max(dp[j], dp[j-w] + v); } } return dp[W]; } å®Œå…¨èƒŒåŒ…é—®é¢˜ å®Œå…¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œä¸€ä¸ªç‰©å“å¯ä»¥æ‹¿å¤šæ¬¡ã€‚å¯¹äºæ‹¿å¤šä¸ªç‰©å“çš„æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€è€ƒè™‘ dp[2][3] å³å¯ï¼Œå³ dp[2][5] = max(dp[1][5], dp[2][3] + 3)ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬ å°±å¾—åˆ°äº†å®Œå…¨èƒŒåŒ…é—®é¢˜çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šdp[i][j] = max(dp[i-1][j], dp[i][j-w] + v)ï¼Œå…¶ä¸ 0-1èƒŒåŒ…é—®é¢˜çš„å·®åˆ«ä»…ä»…æ˜¯æŠŠçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­çš„ç¬¬äºŒä¸ª i-1 å˜æˆäº† iã€‚ int knapsack(vector\u003cint\u003e\u0026 weights, vector\u003cint\u003e\u0026 values, int N, int W) { vector\u003cvector\u003cint\u003e\u003e dp(N+1, vector\u003cint\u003e(W+1, 0)); for (int i = 1; i \u003c= N; ++i) { int w = weights[i-1], v = values[i-1]; for (int j = 1; j \u003c= W; ++j) { if (j \u003e= w) { dp[i][j] = max(dp[i-1][j], dp[i][j-w] + v); } else { dp[i][j] = dp[i-1][j]; } } } return dp[N][W]; } ç©ºé—´å‹ç¼©: int knapsack(vector\u003cint\u003e\u0026 weights, vector\u003cint\u003e\u0026 values, int N, int W) { vector\u003cint\u003e dp(W+1, 0); for (int i = 1; i \u003c= N; ++i) { int w = weights[i-1], v = values[i-1]; for (int j = w; j \u003c= W; ++j) { dp[j] = max(dp[j], dp[j-w] + v); } } return dp[W]; } ","date":"2023-07-16","objectID":"/posts/knapsack/:0:1","tags":["draft"],"title":"KnapSack Problem","uri":"/posts/knapsack/"},{"categories":["ML"],"content":"æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMaximum likelihood estimation, ç®€ç§°MLEï¼‰å’Œæœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡ï¼ˆMaximum a posteriori estimation, ç®€ç§°MAPï¼‰æ˜¯å¾ˆå¸¸ç”¨çš„ä¸¤ç§å‚æ•°ä¼°è®¡æ–¹æ³•ï¼Œå¦‚æœä¸ç†è§£è¿™ä¸¤ç§æ–¹æ³•çš„æ€è·¯ï¼Œå¾ˆå®¹æ˜“å¼„æ··å®ƒä»¬ã€‚ä¸‹æ–‡å°†è¯¦ç»†è¯´æ˜MLEå’ŒMAPçš„æ€è·¯ä¸åŒºåˆ«ã€‚ ä½†åˆ«æ€¥ï¼Œæˆ‘ä»¬å…ˆä»æ¦‚ç‡å’Œç»Ÿè®¡çš„åŒºåˆ«è®²èµ·ã€‚ æ¦‚ç‡å’Œç»Ÿè®¡æ˜¯ä¸€ä¸ªä¸œè¥¿å—ï¼Ÿ æ¦‚ç‡(probabilty)å’Œç»Ÿè®¡(statistics)çœ‹ä¼¼ä¸¤ä¸ªç›¸è¿‘çš„æ¦‚å¿µï¼Œå…¶å®ç ”ç©¶çš„é—®é¢˜åˆšå¥½ç›¸åã€‚ æ¦‚ç‡ç ”ç©¶çš„é—®é¢˜æ˜¯ï¼Œå·²çŸ¥ä¸€ä¸ªæ¨¡å‹å’Œå‚æ•°ï¼Œæ€ä¹ˆå»é¢„æµ‹è¿™ä¸ªæ¨¡å‹äº§ç”Ÿçš„ç»“æœçš„ç‰¹æ€§(ä¾‹å¦‚å‡å€¼ï¼Œæ–¹å·®ï¼Œåæ–¹å·®ç­‰ç­‰)ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘æƒ³ç ”ç©¶æ€ä¹ˆå…»çŒª(æ¨¡å‹æ˜¯çŒª)ï¼Œæˆ‘é€‰å¥½äº†æƒ³å…»çš„å“ç§ã€å–‚å…»æ–¹å¼ã€çŒªæ£šçš„è®¾è®¡ç­‰ç­‰(é€‰æ‹©å‚æ•°)ï¼Œæˆ‘æƒ³çŸ¥é“æˆ‘å…»å‡ºæ¥çš„çŒªå¤§æ¦‚èƒ½æœ‰å¤šè‚¥ï¼Œè‚‰è´¨æ€ä¹ˆæ ·(é¢„æµ‹ç»“æœ)ã€‚ ç»Ÿè®¡ç ”ç©¶çš„é—®é¢˜åˆ™ç›¸åã€‚ç»Ÿè®¡æ˜¯ï¼Œæœ‰ä¸€å †æ•°æ®ï¼Œè¦åˆ©ç”¨è¿™å †æ•°æ®å»é¢„æµ‹æ¨¡å‹å’Œå‚æ•°ã€‚ä»ä»¥çŒªä¸ºä¾‹ã€‚ç°åœ¨æˆ‘ä¹°åˆ°äº†ä¸€å †è‚‰ï¼Œé€šè¿‡è§‚å¯Ÿå’Œåˆ¤æ–­ï¼Œæˆ‘ç¡®å®šè¿™æ˜¯çŒªè‚‰(è¿™å°±ç¡®å®šäº†æ¨¡å‹ã€‚åœ¨å®é™…ç ”ç©¶ä¸­ï¼Œä¹Ÿæ˜¯é€šè¿‡è§‚å¯Ÿæ•°æ®æ¨æµ‹æ¨¡å‹æ˜¯ï¼åƒé«˜æ–¯åˆ†å¸ƒçš„ã€æŒ‡æ•°åˆ†å¸ƒçš„ã€æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒçš„ç­‰ç­‰)ï¼Œç„¶åï¼Œå¯ä»¥è¿›ä¸€æ­¥ç ”ç©¶ï¼Œåˆ¤å®šè¿™çŒªçš„å“ç§ã€è¿™æ˜¯åœˆå…»çŒªè¿˜æ˜¯è·‘å±±çŒªè¿˜æ˜¯ç½‘æ˜“çŒªï¼Œç­‰ç­‰(æ¨æµ‹æ¨¡å‹å‚æ•°)ã€‚ ä¸€å¥è¯æ€»ç»“ï¼šæ¦‚ç‡æ˜¯å·²çŸ¥æ¨¡å‹å’Œå‚æ•°ï¼Œæ¨æ•°æ®ã€‚ç»Ÿè®¡æ˜¯å·²çŸ¥æ•°æ®ï¼Œæ¨æ¨¡å‹å’Œå‚æ•°ã€‚ æ˜¾ç„¶ï¼Œæœ¬æ–‡è§£é‡Šçš„MLEå’ŒMAPéƒ½æ˜¯ç»Ÿè®¡é¢†åŸŸçš„é—®é¢˜ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨æ¥æ¨æµ‹å‚æ•°çš„æ–¹æ³•ã€‚ä¸ºä»€ä¹ˆä¼šå­˜åœ¨ç€ä¸¤ç§ä¸åŒæ–¹æ³•å‘¢ï¼Ÿ è¿™éœ€è¦ç†è§£è´å¶æ–¯æ€æƒ³ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹è´å¶æ–¯å…¬å¼ã€‚ è´å¶æ–¯å…¬å¼åˆ°åº•åœ¨è¯´ä»€ä¹ˆï¼Ÿ å­¦ä¹ æœºå™¨å­¦ä¹ å’Œæ¨¡å¼è¯†åˆ«çš„äººä¸€å®šéƒ½å¬è¿‡è´å¶æ–¯å…¬å¼(Bayesâ€™ Theorem)ï¼š å¼[1] $P(A|B)=\\frac{P(B|A)P(A)}{P(B)}$ è´å¶æ–¯å…¬å¼çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œæ— éæ˜¯å€’äº†å€’æ¡ä»¶æ¦‚ç‡å’Œè”åˆæ¦‚ç‡çš„å…¬å¼ã€‚ æŠŠBå±•å¼€ï¼Œå¯ä»¥å†™æˆ: å¼[2] $P(A|B)=\\frac{P(B|A)P(A)}{P(B|A)P(A) + P(B|\\sim A)P(\\sim A)}$ è¿™ä¸ªå¼å­å°±å¾ˆæœ‰æ„æ€äº†ã€‚ æƒ³æƒ³è¿™ä¸ªæƒ…å†µã€‚ä¸€è¾†æ±½è½¦(æˆ–è€…ç”µç“¶è½¦)çš„è­¦æŠ¥å“äº†ï¼Œä½ é€šå¸¸æ˜¯ä»€ä¹ˆååº”ï¼Ÿæœ‰å°å·ï¼Ÿæ’è½¦äº†ï¼Ÿ ä¸ã€‚ã€‚ ä½ é€šå¸¸ä»€ä¹ˆååº”éƒ½æ²¡æœ‰ã€‚å› ä¸ºæ±½è½¦è­¦æŠ¥å“ä¸€å“å®åœ¨æ˜¯å¤ªæ­£å¸¸äº†ï¼æ¯å¤©éƒ½è¦å‘ç”Ÿå¥½å¤šæ¬¡ã€‚æœ¬æ¥ï¼Œæ±½è½¦è­¦æŠ¥è®¾ç½®çš„åŠŸèƒ½æ˜¯ï¼Œå‡ºç°äº†å¼‚å¸¸æƒ…å†µï¼Œéœ€è¦äººå…³æ³¨ã€‚ç„¶è€Œï¼Œç”±äºè™šè­¦å®åœ¨æ˜¯å¤ªå¤šï¼Œäººä»¬æ¸æ¸ä¸ç›¸ä¿¡è­¦æŠ¥çš„åŠŸèƒ½äº†ã€‚ è´å¶æ–¯å…¬å¼å°±æ˜¯åœ¨æè¿°ï¼Œä½ æœ‰å¤šå¤§æŠŠæ¡èƒ½ç›¸ä¿¡ä¸€ä»¶è¯æ®ï¼Ÿï¼ˆhow much you can trust the evidenceï¼‰ æˆ‘ä»¬å‡è®¾å“è­¦æŠ¥çš„ç›®çš„å°±æ˜¯æƒ³è¯´æ±½è½¦è¢«ç ¸äº†ã€‚æŠŠ$A$è®¡ä½œâ€œæ±½è½¦è¢«ç ¸äº†â€ï¼Œ$B$è®¡ä½œâ€œè­¦æŠ¥å“äº†â€ï¼Œå¸¦è¿›è´å¶æ–¯å…¬å¼é‡Œçœ‹ã€‚æˆ‘ä»¬æƒ³æ±‚ç­‰å¼å·¦è¾¹å‘ç”Ÿ$Aâˆ£B$çš„æ¦‚ç‡ï¼Œè¿™æ˜¯åœ¨è¯´è­¦æŠ¥å“äº†ï¼Œæ±½è½¦ä¹Ÿç¡®å®è¢«ç ¸äº†ã€‚æ±½è½¦è¢«ç ¸**å¼•èµ·(trigger)**è­¦æŠ¥å“ï¼Œå³Bâˆ£Aã€‚ä½†æ˜¯ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ±½è½¦è¢«å°å­©å­çš®çƒè¸¢äº†ä¸€ä¸‹ã€è¢«è¡Œäººç¢°äº†ä¸€ä¸‹ç­‰å…¶ä»–åŸå› (ç»Ÿç»Ÿè®¡ä½œ$\\sim A$)ï¼Œå…¶ä»–åŸå› å¼•èµ·æ±½è½¦è­¦æŠ¥å“äº†ï¼Œå³ $B|\\sim A$ã€‚é‚£ä¹ˆï¼Œç°åœ¨çªç„¶å¬è§è­¦æŠ¥å“äº†ï¼Œè¿™æ—¶æ±½è½¦å·²ç»è¢«ç ¸äº†çš„æ¦‚ç‡æ˜¯å¤šå°‘å‘¢(è¿™å³æ˜¯è¯´ï¼Œè­¦æŠ¥å“è¿™ä¸ªè¯æ®æœ‰äº†ï¼Œå¤šå¤§æŠŠæ¡èƒ½ç›¸ä¿¡å®ƒç¡®å®æ˜¯åœ¨æŠ¥è­¦è¯´æ±½è½¦è¢«ç ¸äº†)æƒ³ä¸€æƒ³ï¼Œåº”å½“è¿™æ ·æ¥è®¡ç®—ã€‚ç”¨è­¦æŠ¥å“èµ·ã€æ±½è½¦ä¹Ÿè¢«ç ¸äº†è¿™äº‹ä»¶çš„æ•°é‡ï¼Œé™¤ä»¥å“è­¦æŠ¥äº‹ä»¶çš„æ•°é‡(è¿™å³[å¼1])ã€‚è¿›ä¸€æ­¥å±•å¼€ï¼Œå³è­¦æŠ¥å“èµ·ã€æ±½è½¦ä¹Ÿè¢«ç ¸äº†çš„äº‹ä»¶çš„æ•°é‡ï¼Œé™¤ä»¥è­¦æŠ¥å“èµ·ã€æ±½è½¦è¢«ç ¸äº†çš„äº‹ä»¶æ•°é‡åŠ ä¸Šè­¦æŠ¥å“èµ·ã€æ±½è½¦æ²¡è¢«ç ¸çš„äº‹ä»¶æ•°é‡(è¿™å³[å¼2])ã€‚ å†æ€è€ƒ[å¼2]ã€‚æƒ³è®©$P(Aâˆ£B)=1$ï¼Œå³è­¦æŠ¥å“äº†ï¼Œæ±½è½¦ä¸€å®šè¢«ç ¸äº†ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè®©$P(B|\\sim A)P(\\sim A) = 0$å³ å¯ ã€‚å¾ˆå®¹æ˜“æƒ³æ¸…æ¥šï¼Œå‡è‹¥è®©$P(\\sim A)=0$,å³æœç»äº†æ±½è½¦è¢«çƒè¸¢ã€è¢«è¡Œäººç¢°åˆ°ç­‰ç­‰å…¶ä»–æ‰€æœ‰æƒ…å†µï¼Œé‚£è‡ªç„¶ï¼Œè­¦æŠ¥å“äº†ï¼Œåªå‰©ä¸‹ä¸€ç§å¯èƒ½â€”â€”æ±½è½¦è¢«ç ¸äº†ã€‚è¿™å³æ˜¯æé«˜äº†å“è­¦æŠ¥è¿™ä¸ªè¯æ®çš„è¯´æœåŠ›ã€‚ **ä»è¿™ä¸ªè§’åº¦æ€»ç»“è´å¶æ–¯å…¬å¼ï¼šåšåˆ¤æ–­çš„æ—¶å€™ï¼Œè¦è€ƒè™‘æ‰€æœ‰çš„å› ç´ ã€‚**è€æ¿éª‚ä½ ï¼Œä¸ä¸€å®šæ˜¯ä½ æŠŠä»€ä¹ˆå·¥ä½œæç ¸äº†ï¼Œå¯èƒ½åªæ˜¯ä»–ä»Šå¤©å‡ºé—¨å‰å’Œå¤ªå¤ªåµäº†ä¸€æ¶ã€‚ å†æ€è€ƒ[å¼2]ã€‚è§‚å¯Ÿã€å¼2ã€‘å³è¾¹çš„åˆ†å­ï¼Œ$P(Bâˆ£A)$ä¸ºæ±½è½¦è¢«ç ¸åå“è­¦æŠ¥çš„æ¦‚ç‡ã€‚å§‘ä¸”è®¤ä¸ºè¿™æ˜¯1å§ã€‚ä½†æ˜¯ï¼Œè‹¥$P(A)$å¾ˆå°ï¼Œå³æ±½è½¦è¢«ç ¸çš„æ¦‚ç‡æœ¬èº«å°±å¾ˆå°ï¼Œåˆ™$P(Bâˆ£A)P(A)$ä»ç„¶å¾ˆå°ï¼Œå³ã€å¼2ã€‘å³è¾¹åˆ†å­ä»ç„¶å¾ˆå°ï¼Œ$P(A|B)$è¿˜æ˜¯å¤§ä¸èµ·æ¥ã€‚ è¿™é‡Œï¼Œ$â€‹P(A)$ å³æ˜¯å¸¸è¯´çš„å…ˆéªŒæ¦‚ç‡ï¼Œå¦‚æœAçš„å…ˆéªŒæ¦‚ç‡å¾ˆå°ï¼Œå°±ç®—$P(Bâˆ£A)$è¾ƒå¤§ï¼Œå¯èƒ½Açš„åéªŒæ¦‚ç‡$P(Aâˆ£B)$è¿˜æ˜¯ä¸ä¼šå¤§(å‡è®¾$P(Bâˆ£\\sim A)P(\\sim A)$ä¸å˜çš„æƒ…å†µä¸‹)ã€‚ ä»è¿™ä¸ªè§’åº¦æ€è€ƒè´å¶æ–¯å…¬å¼ï¼šä¸€ä¸ªæœ¬æ¥å°±éš¾ä»¥å‘ç”Ÿçš„äº‹æƒ…ï¼Œå°±ç®—å‡ºç°æŸä¸ªè¯æ®å’Œä»–å¼ºçƒˆç›¸å…³ï¼Œä¹Ÿè¦è°¨æ…ã€‚è¯æ®å¾ˆå¯èƒ½æ¥è‡ªåˆ«çš„è™½ç„¶ä¸æ˜¯å¾ˆç›¸å…³ï¼Œä½†å‘ç”Ÿæ¦‚ç‡è¾ƒé«˜çš„äº‹æƒ…ã€‚ ä¼¼ç„¶å‡½æ•° ä¼¼ç„¶(likelihood)è¿™ä¸ªè¯å…¶å®å’Œæ¦‚ç‡(probability)æ˜¯å·®ä¸å¤šçš„æ„æ€ï¼ŒColinså­—å…¸è¿™ä¹ˆè§£é‡Š:The likelihood of something happening is how likely it is to happen. ä½ æŠŠlikelihoodæ¢æˆprobabilityï¼Œè¿™è§£é‡Šä¹Ÿè¯»å¾—é€šã€‚ä½†æ˜¯åœ¨ç»Ÿè®¡é‡Œé¢ï¼Œä¼¼ç„¶å‡½æ•°å’Œæ¦‚ç‡å‡½æ•°å´æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µ(å…¶å®ä¹Ÿå¾ˆç›¸è¿‘å°±æ˜¯äº†)ã€‚ å¯¹äºè¿™ä¸ªå‡½æ•°: $$P(x|\\theta)$$ è¾“å…¥æœ‰ä¸¤ä¸ª: $x$è¡¨ç¤ºæŸä¸€ä¸ªå…·ä½“çš„æ•°æ®ï¼›$\\theta$è¡¨ç¤ºæ¨¡å‹çš„å‚æ•°ã€‚ å¦‚æœ$\\theta$æ˜¯å·²çŸ¥ç¡®å®šçš„ï¼Œ$x$æ˜¯å˜é‡ï¼Œè¿™ä¸ªå‡½æ•°å«åšæ¦‚ç‡å‡½æ•°(probability function)ï¼Œå®ƒæè¿°å¯¹äºä¸åŒçš„æ ·æœ¬ç‚¹xï¼Œå…¶å‡ºç°æ¦‚ç‡æ˜¯å¤šå°‘ã€‚ å¦‚æœ$x$æ˜¯å·²çŸ¥ç¡®å®šçš„ï¼Œ$\\theta$æ˜¯å˜é‡ï¼Œè¿™ä¸ªå‡½æ•°å«åšä¼¼ç„¶å‡½æ•°(likelihood function), å®ƒæè¿°å¯¹äºä¸åŒçš„æ¨¡å‹å‚æ•°ï¼Œå‡ºç°$x$è¿™ä¸ªæ ·æœ¬ç‚¹çš„æ¦‚ç‡æ˜¯å¤šå°‘ã€‚ æœ€å¤§ä¼¼ç„¶ä¼°è®¡(MLE) å‡è®¾æœ‰ä¸€ä¸ªé€ å¸å‚ç”Ÿäº§æŸç§ç¡¬å¸ï¼Œç°åœ¨æˆ‘ä»¬æ‹¿åˆ°äº†ä¸€æšè¿™ç§ç¡¬å¸ï¼Œæƒ³è¯•è¯•è¿™ç¡¬å¸æ˜¯ä¸æ˜¯å‡åŒ€çš„ã€‚å³æƒ³çŸ¥é“æŠ›è¿™æšç¡¬å¸ï¼Œæ­£åé¢å‡ºç°çš„æ¦‚ç‡ï¼ˆè®°ä¸º$\\theta$ï¼‰å„æ˜¯å¤šå°‘ï¼Ÿ è¿™æ˜¯ä¸€ä¸ªç»Ÿè®¡é—®é¢˜ï¼Œå›æƒ³ä¸€ä¸‹ï¼Œè§£å†³ç»Ÿè®¡é—®é¢˜éœ€è¦ä»€ä¹ˆï¼Ÿ æ•°æ®ï¼ äºæ˜¯æˆ‘ä»¬æ‹¿è¿™æšç¡¬å¸æŠ›äº†10æ¬¡ï¼Œå¾—åˆ°çš„æ•°æ®($x_0$)æ˜¯ï¼šåæ­£æ­£æ­£æ­£åæ­£æ­£æ­£åã€‚æˆ‘ä»¬æƒ³æ±‚çš„æ­£é¢æ¦‚ç‡$\\theta$æ˜¯æ¨¡å‹å‚æ•°ï¼Œè€ŒæŠ›ç¡¬å¸æ¨¡å‹æˆ‘ä»¬å¯ä»¥å‡è®¾æ˜¯äºŒé¡¹åˆ†å¸ƒã€‚ é‚£ä¹ˆï¼Œå‡ºç°å®éªŒç»“æœ$x_0$(å³åæ­£æ­£æ­£æ­£åæ­£æ­£æ­£å)çš„ä¼¼ç„¶å‡½æ•°æ˜¯å¤šå°‘å‘¢ï¼Ÿ $$f(x_0 ,\\theta) = (1-\\theta)\\times\\theta\\times\\theta\\times\\theta\\times\\theta\\times(1-\\theta)\\times\\theta\\times\\theta\\times\\theta\\times(1-\\theta) = \\theta ^ 7(1 - \\theta)^3 = f(\\theta)$$ â€‹ æ³¨æ„ï¼Œè¿™æ˜¯ä¸ªåªå…³äº$\\theta$çš„å‡½æ•°ã€‚è€Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è¦æœ€å¤§åŒ–è¿™ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥ç”»å‡º$f(\\theta)$çš„å›¾åƒï¼š å¯ä»¥çœ‹å‡ºï¼Œåœ¨$\\theta = 0.7$æ—¶ï¼Œä¼¼ç„¶å‡½æ•°å–å¾—æœ€å¤§å€¼ã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†å¯¹$\\theta$çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€‚å³ï¼ŒæŠ›10æ¬¡ç¡¬å¸ï¼Œå‘ç°7æ¬¡ç¡¬å¸æ­£é¢å‘ä¸Šï¼Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡è®¤ä¸ºæ­£é¢å‘ä¸Šçš„æ¦‚ç‡æ˜¯0.7ã€‚ï¼ˆummmâ€¦è¿™éå¸¸ç›´è§‚åˆç†ï¼Œå¯¹å§ï¼Ÿï¼‰ ä¸”æ…¢ï¼Œä¸€äº›äººå¯èƒ½ä¼šè¯´ï¼Œç¡¬å¸ä¸€èˆ¬éƒ½æ˜¯å‡åŒ€çš„å•Šï¼ å°±ç®—ä½ åšå®éªŒå‘ç°ç»“æœæ˜¯â€œåæ­£æ­£æ­£æ­£åæ­£æ­£æ­£åâ€ï¼Œæˆ‘ä¹Ÿä¸ä¿¡$\\theta = 0.7$ã€‚ è¿™é‡Œå°±åŒ…å«äº†è´å¶æ–¯å­¦æ´¾çš„æ€æƒ³äº†â€”â€”è¦è€ƒè™‘å…ˆéªŒæ¦‚ç‡ã€‚ ä¸ºæ­¤ï¼Œå¼•å…¥äº†æœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡ã€‚ æœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡(MAP) æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯æ±‚å‚æ•°$\\theta$, ä½¿ä¼¼ç„¶å‡½æ•°$P(x_0 | \\theta)$æœ€ å¤§ ã€‚ æœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡åˆ™æ˜¯æƒ³æ±‚$\\theta$ä½¿$P(x_0|\\theta)$ æœ€å¤§ã€‚æ±‚å¾—çš„$\\theta$ä¸å•å•è®©ä¼¼ç„¶å‡½æ•°å¤§ï¼Œä¸å•å•è®©ä¼¼ç„¶å‡½æ•°å¤§ï¼Œ$\\theta$è‡ªå·±å‡ºç°çš„å…ˆéªŒæ¦‚ç‡ä¹Ÿå¾—å¤§ã€‚(è¿™æœ‰ç‚¹åƒæ­£åˆ™åŒ–é‡ŒåŠ æƒ©ç½šé¡¹çš„æ€æƒ³ï¼Œä¸è¿‡æ­£åˆ™åŒ–é‡Œæ˜¯åˆ©ç”¨åŠ æ³•ï¼Œè€ŒMAPé‡Œæ˜¯åˆ©ç”¨ä¹˜æ³•). MAPå…¶å®æ˜¯åœ¨æœ€å¤§åŒ–$P(\\theta|x_0) = \\frac{P(x_0|\\theta)P(\\theta)}{P(x_0)}$ï¼Œä¸è¿‡å› ä¸º$x_0$æ˜¯ç¡®å®šçš„(å³æŠ•å‡ºçš„â€œåæ­£æ­£æ­£æ­£åæ­£æ­£æ­£åâ€)ï¼Œ$P(x_0)$æ˜¯ä¸€ä¸ªå·²çŸ¥å€¼ï¼Œæ‰€ä»¥å»æ‰äº†åˆ†æ¯$P(x_0)$(å‡è®¾â€œæŠ•10æ¬¡ç¡¬å¸â€æ˜¯ä¸€æ¬¡å®éªŒï¼Œå®éªŒåšäº†1000æ¬¡ï¼Œâ€œåæ­£æ­£æ­£æ­£åæ­£æ­£æ­£åâ€å‡ºç°äº†næ¬¡ï¼Œåˆ™$P(x_0) = n/1000$)ã€‚æ€»ä¹‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”±æ•°æ®é›†å¾—åˆ°çš„å€¼ï¼‰ã€‚æœ€å¤§åŒ–$P(\\theta | x_0)$çš„æ„ä¹‰ä¹Ÿå¾ˆæ˜ç¡®ï¼Œ$x_0$å·²ç»å‡ºç°äº†ï¼Œè¦æ±‚$\\theta$å–ä»€ä¹ˆå€¼ä½¿$P(\\theta | x_0)$æœ€å¤§ã€‚é¡ºå¸¦ä¸€æï¼Œ$P(\\theta | x_0)$, â€‹å³åéªŒæ¦‚ç‡ï¼Œè¿™å°±æ˜¯â€œæœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡â€åå­—çš„ç”±æ¥ã€‚ å¯¹äºæŠ•ç¡¬å¸çš„ä¾‹å­æ¥çœ‹ï¼Œæˆ‘ä»¬è®¤ä¸ºï¼ˆâ€å…ˆéªŒåœ°çŸ¥é“â€œ$\\theta$å–0.5çš„æ¦‚ç‡å¾ˆå¤§ï¼Œå–å…¶ä»–å€¼çš„æ¦‚ç‡å°ä¸€äº›ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒæ¥å…·ä½“æè¿°æˆ‘ä»¬æŒæ¡çš„è¿™ä¸ªå…ˆéªŒçŸ¥è¯†ï¼Œä¾‹å¦‚å‡è®¾$P(\\theta)$ä¸ºå‡å€¼0.5ï¼Œæ–¹å·®0.1çš„é«˜æ–¯å‡½æ•°ï¼Œå¦‚ä¸‹å›¾ï¼š åˆ™$P(x_0 | \\theta)$çš„å‡½æ•°å›¾åƒä¸ºï¼š æ³¨æ„ï¼Œæ­¤æ—¶å‡½æ•°å–æœ€å¤§å€¼æ—¶ï¼ŒÎ¸ \\thetaÎ¸å–å€¼å·²å‘å·¦åç§»ï¼Œä¸å†æ˜¯0.7ã€‚å®é™…ä¸Šï¼Œåœ¨$\\theta = 0.558$æ—¶å‡½æ•°å–å¾—äº†æœ€å¤§å€¼ã€‚å³ï¼Œç”¨æœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡ï¼Œå¾—åˆ°$\\theta = 0.558$ æœ€åï¼Œé‚£è¦æ€æ ·æ‰èƒ½è¯´æœä¸€ä¸ªè´å¶æ–¯æ´¾ç›¸ä¿¡$\\theta = 0.7$å‘¢ï¼Ÿä½ å¾—å¤šåšç‚¹å®éªŒã€‚ã€‚ å¦‚æœåšäº†1000æ¬¡å®éªŒï¼Œå…¶ä¸­700æ¬¡éƒ½æ˜¯æ­£é¢å‘ä¸Šï¼Œè¿™æ—¶ä¼¼ç„¶å‡½æ•°ä¸º: å¦‚æœä»ç„¶å‡","date":"2023-07-16","objectID":"/posts/mleandmap/:0:0","tags":["MLE"],"title":"è¯¦è§£æœ€å¤§ä¼¼ç„¶ä¼°è®¡(MLE)ã€æœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡(MAP)ï¼Œä»¥åŠè´å¶æ–¯å…¬å¼çš„ç†è§£","uri":"/posts/mleandmap/"},{"categories":["Memo"],"content":"Linuxç³»ç»Ÿå„ç³»ç»Ÿæ–‡ä»¶å¤¹ä¸‹çš„åŒºåˆ« é¦–å…ˆï¼Œusr æŒ‡ Unix System Resourceï¼Œè€Œä¸æ˜¯Userã€‚ é€šå¸¸ï¼Œ /usr/binä¸‹é¢çš„éƒ½æ˜¯ç³»ç»Ÿé¢„è£…çš„å¯æ‰§è¡Œç¨‹åºï¼Œä¼šéšç€ç³»ç»Ÿå‡çº§è€Œæ”¹å˜ã€‚ /usr/local/binç›®å½•æ˜¯ç»™ç”¨æˆ·æ”¾ç½®è‡ªå·±çš„å¯æ‰§è¡Œç¨‹åºçš„åœ°æ–¹ï¼Œæ¨èæ”¾åœ¨è¿™é‡Œï¼Œä¸ä¼šè¢«ç³»ç»Ÿå‡çº§è€Œè¦†ç›–åŒåæ–‡ä»¶ã€‚ å¦‚æœä¸¤ä¸ªç›®å½•ä¸‹æœ‰ç›¸åŒçš„å¯æ‰§è¡Œç¨‹åºï¼Œè°ä¼˜å…ˆæ‰§è¡Œå—åˆ°PATHç¯å¢ƒå˜é‡çš„å½±å“ï¼Œæ¯”å¦‚æˆ‘çš„ä¸€å°æœåŠ¡å™¨çš„PATHå˜é‡ä¸ºã€‚ echo $PATH è¿™é‡Œ/usr/local/binä¼˜å…ˆäº/usr/bin, ä¸€èˆ¬éƒ½æ˜¯å¦‚æ­¤ã€‚ /libæ˜¯å†…æ ¸çº§çš„, /usr/libæ˜¯ç³»ç»Ÿçº§çš„, /usr/local/libæ˜¯ç”¨æˆ·çº§çš„. / - å¯¹ä½ çš„ç”µè„‘æ¥è¯´, æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹ç›®å½•ã€‚æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯ä»è¿™é‡Œå¼€å§‹ã€‚ä¸¾ä¸ªä¾‹å­: å½“ä½ åœ¨ç»ˆç«¯é‡Œè¾“å…¥\"/home\"ï¼Œä½ å…¶å®æ˜¯åœ¨å‘Šè¯‰ç”µè„‘ï¼Œå…ˆä»/(æ ¹ç›®å½•)å¼€å§‹ï¼Œå†è¿›å…¥åˆ°homeç›®å½•ã€‚ /lib/ â€” åŒ…å«è®¸å¤šè¢«/bin/å’Œ/sbin/ä¸­çš„ç¨‹åºä½¿ç”¨çš„åº“æ–‡ä»¶ã€‚ç›®å½•/usr/lib/ä¸­å«æœ‰æ›´å¤šç”¨äºç”¨æˆ·ç¨‹åºçš„åº“æ–‡ä»¶ã€‚/libç›®å½•ä¸‹æ”¾ç½®çš„æ˜¯/binå’Œ/sbinç›®å½•ä¸‹ç¨‹åºæ‰€éœ€çš„åº“æ–‡ä»¶ã€‚/libç›®å½•ä¸‹çš„æ–‡ä»¶çš„åç§°éµå¾ªä¸‹é¢çš„æ ¼å¼ï¼š libc.so.* ld* ä»…ä»…è¢«/usrç›®å½•ä¸‹çš„ç¨‹åºæ‰€ä½¿ç”¨çš„å…±äº«åº“ä¸å¿…æ”¾åˆ°/libç›®å½•ä¸‹ã€‚åªæœ‰/binå’Œ/sbinä¸‹çš„ç¨‹åºæ‰€éœ€è¦çš„åº“æœ‰å¿…è¦æ”¾åˆ°/libç›®å½•ä¸‹ã€‚å®é™…ä¸Šï¼Œlibm.so.*ç±»å‹çš„åº“æ–‡ä»¶å¦‚æœè¢«æ˜¯/binå’Œ/sbinæ‰€éœ€è¦çš„ï¼Œä¹Ÿå¯ä»¥æ”¾åˆ°/usr/libä¸‹ã€‚ /bin/ â€” ç”¨æ¥è´®å­˜ç”¨æˆ·å‘½ä»¤ã€‚ç›®å½• /usr/bin ä¹Ÿè¢«ç”¨æ¥è´®å­˜ç”¨æˆ·å‘½ä»¤ã€‚ /sbin/ â€” è®¸å¤šç³»ç»Ÿå‘½ä»¤(ä¾‹å¦‚ shutdown)çš„è´®å­˜ä½ç½®ã€‚ç›®å½•/usr/sbinä¸­ä¹ŸåŒ…æ‹¬äº†è®¸å¤šç³»ç»Ÿå‘½ä»¤ã€‚ /root/ â€” æ ¹ç”¨æˆ·(è¶…çº§ç”¨æˆ·)çš„ä¸»ç›®å½•ã€‚ /mnt/ â€” è¯¥ç›®å½•ä¸­é€šå¸¸åŒ…æ‹¬ç³»ç»Ÿå¼•å¯¼åè¢«æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹ã€‚è­¬å¦‚ï¼Œé»˜è®¤çš„å…‰ç›˜æŒ‚è½½ç‚¹æ˜¯/mnt/cdrom/. /boot/ â€” åŒ…æ‹¬å†…æ ¸å’Œå…¶å®ƒç³»ç»Ÿå¯åŠ¨æœŸé—´ä½¿ç”¨çš„æ–‡ä»¶ã€‚ /lost+found/ â€” è¢«fsckç”¨æ¥æ”¾ç½®é›¶æ•£æ–‡ä»¶(æ²¡æœ‰åç§°çš„æ–‡ä»¶)ã€‚ /lib/ â€” åŒ…å«è®¸å¤šè¢«/bin/å’Œ/sbin/ä¸­çš„ç¨‹åºä½¿ç”¨çš„åº“æ–‡ä»¶ã€‚ç›®å½•/usr/lib/ä¸­å«æœ‰æ›´å¤šç”¨äºç”¨æˆ·ç¨‹åºçš„åº“æ–‡ä»¶ã€‚ /dev/ â€” è´®å­˜è®¾å¤‡æ–‡ä»¶ã€‚ /etc/ â€” åŒ…å«è®¸å¤šé…ç½®æ–‡ä»¶å’Œç›®å½•ã€‚ç³»ç»Ÿä¸»è¦çš„è®¾å®šæ¡£å‡ ä¹éƒ½æ”¾ç½®åœ¨è¿™ä¸ªç›®å½•å†…ï¼Œä¾‹å¦‚äººå‘˜çš„å¸å·å¯†ç æ¡£ã€å„ç§æœåŠ¡çš„å¯å§‹æ¡£ç­‰ç­‰ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„å„æ¡£æ¡ˆå±æ€§æ˜¯å¯ä»¥è®©ä¸€èˆ¬ä½¿ç”¨è€…æŸ¥é˜…çš„ï¼Œä½†æ˜¯åªæœ‰rootæœ‰æƒåŠ›ä¿®æ”¹ã€‚ /var/ â€” ç”¨äºè´®å­˜variable(æˆ–ä¸æ–­æ”¹å˜çš„)æ–‡ä»¶ï¼Œä¾‹å¦‚æ—¥å¿—æ–‡ä»¶å’Œæ‰“å°æœºå‡è„±æœºæ–‡ä»¶ã€‚ /usr/ â€” åŒ…æ‹¬ä¸ç³»ç»Ÿç”¨æˆ·ç›´æ¥æœ‰å…³çš„æ–‡ä»¶å’Œç›®å½•ï¼Œä¾‹å¦‚åº”ç”¨ç¨‹åºåŠæ”¯æŒå®ƒä»¬çš„åº“æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œä½ å¯ä»¥æ‰¾åˆ°é‚£äº›ä¸é€‚åˆæ”¾åœ¨/binæˆ–/etcç›®å½•ä¸‹çš„é¢å¤–çš„å·¥å…·ã€‚æ¯”å¦‚åƒæ¸¸æˆé˜¿ï¼Œä¸€äº›æ‰“å°å·¥å…·æ‹‰ç­‰ç­‰ã€‚/usrç›®å½•åŒ…å«äº†è®¸å¤šå­ç›®å½•ï¼š /usr/binç›®å½•ç”¨äºå­˜æ”¾ç¨‹åº; /usr/shareç”¨äºå­˜æ”¾ä¸€äº›å…±äº«çš„æ•°æ®ï¼Œæ¯”å¦‚éŸ³ä¹æ–‡ä»¶æˆ–è€…å›¾æ ‡ç­‰ç­‰;/usr/libç›®å½•ç”¨äºå­˜æ”¾é‚£äº›ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œä½†å´æ˜¯è®¸å¤šç¨‹åºè¿è¡Œæ‰€å¿…éœ€çš„ä¸€äº›å‡½æ•°åº“æ–‡ä»¶ã€‚ /proc/ â€” ä¸€ä¸ªè™šæ‹Ÿçš„æ–‡ä»¶ç³»ç»Ÿ(ä¸æ˜¯å®é™…è´®å­˜åœ¨ç£ç›˜ä¸Šçš„)ï¼Œå®ƒåŒ…æ‹¬è¢«æŸäº›ç¨‹åºä½¿ç”¨çš„ç³»ç»Ÿä¿¡æ¯ã€‚ /initrd/ â€” ç”¨æ¥åœ¨è®¡ç®—æœºå¯åŠ¨æ—¶æŒ‚è½½ initrd.img æ˜ åƒæ–‡ä»¶çš„ç›®å½•ä»¥åŠè½½å…¥æ‰€éœ€è®¾å¤‡æ¨¡å—çš„ç›®å½•ã€‚ è­¦å‘Š: ä¸è¦åˆ é™¤/initrd/ç›®å½•ã€‚å¦‚æœä½ åˆ é™¤äº†è¯¥ç›®å½•åå†é‡æ–°å¼•å¯¼Red Hat Linuxæ—¶ï¼Œä½ å°†æ— æ³•å¼•å¯¼ä½ çš„è®¡ç®—æœºã€‚ /tmp/ â€” ç”¨æˆ·å’Œç¨‹åºçš„ä¸´æ—¶ç›®å½•ã€‚/tmpç»™äºˆæ‰€æœ‰ç³»ç»Ÿç”¨æˆ·è¯»å†™æƒã€‚**è¿™æ˜¯è®©ä¸€èˆ¬ä½¿ç”¨è€…æˆ–è€…æ˜¯æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºæš‚æ—¶æ”¾ç½®æ¡£æ¡ˆçš„åœ°æ–¹ã€‚**è¿™ä¸ªç›®å½•æ˜¯ä»»ä½•äººéƒ½èƒ½å¤Ÿå­˜å–çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦å®šæœŸçš„æ¸…ç†ä¸€ä¸‹ã€‚å½“ç„¶ï¼Œé‡è¦èµ„æ–™ä¸å¯æ”¾ç½®åœ¨æ­¤ç›®å½•å•Šã€‚ å› ä¸ºFHSç”šè‡³å»ºè®®åœ¨å¼€æœºæ—¶ï¼Œåº”è¯¥è¦å°†/tmpä¸‹çš„èµ„æ–™éƒ½åˆ é™¤ã€‚ /home/ â€” ç”¨æˆ·ä¸»ç›®å½•çš„é»˜è®¤ä½ç½®ã€‚ /opt/ â€” å¯é€‰æ–‡ä»¶å’Œç¨‹åºçš„è´®å­˜ç›®å½•ã€‚è¯¥ç›®å½•ä¸»è¦è¢«ç¬¬ä¸‰æ–¹å¼€å‘è€…ç”¨æ¥ç®€æ˜“åœ°å®‰è£…å’Œå¸è£…ä»–ä»¬çš„è½¯ä»¶åŒ…ã€‚è¿™é‡Œä¸»è¦å­˜æ”¾é‚£äº›å¯é€‰çš„ç¨‹åºã€‚ä½ æƒ³å°è¯•æœ€æ–°çš„firefoxæµ‹è¯•ç‰ˆå—?é‚£å°±è£…åˆ°/optç›®å½•ä¸‹å§ï¼Œè¿™æ ·ï¼Œå½“ä½ å°è¯•å®Œï¼Œæƒ³åˆ æ‰firefoxçš„æ—¶å€™ï¼Œä½ å°±å¯ ä»¥ç›´æ¥åˆ é™¤å®ƒï¼Œè€Œä¸å½±å“ç³»ç»Ÿå…¶ä»–ä»»ä½•è®¾ç½®ã€‚å®‰è£…åˆ°/optç›®å½•ä¸‹çš„ç¨‹åºï¼Œå®ƒæ‰€æœ‰çš„æ•°æ®ã€åº“æ–‡ä»¶ç­‰ç­‰éƒ½æ˜¯æ”¾åœ¨åŒä¸ªç›®å½•ä¸‹é¢ã€‚ /usr/local/ - è¿™é‡Œä¸»è¦å­˜æ”¾é‚£äº›æ‰‹åŠ¨å®‰è£…çš„è½¯ä»¶ï¼Œå³aptæˆ–è€…apt-getå®‰è£…çš„è½¯ä»¶ã€‚å®ƒå’Œ/usrç›®å½•å…·æœ‰ç›¸ç±»ä¼¼çš„ç›®å½•ç»“æ„ã€‚è®©è½¯ä»¶åŒ…ç®¡ç†å™¨æ¥ç®¡ç†/usrç›®å½•ï¼Œè€ŒæŠŠè‡ªå®šä¹‰çš„è„šæœ¬(scripts)æ”¾åˆ°/usr/localç›®å½•ä¸‹é¢ï¼Œæˆ‘æƒ³è¿™åº”è¯¥æ˜¯ä¸ªä¸é”™çš„ä¸»æ„ã€‚ /media/ - æœ‰äº›linuxçš„å‘è¡Œç‰ˆä½¿ç”¨è¿™ä¸ªç›®å½•æ¥æŒ‚è½½é‚£äº›usbæ¥å£çš„ç§»åŠ¨ç¡¬ç›˜(åŒ…æ‹¬Uç›˜)ã€CD/DVDé©±åŠ¨å™¨ç­‰ç­‰ã€‚ ","date":"2023-07-16","objectID":"/posts/filesystem/:0:0","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"/usr/local/ å’Œ /usr/share/ åŒºåˆ« /usr/local - è¿™ä¸ªç›®å½•ä¸€èˆ¬æ˜¯ç”¨æ¥å­˜æ”¾ç”¨æˆ·è‡ªç¼–è¯‘å®‰è£…è½¯ä»¶çš„å­˜æ”¾ç›®å½•; ä¸€èˆ¬æ˜¯é€šè¿‡æºç åŒ…å®‰è£…çš„è½¯ä»¶ï¼Œå¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡å®šå®‰è£…ç›®å½•çš„è¯ï¼Œä¸€èˆ¬æ˜¯å®‰è£…åœ¨è¿™ä¸ªç›®å½•ä¸­ã€‚è¿™ä¸ªç›®å½•ä¸‹é¢æœ‰å­ç›®å½•ã€‚ /usr/share - ç³»ç»Ÿå…±ç”¨çš„ä¸œè¥¿å­˜æ”¾åœ°ï¼Œæ¯”å¦‚/usr/share/fontsæ˜¯å­—ä½“ç›®å½•ï¼Œ/usr/share/docå’Œ/usr/share/manå¸®åŠ©æ–‡ä»¶ã€‚ /var/log - ç³»ç»Ÿæ—¥å¿—å­˜æ”¾ï¼Œåˆ†ææ—¥å¿—è¦çœ‹è¿™ä¸ªç›®å½•çš„ä¸œè¥¿; /var/spool - æ‰“å°æœºã€é‚®ä»¶ã€ä»£ç†æœåŠ¡å™¨ç­‰è„±æœºç›®å½•ã€‚ Linux Command Notes ","date":"2023-07-16","objectID":"/posts/filesystem/:1:0","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"æŸ¥æ‰¾æ–‡ä»¶çš„å‘½ä»¤:find/locate/whereis/which/type/grep ","date":"2023-07-16","objectID":"/posts/filesystem/:2:0","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"find findå‘½ä»¤å‡†ç¡®ï¼Œä½†é€Ÿåº¦éå¸¸æ…¢ï¼Œå®ƒå¯ä»¥æŸ¥æ‰¾ä»»ä½•ç±»å‹çš„æ–‡ä»¶ ä½¿ç”¨æ ¼å¼ find [æŒ‡å®šç›®å½•] [æŒ‡å®šæ¡ä»¶] [æŒ‡å®šåŠ¨ä½œ] å‚æ•°è¯´æ˜: [æŒ‡å®šç›®å½•]ï¼š æ‰€è¦æœç´¢çš„ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ã€‚é»˜è®¤ä¸ºå½“å‰ç›®å½• [æŒ‡å®šæ¡ä»¶]ï¼š æ‰€è¦æœç´¢çš„æ–‡ä»¶çš„ç‰¹å¾ -nameï¼šæŒ‰æ–‡ä»¶åæ¥æŸ¥æ‰¾æ–‡ä»¶ -userï¼šæŒ‰ç…§æ–‡ä»¶çš„å±ä¸»æ¥æŸ¥æ‰¾æ–‡ä»¶ -groupï¼šæŒ‰ç…§æ–‡ä»¶æ‰€å±çš„ç»„æ¥æŸ¥æ‰¾æ–‡ä»¶ -permï¼šæŒ‰ç…§æ–‡ä»¶æƒé™æ¥æŸ¥æ‰¾æ–‡ä»¶ -pruneï¼šä¸åœ¨å½“å‰æŒ‡å®šç›®å½•ä¸­æŸ¥æ‰¾ [æŒ‡å®šåŠ¨ä½œ]ï¼š å¯¹æœç´¢ç»“æœè¿›è¡Œç‰¹å®šçš„å¤„ç† -printï¼šå°†åŒ¹é…çš„æ–‡ä»¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º -execï¼šå¯¹åŒ¹é…çš„æ–‡ä»¶æ‰§è¡Œè¯¥å‚æ•°æ‰€ç»™å‡ºçš„shellå‘½ä»¤ -okï¼šå’Œ-execçš„ä½œç”¨ç›¸åŒï¼Œåœ¨æ‰§è¡Œæ¯ä¸€ä¸ªå‘½ä»¤ä¹‹å‰ï¼Œè®©ç”¨æˆ·æ¥ç¡®å®šæ˜¯å¦æ‰§è¡Œ findå‘½ä»¤ä¸åŠ ä»»ä½•å‚æ•°æ—¶ï¼Œè¡¨ç¤ºæœç´¢è·¯å¾„ä¸ºå½“å‰ç›®å½•åŠå…¶å­ç›®å½•ï¼Œé»˜è®¤çš„åŠ¨ä½œä¸º-printï¼Œå³ä¸è¿‡æ»¤ä»»ä½•ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¾“å‡ºæ‰€æœ‰çš„æ–‡ä»¶ ä½¿ç”¨ç¤ºä¾‹: - é€’å½’æœç´¢å½“å‰ç›®å½•ä¸­ï¼Œæ‰€æœ‰ä»¥fileå¼€å¤´çš„æ–‡ä»¶ shell find . -name 'file*' - é€’å½’æœç´¢å½“å‰ç›®å½•ä¸­ï¼Œæ‰€æœ‰ä»¥fileå¼€å¤´çš„æ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºå®ƒä»¬çš„è¯¦ç»†ä¿¡æ¯ shell find . -name 'file*' -ls ","date":"2023-07-16","objectID":"/posts/filesystem/:2:1","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"locate locateå‘½ä»¤å¯ä»¥è¯´æ˜¯find -nameçš„å¦ä¸€ç§å†™æ³•ï¼Œä½†æ˜¯è¦æ¯”åè€…å¿«å¾—å¤šï¼ŒåŸå› åœ¨äºå®ƒä¸æœç´¢å…·ä½“ç›®å½•ï¼Œè€Œæ˜¯æœç´¢ä¸€ä¸ªæ•°æ®åº“/var/lib/locatedbï¼Œè¿™ä¸ªæ•°æ®åº“ä¸­å«æœ‰æœ¬åœ°æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯. Linuxè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªæ•°æ®åº“ï¼Œå¹¶ä¸”æ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥ä½¿ç”¨locateå‘½ä»¤æŸ¥ä¸åˆ°æœ€æ–°å˜åŠ¨è¿‡çš„æ–‡ä»¶ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥åœ¨ä½¿ç”¨locateä¹‹å‰ï¼Œå…ˆä½¿ç”¨updatedbå‘½ä»¤ï¼Œæ‰‹åŠ¨æ›´æ–°æ•°æ®åº“. ä½¿ç”¨æ ¼å¼: locate [å‚æ•°] \u003cæ–‡ä»¶å\u003e ä½¿ç”¨ç¤ºä¾‹: æœç´¢etcç›®å½•ä¸‹æ‰€æœ‰ä»¥fileå¼€å¤´çš„æ–‡ä»¶ locate /etc/file æœç´¢ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼Œæ‰€æœ‰ä»¥få¼€å¤´çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å¿½ç•¥å¤§å°å†™ locate -i ~/f ","date":"2023-07-16","objectID":"/posts/filesystem/:2:2","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"whereis whereiså‘½ä»¤åªèƒ½æœç´¢ç‰¹å®šæ ¼å¼çš„æ–‡ä»¶ ä½¿ç”¨æ ¼å¼ whereis [å‚æ•°] \u003cæ–‡ä»¶å\u003e å¯æœç´¢æ–‡é›†ç±»å‹ äºŒè¿›åˆ¶æ–‡ä»¶(-b) æºä»£ç æ–‡ä»¶(-s) è¯´æ˜æ–‡ä»¶(-m) å¦‚æœçœç•¥å‚æ•°ï¼Œåˆ™è¿”å›æ‰€æœ‰ä¿¡æ¯ ä½¿ç”¨ç¤ºä¾‹: æ‰¾å‡ºåä¸ºfindçš„æ–‡ä»¶ä½ç½® whereis find ","date":"2023-07-16","objectID":"/posts/filesystem/:2:3","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"which whichå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼Œåœ¨PATHå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œæœç´¢æŸä¸ªç³»ç»Ÿå‘½ä»¤çš„ä½ç½®ï¼Œå¹¶ä¸”è¿”å›ç¬¬ä¸€ä¸ªæœç´¢ç»“æœ, ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨whichå‘½ä»¤ï¼Œå°±å¯ä»¥çœ‹åˆ°æŸä¸ªç³»ç»Ÿå‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠæ‰§è¡Œçš„åˆ°åº•æ˜¯å“ªä¸€ä¸ªä½ç½®çš„å‘½ä»¤ã€‚ ä½¿ç”¨æ ¼å¼ which \u003cå‘½ä»¤\u003e ä½¿ç”¨å®ä¾‹: æŸ¥æ‰¾findå‘½ä»¤çš„ä½ç½® which find ","date":"2023-07-16","objectID":"/posts/filesystem/:2:4","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"type typeå‘½ä»¤å…¶å®ä¸èƒ½ç®—æŸ¥æ‰¾å‘½ä»¤ï¼Œå®ƒæ˜¯ç”¨æ¥åŒºåˆ†æŸä¸ªå‘½ä»¤åˆ°åº•æ˜¯ç”±shellè‡ªå¸¦çš„ï¼Œè¿˜æ˜¯ç”±shellå¤–éƒ¨çš„ç‹¬ç«‹äºŒè¿›åˆ¶æ–‡ä»¶æä¾›çš„; å¦‚æœä¸€ä¸ªå‘½ä»¤æ˜¯å¤–éƒ¨å‘½ä»¤ï¼Œé‚£ä¹ˆä½¿ç”¨-på‚æ•°ï¼Œä¼šæ˜¾ç¤ºè¯¥å‘½ä»¤çš„è·¯å¾„ï¼Œç›¸å½“äºwhichå‘½ä»¤ã€‚ ä½¿ç”¨æ ¼å¼ type \u003cå‘½ä»¤\u003e ä½¿ç”¨å®ä¾‹: æŸ¥çœ‹cdå‘½ä»¤æ˜¯å¦ä¸ºshellè‡ªå¸¦çš„å‘½ä»¤ type cd æŸ¥çœ‹grepæ˜¯å¦ä¸ºå¤–éƒ¨å‘½ä»¤ type grep ","date":"2023-07-16","objectID":"/posts/filesystem/:2:5","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"grep grepå‘½ä»¤ç”¨äºæŸ¥æ‰¾æ‹¥æœ‰ç‰¹æ®Šå­—æ®µçš„æ–‡ä»¶ã€‚ è¯­æ³• grep [-abcEFGhHilLnqrsvVwxy][-A\u003cæ˜¾ç¤ºè¡Œæ•°\u003e][-B\u003cæ˜¾ç¤ºåˆ—æ•°\u003e][-C\u003cæ˜¾ç¤ºåˆ—æ•°\u003e][-d\u003cè¿›è¡ŒåŠ¨ä½œ\u003e][-e\u003cèŒƒæœ¬æ ·å¼\u003e][-f\u003cèŒƒæœ¬æ–‡ä»¶\u003e][--help][èŒƒæœ¬æ ·å¼][æ–‡ä»¶æˆ–ç›®å½•...] å‚æ•°: -a æˆ– â€“text : ä¸è¦å¿½ç•¥äºŒè¿›åˆ¶çš„æ•°æ®ã€‚ -A\u003cæ˜¾ç¤ºè¡Œæ•°\u003e æˆ– â€“after-context=\u003cæ˜¾ç¤ºè¡Œæ•°\u003e : é™¤äº†æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹åçš„å†…å®¹ã€‚ -b æˆ– â€“byte-offset : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œæ ‡ç¤ºå‡ºè¯¥è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç¼–å·ã€‚ -B\u003cæ˜¾ç¤ºè¡Œæ•°\u003e æˆ– â€“before-context=\u003cæ˜¾ç¤ºè¡Œæ•°\u003e : é™¤äº†æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„å†…å®¹ã€‚ -c æˆ– â€“count : è®¡ç®—ç¬¦åˆæ ·å¼çš„åˆ—æ•°ã€‚ -C\u003cæ˜¾ç¤ºè¡Œæ•°\u003e æˆ– â€“context=\u003cæ˜¾ç¤ºè¡Œæ•°\u003eæˆ–-\u003cæ˜¾ç¤ºè¡Œæ•°\u003e : é™¤äº†æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰åçš„å†…å®¹ã€‚ -d \u003cåŠ¨ä½œ\u003e æˆ– â€“directories=\u003cåŠ¨ä½œ\u003e : å½“æŒ‡å®šè¦æŸ¥æ‰¾çš„æ˜¯ç›®å½•è€Œéæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¿™é¡¹å‚æ•°ï¼Œå¦åˆ™grepæŒ‡ä»¤å°†å›æŠ¥ä¿¡æ¯å¹¶åœæ­¢åŠ¨ä½œã€‚ -e\u003cèŒƒæœ¬æ ·å¼\u003e æˆ– â€“regexp=\u003cèŒƒæœ¬æ ·å¼\u003e : æŒ‡å®šå­—ç¬¦ä¸²åšä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„æ ·å¼ã€‚ -E æˆ– â€“extended-regexp : å°†æ ·å¼ä¸ºå»¶ä¼¸çš„æ­£åˆ™è¡¨è¾¾å¼æ¥ä½¿ç”¨ã€‚ -f\u003cè§„åˆ™æ–‡ä»¶\u003e æˆ– â€“file=\u003cè§„åˆ™æ–‡ä»¶\u003e : æŒ‡å®šè§„åˆ™æ–‡ä»¶ï¼Œå…¶å†…å®¹å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè§„åˆ™æ ·å¼ï¼Œè®©grepæŸ¥æ‰¾ç¬¦åˆè§„åˆ™æ¡ä»¶çš„æ–‡ä»¶å†…å®¹ï¼Œæ ¼å¼ä¸ºæ¯è¡Œä¸€ä¸ªè§„åˆ™æ ·å¼ã€‚ -F æˆ– â€“fixed-regexp : å°†æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ã€‚ -G æˆ– â€“basic-regexp : å°†æ ·å¼è§†ä¸ºæ™®é€šçš„è¡¨ç¤ºæ³•æ¥ä½¿ç”¨ã€‚ -h æˆ– â€“no-filename : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œä¸æ ‡ç¤ºè¯¥è¡Œæ‰€å±çš„æ–‡ä»¶åç§°ã€‚ -H æˆ– â€“with-filename : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œè¡¨ç¤ºè¯¥è¡Œæ‰€å±çš„æ–‡ä»¶åç§°ã€‚ -i æˆ– â€“ignore-case : å¿½ç•¥å­—ç¬¦å¤§å°å†™çš„å·®åˆ«ã€‚ -l æˆ– â€“file-with-matches : åˆ—å‡ºæ–‡ä»¶å†…å®¹ç¬¦åˆæŒ‡å®šçš„æ ·å¼çš„æ–‡ä»¶åç§°ã€‚ -L æˆ– â€“files-without-match : åˆ—å‡ºæ–‡ä»¶å†…å®¹ä¸ç¬¦åˆæŒ‡å®šçš„æ ·å¼çš„æ–‡ä»¶åç§°ã€‚ -n æˆ– â€“line-number : åœ¨æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œæ ‡ç¤ºå‡ºè¯¥è¡Œçš„åˆ—æ•°ç¼–å·ã€‚ -o æˆ– â€“only-matching : åªæ˜¾ç¤ºåŒ¹é…PATTERN éƒ¨åˆ†ã€‚ -q æˆ– â€“quietæˆ–â€“silent : ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚ -r æˆ– â€“recursive : æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š\"-d recurse\"å‚æ•°ç›¸åŒã€‚ -s æˆ– â€“no-messages : ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ -v æˆ– â€“invert-match : æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ -V æˆ– â€“version : æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ -w æˆ– â€“word-regexp : åªæ˜¾ç¤ºå…¨å­—ç¬¦åˆçš„åˆ—ã€‚ -x â€“line-regexp : åªæ˜¾ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ—ã€‚ -y : æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š\"-i\"å‚æ•°ç›¸åŒã€‚ ç¤ºä¾‹: # æŸ¥æ‰¾æŒ‡å®šç›®å½•/etc/acpi åŠå…¶å­ç›®å½•ï¼ˆå¦‚æœå­˜åœ¨å­ç›®å½•çš„è¯ï¼‰ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­åŒ…å«å­—ç¬¦ä¸²\"update\"çš„æ–‡ä»¶ï¼Œå¹¶æ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²æ‰€åœ¨è¡Œçš„å†…å®¹ grep -r update /etc/acpi # æŸ¥çœ‹ç¬¦åˆæ¡ä»¶çš„æ—¥å¿—æ¡ç›®ã€‚ grep -n '2019-10-24 00:01:11' *.log # åªåŒ¹é…æ–‡æœ¬æ–‡ä»¶ï¼Œä¸åŒ¹é…äºŒè¿›åˆ¶æ–‡ä»¶çš„å‘½ä»¤ grep -srn \"parameter\" . --binary-files=without-match ","date":"2023-07-16","objectID":"/posts/filesystem/:2:6","tags":["Linux"],"title":"Linux Filesystem","uri":"/posts/filesystem/"},{"categories":["Memo"],"content":"VIM 8.2 å®‰è£… ","date":"2023-07-16","objectID":"/posts/installation/:0:0","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"1. Install Python3.9 from source Update the packages list and install the packages necessary to build Python sudo apt update \u0026\u0026 sudo apt install build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev libsqlite3-dev wget libbz2-dev Download the latest releaseâ€™s source code from the Python download page using wget wegt https://www.python.org/ftp/python/3.9.0/Python-3.9.1.tgz Switch to the Python source directory and execute the configure script which performs a number of checks to make sure all of the dependencies on your system are present cd Python-3.9.1 ./configure --enable-optimizations --with-lto --enable-shared --prefix=/usr/local/python39 make -j8 When the build process is complete, install the Python binaries by typing sudo make altinstall Do not use the standard make install as it will overwrite the default system python3 binary. copy the dynamic library to usr/lib/x86_64-linux-gnu/libpython3.9.so.1.0 sudo cp /usr/local/python39/lib/libpython3.9.so.1.0 /usr/lib/x86_64-linux-gnu/ the command can slove the error: error while loading shared libraries: libpython3.9.so.1.0: cannot open shared object file: No such file or directory make the soft link to set python39 as default python3 sudo ln -sf /usr/local/python39/bin/python3.9 /usr/bin/python3 sudo ln -s /usr/local/python39/bin/python3.9 /usr/bin/python3.9 using update-alternatives to switch different python version list all the python versions sudo update-alternatives --list python3 display python3 sudo update-alternatives --display python3 set different number for different version sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.10 1 sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.9 2 show different mode and select number to switch another mode sudo update-alternatives --config python3 ","date":"2023-07-16","objectID":"/posts/installation/:1:0","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"2. æºç å®‰è£…cmake ","date":"2023-07-16","objectID":"/posts/installation/:2:0","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"2.1 download the cmake source code download source code wget https://github.com/Kitware/CMake/releases/download/v3.23.1/cmake-3.23.1.tar.gz ","date":"2023-07-16","objectID":"/posts/installation/:2:1","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"2.2 extract the source code directory and run the command to install extraction and configuration cd cmake-2.23.0 ./bootstrap //éœ€è¦çš„è¯ä¹Ÿå¯ä»¥æŒ‡å®šå®‰è£…ç›®å½•ï¼Œä¾‹å¦‚--prefix=/usr/local/cmake make \u0026\u0026 sudo make install ","date":"2023-07-16","objectID":"/posts/installation/:2:2","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"2.3 create soft link and set cmake as default set cmake as default sudo ln -s /usr/local/bin/cmake /usr/bin/cmake ","date":"2023-07-16","objectID":"/posts/installation/:2:3","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"3. é¦–å…ˆä»githubä¸‹è½½æºç vim 8.2 ","date":"2023-07-16","objectID":"/posts/installation/:3:0","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"3.1 æºç å®‰è£…vim8.2 run the following command to downlaod source code of VIM from github git clone git clone https://github.com/vim/vim.git cd vim git pull cd src/ sudo make distclean # å¦‚æœæ‚¨ä»¥å‰æ„å»ºå›½vim cofigure the installation file ./configure --with-features=huge --enable-multibyte --enable-python3interp=dynamic --with-python3-config-dir=/usr/lib/python3.10/config-3.10-x86_64-linux-gnu/ --enable-cscope --enable-gui=auto --enable-gtk2-check --enable-fontset --enable-largefile --disable-netbeans --with-compiledby=\"18817571704@163.com\" --enable-fail-if-missing --prefix=/usr/local/vim82 sudo make sudo make install enable clipboard then you can copy the content from system clipboard to vim sudo apt-get install vim-gtk3 å¸è½½vim ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡ç½®ç¼–è¯‘æ“ä½œ sudo make distclean ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥å¸è½½å‘½ä»¤ sudo make uninstall ","date":"2023-07-16","objectID":"/posts/installation/:3:1","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"3.2 å®‰è£…vim-plugä»¥åŠæ’ä»¶ å®‰è£…vim-plug: curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim å®‰è£…ä¸»é¢˜gruvbox to fix error: Cannot find color scheme â€˜gruvboxâ€™ mkdir ~/.vim/colors/ cp ~/.vim/plugged/gruvbox/gruvbox.vim ~/.vim/colors/ å®‰è£…YCM(YouCompleteMe) æ ¹æ®~/.vimrcæŒ‰è£…YCM cd ~/.vim/plugged/YouCompleteMe/ ./install.py --clang-completer å®‰è£…ctags sudo apt-get install exuberant-ctags å…¶ä»–ä¸»é¢˜ç›´æ¥ç¼–è¾‘:PlugInstallè¿›è¡Œå®‰è£… ","date":"2023-07-16","objectID":"/posts/installation/:3:2","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"3.2 reference å‚è€ƒé“¾æ¥: [1] https://github.com/ycm-core/YouCompleteMe/wiki/Building-Vim-from-source [2] https://wizardforcel.gitbooks.io/use-vim-as-ide/content/0.html ","date":"2023-07-16","objectID":"/posts/installation/:3:3","tags":["vim"],"title":"Vim Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"zshè¯´æ˜ zshæ˜¯ä¸€ä¸ªLinuxä¸‹å¼ºå¤§çš„shell, ç”±äºå¤§å¤šæ•°Linuxäº§å“å®‰è£…ä»¥åŠé»˜è®¤ä½¿ç”¨bash shell, ä½†æ˜¯ä¸æ¯«ä¸å½±å“æå®¢ä»¬å¯¹zshçš„çƒ­è¡·, å‡ ä¹æ¯ä¸€æ¬¾Linuxäº§å“éƒ½åŒ…å«æœ‰zshï¼Œé€šå¸¸å¯ä»¥ç”¨apt-getã€urpmiæˆ–yumç­‰åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…. zshæ˜¯bashçš„å¢å¼ºç‰ˆï¼Œå…¶å®zshå’Œbashæ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œzshæ›´åŠ å¼ºå¤§ã€‚ é€šå¸¸zshé…ç½®èµ·æ¥éå¸¸éº»çƒ¦ï¼Œä¸”ç›¸å½“çš„å¤æ‚ï¼Œæ‰€ä»¥oh-my-zshæ˜¯ä¸ºäº†ç®€åŒ–zshçš„é…ç½®è€Œå¼€å‘çš„ï¼Œå› æ­¤oh-my-zshç®—æ˜¯zshçš„é…ç½®. ","date":"2023-07-16","objectID":"/posts/installation/:1:0","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"å‡†å¤‡ æŸ¥çœ‹å½“å‰ç³»ç»Ÿç”¨shellç‰ˆæœ¬ echo $SHELL æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦å“ªäº›shell cat /etc/shells ","date":"2023-07-16","objectID":"/posts/installation/:2:0","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"å®‰è£…zsh é€šè¿‡å‘½ä»¤è¡Œå®‰è£…zsh sudo apt install zsh ","date":"2023-07-16","objectID":"/posts/installation/:3:0","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"zshé…ç½® å°†zshè®¾ç½®ä¸ºé»˜è®¤çš„shell chsh -s /bin/zsh ç„¶åé‡å¯ç”µè„‘ reboot ","date":"2023-07-16","objectID":"/posts/installation/:4:0","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"å®‰è£…oh-my-zshåŠå…¶ä¸ªæ€§åŒ–é…ç½® ","date":"2023-07-16","objectID":"/posts/installation/:5:0","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"å®‰è£…oh-my-zsh æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…oh-my-zsh sh -c \"$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)\" æˆ–è€… sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\" ","date":"2023-07-16","objectID":"/posts/installation/:5:1","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"ä¸»é¢˜é…ç½® æ‰“å¼€é…ç½®æ–‡ä»¶~/.zshrc è¾“å…¥: ZSH_THEME=\"xxf\" xxf.zsh-themeæ–‡ä»¶ä¸‹è½½åœ°å€: xxf.zsh-themeæ–‡ä»¶ä¸‹è½½ ä¸‹è½½ä¹‹åå°†æ–‡ä»¶æ‹·è´åˆ°ä»¥ä¸‹è·¯å¾„: /home/username/.oh-my-zsh/themes/ ","date":"2023-07-16","objectID":"/posts/installation/:5:2","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"æ’ä»¶ å®‰è£…è‡ªåŠ¨è¡¥å…¨æ’ä»¶incr é¦–å…ˆï¼Œä¸‹è½½incræ’ä»¶åˆ°æœ¬åœ° cd ~/.oh-my-zsh/plugins/ mkdir incr \u0026\u0026 cd incr wget http://mimosa-pudica.net/src/incr-0.2.zsh ç¼–è¾‘~/.zshrcæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹: source ~/.oh-my-zsh/plugins/incr/incr*.zsh ç„¶åï¼Œsourceä¸€ä¸‹: source ~/.zshrc ç›´æ¥ä½¿ç”¨é»˜è®¤æ’ä»¶ åœ¨~/.zshrcæ–‡ä»¶ä¸­æ·»åŠ æ’ä»¶: plugins=(git extract z) å®‰è£…autojumpæ’ä»¶ é€šè¿‡å‘½ä»¤è¡Œå®‰è£…autojump sudo apt install autojump åœ¨~/.zshrcæ–‡ä»¶ä¸­ç¼–è¾‘: . /usr/share/autojump/autojump.sh ç„¶åï¼Œsourceä¸€ä¸‹: source ~/.zshrc å®‰è£…zsh-syntax-highlightingè¯­æ³•é«˜äº®æ’ä»¶ ä»gihubä¸‹è½½æºç å¹¶æ”¾åœ¨~/.oh-my-zsh/plugins/æ–‡ä»¶å¤¹ä¸‹: cd ~/.oh-my-zsh/plugins/ git clone https://github.com/zsh-users/zsh-syntax-highlighting.git åœ¨~/.zshrcæ–‡ä»¶ä¸­ç¼–è¾‘: source ~/.oh-my-zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ç„¶åï¼Œsourceä¸€ä¸‹: source ~/.zshrc å®‰è£…zsh-autosuggestionsè¯­æ³•å†å²è®°å½•æ’ä»¶ ä»gihubä¸‹è½½æºç å¹¶æ”¾åœ¨~/.oh-my-zsh/plugins/æ–‡ä»¶å¤¹ä¸‹: cd ~/.oh-my-zsh/plugins/ git clone git@github.com:zsh-users/zsh-autosuggestions.git åœ¨~/.zshrcæ–‡ä»¶ä¸­ç¼–è¾‘: source ~/.oh-my-zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ç„¶åï¼Œsourceä¸€ä¸‹: source ~/.zshrc ","date":"2023-07-16","objectID":"/posts/installation/:5:3","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"å…¶ä»– è®¾ç½®æ›´æ–°æ—¥æœŸ åœ¨~/.zshrcæ–‡ä»¶ä¸­ç¼–ï¼š exprot UPDATE_ZSH_DAYS=13 ç¦æ­¢è‡ªåŠ¨æ›´æ–° DISABLE_AUTO_UPDATE=\"true\" æ‰‹åŠ¨æ›´æ–°oh-my-zsh upgrade_oh_my_zsh å¸è½½oh-my-zsh uninstall_on_my_zsh zsh ","date":"2023-07-16","objectID":"/posts/installation/:5:4","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"ä»bashåˆ°zshçš„åˆ‡æ¢ ç›´æ¥æ‰§è¡Œzshå’Œoh-my-zshçš„å®‰è£…ä»¥åŠé…ç½®ï¼Œå¹¶ä¸”åœ¨~/.zshrcæ–‡ä»¶ä¸­æ·»åŠ : source ~/.bashrc ","date":"2023-07-16","objectID":"/posts/installation/:5:5","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Memo"],"content":"zsh å¿«æ·é”® å¿«æ·é”® âŒƒ + u: æ¸…ç©ºå½“å‰è¡Œ âŒƒ + a: ç§»åŠ¨åˆ°è¡Œé¦– âŒƒ + e: ç§»åŠ¨åˆ°è¡Œå°¾ âŒƒ + f: å‘å‰ç§»åŠ¨ âŒƒ + b: å‘åç§»åŠ¨ âŒƒ + p: ä¸Šä¸€æ¡å‘½ä»¤ âŒƒ + n: ä¸‹ä¸€æ¡å‘½ä»¤ âŒƒ + r: æœç´¢å†å²å‘½ä»¤ âŒƒ + y: å¬å›æœ€è¿‘ç”¨å‘½ä»¤åˆ é™¤çš„æ–‡å­— âŒƒ + h: åˆ é™¤å…‰æ ‡ä¹‹å‰çš„å­—ç¬¦ âŒƒ + d: åˆ é™¤å…‰æ ‡æ‰€æŒ‡çš„å­—ç¬¦ âŒƒ + w: åˆ é™¤å…‰æ ‡ä¹‹å‰çš„å•è¯ âŒƒ + k: åˆ é™¤ä»å…‰æ ‡åˆ°è¡Œå°¾çš„å†…å®¹ âŒƒ + t: äº¤æ¢å…‰æ ‡å’Œä¹‹å‰çš„å­—ç¬¦ ","date":"2023-07-16","objectID":"/posts/installation/:6:0","tags":["Zsh"],"title":"Zsh Installation","uri":"/posts/installation/"},{"categories":["Git"],"content":" å·¥ä½œåŒºï¼šå°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ã€‚ æš‚å­˜åŒºï¼šè‹±æ–‡å« stage, æˆ– indexã€‚ä¸€èˆ¬å­˜æ”¾åœ¨ â€œ.git ç›®å½•ä¸‹â€ ä¸‹çš„ index æ–‡ä»¶ï¼ˆ.git/indexï¼‰ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæš‚å­˜åŒºæœ‰æ—¶ä¹Ÿå«ä½œç´¢å¼•ï¼ˆindexï¼‰ã€‚ ç‰ˆæœ¬åº“ï¼šå·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•ã€‚gitï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯ Git çš„ç‰ˆæœ¬åº“ã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:0:0","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"ä»‹ç» https://git-scm.com/ å…ˆé€šè¿‡å‡ å¼ å›¾ç‰‡æ¥å¤§è‡´äº†è§£ä¸€ä¸‹ Git çš„å·¥ä½œåŸç†å§ï¼ æ–‡ç« å¼€å¤´çš„æµç¨‹å›¾å·²ç»ç®€å•æ˜äº†åœ°è¯´æ˜äº† Git å¸¸ç”¨æ“ä½œçš„å·¥ä½œæµç¨‹ï¼Œä¸‹å›¾æ¢ç§é£æ ¼å†å±•ç¤ºä¸€æ¬¡ï¼š æåˆ° Git å°±ä¼šè”æƒ³åˆ° github, ä¸‹å›¾ä» Git çš„è§’åº¦ç®€å•è¯´æ˜äº†ä¸€äº› Github å¸¸ç”¨æ“ä½œçš„å…³ç³»ï¼š ä¸‹é¢è¿™ä¸ªå›¾åˆ™å±•ç¤ºäº†å·¥ä½œåŒºã€ç‰ˆæœ¬åº“ä¸­çš„æš‚å­˜åŒºå’Œç‰ˆæœ¬åº“ä¹‹é—´çš„å…³ç³»ï¼š å›¾ä¸­å·¦ä¾§ä¸ºå·¥ä½œåŒºï¼Œå³ä¾§ä¸ºç‰ˆæœ¬åº“ã€‚åœ¨ç‰ˆæœ¬åº“ä¸­æ ‡è®°ä¸º \"index\" çš„åŒºåŸŸæ˜¯æš‚å­˜åŒºï¼ˆstage, indexï¼‰ï¼Œæ ‡è®°ä¸º â€œmasterâ€ çš„æ˜¯ master åˆ†æ”¯æ‰€ä»£è¡¨çš„ç›®å½•æ ‘ã€‚ HEAD æŒ‡é’ˆï¼šæ¯ä¸ª git ä»“åº“æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª HEAD æŒ‡é’ˆï¼Œå®ƒé€šå¸¸æŒ‡å‘ç•¶å‰æŸä¸ªæ´»å‹•çš„æœ¬åœ°åˆ†æ”¯æŒ‡é’ˆï¼ˆæœ€åˆæœ¬åœ°ä»“åº“ master)ã€‚ä¹Ÿå¯ä»¥æ˜¯æŸä¸ªæäº¤è®°å½•ã€æŸä¸ª tagï¼Œä½†è¿™ä¼šè®©å…¶å¤„äº detached HEADï¼ˆæ¸¸ç¦»å¤´ï¼‰çŠ¶æ€ï¼Œæ­¤çŠ¶æ€ä¸‹çš„æ‰€æœ‰æäº¤éƒ½æ— æ•ˆã€‚ å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ­¤æ—¶ \"HEAD\" å®é™…æ˜¯æŒ‡å‘ master åˆ†æ”¯çš„ä¸€ä¸ª\"æ¸¸æ ‡\"ã€‚æ‰€ä»¥å›¾ç¤ºçš„å‘½ä»¤ä¸­å‡ºç° HEAD çš„åœ°æ–¹å¯ä»¥ç”¨ master æ¥æ›¿æ¢ã€‚ å›¾ä¸­çš„objectsæ ‡è¯†çš„åŒºåŸŸä¸º Git çš„å¯¹è±¡åº“ï¼Œå®é™…ä½äº \".git/objects\" ç›®å½•ä¸‹ï¼Œé‡Œé¢åŒ…å«äº†åˆ›å»ºçš„å„ç§å¯¹è±¡åŠå†…å®¹ã€‚ å½“å¯¹å·¥ä½œåŒºä¿®æ”¹ï¼ˆæˆ–æ–°å¢ï¼‰çš„æ–‡ä»¶æ‰§è¡Œ \"git add\"å‘½ä»¤æ—¶ï¼Œæš‚å­˜åŒºçš„ç›®å½•æ ‘è¢«æ›´æ–°ï¼ŒåŒæ—¶å·¥ä½œåŒºä¿®æ”¹ï¼ˆæˆ–æ–°å¢ï¼‰çš„æ–‡ä»¶å†…å®¹è¢«å†™å…¥åˆ°å¯¹è±¡åº“ä¸­çš„ä¸€ä¸ªæ–°çš„å¯¹è±¡ä¸­ï¼Œè€Œè¯¥å¯¹è±¡çš„ ID è¢«è®°å½•åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶ç´¢å¼•ä¸­ã€‚ å½“æ‰§è¡Œæäº¤æ“ä½œï¼ˆgit commitï¼‰æ—¶ï¼Œæš‚å­˜åŒºçš„ç›®å½•æ ‘å†™åˆ°ç‰ˆæœ¬åº“ï¼ˆå¯¹è±¡åº“ï¼‰ä¸­ï¼Œmaster åˆ†æ”¯ä¼šåšç›¸åº”çš„æ›´æ–°ã€‚å³ master æŒ‡å‘çš„ç›®å½•æ ‘å°±æ˜¯æäº¤æ—¶æš‚å­˜åŒºçš„ç›®å½•æ ‘ã€‚ å½“æ‰§è¡Œ \"git reset HEAD\" å‘½ä»¤æ—¶ï¼Œæš‚å­˜åŒºçš„ç›®å½•æ ‘ä¼šè¢«é‡å†™ï¼Œè¢« master åˆ†æ”¯æŒ‡å‘çš„ç›®å½•æ ‘æ‰€æ›¿æ¢ï¼Œä½†æ˜¯å·¥ä½œåŒºä¸å—å½±å“ã€‚ å½“æ‰§è¡Œ \"git rm --cached \u003cfile\u003e\" å‘½ä»¤æ—¶ï¼Œä¼šç›´æ¥ä»æš‚å­˜åŒºåˆ é™¤æ–‡ä»¶ï¼Œå·¥ä½œåŒºåˆ™ä¸åšå‡ºæ”¹å˜ã€‚ å½“æ‰§è¡Œ \"git checkout .\" æˆ–è€… \"git checkout -- \u003cfile\u003e\" å‘½ä»¤æ—¶ï¼Œä¼šç”¨æš‚å­˜åŒºå…¨éƒ¨æˆ–æŒ‡å®šçš„æ–‡ä»¶æ›¿æ¢å·¥ä½œåŒºçš„æ–‡ä»¶ã€‚è¿™ä¸ªæ“ä½œå¾ˆå±é™©ï¼Œä¼šæ¸…é™¤å·¥ä½œåŒºä¸­æœªæ·»åŠ åˆ°æš‚å­˜åŒºçš„æ”¹åŠ¨ã€‚ å½“æ‰§è¡Œ \"git checkout HEAD .\" æˆ–è€… \"git checkout HEAD \u003cfile\u003e\" å‘½ä»¤æ—¶ï¼Œä¼šç”¨ HEAD æŒ‡å‘çš„ master åˆ†æ”¯ä¸­çš„å…¨éƒ¨æˆ–è€…éƒ¨åˆ†æ–‡ä»¶æ›¿æ¢æš‚å­˜åŒºå’Œä»¥åŠå·¥ä½œåŒºä¸­çš„æ–‡ä»¶ã€‚è¿™ä¸ªå‘½ä»¤ä¹Ÿæ˜¯æå…·å±é™©æ€§çš„ï¼Œå› ä¸ºä¸ä½†ä¼šæ¸…é™¤å·¥ä½œåŒºä¸­æœªæäº¤çš„æ”¹åŠ¨ï¼Œä¹Ÿä¼šæ¸…é™¤æš‚å­˜åŒºä¸­æœªæäº¤çš„æ”¹åŠ¨ã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:1:0","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"Git é…ç½® git config --global --list #æŸ¥çœ‹å…¨å±€é…ç½® git config --local --list #æŸ¥çœ‹æœ¬é¡¹ç›®é…ç½® # ç¬¬ä¸€æ¬¡ä½¿ç”¨ git çš„æ—¶å€™ï¼Œéœ€è¦è®¾ç½®ç”¨æˆ·ä¿¡æ¯å’Œç”¨æˆ·é‚®ç®±ï¼Œç”¨äºè¾¨è¯†æäº¤è€…èº«ä»½ git config --global user.name \"ç”¨æˆ·å\" git config --global user.email \"é‚®ç®±\" git config --global alias.cm commit git config --global alias.br branch # é…ç½®æŒ‡ä»¤åˆ«åç®€å†™ git config --global credential.helper store # è¾“å…¥ä¸€æ¬¡è´¦å·å¯†ç åç¬¬äºŒæ¬¡å°±ä¼šè®°ä½è´¦å·å¯†ç  git config --global core.ignorecase false # å…³é—­å¿½ç•¥å¤§å°å†™ git config --system core.longpaths true # é…ç½®é•¿è·¯å¾„ git config --global http.sslVerify false # ç¦ç”¨ SSL éªŒè¯ git config --global core.protectNTFS false # å…³é—­ NTFS æ–‡ä»¶ä¿æŠ¤ git config --global url.\"https://\".insteadOf git:// # git:// æŠ¥é”™ ","date":"2023-07-16","objectID":"/posts/introduction/:2:0","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"åŸºæœ¬æ“ä½œ git init ## æŠŠå½“å‰çš„ç›®å½•å˜æˆå¯ä»¥ç”¨ git è¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„ git ä»“åº“ï¼Œç”Ÿæˆéšè—ã€‚git æ–‡ä»¶ã€‚ git add XX ## æŠŠ xx æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå»ã€‚ git add â€“A ## git add --all çš„ç¼©å†™ï¼Œæ·»åŠ å…¨éƒ¨åˆ°æš‚å­˜åŒº git add â€“u ## æŠŠæ–‡ä»¶çš„åˆ é™¤å’Œä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆä¸åŒ…æ‹¬æ–°å¢ï¼‰ git add . ## ç›‘æ§å·¥ä½œåŒºçš„çŠ¶æ€æ ‘ï¼Œä½¿ç”¨å®ƒä¼šæŠŠå·¥ä½œæ—¶çš„æ‰€æœ‰å˜åŒ–æäº¤åˆ°æš‚å­˜åŒº git commit -m \"message\" ## ä»æš‚å­˜åŒºæäº¤åˆ°æœ¬åœ°ä»“åº“ git commit -a -m \"message\" ## ç›¸å½“äºçœç•¥ git addï¼Œä½†æ˜¯æ— æ³•æäº¤æ–°å¢çš„æ–‡ä»¶ git push origin master ## Git ä¼šæŠŠ master åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ä¸Š Tips Commit Message å†…å®¹å°½é‡è§„èŒƒï¼ å½“æŸä¸€æ¬¡æäº¤åï¼Œçªç„¶æƒ³èµ·æ¼æäº¤äº†æ–‡ä»¶ï¼Œæˆ–ä¸å°å¿ƒæäº¤äº†ä¸æ»¡æ„çš„ä»£ç æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨git commit --amend -m \"message\"æŒ‡ä»¤ã€‚å®ƒå¯ä»¥åœ¨ä¸å¢åŠ ä¸€ä¸ªæ–°çš„ commit-id çš„æƒ…å†µä¸‹å°†æ–°ä¿®æ”¹çš„ä»£ç è¿½åŠ åˆ°å‰ä¸€æ¬¡çš„ commit-id ä¸­ã€‚æäº¤ä¹‹å message ä¹Ÿå°†è¢«æœ¬æ¬¡çš„ message è¦†ç›–ï¼Œæ‰€ä»¥è¿˜éœ€è¦å†æ¬¡æ·»åŠ ä¸Šæ¬¡çš„ messageã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:2:1","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"push git push origin branch-name git push â€“u origin master git push origin --delete branch-name ## åˆ é™¤è¿œç¨‹åˆ†æ”¯ æŠŠå½“å‰ master åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“ï¼›-uè¡¨ç¤ºè®°ä½åˆ†æ”¯å’Œåœ°å€ï¼Œä¸‹æ¬¡ä½¿ç”¨git pushå³å¯ã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:2:2","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"remote git remote add origin reposityUrl ## å…³è”ä¸€ä¸ªè¿œç¨‹åº“ git remote ## æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯ git remote â€“v ## æŸ¥çœ‹è¿œç¨‹åº“çš„è¯¦ç»†ä¿¡æ¯ ","date":"2023-07-16","objectID":"/posts/introduction/:2:3","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"clone git clone reposityUrl ## ä»è¿œç¨‹åº“ä¸­å…‹éš† git clone -b branchName reposityUrl ## å…‹éš†æŒ‡å®šåˆ†æ”¯ ","date":"2023-07-16","objectID":"/posts/introduction/:2:4","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"pull git pull ä»è¿œç¨‹ä»“åº“æ‹‰ä¸‹æ¥åˆ°æœ¬åœ°åº“ç„¶ååˆå¹¶ç›¸å½“äºgit fetch+git mergeã€‚ ä¸€èˆ¬ push å‰å…ˆæ‹‰å»æœ€æ–°ç‰ˆæœ¬ï¼Œé¿å…ä»£ç å†²çªï¼Œå¦‚æœæœ‰å†²çªéœ€è¦è§£å†³äº†å†²çªæ‰èƒ½æäº¤ã€‚ import repositories åŒæ­¥æ›´æ–° git pull åŸé“¾æ¥ git push origin master ","date":"2023-07-16","objectID":"/posts/introduction/:2:5","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"fetch git fetch ## ä»è¿œç¨‹åº“æŠ“ä¸‹æœ€æ–°ç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸åˆå¹¶ fetch æ˜¯ä»è¿œç¨‹åº“åˆ°æœ¬åœ°åº“ï¼Œä½†æ˜¯æœªåœ¨å·¥ä½œåŒºï¼Œéœ€è¦git merge ","date":"2023-07-16","objectID":"/posts/introduction/:2:6","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"merge git merge dev ## åœ¨å½“å‰çš„åˆ†æ”¯ä¸Šåˆå¹¶ dev åˆ†æ”¯ åˆ†æ”¯åˆå¹¶ä¹Ÿæ˜¯åœ¨æœ¬åœ°å®Œæˆ (ä»æœ¬åœ°åº“åˆ°å·¥ä½œåŒº)ï¼Œæ–°çš„åˆ†æ”¯åªæœ‰åœ¨åˆå¹¶åæ‰å…è®¸è¢«åˆ é™¤ã€‚ å¦‚æœåˆ†æ”¯åˆå¹¶æ˜¯å‡ºç°å†²çªéœ€è¦è§£å†³äº†å†²çªæ‰èƒ½åˆå¹¶ï¼Œä½¿ç”¨git statusæŸ¥çœ‹å†²çªæ–‡ä»¶ã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:2:7","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"branch,checkout git branch ## æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„åˆ†æ”¯ git branch name ## åˆ›å»ºåˆ†æ”¯ git branch â€“r ## çœ‹è¿œç¨‹æ‰€æœ‰åˆ†æ”¯ git branch â€“a ## æŸ¥çœ‹æœ¬åœ°è¿œç¨‹åˆ†æ”¯ git branch â€“d name ## åˆ é™¤åˆ†æ”¯ git checkout name ## åˆ‡æ¢åˆ†æ”¯ git checkout â€“b name ## åˆ›å»ºå¹¶åˆ‡æ¢åˆ° name åˆ†æ”¯ä¸Š git checkout -- file git checkout -- fileç›¸å½“äºå–æ¶ˆå¯¹æ–‡æ¡£çš„ä¿®æ”¹ï¼Œå°†æœ€æ–°çš„æœ¬åœ°ç‰ˆæœ¬åº“çš„æœ¬æ–‡ä»¶å¤åˆ¶è¦†ç›–å®ƒã€‚ï¼ˆæ¯”è¾ƒå±é™©ï¼ï¼‰ ","date":"2023-07-16","objectID":"/posts/introduction/:2:8","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"reflog,log git log ## æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç‰ˆæœ¬ä¿¡æ¯ï¼šcommit idï¼Œæäº¤è€…ï¼Œæ—¥æœŸ git reflog ## æŸ¥çœ‹å†å²è®°å½•çš„ commit id Tips æƒ³çœ‹åˆ°è‡ªå·±çš„æ“ä½œè®°å½•ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ log ä¸ reflogï¼Œå®ƒä¸¤ä¸ªçš„åŒºåˆ«å¦‚ä¸‹ï¼š git logå‘½ä»¤å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç‰ˆæœ¬ä¿¡æ¯ï¼› å¦‚æœæ„Ÿè§‰å¤ªç¹çï¼Œå¯ä»¥åŠ ä¸Šå‚æ•°--pretty=onelineï¼Œåªä¼šæ˜¾ç¤ºç‰ˆæœ¬å·å’Œæäº¤æ—¶çš„å¤‡æ³¨ä¿¡æ¯ã€‚ git reflogå¯ä»¥æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æ‰€æœ‰æ“ä½œè®°å½•ã€‚ï¼ˆåŒ…æ‹¬å·²ç»è¢«åˆ é™¤çš„ commit è®°å½•å’Œ reset çš„æ“ä½œï¼‰ ","date":"2023-07-16","objectID":"/posts/introduction/:2:9","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"reset git reset --hard HEAD^ git reset --hard HEAD~ ## å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ git reset --hard HEAD~100 ## å›é€€åˆ° 100 ä¸ªç‰ˆæœ¬ git reset head -- file ## ä¸åŠ  file åˆ™å…¨éƒ¨é€€å› git reset file ## å°†æœ¬åœ°ä»“åº“çš„å½“å‰ç‰ˆæœ¬é€€å›è‡³æš‚å­˜åŒºï¼Œç›¸å½“äºå–æ¶ˆæš‚å­˜ ç‰ˆæœ¬é€€å›æ˜¯ä»æœ¬åœ°ä»“åº“åˆ°æš‚å­˜åŒºï¼Œå¦‚æœå·²ç»æäº¤è¿œç¨‹åº“ï¼Œæ­¤æ—¶çš„ç‰ˆæœ¬æ˜¯ä½äºæœ€æ–°çš„ç‰ˆæœ¬çš„ä¼šæ‹’ç»æäº¤ï¼Œ éœ€è¦ç”¨git push -f origin masterå¼ºåˆ¶æäº¤ã€‚ ç‰¹åˆ«æé†’ å¦‚æœä½ git reset --hard HEAD^+git push -f origin masteræ‰§è¡Œå®Œï¼Œgithub ä¸­çš„è®°å½•å’Œæœ¬åœ°æ–‡ä»¶éƒ½ä¼šå›åˆ°é€€å›çš„çŠ¶æ€ã€‚ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¿®æ”¹äº†ä¸€å¤©çš„ bug, å®Œå·¥åï¼Œä½ è¿™ä¸€å¥—æ“ä½œç›´æ¥æ‰“å›åŸå½¢ã€‚åˆ«æ…Œï¼ˆå®é™…å†…å¿ƒæ…Œçš„ä¸€éº»çš®ã€‚ï¼‰ é€šè¿‡git log -gå‘½ä»¤æ¥æ‰¾åˆ°éœ€è¦æ¢å¤çš„ä¿¡æ¯å¯¹åº”çš„ commitidï¼Œå¯ä»¥é€šè¿‡æäº¤çš„æ—¶é—´å’Œè®°å½•æ¥è¾¨åˆ«ï¼Œ æ‰¾åˆ°æ‰§è¡Œreset --hardä¹‹å‰çš„é‚£ä¸ª commit å¯¹åº”çš„ commit-id é€šè¿‡git branch recover_branch commit-idæ¥å»ºç«‹ä¸€ä¸ªæ–°çš„åˆ†æ”¯ è¿™æ ·ï¼Œå°±æŠŠåˆ° commitid ä¸ºæ­¢çš„ä»£ç ã€å„ç§æäº¤è®°å½•ç­‰ä¿¡æ¯éƒ½æ¢å¤åˆ°äº† recover_branch åˆ†æ”¯ä¸Šäº†ã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:2:10","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"status git status æŸ¥çœ‹ä½ çš„æ–‡ä»¶åœ¨æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•çš„çŠ¶æ€ï¼Œé»˜è®¤æ˜¯è¾ƒä¸ºè¯¦ç»†çš„æ˜¾ç¤ºï¼Œå¹¶æç¤ºä½ å¯ä»¥ç”¨ä½•ç§å‘½ä»¤å®Œæˆä½ æ¥ä¸‹æ¥å¯èƒ½è¦åšçš„äº‹æƒ…ã€‚ git status -s è¾ƒä¸ºç®€å•çš„è¾“å‡ºå½“å‰çš„çŠ¶æ€ï¼Œå¦‚ï¼š $ git status -s M README.md D hello.rb ?? world.java ä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç®€çŸ­è¾“å‡ºä¸­ï¼Œæœ‰ä¸¤æ ã€‚ç¬¬ä¸€æ æ˜¯æš‚å­˜åŒºçš„ï¼Œç¬¬äºŒæ åˆ™æ˜¯å·¥ä½œç›®å½•çš„ã€‚è¿™é‡Œè¡¨ç¤ºï¼š README.md åœ¨æš‚å­˜åŒºä¸­çš„çŠ¶æ€æ˜¯ modify hello.rb åœ¨å·¥ä½œç›®å½•ä¸­çš„çŠ¶æ€æ˜¯ delete world.java è¿˜æœªæ·»åŠ åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:2:11","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"diff git diff XX ## æŸ¥çœ‹ XX æ–‡ä»¶ä¿®æ”¹äº†å“ªäº›å†…å®¹ git diff ## å·¥ä½œç›®å½•å’Œæš‚å­˜åŒº git diff --cached ## æš‚å­˜åŒºå’Œæœ¬åœ°ä»“åº“ git diff HEAD ## å·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“ git diff --stat ## æ˜¾ç¤ºä¿¡æ¯æ‘˜è¦ ","date":"2023-07-16","objectID":"/posts/introduction/:2:12","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"rm, mv git rm ## å°†æ–‡ä»¶ä»æš‚å­˜åŒºå’Œå·¥ä½œç›®å½•åˆ é™¤ï¼Œ-f ä¸ºå¼ºåˆ¶åˆ é™¤ git rm filename ## åˆ é™¤æ–‡ä»¶ git rm â€“r dirname ## åˆ é™¤æ–‡ä»¶å¤¹ â€“r è¡¨ç¤ºé€’å½’æ‰€æœ‰å­ç›®å½• git rm --cached \u003cpath\u003e ## å°†æ–‡ä»¶ä»æš‚å­˜åŒºä¸­åˆ é™¤ git mv \u003cold_path\u003e \u003cnew_path\u003e git rmç”¨æ¥åˆ é™¤æ–‡ä»¶ã€ç›®å½•ã€‚git mvå‘½ä»¤ç”¨äºç§»åŠ¨æˆ–é‡å‘½åä¸€ä¸ªæ–‡ä»¶ã€ç›®å½•ã€‚ æ¯”å¦‚åˆ é™¤ photos æ–‡ä»¶ï¼Œæœ¬åœ°åˆ é™¤åï¼Œè¿œç¨‹ä»“åº“è¿˜ä¼šæœ‰ï¼Œæ‰€ä»¥ git rm -r photos git commit -m \"åˆ é™¤ç›¸å†Œ\" git push ","date":"2023-07-16","objectID":"/posts/introduction/:2:13","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"submodule git submodule add ## æ·»åŠ å­æ¨¡ç»„ git submodule init ## å­æ¨¡ç»„åˆå§‹åŒ– git submodule update ## å­æ¨¡ç»„æ›´æ–° git submodule -help Note å½“ä¸€ä¸ªè¿œç¨‹åº“æœ‰å­æ¨¡ç»„æ—¶ï¼Œç›´æ¥ clone å­æ¨¡ç»„åªæ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œéœ€è¦è¿›å…¥å­æ¨¡ç»„çš„ç©ºæ–‡ä»¶å¤¹initå’Œupdateæ‰è¡Œã€‚ æˆ–è€…ä½¿ç”¨é€’å½’å…‹éš†git clone --recursive è¿œç¨‹åº“ å­æ¨¡ç»„æ›´æ–°åï¼Œçˆ¶æ¨¡ç»„å¿…é¡»æ›´æ–°ï¼Œå› ä¸ºéœ€è¦æ›´æ–° commit idã€‚ ","date":"2023-07-16","objectID":"/posts/introduction/:2:14","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"tag git tag v1.0 git tag -a v1.0 ## ç»™æœ€æ–°ä¸€æ¬¡æäº¤æ‰“æ ‡ç­¾ git tag -a \u003ctagname\u003e -m \"æ ‡ç­¾\" ## æŒ‡å®šæ ‡ç­¾ä¿¡æ¯å‘½ä»¤ git show \u003ctagname\u003e ## æ˜¾ç¤ºæ ‡ç­¾ä¿¡æ¯ git tag ## æŸ¥çœ‹ç‰ˆæœ¬æ‰“çš„ Tag git tag -d v1.0 ## åˆ é™¤æœ¬åœ°æ ‡ç­¾ git push origin :refs/tags/v1.0 ## åˆ é™¤è¿œç¨‹æ ‡ç­¾ $ git push [remote] [tag] ## æäº¤æŒ‡å®š tag $ git push [remote] --tags ## æäº¤æ‰€æœ‰ tag Note å½“ä½ æ‰§è¡Œgit tag -aå‘½ä»¤æ—¶ï¼ŒGit ä¼šæ‰“å¼€ä½ çš„ç¼–è¾‘å™¨ï¼Œè®©ä½ å†™ä¸€å¥æ ‡ç­¾æ³¨è§£ï¼Œå°±åƒä½ ç»™æäº¤å†™æ³¨è§£ä¸€æ ·ã€‚ å¦‚æœæˆ‘ä»¬å¿˜äº†ç»™æŸä¸ªæäº¤æ‰“æ ‡ç­¾ï¼Œåˆå°†å®ƒå‘å¸ƒäº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒè¿½åŠ æ ‡ç­¾ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬å‘å¸ƒäº†æäº¤ 85fc7e7ï¼ˆæœ€åä¸€è¡Œï¼‰ï¼Œä½†æ˜¯é‚£æ—¶å€™å¿˜äº†ç»™å®ƒæ‰“æ ‡ç­¾ã€‚ æˆ‘ä»¬ç°åœ¨ä¹Ÿå¯ä»¥ï¼š $ git tag -a v0.9 85fc7e7 $ git log --oneline --decorate --graph * d5e9fc2 (HEAD -\u003e master) Merge branch 'change_site' |\\ | * 7774248 (change_site) changed the runoob.php * | c68142b ä¿®æ”¹ä»£ç  |/ * c1501a2 removed test.txtã€add runoob.php * 3e92c19 add test.txt * 3b58100 (tag: v0.9) ç¬¬ä¸€æ¬¡ç‰ˆæœ¬æäº¤ ","date":"2023-07-16","objectID":"/posts/introduction/:2:15","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"stash git stash ## æŠŠå½“å‰çš„å·¥ä½œéšè—èµ·æ¥ï¼Œç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œ git stash list ## æŸ¥çœ‹æ‰€æœ‰è¢«éšè—çš„æ–‡ä»¶åˆ—è¡¨ ","date":"2023-07-16","objectID":"/posts/introduction/:2:16","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"gitk gitk ## git è‡ªå¸¦ GUI gitk --all ","date":"2023-07-16","objectID":"/posts/introduction/:2:17","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"github,gitea ç­‰å¹³å° issue çš„å¸¸ç”¨æ ‡ç­¾ bug æè¿°çš„é—®é¢˜æ˜¯ä¸€ä¸ª bug enhancement åŠŸèƒ½å¢å¼ºï¼Œæ²¡æœ‰ feature ä¹Ÿå¯ä»¥æŒ‡ New feature or request feature æ–°åŠŸèƒ½ duplicate é—®é¢˜é‡å¤ invalid å¯ç”¨çš„ï¼Œä¸æ˜¯ bug question ç–‘é—®ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„ä¿¡æ¯ wontfix ä¸ä¼šä¿®å¤æ­¤é—®é¢˜ help-wanted éœ€è¦å¸®åŠ© good first issue Good for newcomers æ›´å¤šæ ‡ç­¾ ","date":"2023-07-16","objectID":"/posts/introduction/:3:0","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"license ","date":"2023-07-16","objectID":"/posts/introduction/:4:0","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"å…¶ä»– å¸¸ç”¨ Git å‘½ä»¤æ¸…å• github ä¸Š fork äº†åˆ«äººçš„é¡¹ç›®åï¼Œå†åŒæ­¥æ›´æ–°åˆ«äººçš„æäº¤ Gearn Git Branching ","date":"2023-07-16","objectID":"/posts/introduction/:5:0","tags":["Git"],"title":"Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€»","uri":"/posts/introduction/"},{"categories":["Git"],"content":"git command record as my cheatsheet ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:0","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"1. git rebase ref: https://git-scm.com/docs/git-rebase ç”¨æ³•ä¸€:git rebase \u003cbranch-name\u003e å°†topicåˆ†æ”¯çš„baseç”±Eæ”¹ä¸ºmaster A---B---C topic / D---E---F---G master è¿è¡Œ: git rebase master git rebase master topic ç»“æœ: A'--B'--C' topic / D---E---F---G master if upstream branch already has a change like below: A---B---C topic / D---E---A'---F master then run the command git rebase master, you will get following result: B'---C' topic / D---E---A'---F master ç”¨æ³•äºŒ:git rebase --onto assume topic is based on next, and next is based on master o---o---o---o---o master \\ o---o---o---o---o next \\ o---o---o topic run the command below: git rebase --onto master next topic then we get the result below: o---o---o---o---o master | \\ | o'--o'--o' topic \\ o---o---o---o---o next Another example: A range of commits could also be removed with rebase. If we have the following situation: E---F---G---H---I---J topicA then the command git rebase --onto topicA~5 topicA~3 topicA would result in the removal of commits F and G: E---H'---I'---J' topicA ç”¨æ³•ä¸‰:git rebase -i \u003ccommit_id\u003e \u003ccommit_id\u003e $\\mathbb{\\rightarrow}$ å°†å¤šä¸ªcommitåˆå¹¶ä¸ºä¸€ä¸ªã€‚ # æ‰§è¡Œgit logï¼Œå¾—åˆ°ä»¥ä¸‹commit_ids \u003e\u003e\u003e21fd585 \u003e\u003e\u003e45j3483 \u003e\u003e\u003e9i8975d \u003e\u003e\u003e73c20ec ç›®æ ‡: å°†21fd585ã€45j3483ã€9i8975d rebase åˆ° 73c20ec git rebase -i 73c20ec 21fd585 å¾—åˆ°: pick pick pick pick æ”¹ä¸º pick squash squash squash æœ€åï¼Œç¼–è¾‘commitå†…å®¹ï¼Œ å¾—åˆ° \u003e\u003e\u003eb8bec33 # æ­¤å¤„ä¸ºæ–°çš„commit \u003e\u003e\u003e73c20ec æ¨é€åˆ°remote: git push -f origin master ref: https://www.bilibili.com/video/BV15h411f74h/ https://blog.csdn.net/weixin_45953517/article/details/114362752 https://blog.csdn.net/weixin_44691608/article/details/118740059#t7 é‡åˆ°detached HEADçš„è§£å†³åŠæ³• git branch b1 git checkout master git merge b1 git push origin master git branch -d b1 ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:1","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"2. git cherrypick å°†æŒ‡å®šçš„æäº¤ç”¨äºå…¶ä»–åˆ†æ”¯ ä¾‹å¦‚: a - b - c - d Master \\ e - f - g Feature run the command below and apply commit(f) to master git checkout master git cherry-pick f get the result a - b - c - d - f Master \\ e - f - g Feature è½¬ç§»å¤šä¸ªæäº¤ # å°† A å’Œ B ä¸¤ä¸ªæäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ git cherry-pick \u003cHashA\u003e \u003cHashB\u003e æˆ–è€… # è¯¥å‘½ä»¤å¯ä»¥è½¬ç§»ä» A åˆ° B çš„æ‰€æœ‰æäº¤,å®ƒä»¬å¿…é¡»æŒ‰ç…§æ­£ç¡®çš„é¡ºåºæ”¾ç½®ï¼šæäº¤ A å¿…é¡»æ—©äºæäº¤ Bï¼Œå¦åˆ™å‘½ä»¤å°†å¤±è´¥ï¼Œä½†ä¸ä¼šæŠ¥é”™ã€‚ git cherry-pick A..B # ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œæäº¤ A å°†ä¸ä¼šåŒ…å«åœ¨ Cherry pick ä¸­ï¼Œ å¦‚æœè¦åŒ…å«æäº¤ Aï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•ã€‚ git cherry-pick A^..B ref:https://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:2","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"3. git submodule å°†ä¸€ä¸ªrepoæ·»åŠ ä¸ºsubmodule git submodule add https://github.com/chaconinc/DbConnector å…‹éš†å«æœ‰å­æ¨¡å—çš„é¡¹ç›® git clone https://github.com/chaconinc/MainProject #æ­¤æ—¶åŒ…å«å­æ¨¡å—ç›®å½•ï¼Œä½†æ˜¯å…¶ä¸­æ²¡æœ‰ä»»ä½•æ–‡ä»¶ cd MainProject cd DbConnector/ # æ­¤æ—¶æœ‰DbConnectorç›®å½•ï¼Œä½†æ˜¯æ–‡ä»¶å¤¹æ˜¯ç©ºçš„ git submodule init # ç”¨æ¥åˆå§‹åŒ–æœ¬åœ°é…ç½®æ–‡ä»¶ git submodule update # ä»è¯¥é¡¹ç›®ä¸­æŠ“å–å¹¶æ£€å‡ºçˆ¶é¡¹ç›®ä¸­åˆ—å‡ºçš„åˆé€‚çš„æäº¤ æˆ–è€… git clone --recurse-submodules https://github.com/chaconinc/MainProject æˆ–è€…å·²ç»å…‹éš†äº†é¡¹ç›®ï¼Œä½†æ˜¯å¿˜è®°--recurse-submodule, åˆ™ä½¿ç”¨ git submodule update --init --recursive ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:3","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"4. æ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ° æ‹‰å–æŸä¸€ä¸ªè¿œç¨‹çš„åˆ†æ”¯ï¼Œå¹¶åœ¨åˆ›å»ºç›¸åº”çš„æœ¬åœ°åˆ†æ”¯åç§° git fetch origin remote-branch-name git checkout -b local-branch-name origin/remote-branch-name ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:4","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"5. git tag ç”¨git tagæ‰“æ ‡ç­¾ git tag -a v1.0 git tag -a v0 85fc7e7 #è¿½åŠ æ ‡ç­¾ git clone æŒ‰ç…§tagæ‹‰å–ä»£ç  # git clone --branch [tagsæ ‡ç­¾] [gitåœ°å€] git clone -b v5.2.0 --depth=1 http://gitlabåœ°å€ ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:5","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"6. git stash git stash:éšè—ä¿®æ”¹ git stash # éšè—ä¿®æ”¹ git stash save \"stash-name\" #ç»™æ¯ä¸€ä¸ªstashå–åå­— git stash pop # æ¢å¤éšè—çš„ä¿®æ”¹ git stash list # åˆ—å‡ºæ‰€æœ‰çš„éšè— git stash apply [number] # æŒ‡å®šæ¢å¤ä½¿ç”¨å“ªä¸€ä¸ªéšè—ä¿®æ”¹ git stash drop # ç§»é™¤æŸä¸€é¡¹ä¿®æ”¹ git stash clear # åˆ é™¤æ‰€æœ‰éšè—çš„ä¿®æ”¹ git stash show # æŸ¥çœ‹éšè—çš„ä¿®æ”¹ git stash show -p git stash show --patch # æŸ¥çœ‹ç‰¹å®šçš„stashçš„diff ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:6","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"7. ä»£ç å›é€€: git reset/git revert ref:https://blog.csdn.net/weixin_35082950/article/details/113629326 æœ¬åœ°åˆ†æ”¯ç‰ˆæœ¬å›é€€çš„æ–¹æ³• git reflog # æ‰¾å›è¦å›é€€çš„ç‰ˆæœ¬çš„commit_id git reset --hard \u003ccommit_id\u003e è‡ªå·±çš„è¿œç¨‹åˆ†æ”¯ç‰ˆæœ¬å›é€€çš„æ–¹æ³• # å¦‚æœä½ çš„é”™è¯¯æäº¤å·²ç»æ¨é€åˆ°è‡ªå·±çš„è¿œç¨‹åˆ†æ”¯äº†ï¼Œé‚£ä¹ˆå°±éœ€è¦å›æ»šè¿œç¨‹åˆ†æ”¯äº†ã€‚ # 1. é¦–å…ˆè¦å›é€€æœ¬åœ°åˆ†æ”¯ï¼š git reflog git reset --hard \u003ccommit_id\u003e # 2. å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ git push -f å…¬å…±è¿œç¨‹åˆ†æ”¯ç‰ˆæœ¬å›é€€çš„é—®é¢˜ ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„é—®é¢˜ï¼šå¦‚æœä½ å›é€€å…¬å…±è¿œç¨‹åˆ†æ”¯ï¼ŒæŠŠåˆ«äººçš„æäº¤ç»™ä¸¢æ‰äº†æ€ä¹ˆåŠï¼Ÿ å‡è®¾ä½ çš„è¿œç¨‹masteråˆ†æ”¯æƒ…å†µæ˜¯è¿™æ ·çš„: A1â€“A2â€“B1 # å…¶ä¸­Aã€Båˆ†åˆ«ä»£è¡¨ä¸¤ä¸ªäººï¼ŒA1ã€A2ã€B1ä»£è¡¨å„è‡ªçš„æäº¤ã€‚å¹¶ä¸”æ‰€æœ‰äººçš„æœ¬åœ°åˆ†æ”¯éƒ½å·²ç»æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå’Œè¿œç¨‹åˆ†æ”¯ä¸€è‡´ã€‚ è¿™ä¸ªæ—¶å€™ä½ å‘ç°A2è¿™æ¬¡æäº¤æœ‰é”™è¯¯ï¼Œä½ ç”¨resetå›æ»šè¿œç¨‹åˆ†æ”¯masteråˆ°A1ï¼Œé‚£ä¹ˆç†æƒ³çŠ¶æ€æ˜¯ä½ çš„é˜Ÿå‹ä¸€æ‹‰ä»£ç git pullï¼Œä»–ä»¬çš„masteråˆ†æ”¯ä¹Ÿå›æ»šäº†ï¼Œç„¶è€Œç°å®å´æ˜¯ï¼Œä½ çš„é˜Ÿå‹ä¼šçœ‹åˆ°ä¸‹é¢çš„æç¤ºï¼š $ git status On branch master Your branch is ahead of 'origin/master' by 2 commits. (use \"git push\" to publish your local commits) nothing to commit, working directory clean ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ çš„é˜Ÿå‹çš„åˆ†æ”¯å¹¶æ²¡æœ‰ä¸»åŠ¨å›é€€ï¼Œè€Œæ˜¯æ¯”è¿œç¨‹åˆ†æ”¯è¶…å‰äº†ä¸¤æ¬¡æäº¤ï¼Œå› ä¸ºè¿œç¨‹åˆ†æ”¯å›é€€äº†å˜›ã€‚ git revert HEAD #æ’¤é”€æœ€è¿‘ä¸€æ¬¡æäº¤ git revert HEAD~1 #æ’¤é”€ä¸Šä¸Šæ¬¡çš„æäº¤ï¼Œæ³¨æ„ï¼šæ•°å­—ä»0å¼€å§‹ git revert 0ffaacc #æ’¤é”€0ffaaccè¿™æ¬¡æäº¤ git revert å‘½ä»¤æ„æ€æ˜¯æ’¤é”€æŸæ¬¡æäº¤ã€‚å®ƒä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„æäº¤ï¼Œè™½ç„¶ä»£ç å›é€€äº†ï¼Œä½†æ˜¯ç‰ˆæœ¬ä¾ç„¶æ˜¯å‘å‰çš„ï¼Œæ‰€ä»¥ï¼Œå½“ä½ ç”¨revertå›é€€ä¹‹åï¼Œæ‰€æœ‰äººpullä¹‹åï¼Œä»–ä»¬çš„ä»£ç ä¹Ÿè‡ªåŠ¨çš„å›é€€äº†ã€‚ ä½†æ˜¯ï¼Œè¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š 1ã€revert æ˜¯æ’¤é”€ä¸€æ¬¡æäº¤ï¼Œæ‰€ä»¥åé¢çš„commit idæ˜¯ä½ éœ€è¦å›æ»šåˆ°çš„ç‰ˆæœ¬çš„å‰ä¸€æ¬¡æäº¤ã€‚ 2ã€ä½¿ç”¨revert HEADæ˜¯æ’¤é”€æœ€è¿‘çš„ä¸€æ¬¡æäº¤ï¼Œå¦‚æœä½ æœ€è¿‘ä¸€æ¬¡æäº¤æ˜¯ç”¨revertå‘½ä»¤äº§ç”Ÿçš„ï¼Œé‚£ä¹ˆä½ å†æ‰§è¡Œä¸€æ¬¡ï¼Œå°±ç›¸å½“äºæ’¤é”€äº†ä¸Šæ¬¡çš„æ’¤é”€æ“ä½œï¼Œæ¢å¥è¯è¯´ï¼Œä½ è¿ç»­æ‰§è¡Œä¸¤æ¬¡revert HEADå‘½ä»¤ï¼Œå°±è·Ÿæ²¡æ‰§è¡Œæ˜¯ä¸€æ ·çš„ã€‚ 3ã€ä½¿ç”¨revert HEAD~1 è¡¨ç¤ºæ’¤é”€æœ€è¿‘2æ¬¡æäº¤ï¼Œè¿™ä¸ªæ•°å­—æ˜¯ä»0å¼€å§‹çš„ï¼Œå¦‚æœä½ ä¹‹å‰æ’¤é”€è¿‡äº§ç”Ÿäº†commi idï¼Œé‚£ä¹ˆä¹Ÿä¼šè®¡ç®—åœ¨å†…çš„ã€‚ 4ã€å¦‚æœä½¿ç”¨ revert æ’¤é”€çš„ä¸æ˜¯æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œé‚£ä¹ˆä¸€å®šä¼šæœ‰ä»£ç å†²çªï¼Œéœ€è¦ä½ åˆå¹¶ä»£ç ï¼Œåˆå¹¶ä»£ç åªéœ€è¦æŠŠå½“å‰çš„ä»£ç å…¨éƒ¨å»æ‰ï¼Œä¿ç•™ä¹‹å‰ç‰ˆæœ¬çš„ä»£ç å°±å¯ä»¥äº†ã€‚ git revert å‘½ä»¤çš„å¥½å¤„å°±æ˜¯ä¸ä¼šä¸¢æ‰åˆ«äººçš„æäº¤ï¼Œå³ä½¿ä½ æ’¤é”€åè¦†ç›–äº†åˆ«äººçš„æäº¤ï¼Œä»–æ›´æ–°ä»£ç åï¼Œå¯ä»¥åœ¨æœ¬åœ°ç”¨ reset å‘å‰å›æ»šï¼Œæ‰¾åˆ°è‡ªå·±çš„ä»£ç ï¼Œç„¶åæ‹‰ä¸€ä¸‹åˆ†æ”¯ï¼Œå†å›æ¥åˆå¹¶ä¸Šå»å°±å¯ä»¥æ‰¾å›è¢«ä½ è¦†ç›–çš„æäº¤äº†ã€‚ revert åˆå¹¶ä»£ç ï¼Œè§£å†³å†²çª ä½¿ç”¨revertå‘½ä»¤ï¼Œå¦‚æœä¸æ˜¯æ’¤é”€çš„æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œé‚£ä¹ˆä¸€å®šä¼šæœ‰å†²çªï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å…¨éƒ¨æ¸…ç©º ç¬¬ä¸€æ¬¡æäº¤ è§£å†³å†²çªå¾ˆç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬åªæƒ³å›åˆ°æŸæ¬¡æäº¤ï¼Œå› æ­¤éœ€è¦æŠŠå½“å‰æœ€æ–°çš„ä»£ç å»æ‰å³å¯ï¼Œä¹Ÿå°±æ˜¯HEADæ ‡è®°çš„ä»£ç : \u003c\u003c\u003c\u003c\u003c\u003c\u003c HEAD å…¨éƒ¨æ¸…ç©º ç¬¬ä¸€æ¬¡æäº¤ ======= æŠŠä¸Šé¢éƒ¨åˆ†ä»£ç å»æ‰å°±å¯ä»¥äº†ï¼Œç„¶åå†æäº¤ä¸€æ¬¡ä»£ç å°±å¯ä»¥è§£å†³å†²çªäº†ã€‚ ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:7","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"8. git branch å°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å…³è”: git branch --set-upstream=origin/remote_branch your_branch ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:8","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"9. git commit git commit --amend: æäº¤å°ä¿®æ”¹ä½†æ˜¯ä¸å¢åŠ commit_id: git add . git commmit --amend # æ­¤é™¤å¯ä»¥ä¿®æ”¹commit message git push origin master ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:9","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"10. git pull ç¤ºä¾‹: git pull \u003cè¿œç¨‹ä¸»æœºå\u003e \u003cè¿œç¨‹åˆ†æ”¯å\u003e:\u003cæœ¬åœ°åˆ†æ”¯å\u003e Examplesï¼š å–å›originä¸»æœºçš„nextåˆ†æ”¯ï¼Œä¸æœ¬åœ°çš„masteråˆ†æ”¯åˆå¹¶ git pull origin next:master è¿œç¨‹åˆ†æ”¯(next)è¦ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚ git pull origin next å¦‚æœå½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å­˜åœ¨è¿½è¸ªå…³ç³»ï¼Œgit pullå°±å¯ä»¥çœç•¥è¿œç¨‹åˆ†æ”¯å git pull origin å¦‚æœå½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿½è¸ªåˆ†æ”¯ï¼Œè¿è¿œç¨‹ä¸»æœºåéƒ½å¯ä»¥çœç•¥ git pull ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:10","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Git"],"content":"11. git clone ","date":"2023-07-16","objectID":"/posts/gitnotes1/:1:11","tags":["draft"],"title":"Git Command Notes","uri":"/posts/gitnotes1/"},{"categories":["Pandas"],"content":"Pandas Notes ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:0:0","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"Input/Output pd.read_csv(filepath): è¯»å–csvæ–‡ä»¶ ref: https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html?highlight=read_csv pd.read_pickle():è¯»å–pickleæ•°æ® import pandas pandas.read_pickle(filepath_or_buffer, compression='infer', storage_options=None) ref: https://pandas.pydata.org/docs/reference/api/pandas.read_pickle.html Parameters: filepath_or_buffer: æ–‡ä»¶åæˆ–è€…æ–‡ä»¶è·¯å¾„ å­—ç¬¦ä¸²ã€è·¯å¾„å¯¹è±¡(å®ç° os.PathLike[str] )æˆ– file-like å¯¹è±¡å®ç°äºŒè¿›åˆ¶ readlines() å‡½æ•°ã€‚ compression: str or dict, default â€˜inferâ€™ ç”¨äºon-disk æ•°æ®çš„å³æ—¶è§£å‹ç¼©ã€‚å¦‚æœ â€˜inferâ€™ å’Œ â€˜filepath_or_bufferâ€™ æ˜¯ path-likeï¼Œåˆ™ä»ä»¥ä¸‹æ‰©å±•åæ£€æµ‹å‹ç¼©ï¼šâ€œ.gzâ€ã€â€œ.bz2â€ã€â€œ.zipâ€ã€â€œ.xzâ€æˆ–â€œ.zstâ€(å¦åˆ™ä¸å‹ç¼©)ã€‚å¦‚æœä½¿ç”¨â€˜zipâ€™ï¼ŒZIP æ–‡ä»¶å¿…é¡»åªåŒ…å«ä¸€ä¸ªè¦è¯»å…¥çš„æ•°æ®æ–‡ä»¶ã€‚è®¾ç½®ä¸ºNone ä¸è§£å‹ç¼©ã€‚ä¹Ÿå¯ä»¥æ˜¯é”® â€˜methodâ€™ è®¾ç½®ä¸º {'zip' , 'gzip' , 'bz2' , 'zstd' } ä¹‹ä¸€çš„å­—å…¸ï¼Œå…¶ä»–é”®å€¼å¯¹åˆ†åˆ«è½¬å‘åˆ° zipfile.ZipFile , gzip.GzipFile , bz2.BZ2File æˆ– zstandard.ZstdDecompressor ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å‹ç¼©å­—å…¸ä¸º Zstandard è§£å‹ç¼©ä¼ é€’ä»¥ä¸‹å†…å®¹ï¼šcompression={â€˜methodâ€™: â€˜zstdâ€™, â€˜dict_dataâ€™: my_compression_dict}ã€‚ storage_options: dict, optional å¯¹ç‰¹å®šå­˜å‚¨è¿æ¥æœ‰æ„ä¹‰çš„é¢å¤–é€‰é¡¹ï¼Œä¾‹å¦‚ä¸»æœºã€ç«¯å£ã€ç”¨æˆ·åã€å¯†ç ç­‰ã€‚å¯¹äº HTTP(S) URLï¼Œé”®å€¼å¯¹ä½œä¸ºæ ‡å¤´é€‰é¡¹è½¬å‘åˆ° urllibã€‚å¯¹äºå…¶ä»– URL(ä¾‹å¦‚ä»¥ â€œs3://â€ å’Œ â€œgcs://â€ å¼€å¤´)ï¼Œé”®å€¼å¯¹è¢«è½¬å‘åˆ°fsspec ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…fsspecå’Œurllibã€‚ ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:1:0","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"General functions é€šç”¨å‡½æ•° ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:2:0","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"Series ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:3:0","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"DataFrame DataFrameæ˜¯ä¸€ä¸ªã€è¡¨æ ¼å‹ã€‘çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥çœ‹åšæ˜¯ã€ç”±Seriesç»„æˆçš„å­—å…¸ã€‘ï¼ˆå…±ç”¨åŒä¸€ä¸ªç´¢å¼•ï¼‰ã€‚DataFrameç”±æŒ‰ä¸€å®šé¡ºåºæ’åˆ—çš„å¤šåˆ—æ•°æ®ç»„æˆã€‚è®¾è®¡åˆè¡·æ˜¯å°†Seriesçš„ä½¿ç”¨åœºæ™¯ä»ä¸€ç»´æ‹“å±•åˆ°å¤šç»´ã€‚ ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:4:0","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"Constructor DataFrame[data, index, columns, dtype, copy]: æ„é€ ä¸€ä¸ªDataFrameå¯¹è±¡ ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:4:1","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"Attributes and underlying data DataFrame.index: è¡Œæ ‡ç­¾(è¡Œä¿¡æ¯)-\u003eç¬¬0åˆ—çš„ä¿¡æ¯ DataFrame.columns: åˆ—æ ‡ç­¾(åˆ—ä¿¡æ¯)-\u003e ç¬¬0è¡Œçš„ä¿¡æ¯ DataFrame.dtypes: è¿”å›DataFrameçš„æ•°æ®ç±»å‹ DataFrame.info([verbose, buf, max_cols, ...]): è¿”å›dfçš„ä¿¡æ¯ DataFrame.select_dtypes([include, exclude]): è¿”å›DataFrameä¸­æ ¹æ®columnsç­›é€‰çš„éƒ¨åˆ†æ•°æ® DataFrame.values: ä»¥numpyæ•°ç»„çš„å½¢å¼è¿”å›æ•°æ® DataFrame.axes: è¿”å›ä¸€ä¸ªlistï¼Œå…¶ä¸­æ˜¯dfçš„axes DataFrame.ndim: è¿”å›intï¼Œä»£è¡¨axes/arrayçš„æ•°é‡ DataFrame.shape: è¿”å›tuple, ä»£è¡¨dfç»´åº¦ DataFrame.memory_usage([index, deep]): è¿”å›æ•°æ®å†…å­˜ä½¿ç”¨æƒ…å†µ DataFrame.empty: åˆ¤æ–­dfæ˜¯å¦ä¸ºç©º DataFrame.set_flags(*[, copy, ...]): è¿”å›å¸¦æœ‰æ›´æ–°æ ‡è®°çš„df DataFrame.set_flags(*, copy=False, allows_duplicate_labels=None) å‚æ•°ï¼šallows_duplicate_labelsï¼šå¸ƒå°”å‹ï¼Œå¯é€‰ã€‚è¿”å›çš„å¯¹è±¡æ˜¯å¦å…è®¸é‡å¤æ ‡ç­¾ã€‚ è¿”å›ï¼šSeriesæˆ–DataFrame, ä¸è°ƒç”¨è€…ç›¸åŒçš„ç±»å‹ã€‚ æ³¨æ„ï¼šæ­¤æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ˜¯ä¸è¾“å…¥æ•°æ®ç›¸åŒçš„è§†å›¾ã€‚æ”¹å˜è¾“å…¥æˆ–è¾“å‡ºå€¼å°†åæ˜ åœ¨å¦ä¸€ä¸ªä¸­ã€‚æ­¤æ–¹æ³•æ—¨åœ¨ç”¨äºæ–¹æ³•é“¾ä¸­ã€‚â€œFlagsâ€ ä¸ â€œmetadataâ€ ä¸åŒã€‚æ ‡å¿—åæ˜ äº† pandas å¯¹è±¡(Series æˆ– DataFrame)çš„å±æ€§ã€‚å…ƒæ•°æ®æ˜¯ index æ®é›†çš„å±æ€§ï¼Œåº”å­˜å‚¨åœ¨ DataFrame.attrs ä¸­ã€‚ demo: \u003e\u003e\u003e df = pd.DataFrame({\"A\":[1, 2]}) \u003e\u003e\u003e df.flags.allows_duplicate_labels True \u003e\u003e\u003e df2 = df.set_flags(allows_duplicate_labels=False) \u003e\u003e\u003e df2.flags.allows_duplicate_labels False DataFrame.groupby(): ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:4:2","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"Conversion DataFrame.astype(dtype[,copy, errors]):æ•°æ®ç±»å‹è½¬æ¢ DataFrame.convert_dtypes([infer_objects, ...]):æ ¹æ®ç°å­˜æ•°æ®æ¨æ–­pd.NAæ•°æ®ç±»å‹ DataFrame.infer_objects():æ ¹æ®ç°æœ‰æ•°æ®å¤§éƒ¨åˆ†æ•°æ®æ¨æ–­ç±»å‹ DataFrame.copy([deep]):æ·±åº¦æ‹·è´ demo s = pd.Series([1,2], index=[\"a\",\"b\"]) deep = s.copy()# æ·±æ‹·è´ shallow = s.copy(deep=False) # æµ…æ‹·è´ DataFrame.bool():åˆ¤æ–­æ•°æ®æ˜¯tureè¿˜æ˜¯falseï¼Œåªé’ˆå¯¹å•ä¸ªå…ƒç´ å¯¹è±¡ ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:4:3","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Pandas"],"content":"Indexingï¼Œiteration DataFrame.head([n]): return the first n rows DataFrame.at[4,'B']: ç”¨æ ‡ç­¾å–å€¼(è¡Œåä¸º4ï¼Œåˆ—åä¸ºBçš„å€¼) DataFrame.iat[1,2]: ç”¨è¡Œåˆ—çš„æ•´æ•°å–å€¼(ç¬¬1è¡Œ,ç¬¬äºŒåˆ—çš„å€¼) DataFrame.loc['cobra':'viper', 'max_speed']: å–è¡Œåä¸ºâ€™cobraâ€™è‡³â€™viperâ€™, åˆ—åä¸ºâ€™max_speedâ€™çš„å€¼ DataFrame.iloc: é€šè¿‡è¡Œåˆ—çš„å€¼å–å€¼ df.iloc[0]:å–ç¬¬0è¡Œï¼Œæ‰€æœ‰åˆ—çš„å€¼ï¼Œè¿”å›seriesç±»å‹ df.iloc[[0]]:å–å¾—ç¬¬0è¡Œï¼Œæ‰€æœ‰åˆ—çš„å€¼ï¼Œè¿”å›dfç±»å‹ df.iloc[[0,1]]:å–å¾—ç¬¬0è¡Œå’Œç¬¬1è¡Œçš„æ‰€æœ‰åˆ—çš„å€¼ df.iloc[:3]:å–å¾—ç¬¬0ï¼Œ1ï¼Œ2è¡Œçš„å€¼ df.iloc[[True, False, True]]: ç”¨True/Falseæ ‡è®°è¦å–çš„è¡Œ df.iloc[lambda x:x.index % 2 == 0]: ç”¨lambdaæ ‡è®°è¦å–çš„è¡Œ df.iloc[0,1]:å–å¾—ç¬¬0è¡Œï¼Œç¬¬1åˆ—çš„å€¼ df.iloc[[0,2],[1,3]]: å–å¾—ç¬¬0è¡Œï¼Œç¬¬2è¡Œï¼Œç¬¬1åˆ—ï¼Œç¬¬3åˆ—çš„å€¼ df.iloc[1:3, 0:3]: å–å¾—ç¬¬1è¡Œï¼Œç¬¬2è¡Œï¼Œç¬¬0åˆ—ï¼Œç¬¬1åˆ—ï¼Œç¬¬2åˆ—çš„å€¼ df.iloc[:, [True,False,True,False]]:å–æ‰€æœ‰çš„è¡Œï¼Œç”¨True/Falseå–ç›¸åº”çš„åˆ— df.iloc[:,lambda df:[0,2]]: å–æ‰€æœ‰çš„è¡Œï¼Œå–ç¬¬0åˆ—ï¼Œç¬¬2åˆ— df.insert(loc, column, value, allow_duplicates=False):æ’å…¥ç›¸åº”çš„åˆ— loc:(int), åˆ—çš„ä½ç½® column: åˆ—çš„åå­—ï¼Œä¸€èˆ¬ç±»å‹ä¸ºstring value: åˆ—æ•°æ®çš„å€¼ df.drop():åˆ é™¤å›ºå®šçš„è¡Œæˆ–è€…åˆ— df.drop_duplicates(subset, keep, inplace=False,ignore_index=False):åˆ é™¤é‡å¤çš„è¡Œæˆ–è€…åˆ— subset: æ ¹æ®æŸä¸€åˆ—çš„å€¼ï¼Œåˆ é™¤è¡Œæ•°æ® keep: è®¾ç½®ä¿ç•™ç¬¬ä¸€æ¬¡å‡ºç°çš„æ•°æ®æˆ–è€…æœ€åä¸€æ¬¡å‡ºç°çš„æ•°æ® ","date":"2023-07-15","objectID":"/posts/pandasnotes1/:4:4","tags":["draft"],"title":"Pandas Notes 1","uri":"/posts/pandasnotes1/"},{"categories":["Python"],"content":"pythonæ–‡ä»¶ç›¸å…³ ","date":"2023-07-15","objectID":"/posts/pythonnotes1/:1:0","tags":["draft"],"title":"Python Notes 1","uri":"/posts/pythonnotes1/"},{"categories":["Python"],"content":"os.pathæ¨¡å— os.path.exists(): åˆ¤æ–­å½“å‰ç›®å½•ä»¥åŠæ–‡ä»¶æ˜¯å¦å­˜åœ¨ os.path.mkdir(): è‹¥ç›®å½•æˆ–æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º import os # ç›®å½• dirs = '/Users/joseph/work/python/' if not os.path.exists(dirs): os.makedirs(dirs) # æ–‡ä»¶ filename = '/Users/joseph/work/python/poem.txt' if not os.path.exists(filename): os.system(r\"touch {}\".format(path))#è°ƒç”¨ç³»ç»Ÿå‘½ä»¤è¡Œæ¥åˆ›å»ºæ–‡ä»¶ os.listdir()ï¼š ç”¨äºè¿”å›æŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ # æ‰“å¼€æ–‡ä»¶ path = \"/var/www/html/\" # å¦‚æœç›®å½•åå­—ä¸ºä¸­æ–‡ éœ€è¦è½¬ç å¤„ç† path = unicode(path,'utf-8') dirs = os.listdir(path) # è¾“å‡ºæ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ for file in dirs: print(file) os.path.join(): è·¯å¾„æ‹¼æ¥ import os path = \"/home\" # Join various path components print(os.path.join(path, \"User/Desktop\", \"file.txt\")) # /home/User/Desktop/file.txt path = \"User/Documents\" # Join various path components print(os.path.join(path, \"/home\", \"file.txt\")) # /home/file.txt # In above example '/home' # represents an absolute path # so all previous components i.e User / Documents # are thrown away and joining continues # from the absolute path component i.e / home. print(os.path.join(path, \"Downloads\", \"file.txt\", \"/home\")) # /home # In above example '/User' and '/home' # both represents an absolute path # but '/home' is the last value # so all previous components before '/home' # will be discarded and joining will # continue from '/home' os.path.abspath(path): è¿”å›ç»å¯¹è·¯å¾„ os.path.basename(path): è¿”å›æ–‡ä»¶å os.path.commonprefix(list): è¿”å›list(å¤šä¸ªè·¯å¾„)ä¸­ï¼Œæ‰€æœ‰pathå…±æœ‰çš„æœ€é•¿çš„è·¯å¾„ os.path.dirname(path): è¿”å›æ–‡ä»¶è·¯å¾„ os.path.expanduser(path): æŠŠpathä¸­åŒ…å«çš„\"~â€œå’Œâ€~user\"è½¬æ¢æˆç”¨æˆ·ç›®å½• os.path.expandvars(path): æ ¹æ®ç¯å¢ƒå˜é‡çš„å€¼æ›¿æ¢pathä¸­åŒ…å«çš„ â€œ$nameâ€ å’Œ â€œ${name}â€ os.path.getatime(path): è¿”å›æœ€è¿‘è®¿é—®æ—¶é—´(æµ®ç‚¹å‹ç§’æ•°) os.path.getmtime(path): è¿”å›æœ€è¿‘æ–‡ä»¶ä¿®æ”¹æ—¶é—´ os.path.getctime(path): è¿”å›æ–‡ä»¶ path åˆ›å»ºæ—¶é—´ os.path.getsize(path): è¿”å›æ–‡ä»¶å¤§å°ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±è¿”å›é”™è¯¯ os.path.isfile(path): åˆ¤æ–­è·¯å¾„æ˜¯å¦ä¸ºæ–‡ä»¶ os.path.isdir(path): åˆ¤æ–­è·¯å¾„æ˜¯å¦ä¸ºç›®å½• os.path.islink(path): åˆ¤æ–­è·¯å¾„æ˜¯å¦ä¸ºé“¾æ¥ os.path.ismount(path): åˆ¤æ–­è·¯å¾„æ˜¯å¦ä¸ºæŒ‚è½½ç‚¹ os.path.normcase(path): è½¬æ¢pathçš„å¤§å°å†™å’Œæ–œæ  os.path.normpath(path): è§„èŒƒpathå­—ç¬¦ä¸²å½¢å¼ os.path.realpath(path): è¿”å›pathçš„çœŸå®è·¯å¾„ os.path.relpath(path[, start]): ä»startå¼€å§‹è®¡ç®—ç›¸å¯¹è·¯å¾„ os.path.samefile(path1, path2): åˆ¤æ–­ç›®å½•æˆ–æ–‡ä»¶æ˜¯å¦ç›¸åŒ os.path.sameopenfile(fp1, fp2): åˆ¤æ–­fp1å’Œfp2æ˜¯å¦æŒ‡å‘åŒä¸€æ–‡ä»¶ os.path.samestat(stat1, stat2): åˆ¤æ–­stat tuple stat1å’Œstat2æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ os.path.split(path): æŠŠè·¯å¾„åˆ†å‰²æˆ dirname å’Œ basenameï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„ os.path.splitdrive(path): ä¸€èˆ¬ç”¨åœ¨ windows ä¸‹ï¼Œè¿”å›é©±åŠ¨å™¨åå’Œè·¯å¾„ç»„æˆçš„å…ƒç»„ os.path.splitext(path): åˆ†å‰²è·¯å¾„ï¼Œè¿”å›è·¯å¾„åå’Œæ–‡ä»¶æ‰©å±•åçš„å…ƒç»„ os.path.splitunc(path): æŠŠè·¯å¾„åˆ†å‰²ä¸ºåŠ è½½ç‚¹ä¸æ–‡ä»¶ os.path.walk(path, visit, arg): éå†pathï¼Œè¿›å…¥æ¯ä¸ªç›®å½•éƒ½è°ƒç”¨visitå‡½æ•°ï¼Œvisitå‡½æ•°å¿…é¡»æœ‰3ä¸ªå‚æ•°(arg, dirname, names)ï¼Œdirnameè¡¨ç¤ºå½“å‰ç›®å½•çš„ç›®å½•åï¼Œnamesä»£è¡¨å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åï¼Œargsåˆ™ä¸ºwalkçš„ç¬¬ä¸‰ä¸ªå‚æ•° os.walk(path,topdown=True,onerror=None): å‡½æ•°è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œå«æœ‰ä¸‰ä¸ªå…ƒç´ ã€‚è¿™ä¸‰ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ï¼šæ¯æ¬¡éå†çš„è·¯å¾„åã€è·¯å¾„ä¸‹å­ç›®å½•åˆ—è¡¨ã€ç›®å½•ä¸‹æ–‡ä»¶åˆ—è¡¨ã€‚ path = 'xxx/xxx' for root, dirs, files in os.walk(path): print(root) # pathä»¥åŠpathä¸‹çš„ç›®å½• print(dirs) # pathä¸‹çš„æ–‡ä»¶å¤¹ print(files) # pathä¸‹æ¯ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ åŒºåˆ«ï¼šos.path.walk()ä¸os.walk()äº§ç”Ÿçš„æ–‡ä»¶ååˆ—è¡¨å¹¶ä¸ç›¸åŒ.os.walk()äº§ç”Ÿç›®å½•æ ‘ä¸‹çš„ç›®å½•è·¯å¾„å’Œæ–‡ä»¶è·¯å¾„ï¼Œè€Œos.path.walk()åªäº§ç”Ÿæ–‡ä»¶è·¯å¾„ï¼ˆæ˜¯å­ç›®å½•ä¸æ–‡ä»¶çš„æ··åˆåˆ—è¡¨ï¼‰ã€‚ ref: https://www.cnblogs.com/zmlctt/p/4222621.html os.path.supports_unicode_filenames: è®¾ç½®æ˜¯å¦æ”¯æŒunicodeè·¯å¾„å ","date":"2023-07-15","objectID":"/posts/pythonnotes1/:1:1","tags":["draft"],"title":"Python Notes 1","uri":"/posts/pythonnotes1/"},{"categories":["draft"],"content":"ref: [1] https://chenllliang.github.io/2020/02/04/dataloader/ [2] https://blog.csdn.net/zyq12345678/article/details/90268668 [3] https://cloud.tencent.com/developer/article/1877393 ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:0:0","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"Dataset PyTorchä¸ºæˆ‘ä»¬æä¾›çš„ä¸¤ä¸ªDatasetå’ŒDataLoaderç±»åˆ†åˆ«è´Ÿè´£å¯è¢«Pytorchä½¿ç”¨çš„æ•°æ®é›†çš„åˆ›å»ºä»¥åŠå‘è®­ç»ƒä¼ é€’æ•°æ®çš„ä»»åŠ¡ã€‚å¦‚æœæƒ³ä¸ªæ€§åŒ–è‡ªå·±çš„æ•°æ®é›†æˆ–è€…æ•°æ®ä¼ é€’æ–¹å¼ï¼Œä¹Ÿå¯ä»¥è‡ªå·±é‡å†™å­ç±»ã€‚ Datasetæ˜¯DataLoaderå®ä¾‹åŒ–çš„ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¼šå…ˆä»Datasetçš„æºä»£ç è®²èµ·ï¼Œç„¶åè®²åˆ°DataLoaderï¼Œå…³æ³¨ä¸»è¦å‡½æ•°ï¼Œå°‘ç»†ææœ«èŠ‚ï¼Œç›®çš„æ˜¯ä½¿å¤§å®¶å­¦ä¼šè‡ªå®šä¹‰è‡ªå·±çš„æ•°æ®é›†ã€‚ ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:1:0","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Dataset CIFAR10æ˜¯CVè®­ç»ƒä¸­ç»å¸¸ä½¿ç”¨åˆ°çš„ä¸€ä¸ªæ•°æ®é›†ï¼Œåœ¨PyTorchä¸­CIFAR10æ˜¯ä¸€ä¸ªå†™å¥½çš„Datasetï¼Œæˆ‘ä»¬ä½¿ç”¨æ—¶åªéœ€ä»¥ä¸‹ä»£ç ï¼š data = datasets.CIFAR10(\"./data/\", transform=transform, train=True, download=True) datasets.CIFAR10å°±æ˜¯ä¸€ä¸ªDatasetså­ç±»ï¼Œdataæ˜¯è¿™ä¸ªç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚ æˆ‘ä»¬æœ‰çš„æ—¶å€™éœ€è¦ç”¨è‡ªå·±åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ•°æ®ä½œä¸ºæ•°æ®é›†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ImageFolderè¿™ä¸ªæ–¹ä¾¿çš„APIã€‚ FaceDataset = datasets.ImageFolder('./data', transform=img_transform) ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:1:1","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"å¦‚ä½•å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„æ•°æ®é›†åˆ torch.utils.data.dataset æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ•°æ®é›†çš„æŠ½è±¡ç±»ã€‚ä»»ä½•è‡ªå®šä¹‰çš„æ•°æ®é›†éƒ½éœ€è¦ç»§æ‰¿è¿™ä¸ªç±»å¹¶è¦†å†™ç›¸å…³æ–¹æ³•ã€‚ æ‰€è°“æ•°æ®é›†ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªè´Ÿè´£å¤„ç†ç´¢å¼•(index)åˆ°æ ·æœ¬(sample)æ˜ å°„çš„ä¸€ä¸ªç±»(class)ã€‚ Pytorchæä¾›ä¸¤ç§æ•°æ®é›†ï¼š Mapå¼æ•°æ®é›† Iterableå¼æ•°æ®é›† Mapå¼æ•°æ®é›† ä¸€ä¸ªMapå¼çš„æ•°æ®é›†å¿…é¡»è¦é‡å†™__getitem__(self, index), len(self) ä¸¤ä¸ªå†…å»ºæ–¹æ³•ï¼Œç”¨æ¥è¡¨ç¤ºä»ç´¢å¼•åˆ°æ ·æœ¬çš„æ˜ å°„(Map). è¿™æ ·ä¸€ä¸ªæ•°æ®é›†datasetï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå½“ä½¿ç”¨dataset[idx]å‘½ä»¤æ—¶ï¼Œå¯ä»¥åœ¨ä½ çš„ç¡¬ç›˜ä¸­è¯»å–ä½ çš„æ•°æ®é›†ä¸­ç¬¬idxå¼ å›¾ç‰‡ä»¥åŠå…¶æ ‡ç­¾ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰;len(dataset)åˆ™ä¼šè¿”å›è¿™ä¸ªæ•°æ®é›†çš„å®¹é‡ã€‚ ä¾‹å­-1ï¼š è‡ªå·±å®éªŒä¸­å†™çš„ä¸€ä¸ªä¾‹å­ï¼šè¿™é‡Œæˆ‘ä»¬çš„å›¾ç‰‡æ–‡ä»¶å‚¨å­˜åœ¨â€œ./data/faces/â€æ–‡ä»¶å¤¹ä¸‹ï¼Œå›¾ç‰‡çš„åå­—å¹¶ä¸æ˜¯ä»1å¼€å§‹ï¼Œè€Œæ˜¯ä»final_train_tag_dict.txtè¿™ä¸ªæ–‡ä»¶ä¿å­˜çš„å­—å…¸ä¸­è¯»å–ï¼Œlabelä¿¡æ¯ä¹Ÿæ˜¯ç”¨è¿™ä¸ªæ–‡ä»¶ä¸­è¯»å–ã€‚å¤§å®¶å¯ä»¥ç…§ç€ä¸Šé¢çš„æ³¨é‡Šé˜…è¯»è¿™æ®µä»£ç ã€‚ from torch.utils import data import numpy as np from PIL import Image class face_dataset(data.Dataset): def __init__(self): self.file_path = './data/faces/' f=open(\"final_train_tag_dict.txt\",\"r\") self.label_dict=eval(f.read()) f.close() def __getitem__(self,index): label = list(self.label_dict.values())[index-1] img_id = list(self.label_dict.keys())[index-1] img_path = self.file_path+str(img_id)+\".jpg\" img = np.array(Image.open(img_path)) return img,label def __len__(self): return len(self.label_dict) ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å®˜æ–¹MNISTæ•°æ®é›†çš„ä¾‹å­ class MNIST(data.Dataset): \"\"\"`MNIST \u003chttp://yann.lecun.com/exdb/mnist/\u003e`_ Dataset. Args: root (string): Root directory of dataset where ``processed/training.pt`` and ``processed/test.pt`` exist. train (bool, optional): If True, creates dataset from ``training.pt``, otherwise from ``test.pt``. download (bool, optional): If true, downloads the dataset from the internet and puts it in root directory. If dataset is already downloaded, it is not downloaded again. transform (callable, optional): A function/transform that takes in an PIL image and returns a transformed version. E.g, ``transforms.RandomCrop`` target_transform (callable, optional): A function/transform that takes in the target and transforms it. \"\"\" urls = [ 'http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz', 'http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz', 'http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz', 'http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz', ] raw_folder = 'raw' processed_folder = 'processed' training_file = 'training.pt' test_file = 'test.pt' classes = ['0 - zero', '1 - one', '2 - two', '3 - three', '4 - four', '5 - five', '6 - six', '7 - seven', '8 - eight', '9 - nine'] class_to_idx = {_class: i for i, _class in enumerate(classes)} @property def targets(self): if self.train: return self.train_labels else: return self.test_labels def __init__(self, root, train=True, transform=None, target_transform=None, download=False): self.root = os.path.expanduser(root) self.transform = transform self.target_transform = target_transform self.train = train # training set or test set if download: self.download() if not self._check_exists(): raise RuntimeError('Dataset not found.' + ' You can use download=True to download it') if self.train: self.train_data, self.train_labels = torch.load( os.path.join(self.root, self.processed_folder, self.training_file)) else: self.test_data, self.test_labels = torch.load( os.path.join(self.root, self.processed_folder, self.test_file)) def __getitem__(self, index): \"\"\" Args: index (int): Index Returns: tuple: (image, target) where target is index of the target class. \"\"\" if self.train: img, target = self.train_data[index], self.train_labels[index] else: img, target = self.test_data[index], self.test_labels[index] # doing this so that it is consistent with all other datasets # to return a PIL Image img = Image.fromarray(img.numpy(), mode='L') if self.transform is not None: img = self.transform(img) if self.target_transform is not None: target = self.target_transform(target) return img, target def __len__(self): if self.train: return len(self.train_data) else: return len(self.test_data) def _check_exists(self): return os.path.exists(os.path.join(self.root, self.processed_folder, self.training_file)) and \\ os.path.exists(os.path.join(self.root, self.processed_folder, self.test_file)) def download(self): \"\"\"Download the MNIST data if it doesn't exist in processed_folder already.\"\"\" from s","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:1:2","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"Iterableæ•°æ®é›† ä¸€ä¸ªIterableï¼ˆè¿­ä»£ï¼‰å¼æ•°æ®é›†æ˜¯æŠ½è±¡ç±»data.IterableDatasetçš„å­ç±»ï¼Œå¹¶ä¸”è¦†å†™äº†__iter__æ–¹æ³•æˆä¸ºä¸€ä¸ªè¿­ä»£å™¨ã€‚è¿™ç§æ•°æ®é›†ä¸»è¦ç”¨äºæ•°æ®å¤§å°æœªçŸ¥ï¼Œæˆ–è€…ä»¥æµçš„å½¢å¼çš„è¾“å…¥ï¼Œæœ¬åœ°æ–‡ä»¶ä¸å›ºå®šçš„æƒ…å†µï¼Œéœ€è¦ä»¥è¿­ä»£çš„æ–¹å¼æ¥è·å–æ ·æœ¬ç´¢å¼•ã€‚ å…³äºè¿­ä»£å™¨ä¸ç”Ÿæˆå™¨çš„çŸ¥è¯†å¯ä»¥å‚è§åšä¸»çš„å¦ä¸€ç¯‡æ–‡ç« Pythonè¿­ä»£å™¨ä¸ç”Ÿæˆå™¨ä»‹ç»åŠåœ¨Pytorchæºç ä¸­åº”ç”¨[https://chenllliang.github.io/2020/02/06/PyIter/]ã€‚ ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:1:3","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"DataLoader Data loader. Combines a dataset and a sampler, and provides an iterable over the given dataset. â€“PyTorch Documents ä¸€èˆ¬æ¥è¯´PyTorchä¸­æ·±åº¦å­¦ä¹ è®­ç»ƒçš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼š åˆ›å»ºDateset Datasetä¼ é€’ç»™DataLoader DataLoaderè¿­ä»£äº§ç”Ÿè®­ç»ƒæ•°æ®æä¾›ç»™æ¨¡å‹ å¯¹åº”çš„ä¸€èˆ¬éƒ½ä¼šæœ‰è¿™ä¸‰éƒ¨åˆ†ä»£ç  # åˆ›å»ºDateset(å¯ä»¥è‡ªå®šä¹‰) dataset = face_dataset # Datasetéƒ¨åˆ†è‡ªå®šä¹‰è¿‡çš„face_dataset # Datasetä¼ é€’ç»™DataLoader dataloader = torch.utils.data.DataLoader(dataset,batch_size=64,shuffle=False,num_workers=8) # DataLoaderè¿­ä»£äº§ç”Ÿè®­ç»ƒæ•°æ®æä¾›ç»™æ¨¡å‹ for i in range(epoch): for index,(img,label) in enumerate(dataloader): pass åˆ°è¿™é‡Œåº”è¯¥å°±PyTorchçš„æ•°æ®é›†å’Œæ•°æ®ä¼ é€’æœºåˆ¶åº”è¯¥å°±æ¯”è¾ƒæ¸…æ™°æ˜äº†äº†ã€‚Datasetè´Ÿè´£å»ºç«‹ç´¢å¼•åˆ°æ ·æœ¬çš„æ˜ å°„ï¼ŒDataLoaderè´Ÿè´£ä»¥ç‰¹å®šçš„æ–¹å¼ä»æ•°æ®é›†ä¸­è¿­ä»£çš„äº§ç”Ÿ ä¸€ä¸ªä¸ªbatchçš„æ ·æœ¬é›†åˆã€‚åœ¨enumerateè¿‡ç¨‹ä¸­å®é™…ä¸Šæ˜¯dataloaderæŒ‰ç…§å…¶å‚æ•°samplerè§„å®šçš„ç­–ç•¥è°ƒç”¨äº†å…¶datasetçš„getitemæ–¹æ³•ã€‚ ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:2:0","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"å‚æ•°ä»‹ç» å…ˆçœ‹ä¸€ä¸‹å®ä¾‹åŒ–ä¸€ä¸ªDataLoaderæ‰€éœ€çš„å‚æ•°ï¼Œæˆ‘ä»¬åªå…³æ³¨å‡ ä¸ªé‡ç‚¹å³å¯ã€‚ DataLoader(dataset, batch_size=1, shuffle=False, sampler=None, batch_sampler=None, num_workers=0, collate_fn=None, pin_memory=False, drop_last=False, timeout=0, worker_init_fn=None) å‚æ•°ä»‹ç»: dataset (Dataset) â€“ å®šä¹‰å¥½çš„Mapå¼æˆ–è€…Iterableå¼æ•°æ®é›†ã€‚ batch_size (python:int, optional) â€“ ä¸€ä¸ªbatchå«æœ‰å¤šå°‘æ ·æœ¬ (default: 1)ã€‚ shuffle (bool, optional) â€“ æ¯ä¸€ä¸ªepochçš„batchæ ·æœ¬æ˜¯ç›¸åŒè¿˜æ˜¯éšæœº (default: False)ã€‚ sampler (Sampler, optional) â€“ å†³å®šæ•°æ®é›†ä¸­é‡‡æ ·çš„æ–¹æ³•. å¦‚æœæœ‰ï¼Œåˆ™shuffleå‚æ•°å¿…é¡»ä¸ºFalseã€‚ batch_sampler (Sampler, optional) â€“ å’Œ sampler ç±»ä¼¼ï¼Œä½†æ˜¯ä¸€æ¬¡è¿”å›çš„æ˜¯ä¸€ä¸ªbatchå†…æ‰€æœ‰æ ·æœ¬çš„indexã€‚å’Œ batch_size, shuffle, sampler, and drop_last ä¸‰ä¸ªå‚æ•°äº’æ–¥ã€‚ num_workers (python:int, optional) â€“ å¤šå°‘ä¸ªå­ç¨‹åºåŒæ—¶å·¥ä½œæ¥è·å–æ•°æ®ï¼Œå¤šçº¿ç¨‹ã€‚ (default: 0) collate_fn (callable, optional) â€“ åˆå¹¶æ ·æœ¬åˆ—è¡¨ä»¥å½¢æˆå°æ‰¹é‡ã€‚ pin_memory (bool, optional) â€“ å¦‚æœä¸ºTrueï¼Œæ•°æ®åŠ è½½å™¨åœ¨è¿”å›å‰å°†å¼ é‡å¤åˆ¶åˆ°CUDAå›ºå®šå†…å­˜ä¸­ã€‚ drop_last (bool, optional) â€“ å¦‚æœæ•°æ®é›†å¤§å°ä¸èƒ½è¢«batch_sizeæ•´é™¤ï¼Œè®¾ç½®ä¸ºTrueå¯åˆ é™¤æœ€åä¸€ä¸ªä¸å®Œæ•´çš„æ‰¹å¤„ç†ã€‚å¦‚æœè®¾ä¸ºFalseå¹¶ä¸”æ•°æ®é›†çš„å¤§å°ä¸èƒ½è¢«batch_sizeæ•´é™¤ï¼Œåˆ™æœ€åä¸€ä¸ªbatchå°†æ›´å°ã€‚(default: False) timeout (numeric, optional) â€“ å¦‚æœæ˜¯æ­£æ•°ï¼Œè¡¨æ˜ç­‰å¾…ä»workerè¿›ç¨‹ä¸­æ”¶é›†ä¸€ä¸ªbatchç­‰å¾…çš„æ—¶é—´ï¼Œè‹¥è¶…å‡ºè®¾å®šçš„æ—¶é—´è¿˜æ²¡æœ‰æ”¶é›†åˆ°ï¼Œé‚£å°±ä¸æ”¶é›†è¿™ä¸ªå†…å®¹äº†ã€‚è¿™ä¸ªnumericåº”æ€»æ˜¯å¤§äºç­‰äº0ã€‚ (default: 0) worker_init_fn (callable, optional) â€“ æ¯ä¸ªworkeråˆå§‹åŒ–å‡½æ•° (default: None) dataset æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå¾ˆé‡è¦ï¼Œéœ€è¦æŒ‰ç…§å‰é¢æ‰€è¯´çš„ä¸¤ç§datasetå®šä¹‰å¥½ï¼Œå®Œæˆç›¸å…³å‡½æ•°çš„é‡å†™ã€‚ batch_size ä¹Ÿæ²¡å•¥å¥½è¯´çš„ï¼Œå°±æ˜¯è®­ç»ƒçš„ä¸€ä¸ªæ‰¹æ¬¡çš„æ ·æœ¬æ•°ã€‚ shuffle è¡¨ç¤ºæ¯ä¸€ä¸ªepochä¸­è®­ç»ƒæ ·æœ¬çš„é¡ºåºæ˜¯å¦ç›¸åŒï¼Œä¸€èˆ¬Trueã€‚ ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:3:0","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"é‡‡æ ·å™¨ sampler é‡ç‚¹å‚æ•°ï¼Œé‡‡æ ·å™¨ï¼Œæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ã€‚PyTorchæä¾›äº†å¤šç§é‡‡æ ·å™¨ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é‡‡æ ·å™¨ã€‚ æ‰€æœ‰sampleréƒ½æ˜¯ç»§æ‰¿ torch.utils.data.sampler.Samplerè¿™ä¸ªæŠ½è±¡ç±»ã€‚ å…³äºè¿­ä»£å™¨çš„åŸºç¡€çŸ¥è¯†åœ¨åšä¸»è¿™ç¯‡æ–‡ç« ä¸­å¯ä»¥æ‰¾åˆ°Pythonè¿­ä»£å™¨ä¸ç”Ÿæˆå™¨ä»‹ç»åŠåœ¨Pytorchæºç ä¸­åº”ç”¨ã€‚[] class Sampler(object): # \"\"\"Base class for all Samplers. # Every Sampler subclass has to provide an __iter__ method, providing a way # to iterate over indices of dataset elements, and a __len__ method that # returns the length of the returned iterators. # \"\"\" # ä¸€ä¸ª è¿­ä»£å™¨ åŸºç±» def __init__(self, data_source): pass def __iter__(self): raise NotImplementedError def __len__(self): raise NotImplementedError PyTorchè‡ªå¸¦çš„Sampler SequentialSampler RandomSampler SubsetRandomSampler WeightedRandomSampler SequentialSampler å¾ˆå¥½ç†è§£å°±æ˜¯é¡ºåºé‡‡æ ·å™¨ã€‚ å…¶åŸç†æ˜¯é¦–å…ˆåœ¨åˆå§‹åŒ–çš„æ—¶å€™æ‹¿åˆ°æ•°æ®é›†data_sourceï¼Œä¹‹ååœ¨__iter__æ–¹æ³•ä¸­é¦–å…ˆå¾—åˆ°ä¸€ä¸ªå’Œdata_sourceä¸€æ ·é•¿åº¦çš„rangeå¯è¿­ä»£å™¨ã€‚æ¯æ¬¡åªä¼šè¿”å›ä¸€ä¸ªç´¢å¼•å€¼ã€‚ class SequentialSampler(Sampler): # r\"\"\"Samples elements sequentially, always in the same order. # Arguments: # data_source (Dataset): dataset to sample from # \"\"\" # äº§ç”Ÿé¡ºåº è¿­ä»£å™¨ def __init__(self, data_source): self.data_source = data_source def __iter__(self): return iter(range(len(self.data_source))) def __len__(self): return len(self.data_source) å‚æ•°ä½œç”¨: data_source: åŒä¸Š num_sampler: æŒ‡å®šé‡‡æ ·çš„æ•°é‡ï¼Œé»˜è®¤æ˜¯æ‰€æœ‰ã€‚ replacement: è‹¥ä¸ºTrueï¼Œåˆ™è¡¨ç¤ºå¯ä»¥é‡å¤é‡‡æ ·ï¼Œå³åŒä¸€ä¸ªæ ·æœ¬å¯ä»¥é‡å¤é‡‡æ ·ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æœ‰çš„æ ·æœ¬é‡‡æ ·ä¸åˆ°ã€‚æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬å¯ä»¥è®¾ç½®num_samplesæ¥å¢åŠ é‡‡æ ·æ•°é‡ä½¿å¾—æ¯ä¸ªæ ·æœ¬éƒ½å¯èƒ½è¢«é‡‡æ ·åˆ°ã€‚ class RandomSampler(Sampler): # r\"\"\"Samples elements randomly. If without replacement, then sample from a shuffled dataset. # If with replacement, then user can specify ``num_samples`` to draw. # Arguments: # data_source (Dataset): dataset to sample from # num_samples (int): number of samples to draw, default=len(dataset) # replacement (bool): samples are drawn with replacement if ``True``, default=False # \"\"\" def __init__(self, data_source, replacement=False, num_samples=None): self.data_source = data_source self.replacement = replacement self.num_samples = num_samples if self.num_samples is not None and replacement is False: raise ValueError(\"With replacement=False, num_samples should not be specified, \" \"since a random permute will be performed.\") if self.num_samples is None: self.num_samples = len(self.data_source) if not isinstance(self.num_samples, int) or self.num_samples \u003c= 0: raise ValueError(\"num_samples should be a positive integeral \" \"value, but got num_samples={}\".format(self.num_samples)) if not isinstance(self.replacement, bool): raise ValueError(\"replacement should be a boolean value, but got \" \"replacement={}\".format(self.replacement)) def __iter__(self): n = len(self.data_source) if self.replacement: return iter(torch.randint(high=n, size=(self.num_samples,), dtype=torch.int64).tolist()) return iter(torch.randperm(n).tolist()) def __len__(self): return len(self.data_source) è¿™ä¸ªé‡‡æ ·å™¨å¸¸è§çš„ä½¿ç”¨åœºæ™¯æ˜¯å°†è®­ç»ƒé›†åˆ’åˆ†æˆè®­ç»ƒé›†å’ŒéªŒè¯é›†: class SubsetRandomSampler(Sampler): # r\"\"\"Samples elements randomly from a given list of indices, without replacement. # Arguments: # indices (sequence): a sequence of indices # \"\"\" def __init__(self, indices): self.indices = indices def __iter__(self): return (self.indices[i] for i in torch.randperm(len(self.indices))) def __len__(self): return len(self.indices) batch_sampler å‰é¢çš„é‡‡æ ·å™¨æ¯æ¬¡éƒ½åªè¿”å›ä¸€ä¸ªç´¢å¼•ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨è®­ç»ƒæ—¶æ˜¯å¯¹æ‰¹é‡çš„æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œè€Œè¿™ä¸ªå·¥ä½œå°±éœ€è¦BatchSampleræ¥åšã€‚ä¹Ÿå°±æ˜¯è¯´BatchSamplerçš„ä½œç”¨å°±æ˜¯å°†å‰é¢çš„Sampleré‡‡æ ·å¾—åˆ°çš„ç´¢å¼•å€¼è¿›è¡Œåˆå¹¶ï¼Œå½“æ•°é‡ç­‰äºä¸€ä¸ªbatchå¤§å°åå°±å°†è¿™ä¸€æ‰¹çš„ç´¢å¼•å€¼è¿”å›ã€‚ class BatchSampler(Sampler): # Wraps another sampler to yield a mini-batch of indices. # Args: # sampler (Sampler): Base sampler. # batch_size (int): Size of mini-batch. # drop_last (bool): If ``True``, the sampler will drop the last batch if # its size would be less than ``batch_size`` # Example: # \u003e\u003e\u003e list(BatchSampler(SequentialSampler(range(10)), batch_size=3, drop_last=False)) # [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]] # \u003e\u003e\u003e list(BatchSampler(SequentialSampler(range(10)), batch_size=3, drop_last=True)) # [[0, 1, 2], [3, 4, 5], [6, 7, 8]] # æ‰¹æ¬¡é‡‡æ · def __init__(self, sampler, batch_size, drop_last): if not isinstance(sampler, Sampler): raise ValueError(\"sampler should be an instance of \" \"torch.utils.data.Sampler, but got sampler={}\" .format(sampler)) if","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:3:1","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"å¤šçº¿ç¨‹ num_workers å‚æ•°è¡¨ç¤ºåŒæ—¶å‚ä¸æ•°æ®è¯»å–çš„çº¿ç¨‹æ•°é‡ï¼Œå¤šçº¿ç¨‹æŠ€æœ¯å¯ä»¥åŠ å¿«æ•°æ®è¯»å–ï¼Œæä¾›GPU/CPUåˆ©ç”¨ç‡ã€‚ æœªæ¥ä¼šå‡ºä¸€ç¯‡æ–‡ç« è®²ä¸€è®²PyTorchå¤šçº¿ç¨‹å®ç°çš„åŸç†ã€‚ ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:3:2","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"DataLoader å’Œ Dataset ç®€å•ä¸¾ä¾‹ # construct dataset import torch from torch.utils.data import Dataset,DataLoader class MyDataset(Dataset): def __init__(self): self.data = torch.tensor([[1,2,3],[2,3,4],[3,4,5],[4,5,6]]) self.label = torch.LongTensor([1,1,0,0]) def __getitem__(self,index): return self.data[index],self.label[index] def __len__(self): return len(self.data) # dataloader mydataloader = DataLoader(dataset=mydataset, batch_size = 2, shuffle=True) for i, (data, label) in enumerate(mydataloader): print(data, label) ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:3:3","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"DEMO1 - MLPâ€™s Dataset and DataLoader dim_output = 2 class TrainValidDataset(Dataset): ''' Args: - root_dir (string): Directory containing all folders with different dates, each folder containing .cruise.h5 data files. ''' def __init__(self, list_of_files): self.list_of_files_ = list_of_files self.data_size_until_this_file_ = [] self.dataset_size = 0 for file in self.list_of_files_: with h5py.File(file, 'r') as h5_file: data_size = h5_file[list(h5_file.keys())[0]].shape[0] self.dataset_size += data_size self.data_size_until_this_file_.append(self.dataset_size) print ('Total size of dataset: {}'.format(self.data_size_until_this_file_)) def __len__(self): return self.dataset_size def __getitem__(self, index): bin_idx = self.FindBin(index, 0, len( self.data_size_until_this_file_)-1) with h5py.File(self.list_of_files_[bin_idx], 'r') as h5_file: idx_offset = self.data_size_until_this_file_[bin_idx] - \\ h5_file[list(h5_file.keys())[0]].shape[0] data = h5_file[list(h5_file.keys())[0]][index-idx_offset] label = data[-dim_output:] label[0] = (label[0] \u003e 0.0).astype(float) return data[:-dim_output], label # Binary search to expedite the data-loading process. def FindBin(self, index, start, end): if (start == end): return start mid = int((start+end)/2.0) if (self.data_size_until_this_file_[mid] \u003c= index): return self.FindBin(index, mid+1, end) else: return self.FindBin(index, start, mid) # search all the files in the directory def getListOfFiles(dirName): listOfFiles = os.listdir(dirName) allFiles = list() for entry in listOfFiles: fullPath = os.path.join(dirName, entry) if os.path.isdir(fullPath): allFiles = allFiles + getListOfFiles(fullPath) else: allFiles.append(fullPath) return allFiles if __name__ == '__main__': list_of_training_files = getListOfFiles('data') train_dataset = TrainValidDataset(list_of_training_files) myDataLoader = DataLoader(dataset=train_dataset, batch_size=2, drop_last=True, shuffle=True) for i, (data, label) in enumerate(myDataLoader): print(data.shape) ","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:4:0","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["draft"],"content":"DEMO2 - LaneGCNâ€™s Dataset and DataLoader dataset description: class ArgoDataset(Dataset): def __init__(self, split, config, train=True): self.config = config self.train = train if 'preprocess' in config and config['preprocess']: if train: self.split = np.load(self.config['preprocess_train'], allow_pickle=True) else: self.split = np.load(self.config['preprocess_val'], allow_pickle=True) else: self.avl = ArgoverseForecastingLoader(split) self.avl.seq_list = sorted(self.avl.seq_list) self.am = ArgoverseMap() if 'raster' in config and config['raster']: #TODO: DELETE self.map_query = MapQuery(config['map_scale']) def __getitem__(self, idx): if 'preprocess' in self.config and self.config['preprocess']: data = self.split[idx] if self.train and self.config['rot_aug']: new_data = dict() for key in ['city', 'orig', 'gt_preds', 'has_preds']: if key in data: new_data[key] = ref_copy(data[key]) dt = np.random.rand() * self.config['rot_size']#np.pi * 2.0 theta = data['theta'] + dt new_data['theta'] = theta new_data['rot'] = np.asarray([ [np.cos(theta), -np.sin(theta)], [np.sin(theta), np.cos(theta)]], np.float32) rot = np.asarray([ [np.cos(-dt), -np.sin(-dt)], [np.sin(-dt), np.cos(-dt)]], np.float32) new_data['feats'] = data['feats'].copy() new_data['feats'][:, :, :2] = np.matmul(new_data['feats'][:, :, :2], rot) new_data['ctrs'] = np.matmul(data['ctrs'], rot) graph = dict() for key in ['num_nodes', 'turn', 'control', 'intersect', 'pre', 'suc', 'lane_idcs', 'left_pairs', 'right_pairs', 'left', 'right']: graph[key] = ref_copy(data['graph'][key]) graph['ctrs'] = np.matmul(data['graph']['ctrs'], rot) graph['feats'] = np.matmul(data['graph']['feats'], rot) new_data['graph'] = graph data = new_data else: new_data = dict() for key in ['city', 'orig', 'gt_preds', 'has_preds', 'theta', 'rot', 'feats', 'ctrs', 'graph']: if key in data: new_data[key] = ref_copy(data[key]) data = new_data if 'raster' in self.config and self.config['raster']: data.pop('graph') x_min, x_max, y_min, y_max = self.config['pred_range'] cx, cy = data['orig'] region = [cx + x_min, cx + x_max, cy + y_min, cy + y_max] raster = self.map_query.query(region, data['theta'], data['city']) data['raster'] = raster return data data = self.read_argo_data(idx) data = self.get_obj_feats(data) data['idx'] = idx if 'raster' in self.config and self.config['raster']: x_min, x_max, y_min, y_max = self.config['pred_range'] cx, cy = data['orig'] region = [cx + x_min, cx + x_max, cy + y_min, cy + y_max] raster = self.map_query.query(region, data['theta'], data['city']) data['raster'] = raster return data data['graph'] = self.get_lane_graph(data) return data def __len__(self): if 'preprocess' in self.config and self.config['preprocess']: return len(self.split) else: return len(self.avl) def read_argo_data(self, idx): city = copy.deepcopy(self.avl[idx].city) \"\"\"TIMESTAMP,TRACK_ID,OBJECT_TYPE,X,Y,CITY_NAME\"\"\" df = copy.deepcopy(self.avl[idx].seq_df) agt_ts = np.sort(np.unique(df['TIMESTAMP'].values)) mapping = dict() for i, ts in enumerate(agt_ts): mapping[ts] = i trajs = np.concatenate(( df.X.to_numpy().reshape(-1, 1), df.Y.to_numpy().reshape(-1, 1)), 1) steps = [mapping[x] for x in df['TIMESTAMP'].values] steps = np.asarray(steps, np.int64) objs = df.groupby(['TRACK_ID', 'OBJECT_TYPE']).groups keys = list(objs.keys()) obj_type = [x[1] for x in keys] agt_idx = obj_type.index('AGENT') idcs = objs[keys[agt_idx]] agt_traj = trajs[idcs] agt_step = steps[idcs] del keys[agt_idx] ctx_trajs, ctx_steps = [], [] for key in keys: idcs = objs[key] ctx_trajs.append(trajs[idcs]) ctx_steps.append(steps[idcs]) data = dict() data['city'] = city data['trajs'] = [agt_traj] + ctx_trajs data['steps'] = [agt_step] + ctx_steps return data def get_obj_feats(self, data): orig = data['trajs'][0][19].copy().astype(np.float32) if self.train and self.config['rot_aug']: theta = np.random.rand() * np.pi * 2.0 else: pre = data['trajs'][0][18] - orig theta = np.pi - np.arctan2(pre[1], pre[0]) rot = np.asarray([ [np.cos(theta), -np","date":"2023-07-15","objectID":"/posts/datasetanddataloader/:5:0","tags":["draft"],"title":"PyTorch Dataset And DataLoader","uri":"/posts/datasetanddataloader/"},{"categories":["PyTorch"],"content":"Torch åŸºæœ¬å‡½æ•° ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:1:0","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"1. torch.einsum() torch.einsum(equation, *operands)-\u003eTensor:çˆ±å› æ–¯å¦æ±‚å’Œ ref1: ç®—å­éƒ¨ç½²: https://blog.csdn.net/HW140701/article/details/120654252 ref2: ä¾‹å­: https://zhuanlan.zhihu.com/p/361209187 ä¸‰æ¡åŸºæœ¬è§„åˆ™: è§„åˆ™ä¸€: equation ç®­å¤´å·¦è¾¹ï¼Œåœ¨ä¸åŒè¾“å…¥ä¹‹é—´é‡å¤å‡ºç°çš„ç´¢å¼•è¡¨ç¤ºï¼ŒæŠŠè¾“å…¥å¼ é‡æ²¿ç€è¯¥ç»´åº¦åšä¹˜æ³•æ“ä½œï¼Œæ¯”å¦‚è¿˜æ˜¯ä»¥ä¸Šé¢çŸ©é˜µä¹˜æ³•ä¸ºä¾‹ï¼Œ â€œik,kj-\u003eijâ€ï¼Œk åœ¨è¾“å…¥ä¸­é‡å¤å‡ºç°ï¼Œæ‰€ä»¥å°±æ˜¯æŠŠ a å’Œ b æ²¿ç€ k è¿™ä¸ªç»´åº¦ä½œç›¸ä¹˜æ“ä½œï¼› è§„åˆ™äºŒ: åªå‡ºç°åœ¨ equation ç®­å¤´å·¦è¾¹çš„ç´¢å¼•ï¼Œè¡¨ç¤ºä¸­é—´è®¡ç®—ç»“æœéœ€è¦åœ¨è¿™ä¸ªç»´åº¦ä¸Šæ±‚å’Œï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„æ±‚å’Œç´¢å¼•ï¼› è§„åˆ™ä¸‰: equation ç®­å¤´å³è¾¹çš„ç´¢å¼•é¡ºåºå¯ä»¥æ˜¯ä»»æ„çš„ï¼Œæ¯”å¦‚ä¸Šé¢çš„ â€œik,kj-\u003eijâ€ å¦‚æœå†™æˆ â€œik,kj-\u003ejiâ€ï¼Œé‚£ä¹ˆå°±æ˜¯è¿”å›è¾“å‡ºç»“æœçš„è½¬ç½®ï¼Œç”¨æˆ·åªéœ€è¦å®šä¹‰å¥½ç´¢å¼•çš„é¡ºåºï¼Œè½¬ç½®æ“ä½œä¼šåœ¨ einsum å†…éƒ¨å®Œæˆ ç‰¹æ®Šè§„åˆ™: equation å¯ä»¥ä¸å†™åŒ…æ‹¬ç®­å¤´åœ¨å†…çš„å³è¾¹éƒ¨åˆ†ï¼Œé‚£ä¹ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å‡ºå¼ é‡çš„ç»´åº¦ä¼šæ ¹æ®é»˜è®¤è§„åˆ™æ¨å¯¼ã€‚å°±æ˜¯æŠŠè¾“å…¥ä¸­åªå‡ºç°ä¸€æ¬¡çš„ç´¢å¼•å–å‡ºæ¥ï¼Œç„¶åæŒ‰å­—æ¯è¡¨é¡ºåºæ’åˆ—ï¼Œæ¯”å¦‚ä¸Šé¢çš„çŸ©é˜µä¹˜æ³• â€œik,kj-\u003eijâ€ ä¹Ÿå¯ä»¥ç®€åŒ–ä¸º â€œik,kjâ€ï¼Œæ ¹æ®é»˜è®¤è§„åˆ™ï¼Œè¾“å‡ºå°±æ˜¯ â€œijâ€ ä¸åŸæ¥ä¸€æ ·ï¼› equation ä¸­æ”¯æŒ â€œâ€¦â€ çœç•¥å·ï¼Œç”¨äºè¡¨ç¤ºç”¨æˆ·å¹¶ä¸å…³å¿ƒçš„ç´¢å¼•ã€‚æ¯”å¦‚åªå¯¹ä¸€ä¸ªé«˜ç»´å¼ é‡çš„æœ€åä¸¤ç»´åšè½¬ç½®å¯ä»¥è¿™ä¹ˆå†™ï¼š a = torch.randn(2,3,5,7,9) # i = 7, j = 9 b = torch.einsum('...ij-\u003e...ji', [a]) ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:1:1","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"2. torch.permute()/torch.transpose() torch.permute(dim0, dim1, dim2):ç”¨äºè°ƒæ¢ä¸åŒç»´åº¦çš„é¡ºåº torch.transpose(input, dim0, dim1):äº¤æ¢çŸ©é˜µçš„ä¸¤ä¸ªç»´åº¦ ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:1:2","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"3. torch.rand() torch.rand(dim0, dim1):ç”Ÿæˆdim0 x dim1çš„tensor ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:1:3","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"4. torch.size()/torch.shape torch.size():è¿”å›tensorçš„size torch.shape:è¿”å›tensorçš„size ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:1:4","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"5. torch.tensordot() ref: tensordot()å’Œeinsum()çš„åŒºåˆ«: https://blog.csdn.net/Eric_1993/article/details/105670381 torch.tensordot(tensor1ï¼Œ tensor2ï¼Œ axes=([dim1,dim2],[dim0, dim1])): å°†axesæŒ‡å®šçš„å­æ•°ç»„è¿›è¡Œç‚¹ä¹˜, axes æŒ‡å®šå…·ä½“çš„ç»´åº¦. ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:1:5","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"6. torch.transpose() torch.transpose(tensor, dim0, dim2) â€”\u003e Tensor:åœ¨dim0å’Œdim1æ–¹å‘ä¸Šè½¬ç½® ###7. torch.index_add_() Tensor.index_add_(dim, index, source, *, alpha=1) â†’ Tensor demo: \u003e\u003e\u003e x = torch.ones(5, 3) \u003e\u003e\u003e t = torch.tensor([[1, 2, 3], [4, 5, 6], [7, 8, 9]], dtype=torch.float) \u003e\u003e\u003e index = torch.tensor([0, 4, 2]) \u003e\u003e\u003e x.index_add_(0, index, t) tensor([[ 2., 3., 4.], [ 1., 1., 1.], [ 8., 9., 10.], [ 1., 1., 1.], [ 5., 6., 7.]]) \u003e\u003e\u003e x.index_add_(0, index, t, alpha=-1) tensor([[ 1., 1., 1.], [ 1., 1., 1.], [ 1., 1., 1.], [ 1., 1., 1.], [ 1., 1., 1.]]) ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:1:6","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"Torch NN Module import torch from torch import nn from torch import functional as F ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:2:0","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"1. nn.Conv1d() torch.nn.Conv1d(in_channels, out_channels, kernel_size, stride=1, padding=0, dilation=1, groups=1, bias=True, padding_mode='zeros', device=None, dtype=None) Shape: - Input: $(N, C_{in}, L_{in})$ or $(C_{in}, L_{in})$ - Output: $(N, C_{in}, L_{in})$ or $(C_{in}, L_{in})$, where $$L_{out} = \\frac{L_{in} + 2 \\cdot \\text{padding} - \\text{dilation} \\cdot (\\text{kernel_size} - 1) - 1}{stride}$$ Demo: m = nn.Conv1d(16, 33, 3, stride=2) input = torch.randn(20, 16, 50) # B x C x H or N x C x L output = m(input) print(output.shape) # torch.Size([20, 33, 24]) ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:2:1","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"2. nn.Conv2d() torch.nn.Conv2d(in_channels, out_channels, kernel_size, stride=1, padding=0, dilation=1, groups=1, bias=True, padding_mode='zeros', device=None, dtype=None) Shape: Input: $(N, C_{\\text in}, H_{\\text in}, W_{\\text in})$ or $(C_{\\text in}, H_{\\text in}, W_{\\text in})$ - Output: $(N, C_{\\text out}, H_{\\text out}, W_{\\text out})$ or $(C_{\\text out}, H_{\\text out}, W_{\\text out})$, where $$ H_{out} = \\frac{H_{in} + 2 \\cdot \\text{padding[0]} - \\text{dilation[0]} \\cdot (\\text{kernel_size[0]} - 1) - 1}{stride[0]} + 1 $$ $$ W_{out} = \\frac{W_{in} + 2 \\cdot \\text{padding[1]} - \\text{dilation[1]} \\cdot (\\text{kernel_size[1]} - 1) - 1}{stride[1]} + 1 $$ Demo: # With square kernels and equal stride m = nn.Conv2d(16, 33, 3, stride=2) # non-square kernels and unequal stride and with padding m = nn.Conv2d(16, 33, (3, 5), stride=(2, 1), padding=(4, 2)) # output.shape: 20 x 33 x 28 x 100 # non-square kernels and unequal stride and with padding and dilation m = nn.Conv2d(16, 33, (3, 5), stride=(2, 1), padding=(4, 2), dilation=(3, 1)) # output.shape: 20 x 33 x 26 x 100 input = torch.randn(20, 16, 50, 100) output = m(input) # ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:2:2","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"3. nn.functional.interpolate() torch.nn.functional.interpolate(input, size=None, scale_factor=None, mode='nearest', align_corners=None, recompute_scale_factor=None, antialias=False) ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:2:3","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"4. nn.functional.ReLU() $$ \\text{ReLU} = (x)^+ = \\max {(0,x)}$$ torch.nn.ReLU(inplace=False) ä½œç”¨: Sigmoidçš„å¯¼æ•°åªæœ‰åœ¨0é™„è¿‘çš„æ—¶å€™æœ‰æ¯”è¾ƒå¥½çš„æ¿€æ´»æ€§ï¼Œåœ¨æ­£è´Ÿé¥±å’ŒåŒºçš„æ¢¯åº¦éƒ½æ¥è¿‘äº0ï¼Œæ‰€ä»¥è¿™ä¼šé€ æˆæ¢¯åº¦å¼¥æ•£ï¼Œè€ŒReLUå‡½æ•°åœ¨å¤§äº0çš„éƒ¨åˆ†æ¢¯åº¦ä¸ºå¸¸æ•°ï¼Œæ‰€ä»¥ä¸ä¼šäº§ç”Ÿæ¢¯åº¦å¼¥æ•£ç°è±¡ã€‚ ReLUå‡½æ•°åœ¨è´ŸåŠåŒºçš„å¯¼æ•°ä¸º0 ï¼Œæ‰€ä»¥ä¸€æ—¦ç¥ç»å…ƒæ¿€æ´»å€¼è¿›å…¥è´ŸåŠåŒºï¼Œé‚£ä¹ˆæ¢¯åº¦å°±ä¼šä¸º0ï¼Œè€Œæ­£å€¼ä¸å˜ï¼Œè¿™ç§æ“ä½œè¢«æˆä¸ºå•ä¾§æŠ‘åˆ¶ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼šåœ¨è¾“å…¥æ˜¯è´Ÿå€¼çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šè¾“å‡º0ï¼Œé‚£ä¹ˆç¥ç»å…ƒå°±ä¸ä¼šè¢«æ¿€æ´»ã€‚è¿™æ„å‘³ç€åŒä¸€æ—¶é—´åªæœ‰éƒ¨åˆ†ç¥ç»å…ƒä¼šè¢«æ¿€æ´»ï¼Œä»è€Œä½¿å¾—ç½‘ç»œå¾ˆç¨€ç–ï¼Œè¿›è€Œå¯¹è®¡ç®—æ¥è¯´æ˜¯éå¸¸æœ‰æ•ˆç‡çš„ã€‚ï¼‰æ­£å› ä¸ºæœ‰äº†è¿™å•ä¾§æŠ‘åˆ¶ï¼Œæ‰ä½¿å¾—ç¥ç»ç½‘ç»œä¸­çš„ç¥ç»å…ƒä¹Ÿå…·æœ‰äº†ç¨€ç–æ¿€æ´»æ€§ã€‚å°¤å…¶ä½“ç°åœ¨æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹(å¦‚CNN)ä¸­ï¼Œå½“æ¨¡å‹å¢åŠ Nå±‚ä¹‹åï¼Œç†è®ºä¸ŠReLUç¥ç»å…ƒçš„æ¿€æ´»ç‡å°†é™ä½2çš„Næ¬¡æ–¹å€ã€‚ reluå‡½æ•°çš„å¯¼æ•°è®¡ç®—æ›´å¿«ï¼Œç¨‹åºå®ç°å°±æ˜¯ä¸€ä¸ªif-elseè¯­å¥ï¼Œè€Œsigmoidå‡½æ•°è¦è¿›è¡Œæµ®ç‚¹å››åˆ™è¿ç®—ã€‚ Shape: Input: $(âˆ—)$, where $*$ means any number of dimensions. Output: $(âˆ—)$, same shape as the input. Demo: m = nn.ReLU() input = torch.randn(2) output = m(input) # An implementation of CReLU - https://arxiv.org/abs/1603.05201 m = nn.ReLU() input = torch.randn(2).unsqueeze(0) output = torch.cat((m(input),m(-input))) ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:2:4","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"5. nn.MaxPool2d() torch.nn.MaxPool2d(kernel_size, stride=None, padding=0, dilation=1, return_indices=False, ceil_mode=False) Shape: Input: $(N, C, H_{in}, W_{in})$ or $(C, H_{in}, W_{in})$ Output: $(N, C, H_{out}, W_{out})$ or $(C, H_{out}, W_{out})$ where, $$ H_{out} = \\frac{H_{in} + 2 * \\text{padding}[0] - \\text{dilation}[0] * (\\text{kernel_size}[0]-1) - 1}{\\text{stride}[0]} + 1$$ $$ W_{out} = \\frac{W_{in} + 2 * \\text{padding}[1] - \\text{dilation}[1] * (\\text{kernel_size}[1]-1) - 1}{\\text{stride}[1]} + 1$$ demo: # pool of square window of size=3, stride=2 m = nn.MaxPool2d(3, stride=2) # pool of non-square window m = nn.MaxPool2d((3, 2), stride=(2, 1)) input = torch.randn(20, 16, 50, 32) output = m(input) # 20 16 24 31 ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:2:5","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"6. nn.AvgPool2d() torch.nn.AvgPool2d(kernel_size, stride=None, padding=0, ceil_mode=False, count_include_pad=True, divisor_override=None) Shape: Input: $(N, C, H_{in}, W_{in})$ or $(C, H_{in}, W_{in})$ Output: $(N, C, H_{out}, W_{out})$ or $(C, H_{out}, W_{out})$ where, $$ H_{out} = \\frac{H_{in} + 2 * \\text{padding}[0] - (\\text{kernel_size}[0])}{\\text{stride}[0]} + 1$$ $$ W_{out} = \\frac{W_{in} + 2 * \\text{padding}[1] - (\\text{kernel_size}[1])}{\\text{stride}[1]} + 1$$ demo: # pool of square window of size=3, stride=2 m = nn.AvgPool2d(3, stride=2) # pool of non-square window m = nn.AvgPool2d((3, 2), stride=(2, 1)) input = torch.randn(20, 16, 50, 32) output = m(input) # 20 16, 24 31 ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:2:6","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["PyTorch"],"content":"torch.cuda ref link: https://zhuanlan.zhihu.com/p/76908135 torch.cuda.current_device(): è¿”å›å½“å‰é€‰æ‹©çš„è®¾å¤‡çš„ç´¢å¼• torch.cuda.current_stream(): è¿”å›å‚æ•°è®¾å¤‡çš„å½“å‰çš„Stream torch.cuda.default_stream(): è¿”å›å½“å‰å‚æ•°è®¾å¤‡çš„Stream CLASS torch.cuda.device: å¯ä»¥æ”¹å˜é€‰æ‹©çš„è®¾å¤‡çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ Parametersï¼šdevice (torch.device or int) â€“ device index to select. Itâ€™s a no-op if this argument is a negative integer or None. torch.cuda.device_count(): è¿”å›å¯ä½¿ç”¨GPUçš„æ•°é‡ CLASS torch.cuda.device_of(obj) Context-manager å°†å‚æ•°å¯¹è±¡çš„è®¾å¤‡æ”¹æˆå½“å‰çš„è®¾å¤‡ã€‚ä½ å¯ä»¥ä½¿ç”¨å¼ é‡æˆ–è€…å­˜å‚¨ä½œä¸ºå‚æ•°ã€‚å¦‚æœä¼ å…¥çš„å¯¹è±¡æ²¡æœ‰åˆ†é…åœ¨GPUä¸Šï¼Œè¿™ä¸ªæ“ä½œæ˜¯æ— æ•ˆçš„ã€‚ torch.cuda.empty_cache() é‡Šæ”¾caching allocatorå½“å‰æŒæœ‰çš„æ‰€æœ‰æœªå ç”¨çš„cached memoryï¼Œä½¿å…¶å¯ä»¥ç”¨åœ¨å…¶ä»–GPUåº”ç”¨ä¸”å¯ä»¥åœ¨ nvidia-smiå¯è§†åŒ–ã€‚ æ³¨æ„ï¼šempty_cache() å¹¶ä¸ä¼šå¢åŠ PyTorchå¯ä»¥ä½¿ç”¨çš„GPUæ˜¾å­˜çš„å¤§å°ã€‚ æŸ¥çœ‹ Memory management æ¥è·å–æ›´å¤šçš„GPUæ˜¾å­˜ç®¡ç†çš„ä¿¡æ¯ã€‚ torch.cuda.get_device_capability(device=None) Gets the cuda capability of a device. Parametersï¼šdevice (torch.device or int, optional) â€“ device for which to return the device capability. This function is a no-op if this argument is a negative integer. It uses the current device, given bycurrent_device(), if device is None (default). Returnsï¼šthe major and minor cuda capability of the device Return type ï¼š tuple(int, int) torch.cuda.get_device_name(device=None) torch.cuda.init() åˆå§‹åŒ–PyTorchçš„CUDAçŠ¶æ€ã€‚å¦‚æœä½ é€šè¿‡C APIä¸PyTorchè¿›è¡Œäº¤äº’ï¼Œä½ å¯èƒ½éœ€è¦æ˜¾å¼è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚åªæœ‰CUDAçš„åˆå§‹åŒ–å®Œæˆï¼ŒCUDAçš„åŠŸèƒ½æ‰ä¼šç»‘å®šåˆ°Pythonã€‚ç”¨æˆ·ä¸€èˆ¬ä¸åº”è¯¥éœ€è¦è¿™ä¸ªï¼Œå› ä¸ºæ‰€æœ‰PyTorchçš„CUDAæ–¹æ³•éƒ½ä¼šè‡ªåŠ¨åœ¨éœ€è¦çš„æ—¶å€™åˆå§‹åŒ–CUDAã€‚å¦‚æœCUDAçš„çŠ¶æ€å·²ç»åˆå§‹åŒ–äº†ï¼Œå°†ä¸èµ·ä»»ä½•ä½œç”¨ã€‚ [torch.cuda.is_available()] torch.cuda.max_memory_allocated(device=None) Returns the maximum GPU memory occupied by tensors in bytes for a given device. torch.cuda.max_memory_cached(device=None) torch.cuda.memory_allocated(device=None) Parametersï¼šdevice (torch.device or int, optional) â€“ selected device. Returns statistic for the current device, given by current_device(), if device is None (default). torch.cuda.memory_cached(devide=None) [``] ","date":"2023-07-15","objectID":"/posts/pytorchnotes/:3:0","tags":["draft"],"title":"PyTorch Notes","uri":"/posts/pytorchnotes/"},{"categories":["ML"],"content":"ref: [1] https://www.cnblogs.com/rushup0930/p/13359513.html [2] https://blog.csdn.net/u013250861/article/details/123029585#t12 [3] https://blog.csdn.net/wf592523813/article/details/95202448 [4] https://zhuanlan.zhihu.com/p/69101372 classification åˆ†ç±» ä¸»è¦æ¶‰åŠçš„çŸ¥è¯†ç‚¹ï¼š æ··æ·†çŸ©é˜µã€Precision(ç²¾å‡†ç‡)ã€Recall(å¬å›ç‡)ã€Accuracy(å‡†ç¡®ç‡)ã€F1-score ï¼ˆåŒ…æ‹¬äºŒåˆ†ç±»å’Œå¤šåˆ†ç±»é—®é¢˜ï¼‰ ROCã€AUC æœ€å¸¸è§çš„æŒ‡æ ‡Accuracyåˆ°åº•æœ‰å“ªäº›ä¸è¶³ï¼Ÿ è§£: Accuracyæ˜¯åˆ†ç±»é—®é¢˜ä¸­æœ€å¸¸ç”¨çš„æŒ‡æ ‡ï¼Œå®ƒè®¡ç®—äº†åˆ†ç±»æ­£ç¡®çš„é¢„æµ‹æ•°ä¸æ€»é¢„æµ‹æ•°çš„æ¯”å€¼ã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸å¹³è¡¡æ•°æ®é›†è€Œè¨€ï¼ŒAccuracyå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½æŒ‡æ ‡ã€‚ å‡è®¾æˆ‘ä»¬æœ‰100å¼ å›¾ç‰‡ï¼Œå…¶ä¸­91å¼ å›¾ç‰‡æ˜¯ã€Œç‹—ã€ï¼Œ5å¼ æ˜¯ã€ŒçŒ«ã€ï¼Œ4å¼ æ˜¯ã€ŒçŒªã€ï¼Œæˆ‘ä»¬å¸Œæœ›è®­ç»ƒä¸€ä¸ªä¸‰åˆ†ç±»å™¨ï¼Œèƒ½æ­£ç¡®è¯†åˆ«å›¾ç‰‡é‡ŒåŠ¨ç‰©çš„ç±»åˆ«ã€‚å…¶ä¸­ï¼Œç‹—è¿™ä¸ªç±»åˆ«å°±æ˜¯å¤§å¤šæ•°ç±» (majority class)ã€‚å½“å¤§å¤šæ•°ç±»ä¸­æ ·æœ¬ï¼ˆç‹—ï¼‰çš„æ•°é‡è¿œè¶…è¿‡å…¶ä»–ç±»åˆ«ï¼ˆçŒ«ã€çŒªï¼‰æ—¶ï¼Œå¦‚æœé‡‡ç”¨Accuracyæ¥è¯„ä¼°åˆ†ç±»å™¨çš„å¥½åï¼Œé‚£ä¹ˆå³ä¾¿æ¨¡å‹æ€§èƒ½å¾ˆå·® (å¦‚æ— è®ºè¾“å…¥ä»€ä¹ˆå›¾ç‰‡ï¼Œéƒ½é¢„æµ‹ä¸ºã€Œç‹—ã€)ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°è¾ƒé«˜çš„Accuracy Score (å¦‚91%)ã€‚æ­¤æ—¶ï¼Œè™½ç„¶Accuracy Scoreå¾ˆé«˜ï¼Œä½†æ˜¯æ„ä¹‰ä¸å¤§ã€‚å½“æ•°æ®å¼‚å¸¸ä¸å¹³è¡¡æ—¶ï¼ŒAccuracyè¯„ä¼°æ–¹æ³•çš„ç¼ºé™·å°¤ä¸ºæ˜¾è‘—ã€‚ ","date":"2023-07-15","objectID":"/posts/metrics/:0:0","tags":["draft"],"title":"Classification and Regression Metrics","uri":"/posts/metrics/"},{"categories":["ML"],"content":"äºŒåˆ†ç±»æ¨¡å‹çš„å¸¸è§æŒ‡æ ‡ åœ¨äºŒåˆ†ç±»é—®é¢˜ä¸­ï¼Œå‡è®¾è¯¥æ ·æœ¬ä¸€å…±æœ‰ä¸¤ç§ç±»åˆ«ï¼šPositiveå’ŒNegativeã€‚å½“åˆ†ç±»å™¨é¢„æµ‹ç»“æŸï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶å‡ºæ··æ·†çŸ©é˜µï¼ˆconfusion matrixï¼‰ã€‚å…¶ä¸­åˆ†ç±»ç»“æœåˆ†ä¸ºå¦‚ä¸‹å‡ ç§ï¼š True Positive (TP): æŠŠæ­£æ ·æœ¬æˆåŠŸé¢„æµ‹ä¸ºæ­£ã€‚ True Negative (TN)ï¼šæŠŠè´Ÿæ ·æœ¬æˆåŠŸé¢„æµ‹ä¸ºè´Ÿã€‚ False Positive (FP)ï¼šæŠŠè´Ÿæ ·æœ¬é”™è¯¯åœ°é¢„æµ‹ä¸ºæ­£ã€‚ False Negative (FN)ï¼šæŠŠæ­£æ ·æœ¬é”™è¯¯çš„é¢„æµ‹ä¸ºè´Ÿã€‚ ä¸€ä¸ªå°æŠ€å·§ï¼Œ ç¬¬ä¸€ä¸ªå­—æ¯è¡¨ç¤ºåˆ’åˆ†æ­£ç¡®ä¸å¦ï¼Œ T è¡¨ç¤ºåˆ¤å®šæ­£ç¡®ï¼ˆåˆ¤å®šæ­£ç¡®ï¼‰ï¼Œ Fè¡¨ç¤ºåˆ¤å®šé”™è¯¯(False)ï¼› ç¬¬äºŒä¸ªå­—æ¯è¡¨ç¤ºåˆ†ç±»å™¨åˆ¤å®šç»“æœï¼Œ Pè¡¨ç¤ºåˆ¤å®šä¸ºæ­£ä¾‹ï¼Œ Nè¡¨ç¤ºåˆ¤å®šä¸ºè´Ÿä¾‹ã€‚ åœ¨äºŒåˆ†ç±»æ¨¡å‹ä¸­ï¼ŒAccuracyï¼ŒPrecisionï¼ŒRecallå’ŒF1 scoreçš„å®šä¹‰å¦‚ä¸‹ï¼š $$\\text{Accuracy} = \\frac{TP + TN}{TP + TN + FP + FN}$$ Accuracy èƒ½å¤Ÿæ¸…æ™°çš„åˆ¤æ–­æˆ‘ä»¬æ¨¡å‹çš„è¡¨ç°ï¼Œä½†æœ‰ä¸€ä¸ªä¸¥é‡çš„ç¼ºé™·ï¼š åœ¨æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡çš„æƒ…å†µä¸‹ï¼Œå æ¯”å¤§çš„ç±»åˆ«å¾€å¾€ä¼šæˆä¸ºå½±å“ Accuracy çš„æœ€ä¸»è¦å› ç´ ï¼Œæ­¤æ—¶çš„ Accuracy å¹¶ä¸èƒ½å¾ˆå¥½çš„åæ˜ æ¨¡å‹çš„æ•´ä½“æƒ…å†µã€‚ $$\\text{Precision} = \\frac{TP}{TP + FP}$$ Precisionç€é‡è¯„ä¼°åœ¨é¢„æµ‹ä¸ºPositiveçš„æ‰€æœ‰æ•°æ®ä¸­ï¼ŒçœŸå®Positveçš„æ•°æ®åˆ°åº•å å¤šå°‘ï¼Ÿ ç²¾ç¡®ç‡é«˜ï¼Œæ„å‘³ç€åˆ†ç±»å™¨è¦å°½é‡åœ¨ â€œæ›´æœ‰æŠŠæ¡â€ çš„æƒ…å†µä¸‹æ‰å°†æ ·æœ¬é¢„æµ‹ä¸ºæ­£æ ·æœ¬ï¼Œ è¿™æ„å‘³ç€ç²¾ç¡®ç‡èƒ½å¤Ÿå¾ˆå¥½çš„ä½“ç°æ¨¡å‹å¯¹äºè´Ÿæ ·æœ¬çš„åŒºåˆ†èƒ½åŠ›ï¼Œç²¾ç¡®ç‡è¶Šé«˜ï¼Œåˆ™æ¨¡å‹å¯¹è´Ÿæ ·æœ¬åŒºåˆ†èƒ½åŠ›è¶Šå¼ºã€‚ $$\\text{Recall} = \\frac{TP}{TP + FN}$$ Recallç€é‡è¯„ä¼°ï¼šåœ¨æ‰€æœ‰çš„Positiveæ•°æ®ä¸­ï¼Œåˆ°åº•æœ‰å¤šå°‘æ•°æ®è¢«æˆåŠŸé¢„æµ‹ä¸ºPositive å¬å›ç‡é«˜ï¼Œæ„å‘³ç€åˆ†ç±»å™¨å°½å¯èƒ½å°†æœ‰å¯èƒ½ä¸ºæ­£æ ·æœ¬çš„æ ·æœ¬é¢„æµ‹ä¸ºæ­£æ ·æœ¬ï¼Œè¿™æ„å‘³ç€å¬å›ç‡èƒ½å¤Ÿå¾ˆå¥½çš„ä½“ç°æ¨¡å‹å¯¹äºæ­£æ ·æœ¬çš„åŒºåˆ†èƒ½åŠ›ï¼Œå¬å›ç‡è¶Šé«˜ï¼Œåˆ™æ¨¡å‹å¯¹æ­£æ ·æœ¬çš„åŒºåˆ†èƒ½åŠ›è¶Šå¼ºã€‚ ä¸¾ä¾‹: ä¸€ä¸ªåŒ»é™¢æ–°å¼€å‘äº†ä¸€å¥—ç™Œç—‡AIè¯Šæ–­ç³»ç»Ÿï¼Œæƒ³è¯„ä¼°å…¶æ€§èƒ½å¥½åã€‚æˆ‘ä»¬æŠŠç—…äººå¾—äº†ç™Œç—‡å®šä¹‰ä¸ºPositiveï¼Œæ²¡å¾—ç™Œç—‡å®šä¹‰ä¸ºNegativeã€‚é‚£ä¹ˆï¼Œ åˆ°åº•è¯¥ç”¨ä»€ä¹ˆæŒ‡æ ‡è¿›è¡Œè¯„ä¼°å‘¢ï¼Ÿ å¦‚ç”¨Precisionå¯¹ç³»ç»Ÿè¿›è¡Œè¯„ä¼°ï¼Œé‚£ä¹ˆå…¶å›ç­”çš„é—®é¢˜å°±æ˜¯ï¼š åœ¨è¯Šæ–­ä¸ºç™Œç—‡çš„ä¸€å †äººä¸­ï¼Œåˆ°åº•æœ‰å¤šå°‘äººçœŸå¾—äº†ç™Œç—‡ï¼Ÿ å¦‚ç”¨Recallå¯¹ç³»ç»Ÿè¿›è¡Œè¯„ä¼°ï¼Œé‚£ä¹ˆå…¶å›ç­”çš„é—®é¢˜å°±æ˜¯ï¼š åœ¨ä¸€å †å¾—äº†ç™Œç—‡çš„ç—…äººä¸­ï¼Œåˆ°åº•æœ‰å¤šå°‘äººèƒ½è¢«æˆåŠŸæ£€æµ‹å‡ºç™Œç—‡ï¼Ÿ å¦‚ç”¨Accuracyå¯¹ç³»ç»Ÿè¿›è¡Œè¯„ä¼°ï¼Œé‚£ä¹ˆå…¶å›ç­”çš„é—®é¢˜å°±æ˜¯ï¼š åœ¨ä¸€å †ç™Œç—‡ç—…äººå’Œæ­£å¸¸äººä¸­ï¼Œæœ‰å¤šå°‘äººè¢«ç³»ç»Ÿç»™å‡ºäº†æ­£ç¡®è¯Šæ–­ç»“æœï¼ˆæ‚£ç™Œæˆ–æ²¡æ‚£ç™Œï¼‰ï¼Ÿ é‚£å•¥æ—¶å€™åº”è¯¥æ›´æ³¨é‡Recallè€Œä¸æ˜¯Precisionå‘¢ï¼Ÿ å½“False Negative (FN)çš„æˆæœ¬ä»£ä»·å¾ˆé«˜ (åæœå¾ˆä¸¥é‡)ï¼Œå¸Œæœ›å°½é‡é¿å…äº§ç”ŸFNæ—¶ï¼Œåº”è¯¥ç€é‡è€ƒè™‘æé«˜RecallæŒ‡æ ‡ã€‚ é‚£å•¥æ—¶å€™åº”è¯¥æ›´æ³¨é‡Precisionè€Œä¸æ˜¯Recallå‘¢ï¼Ÿ å½“False Positive (FP)çš„æˆæœ¬ä»£ä»·å¾ˆé«˜ (åæœå¾ˆä¸¥é‡)æ—¶ï¼Œå³æœŸæœ›å°½é‡é¿å…äº§ç”ŸFPæ—¶ï¼Œåº”è¯¥ç€é‡è€ƒè™‘æé«˜PrecisionæŒ‡æ ‡ã€‚ $$\\text{F1-score} = \\frac{2 \\times Precision \\times Recall}{Precision + Recall}$$ è€ŒF1-scoreæ˜¯Precisionå’ŒRecallä¸¤è€…çš„ç»¼åˆã€‚ ä¸¾ä¸ªæ›´æœ‰æ„æ€çš„ä¾‹å­ï¼ˆæˆ‘æ‹è„‘è¢‹æƒ³å‡ºæ¥çš„ï¼Œç»å¯¹åŸåˆ›å“ˆï¼‰ï¼Œå‡è®¾æ£€å¯Ÿæœºå…³æƒ³å°†ç½ªçŠ¯æ‰æ‹¿å½’æ¡ˆï¼Œéœ€è¦å¯¹æ‰€æœ‰äººç¾¤è¿›è¡Œåˆ†æï¼Œä»¥åˆ¤æ–­æŸäººçŠ¯äº†ç½ªï¼ˆPositiveï¼‰ï¼Œè¿˜æ˜¯æ²¡çŠ¯ç½ªï¼ˆNegativeï¼‰ã€‚æ˜¾ç„¶ï¼Œæ£€å¯Ÿæœºå…³å¸Œæœ›ä¸æ¼æ‰ä¸€ä¸ªç½ªäººï¼ˆæé«˜recallï¼‰ï¼Œä¹Ÿä¸é”™æ€ªä¸€ä¸ªå¥½äººï¼ˆæé«˜precisionï¼‰ï¼Œæ‰€ä»¥å°±éœ€è¦åŒæ—¶æƒè¡¡recallå’Œprecisionä¸¤ä¸ªæŒ‡æ ‡ã€‚ å°¤å…¶åœ¨ä¸Šä¸ªä¸–çºªï¼Œä¸­å›½å¸æ³•ä½“åˆ¶ä¼šæ›´åå‘Recallï¼Œå³ã€Œå¤©ç½‘æ¢æ¢ï¼Œç–è€Œä¸æ¼ï¼Œä»»ä½•ç½ªçŠ¯éƒ½æ’ç¿…éš¾é£ã€ã€‚è€Œè¥¿æ–¹å¸æ³•ç³»ç»Ÿä¼šæ›´åå‘Precisionï¼Œå³ã€Œç»ä¸å†¤æ‰ä¸€ä¸ªå¥½äººï¼Œä½†æ˜¯éš¾å…æœ‰ç½ªçŠ¯æˆä¸ºæ¼ç½‘ä¹‹é±¼ï¼Œé€é¥æ³•å¤–ã€ã€‚åˆ°åº•æ˜¯å“ªç§æ›´å¥½å‘¢ï¼Ÿæ˜¾ç„¶ï¼Œæç«¯å¹¶ä¸å¯å–ã€‚Precisionå’ŒRecalléƒ½åº”è¯¥è¶Šé«˜è¶Šå¥½ï¼Œä¹Ÿå°±æ˜¯F1åº”è¯¥è¶Šé«˜è¶Šå¥½ã€‚ å¦‚ä½•é€šä¿—çš„è§£é‡Šå¬å›ç‡ä¸ç²¾ç¡®ç‡ï¼Ÿ ä¾‹ï¼šå…¬å›­é‡Œæœ‰50åªçš®å¡ä¸˜å’Œ10åªè‡­è‡­æ³¥ã€‚æœ‰æ­£å¸¸å®¡ç¾çš„äººéƒ½ä¼šæƒ³è¦ç”¨ç²¾çµçƒæŠŠå°½å¯èƒ½å¤šçš„çš®å¡ä¸˜æŠ“å›æ¥ï¼ŒåŒæ—¶å°½å¯èƒ½å°‘åœ°æŠ“ä½è‡­è‡­æ³¥ã€‚ æœ€ç»ˆæˆ‘ä»¬çš„ç²¾çµçƒæˆåŠŸæŠ“å›æ¥äº†45åªçš®å¡ä¸˜å’Œ10åªè‡­è‡­æ³¥ã€‚ æˆ‘ä»¬å°±å¯ä»¥è¯´50åªçš®å¡ä¸˜ä¸­æœ‰45åªè¢«å¬å”¤ (call) å›æ¥ (re) äº†ï¼Œæ‰€ä»¥ recall = 45 / 50ã€‚ ä½†åŒæ—¶ï¼Œè¿™å°æœºå™¨è¿˜è¯¯æŠŠ5åªè‡­è‡­æ³¥è¯†åˆ«ä¸ºçš®å¡ä¸˜ï¼Œåœ¨å®ƒæŠ“å›æ¥çš„æ‰€æœ‰55åªç¥å¥‡å®è´ä¸­ï¼Œç²¾çµçƒå¯¹çš®å¡ä¸˜åˆ¤æ–­çš„ç²¾å‡†æ€§ (precision) = 45 / 55ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç²¾çµçƒ=é¢„æµ‹æ¨¡å‹ï¼Œçš®å¡ä¸˜=æ­£æ ·æœ¬ï¼Œè‡­è‡­æ³¥=è´Ÿæ ·æœ¬ã€‚ æ€»ç»“è¿™ä¸¤ä¸ªæ¦‚å¿µçš„ç”¨å¤„ï¼šæè¿°æ¨¡å‹å¯¹æ­£æ ·æœ¬çš„é¢„æµ‹æ€§èƒ½ 1ã€recallæè¿°æ¨¡å‹â€œæŠŠæ­£æ ·æœ¬å« (call) å›æ¥(re)â€çš„èƒ½åŠ›ã€‚ 2ã€precisionæè¿°æ¨¡å‹â€œå«å›æ¥çš„æ­£æ ·æœ¬â€æœ‰å¤šå°‘æ˜¯ç²¾ç¡®çš„ã€‚ ","date":"2023-07-15","objectID":"/posts/metrics/:1:0","tags":["draft"],"title":"Classification and Regression Metrics","uri":"/posts/metrics/"},{"categories":["ML"],"content":"AOC / AUC æ··æ·†çŸ©é˜µä¸­æœ‰ç€Positiveã€Negativeã€Trueã€Falseçš„æ¦‚å¿µï¼Œå…¶æ„ä¹‰å¦‚ä¸‹ï¼š ç§°é¢„æµ‹ç±»åˆ«ä¸º1çš„ä¸ºPositiveï¼ˆé˜³æ€§ï¼‰ï¼Œé¢„æµ‹ç±»åˆ«ä¸º0çš„ä¸ºNegativeï¼ˆé˜´æ€§ï¼‰ã€‚ é¢„æµ‹æ­£ç¡®çš„ä¸ºTrueï¼ˆçœŸï¼‰ï¼Œé¢„æµ‹é”™è¯¯çš„ä¸ºFalseï¼ˆä¼ªï¼‰ã€‚ å¯¹ä¸Šè¿°æ¦‚å¿µè¿›è¡Œç»„åˆï¼Œå°±äº§ç”Ÿäº†å¦‚ä¸‹çš„æ··æ·†çŸ©é˜µ: ç„¶åï¼Œç”±æ­¤å¼•å‡ºTrue Positive Rateï¼ˆçœŸé˜³ç‡ï¼‰ã€False Positiveï¼ˆä¼ªé˜³ç‡ï¼‰ä¸¤ä¸ªæ¦‚å¿µï¼š $$TP Rate = \\frac{TP}{TP + FN}$$ $$FP Rate = \\frac{FP}{FP + TN}$$ ä»”ç»†çœ‹è¿™ä¸¤ä¸ªå…¬å¼ï¼Œå‘ç°å…¶å®TPRateå°±æ˜¯TPé™¤ä»¥TPæ‰€åœ¨çš„åˆ—ï¼ŒFPRateå°±æ˜¯FPé™¤ä»¥FPæ‰€åœ¨çš„åˆ—ï¼ŒäºŒè€…æ„ä¹‰å¦‚ä¸‹ï¼š TPRateçš„æ„ä¹‰æ˜¯æ‰€æœ‰çœŸå®ç±»åˆ«ä¸º1çš„æ ·æœ¬ä¸­ï¼Œé¢„æµ‹ç±»åˆ«ä¸º1çš„æ¯”ä¾‹ã€‚ FPRateçš„æ„ä¹‰æ˜¯æ‰€æœ‰çœŸå®ç±»åˆ«ä¸º0çš„æ ·æœ¬ä¸­ï¼Œé¢„æµ‹ç±»åˆ«ä¸º1çš„æ¯”ä¾‹ã€‚ å¦‚æœä¸Šè¿°æ¦‚å¿µéƒ½å¼„æ‡‚äº†ï¼Œé‚£ä¹ˆROCæ›²çº¿å’ŒAUCå°±so easyäº†ï¼š æŒ‰ç…§å®šä¹‰ï¼ŒAUCå³ROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œè€ŒROCæ›²çº¿çš„æ¨ªè½´æ˜¯FPRateï¼Œçºµè½´æ˜¯TPRateï¼Œå½“äºŒè€…ç›¸ç­‰æ—¶ï¼Œå³y=xï¼Œå¦‚ä¸‹å›¾: è¡¨ç¤ºçš„æ„ä¹‰æ˜¯ï¼šå¯¹äºä¸è®ºçœŸå®ç±»åˆ«æ˜¯1è¿˜æ˜¯0çš„æ ·æœ¬ï¼Œåˆ†ç±»å™¨é¢„æµ‹ä¸º1çš„æ¦‚ç‡æ˜¯ç›¸ç­‰çš„ã€‚ æ¢å¥è¯è¯´ï¼Œåˆ†ç±»å™¨å¯¹äºæ­£ä¾‹å’Œè´Ÿä¾‹æ¯«æ— åŒºåˆ†èƒ½åŠ›ï¼Œå’ŒæŠ›ç¡¬å¸æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸€ä¸ªæŠ›ç¡¬å¸çš„åˆ†ç±»å™¨æ˜¯æˆ‘ä»¬èƒ½æƒ³è±¡çš„æœ€å·®çš„æƒ…å†µï¼Œå› æ­¤ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è®¤ä¸ºAUCçš„æœ€å°å€¼ä¸º0.5ï¼ˆå½“ç„¶ä¹Ÿå­˜åœ¨é¢„æµ‹ç›¸åè¿™ç§æç«¯çš„æƒ…å†µï¼ŒAUCå°äº0.5ï¼Œè¿™ç§æƒ…å†µç›¸å½“äºåˆ†ç±»å™¨æ€»æ˜¯æŠŠå¯¹çš„è¯´æˆé”™çš„ï¼Œé”™çš„è®¤ä¸ºæ˜¯å¯¹çš„ï¼Œé‚£ä¹ˆåªè¦æŠŠé¢„æµ‹ç±»åˆ«å–åï¼Œä¾¿å¾—åˆ°äº†ä¸€ä¸ªAUCå¤§äº0.5çš„åˆ†ç±»å™¨ï¼‰ã€‚ è€Œæˆ‘ä»¬å¸Œæœ›åˆ†ç±»å™¨è¾¾åˆ°çš„æ•ˆæœæ˜¯ï¼šå¯¹äºçœŸå®ç±»åˆ«ä¸º1çš„æ ·æœ¬ï¼Œåˆ†ç±»å™¨é¢„æµ‹ä¸º1çš„æ¦‚ç‡ï¼ˆå³TPRateï¼‰ï¼Œè¦å¤§äºçœŸå®ç±»åˆ«ä¸º0è€Œé¢„æµ‹ç±»åˆ«ä¸º1çš„æ¦‚ç‡ï¼ˆå³FPRateï¼‰ï¼Œå³yï¼xï¼Œå› æ­¤å¤§éƒ¨åˆ†çš„ROCæ›²çº¿é•¿æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š è¯´äº†è¿™ä¹ˆå¤šè¿˜æ˜¯ä¸å¤Ÿç›´è§‚ï¼Œä¸å¦¨ä¸¾ä¸ªç®€å•çš„ä¾‹å­ã€‚ é¦–å…ˆå¯¹äºç¡¬åˆ†ç±»å™¨ï¼ˆä¾‹å¦‚SVMï¼ŒNBï¼‰ï¼Œé¢„æµ‹ç±»åˆ«ä¸ºç¦»æ•£æ ‡ç­¾ï¼Œå¯¹äº8ä¸ªæ ·æœ¬çš„é¢„æµ‹æƒ…å†µå¦‚ä¸‹ï¼š å¾—åˆ°æ··æ·†çŸ©é˜µå¦‚ä¸‹ï¼š è¿›è€Œç®—å¾—TPRate=3/4ï¼ŒFPRate=2/4ï¼Œå¾—åˆ°ROCæ›²çº¿ï¼š æœ€ç»ˆå¾—åˆ°AUCä¸º0.625ã€‚ å¯¹äºLRç­‰é¢„æµ‹ç±»åˆ«ä¸ºæ¦‚ç‡çš„åˆ†ç±»å™¨ï¼Œä¾ç„¶ç”¨ä¸Šè¿°ä¾‹å­ï¼Œå‡è®¾é¢„æµ‹ç»“æœå¦‚ä¸‹ï¼š è¿™æ—¶ï¼Œéœ€è¦è®¾ç½®é˜ˆå€¼æ¥å¾—åˆ°æ··æ·†çŸ©é˜µï¼Œä¸åŒçš„é˜ˆå€¼ä¼šå½±å“å¾—åˆ°çš„TPRateï¼ŒFPRateï¼Œå¦‚æœé˜ˆå€¼å–0.5ï¼Œå°äº0.5çš„ä¸º0ï¼Œå¦åˆ™ä¸º1ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸ä¹‹å‰ä¸€æ ·çš„æ··æ·†çŸ©é˜µã€‚å…¶ä»–çš„é˜ˆå€¼å°±ä¸å†å•°å—¦äº†ã€‚ä¾æ¬¡ä½¿ç”¨æ‰€æœ‰é¢„æµ‹å€¼ä½œä¸ºé˜ˆå€¼ï¼Œå¾—åˆ°ä¸€ç³»åˆ—TPRateï¼ŒFPRateï¼Œæç‚¹ï¼Œæ±‚é¢ç§¯ï¼Œå³å¯å¾—åˆ°AUCã€‚ æœ€åè¯´è¯´AUCçš„ä¼˜åŠ¿ï¼ŒAUCçš„è®¡ç®—æ–¹æ³•åŒæ—¶è€ƒè™‘äº†åˆ†ç±»å™¨å¯¹äºæ­£ä¾‹å’Œè´Ÿä¾‹çš„åˆ†ç±»èƒ½åŠ›ï¼Œåœ¨æ ·æœ¬ä¸å¹³è¡¡çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶èƒ½å¤Ÿå¯¹åˆ†ç±»å™¨ä½œå‡ºåˆç†çš„è¯„ä»·ã€‚ ä¾‹å¦‚åœ¨åæ¬ºè¯ˆåœºæ™¯ï¼Œè®¾æ¬ºè¯ˆç±»æ ·æœ¬ä¸ºæ­£ä¾‹ï¼Œæ­£ä¾‹å æ¯”å¾ˆå°‘ï¼ˆå‡è®¾0.1%ï¼‰ï¼Œå¦‚æœä½¿ç”¨å‡†ç¡®ç‡è¯„ä¼°ï¼ŒæŠŠæ‰€æœ‰çš„æ ·æœ¬é¢„æµ‹ä¸ºè´Ÿä¾‹ï¼Œä¾¿å¯ä»¥è·å¾—99.9%çš„å‡†ç¡®ç‡ã€‚ ä½†æ˜¯å¦‚æœä½¿ç”¨AUCï¼ŒæŠŠæ‰€æœ‰æ ·æœ¬é¢„æµ‹ä¸ºè´Ÿä¾‹ï¼ŒTPRateå’ŒFPRateåŒæ—¶ä¸º0ï¼ˆæ²¡æœ‰Positiveï¼‰ï¼Œä¸(0,0) (1,1)è¿æ¥ï¼Œå¾—å‡ºAUCä»…ä¸º0.5ï¼ŒæˆåŠŸè§„é¿äº†æ ·æœ¬ä¸å‡åŒ€å¸¦æ¥çš„é—®é¢˜ã€‚ ","date":"2023-07-15","objectID":"/posts/metrics/:2:0","tags":["draft"],"title":"Classification and Regression Metrics","uri":"/posts/metrics/"},{"categories":["ML"],"content":"å¤šåˆ†ç±»æ¨¡å‹çš„å¸¸è§æŒ‡æ ‡è¯¦ç»†è§£æ åœ¨å¤šåˆ†ç±»ï¼ˆå¤§äºä¸¤ä¸ªç±»ï¼‰é—®é¢˜ä¸­ï¼Œå‡è®¾æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªåŠ¨ç‰©è¯†åˆ«ç³»ç»Ÿï¼Œæ¥åŒºåˆ†è¾“å…¥å›¾ç‰‡æ˜¯çŒ«ï¼Œç‹—è¿˜æ˜¯çŒªã€‚ç»™å®šåˆ†ç±»å™¨ä¸€å †åŠ¨ç‰©å›¾ç‰‡ï¼Œäº§ç”Ÿäº†å¦‚ä¸‹ç»“æœæ··æ·†çŸ©é˜µã€‚ åœ¨æ··æ·†çŸ©é˜µä¸­ï¼Œæ­£ç¡®çš„åˆ†ç±»æ ·æœ¬ï¼ˆActual label = Predicted labelï¼‰åˆ†å¸ƒåœ¨å·¦ä¸Šåˆ°å³ä¸‹çš„å¯¹è§’çº¿ä¸Šã€‚å…¶ä¸­ï¼ŒAccuracyçš„å®šä¹‰ä¸ºåˆ†ç±»æ­£ç¡®ï¼ˆå¯¹è§’çº¿ä¸Šï¼‰çš„æ ·æœ¬æ•°ä¸æ€»æ ·æœ¬æ•°çš„æ¯”å€¼ã€‚Accuracyåº¦é‡çš„æ˜¯å…¨å±€æ ·æœ¬é¢„æµ‹æƒ…å†µã€‚è€Œå¯¹äºPrecisionå’ŒRecallè€Œè¨€ï¼Œæ¯ä¸ªç±»éƒ½éœ€è¦å•ç‹¬è®¡ç®—å…¶Precisionå’ŒRecallã€‚ classify_multiclass_prediction æ¯”å¦‚ï¼Œå¯¹ç±»åˆ«ã€ŒçŒªã€è€Œè¨€ï¼Œå…¶Precisionå’ŒRecallåˆ†åˆ«ä¸º: $$\\text{Precision} = \\frac{TP}{TP + FP} = \\frac{20}{20 + 50} = \\frac{2}{7}$$ $$\\text{Recall} = \\frac{TP}{TP + FN} = \\frac{20}{10} = \\frac{2}{3}$$ ä¹Ÿå°±æ˜¯: $$P_{cat} = \\frac{8}{15}, P_{dog} = \\frac{17}{23}, P_{pig} = \\frac{2}{7}, (Pä»£è¡¨Precision) $$ $$R_{cat} = \\frac{4}{7}, R_{dog} = \\frac{17}{32}, R_{pig} = \\frac{2}{3}, (Rä»£è¡¨Recall) $$ å¦‚æœæƒ³è¯„ä¼°è¯¥è¯†åˆ«ç³»ç»Ÿçš„æ€»ä½“åŠŸèƒ½ï¼Œå¿…é¡»è€ƒè™‘çŒ«ã€ç‹—ã€çŒªä¸‰ä¸ªç±»åˆ«çš„ç»¼åˆé¢„æµ‹æ€§èƒ½ã€‚é‚£ä¹ˆï¼Œåˆ°åº•è¦æ€ä¹ˆç»¼åˆè¿™ä¸‰ä¸ªç±»åˆ«çš„Precisionå‘¢ï¼Ÿæ˜¯ç®€å•åŠ èµ·æ¥åšå¹³å‡å—ï¼Ÿé€šå¸¸æ¥è¯´ï¼Œ æˆ‘ä»¬æœ‰å¦‚ä¸‹å‡ ç§è§£å†³æ–¹æ¡ˆï¼ˆä¹Ÿå¯å‚è€ƒscikit-learnå®˜ç½‘ï¼‰ï¼š 1. Macro-averageæ–¹æ³• è¯¥æ–¹æ³•æœ€ç®€å•ï¼Œç›´æ¥å°†ä¸åŒç±»åˆ«çš„è¯„ä¼°æŒ‡æ ‡ï¼ˆPrecision/ Recall/ F1-scoreï¼‰åŠ èµ·æ¥æ±‚å¹³å‡ï¼Œç»™æ‰€æœ‰ç±»åˆ«ç›¸åŒçš„æƒé‡ã€‚è¯¥æ–¹æ³•èƒ½å¤Ÿå¹³ç­‰çœ‹å¾…æ¯ä¸ªç±»åˆ«ï¼Œä½†æ˜¯å®ƒçš„å€¼ä¼šå—ç¨€æœ‰ç±»åˆ«å½±å“ã€‚ $$\\text{Macro-Precision} = \\frac{P_{cat} + P_{dog} + P_{pig}}{3} = 0.5194$$ $$\\text{Macro-Recall} = \\frac{R_{cat} + R_{dog} + R_{pig}}{3} = 0.5898$$ 2. Weighted-averageæ–¹æ³• è¯¥æ–¹æ³•ç»™ä¸åŒç±»åˆ«ä¸åŒæƒé‡ï¼ˆæƒé‡æ ¹æ®è¯¥ç±»åˆ«çš„çœŸå®åˆ†å¸ƒæ¯”ä¾‹ç¡®å®šï¼‰ï¼Œæ¯ä¸ªç±»åˆ«ä¹˜æƒé‡åå†è¿›è¡Œç›¸åŠ ã€‚è¯¥æ–¹æ³•è€ƒè™‘äº†ç±»åˆ«ä¸å¹³è¡¡æƒ…å†µï¼Œå®ƒçš„å€¼æ›´å®¹æ˜“å—åˆ°å¸¸è§ç±»ï¼ˆmajority classï¼‰çš„å½±å“ã€‚ $$W_{cat} : W_{dog} : W_{pig} = N_{cat} : N_{dog} : N_{pig} = \\frac{7}{26} : \\frac{16}{26} : \\frac{3}{26} (Wä»£è¡¨æƒé‡ï¼ŒNä»£è¡¨æ ·æœ¬åœ¨è¯¥ç±»åˆ«ä¸‹çš„çœŸå®æ•°ç›®)$$ $$\\text{Weighted-Precision} = P_{cat} \\times W_{cat} + P_{dog} \\times W_{dog} + P_{pig} \\times W_{pig} = 0.6314$$ $$\\text{Weighted-Recall} = {R_{cat} \\times W_{cat} + R_{dog} \\times W_{dog} + R_{pig} \\times W_{pig}}= 0.5577$$ 3. Micro-averageæ–¹æ³• è¯¥æ–¹æ³•æŠŠæ¯ä¸ªç±»åˆ«çš„TP, FP, FNå…ˆç›¸åŠ ä¹‹åï¼Œåœ¨æ ¹æ®äºŒåˆ†ç±»çš„å…¬å¼è¿›è¡Œè®¡ç®—ã€‚ $$\\text{Micro-Precision} = \\frac{TP_{cat} + TP_{dog} + TP_{pig}}{TP_{cat} + TP_{dog} + TP_{pig} + FP_{cat} + FP_{dog} + FP_{pig}} = 0.5577$$ $$\\text{Micro-Recall} = \\frac{TP_{cat} + TP_{dog} + TP_{pig}}{TP_{cat} + TP_{dog} + TP_{pig} + FN_{cat} + FN_{dog} + FN_{pig}} = 0.5577$$ å…¶ä¸­ï¼Œç‰¹åˆ«æœ‰æ„æ€çš„æ˜¯ï¼ŒMicro-precision å’Œ Micro-recallç«Ÿç„¶å§‹ç»ˆç›¸åŒï¼è¿™æ˜¯ä¸ºå•¥å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºåœ¨æŸä¸€ç±»ä¸­çš„False Positiveæ ·æœ¬ï¼Œä¸€å®šæ˜¯å…¶ä»–æŸç±»åˆ«çš„False Negativeæ ·æœ¬ã€‚å¬èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¯´ç³»ç»Ÿé”™æŠŠã€Œç‹—ã€é¢„æµ‹æˆã€ŒçŒ«ã€ï¼Œé‚£ä¹ˆå¯¹äºç‹—è€Œè¨€ï¼Œå…¶é”™è¯¯ç±»å‹å°±æ˜¯False Negativeï¼Œå¯¹äºçŒ«è€Œè¨€ï¼Œå…¶é”™è¯¯ç±»å‹å°±æ˜¯False Positiveã€‚äºæ­¤åŒæ—¶ï¼ŒMicro-precisionå’ŒMicro-recallçš„æ•°å€¼éƒ½ç­‰äºAccuracyï¼Œå› ä¸ºå®ƒä»¬è®¡ç®—äº†å¯¹è§’çº¿æ ·æœ¬æ•°å’Œæ€»æ ·æœ¬æ•°çš„æ¯”å€¼ï¼Œæ€»ç»“å°±æ˜¯ $$\\text{Micro-Precision} = \\text{Micro-Recall} = \\text{Micro-F1 score} = \\text{Accuracy}$$ demoç¤ºä¾‹: import numpy as np import seaborn as sns from sklearn.metrics import confusion_matrix import pandas as pd import matplotlib.pyplot as plt from sklearn.metrics import accuracy_score, average_precision_score,precision_score,f1_score,recall_score # create confusion matrix y_true = np.array([-1]*70 + [0]*160 + [1]*30) y_pred = np.array([-1]*40 + [0]*20 + [1]*20 + [-1]*30 + [0]*80 + [1]*30 + [-1]*5 + [0]*15 + [1]*20) cm = confusion_matrix(y_true, y_pred) conf_matrix = pd.DataFrame(cm, index=['Cat','Dog','Pig'], columns=['Cat','Dog','Pig']) # plot size setting fig, ax = plt.subplots(figsize = (4.5,3.5)) sns.heatmap(conf_matrix, annot=True, annot_kws={\"size\": 19}, cmap=\"Blues\") plt.ylabel('True label', fontsize=18) plt.xlabel('Predicted label', fontsize=18) plt.xticks(fontsize=18) plt.yticks(fontsize=18) plt.savefig('confusion.pdf', bbox_inches='tight') plt.show() print('------Weighted------') print('Weighted precision', precision_score(y_true, y_pred, average='weighted')) print('Weighted recall', recall_score(y_true, y_pred, average='weighted')) print('Weighted f1-score', f1_score(y_true, y_pred, average='weighted')) print('------Macro------') print('Macro precision', precision_score(y_true, y_pred, average='macro')) print('Macro recall', recall_score(y_true, y_pred, average='macro')) print('Macro f1-score', f1_score(y_true, y_pred, average='macro')) print('------Micro------') print('Micro precision', precision_score(y_true, y_pred, average='micro')) print('Micro recall', recall_score(y_true, y_pred, average='micro')) print('Micro f1-score', f1_score(y_true, y_pred, average='micro')) Regression å›å½’ å›å½’ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡å°±æ˜¯MSEï¼ŒRMSEï¼ŒMAEã€R-Squaredã€‚ MSEå’ŒMAEé€‚ç”¨äºè¯¯å·®ç›¸å¯¹æ˜æ˜¾çš„æ—¶å€™ï¼Œå¤§çš„è¯¯å·®ä¹Ÿæœ‰æ¯”è¾ƒé«˜çš„æƒé‡ï¼ŒRMSEåˆ™æ˜¯é’ˆå¯¹è¯¯å·®ä¸æ˜¯å¾ˆæ˜æ˜¾çš„æ—¶å€™ï¼›MAEæ˜¯ä¸€ä¸ªçº¿æ€§çš„æŒ‡æ ‡ï¼Œæ‰€æœ‰ä¸ªä½“å·®å¼‚åœ¨å¹³å‡å€¼ä¸Šå‡ç­‰åŠ æƒï¼Œæ‰€ä»¥å®ƒæ›´åŠ å‡¸æ˜¾å‡ºå¼‚å¸¸å€¼ï¼Œç›¸æ¯”MSEï¼› RMSLE: ä¸»è¦é’ˆå¯¹æ•°æ®é›†ä¸­æœ‰ä¸€ä¸ªç‰¹åˆ«å¤§çš„å¼‚å¸¸å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œdataä¼šè¢«s","date":"2023-07-15","objectID":"/posts/metrics/:3:0","tags":["draft"],"title":"Classification and Regression Metrics","uri":"/posts/metrics/"},{"categories":["ML"],"content":"ç”¨pickleä¿å­˜å’ŒåŠ è½½æ¨¡å‹ ä¿å­˜æ¨¡å‹ import pickle from sklearn.svm import SVC model_dir = './model.pkl' model = SVC() with open(model_dir, 'wb') as f: pickle.dump(model, f) f.close() # æ³¨æ„:ä¿å­˜å®Œæ¨¡å‹ä¹‹åè¦å…³é—­æ–‡ä»¶ åŠ è½½æ¨¡å‹ import pickle model_dir = './model.pkl' with open(model_dir, 'rb') as f: model = pickel.load(f) print(mode.predict(x)) ","date":"2023-07-15","objectID":"/posts/notes_1/:1:0","tags":["draft"],"title":"Maching Learning Notes 1","uri":"/posts/notes_1/"},{"categories":["ML"],"content":"é€»è¾‘å›å½’ Logistic Regression LR Implementation code snippets from sklearn.linear_model import LogisticRegression from sklearn.model_selection import train_test_split from sklearn.metrics import accuracy_score import numpy as np import matplotlib.pyplot as plt import pickle from tqdm import tqdm data_path = './data/merged_data/data.npy' data = np.load(data_path, allow_pickle=True) model_l1_path='./model/logistic_reg_l1.pickle' model_l2_path='./model/logictic_reg_l2.pickle' X = data[:,0:35] y = data[:, -1] X_train, x_test, Y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=1) # lr_l1 = LogisticRegression(penalty=\"l1\", C=0.5, solver='sag', multi_class=\"auto\") # lr_l2 = LogisticRegression(penalty=\"l2\", C=0.5, solver='sag', multi_class=\"auto\") # # train model # lr_l1.fit(X_train, Y_train) # lr_l2.fit(X_train, Y_train) # model performence on train set l1_train_predict = [] l2_train_predict = [] # model performence on test set l1_test_predict = [] l2_test_predict = [] for c in tqdm(np.linspace(0.01, 2, 50)): # lr_l1 = LogisticRegression(penalty=\"l1\", C=c, solver='liblinear', max_iter=1000) # lr_l2 = LogisticRegression(penalty='l2', C=c, solver='liblinear', max_iter=1000) lr_l1 = LogisticRegression(penalty=\"l1\", C=c, solver='liblinear', max_iter=1000, multi_class='auto') lr_l2 = LogisticRegression(penalty='l2', C=c, solver='liblinear', max_iter=1000, multi_class='auto') # è®­ç»ƒæ¨¡å‹ï¼Œè®°å½•L1æ­£åˆ™åŒ–æ¨¡å‹åœ¨è®­ç»ƒé›†æµ‹è¯•é›†ä¸Šçš„è¡¨ç° lr_l1.fit(X_train, Y_train) l1_train_predict.append(accuracy_score(lr_l1.predict(X_train), Y_train)) l1_test_predict.append(accuracy_score(lr_l1.predict(x_test), y_test)) # è®°å½•L2æ­£åˆ™åŒ–æ¨¡å‹çš„è¡¨ç° lr_l2.fit(X_train, Y_train) l2_train_predict.append(accuracy_score(lr_l2.predict(X_train), Y_train)) l2_test_predict.append(accuracy_score(lr_l2.predict(x_test), y_test)) if c == 2: pred_y_test = lr_l2.predict(x_test) mask = abs(pred_y_test-y_test) \u003c 5 neg_test = pred_y_test[mask] res = (len(neg_test)/len(pred_y_test)) print(res) with open(model_l1_path, 'wb') as f1: pickle.dump(lr_l1, f1) with open(model_l2_path, 'wb') as f2: pickle.dump(lr_l2, f2) data = [l1_train_predict, l2_train_predict, l1_test_predict, l2_test_predict] label = ['l1_train', 'l2_train', 'l1_test', \"l2_test\"] color = ['red', 'green', 'orange', 'blue'] plt.figure(figsize=(12, 6)) for i in range(4) : plt.plot(np.linspace(0.01, 2, 50), data[i], label=label[i], color=color[i]) plt.legend(loc=\"best\") plt.show() ","date":"2023-07-15","objectID":"/posts/notes_1/:2:0","tags":["draft"],"title":"Maching Learning Notes 1","uri":"/posts/notes_1/"},{"categories":["ML"],"content":"æ”¯æŒå‘é‡æœº Support Vector Machine Using GridSearch to find the best parameters [code snippets] import numpy as np import matplotlib.pyplot as plt from sklearn.linear_model import Perceptron, LogisticRegression from sklearn.svm import SVC from sklearn.model_selection import train_test_split from sklearn.preprocessing import StandardScaler from sklearn import datasets from sklearn import metrics import pickle merged_data_dir = '../data/merged_data/merged_data.npy' model_dir='./svm.pkl' data = np.load(merged_data_dir, allow_pickle=True) #labeling for ele in data: if ele[-1] \u003c 20: ele[-1] = 0 elif ele[-1] \u003e=20 and ele[-1] \u003c 40: ele[-1] = 1 else: ele[-1] = 2 X = data[:,0:34] y = data[:,-1] print(y) # Create training and test split X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=1, stratify=y) # feature scaling # sc = StandardScaler() # sc.fit(X_train) # X_train_std = sc.transform(X_train) # X_test_std = sc.transform(X_test) ################################## # # Instantiate the Support Vector Classifier (SVC) # svc = SVC(C=10, random_state=1, kernel='rbf', gamma=0.3) # # Fit the model # svc.fit(X_train, y_train) # # Make the predictions # y_predict = svc.predict(X_test) # # Measure the performance # print(\"Accuracy score %.3f\" %metrics.accuracy_score(y_test, y_predict)) ############################################# def svm_cross_validation(train_x, train_y): from sklearn.model_selection import GridSearchCV from sklearn.svm import SVC model = SVC(kernel='rbf', probability=True) param_grid = {'C': [1e-3, 1e-2, 1e-1, 1, 10, 100, 1000], 'gamma': [0.001, 0.0001]} grid_search = GridSearchCV(model, param_grid, n_jobs = 8, verbose=1, scoring='accuracy') grid_search.fit(train_x, train_y) best_parameters = grid_search.best_estimator_.get_params() for para, val in list(best_parameters.items()): print(para, val) model = SVC(kernel='rbf', C=best_parameters['C'], gamma=best_parameters['gamma'], probability=True) model.fit(train_x, train_y) return model svm_model = svm_cross_validation(X_train, y_train) with open(model_dir, 'wb') as f1: pickle.dump(svm_model, f1) f1.close() print(svm_model.score(X_test, y_test)) y_predict = svm_model.predict(X_test) print(y_predict) ","date":"2023-07-15","objectID":"/posts/notes_1/:3:0","tags":["draft"],"title":"Maching Learning Notes 1","uri":"/posts/notes_1/"},{"categories":["Memo"],"content":"docker å…¥é—¨æ•™ç¨‹ Ref Link: [1] https://ruanyifeng.com/blog/2018/02/docker-tutorial.html [2] https://cloud.tencent.com/developer/article/1885678 [3] ã€ŒDockerã€ - ä¿å­˜é•œåƒ [4] å¦‚ä½•åˆ¶ä½œDockeré•œåƒ(image)? ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:0","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"ä¸€ã€Docker æ˜¯ä»€ä¹ˆï¼Ÿ \u0026\u0026 Docker çš„ç”¨é€” Docker å±äº Linux å®¹å™¨çš„ä¸€ç§å°è£…ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ã€‚å®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„ Linux å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚ Docker å°†åº”ç”¨ç¨‹åºä¸è¯¥ç¨‹åºçš„ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿå®¹å™¨ã€‚ç¨‹åºåœ¨è¿™ä¸ªè™šæ‹Ÿå®¹å™¨é‡Œè¿è¡Œï¼Œå°±å¥½åƒåœ¨çœŸå®çš„ç‰©ç†æœºä¸Šè¿è¡Œä¸€æ ·ã€‚æœ‰äº† Dockerï¼Œå°±ä¸ç”¨æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚ æ€»ä½“æ¥è¯´ï¼ŒDocker çš„æ¥å£ç›¸å½“ç®€å•ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨ï¼ŒæŠŠè‡ªå·±çš„åº”ç”¨æ”¾å…¥å®¹å™¨ã€‚å®¹å™¨è¿˜å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€å¤åˆ¶ã€åˆ†äº«ã€ä¿®æ”¹ï¼Œå°±åƒç®¡ç†æ™®é€šçš„ä»£ç ä¸€æ ·ã€‚ ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:1","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"äºŒã€docker å®‰è£… å‚è€ƒè¿æ¥:ubuntuä¸‹dockerçš„å®‰è£… å®‰è£…å®Œæˆåï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚ docker version # or docker info Docker éœ€è¦ç”¨æˆ·å…·æœ‰ sudo æƒé™ï¼Œä¸ºäº†é¿å…æ¯æ¬¡å‘½ä»¤éƒ½è¾“å…¥sudoï¼Œå¯ä»¥æŠŠç”¨æˆ·åŠ å…¥ Docker ç”¨æˆ·ç»„ã€‚ # åˆ›å»ºdockerç”¨æˆ·ç»„ sudo groupadd docker # åº”ç”¨ç”¨æˆ·åŠ å…¥dockerç”¨æˆ·ç»„ sudo usermod -aG docker $USER # é‡å¯dockeræœåŠ¡ sudo systemctl restart docker su root su ${USER} Dockeræ˜¯æœåŠ¡å™¨â€“å®¢æˆ·ç«¯(serverâ€“client)æ¶æ„ã€‚å‘½ä»¤è¡Œè¿è¡Œdockerå‘½ä»¤çš„æ—¶å€™ï¼Œéœ€è¦æœ¬æœºæœ‰ Docker æœåŠ¡ã€‚å¦‚æœè¿™é¡¹æœåŠ¡æ²¡æœ‰å¯åŠ¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨: # service å‘½ä»¤çš„ç”¨æ³• sudo service docker start # systemctl å‘½ä»¤çš„ç”¨æ³• sudo systemctl start docker ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:2","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"ä¸‰ã€image æ–‡ä»¶ Docker æŠŠåº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ image æ–‡ä»¶é‡Œé¢ã€‚åªæœ‰é€šè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰èƒ½ç”Ÿæˆ Docker å®¹å™¨ã€‚image æ–‡ä»¶å¯ä»¥çœ‹ä½œæ˜¯å®¹å™¨çš„æ¨¡æ¿ã€‚Docker æ ¹æ® image æ–‡ä»¶ç”Ÿæˆå®¹å™¨çš„å®ä¾‹ã€‚åŒä¸€ä¸ª image æ–‡ä»¶ï¼Œå¯ä»¥ç”Ÿæˆå¤šä¸ªåŒæ—¶è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚ image æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å®é™…å¼€å‘ä¸­ï¼Œä¸€ä¸ª image æ–‡ä»¶å¾€å¾€é€šè¿‡ç»§æ‰¿å¦ä¸€ä¸ª image æ–‡ä»¶ï¼ŒåŠ ä¸Šä¸€äº›ä¸ªæ€§åŒ–è®¾ç½®è€Œç”Ÿæˆã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ å¯ä»¥åœ¨ Ubuntu çš„ image åŸºç¡€ä¸Šï¼Œå¾€é‡Œé¢åŠ å…¥ Apache æœåŠ¡å™¨ï¼Œå½¢æˆä½ çš„ imageã€‚ # åˆ—å‡ºæœ¬æœºçš„æ‰€æœ‰ image æ–‡ä»¶ã€‚ $ docker image ls # åˆ é™¤ image æ–‡ä»¶ $ docker image rm [imageName] image æ–‡ä»¶æ˜¯é€šç”¨çš„ï¼Œä¸€å°æœºå™¨çš„ image æ–‡ä»¶æ‹·è´åˆ°å¦ä¸€å°æœºå™¨ï¼Œç…§æ ·å¯ä»¥ä½¿ç”¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨åˆ«äººåˆ¶ä½œå¥½çš„ image æ–‡ä»¶ï¼Œè€Œä¸æ˜¯è‡ªå·±åˆ¶ä½œã€‚å³ä½¿è¦å®šåˆ¶ï¼Œä¹Ÿåº”è¯¥åŸºäºåˆ«äººçš„ image æ–‡ä»¶è¿›è¡ŒåŠ å·¥ï¼Œè€Œä¸æ˜¯ä»é›¶å¼€å§‹åˆ¶ä½œã€‚ ä¸ºäº†æ–¹ä¾¿å…±äº«ï¼Œimage æ–‡ä»¶åˆ¶ä½œå®Œæˆåï¼Œå¯ä»¥ä¸Šä¼ åˆ°ç½‘ä¸Šçš„ä»“åº“ã€‚Docker çš„å®˜æ–¹ä»“åº“ Docker Hub æ˜¯æœ€é‡è¦ã€æœ€å¸¸ç”¨çš„ image ä»“åº“ã€‚æ­¤å¤–ï¼Œå‡ºå”®è‡ªå·±åˆ¶ä½œçš„ image æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:3","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"å››ã€å®ä¾‹ï¼šhello world é¦–å…ˆï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå°† image æ–‡ä»¶ä»ä»“åº“æŠ“å–åˆ°æœ¬åœ°ã€‚ docker image pull library/hello-world ä¸Šé¢ä»£ç ä¸­ï¼Œdocker image pullæ˜¯æŠ“å– image æ–‡ä»¶çš„å‘½ä»¤ã€‚library/hello-worldæ˜¯ image æ–‡ä»¶åœ¨ä»“åº“é‡Œé¢çš„ä½ç½®ï¼Œå…¶ä¸­libraryæ˜¯ image æ–‡ä»¶æ‰€åœ¨çš„ç»„ï¼Œhello-worldæ˜¯ image æ–‡ä»¶çš„åå­—ã€‚ ç”±äº Docker å®˜æ–¹æä¾›çš„ image æ–‡ä»¶ï¼Œéƒ½æ”¾åœ¨libraryç»„é‡Œé¢ï¼Œæ‰€ä»¥å®ƒçš„æ˜¯é»˜è®¤ç»„ï¼Œå¯ä»¥çœç•¥ã€‚å› æ­¤ï¼Œä¸Šé¢çš„å‘½ä»¤å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚ docker image pull hello-world æŠ“å–æˆåŠŸä»¥åï¼Œå°±å¯ä»¥åœ¨æœ¬æœºçœ‹åˆ°è¿™ä¸ª image æ–‡ä»¶äº†ã€‚ docker image ls è¿è¡Œimage: docker container run hello-world docker container runå‘½ä»¤ä¼šä» image æ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚ æ³¨æ„ï¼Œdocker container runå‘½ä»¤å…·æœ‰è‡ªåŠ¨æŠ“å– image æ–‡ä»¶çš„åŠŸèƒ½ã€‚å¦‚æœå‘ç°æœ¬åœ°æ²¡æœ‰æŒ‡å®šçš„ image æ–‡ä»¶ï¼Œå°±ä¼šä»ä»“åº“è‡ªåŠ¨æŠ“å–ã€‚å› æ­¤ï¼Œå‰é¢çš„docker image pullå‘½ä»¤å¹¶ä¸æ˜¯å¿…éœ€çš„æ­¥éª¤ã€‚ å¦‚æœè¿è¡ŒæˆåŠŸï¼Œä½ ä¼šåœ¨å±å¹•ä¸Šè¯»åˆ°ä¸‹é¢çš„è¾“å‡ºã€‚ $ docker container run hello-world Hello from Docker! This message shows that your installation appears to be working correctly. ... ... è¾“å‡ºè¿™æ®µæç¤ºä»¥åï¼Œhello worldå°±ä¼šåœæ­¢è¿è¡Œï¼Œå®¹å™¨è‡ªåŠ¨ç»ˆæ­¢ã€‚ æœ‰äº›å®¹å™¨ä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ï¼Œå› ä¸ºæä¾›çš„æ˜¯æœåŠ¡ã€‚æ¯”å¦‚ï¼Œå®‰è£…è¿è¡Œ Ubuntu çš„ imageï¼Œå°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä½“éªŒ Ubuntu ç³»ç»Ÿã€‚ $ docker container run -it ubuntu bash å¯¹äºé‚£äº›ä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢çš„å®¹å™¨ï¼Œå¿…é¡»ä½¿ç”¨docker container killå‘½ä»¤æ‰‹åŠ¨ç»ˆæ­¢ã€‚ $ docker container kill [containID] ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:4","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"äº”ã€å®¹å™¨æ–‡ä»¶ imageæ–‡ä»¶ç”Ÿæˆçš„å®¹å™¨å®ä¾‹ï¼Œæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç§°ä¸ºå®¹å™¨æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦å®¹å™¨ç”Ÿæˆï¼Œå°±ä¼šåŒæ—¶å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼š imageæ–‡ä»¶å’Œå®¹å™¨æ–‡ä»¶ã€‚è€Œä¸”å…³é—­å®¹å™¨å¹¶ä¸ä¼šåˆ é™¤å®¹å™¨æ–‡ä»¶ï¼Œåªæ˜¯å®¹å™¨åœæ­¢è¿è¡Œè€Œå·²ã€‚ ä¸Šé¢å‘½ä»¤çš„è¾“å‡ºç»“æœä¹‹ä¸­ï¼ŒåŒ…æ‹¬å®¹å™¨çš„ IDã€‚å¾ˆå¤šåœ°æ–¹éƒ½éœ€è¦æä¾›è¿™ä¸ª IDï¼Œæ¯”å¦‚ä¸Šä¸€èŠ‚ç»ˆæ­¢å®¹å™¨è¿è¡Œçš„docker container killå‘½ä»¤ã€‚ ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨æ–‡ä»¶ï¼Œä¾ç„¶ä¼šå æ®ç¡¬ç›˜ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨docker container rmå‘½ä»¤åˆ é™¤ã€‚ $ docker container rm [containerID] è¿è¡Œä¸Šé¢çš„å‘½ä»¤ä¹‹åï¼Œå†ä½¿ç”¨docker container ls --allå‘½ä»¤ï¼Œå°±ä¼šå‘ç°è¢«åˆ é™¤çš„å®¹å™¨æ–‡ä»¶å·²ç»æ¶ˆå¤±äº†ã€‚ ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:5","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"å…­ã€ Dockerfile æ–‡ä»¶ å­¦ä¼šä½¿ç”¨ image æ–‡ä»¶ä»¥åï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•å¯ä»¥ç”Ÿæˆ image æ–‡ä»¶ï¼Ÿå¦‚æœä½ è¦æ¨å¹¿è‡ªå·±çš„è½¯ä»¶ï¼ŒåŠ¿å¿…è¦è‡ªå·±åˆ¶ä½œ image æ–‡ä»¶ã€‚ è¿™å°±éœ€è¦ç”¨åˆ° Dockerfile æ–‡ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ¥é…ç½® imageã€‚Docker æ ¹æ® è¯¥æ–‡ä»¶ç”ŸæˆäºŒè¿›åˆ¶çš„ image æ–‡ä»¶ã€‚ ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ç¼–å†™ Dockerfile æ–‡ä»¶ã€‚ ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:6","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"ä¸ƒã€å®ä¾‹: ä¸‹é¢æˆ‘ä»¥ koa-demos é¡¹ç›®ä¸ºä¾‹ï¼Œä»‹ç»æ€ä¹ˆå†™ Dockerfile æ–‡ä»¶ï¼Œå®ç°è®©ç”¨æˆ·åœ¨ Docker å®¹å™¨é‡Œé¢è¿è¡Œ Koa æ¡†æ¶ã€‚ ä½œä¸ºå‡†å¤‡å·¥ä½œï¼Œè¯·å…ˆä¸‹è½½æºç []ã€‚ $ git clone https://github.com/ruanyf/koa-demos.git $ cd koa-demos 7.1 ç¼–å†™ Dockerfile æ–‡ä»¶ é¦–å…ˆï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶.dockerignoreï¼Œå†™å…¥ä¸‹é¢çš„å†…å®¹ã€‚ .git node_modules npm-debug.log ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œè¿™ä¸‰ä¸ªè·¯å¾„è¦æ’é™¤ï¼Œä¸è¦æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚å¦‚æœä½ æ²¡æœ‰è·¯å¾„è¦æ’é™¤ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥ä¸æ–°å»ºã€‚ ç„¶åï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ Dockerfileï¼Œå†™å…¥ä¸‹é¢çš„å†…å®¹ã€‚ FROM node:8.4 COPY . /app WORKDIR /app RUN npm install --registry=https://registry.npm.taobao.org EXPOSE 3000 ä¸Šé¢ä»£ç ä¸€å…±äº”è¡Œï¼Œå«ä¹‰å¦‚ä¸‹ã€‚ FROM node:8.4ï¼šè¯¥ image æ–‡ä»¶ç»§æ‰¿å®˜æ–¹çš„ node imageï¼Œå†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾æ˜¯8.4ï¼Œå³8.4ç‰ˆæœ¬çš„ nodeã€‚ COPY . /appï¼šå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†.dockerignoreæ’é™¤çš„è·¯å¾„ï¼‰ï¼Œéƒ½æ‹·è´è¿›å…¥ image æ–‡ä»¶çš„/appç›®å½•ã€‚ WORKDIR /appï¼šæŒ‡å®šæ¥ä¸‹æ¥çš„å·¥ä½œè·¯å¾„ä¸º/appã€‚ RUN npm installï¼šåœ¨/appç›®å½•ä¸‹ï¼Œè¿è¡Œnpm installå‘½ä»¤å®‰è£…ä¾èµ–ã€‚æ³¨æ„ï¼Œå®‰è£…åæ‰€æœ‰çš„ä¾èµ–ï¼Œéƒ½å°†æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚ EXPOSE 3000ï¼šå°†å®¹å™¨ 3000 ç«¯å£æš´éœ²å‡ºæ¥ï¼Œ å…è®¸å¤–éƒ¨è¿æ¥è¿™ä¸ªç«¯å£ã€‚ 7.2 åˆ›å»ºimageæ–‡ä»¶ æœ‰äº† Dockerfile æ–‡ä»¶ä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨docker image buildå‘½ä»¤åˆ›å»º image æ–‡ä»¶äº†ã€‚ $ docker image build -t koa-demo . # æˆ–è€… $ docker image build -t koa-demo:0.0.1 . ä¸Šé¢ä»£ç ä¸­ï¼Œ-tå‚æ•°ç”¨æ¥æŒ‡å®š image æ–‡ä»¶çš„åå­—ï¼Œåé¢è¿˜å¯ä»¥ç”¨å†’å·æŒ‡å®šæ ‡ç­¾ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤çš„æ ‡ç­¾å°±æ˜¯latestã€‚æœ€åçš„é‚£ä¸ªç‚¹è¡¨ç¤º Dockerfile æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œä¸Šä¾‹æ˜¯å½“å‰è·¯å¾„ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªç‚¹ã€‚ å¦‚æœè¿è¡ŒæˆåŠŸï¼Œå°±å¯ä»¥çœ‹åˆ°æ–°ç”Ÿæˆçš„ image æ–‡ä»¶koa-demoäº†ã€‚ docker image ls 7.3 ç”Ÿæˆå®¹å™¨ docker container runå‘½ä»¤ä¼šä» image æ–‡ä»¶ç”Ÿæˆå®¹å™¨ã€‚ $ docker container run -p 8000:3000 -it koa-demo /bin/bash # æˆ–è€… $ docker container run -p 8000:3000 -it koa-demo:0.0.1 /bin/bash ä¸Šé¢å‘½ä»¤çš„å„ä¸ªå‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š på‚æ•°ï¼šå®¹å™¨çš„ 3000 ç«¯å£æ˜ å°„åˆ°æœ¬æœºçš„ 8000 ç«¯å£ã€‚ itå‚æ•°ï¼šå®¹å™¨çš„ Shell æ˜ å°„åˆ°å½“å‰çš„ Shellï¼Œç„¶åä½ åœ¨æœ¬æœºçª—å£è¾“å…¥çš„å‘½ä»¤ï¼Œå°±ä¼šä¼ å…¥å®¹å™¨ã€‚ koa-demo:0.0.1ï¼šimage æ–‡ä»¶çš„åå­—ï¼ˆå¦‚æœæœ‰æ ‡ç­¾ï¼Œè¿˜éœ€è¦æä¾›æ ‡ç­¾ï¼Œé»˜è®¤æ˜¯ latest æ ‡ç­¾ï¼‰ã€‚ /bin/bashï¼šå®¹å™¨å¯åŠ¨ä»¥åï¼Œå†…éƒ¨ç¬¬ä¸€ä¸ªæ‰§è¡Œçš„å‘½ä»¤ã€‚è¿™é‡Œæ˜¯å¯åŠ¨ Bashï¼Œä¿è¯ç”¨æˆ·å¯ä»¥ä½¿ç”¨ Shellã€‚ å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œè¿è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªå‘½ä»¤è¡Œæç¤ºç¬¦ã€‚ root@66d80f4aaf1e:/app# è¿™è¡¨ç¤ºä½ å·²ç»åœ¨å®¹å™¨é‡Œé¢äº†ï¼Œè¿”å›çš„æç¤ºç¬¦å°±æ˜¯å®¹å™¨å†…éƒ¨çš„ Shell æç¤ºç¬¦ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ root@66d80f4aaf1e:/app# node demos/01.js è¿™æ—¶ï¼ŒKoa æ¡†æ¶å·²ç»è¿è¡Œèµ·æ¥äº†ã€‚æ‰“å¼€æœ¬æœºçš„æµè§ˆå™¨ï¼Œè®¿é—® http://127.0.0.1:8000ï¼Œç½‘é¡µæ˜¾ç¤º\"Not Found\"ï¼Œè¿™æ˜¯å› ä¸ºè¿™ä¸ª demo æ²¡æœ‰å†™è·¯ç”±ã€‚ è¿™ä¸ªä¾‹å­ä¸­ï¼ŒNode è¿›ç¨‹è¿è¡Œåœ¨ Docker å®¹å™¨çš„è™šæ‹Ÿç¯å¢ƒé‡Œé¢ï¼Œè¿›ç¨‹æ¥è§¦åˆ°çš„æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œä¸æœ¬æœºçš„æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œæ¥å£æ˜¯éš”ç¦»çš„ï¼Œå› æ­¤éœ€è¦å®šä¹‰å®¹å™¨ä¸ç‰©ç†æœºçš„ç«¯å£æ˜ å°„ï¼ˆmapï¼‰ã€‚ ç°åœ¨ï¼Œåœ¨å®¹å™¨çš„å‘½ä»¤è¡Œï¼ŒæŒ‰ä¸‹ Ctrl + c åœæ­¢ Node è¿›ç¨‹ï¼Œç„¶åæŒ‰ä¸‹ Ctrl + d ï¼ˆæˆ–è€…è¾“å…¥ exitï¼‰é€€å‡ºå®¹å™¨ã€‚æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨docker container killç»ˆæ­¢å®¹å™¨è¿è¡Œã€‚ # åœ¨æœ¬æœºçš„å¦ä¸€ä¸ªç»ˆç«¯çª—å£ï¼ŒæŸ¥å‡ºå®¹å™¨çš„ ID $ docker container ls # åœæ­¢æŒ‡å®šçš„å®¹å™¨è¿è¡Œ $ docker container kill [containerID] å®¹å™¨åœæ­¢è¿è¡Œä¹‹åï¼Œå¹¶ä¸ä¼šæ¶ˆå¤±ï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤åˆ é™¤å®¹å™¨æ–‡ä»¶ã€‚ # æŸ¥å‡ºå®¹å™¨çš„ ID $ docker container ls --all # åˆ é™¤æŒ‡å®šçš„å®¹å™¨æ–‡ä»¶ $ docker container rm [containerID] ä¹Ÿå¯ä»¥ä½¿ç”¨docker container runå‘½ä»¤çš„â€“rmå‚æ•°ï¼Œåœ¨å®¹å™¨ç»ˆæ­¢è¿è¡Œåè‡ªåŠ¨åˆ é™¤å®¹å™¨æ–‡ä»¶ã€‚ $ docker container run --rm -p 8000:3000 -it koa-demo /bin/bash 7.4 CMDå‘½ä»¤ ä¸Šä¸€èŠ‚çš„ä¾‹å­é‡Œé¢ï¼Œå®¹å™¨å¯åŠ¨ä»¥åï¼Œéœ€è¦æ‰‹åŠ¨è¾“å…¥å‘½ä»¤node demos/01.jsã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå‘½ä»¤å†™åœ¨ Dockerfile é‡Œé¢ï¼Œè¿™æ ·å®¹å™¨å¯åŠ¨ä»¥åï¼Œè¿™ä¸ªå‘½ä»¤å°±å·²ç»æ‰§è¡Œäº†ï¼Œä¸ç”¨å†æ‰‹åŠ¨è¾“å…¥äº†ã€‚ FROM node:8.4 COPY . /app WORKDIR /app RUN npm install --registry=https://registry.npm.taobao.org EXPOSE 3000 CMD node demos/01.js ä¸Šé¢çš„ Dockerfile é‡Œé¢ï¼Œå¤šäº†æœ€åä¸€è¡ŒCMD node demos/01.jsï¼Œå®ƒè¡¨ç¤ºå®¹å™¨å¯åŠ¨åè‡ªåŠ¨æ‰§è¡Œnode demos/01.jsã€‚ ä½ å¯èƒ½ä¼šé—®ï¼ŒRUNå‘½ä»¤ä¸CMDå‘½ä»¤çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿç®€å•è¯´ï¼ŒRUNå‘½ä»¤åœ¨ image æ–‡ä»¶çš„æ„å»ºé˜¶æ®µæ‰§è¡Œï¼Œæ‰§è¡Œç»“æœéƒ½ä¼šæ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ï¼›CMDå‘½ä»¤åˆ™æ˜¯åœ¨å®¹å™¨å¯åŠ¨åæ‰§è¡Œã€‚å¦å¤–ï¼Œä¸€ä¸ª Dockerfile å¯ä»¥åŒ…å«å¤šä¸ªRUNå‘½ä»¤ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªCMDå‘½ä»¤ã€‚ æ³¨æ„ï¼ŒæŒ‡å®šäº†CMDå‘½ä»¤ä»¥åï¼Œdocker container runå‘½ä»¤å°±ä¸èƒ½é™„åŠ å‘½ä»¤äº†ï¼ˆæ¯”å¦‚å‰é¢çš„/bin/bashï¼‰ï¼Œå¦åˆ™å®ƒä¼šè¦†ç›–CMDå‘½ä»¤ã€‚ç°åœ¨ï¼Œå¯åŠ¨å®¹å™¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚ $ docker container run --rm -p 8000:3000 -it koa-demo:0.0.1 7.5 å‘å¸ƒ image æ–‡ä»¶ å®¹å™¨è¿è¡ŒæˆåŠŸåï¼Œå°±ç¡®è®¤äº† image æ–‡ä»¶çš„æœ‰æ•ˆæ€§ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘æŠŠ image æ–‡ä»¶åˆ†äº«åˆ°ç½‘ä¸Šï¼Œè®©å…¶ä»–äººä½¿ç”¨ã€‚ é¦–å…ˆï¼Œå» hub.docker.com æˆ– cloud.docker.com æ³¨å†Œä¸€ä¸ªè´¦æˆ·ã€‚ç„¶åï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤ç™»å½•ã€‚ $ docker login æ¥ç€ï¼Œä¸ºæœ¬åœ°çš„ image æ ‡æ³¨ç”¨æˆ·åå’Œç‰ˆæœ¬ã€‚ $ docker image tag [imageName] [username]/[repository]:[tag] # å®ä¾‹ $ docker image tag koa-demos:0.0.1 ruanyf/koa-demos:0.0.1 ä¹Ÿå¯ä»¥ä¸æ ‡æ³¨ç”¨æˆ·åï¼Œé‡æ–°æ„å»ºä¸€ä¸‹ image æ–‡ä»¶ã€‚ $ docker image build -t [username]/[repository]:[tag] . æœ€åï¼Œå‘å¸ƒ image æ–‡ä»¶ã€‚ $ docker image push [username]/[repository]:[tag] å‘å¸ƒæˆåŠŸä»¥åï¼Œç™»å½• hub.docker.comï¼Œå°±å¯ä»¥çœ‹åˆ°å·²ç»å‘å¸ƒçš„ image æ–‡ä»¶ã€‚ ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:7","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"å…«ã€å…¶ä»–æœ‰ç”¨çš„å‘½ä»¤ (1) docker container start å‰é¢çš„docker container runå‘½ä»¤æ˜¯æ–°å»ºå®¹å™¨ï¼Œæ¯è¿è¡Œä¸€æ¬¡ï¼Œå°±ä¼šæ–°å»ºä¸€ä¸ªå®¹å™¨ã€‚åŒæ ·çš„å‘½ä»¤è¿è¡Œä¸¤æ¬¡ï¼Œå°±ä¼šç”Ÿæˆä¸¤ä¸ªä¸€æ¨¡ä¸€æ ·çš„å®¹å™¨æ–‡ä»¶ã€‚å¦‚æœå¸Œæœ›é‡å¤ä½¿ç”¨å®¹å™¨ï¼Œå°±è¦ä½¿ç”¨docker container startå‘½ä»¤ï¼Œå®ƒç”¨æ¥å¯åŠ¨å·²ç»ç”Ÿæˆã€å·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨æ–‡ä»¶ã€‚ $ docker container start [containerID] (2) docker container stop å‰é¢çš„docker container killå‘½ä»¤ç»ˆæ­¢å®¹å™¨è¿è¡Œï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡º SIGKILL ä¿¡å·ã€‚è€Œdocker container stopå‘½ä»¤ä¹Ÿæ˜¯ç”¨æ¥ç»ˆæ­¢å®¹å™¨è¿è¡Œï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡º SIGTERM ä¿¡å·ï¼Œç„¶åè¿‡ä¸€æ®µæ—¶é—´å†å‘å‡º SIGKILL ä¿¡å·ã€‚ docker container stop [containerID] è¿™ä¸¤ä¸ªä¿¡å·çš„å·®åˆ«æ˜¯ï¼Œåº”ç”¨ç¨‹åºæ”¶åˆ° SIGTERM ä¿¡å·ä»¥åï¼Œå¯ä»¥è‡ªè¡Œè¿›è¡Œæ”¶å°¾æ¸…ç†å·¥ä½œï¼Œä½†ä¹Ÿå¯ä»¥ä¸ç†ä¼šè¿™ä¸ªä¿¡å·ã€‚å¦‚æœæ”¶åˆ° SIGKILL ä¿¡å·ï¼Œå°±ä¼šå¼ºè¡Œç«‹å³ç»ˆæ­¢ï¼Œé‚£äº›æ­£åœ¨è¿›è¡Œä¸­çš„æ“ä½œä¼šå…¨éƒ¨ä¸¢å¤±ã€‚ (3) docker container logs docker container logså‘½ä»¤ç”¨æ¥æŸ¥çœ‹ docker å®¹å™¨çš„è¾“å‡ºï¼Œå³å®¹å™¨é‡Œé¢ Shell çš„æ ‡å‡†è¾“å‡ºã€‚å¦‚æœdocker runå‘½ä»¤è¿è¡Œå®¹å™¨çš„æ—¶å€™ï¼Œæ²¡æœ‰ä½¿ç”¨-itå‚æ•°ï¼Œå°±è¦ç”¨è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹è¾“å‡ºã€‚ docker container logs [containerID] (4) docker container exec docker container execå‘½ä»¤ç”¨äºè¿›å…¥ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ docker å®¹å™¨ã€‚å¦‚æœdocker runå‘½ä»¤è¿è¡Œå®¹å™¨çš„æ—¶å€™ï¼Œæ²¡æœ‰ä½¿ç”¨-itå‚æ•°ï¼Œå°±è¦ç”¨è¿™ä¸ªå‘½ä»¤è¿›å…¥å®¹å™¨ã€‚ä¸€æ—¦è¿›å…¥äº†å®¹å™¨ï¼Œå°±å¯ä»¥åœ¨å®¹å™¨çš„ Shell æ‰§è¡Œå‘½ä»¤äº†ã€‚ $ docker container exec -it [containerID] /bin/bash (5) docker container cp å’Œ docker cp docker container cpå‘½ä»¤ç”¨äºä»æ­£åœ¨è¿è¡Œçš„ Docker å®¹å™¨é‡Œé¢ï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°æœ¬æœºã€‚ä¸‹é¢æ˜¯æ‹·è´åˆ°å½“å‰ç›®å½•çš„å†™æ³•ã€‚ docker container cp [containID]:[/path/to/file] . docker cpå‘½ä»¤ç”¨äºä»å°†å®¿ä¸»æœºå†…çš„æ–‡ä»¶æ‹·è´æ–‡ä»¶åˆ°containerä¸­: docker cp [OPTIONS] [src path] [container id]:[dest path] éå¸¸æ„Ÿè°¢ä½ ä¸€ç›´è¯»åˆ°äº†è¿™é‡Œï¼Œè¿™ä¸ªç³»åˆ—è¿˜æœ‰ä¸‹ä¸€ç¯‡ï¼Œä»‹ç»å¦‚ä½•ä½¿ç”¨ Docker æ­å»ºçœŸæ­£çš„ç½‘ç«™ï¼Œæ¬¢è¿ç»§ç»­é˜…è¯»ã€‚ (6) docker commit docker commitå‘½ä»¤ç”¨äºä¿å­˜containerçš„ä¿®æ”¹ã€‚ docker commit -m \"commit message\" [containr ID] [new REPOSITORY:TAG] (7) docker save and docker load docker save å’Œ docker load å°†imageæ–‡ä»¶ä¿å­˜ä¸ºå‹ç¼©æ–‡ä»¶æˆ–è€…åŠ è½½æœ¬åœ°çš„å‹ç¼©æ–‡ä»¶ä¸ºimageã€‚ docker save -o [outputname path] [REPOSITORY:TAG] docker load -i [outputname.tar] ","date":"2023-07-15","objectID":"/posts/dockerintroduction/:1:8","tags":["docker"],"title":"Dockerå®‰è£…åŠå­¦ä¹ ","uri":"/posts/dockerintroduction/"},{"categories":["Memo"],"content":"ä¸€ã€ apt-get source update apt-get source change the /etc/apt/sources.list file to aliyun source add sudo user in rootlink adduser [name] apt-get install sudo èµ‹äºˆç”¨æˆ·sudoæƒé™: sudo usermod -a -G adm username sudo usermod -a -G sudo username su [name] åœ¨æ–‡ä»¶/etc/sudoers ä¸­æ›´æ”¹ç”¨æˆ·çš„sudoæƒé™: # sudoers file. # # This file MUST be edited with the 'vi sudo' command as root. # # See the sudoers man page for the details on how to write a sudoers file. # # Host alias specification # User alias specification # Cmnd alias specification # Defaults specification # User privilege specification root ALL=(ALL) ALL [username] ALL=(ALL) ALL # Uncomment to allow people in group wheel to run all commands # %wheel ALL=(ALL) ALL # Same thing without a password # %wheel ALL=(ALL) NOPASSWD: ALL # Samples # %users ALL=/sbin/mount /cdrom,/sbin/umount /cdrom # %users localhost=/sbin/shutdown -h now ","date":"2023-07-15","objectID":"/posts/softwareinstallation/:1:0","tags":["draft"],"title":"ç¨‹åºå®‰è£…æ•™ç¨‹","uri":"/posts/softwareinstallation/"},{"categories":["Memo"],"content":"äºŒã€ Anaconda or Miniconda Installation download anaconda or miniconda from tsinghua source website download command: wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh run the command to install: bash Miniconda3-latest-linux-x86_64.sh change the conda channels to tsinghua source nano ~/.condarc paste the following channels into your ~/.condarc file:ref link conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ #Conda Forge conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/ #msys2ï¼ˆå¯ç•¥ï¼‰ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/ #biocondaï¼ˆå¯ç•¥ï¼‰ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/ #menpoï¼ˆå¯ç•¥ï¼‰ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/ #pytorch conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/ # for legacy win-64ï¼ˆå¯ç•¥ï¼‰ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/peterjc123/ conda config --set show_channel_urls yes ","date":"2023-07-15","objectID":"/posts/softwareinstallation/:2:0","tags":["draft"],"title":"ç¨‹åºå®‰è£…æ•™ç¨‹","uri":"/posts/softwareinstallation/"},{"categories":["Memo"],"content":"ä¸‰ã€ Cmake Installation Ref Link Download cmake source file: wget https://cmake.org/files/v3.20/cmake-3.20.0-linux-x86_64.tar.gz extract the file and move the file to /opt/cmake-3.20.0 tar zxvf cmake-3.20.0-linux-x86_64.tar.gz mv cmake-3.20.0-linux-x86_64 /opt/cmake-3.20.0 link the cmake as system cmake ln -sf /opt/cmake-3.20.0/bin/* /usr/bin/ check if successfully installed cmake --version ","date":"2023-07-15","objectID":"/posts/softwareinstallation/:3:0","tags":["draft"],"title":"ç¨‹åºå®‰è£…æ•™ç¨‹","uri":"/posts/softwareinstallation/"},{"categories":["Memo"],"content":"å››ã€ openmpi installation (Ref Link) Install openmpi with command line: sudo apt-get install openmpi-bin openmpi-doc libopenmpi-dev åœ¨condaä¸‹å®‰è£…openmapi: conda install openmpi ","date":"2023-07-15","objectID":"/posts/softwareinstallation/:4:0","tags":["draft"],"title":"ç¨‹åºå®‰è£…æ•™ç¨‹","uri":"/posts/softwareinstallation/"},{"categories":["Memo"],"content":"äº”ã€ Anacondaä¸‹å®‰è£…jupyter notebook 1ã€ å®‰è£…jupyter notebook conda intall jupyter notebook 2ã€ å®‰è£…nbextensions pip install jupyter_contrib_nbextensions jupyter contrib nbextension install --user 3ã€ å®‰è£…nbextensions_configurator pip install jupyter_nbextensions_configurator jupyter nbextensions_configurator enable --user 4ã€ åœ¨codemirror.cssæ–‡ä»¶ä¸­æ›´æ”¹å­—ä½“ ","date":"2023-07-15","objectID":"/posts/softwareinstallation/:5:0","tags":["draft"],"title":"ç¨‹åºå®‰è£…æ•™ç¨‹","uri":"/posts/softwareinstallation/"},{"categories":["Transformer"],"content":"reference: [1]. The Transformer Family [2]. Attention [3]. ç»†èŠ‚è€ƒç©¶ ","date":"2023-07-15","objectID":"/posts/transformerintroduction/:0:0","tags":["draft"],"title":"Transformer Introduction","uri":"/posts/transformerintroduction/"},{"categories":["Transformer"],"content":"Transformer Family ","date":"2023-07-15","objectID":"/posts/transformerintroduction/:1:0","tags":["draft"],"title":"Transformer Introduction","uri":"/posts/transformerintroduction/"},{"categories":["Transformer"],"content":"Notations Symbol Meaning $d$ The model size / hidden state dimension / positional encoding size. $h$ The number of heads in multi-head attention layer. $L$ The segment length of input sequence. $X \\in \\mathbb R ^ {L \\times d}$ The input sequence where each element has been mapped into an embedding vector of shape , same as the model size. $W^k \\in \\mathbb R ^ {d \\times d^k}$ The key weight matrix. $W^q \\in \\mathbb R ^ {d \\times d^k}$ The query weight matrix. $W^v \\in \\mathbb R ^ {d \\times d^k}$ The value weight matrix.Often we have $d_k = d_v = d$. $W^K_i, W^q_i \\in \\mathbb R ^ {d \\times d^k / h}; W^v_i \\in \\mathbb R^{d x d_v / h}$ The weight matrices per head. $W^o \\in \\mathbb d_v \\times d$ The output weight matrix. $Q = XW^q \\in \\mathbb R^{L \\times d_q}$ The query embedding inputs. $K = XW^k \\in \\mathbb R^{L \\times d_k}$ The key embedding inputs. $V = XW^v \\in \\mathbb R^{L \\times d_v}$ The value embedding inputs. $S_i$ A collection of key positions for the -th query to attend to. $A \\in \\mathbb R ^ {L \\times L}$ The self-attention matrix between a input sequence of lenght $L$ and itself. $A = softmax (Q K^T/\\sqrt{(d_k)} )$ $a_ij \\ in A $ The scalar attention score between query $q_i$ and key $k_j$. $P \\in \\mathbb R ^ {L \\times d}$ position encoding matrix, where the $i-th$ row is the positional encoding for input $x_i$. ","date":"2023-07-15","objectID":"/posts/transformerintroduction/:1:1","tags":["draft"],"title":"Transformer Introduction","uri":"/posts/transformerintroduction/"},{"categories":["Transformer"],"content":"Attention and Self-Attention Attention is a mechanism in the neural network that a model can learn to make predictions by selectively attending to a given set of data. The amount of attention is quantified by learned weights and thus the output is usually formed as a weighted average. Self-attention is a type of attention mechanism where the model makes prediction for one part of a data sample using other parts of the observation about the same sample. Conceptually, it feels quite similar to non-local means. Also note that self-attention is permutation-invariant; in other words, it is an operation on sets. There are various forms of attention / self-attention, Transformer (Vaswani et al., 2017) relies on the scaled dot-product attention: given a query matrix $Q$, a key matrix $K$ and a value matrix $V$, the output is a weighted sum of the value vectors, where the weight assigned to each value slot is determined by the dot-product of the query with the corresponding key: $$\\text{Attention}(Q, K, V) = softmax(\\frac{QK^T}{\\sqrt{d_k}})V$$ And for a query and a key vector $q_i, k_j \\in \\mathbb R ^ d$ (row vectors in query and key matrices), we have a scalar score: $$a_{ij} = softmax(\\frac{q_i k_j^T}{\\sqrt{d_k}}) = \\frac{\\exp(q_i k_j^T)}{\\sqrt{d_k}\\sum_{r \\in S_i}(q_i k_j^T)}$$ where $S_i$ is a collection of key positions for the $i$-th query to attend to. See my old post for other types of attention if interested. ","date":"2023-07-15","objectID":"/posts/transformerintroduction/:1:2","tags":["draft"],"title":"Transformer Introduction","uri":"/posts/transformerintroduction/"},{"categories":["Transformer"],"content":"Multi-Head Self-Attention The multi-head self-attention module is a key component in Transformer. Rather than only computing the attention once, the multi-head mechanism splits the inputs into smaller chunks and then computes the scaled dot-product attention over each subspace in parallel. The independent attention outputs are simply concatenated and linearly transformed into expected dimensions. $$\\text{MulitHeadAttention}(X_q, X_k, X_v) = [\\text{head}_1,;â€¦; \\text{head}_h] W^o, where \\text{head}_i = \\text{Attention}(X_qW_i^q, X_kW_i^k, X_vW_i^v)$$ where $[.;.]$ is a concatenation operation. $W_i^q, W_i^k \\in \\mathbb R^{d \\times d_{k} / h}$, $W_i^v \\in \\mathbb R^{d \\times d_{v} / h}$ are weight matrices to map input embeddings of size $L \\times d$ into query, key and value matrices. And $W^o \\in \\mathbb R ^ {d_v \\times d}$ is the output linear transformation. All the weights should be learned during training. ","date":"2023-07-15","objectID":"/posts/transformerintroduction/:1:3","tags":["draft"],"title":"Transformer Introduction","uri":"/posts/transformerintroduction/"},{"categories":["Transformer"],"content":"Transformer The Transformer (which will be referred to as â€œvanilla Transformerâ€ to distinguish it from other enhanced versions; Vaswani, et al., 2017) model has an encoder-decoder architecture, as commonly used in many NMT models. Later decoder-only Transformer was shown to achieve great performance in language modeling tasks, like in GPT and BERT. Encoder-Decoder Architecture The encoder generates an attention-based representation with capability to locate a specific piece of information from a large context. It consists of a stack of 6 identity modules, each containing two submodules, a multi-head self-attention layer and a point-wise fully connected feed-forward network. By point-wise, it means that it applies the same linear transformation (with same weights) to each element in the sequence. This can also be viewed as a convolutional layer with filter size 1. Each submodule has a residual connection and layer normalization. All the submodules output data of the same dimension $d$. The function of Transformer decoder is to retrieve information from the encoded representation. The architecture is quite similar to the encoder, except that the decoder contains two multi-head attention submodules instead of one in each identical repeating module. The first multi-head attention submodule is masked to prevent positions from attending to the future. Positional Encoding Because self-attention operation is permutation invariant, it is important to use proper positional encoding to provide order information to the model. The positional encoding $P \\in \\mathbb R ^ {L \\times d}$ has the same dimension as the input embedding, so it can be added on the input directly. The vanilla Transformer considered two types of encodings: (1). Sinusoidal positional encoding is defined as follows, given the token $i = 1, â€¦, L$ position and the dimension $\\delta = 1, â€¦, d$: $$ \\text{PE}(i, \\delta) = \\left{ \\begin{aligned} \\sin\\big(\\frac{i}{10000^{2\\deltaâ€™/d}}\\big) , if \\delta\u0026=2\\deltaâ€™\\ \\cos\\big(\\frac{i}{10000^{2\\deltaâ€™/d}}\\big) , if \\delta\u0026=2\\deltaâ€™+1 \\ \\end{aligned} \\right.$$ In this way each dimension of the positional encoding corresponds to a sinusoid of different wavelengths in different dimensions, from $2\\pi$ to 10000 * $2\\pi$. (2). Learned positional encoding, as its name suggested, assigns each element with a learned column vector which encodes its absolute position (Gehring, et al. 2017). ","date":"2023-07-15","objectID":"/posts/transformerintroduction/:1:4","tags":["draft"],"title":"Transformer Introduction","uri":"/posts/transformerintroduction/"},{"categories":["Planning"],"content":"[new ref 1] (https://zhuanlan.zhihu.com/p/619039492) [old ref 1] (https://zhuanlan.zhihu.com/p/399545248) ","date":"2023-07-15","objectID":"/posts/latticeplanner/:0:0","tags":["draft"],"title":"Lattice Planner","uri":"/posts/latticeplanner/"},{"categories":["Planning"],"content":"ä¸€ã€Lattice Plannerç®€ä»‹ LatticePlannerç®—æ³•å±äºä¸€ç§å±€éƒ¨è½¨è¿¹è§„åˆ’å™¨ï¼Œè¾“å‡ºè½¨è¿¹å°†ç›´æ¥è¾“å…¥åˆ°æ§åˆ¶å™¨ï¼Œç”±æ§åˆ¶å™¨å®Œæˆå¯¹å±€éƒ¨è½¨è¿¹çš„è·Ÿè¸ªæ§åˆ¶ã€‚å› æ­¤ï¼ŒLattice Plannerè¾“å‡ºçš„è½¨è¿¹æ˜¯ä¸€æ¡å…‰æ»‘æ— ç¢°æ’æ»¡è¶³è½¦è¾†è¿åŠ¨å­¦çº¦æŸå’Œé€Ÿåº¦çº¦æŸçš„å¹³ç¨³å®‰å…¨çš„å±€éƒ¨è½¨è¿¹ã€‚Lattice Plannerçš„è¾“å…¥ç«¯ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œæ„ŸçŸ¥åŠéšœç¢ç‰©ä¿¡æ¯ã€å‚è€ƒçº¿ä¿¡æ¯åŠå®šä½ä¿¡æ¯ã€‚ [pic] å±€éƒ¨è§„åˆ’æ¨¡å—çš„è¾“å‡ºæ˜¯å¸¦æœ‰é€Ÿåº¦ä¿¡æ¯çš„ä¸€ç³»åˆ—è½¨è¿¹ç‚¹ç»„æˆçš„è½¨è¿¹ï¼Œå…¶ä¿è¯äº†è½¦è¾†æ§åˆ¶å™¨åœ¨è½¦è¾†è·Ÿè¸ªæ§åˆ¶è¿‡ç¨‹ä¸­çš„å¹³ç¨³æ€§å’Œå®‰å…¨æ€§ã€‚ ","date":"2023-07-15","objectID":"/posts/latticeplanner/:1:0","tags":["draft"],"title":"Lattice Planner","uri":"/posts/latticeplanner/"},{"categories":["Planning"],"content":"äºŒã€Latticeè§„åˆ’ç®—æ³•å®ç°è¿‡ç¨‹ Latticeè§„åˆ’ç®—æ³•æ˜¯ä¸€ç§åŸºäºé‡‡æ ·çš„è¿åŠ¨è§„åˆ’ç®—æ³•ï¼Œé€šè¿‡å°†è½¦è¾†åæ ‡ç³»è½¬æ¢åˆ°å‚è€ƒçº¿åæ ‡ç³»ï¼Œä¹Ÿå°±æ˜¯frenetåæ ‡ç³»ä¸‹ï¼Œç„¶ååœ¨frenetåæ ‡ç³»ä¸‹åˆ†åˆ«å¯¹frenetçš„dè½´å’Œsè½´è¿›è¡Œè§„åˆ’ï¼Œå½¢æˆfrenetåæ ‡ç³»ä¸‹çš„è§„åˆ’è½¨è¿¹ï¼Œç„¶åå°†frenetåæ ‡ç³»ä¸‹çš„è½¨è¿¹åˆæˆåˆ°ä¸–ç•Œåæ ‡ç³»ä¸‹è¿˜åŸä¸ºä¸–ç•Œåæ ‡ç³»ä¸‹çš„è½¨è¿¹ã€‚ç®—æ³•å®ç°è¿‡ç¨‹å¤§æ¦‚å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š å°†è½¦è¾†å½“å‰ä½å§¿ä¿¡æ¯è½¬æ¢åˆ°frenetåæ ‡ç³»ä¸‹ï¼Œè·å¾—è½¦è¾†åœ¨frenetåæ ‡ç³»çš„åˆå§‹çŠ¶æ€ï¼›æ ¹æ®å½“å‰é€Ÿåº¦è®¡ç®—å‰ç»è·ç¦»ï¼Œè·å¾—å‰ç»ç‚¹ï¼Œè·å¾—è½¦è¾†åœ¨å‰ç»ç‚¹ä½ç½®frenetåæ ‡ç³»ä¸‹çš„ç›®æ ‡çŠ¶æ€ã€‚ å¯¹è½¨è¿¹çŠ¶æ€è¿›è¡Œé‡‡æ ·ï¼Œåˆ†åˆ«æ˜¯è½¨è¿¹è¿è¡Œæ—¶é—´tï¼Œç›®æ ‡é€Ÿåº¦vï¼ŒåŠåˆ°å‚è€ƒçº¿çš„æ¨ªå‘ä½ç§»dï¼Œé€šè¿‡è¿™ä¸‰ä¸ªè§„åˆ’å‚æ•°å¯ä»¥è·å¾—é‡‡æ ·çŠ¶æ€ã€‚ æ„å»ºæ¨ªå‘ä½ç§»å’Œçºµå‘ä½ç§»çš„å¤šé¡¹å¼è§„åˆ’å‡½æ•°s(t)ï¼Œd(s)ï¼Œè·å¾—æ¨ªå‘ä½ç§»å’Œçºµå‘ä½ç§»çš„è§„åˆ’å‡½æ•°åï¼Œè¿›è¡Œæ—¶é—´æ’å€¼å°±å¯ä»¥è·å¾—å‚è€ƒçº¿frenetåæ ‡ç³»ä¸‹çš„è½¨è¿¹ç‚¹ï¼Œæœ€åå°†è½¨è¿¹ç‚¹ä»frenetåæ ‡ç³»è½¬æ¢åˆ°cartesianåæ ‡ç³»ï¼Œå°±å¯ä»¥è·å¾—ç‰©ç†ä¸–ç•Œé‡‡æ ·è½¨è¿¹ï¼Œç”±äºæ¨ªå‘å’Œçºµå‘éƒ½æ˜¯é€šè¿‡é«˜æ¬¡å¤šé¡¹å¼æ’å€¼è·å¾—ï¼Œä»¥æ­¤cartesianåæ ‡ç³»ä¸‹çš„è½¨è¿¹ä¹Ÿæ˜¯å…‰æ»‘çš„ã€‚ é‡‡æ ·è½¨è¿¹çš„ç¢°æ’æ£€æµ‹ã€æ›²ç‡çº¦æŸåŠæœ€ä¼˜è½¨è¿¹æ‰“åˆ†ã€‚é‡‡æ ·è½¨è¿¹æ˜¯ä¸€ç³»åˆ—æ»¡è¶³é€Ÿåº¦çº¦æŸçš„å…‰æ»‘è½¨è¿¹ï¼Œä½†å…¶è¿˜éœ€è¦æ»¡è¶³æ— ç¢°æ’å’Œè½¦è¾†è¿åŠ¨å­¦æ›²ç‡çº¦æŸçš„å¼ºåˆ¶çº¦æŸï¼ŒåŠè¿œç¦»éšœç¢ç‰©å’Œé è¿‘å‚è€ƒçº¿ç­‰ç»„æˆçš„ä»£ä»·çº¦æŸã€‚é‡‡æ ·è½¨è¿¹çš„æ‰“åˆ†å°±æ˜¯ä¸ºäº†è·å¾—ä¸€æ¡æœ€ä¼˜çš„æ»¡è¶³çº¦æŸæ¡ä»¶çš„æ— ç¢°æ’å…‰æ»‘è½¨è¿¹ã€‚è¯¥è½¨è¿¹ä¹Ÿæ˜¯latticeè¾“å‡ºåˆ°controllerç”¨äºè½¦è¾†è·Ÿéšçš„è½¨è¿¹ã€‚ Frenetåæ ‡ç³»å’ŒCartesianåæ ‡ç³»çš„ç›¸äº’è½¬æ¢ Frenetåæ ‡ç³»æ˜¯å‚è€ƒçº¿ä¸Šçš„åæ ‡ç³»ï¼Œæ˜¯ä¸€ä¸ªåŠ¨åæ ‡ç³»ã€‚Frenetåæ ‡ç³»çš„å»ºç«‹ï¼Œä»¥è½¦è¾†ä½ç½®åˆ°å‚è€ƒçº¿çš„æœ€è¿‘ç‚¹Rä½œä¸ºfrenetåæ ‡ç³»çš„åŸç‚¹ï¼Œä»¥å‚è€ƒçº¿åˆ‡çº¿æ–¹å‘ä½œä¸ºTè½´ï¼Œå‚ç›´äºTè½´å‘å¤–ä¸ºNè½´ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ˜¯frenetåæ ‡ç³»å’Œcartesianåæ ‡ç³»çš„ç›¸äº’è½¬æ¢å…³ç³»ï¼Œé»‘è‰²è™šçº¿æ˜¯è½¦è¾†å½“å‰è¿è¡Œçš„è½¨è¿¹æ–¹å‘ï¼Œé»‘è‰²å®çº¿æ˜¯è½¦è¾†è¿è¡Œçš„å‚è€ƒçº¿ã€‚ [pic] å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‚è€ƒçº¿ï¼ˆReference lineï¼‰æ˜¯ä¸€æ¡å…‰æ»‘çš„è½¦é“çº¿ï¼ŒæŒ‰ä¸Šå›¾æ‰€ç¤ºå°†æ±½è½¦çš„åæ ‡ç‚¹Pï¼ˆå›¾ä¸­çº¢è‰²ç‚¹ï¼‰æŠ•å½±åˆ°å‚è€ƒçº¿ä¸Šï¼Œå¾—åˆ°ä¸€ä¸ªå‚è€ƒçº¿ä¸Šçš„æŠ•å½±ç‚¹Rï¼ˆå›¾ä¸­ç»¿è‰²ç‚¹ï¼‰ã€‚ä»å‚è€ƒçº¿èµ·ç‚¹åˆ°æŠ•å½±ç‚¹çš„è·¯å¾„é•¿åº¦å°±æ˜¯æ±½è½¦åœ¨Frenetåæ ‡ç³»ä¸‹çš„çºµå‘åç§»é‡ï¼Œç”¨sè¡¨ç¤ºã€‚è€ŒæŠ•å½±ç‚¹åˆ°æ±½è½¦ä½ç½®çš„è·ç¦» $l(s)$ åˆ™æ˜¯æ±½è½¦åœ¨Frenetåæ ‡ç³»ä¸‹çš„æ¨ªå‘åç§»é‡ã€‚å› ä¸ºå‚è€ƒçº¿æ˜¯è¶³å¤Ÿå…‰æ»‘çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯é€šè¿‡æ±½è½¦çš„æœå‘ã€é€Ÿåº¦ã€åŠ é€Ÿåº¦æ¥è®¡ç®—å‡ºFrenetåæ ‡ç³»ä¸‹ï¼Œæ¨ªå‘å’Œçºµå‘åç§»é‡çš„ä¸€é˜¶å¯¼å’ŒäºŒé˜¶å¯¼ã€‚è¿™é‡Œå°†æ¨ªå‘åç§»é‡ $l(s)$ è®¾è®¡æˆçºµå‘åç§»é‡sçš„å‡½æ•°ã€‚è¿™æ˜¯å› ä¸ºå¯¹äºcarlikeæ¨¡å‹çš„æ±½è½¦è€Œè¨€ï¼Œæ¨ªå‘è¿åŠ¨æ˜¯ç”±çºµå‘è¿åŠ¨è¯±å‘çš„ã€‚è€Œ\u003c/font color=red\u003eå°†åæ ‡ç‚¹è½¬æ¢åˆ°frenetåæ ‡ç³»çš„ç›®çš„åˆ™æ˜¯ä¸ºäº†æ–¹ä¾¿è§„åˆ’æ›²çº¿çš„ç”Ÿæˆå’Œè½¦é“çº¿æ¨ªå‘å’Œçºµå‘æ–¹å‘ä¸Šçš„è½¨è¿¹é‡‡æ ·ï¼Œä»è€Œè·å¾—è¦†ç›–æ•´ä¸ªè½¦é“çš„å…‰æ»‘é‡‡æ ·è½¨è¿¹ã€‚ frenetåæ ‡ç³»å’Œcartesianåæ ‡ç³»çš„è½¬æ¢å…³ç³»å¯ä»¥å¯ä»¥å‚è€ƒå¦‚ä¸‹è®ºæ–‡[https://link.zhihu.com/?target=https%3A//www.researchgate.net/profile/Moritz-Werling/publication/224156269_Optimal_Trajectory_Generation_for_Dynamic_Street_Scenarios_in_a_Frenet_Frame/links/54f749df0cf210398e9277af/Optimal-Trajectory-Generation-for-Dynamic-Street-Scenarios-in-a-Frenet-Frame.pdf] å¦‚ä¸‹æ‰€ç¤ºæ˜¯ä¸¤ä¸ªåæ ‡ç³»ä¹‹é—´çš„å˜æ¢å…¬å¼ã€‚ ref:https://blog.csdn.net/u013468614/article/details/108748016 cartesianåæ ‡ç³»åˆ°frenetåæ ‡ç³»çš„å˜æ¢å…¬å¼ï¼š frenetåæ ‡ç³»åˆ°cartesianåæ ‡ç³»çš„å˜æ¢å…¬å¼ï¼š ä¸Šå¼ä¸­ï¼Œå„å˜é‡çš„å«ä¹‰å¦‚ä¸‹ï¼š å¦‚ä¸‹å›¾æ‰€ç¤ºç»¿è‰²çº¿ä»£è¡¨äº†å‚è€ƒçº¿reference_lineï¼Œçº¢è‰²å’Œè“è‰²çº¿ä»£è¡¨ç»è¿‡æ¨ªå‘åç§»ä½ç§»å‡åŒ€å˜åŒ–ä¹‹åå½¢æˆçš„è·¯çº¿ã€‚ ","date":"2023-07-15","objectID":"/posts/latticeplanner/:2:0","tags":["draft"],"title":"Lattice Planner","uri":"/posts/latticeplanner/"},{"categories":["Planning"],"content":"ä¸‰ã€Lattice Plannerè½¨è¿¹é‡‡æ · Latticeè§„åˆ’å™¨çš„è½¨è¿¹é‡‡æ ·ï¼Œä¸»è¦åˆ†ä¸ºæ¨ªå‘é‡‡æ ·ã€çºµå‘é‡‡æ ·ä»¥åŠè½¨è¿¹æ—¶é—´å‘¨æœŸé‡‡æ ·ã€‚ æ¨ªå‘è½¨è¿¹çš„é‡‡æ ·éœ€è¦æ¶µç›–å¤šç§æ¨ªå‘è¿åŠ¨çŠ¶æ€ï¼Œéœ€è¦æ ¹æ®è½¦é“å®½åº¦è®¾ç½®æ¨ªå‘é‡‡æ ·çš„é‡‡æ ·åŒºé—´ï¼Œé€šè¿‡æ¨ªå‘é‡‡æ ·é—´éš”ï¼Œå½¢æˆä¸åŒçš„æ¨ªå‘é‡‡æ ·åç§»é‡ã€‚ çºµå‘é‡‡æ ·çš„é‡‡æ ·åŒºé—´å¯ä»¥é€šè¿‡å‰ç»ç‚¹çš„ä½ç§»é•¿åº¦sï¼Œä½œä¸ºåŸºå‡†é‡‡æ ·é•¿åº¦ï¼Œç„¶åé€šè¿‡å¯¹è½¨è¿¹é€Ÿåº¦dsè¿›è¡Œé‡‡æ ·ã€‚ æ—¶é—´å‘¨æœŸé‡‡æ ·ï¼Œå°±æ˜¯å¯¹è½¨è¿¹çš„è¿è¡Œå‘¨æœŸæ—¶é—´è¿›è¡Œé‡‡æ ·ã€‚è€Œç™¾åº¦Apolloçš„è½¨è¿¹é‡‡æ ·ï¼Œåªå¯¹æ¨ªå‘ä½ç§»å’Œçºµå‘ä½ç§»è¿›è¡Œäº†é‡‡æ ·ï¼Œå¹¶è®¾è®¡äº†é‡‡æ ·çŠ¶æ€æ¨ªå‘åç§»é‡ï¼Œ-0.5ï¼Œ0.0å’Œ0.5ï¼Œä»¥åŠå››ä¸ªåˆ°è¾¾è¿™äº›æ¨ªå‘åç§»é‡çš„çºµå‘ä½ç§»ï¼Œåˆ†åˆ«ä¸º10ï¼Œ20ï¼Œ40ï¼Œ80æ¥å¾—åˆ°é‡‡æ ·çŠ¶æ€ã€‚æ‰€ä»¥Latticeè§„åˆ’å™¨çš„è½¨è¿¹é‡‡æ ·ä¸»è¦æ˜¯å¯¹è½¨è¿¹æ¨ªçºµå‘çŠ¶æ€è¿›è¡Œé‡‡æ ·ï¼Œä½†é‡‡æ ·æ–¹å¼å¯ä»¥æ ¹æ®ç¯å¢ƒæƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚ ","date":"2023-07-15","objectID":"/posts/latticeplanner/:3:0","tags":["draft"],"title":"Lattice Planner","uri":"/posts/latticeplanner/"},{"categories":["Planning"],"content":"å››ã€Lattice Planneré€Ÿåº¦è§„åˆ’ æœ‰äº†å‰é¢çš„é‡‡æ ·çŠ¶æ€ï¼Œç°åœ¨éœ€è¦åšçš„æ˜¯æ ¹æ®é‡‡æ ·çŠ¶æ€ç”Ÿæˆæ¨ªå‘ $l(s)$ å’Œçºµå‘ $s(t)$ å’Œè§„åˆ’å‡½æ•°ï¼Œä¸¤ç§è§„åˆ’å‡½æ•°éƒ½æ˜¯é€šè¿‡å¤šé¡¹å¼è¿›è¡Œæ‹Ÿåˆæ±‚è§£ç”Ÿæˆã€‚ä¸»è¦ä½¿ç”¨äº†4æ¬¡å’Œ5æ¬¡å¤šé …å¼æ‹Ÿåˆï¼Œä»è€Œæ»¡è¶³äº†è½¦è¾†è¿è¡Œè¿‡ç¨‹ä¸­çš„ä¸€é˜¶å¯¼ï¼ŒäºŒé˜¶å¯¼è¿ç»­ï¼Œä¹Ÿå°±æ˜¯é€Ÿåº¦å’ŒåŠ é€Ÿåº¦è¿ç»­ï¼Œä¿è¯äº†è½¨è¿¹çš„å¹³æ»‘æ€§è¦æ±‚ã€‚ å¯¹äºçºµå‘è½¨è¿¹ $s(t)$ ï¼Œåœ¨åœè½¦å’Œè·Ÿè½¦çŠ¶æ€ï¼Œéƒ½æ˜¯äº”æ¬¡å¤šé¡¹å¼ï¼Œä½†å¯¹äºå·¡èˆªçŠ¶æ€ï¼Œç”±äºæˆ‘ä»¬ä¸éœ€è¦ç¡®å®šçŠ¶æ€çš„Så€¼ï¼Œæ‰€ä»¥åªæœ‰äº”ä¸ªå˜é‡ï¼Œå› æ­¤ç”¨å››æ¬¡å¤šé¡¹å¼å°±å¯ä»¥äº†ã€‚å¯¹äºæ¨ªå‘è½¨è¿¹$l(s)$ä¹Ÿä½¿ç”¨äº†äº”æ¬¡å¤šé¡¹å¼æ‹Ÿåˆã€‚ è¿™é‡Œè§„åˆ’å™¨çš„é‡‡æ ·æ–¹å¼æ²¡æœ‰ä½¿ç”¨Apolloä¸­Latticeçš„æ¨ªçºµå‘é‡‡æ ·æ–¹å¼ï¼Œè€Œæ˜¯é‡‡ç”¨äº†ä¸Šæ–‡ä¸­æåˆ°çš„é‡‡æ ·æ–¹å¼ï¼Œå› æ­¤çº¦æŸå˜é‡æœ‰ï¼š å·¡èˆªæ¨¡å¼ä¸‹çš„çºµå‘æ‹Ÿåˆå‡½æ•°çš„æ±‚è§£ ","date":"2023-07-15","objectID":"/posts/latticeplanner/:4:0","tags":["draft"],"title":"Lattice Planner","uri":"/posts/latticeplanner/"},{"categories":["Planning"],"content":"äº”ã€è½¨è¿¹ç”ŸæˆåŠè½¨è¿¹è¯„ä»·å‡½æ•° è½¨è¿¹çš„ç”Ÿæˆæˆå°±æ˜¯å°†frenetåæ ‡ç³»ä¸‹çš„è½¨è¿¹è½¬æ¢åˆ°cartesianåæ ‡ç³»ä¸­ï¼Œå‰é¢æˆ‘ä»¬çŸ¥é“äº†ä½å§¿ç‚¹åœ¨frenetåæ ‡ç³»å’Œcartesianåæ ‡ç³»çš„ç›¸äº’è½¬æ¢å…³ç³»ï¼Œå› æ­¤ç°åœ¨æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å¯¹æ¨ªçºµå‘è½¨è¿¹å‡½æ•° $s(t)$ å’Œ $l(s(t))$ è¿›è¡Œè½¨è¿¹çš„æ—¶é—´ç»†åˆ†å½¢æˆè§„åˆ’å‡½æ•°çš„æ¨ªçºµå‘è½¨è¿¹è§„åˆ’ç‚¹ $s(t_i)$ å’Œ $l(s(t_i))$ï¼Œè¯¥è§„åˆ’ç‚¹æ˜¯åœ¨frenetåæ ‡ç³»ä¸­ï¼Œå› æ­¤éœ€è¦è¿›è¡Œfrenetåæ ‡ç³»åˆ°cartesianåæ ‡ç³»çš„åæ ‡è½¬æ¢ï¼Œä»è€Œå½¢æˆæ§åˆ¶å™¨å¯ç”¨çš„é‡‡æ ·è½¨è¿¹ã€‚ è·å¾—é‡‡ç”¨è½¨è¿¹ä¹‹åï¼Œæ¥ç€éœ€è¦è¿›è¡Œç›®æ ‡è½¨è¿¹çš„æ›²ç‡æ£€æŸ¥å’Œç¢°æ’æ£€æµ‹ï¼Œç›®çš„æ˜¯ä¸ºäº†ä½¿ç›®æ ‡é‡‡æ ·è½¨è¿¹æ»¡è¶³è½¦è¾†çš„è¿åŠ¨å­¦æ§åˆ¶è¦æ±‚å’Œæ— ç¢°æ’è¦æ±‚ï¼Œè¿™æ ·å°±å½¢æˆäº†å®‰å…¨å¯é çš„è½¨è¿¹ç°‡ã€‚è¿™äº›è½¨è¿¹ç°‡éƒ½å¯ä»¥æ»¡è¶³è½¦è¾†çš„æ§åˆ¶è¦æ±‚ï¼Œä½†å¹¶ä¸æ˜¯æœ€ä¼˜çš„ï¼Œå› æ­¤éœ€è¦ä»è½¨è¿¹ç°‡ä¸­é€‰å‡ºä¸€ç»„æœ€ä¼˜çš„è¿è¡Œè½¨è¿¹ã€‚è¿™æ—¶å°±éœ€è¦å¼•å…¥è½¨è¿¹è¯„ä»·å‡½æ•°ï¼Œç”¨æ¥å¯¹å€™é€‰è½¨è¿¹è¿›è¡Œæ‰“åˆ†ã€‚ è½¨è¿¹è¯„ä»·å‡½æ•°ä¸»è¦ä¸ºäº†ä½¿å¾—ç›®æ ‡è½¨è¿¹å°½é‡é è¿‘é™æ€å‚è€ƒçº¿è½¨è¿¹è¿è¡Œï¼ŒåŒæ—¶ï¼Œé€Ÿåº¦å°½é‡ä¸å‘ç”Ÿå¤§çªå˜ï¼Œæ»¡è¶³èˆ’é€‚æ€§è¦æ±‚ï¼Œä¸”å°½é‡è¿œç¦»éšœç¢ç‰©ã€‚å› æ­¤æœ€åè½¨è¿¹è¯„ä»·å‡½æ•°å¯ä»¥é€šè¿‡å¦‚ä¸‹ä¼ªä»£ç æè¿°ï¼š $$traj_{cost} = k_{lat} * cost_{lat} + k_{lon} * cost_{lon} + k_{obs} * obs_{cost};$$ ä¸Šå¼ä¸­ï¼Œ - k_lat : è¡¨ç¤ºçºµå‘è¯¯å·®ä»£ä»·æƒé‡ - cost_latï¼š è¡¨ç¤ºçºµå‘è¯¯å·®ï¼Œç»¼åˆè€ƒè™‘çºµå‘é€Ÿåº¦è¯¯å·®ï¼Œæ—¶é—´è¯¯å·®åŠåŠ åŠ é€Ÿåº¦çš„å½±å“ã€‚ - k_lon : è¡¨ç¤ºæ¨ªå‘è¯¯å·®ä»£ä»·æƒé‡ - cost_lonï¼š è¡¨ç¤ºæ¨ªå‘å‘è¯¯å·®ï¼Œç»¼åˆè€ƒè™‘äº†æ¨ªå‘åŠ é€Ÿåº¦è¯¯å·®åŠæ¨ªå‘åç§»è¯¯å·®çš„å½±å“ã€‚ - k_obs : è¡¨ç¤ºéšœç¢ç‰©ä»£ä»·æƒé‡ - obs_costï¼š è¡¨ç¤ºéšœç¢ç‰©è·ç¦»æŸå¤±ã€‚ æœ€åé€‰æ‹©å‡ºä»£ä»·å€¼æœ€å¥½çš„ä¸€æ¡è½¨è¿¹è¾“å…¥åˆ°æ§åˆ¶å™¨ï¼Œç”¨äºæ§åˆ¶å™¨çš„è·Ÿè¸ªæ§åˆ¶ã€‚ ","date":"2023-07-15","objectID":"/posts/latticeplanner/:5:0","tags":["draft"],"title":"Lattice Planner","uri":"/posts/latticeplanner/"},{"categories":["Planning"],"content":"ref: [1]. https://blog.csdn.net/qq_41667348/category_11789612.html [2]. https://zhuanlan.zhihu.com/p/492988036 [3]. https://www.zhihu.com/column/c_1020971709242818560 [4]. https://blog.csdn.net/qq_35503971/article/details/106337900 ç®€ä»‹ EM Planneræ˜¯Apolloé¢å‘L4çš„å®æ—¶è¿åŠ¨è§„åˆ’ç®—æ³•ï¼Œè¯¥ç®—æ³•é¦–å…ˆé€šè¿‡é¡¶å±‚å¤šè½¦é“ç­–ç•¥ï¼Œé€‰æ‹©å‡ºä¸€æ¡å‚è€ƒè·¯å¾„ï¼Œå†æ ¹æ®è¿™æ¡å‚è€ƒçº¿ï¼Œåœ¨Frenetåæ ‡ç³»ä¸‹ï¼Œè¿›è¡Œè½¦é“çº§çš„è·¯å¾„å’Œé€Ÿåº¦è§„åˆ’ï¼Œè§„åˆ’ä¸»è¦é€šè¿‡Dynamic Programmingå’ŒåŸºäºæ ·æ¡çš„Quadratic Programmingå®ç°ã€‚EM Plannerå……åˆ†è€ƒè™‘äº†æ— äººè½¦å®‰å…¨æ€§ã€èˆ’é€‚æ€§ã€å¯æ‰©å±•æ€§çš„éœ€æ±‚ï¼Œé€šè¿‡è€ƒè™‘äº¤é€šè§„åˆ™ã€éšœç¢ç‰©å†³ç­–ã€è½¨è¿¹å…‰æ»‘æ€§ç­‰è¦æ±‚ï¼Œå¯é€‚åº”é«˜é€Ÿå…¬è·¯ã€ä½é€ŸåŸåŒºåœºæ™¯çš„è§„åˆ’éœ€æ±‚ã€‚é€šè¿‡Apolloä»¿çœŸå’Œåœ¨ç¯æµ‹è¯•ï¼ŒEM Plannerç®—æ³•ä½“ç°äº†é«˜åº¦çš„å¯é æ€§ï¼Œå’Œä½è€—æ—¶æ€§ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:0:0","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"å¤šè½¦é“EM Planneræ¡†æ¶ ","date":"2023-07-15","objectID":"/posts/emplanner/:1:0","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"æ•´ä½“æ¡†æ¶ æ‰€æœ‰è§„åˆ’éœ€è¦çš„ä¿¡æ¯åœ¨EM Plannerçš„é¡¶å±‚æ±‡é›†ï¼Œç„¶åå‚è€ƒçº¿ç”Ÿæˆå™¨ä¼šç”Ÿæˆä¸€äº›åŸºäºéšœç¢ç‰©å’Œäº¤é€šè§„åˆ™çš„å€™é€‰è½¦é“çº§å‚è€ƒçº¿ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸»è¦æ˜¯ä¾èµ–äºé«˜ç²¾åº¦åœ°å›¾å’ŒRoutingæ¨¡å—ç»™å‡ºçš„å…¨å±€è§„åˆ’ç»“æœã€‚ä»¥ä¸‹æ˜¯è½¦é“çº§çš„è§„åˆ’è¿‡ç¨‹ï¼š é¦–å…ˆä¼šåŸºäºç»™å®šå‚è€ƒçº¿ç”ŸæˆFrenetåæ ‡ç³»ï¼Œé€šè¿‡ç»™å®šå‚è€ƒçº¿å°†æ‰€æœ‰çš„è‡ªè½¦ä¿¡æ¯å’Œç¯å¢ƒä¿¡æ¯è½¬æ¢åˆ°å‚è€ƒçº¿ä¸‹çš„Frenetåæ ‡ç³»ã€‚ æ¥ä¸‹æ¥æ‰€æœ‰çš„è½¦é“çº§ä¿¡æ¯å°†ä¼šä¼ é€’ç»™è½¦é“çº§æœ€ä¼˜æ±‚è§£å™¨ï¼Œè¯¥æ±‚è§£å™¨ä¼šæ±‚è§£æœ€ä¼˜è·¯å¾„å’Œæœ€ä¼˜é€Ÿåº¦ã€‚åœ¨æ±‚è§£æœ€ä¼˜è·¯å¾„æ—¶ï¼Œå‘¨å›´ç¯å¢ƒä¿¡æ¯å°†ä¼šè¢«æŠ•å½±åˆ°Frenetåæ ‡ç³»ï¼ˆE-stepï¼‰ï¼Œç„¶ååŸºäºæŠ•å½±çš„ä¿¡æ¯ç”Ÿæˆä¸€æ¡å…‰æ»‘è·¯å¾„ï¼ˆM-stepï¼‰ã€‚ åŒæ ·çš„ï¼Œåœ¨æ±‚è§£æœ€ä¼˜é€Ÿåº¦æ—¶ï¼Œä¸€æ—¦ç”Ÿæˆäº†ä¸€æ¡æœ€ä¼˜è·¯å¾„ï¼Œéšœç¢ç‰©å°±ä¼šè¢«æŠ•å½±åˆ°STå›¾ä¸­ï¼ˆE-stepï¼‰ï¼Œç„¶åæœ€ä¼˜é€Ÿåº¦æ±‚è§£å™¨ä¼šç”Ÿæˆä¸€æ¡å…‰æ»‘çš„é€Ÿåº¦è§„åˆ’ï¼ˆM-stepï¼‰ã€‚ç»“åˆè·¯å¾„å’Œé€Ÿåº¦è§„åˆ’ç»“æœï¼Œå°±ç”Ÿæˆäº†ä¸€æ¡ç»™å®šè½¦é“çš„å…‰æ»‘è½¨è¿¹ã€‚ æœ€åä¸€æ­¥ä¼šå°†æ‰€æœ‰çš„è½¦é“çº§è½¨è¿¹ä¼ é€’ç»™å‚è€ƒçº¿è½¨è¿¹å†³ç­–å™¨ï¼ŒåŸºäºå½“å‰è½¦è¾†çŠ¶æ€ã€ç›¸å…³çº¦æŸå’Œæ¯æ¡è½¨è¿¹çš„ä»£ä»·ï¼Œè½¨è¿¹å†³ç­–å™¨ä¼šå†³å®šä¸€æ¡æœ€ä¼˜çš„è½¨è¿¹ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:1:1","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"å¤šè½¦é“ç­–ç•¥ åˆ©ç”¨æœç´¢ç®—æ³•ã€2ã€‘ã€3ã€‘ç»“åˆä»£ä»·ä¼°ç®—å½¢æˆå˜é“ç­–ç•¥æ˜¯ä¸€ç§æ¯”è¾ƒå¸¸è§çš„å¤„ç†å˜é“é—®é¢˜çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•å­˜åœ¨è®¡ç®—é‡å¤§ã€éš¾ä»¥é€‚ç”¨äº¤è§„ä»¥åŠå‰åå†³ç­–å¯èƒ½ç¼ºå°‘è¿è´¯æ€§ç­‰ç‰¹ç‚¹ã€‚Apolloçš„è§£å†³åŠæ³•æ˜¯å°†å¤šè½¦é“ç­–ç•¥åˆ’åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šæ— æ³•é€šè¡Œçš„è¢«åŠ¨å˜é“ï¼Œå’Œèƒ½å¤Ÿé€šè¡Œçš„ä¸»åŠ¨å˜é“ã€‚ è¢«åŠ¨å˜é“ä¸€èˆ¬ç”±é“è·¯é˜»æŒ¡é€ æˆçš„ï¼Œé€šè¿‡å…¨å±€è§„åˆ’æ¨¡å—é‡æ–°ç”Ÿæˆå…¨å±€è·¯å¾„è§£å†³ï¼› ä¸»åŠ¨å˜é“æ˜¯è€ƒè™‘åŠ¨æ€éšœç¢ç‰©è€Œåšå‡ºçš„å†³ç­–ã€‚Apolloé€šè¿‡åŒæ­¥ç”Ÿæˆå¤šæ¡å€™é€‰è½¦é“çš„æ–¹æ³•è§£å†³ä¸»åŠ¨å˜é“é—®é¢˜ï¼Œåœ¨Frenetåæ ‡ç³»ä¸‹ï¼ŒæŠ•å½±éšœç¢ç‰©ã€è€ƒè™‘äº¤è§„åç”Ÿæˆå¤šæ¡è½¦é“çº§çš„å€™é€‰è·¯å¾„ï¼Œæœ€åä¼ é€’åˆ°å˜é“å†³ç­–å™¨ä¸­é€‰æ‹©å‡ºä¸€æ¡æœ€ä¼˜çš„è½¦é“å†³ç­–ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:1:2","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"è·¯å¾„-é€Ÿåº¦è¿­ä»£ç®—æ³• åœ¨Frenetåæ ‡ä¸‹çš„è½¨è¿¹è§„åˆ’å®é™…ä¸Šæ˜¯å¸¦çº¦æŸçš„3Dæœ€ä¼˜æ±‚è§£é—®é¢˜ã€‚è¯¥é—®é¢˜ä¸€èˆ¬æœ‰ä¸¤ç§æ±‚è§£æ–¹æ³•ï¼šç›´æ¥3Dæœ€ä¼˜åŒ–æ±‚è§£å’Œè·¯å¾„-é€Ÿåº¦è§£è€¦æ±‚è§£ã€‚ ç›´æ¥æ–¹æ³•ã€4ã€‘ã€5ã€‘è¯•å›¾åœ¨SLTåæ ‡ç³»ä¸‹ä½¿ç”¨è½¨è¿¹é‡‡æ ·æˆ–Latticeæœç´¢,è¿™äº›æ–¹æ³•éƒ½å—åˆ°æœç´¢å¤æ‚åº¦çš„é™åˆ¶ï¼Œå› æ­¤æœç´¢ç»“æœæ˜¯æ¬¡ä¼˜çš„ã€‚ è€Œè·¯å¾„-é€Ÿåº¦è§£è€¦è§„åˆ’ä¼šåˆ†åˆ«æ±‚è§£è·¯å¾„å’Œé€Ÿåº¦çš„æœ€ä¼˜è§£ã€‚é€Ÿåº¦çš„ç”Ÿæˆå°†ä¼šåœ¨ç”Ÿäº§çš„è·¯å¾„ä¸Šè¿›è¡Œã€6ã€‘ã€‚è™½ç„¶ç»“æœå¯èƒ½ä¹Ÿä¸æ˜¯æœ€ä¼˜çš„ï¼Œä½†ä¼šåœ¨é€Ÿåº¦å’Œè·¯å¾„åˆ†åˆ«æ±‚è§£æ—¶æ›´åŠ çµæ´»ã€‚ EM Plannerè¿­ä»£åœ°è¿›è¡Œè·¯å¾„å’Œé€Ÿåº¦æœ€ä¼˜æ±‚è§£ï¼Œé€šè¿‡ä¼°è®¡å’Œæ¥å‘ã€ä½é€Ÿéšœç¢ç‰©çš„äº¤äº’ï¼Œä¸Šä¸€å¸§çš„é€Ÿåº¦è§„åˆ’å°†æœ‰åŠ©äºä¸‹ä¸€å¸§çš„è·¯å¾„è§„åˆ’ã€‚ç„¶åå°†è·¯å¾„è§„åˆ’ç»“æœå†äº¤ç»™é€Ÿåº¦æœ€ä¼˜æ±‚è§£å™¨æ¥æ¨ç®—å‡ºä¸€ä¸ªæœ€ä¼˜çš„é€Ÿåº¦ç»“æœã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:1:3","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"å†³ç­–å’Œäº¤é€šè§„åˆ™çº¦æŸ äº¤é€šè§„åˆ™æ˜¯ç¡¬çº¦æŸï¼Œè€Œä¸éšœç¢ç‰©çš„äº¤äº’æ˜¯è½¯çº¦æŸã€‚ä¸€äº›å†³ç­–æ–¹æ³•ç›´æ¥è€ƒè™‘çš„æ˜¯æ•°å€¼ä¸Šçš„æœ€ä¼˜è§£ã€7ã€‘ï¼Œä¹Ÿæœ‰åƒã€5ã€‘ä¸€æ ·åŒæ—¶è¿›è¡Œè§„åˆ’å’Œå†³ç­–ã€‚è€ŒApollo EM Plannerçš„å†³ç­–æ˜¯ä¼˜å…ˆäºè§„åˆ’çš„ï¼Œå†³ç­–æ¨¡å—å°†ä¼šä¸ºè§„åˆ’å¸¦æ¥æ›´æ˜ç¡®çš„æ„å›¾ï¼Œå‡å°‘æœ€ä¼˜æ±‚è§£çš„æœç´¢ç©ºé—´ã€‚å†³ç­–éƒ¨åˆ†çš„ç¬¬ä¸€æ­¥æ˜¯å°†è½¦è¾†çš„è¿åŠ¨æ„å›¾ç”¨ä¸€æ ¹ç²—ç•¥ã€çµæ´»çš„è½¨è¿¹æ¥æè¿°ã€‚è¿™æ¡è½¨è¿¹ä¹Ÿå¯ä»¥ç”¨æ¥ä¼°è®¡ä¸éšœç¢ç‰©ä¹‹é—´çš„äº¤äº’ï¼Œå¹¶ä¸”å½“æƒ…æ™¯æ›´åŠ å¤æ‚æ—¶ï¼Œè¿™ç§åŸºäºè½¨è¿¹çš„å†³ç­–æ–¹æ³•ä¹Ÿæ˜¯çµæ´»çš„ã€‚ç¬¬äºŒæ­¥æ˜¯åŸºäºå†³ç­–ç”Ÿæˆçš„è½¨è¿¹æ¥æ„é€ ä¸€ä¸ªå‡¸ç©ºé—´ï¼Œç”¨æ¥åšåŸºäºæ ·æ¡å…‰æ»‘çš„è½¨è¿¹ç”Ÿæˆï¼Œä¸»è¦æ˜¯é€šè¿‡äºŒæ¬¡è§„åˆ’æ¥è¾¾åˆ°è¿­ä»£ç”Ÿäº§è·¯å¾„ã€é€Ÿåº¦è§£çš„ç›®çš„ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:1:4","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"è½¦é“çº§EM PLanneræ¡†æ¶ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:0","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"æ•´ä½“æ¡†æ¶ æ¡†æ¶åŒ…æ‹¬äº†ä¸€å¸§è§„åˆ’ä¸­çš„ä¸¤ä¸ªE-stepå’Œä¸¤ä¸ªM-stepï¼Œè½¨è¿¹ä¿¡æ¯å°†ä¼šåœ¨å‰åä¸¤å¸§ä¸­ä¼ é€’ï¼Œä»¥ä¸‹æ˜¯æ•´ä¸ªè½¦é“çº§è§„åˆ’çš„æµç¨‹ï¼š åœ¨ç¬¬ä¸€ä¸ªE-stepä¸­ï¼Œéšœç¢ç‰©ä¼šè¢«æŠ•å½±åˆ°è½¦é“Frenetåæ ‡ç³»ï¼Œéšœç¢ç‰©åŒ…æ‹¬äº†é™æ€éšœç¢ç‰©å’ŒåŠ¨æ€éšœç¢ç‰©ã€‚é™æ€éšœç¢ç‰©ä¼šç›´æ¥ä»ç¬›å¡å°”åæ ‡ç³»è½¬æ¢åˆ°Frenetåæ ‡ç³»ï¼Œè€ŒåŠ¨æ€çš„ä¿¡æ¯åˆ™ä»¥å…¶è¿åŠ¨è½¨è¿¹æ¥æè¿°ã€‚é€šè¿‡ä¸Šä¸€å¸§çš„é¢„æµ‹ä¿¡æ¯ï¼Œå’Œè‡ªè½¦çš„è¿åŠ¨ä¿¡æ¯ï¼Œå¯ä»¥ä¼°ç®—è‡ªè½¦å’ŒåŠ¨æ€éšœç¢ç‰©åœ¨æ¯ä¸ªæ—¶é—´ç‚¹çš„äº¤äº’æƒ…å†µï¼Œè½¨è¿¹é‡å çš„éƒ¨åˆ†ä¼šè¢«æ˜ å°„åˆ°Frenetåæ ‡ç³»ä¸­ã€‚åˆæ¬¡ä¹‹å¤–ï¼Œåœ¨æœ€ä¼˜è·¯å¾„æ±‚è§£è¿‡ç¨‹ä¸­ï¼ŒåŠ¨æ€éšœç¢ç‰©çš„å‡ºç°ä¼šæœ€ç»ˆå¯¼è‡´è‡ªè½¦åšå‡ºé¿è®©çš„å†³ç­–ã€‚å› æ­¤ï¼Œå‡ºäºå®‰å…¨çš„è€ƒè™‘ï¼ŒSLæŠ•å½±åªè€ƒè™‘ä½é€Ÿå’Œæ¥å‘éšœç¢ç‰©ï¼Œè€Œå¯¹äºé«˜é€Ÿçš„åŠ¨æ€éšœç¢ç‰©ï¼ŒEM Plannerçš„å¹³è¡Œå˜é“ç­–ç•¥ä¼šè€ƒè™‘è¿™ç§æƒ…æ™¯ã€‚ åœ¨ç¬¬äºŒä¸ªE-stepï¼Œæ‰€æœ‰çš„éšœç¢ç‰©éƒ½ä¼šåœ¨STä¸­ä¸ç”Ÿæˆçš„é€Ÿåº¦ä¿¡æ¯è¿›è¡Œä¼°è®¡ï¼Œå¦‚æœå¯¹åº”çš„STä¸­é‡å éƒ¨åˆ†ï¼Œé‚£ä¹ˆå¯¹åº”åŒºåŸŸå°†ä¼šåœ¨STä¸­è¿›è¡Œé‡æ–°ç”Ÿæˆã€‚ åœ¨ä¸¤æ¬¡M-stepè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡Dynamic Programmingå’ŒQuadratic Programmingç”Ÿæˆè·¯å¾„å’Œé€Ÿåº¦è§„åˆ’ã€‚ç„¶è€Œåœ¨è¿›è¡ŒæŠ•å½±çš„SLå’ŒSTåæ ‡å†…æ±‚è§£æ—¶éå‡¸çš„ï¼Œå› æ­¤ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆä½¿ç”¨Dynamic Programmingè·å¾—ä¸€ä¸ªç²—ç•¥çš„è§£ï¼ŒåŒæ—¶è¿™ä¸ªè§£ä¹Ÿèƒ½å¤Ÿæä¾›è¯¸å¦‚é¿è®©ã€å‡é€Ÿã€è¶…è½¦çš„å†³ç­–ã€‚é€šè¿‡è¿™ä¸ªç²—ç•¥çš„è§£ï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªå‡¸çš„é€šé“ï¼Œç„¶åä½¿ç”¨åŸºäºQuadratic Programmingçš„æ ·æ¡æœ€ä¼˜æ±‚è§£ã€‚ æ¥ä¸‹æ¥çš„éƒ¨åˆ†å°†ä¼šè¯¦ç»†ä»‹ç»æ¡†æ¶ä¸­çš„æ­¥éª¤ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:1","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"SLå’ŒSTæŠ•å½±ï¼ˆE-stepï¼‰ SLæŠ•å½± SLæŠ•å½±æ˜¯åŸºäºç±»ä¼¼äºã€3ã€‘ä¸­çš„G2å…‰æ»‘å‚è€ƒçº¿ï¼ˆæ›²ç‡å¯¼æ•°è¿ç»­ï¼‰ã€‚ç»™å®šä¸€ä¸ªæ—¶åˆ»ï¼Œå¦‚æœè‡ªè½¦ä¸é¢„æµ‹çš„éšœç¢ç‰©è½¨è¿¹æœ‰é‡å åŒºåŸŸï¼Œé‚£ä¹ˆè¿™ä¸ªé‡å åŒºåŸŸå°†ä¼šåœ¨SLåæ ‡ç³»è¢«æ ‡æ³¨ä¸ºä¸åŠ¨æ€éšœç¢ç‰©çš„ä¼°è®¡äº¤äº’åŒºåŸŸã€‚è¿™ä¸ªåŒºåŸŸå¯ä»¥ç†è§£ä¸ºè‡ªè½¦å’ŒåŠ¨æ€éšœç¢ç‰©çš„åŒ…å›´ç›’çš„é‡å åŒºåŸŸã€‚å›¾4å±•ç¤ºäº†è¿™ä¸€ç§æ¡ˆä¾‹ï¼Œçº¢è‰²ä»£è¡¨åŠ¨æ€éšœç¢ç‰©çš„é¢„æµ‹è½¨è¿¹ï¼Œç”¨ç¦»æ•£ç‚¹æ¥è¡¨ç¤ºï¼›è“è‰²è¡¨ç¤ºè‡ªè½¦çš„çŠ¶æ€ã€‚ STæŠ•å½± STæŠ•å½±ç”¨äºå¸®åŠ©æˆ‘ä»¬ä¼°è®¡è‡ªè½¦çš„é€Ÿåº¦è§„åˆ’ã€‚å½“ç”Ÿæˆäº†ä¸€æ¡å…‰æ»‘çš„è·¯å¾„ä»¥åï¼Œä¸è‡ªè½¦æœ‰äº¤äº’çš„åŠ¨æ€éšœç¢ç‰©å’Œé™æ€éšœç¢ç‰©éƒ½ä¼šè¢«æŠ•å½±åˆ°è·¯å¾„ä¸Šï¼ŒåŒç†ï¼Œè¿™ç§äº¤äº’ä¹Ÿå®šä¹‰ä¸ºåŒ…å›´ç›’çš„é‡å ã€‚å¦‚å›¾5ï¼Œè¿™æ˜¯ä¸€ä¸ªSTå›¾æŠ•å½±æ¡ˆä¾‹ã€‚ çº¢è‰²åŒºåŸŸè¡¨ç¤ºåœ¨2så¤„è·ç¦»è‡ªè½¦40mè¿œåˆ‡å…¥è§„åˆ’è·¯å¾„çš„åŠ¨æ€éšœç¢ç‰©STä¿¡æ¯ï¼Œç»¿è‰²è¡¨ç¤ºåœ¨è‡ªè½¦åçš„åŠ¨æ€éšœç¢ç‰©STä¿¡æ¯ï¼ŒM-stepå°†ä¼šåœ¨å‰©ä¸‹çš„åŒºåŸŸæ‰¾åˆ°å¯è¡Œå…‰æ»‘æœ€ä¼˜è§£ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:2","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"DPè·¯å¾„ï¼ˆM-stepï¼‰ M-stepæ±‚è§£Frenetåæ ‡ç³»ä¸‹çš„æœ€ä¼˜è·¯å¾„è§„åˆ’ï¼Œå®é™…ä¸Šåœ¨ä¸€ä¸ªéå‡¸çš„åŒºé—´ï¼ˆä»å·¦å’Œä»å³é¿è®©æ˜¯ä¸¤ä¸ªå±€éƒ¨æœ€ä¼˜æƒ…æ™¯ï¼‰å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„ $l=f(s)$ æ–¹ç¨‹ã€‚ä¸»è¦åŒ…æ‹¬ä¸¤æ­¥ï¼šåŸºäºDynamic Programmingçš„è·¯å¾„å†³ç­–å’ŒåŸºäºæ ·æ¡çš„è·¯å¾„è§„åˆ’ã€‚ åŸºäºDynamic Programmingçš„è·¯å¾„æ­¥éª¤æä¾›ä¸€æ¡ç²—ç•¥çš„è·¯å¾„ä¿¡æ¯ï¼Œå…¶å¯ä»¥å¸¦æ¥å¯è¡Œé€šé“å’Œç»•éšœå†³ç­–ï¼Œå¦‚å›¾6æ‰€ç¤ºï¼Œè¿™ä¸€æ­¥åŒ…æ‹¬Latticeé‡‡æ ·ã€ä»£ä»·å‡½æ•°ã€Dynamic Programmingæœç´¢ã€‚ Latticeé‡‡æ ·åŸºäºFrenetåæ ‡ç³»ï¼Œå¤šè¡Œçš„ç‚¹åœ¨æ’’åœ¨è‡ªè½¦å‰ã€‚å¦‚å›¾7æ‰€ç¤ºï¼Œè¡Œä¸è¡Œä¹‹é—´çš„ç‚¹ä½¿ç”¨äº”æ¬¡æ–¹å¤šé¡¹å¼è¿æ¥ï¼Œè€Œè¡Œä¸è¡Œä¹‹é—´çš„é—´éš”å–å†³äºè‡ªè½¦é€Ÿåº¦ã€é“è·¯ç»“æ„ã€æ˜¯å¦æ¢é“ç­‰ç­‰ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œè·¯å¾„æ€»é•¿å¯ä»¥è¾¾åˆ°200mæˆ–è€…è¦†ç›–8sçš„è¡Œé©¶é•¿åº¦ã€‚ æ¯æ®µLatticeè·¯å¾„çš„ä»£ä»·é€šè¿‡å…‰æ»‘ç¨‹åº¦ã€éšœç¢ç‰©é¿è®©ã€è½¦é“ä»£ä»·æ¥è¯„ä»·ï¼š è€Œå…‰æ»‘ç¨‹åº¦åˆé€šè¿‡ä»¥ä¸‹æ–¹ç¨‹æ¥è¡¡é‡ï¼Œä¸€é˜¶å¯¼è¡¨ç¤ºæœå‘åå·®ï¼ŒäºŒé˜¶å¯¼è¡¨ç¤ºæ›²ç‡ï¼Œä¸‰é˜¶å¯¼è¡¨ç¤ºæ›²ç‡å¯¼æ•°ï¼š éšœç¢ç‰©çš„ä»£ä»·ç”±ä»¥ä¸‹æ–¹ç¨‹ç»™å‡ºï¼Œæ–¹ç¨‹ä¸­çš„dç”±è‡ªè½¦bounding boxåˆ°éšœç¢ç‰©bounding boxçš„è·ç¦»è¡¨ç¤ºã€‚è¿¹è§„åˆ’ è½¦é“ä»£ä»·ç”±ä»¥ä¸‹æ–¹ç¨‹ç»™å‡ºï¼Œä¸»è¦æ˜¯è€ƒè™‘åœ¨é“è·¯ä¸Šä¸å¦ä»¥åŠä¸å‚è€ƒçº¿ä¹‹é—´çš„å·®å¼‚ï¼Œä¸€èˆ¬æ˜¯ä¸è½¦é“ä¸­å¿ƒçº¿çš„å·®å¼‚ï¼š ","date":"2023-07-15","objectID":"/posts/emplanner/:2:3","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"æ ·æ¡QPè·¯å¾„ï¼ˆM-stepï¼‰ åŸºäºæ ·æ¡çš„è·¯å¾„å¯ä»¥ç†è§£ä¸ºæ˜¯Dynamic Programmingæ›´ç²¾ç»†çš„ç‰ˆæœ¬ã€‚é€šè¿‡DPé‡‡æ ·å‡ºçš„è·¯å¾„ç”Ÿæˆä¸€æ¡å¯é€šè¡Œé€šé“ï¼Œç„¶ååœ¨é€šé“ä¸­åˆ©ç”¨åŸºäºQuadratic Programmingçš„æ ·æ¡æ›²çº¿ç”Ÿäº§å…‰æ»‘è·¯å¾„ã€‚å…·ä½“å®ä¾‹å¦‚å›¾8æ‰€ç¤ºï¼Œæ­¥éª¤æµç¨‹å¯ç”±å›¾9æ‰€ç¤ºï¼š QPçš„ç›®æ ‡å‡½æ•°ä¸ºï¼š å…¶ä¸­ $ g(s) $ ä¸ºDPè§„åˆ’çš„è·¯å¾„ï¼Œ$ f(s) $ çš„ä¸€é˜¶å¯¼è¡¨ç¤ºæœå‘ã€äºŒé˜¶å¯¼è¡¨ç¤ºæ›²ç‡ã€ä¸‰é˜¶å¯¼è¡¨ç¤ºæ›²ç‡çš„å¯¼æ•°ã€‚è¯¥å‡½æ•°æè¿°äº†é¿è®©éšœç¢ç‰©å’Œæ›²çº¿å…‰æ»‘æ€§ä¹‹é—´çš„æƒè¡¡ã€‚ QPçš„çº¦æŸåŒ…æ‹¬è¾¹ç•Œçº¦æŸå’ŒåŠ¨åŠ›å­¦å¯è¡Œæ€§ã€‚è¿™äº›çº¦æŸéƒ½ä¼šæ–½åŠ åœ¨æ¯ä¸ªså¤„ï¼Œé€šè¿‡é™åˆ¶læ¥å°†è½¦è¾†é™åˆ¶åœ¨è½¦é“å†…ã€‚ç”±äºEM Plannerä½¿ç”¨çš„æ˜¯è‡ªè¡Œè½¦æ¨¡å‹ï¼Œå› æ­¤è¿™æ ·å¯¹lçš„é™åˆ¶ä¹Ÿæ˜¯ä¸å¤Ÿçš„ã€‚å¦‚å›¾10æ‰€ç¤ºï¼Œä¸ºäº†ä½¿å¾—è¾¹ç•Œçº¦æŸå˜å‡¸å¹¶ä¸”çº¿æ€§ï¼Œåœ¨è‡ªè½¦çš„å‰åä¸¤ç«¯å„å¢åŠ äº†ä¸€ä¸ªåŠåœ†ã€‚å‰è½®åˆ°åè½®ä¸­å¿ƒçš„è·ç¦»ç”¨ l_f â€‹è¡¨ç¤ºï¼Œè½¦å®½ç”¨wè¡¨ç¤ºï¼Œå› æ­¤è½¦çš„å·¦å‰è§’çš„æ¨ªå‘ä½ç½®å¯ä»¥ç”¨ä»¥ä¸‹æ–¹ç¨‹ç»™å‡ºï¼š é€šè¿‡çº¿æ€§åŒ–å¯ä»¥å˜ä¸ºï¼š åŒç†ï¼Œå…¶ä½™ä¸‰ä¸ªè§’çš„ä½ç½®éƒ½å¯ä»¥è¢«çº¿æ€§åŒ–ï¼Œæ˜¾ç„¶å› ä¸º $ \\theta $ è¶³å¤Ÿå°ï¼Œå°äº $ pi/12 $ï¼Œå› æ­¤å¯ä»¥è¿™æ ·çº¿æ€§åŒ–ã€‚ $ f(s) $ çš„äºŒé˜¶å¯¼å’Œä¸‰é˜¶å¯¼ä¸åŠ¨åŠ›å­¦å¯è¡Œæ€§ç›¸å…³ï¼Œé™¤äº†è¾¹ç•Œæ¡ä»¶ä»¥å¤–ï¼Œç”Ÿæˆçš„è·¯å¾„è¿˜åº”è¯¥å’Œè‡ªè½¦çš„åˆå§‹æ¡ä»¶ç›¸åŒ¹é…ã€‚å› ä¸ºæ‰€æœ‰çš„çº¦æŸéƒ½æ˜¯çº¿æ€§çš„ï¼Œæ‰€ä»¥ä½¿ç”¨Quadratic Programmingæ±‚è§£éå¸¸è¿…é€Ÿã€‚ å…·ä½“çš„å…‰æ»‘æ ·æ¡æ›²çº¿å’ŒQPé—®é¢˜å¯ä»¥åœ¨é™„å½•ä¸­æŸ¥é˜…ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:4","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"DPé€Ÿåº¦æ±‚è§£ï¼ˆM-stepï¼‰ M-stepçš„é€Ÿåº¦è§„åˆ’æ˜¯åœ¨STå›¾ä¸­æ±‚è§£æœ€ä¼˜é€Ÿåº¦è§„åˆ’ï¼Œå³æ±‚è§£å‡ºæœ€ä¼˜å‡½æ•° S(t)ã€‚ä¸æ±‚è§£æœ€ä¼˜è·¯å¾„ç›¸ä¼¼ï¼Œåœ¨STå›¾ä¸­æ±‚è§£æœ€ä¼˜é€Ÿåº¦è§„åˆ’ä¹Ÿæ˜¯éå‡¸çš„æœ€ä¼˜åŒ–é—®é¢˜ã€‚åŒæ ·ä¹Ÿé‡‡ç”¨Dynamic Programmingé…åˆæ ·æ¡æ›²çº¿Quadratic Programmingæ¥æ‰¾åˆ°å…‰æ»‘é€Ÿåº¦è§„åˆ’ã€‚å›¾12æ˜¯é€Ÿåº¦æ±‚è§£çš„pipelineï¼š DPé€Ÿåº¦æ±‚è§£åŒ…æ‹¬ä»£ä»·å‡½æ•°ã€STæ …æ ¼å›¾ä»¥åŠDynamic Programmingæœç´¢ã€‚ç”Ÿæˆçš„ç»“æœåŒ…æ‹¬åˆ†æ®µçº¿æ€§çš„é€Ÿåº¦è§„åˆ’ã€å¯é€šè¡Œé€šé“ä»¥åŠéšœç¢ç‰©é€Ÿåº¦å†³ç­–ã€‚å¦‚å›¾11æ‰€ç¤ºï¼Œè¯¥ç»“æœåœ¨QPä¸­ç”¨æ¥ä½œä¸ºå‚è€ƒé€Ÿåº¦è§„åˆ’ï¼Œé€šè¿‡è¯¥å‚è€ƒé€Ÿåº¦ç”Ÿæˆå‡¸çš„åŒºåŸŸã€‚ åœ¨æ …æ ¼å›¾ä¸­ï¼Œä½¿ç”¨æœ‰é™å·®åˆ†æ³•æ¥ä¼°è®¡é€Ÿåº¦ã€åŠ é€Ÿåº¦å’Œjerkï¼š ä»DPç”Ÿæˆçš„é€Ÿåº¦ä¸­é€‰æ‹©å‡ºæœ€ä¼˜çš„ä¸€æ¡çš„æ–¹æ³•æ˜¯æœ€å°åŒ–ä»¥ä¸‹çš„ä»£ä»·å‡½æ•°ï¼š ç¬¬ä¸€é¡¹æ˜¯é€Ÿåº¦è¯¯å·®ï¼Œgç”¨æ¥æƒ©ç½šä¸ $ V_ref $ çš„ä¸åŒçš„è¯¯å·®ã€‚ç¬¬äºŒé¡¹ã€ç¬¬ä¸‰é¡¹ç”¨æ¥æè¿°æ›²çº¿çš„å…‰æ»‘ç¨‹åº¦ã€‚æœ€åä¸€é¡¹ç”¨æ¥æè¿°éšœç¢ç‰©ä»£ä»·ï¼Œä»¥åˆ°éšœç¢ç‰©çš„è·ç¦»æ¥è¡¡é‡ã€‚ DPæœç´¢ç©ºé—´ä¹Ÿæ”¶åˆ°è½¦è¾†åŠ¨åŠ›å­¦çº¦æŸï¼Œå¹¶ä¸”ä¹Ÿæœ‰å•è°ƒæ€§çº¦æŸï¼Œå› ä¸ºä¸å¸Œæœ›è½¦è¾†å€’é€€ã€‚ä¸€äº›å¯¹äºåŠ¨åŠ›å­¦çº¦æŸçš„å¿…è¦ç®€åŒ–ä¹Ÿç”¨æ¥åŠ é€Ÿç®—æ³•ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:5","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"QPé€Ÿåº¦æ±‚è§£ï¼ˆM-stepï¼‰ å› ä¸ºåˆ†æ®µçº¿æ€§çš„é€Ÿåº¦è§„åˆ’ä¸èƒ½æ»¡è¶³åŠ¨åŠ›å­¦çš„è¦æ±‚ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨Quadratic Programmingæ¥å¡«è¡¥åŠ¨åŠ›å­¦ç©ºç¼ºã€‚å›¾13æ˜¯æ ·æ¡æ›²çº¿QPé€Ÿåº¦æ±‚è§£çš„pipelineï¼š QPé€Ÿåº¦æ±‚è§£åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼šä»£ä»·å‡½æ•°ã€çº¿æ€§çº¦æŸä»¥åŠæ ·æ¡æ›²çº¿QPæ±‚è§£å™¨ã€‚ é™¤äº†åˆå§‹æ¡ä»¶çº¦æŸä»¥å¤–ï¼Œä¸»è¦æœ‰ä»¥ä¸‹çš„è¾¹ç•Œçº¦æŸï¼š ç¬¬ä¸€ä¸ªçº¦æŸæ˜¯å•è°ƒæ€§çº¦æŸï¼›ç¬¬äºŒã€ç¬¬ä¸‰ã€ç¬¬å››çº¦æŸä¸»è¦æ˜¯äº¤é€šè§„åˆ™å’Œè½¦è¾†åŠ¨åŠ›å­¦çº¦æŸã€‚é€šè¿‡çº¦æŸã€costå‡½æ•°è®¡ç®—ä»¥åï¼Œspline QP speedä¼šç”Ÿæˆä¸€æ¡å¦‚å›¾14ä¸­çš„å…‰æ»‘å¯è¡Œçš„é€Ÿåº¦è§„åˆ’ã€‚ ç»“åˆè·¯å¾„è§„åˆ’ï¼ŒEM Planneræœ€ç»ˆä¼šç”Ÿæˆä¸€æ¡å…‰æ»‘è½¨è¿¹ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:6","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"è§£QPé—®é¢˜çš„è¯´æ˜ ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œè·¯å¾„å’Œé€Ÿåº¦å¤§æ¦‚åœ¨100ä¸ªä¸åŒçš„ä½ç½®æˆ–æ—¶é—´ç‚¹ï¼Œé‚£ä¹ˆçº¦æŸå°±æœ‰è¶…è¿‡600ä¸ªã€‚å¯¹äºé€Ÿåº¦ã€è·¯å¾„æ±‚è§£ï¼Œåˆ†æ®µäº”æ¬¡å¤šé¡¹å¼å·²ç»è¶³å¤Ÿï¼Œå› æ­¤æ ·æ¡æ›²çº¿å¤§æ¦‚æœ‰3-5ä¸ªå¤šé¡¹å¼ï¼Œå¤§æ¦‚å°±æœ‰30ä¸ªå‚æ•°ã€‚å› æ­¤Quadratic Programmingå°±å˜æˆäº†ç›¸å¯¹å°çš„ç›®æ ‡å‡½æ•°ï¼Œå’Œç›¸å¯¹å¤§çš„çº¦æŸã€‚QPèƒ½æ¯”è¾ƒå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”ä½¿ç”¨äº†ä¸Šä¸€å¸§çš„è§£ä½œä¸ºçƒ­å¯åŠ¨ï¼ŒåŠ é€Ÿæ±‚è§£è¿‡ç¨‹ã€‚å®è·µä¸­ï¼ŒQPé—®é¢˜è§£çš„å¹³å‡æ—¶é—´3msã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:7","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"DPå’ŒQPéå‡¸é—®é¢˜çš„è¯´æ˜ åœ¨éå‡¸é—®é¢˜ä¸Šï¼ŒDPå’ŒQPéƒ½æœ‰ä»–ä»¬å•ç‹¬çš„é™åˆ¶ã€‚DPå’ŒQPçš„ç»„åˆï¼Œèƒ½å¤Ÿå¾ˆå¥½å¸æ”¶ä¸¤è€…ä¼˜ç‚¹ï¼Œå¹¶æ±‚å¾—ä¸€ä¸ªç†æ€§è§£ã€‚ DP:DPçš„ä¼˜åŠ£å—åˆ°æ’’ç‚¹åˆ†è¾¨ç‡å’Œæ—¶é—´åˆ†è¾¨ç‡çš„å½±å“ï¼Œé€šå¸¸åœ¨è¿è¡Œæ—¶é—´é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬åªä¼šå¾—å‡ºä¸€ä¸ªç²—ç³™è§£è€Œéæœ€ä¼˜è§£ï¼Œæ¯”å¦‚ä¼šä»éšœç¢ç‰©å·¦ä¾§ç»•å¼€ï¼Œä½†å¹¶ä¸æ˜¯æŒ‰ç…§æœ€å®Œç¾çš„è·¯å¾„ç»•å¼€ã€‚ QP:QPéœ€è¦åœ¨å‡¸ç©ºé—´æ±‚è§£ï¼Œå› æ­¤å¿…é¡»å€ŸåŠ©DPçš„è§£æ¥å½¢æˆå‡¸ç©ºé—´ã€‚éšæœºçš„æˆ–è€…åŸºäºè§„åˆ™çš„å†³ç­–ï¼Œé€šå¸¸ä¼šç»™QPå¸¦æ¥éå‡¸çš„ç©ºé—´ï¼Œå› æ­¤è§£QPé—®é¢˜ä¼šå¤±è´¥æˆ–è€…é™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚ DP+QP:ï¼ˆ1ï¼‰é€šè¿‡DPå¯»æ±‚ç²—ç³™è§£ï¼›ï¼ˆ2ï¼‰DPè§£èƒ½å¤Ÿç”Ÿæˆå‡¸ç©ºé—´ï¼›ï¼ˆ3ï¼‰QPåœ¨DPè§£å½¢æˆçš„å‡¸ç©ºé—´å†…ï¼Œå¾ˆå¤§å¯èƒ½èƒ½å¤Ÿè·å¾—å…¨å±€æœ€ä¼˜è§£ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:2:8","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"æ¡ˆä¾‹åˆ†æ å›¾15å±•ç¤ºäº†EM Planneråœ¨è§„åˆ’å‘¨æœŸå†…ï¼Œå¸§ä¸å¸§ä¹‹é—´å®Œæˆæœ€ä¼˜è½¨è¿¹è§„åˆ’çš„è¿‡ç¨‹ã€‚ å‡è®¾è‡ªè½¦ä»¥10m/sçš„é€Ÿåº¦è¡Œè¿›ï¼Œä¸€åŠ¨æ€éšœç¢ç‰©æ²¿ç€ç›¸åæ–¹å‘æœç€æˆ‘ä»¬ä»¥åŒæ ·10m/sçš„é€Ÿåº¦é©¶æ¥ï¼ŒEM PlanneræŒ‰ä»¥ä¸‹æ­¥éª¤è¿­ä»£ç”Ÿæˆé€Ÿåº¦å’Œè·¯å¾„è§„åˆ’ï¼š å†å²è§„åˆ’ï¼ˆå›¾15-aï¼‰ï¼šåœ¨åŠ¨æ€éšœç¢ç‰©å‡ºç°ä¹‹å‰ï¼Œè‡ªè½¦ä»¥æ’å®šé€Ÿåº¦10m/så‘å‰è¡Œé©¶ã€‚ è·¯å¾„è§„åˆ’è¿­ä»£1ï¼ˆå›¾15-bï¼‰ï¼šåŸºäºå½“å‰è½¦é€Ÿå’ŒåŠ¨æ€éšœç¢ç‰©çš„è½¦é€Ÿï¼Œä¸¤è€…å°†ä¼šåœ¨S=40må¤„ç›¸é‡ï¼Œå› æ­¤ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯åœ¨S=40må¤„ç»•å¼€éšœç¢ç‰©ã€‚ é€Ÿåº¦è§„åˆ’è¿­ä»£1ï¼ˆå›¾15-cï¼‰ï¼šåŸºäºè·¯å¾„è§„åˆ’ç»“æœï¼Œå³ä»å³ä¾§é¿å¼€éšœç¢ç‰©ï¼Œè‡ªè½¦å°†è°ƒæ•´å…¶é€Ÿåº¦è§„åˆ’ï¼Œåœ¨é¿å¼€éšœç¢ç‰©ä¹‹å‰å‡é€Ÿåˆ°5m/sã€‚ è·¯å¾„è§„åˆ’è¿­ä»£2ï¼ˆå›¾15-dï¼‰ï¼šç”±äºäº§ç”Ÿäº†æ–°çš„é€Ÿåº¦è§„åˆ’ï¼Œè‡ªè½¦å°†ä¸å†ä¼šä¸åŠ¨æ€éšœç¢ç‰©åœ¨S=40må¤„é¿å¼€ï¼Œè€Œä¼šåœ¨ä¸€ä¸ªæ–°çš„ä½ç½®S=30må¤„é¿å¼€éšœç¢ç‰©ã€‚å› æ­¤ï¼Œè·¯å¾„è§„åˆ’ç»“æœä¹Ÿå°†ä¼šéšé€Ÿåº¦è§„åˆ’æ”¹å˜è€Œé‡æ–°æ›´æ–°ã€‚ é€Ÿåº¦è§„åˆ’è¿­ä»£2ï¼ˆå›¾15-eï¼‰ï¼šç”±äºè·¯å¾„è§„åˆ’å·²ç»æ›´æ–°ï¼Œæ–°çš„ç»•éšœä½ç½®åœ¨S=30må¤„ï¼Œå› æ­¤åœ¨S=40å¤„å‡é€Ÿä¹Ÿå°±æ²¡æœ‰å¿…è¦äº†ï¼Œæ–°çš„é€Ÿåº¦è§„åˆ’ä½¿å¾—è‡ªè½¦å¯ä»¥åœ¨S=40må¤„åŠ é€Ÿè€Œåœ¨S=30må¤„å½¢æˆä¸€ä¸ªå…‰æ»‘çš„ç»•éšœã€‚ ç»è¿‡è¿­ä»£ä¹‹åï¼Œæœ€ç»ˆè½¦è¾†å°†åœ¨S=30må¤„å‡é€Ÿç»•éšœï¼Œå¹¶ä¸”ç»•éšœç»“æŸä¹‹åä¼šåŠ é€Ÿï¼Œè¿™æ ·ä¸€ä¸ªè¿‡ç¨‹å’Œäººç±»é©¾é©¶å‘˜çš„è¡¨ç°å¾ˆç›¸ä¼¼ã€‚ ä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ¯æ¬¡è§„åˆ’éƒ½å¿…é¡»é‡‡å–å¦‚ä¸Šå››æ­¥éª¤ï¼Œæ ¹æ®åœºæ™¯ä¸åŒå¯èƒ½ä¼šäº§ç”Ÿæ›´å¤šæˆ–æ›´å°‘çš„æ­¥éª¤ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œåœºæ™¯è¶Šå¤æ‚ï¼Œæ‰€éœ€è¦çš„æ­¥éª¤å°±è¶Šå¤šã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:3:0","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"æ€»ç»“ EM Planneræ˜¯ä¸€ç§åŸºäºå¼±å†³ç­–çš„ç®—æ³•ï¼Œç›¸æ¯”äºå¼ºå†³ç­–ç®—æ³•ï¼ŒEM Planneråœ¨å¤æ‚åœºæ™¯ã€å¤šéšœç¢ç‰©æƒ…å†µä¸‹è¡¨ç°æ›´å¥½ã€‚å¼ºå†³ç­–ä¾èµ–äºæå‰åˆ¶å®šå‡ºçš„å†³ç­–è¡Œä¸ºï¼Œå¹¶ä¸”æœ‰éš¾ä»¥ç†è§£å’Œé¢„æµ‹ä¸éšœç¢ç‰©äº¤äº’çš„ç¼ºé™·ã€éš¾ä»¥æ»¡è¶³å¤§é‡éšœç¢ç‰©é˜»æŒ¡ç”ŸæˆåŸºäºè§„åˆ™çš„æœ€ä½³è½¨è¿¹çš„ç¼ºé™·ã€‚ EM Planneré€šè¿‡å°†ä¸‰ç»´è§„åˆ’é—®é¢˜è½¬åŒ–ä¸ºä¸¤ä¸ªäºŒç»´è§„åˆ’é—®é¢˜ï¼Œæ˜¾è‘—åœ°é™ä½äº†è¿ç®—å¤æ‚åº¦ï¼Œå› æ­¤ä¼šå¸¦æ¥è¿è¡Œæ—¶é—´çš„å‹ç¼©å’Œæ•´ä¸ªç³»ç»Ÿçš„å¯äº¤äº’æ€§ã€‚ ","date":"2023-07-15","objectID":"/posts/emplanner/:4:0","tags":["draft"],"title":"EM Planner","uri":"/posts/emplanner/"},{"categories":["Planning"],"content":"å†³ç­–è§„åˆ’ï¼ˆä¸€ï¼‰è‡ªåŠ¨é©¾é©¶å®‰å…¨ã€èˆ’é€‚ã€é«˜æ•ˆçš„â€œå®ˆæŠ¤ç¥â€ ","date":"2023-07-15","objectID":"/posts/decisionandplanning_1/:1:0","tags":["draft"],"title":"Decision and Planning [1]","uri":"/posts/decisionandplanning_1/"},{"categories":["Planning"],"content":"å†³ç­–è§„åˆ’åˆ†å±‚æ¶æ„ å†³ç­–è§„åˆ’çš„ä»»åŠ¡ï¼Œå°±æ˜¯åœ¨å¯¹æ„ŸçŸ¥åˆ°çš„å‘¨è¾¹ç‰©ä½“çš„é¢„æµ‹è½¨è¿¹çš„åŸºç¡€ä¸Šï¼Œç»“åˆè‡ªåŠ¨é©¾é©¶è½¦è¾†çš„å’Œå½“å‰ä½ç½®ï¼Œå¯¹è½¦è¾†åšå‡ºæœ€åˆç†çš„å†³ç­–å’Œæ§åˆ¶ã€‚ æ­£å¦‚äººçš„å¤§è„‘åˆåˆ†ä¸ºå·¦è„‘å’Œå³è„‘ã€å¹¶è´Ÿè´£ä¸åŒçš„ä»»åŠ¡ä¸€æ ·ï¼Œæ¨¡å—åŒ–è‡ªåŠ¨é©¾é©¶ç³»ç»Ÿä¸­å†³ç­–è§„åˆ’å±‚ä¹Ÿå¯ä»¥ç»§ç»­ç»†åˆ†ä¸ºæ‰§è¡Œä¸åŒä»»åŠ¡çš„å­å±‚ã€‚è€Œè¿™ä¸€åˆ†å±‚è®¾è®¡æœ€æ—©å…¶å®æ˜¯æºè‡ª2007å¹´ä¸¾åŠçš„DAPRAåŸå¸‚æŒ‘æˆ˜èµ›ï¼Œæ¯”èµ›ä¸­å¤šæ•°å‚èµ›é˜Ÿä¼éƒ½å°†è‡ªåŠ¨é©¾é©¶ç³»ç»Ÿçš„å†³ç­–è§„åˆ’æ–¹å¼åŒ…æ‹¬ä¸‰å±‚ï¼šå…¨å±€è·¯å¾„è§„åˆ’å±‚ï¼ˆRoute Planningï¼‰ã€è¡Œä¸ºå†³ç­–å±‚ï¼ˆBehavioral Layerï¼‰å’Œè¿åŠ¨è§„åˆ’å±‚ï¼ˆMotion Planningï¼‰ï¼Œå¦‚å›¾5æ‰€ç¤ºã€‚ å…¨å±€è·¯å¾„è§„åˆ’å±‚èšç„¦åœ¨ç›¸å¯¹é¡¶å±‚çš„è·¯å¾„è§„åˆ’ï¼Œèšç„¦åœ¨åˆ†é’Ÿåˆ°å°æ—¶çº§åˆ«çš„è§„åˆ’ã€‚è¯¥å±‚åœ¨æ¥æ”¶åˆ°è¾“å…¥çš„ç›®çš„åœ°ä¿¡æ¯åï¼ŒåŸºäºå­˜å‚¨çš„åœ°å›¾ä¿¡æ¯æœç´ å‡ºä¸€æ¡è‡ªèµ·å§‹ç‚¹è‡³ç›®æ ‡ç‚¹çš„ä¸€æ¡å¯é€šè¿‡çš„è·¯å¾„ã€‚å¦‚å›¾6æ‰€ç¤ºï¼Œåœ¨è“è‰²èµ·ç‚¹å’Œé»„è‰²ç»ˆç‚¹ä¹‹é—´ï¼Œé»‘è‰²å°±æ˜¯æœç´¢å‡ºæ¥çš„ä¸€æ¡å¯é€šè¡Œçš„è·¯å¾„ï¼Œå½“ç„¶è·¯å¾„ä¸æ­¢ä¸€æ¡ï¼Œå¦‚ä½•æœç´¢å‡ºæœ€ä¼˜æ˜¯ä¸‹æ–‡å°†è¦ä»‹ç»çš„å†…å®¹ã€‚ è¡Œä¸ºå†³ç­–å±‚åœ¨æ”¶åˆ°å…¨å±€è·¯å¾„åï¼Œç»“åˆæ„ŸçŸ¥ç¯å¢ƒä¿¡æ¯ã€äº¤é€šè§„åˆ™ä¿¡æ¯ã€è½¦è¾†çŠ¶æ€ä¿¡æ¯ã€é©¾é©¶åœºæ™¯ä¿¡æ¯ç­‰ï¼Œæ¨å¯¼åˆ¤æ–­ä¸‹ä¸€åˆ†é’Ÿæˆ–ä¸‹ä¸€ç§’æ—¶åˆ»çš„æƒ…å†µï¼Œä½œå‡ºè½¦é“ä¿æŒã€è½¦è¾†è·Ÿéšã€è½¦é“å˜æ¢å’Œåˆ¶åŠ¨é¿æ’ç­‰çš„é€‚åˆå½“å‰äº¤é€šç¯å¢ƒçš„é©¾é©¶è¡Œä¸ºã€‚å¦‚å›¾8æ‰€ç¤ºï¼Œè‡ªè½¦åœ¨æ£€æµ‹åˆ°å‰æ–¹å­˜åœ¨ä½é€Ÿè¡Œé©¶è½¦è¾†ï¼Œä¸”å³ä¾§è½¦é“æ»¡è¶³å˜é“æ¡ä»¶åï¼Œä½œå‡ºå‘å³å˜é“çš„é©¾é©¶è¡Œä¸ºå†³ç­–ã€‚ è¿åŠ¨è§„åˆ’å±‚ä¹Ÿè¢«æˆä¸ºå±€éƒ¨è·¯å¾„è§„åˆ’å±‚ï¼Œä¸å…¨å±€è·¯å¾„è§„åˆ’èšç„¦åœ¨åˆ†é’Ÿåˆ°å°æ—¶çº§åˆ«çš„è§„åˆ’ä¸åŒï¼Œè¿åŠ¨è§„åˆ’èšç„¦åœ¨æ¯«ç§’çº§åˆ°ç§’çº§çš„è§„åˆ’ã€‚è§„åˆ’çš„æ—¶å€™ï¼Œæ ¹æ®è¾“å…¥çš„è¡Œä¸ºå†³ç­–ä¿¡æ¯ã€ç»“åˆè½¦è¾†å®æ—¶ä½å§¿ä¿¡æ¯ã€å±€éƒ¨ç¯å¢ƒä¿¡æ¯ã€å…¨å±€è·¯å¾„å‚è€ƒä¿¡æ¯ç­‰ï¼Œåœ¨â€œå®‰å…¨ã€èˆ’é€‚ã€æ•ˆç‡â€çš„ç²¾ç¥å¼•é¢†ä¸‹ï¼Œè§„åˆ’ç”Ÿæˆä¸€æ¡æ»¡è¶³ç‰¹å®šçº¦æŸæ¡ä»¶çš„å¹³æ»‘è½¨è¿¹è½¨è¿¹ï¼ˆåŒ…æ‹¬è¡Œé©¶è½¨è¿¹ã€é€Ÿåº¦ã€æ–¹å‘ç­‰ï¼‰ï¼Œå¹¶è¾“å…¥ç»™æ§åˆ¶æ‰§è¡Œå±‚ã€‚ ","date":"2023-07-15","objectID":"/posts/decisionandplanning_1/:1:1","tags":["draft"],"title":"Decision and Planning [1]","uri":"/posts/decisionandplanning_1/"},{"categories":["planning"],"content":"ref: [1]. https://mp.weixin.qq.com/s?__biz=MzI2NDY3OTExNw==\u0026mid=2247487486\u0026idx=1\u0026sn=830e7989f285214903c377b35e4b26d1\u0026chksm=eaa9b45cddde3d4a800aaf20fe318f491db75dda42e195cf14bf40084764c29464e7ccb4aad7\u0026mpshare=1\u0026scene=24\u0026srcid=0304BpDN7zLg79RhCijHZ2vJ\u0026sharer_sharetime=1677894823237\u0026sharer_shareid=56cef55fe29db276ae71bc9f586487a1\u0026key=2feb26e6a61e3d07649dfd6a51be6bb25154bc6376a7efb1822eb9800c6762bdec0839b31eac2d53e7f3a38b41696a04763e2640b202142a465d103b5d979e98f8f58c6e6605e2a76edf1c546c4d4d5f42dfe55935123958e7d001d2f802261f3473e6a62ac38fbb731fa7b486d65f38fe75c7121cb46fbab1e7b14f414379f9\u0026ascene=14\u0026uin=MjUyNzM0ODk1\u0026devicetype=Windows+10+x64\u0026version=6309001c\u0026lang=zh_CN\u0026countrycode=DE\u0026exportkey=n_ChQIAhIQpLbne6sMPw4l4V2IEPhLPxLZAQIE97dBBAEAAAAAAD%2FvOcyN4xcAAAAOpnltbLcz9gKNyK89dVj0cCpL6X4%2F9D%2BOuEd517ZezCwL3LfXM5G32y6FBL094wgcVWCTvgW%2Bz4fcrxht5Et9%2FUDDn2cw7Ay9T9fyCNiz21sZHDrEOhZlmmdWpjj2WKQ1flB1hocdJwzrYu0PN7DoVSQ4LEsw3yErLBUhYBSwGAArxC5y%2FzMbMZ8hFAQhKnpd9GPPRQCQmIeWvMl2Zb6nmhgch5icU5Ro%2F%2BmZx%2BV7tbmT0VIVBN7amHSXzs8eAiXSq0I%3D\u0026acctmode=0\u0026pass_ticket=xjMi8aZX3Oq63c%2B7lWkTHtjTObwzDeknqt%2FUl2bVeVY8VC%2F1bfFzwKgz6ydTfuv150JdS2QIagqoczC%2FeNOvBg%3D%3D\u0026wx_header=1\u0026fontgear=2 ","date":"2023-07-15","objectID":"/posts/decisionandplanning_4/:0:0","tags":["draft"],"title":"Decision and Planning [4]","uri":"/posts/decisionandplanning_4/"},{"categories":["planning"],"content":"å†³ç­–è§„åˆ’ï¼ˆå››ï¼‰è¡Œä¸ºå†³ç­–å¸¸ç”¨ç®—æ³• æ»¡è¶³ä¸¤ä¸ªè¦æ±‚: å®‰å…¨æ€§å’Œèˆ’é€‚æ€§ è¿åŠ¨è§„åˆ’ç”Ÿæˆçš„è½¨è¿¹æ˜¯ä¸€ç§ç”±äºŒç»´ç©ºé—´å’Œä¸€ç»´æ—¶é—´ç»„æˆçš„ä¸‰ç»´ç©ºé—´ä¸­çš„æ›²çº¿ï¼Œæ˜¯ä¸€ç§åå®æ—¶çš„è·¯å¾„è§„åˆ’ã€‚ ","date":"2023-07-15","objectID":"/posts/decisionandplanning_4/:1:0","tags":["draft"],"title":"Decision and Planning [4]","uri":"/posts/decisionandplanning_4/"},{"categories":["planning"],"content":"PRM æ¦‚ç‡è·¯æ ‡æ³• (Probabilistic Road Maps, PRMï¼‰ï¼Œæ˜¯ä¸€ç§ç»å…¸çš„é‡‡æ ·æ–¹æ³•ï¼Œç”±Lydia E.ç­‰äººåœ¨1996å¹´æå‡ºã€‚PRMä¸»è¦åŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼Œä¸€æ˜¯é‡‡æ ·é˜¶æ®µï¼ŒäºŒæ˜¯ç¢°æ’æ£€æµ‹é˜¶æ®µï¼Œä¸‰æ˜¯æœç´¢é˜¶æ®µã€‚ é‡‡æ ·é˜¶æ®µ: åœ¨é‡‡æ ·é˜¶æ®µä¸­ï¼ŒPRMé¦–å…ˆåœ¨åœ°å›¾ç©ºé—´è¿›è¡Œå‡åŒ€çš„éšæœºé‡‡æ ·ï¼Œä¹Ÿå°±æ˜¯å¯¹åœ°å›¾è¿›è¡Œç¨€ç–é‡‡æ ·ï¼Œç›®çš„æ˜¯å°†å¤§åœ°å›¾ç®€åŒ–ä¸ºè¾ƒå°‘çš„é‡‡æ ·ç‚¹ã€‚ ç¢°æ’æ£€æµ‹é˜¶æ®µ: å‰”é™¤è½åœ¨éšœç¢ç‰©ä¸Šçš„é‡‡æ ·ç‚¹ï¼Œå¹¶å°†å‰©ä¸‹çš„ç‚¹ä¸å…¶ä¸€å®šè·ç¦»èŒƒå›´å†…çš„ç‚¹ç›¸è¿ï¼ŒåŒæ—¶åˆ é™¤ç©¿è¶Šéšœç¢ç‰©çš„è¿çº¿ï¼Œä»è€Œæ„æˆä¸€å¼ æ— å‘å›¾ã€‚ æœç´¢é˜¶æ®µ: åˆ©ç”¨å…¨å±€è·¯å¾„è§„åˆ’ç®—æ³•ç« èŠ‚ä»‹ç»çš„æœç´¢ç®—æ³•ï¼ˆDijkstraã€A*ç­‰ï¼‰åœ¨æ— å‘å›¾ä¸­è¿›è¡Œæœç´¢ï¼Œä»è€Œæ‰¾å‡ºä¸€æ¡èµ·ç‚¹Aåˆ°ç»ˆç‚¹Bä¹‹é—´çš„å¯è¡Œè·¯å¾„ã€‚ ç®—æ³•æ­¥éª¤å¯ä»¥æ€»ç»“ä¸ºï¼š ï¼ˆ1ï¼‰æ„é€ æ— å‘å›¾G =ï¼ˆVï¼ŒEï¼‰ï¼Œå…¶ä¸­Vä»£è¡¨éšæœºé‡‡æ ·çš„ç‚¹é›†ï¼ŒEä»£è¡¨ä¸¤é‡‡æ ·ç‚¹ä¹‹é—´æ‰€æœ‰å¯èƒ½çš„æ— ç¢°æ’è·¯å¾„ï¼ŒGåˆå§‹çŠ¶æ€ä¸ºç©ºã€‚ ï¼ˆ2ï¼‰éšæœºæ’’ç‚¹ï¼Œå¹¶é€‰å–ä¸€ä¸ªæ— ç¢°æ’çš„ç‚¹c(i)åŠ å…¥åˆ°Vä¸­ã€‚ ï¼ˆ3ï¼‰å®šä¹‰è·ç¦»rï¼Œå¦‚æœc(i)ä¸Vä¸­æŸäº›ç‚¹çš„è·ç¦»å°äºrï¼Œåˆ™å°†Vä¸­è¿™äº›ç‚¹å®šä¹‰ä¸ºc(i)çš„é‚»åŸŸç‚¹ã€‚ ï¼ˆ4ï¼‰å°†c(i)ä¸å…¶é‚»åŸŸç‚¹ç›¸è¿ï¼Œç”Ÿæˆè¿çº¿tï¼Œå¹¶æ£€æµ‹è¿çº¿tæ˜¯å¦ä¸éšœç¢ç‰©å‘ç”Ÿç¢°æ’ï¼Œå¦‚æœæ— ç¢°æ’ï¼Œåˆ™å°†tåŠ å…¥Eä¸­ã€‚ ï¼ˆ5ï¼‰é‡å¤æ­¥éª¤2-4ï¼Œç›´åˆ°æ‰€æœ‰é‡‡æ ·ç‚¹ï¼ˆæ»¡è¶³é‡‡æ ·æ•°é‡è¦æ±‚ï¼‰å‡å·²å®Œæˆä¸Šè¿°æ­¥éª¤ã€‚ ï¼ˆ5ï¼‰é‡‡ç”¨å›¾æœç´¢ç®—æ³•å¯¹æ— å‘å›¾Gè¿›è¡Œæœç´¢ï¼Œå¦‚æœèƒ½æ‰¾åˆ°èµ·å§‹ç‚¹Aåˆ°ç»ˆç‚¹Bçš„è·¯çº¿ï¼Œè¯´æ˜å­˜åœ¨å¯è¡Œçš„è¡Œé©¶è½¨è¿¹ã€‚ PRMç®—æ³•ç›¸æ¯”åŸºäºæœç´¢çš„ç®—æ³•ï¼Œç®€åŒ–äº†ç¯å¢ƒã€æé«˜äº†æ•ˆç‡ã€‚ä½†æ˜¯åœ¨æœ‰ç‹­çª„é€šé“åœºæ™¯ä¸­ï¼Œå¾ˆéš¾é‡‡æ ·å‡ºå¯è¡Œè·¯å¾„ï¼Œæ•ˆç‡ä¼šå¤§å¹…é™ä½ã€‚ ","date":"2023-07-15","objectID":"/posts/decisionandplanning_4/:1:1","tags":["draft"],"title":"Decision and Planning [4]","uri":"/posts/decisionandplanning_4/"},{"categories":["planning"],"content":"RRT å¿«é€Ÿæ¢ç´¢éšæœºæ ‘ï¼ˆRapidly Exploring Random Treesï¼ŒRRTï¼‰ï¼Œæ˜¯Steven M. LaValleå’ŒJames J. Kuffner Jr.åœ¨1998å¹´æå‡ºçš„ä¸€ç§åŸºäºéšæœºç”Ÿé•¿æ ‘æ€æƒ³å®ç°å¯¹éå‡¸é«˜ç»´ç©ºé—´å¿«é€Ÿæœç´¢çš„ç®—æ³•ã€‚ ä¸PRMç›¸åŒçš„æ˜¯ä¸¤è€…éƒ½æ˜¯åŸºäºéšæœºé‡‡æ ·çš„ç®—æ³•ï¼Œä¸åŒçš„æ˜¯PRMæœ€ç»ˆç”Ÿæˆçš„æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œè€ŒRRTç”Ÿæˆçš„æ˜¯ä¸€ä¸ªéšæœºæ ‘ã€‚RRTçš„æœ€æ˜¾è‘—ç‰¹å¾å°±æ˜¯å…·å¤‡ç©ºé—´æ¢ç´¢çš„èƒ½åŠ›ï¼Œå³ä»ä¸€ç‚¹å‘å¤–æ¢ç´¢æ‹“å±•çš„ç‰¹å¾ã€‚ RRTåˆ†å•æ ‘å’ŒåŒæ ‘ä¸¤ç§ç±»å‹ï¼Œå•æ ‘RRTå°†èµ·ç‚¹ä½œä¸ºéšæœºæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œé€šè¿‡éšæœºé‡‡æ ·ã€ç¢°æ’æ£€æµ‹çš„æ–¹å¼ä¸ºéšæœºæ ‘å¢åŠ å¶å­èŠ‚ç‚¹ï¼Œæœ€ç»ˆç”Ÿæˆä¸€é¢—éšæœºæ ‘ã€‚è€ŒåŒæ ‘RRTåˆ™æ‹¥æœ‰ä¸¤é¢—éšæœºæ ‘ï¼Œåˆ†åˆ«ä»¥èµ·ç‚¹å’Œç»ˆç‚¹ä¸ºæ ¹èŠ‚ç‚¹ï¼Œä»¥åŒæ ·çš„æ–¹å¼è¿›è¡Œå‘å¤–çš„æ¢ç´¢ï¼Œç›´åˆ°ä¸¤é¢—éšæœºæ ‘ç›¸é‡ï¼Œä»è€Œè¾¾åˆ°æé«˜è§„åˆ’æ•ˆç‡çš„ç›®çš„ã€‚ å¯¹äºå•æ ‘RRTç®—æ³•ï¼Œæˆ‘ä»¬å°†èµ·ç‚¹Aè®¾ç½®ä¸ºéšæœºæ ‘çš„æ ¹ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªéšæœºé‡‡æ ·ç‚¹ï¼Œå¦‚å›¾27æ‰€ç¤ºï¼Œéšæœºé‡‡æ ·ç‚¹æœ‰ä¸‹é¢è¿™å‡ ç§æƒ…å†µã€‚ ï¼ˆ1ï¼‰éšæœºé‡‡æ ·ç‚¹1è½åœ¨è‡ªç”±åŒºåŸŸä¸­ï¼Œä½†æ˜¯æ ¹èŠ‚ç‚¹Aå’Œéšæœºé‡‡æ ·ç‚¹1ä¹‹é—´çš„è¿çº¿å­˜åœ¨éšœç¢ç‰©ï¼Œæ— æ³•é€šè¿‡ç¢°æ’æ£€æµ‹ï¼Œé‡‡æ ·ç‚¹1ä¼šè¢«èˆå¼ƒï¼Œé‡æ–°å†ç”Ÿæˆéšæœºé‡‡æ ·ç‚¹ã€‚ ï¼ˆ2ï¼‰éšæœºé‡‡æ ·ç‚¹2è½åœ¨éšœç¢ç‰©çš„ä½ç½®ï¼Œé‡‡æ ·ç‚¹2ä¹Ÿä¼šè¢«èˆå¼ƒï¼Œé‡æ–°å†ç”Ÿæˆéšæœºé‡‡æ ·ç‚¹ã€‚ ï¼ˆ3ï¼‰éšæœºé‡‡æ ·ç‚¹3è½åœ¨è‡ªç”±åŒºåŸŸï¼Œä¸”ä¸æ ¹èŠ‚ç‚¹Aä¹‹é—´çš„è¿çº¿ä¸å­˜åœ¨éšœç¢ç‰©ï¼Œä½†æ˜¯è¶…è¿‡æ ¹èŠ‚ç‚¹çš„æ­¥é•¿é™åˆ¶ã€‚ä½†æ­¤æ—¶è¿™ä¸ªèŠ‚ç‚¹ä¸ä¼šè¢«ç®€å•çš„èˆå¼ƒæ‰ï¼Œè€Œæ˜¯ä¼šæ²¿ç€æ ¹èŠ‚ç‚¹å’Œéšæœºé‡‡æ ·ç‚¹3çš„è¿çº¿ï¼Œæ‰¾å‡ºç¬¦åˆæ­¥é•¿é™åˆ¶çš„ä¸­é—´ç‚¹ï¼Œå°†è¿™ä¸ªä¸­é—´ç‚¹ä½œä¸ºæ–°çš„é‡‡æ ·ç‚¹ï¼Œä¹Ÿå°±æ˜¯å›¾29ä¸­çš„4ã€‚ æ¥ç€æˆ‘ä»¬ç»§ç»­ç”Ÿæˆæ–°çš„éšæœºé‡‡æ ·ç‚¹ï¼Œå¦‚æœæ–°çš„éšæœºé‡‡æ ·ç‚¹ä½äºè‡ªç”±åŒºåŸŸï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥éå†éšæœºæ ‘ä¸­å·²æœ‰çš„å…¨éƒ¨èŠ‚ç‚¹ï¼Œæ‰¾å‡ºè·ç¦»æ–°çš„éšæœºé‡‡æ ·ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ï¼ŒåŒæ—¶æ±‚å‡ºä¸¤è€…ä¹‹é—´çš„è·ç¦»ï¼Œå¦‚æœæ»¡è¶³æ­¥é•¿é™åˆ¶çš„è¯ï¼Œæˆ‘ä»¬å°†æ¥ç€å¯¹è¿™ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œç¢°æ’æ£€æµ‹ï¼Œå¦‚æœä¸æ»¡è¶³æ­¥é•¿é™åˆ¶çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦æ²¿ç€æ–°çš„éšæœºé‡‡æ ·ç‚¹å’Œæœ€è¿‘çš„èŠ‚ç‚¹çš„è¿çº¿æ–¹å‘ï¼Œæ‰¾å‡ºä¸€ä¸ªç¬¦åˆæ­¥é•¿é™åˆ¶çš„ä¸­é—´ç‚¹ï¼Œç”¨æ¥æ›¿ä»£æ–°çš„éšæœºé‡‡æ ·ç‚¹ã€‚æœ€åå¦‚æœæ–°çš„éšæœºé‡‡æ ·ç‚¹å’Œæœ€è¿‘çš„èŠ‚ç‚¹é€šè¿‡äº†ç¢°æ’æ£€æµ‹ï¼Œå°±æ„å‘³ç€äºŒè€…ä¹‹é—´å­˜åœ¨è¾¹ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å°†æ–°çš„éšæœºé‡‡æ ·ç‚¹æ·»åŠ è¿›éšæœºæ ‘ä¸­ï¼Œå¹¶å°†æœ€è¿‘çš„ç‚¹è®¾ç½®ä¸ºæ–°çš„éšæœºé‡‡æ ·ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚ é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°æ–°çš„éšæœºé‡‡æ ·ç‚¹åœ¨ç»ˆç‚¹çš„æ­¥é•¿é™åˆ¶èŒƒå›´å†…ï¼Œä¸”æ»¡è¶³ç¢°æ’æ£€æµ‹ã€‚åˆ™å°†æ–°çš„éšæœºé‡‡æ ·ç‚¹è®¾ä¸ºç»ˆç‚¹Bçš„çˆ¶èŠ‚ç‚¹ï¼Œå¹¶å°†ç»ˆç‚¹åŠ å…¥éšæœºæ ‘ï¼Œä»è€Œå®Œæˆè¿­ä»£ï¼Œç”Ÿæˆå¦‚å›¾30æ‰€ç¤ºçš„å®Œæ•´éšæœºæ ‘ã€‚ ç›¸æ¯”PRMï¼ŒRRTæ— éœ€æœç´¢æ­¥éª¤ã€æ•ˆç‡æ›´é«˜ã€‚é€šè¿‡å¢é‡å¼æ‰©å±•çš„æ–¹å¼ï¼Œæ‰¾åˆ°è·¯å¾„åå°±ç«‹å³ç»“æŸï¼Œæœç´¢ç»ˆç‚¹çš„ç›®çš„æ€§æ›´å¼ºã€‚ä½†æ˜¯RRTä½œä¸ºä¸€ç§çº¯ç²¹çš„éšæœºæœç´¢ç®—æ³•ï¼Œå¯¹ç¯å¢ƒç±»å‹ä¸æ•æ„Ÿï¼Œå½“åœ°å›¾ç©ºé—´ä¸­å­˜åœ¨ç‹­çª„é€šé“æ—¶ï¼Œå› è¢«é‡‡æ ·çš„æ¦‚ç‡ä½ï¼Œå¯¼è‡´ç®—æ³•çš„æ”¶æ•›é€Ÿåº¦æ…¢ï¼Œæ•ˆç‡ä¼šå¤§å¹…ä¸‹é™ï¼Œæœ‰æ—¶å€™ç”šè‡³éš¾ä»¥åœ¨æœ‰ç‹­çª„é€šé“çš„ç¯å¢ƒæ‰¾åˆ°è·¯å¾„ã€‚ å›¾31å±•ç¤ºäº† RRTåº”å¯¹å­˜åœ¨ç‹­çª„é€šé“åœ°å›¾ç©ºé—´æ—¶çš„ä¸¤ç§è¡¨ç°ï¼Œä¸€ç§æ˜¯RRTå¾ˆå¿«å°±æ‰¾åˆ°äº†å‡ºè·¯ï¼Œä¸€ç§æ˜¯ä¸€ç›´è¢«å›°åœ¨éšœç¢ç‰©é‡Œé¢ã€‚ å›´ç»•å¦‚ä½•æ›´å¥½çš„â€œè¿›è¡Œéšæœºé‡‡æ ·â€ã€â€œå®šä¹‰æœ€è¿‘çš„ç‚¹â€ä»¥åŠâ€œè¿›è¡Œæ ‘çš„æ‰©å±•â€ç­‰æ–¹é¢ï¼Œè¯ç”Ÿäº†å¤šç§æ”¹è¿›å‹çš„ç®—æ³•ï¼ŒåŒ…æ‹¬åŒæ ‘RRT-Connectï¼ˆåŒæ ‘ï¼‰ã€lazy-RRT, RRT-Extendç­‰ã€‚ PRMå’ŒRRTéƒ½æ˜¯ä¸€ä¸ªæ¦‚ç‡å®Œå¤‡ä½†éæœ€ä¼˜çš„è·¯å¾„è§„åˆ’ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯åªè¦èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´å­˜åœ¨æœ‰æ•ˆçš„è·¯å¾„ï¼Œé‚£ä¹ˆåªè¦è§„åˆ’çš„æ—¶é—´è¶³å¤Ÿé•¿ï¼Œé‡‡æ ·ç‚¹è¶³å¤Ÿå¤šï¼Œå¿…ç„¶å¯ä»¥æ‰¾åˆ°æœ‰æ•ˆçš„è·¯å¾„ã€‚ä½†æ˜¯è¿™ä¸ªè§£æ— æ³•ä¿è¯æ˜¯æœ€ä¼˜çš„ã€‚ é‡‡ç”¨PRMå’ŒRRTç­‰éšæœºé‡‡æ ·ç®—æ³•ç”Ÿæˆçš„è¡Œé©¶è½¨è¿¹ï¼Œå¤§å¤šæ˜¯ä¸€æ¡æ¡çº¿æ®µï¼Œçº¿æ®µä¹‹é—´çš„æ›²ç‡ä¹Ÿä¸ä¸è¿ç»­ï¼Œè¿™æ ·çš„è¡Œé©¶è½¨è¿¹æ˜¯ä¸èƒ½ä¿è¯èˆ’é€‚æ€§çš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦è¿›ä¸€æ­¥è¿›è¡Œæ›²çº¿å¹³æ»‘ã€è§’åº¦å¹³æ»‘å¤„ç†ã€‚ä»£è¡¨ç®—æ³•æ˜¯åŸºäºæ›²çº¿æ’å€¼çš„æ–¹æ³•ï¼šRSæ›²çº¿ã€Dubinsæ›²çº¿ã€å¤šé¡¹å¼æ›²çº¿ã€è´å¡å°”æ›²çº¿å’Œæ ·æ¡æ›²çº¿ç­‰ã€‚ æ‰€æœ‰åŸºäºæ›²çº¿æ’å€¼æ–¹æ³•è¦è§£å†³çš„é—®é¢˜å°±æ˜¯ï¼šåœ¨å›¾32ä¸Šçš„è‹¥å¹²ç‚¹ä¸­ï¼Œæ±‚å‡ºä¸€æ¡å…‰æ»‘æ›²çº¿å°½å¯èƒ½é€¼è¿‘æ‰€æœ‰ç‚¹ã€‚ä¸‹æ–‡ä»¥å¤šé¡¹å¼æ›²çº¿å’Œè´å¡å°”æ›²çº¿ä¸ºä¾‹ï¼Œä»‹ç»æ›²çº¿æ’å€¼ç®—æ³•çš„ç¤ºä¾‹ã€‚ ","date":"2023-07-15","objectID":"/posts/decisionandplanning_4/:1:2","tags":["draft"],"title":"Decision and Planning [4]","uri":"/posts/decisionandplanning_4/"},{"categories":["planning"],"content":"å¤šé¡¹å¼æ›²çº¿ ","date":"2023-07-15","objectID":"/posts/decisionandplanning_4/:1:3","tags":["draft"],"title":"Decision and Planning [4]","uri":"/posts/decisionandplanning_4/"},{"categories":["Planning"],"content":"ref: [1] https://mp.weixin.qq.com/s/hgT-a3Ug9578k1DmioRgUg [2] http://www.gamedev.net/reference/articles/article2003.asp ","date":"2023-07-15","objectID":"/posts/a_star/:0:0","tags":["Planning"],"title":"A star (A*) ç®—æ³•","uri":"/posts/a_star/"},{"categories":["Planning"],"content":"A*ç®—æ³•è¯¦è§£ ","date":"2023-07-15","objectID":"/posts/a_star/:1:0","tags":["Planning"],"title":"A star (A*) ç®—æ³•","uri":"/posts/a_star/"},{"categories":["Planning"],"content":"æ¦‚è¿° è™½ç„¶æŒæ¡äº† A* ç®—æ³•çš„äººè®¤ä¸ºå®ƒå®¹æ˜“ï¼Œä½†æ˜¯å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œ A* ç®—æ³•è¿˜æ˜¯å¾ˆå¤æ‚çš„ã€‚ ","date":"2023-07-15","objectID":"/posts/a_star/:1:1","tags":["Planning"],"title":"A star (A*) ç®—æ³•","uri":"/posts/a_star/"},{"categories":["Planning"],"content":"æœç´¢åŒºåŸŸ(The Search Area) ","date":"2023-07-15","objectID":"/posts/a_star/:1:2","tags":["Planning"],"title":"A star (A*) ç®—æ³•","uri":"/posts/a_star/"},{"categories":["Planning"],"content":"å¼€å§‹æœç´¢(Starting the Search) ä¸€æ—¦æˆ‘ä»¬æŠŠæœå¯»åŒºåŸŸç®€åŒ–ä¸ºä¸€ç»„å¯ä»¥é‡åŒ–çš„èŠ‚ç‚¹åï¼Œå°±åƒä¸Šé¢åšçš„ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸‹ä¸€æ­¥è¦åšçš„ä¾¿æ˜¯æŸ¥æ‰¾æœ€çŸ­è·¯å¾„ã€‚åœ¨ A* ä¸­ï¼Œæˆ‘ä»¬ä»èµ·ç‚¹å¼€å§‹ï¼Œæ£€æŸ¥å…¶ç›¸é‚»çš„æ–¹æ ¼ï¼Œç„¶åå‘å››å‘¨æ‰©å±•ï¼Œç›´è‡³æ‰¾åˆ°ç›®æ ‡ã€‚ æˆ‘ä»¬è¿™æ ·å¼€å§‹æˆ‘ä»¬çš„å¯»è·¯æ—…é€”ï¼š 1.ä»èµ·ç‚¹ A å¼€å§‹ï¼Œå¹¶æŠŠå®ƒå°±åŠ å…¥åˆ°ä¸€ä¸ªç”±æ–¹æ ¼ç»„æˆçš„ open list( å¼€æ”¾åˆ—è¡¨ ) ä¸­ã€‚è¿™ä¸ª open list æœ‰ç‚¹åƒæ˜¯ä¸€ä¸ªè´­ç‰©å•ã€‚å½“ç„¶ç°åœ¨ open list é‡Œåªæœ‰ä¸€é¡¹ï¼Œå®ƒå°±æ˜¯èµ·ç‚¹ A ï¼Œåé¢ä¼šæ…¢æ…¢åŠ å…¥æ›´å¤šçš„é¡¹ã€‚ Open list é‡Œçš„æ ¼å­æ˜¯è·¯å¾„å¯èƒ½ä¼šæ˜¯æ²¿é€”ç»è¿‡çš„ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸ç»è¿‡ã€‚åŸºæœ¬ä¸Š open list æ˜¯ä¸€ä¸ªå¾…æ£€æŸ¥çš„æ–¹æ ¼åˆ—è¡¨ã€‚ 2.æŸ¥çœ‹ä¸èµ·ç‚¹ A ç›¸é‚»çš„æ–¹æ ¼ ( å¿½ç•¥å…¶ä¸­å¢™å£æ‰€å é¢†çš„æ–¹æ ¼ï¼Œæ²³æµæ‰€å é¢†çš„æ–¹æ ¼åŠå…¶ä»–éæ³•åœ°å½¢å é¢†çš„æ–¹æ ¼ ) ï¼ŒæŠŠå…¶ä¸­å¯èµ°çš„ (walkable) æˆ–å¯åˆ°è¾¾çš„ (reachable) æ–¹æ ¼ä¹ŸåŠ å…¥åˆ° open list ä¸­ã€‚æŠŠèµ·ç‚¹ A è®¾ç½®ä¸ºè¿™äº›æ–¹æ ¼çš„çˆ¶äº² (parent node æˆ– parent square) ã€‚å½“æˆ‘ä»¬åœ¨è¿½è¸ªè·¯å¾„æ—¶ï¼Œè¿™äº›çˆ¶èŠ‚ç‚¹çš„å†…å®¹æ˜¯å¾ˆé‡è¦çš„ã€‚ç¨åè§£é‡Šã€‚ 3.æŠŠ A ä» open list ä¸­ç§»é™¤ï¼ŒåŠ å…¥åˆ° close list( å°é—­åˆ—è¡¨ ) ä¸­ï¼Œ close list ä¸­çš„æ¯ä¸ªæ–¹æ ¼éƒ½æ˜¯ç°åœ¨ä¸éœ€è¦å†å…³æ³¨çš„ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ·±ç»¿è‰²çš„æ–¹æ ¼ä¸ºèµ·ç‚¹ï¼Œå®ƒçš„å¤–æ¡†æ˜¯äº®è“è‰²ï¼Œè¡¨ç¤ºè¯¥æ–¹æ ¼è¢«åŠ å…¥åˆ°äº† close list ã€‚ä¸å®ƒç›¸é‚»çš„é»‘è‰²æ–¹æ ¼æ˜¯éœ€è¦è¢«æ£€æŸ¥çš„ï¼Œä»–ä»¬çš„å¤–æ¡†æ˜¯äº®ç»¿è‰²ã€‚æ¯ä¸ªé»‘æ–¹æ ¼éƒ½æœ‰ä¸€ä¸ªç°è‰²çš„æŒ‡é’ˆæŒ‡å‘ä»–ä»¬çš„çˆ¶èŠ‚ç‚¹ï¼Œè¿™é‡Œæ˜¯èµ·ç‚¹ A ã€‚ ","date":"2023-07-15","objectID":"/posts/a_star/:1:3","tags":["Planning"],"title":"A star (A*) ç®—æ³•","uri":"/posts/a_star/"},{"categories":["Distributed Computing"],"content":"TensorRT ä»‹ç» TensorRTæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æ·±åº¦å­¦ä¹ æ¨ç†ï¼ˆInferenceï¼‰ä¼˜åŒ–å™¨ï¼Œå¯ä»¥ä¸ºæ·±åº¦å­¦ä¹ åº”ç”¨æä¾›ä½å»¶è¿Ÿã€é«˜ååç‡çš„éƒ¨ç½²æ¨ç†ã€‚TensorRTå¯ç”¨äºå¯¹è¶…å¤§è§„æ¨¡æ•°æ®ä¸­å¿ƒã€åµŒå…¥å¼å¹³å°æˆ–è‡ªåŠ¨é©¾é©¶å¹³å°è¿›è¡Œæ¨ç†åŠ é€Ÿã€‚TensorRTç°å·²èƒ½æ”¯æŒTensorFlowã€Caffeã€Mxnetã€Pytorchç­‰å‡ ä¹æ‰€æœ‰çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå°†TensorRTå’ŒNVIDIAçš„GPUç»“åˆèµ·æ¥ï¼Œèƒ½åœ¨å‡ ä¹æ‰€æœ‰çš„æ¡†æ¶ä¸­è¿›è¡Œå¿«é€Ÿå’Œé«˜æ•ˆçš„éƒ¨ç½²æ¨ç†ã€‚ TensorRT æ˜¯ä¸€ä¸ªC++åº“ï¼Œä» TensorRT 3 å¼€å§‹æä¾›C++ APIå’ŒPython APIï¼Œä¸»è¦ç”¨æ¥é’ˆå¯¹ NVIDIA GPUè¿›è¡Œ é«˜æ€§èƒ½æ¨ç†ï¼ˆInferenceï¼‰åŠ é€Ÿã€‚ ç”±ä»¥ä¸Šå›¾å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºï¼Œè®­ç»ƒ(training)å’Œ æ¨ç†(inference)çš„åŒºåˆ«ï¼š **è®­ç»ƒ(training)**åŒ…å«äº†å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ä¸¤ä¸ªé˜¶æ®µï¼Œé’ˆå¯¹çš„æ˜¯è®­ç»ƒé›†ã€‚è®­ç»ƒæ—¶é€šè¿‡è¯¯å·®åå‘ä¼ æ’­æ¥ä¸æ–­ä¿®æ”¹ç½‘ç»œæƒå€¼(weights)ã€‚ **æ¨ç†(inference)**åªåŒ…å«å‰å‘ä¼ æ’­ä¸€ä¸ªé˜¶æ®µï¼Œé’ˆå¯¹çš„æ˜¯é™¤äº†è®­ç»ƒé›†ä¹‹å¤–çš„æ–°æ•°æ®ã€‚å¯ä»¥æ˜¯æµ‹è¯•é›†ï¼Œä½†ä¸å®Œå…¨æ˜¯ï¼Œæ›´å¤šçš„æ˜¯æ•´ä¸ªæ•°æ®é›†ä¹‹å¤–çš„æ•°æ®ã€‚å…¶å®å°±æ˜¯é’ˆå¯¹æ–°æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œé¢„æµ‹æ—¶ï¼Œé€Ÿåº¦æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å› ç´ ã€‚ ä¸€èˆ¬çš„æ·±åº¦å­¦ä¹ é¡¹ç›®ï¼Œè®­ç»ƒæ—¶ä¸ºäº†åŠ å¿«é€Ÿåº¦ï¼Œä¼šä½¿ç”¨å¤šGPUåˆ†å¸ƒå¼è®­ç»ƒã€‚ä½†åœ¨éƒ¨ç½²æ¨ç†æ—¶ï¼Œä¸ºäº†é™ä½æˆæœ¬ï¼Œå¾€å¾€ä½¿ç”¨å•ä¸ªGPUæœºå™¨ç”šè‡³åµŒå…¥å¼å¹³å°ï¼ˆæ¯”å¦‚ NVIDIA Jetsonï¼‰è¿›è¡Œéƒ¨ç½²ï¼Œéƒ¨ç½²ç«¯ä¹Ÿè¦æœ‰ä¸è®­ç»ƒæ—¶ç›¸åŒçš„æ·±åº¦å­¦ä¹ ç¯å¢ƒï¼Œå¦‚caffeï¼ŒTensorFlowç­‰ã€‚ ç”±äºè®­ç»ƒçš„ç½‘ç»œæ¨¡å‹å¯èƒ½ä¼šå¾ˆå¤§ï¼ˆæ¯”å¦‚ï¼Œinceptionï¼Œresnetç­‰ï¼‰ï¼Œå‚æ•°å¾ˆå¤šï¼Œè€Œä¸”éƒ¨ç½²ç«¯çš„æœºå™¨æ€§èƒ½å­˜åœ¨å·®å¼‚ï¼Œå°±ä¼šå¯¼è‡´æ¨ç†é€Ÿåº¦æ…¢ï¼Œå»¶è¿Ÿé«˜ã€‚è¿™å¯¹äºé‚£äº›é«˜å®æ—¶æ€§çš„åº”ç”¨åœºåˆæ˜¯è‡´å‘½çš„ï¼Œæ¯”å¦‚è‡ªåŠ¨é©¾é©¶è¦æ±‚å®æ—¶ç›®æ ‡æ£€æµ‹ï¼Œç›®æ ‡è¿½è¸ªç­‰ã€‚æ‰€ä»¥ä¸ºäº†æé«˜éƒ¨ç½²æ¨ç†çš„é€Ÿåº¦ï¼Œå‡ºç°äº†å¾ˆå¤šè½»é‡çº§ç¥ç»ç½‘ç»œï¼Œæ¯”å¦‚squeezenetï¼Œmobilenetï¼Œshufflenetç­‰ã€‚åŸºæœ¬åšæ³•éƒ½æ˜¯åŸºäºç°æœ‰çš„ç»å…¸æ¨¡å‹æå‡ºä¸€ç§æ–°çš„æ¨¡å‹ç»“æ„ï¼Œç„¶åç”¨è¿™äº›æ”¹é€ è¿‡çš„æ¨¡å‹é‡æ–°è®­ç»ƒï¼Œå†é‡æ–°éƒ¨ç½²ã€‚ è€ŒtensorRT åˆ™æ˜¯å¯¹è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œä¼˜åŒ–ã€‚ tensorRTå°±åªæ˜¯ æ¨ç†ä¼˜åŒ–å™¨ã€‚å½“ä½ çš„ç½‘ç»œè®­ç»ƒå®Œä¹‹åï¼Œå¯ä»¥å°†è®­ç»ƒæ¨¡å‹æ–‡ä»¶ç›´æ¥ä¸¢è¿›tensorRTä¸­ï¼Œè€Œä¸å†éœ€è¦ä¾èµ–æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ˆCaffeï¼ŒTensorFlowç­‰ï¼‰ï¼Œå¦‚ä¸‹: å¯ä»¥è®¤ä¸ºtensorRTæ˜¯ä¸€ä¸ªåªæœ‰å‰å‘ä¼ æ’­çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œè¿™ä¸ªæ¡†æ¶å¯ä»¥å°† Caffeï¼ŒTensorFlowçš„ç½‘ç»œæ¨¡å‹è§£æï¼Œç„¶åä¸tensorRTä¸­å¯¹åº”çš„å±‚è¿›è¡Œä¸€ä¸€æ˜ å°„ï¼ŒæŠŠå…¶ä»–æ¡†æ¶çš„æ¨¡å‹ç»Ÿä¸€å…¨éƒ¨ è½¬æ¢åˆ°tensorRTä¸­ï¼Œç„¶ååœ¨tensorRTä¸­å¯ä»¥é’ˆå¯¹NVIDIAè‡ªå®¶GPUå®æ–½ä¼˜åŒ–ç­–ç•¥ï¼Œå¹¶è¿›è¡Œéƒ¨ç½²åŠ é€Ÿã€‚ ç›®å‰TensorRT8.0 å‡ ä¹å¯ä»¥æ”¯æŒæ‰€æœ‰å¸¸ç”¨çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå¯¹äºcaffeå’ŒTensorFlowæ¥è¯´ï¼ŒtensorRTå¯ä»¥ç›´æ¥è§£æä»–ä»¬çš„ç½‘ç»œæ¨¡å‹ï¼›å¯¹äºcaffe2ï¼Œpytorchï¼Œmxnetï¼Œchainerï¼ŒCNTKç­‰æ¡†æ¶åˆ™æ˜¯é¦–å…ˆè¦å°†æ¨¡å‹è½¬ä¸º ONNX çš„é€šç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œç„¶åå¯¹ONNXæ¨¡å‹åšè§£æã€‚è€Œtensorflowå’ŒMATLABå·²ç»å°†TensorRTé›†æˆåˆ°æ¡†æ¶ä¸­å»äº†ã€‚ **ONNX(Open Neural Network Exchange)**æ˜¯å¾®è½¯å’ŒFacebookæºæ‰‹å¼€å‘çš„å¼€æ”¾å¼ç¥ç»ç½‘ç»œäº¤æ¢å·¥å…·ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡ç”¨ä»€ä¹ˆæ¡†æ¶è®­ç»ƒï¼Œåªè¦è½¬æ¢ä¸ºONNXæ¨¡å‹ï¼Œå°±å¯ä»¥æ”¾åœ¨å…¶ä»–æ¡†æ¶ä¸Šé¢å»inferenceã€‚è¿™æ˜¯ä¸€ç§ç»Ÿä¸€çš„ç¥ç»ç½‘ç»œæ¨¡å‹å®šä¹‰å’Œä¿å­˜æ–¹å¼ï¼Œä¸Šé¢æåˆ°çš„é™¤äº†tensorflowä¹‹å¤–çš„å…¶ä»–æ¡†æ¶å®˜æ–¹åº”è¯¥éƒ½å¯¹onnxåšäº†æ”¯æŒï¼Œè€ŒONNXè‡ªå·±å¼€å‘äº†å¯¹tensorflowçš„æ”¯æŒã€‚ä»æ·±åº¦å­¦ä¹ æ¡†æ¶æ–¹é¢æ¥è¯´ï¼Œè¿™æ˜¯å„å¤§å‚å•†å¯¹æŠ—è°·æ­Œtensorflowå„æ–­åœ°ä½çš„ä¸€ç§æœ‰æ•ˆæ–¹å¼ï¼›ä»ç ”ç©¶äººå‘˜å’Œå¼€å‘è€…æ–¹é¢æ¥è¯´ï¼Œè¿™å¯ä»¥ä½¿å¼€å‘è€…è½»æ˜“åœ°åœ¨ä¸åŒæœºå™¨å­¦ä¹ å·¥å…·ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œå¹¶ä¸ºé¡¹ç›®é€‰æ‹©æœ€å¥½çš„ç»„åˆæ–¹å¼ï¼ŒåŠ å¿«ä»ç ”ç©¶åˆ°ç”Ÿäº§çš„é€Ÿåº¦ã€‚ ONNX / TensorFlow / Custom deep-learning frameæ¨¡å‹çš„å·¥ä½œæ–¹å¼ï¼š tensorRTä¸­æœ‰ä¸€ä¸ª Plugin å±‚ï¼Œè¿™ä¸ªå±‚æä¾›äº† API å¯ä»¥ç”±ç”¨æˆ·è‡ªå·±å®šä¹‰tensorRTä¸æ”¯æŒçš„å±‚ã€‚ TensorRT-plugin ç›®å‰TensorRTæ”¯æŒçš„å±‚æœ‰:https://github.com/onnx/onnx-tensorrt/blob/main/docs/operators.md ç›®å‰ONNXæ”¯æŒçš„ç®—å­:https://github.com/onnx/onnx/blob/main/docs/Operators.md ","date":"2023-07-14","objectID":"/posts/tensorrt_introduction/:0:1","tags":["TensorRT"],"title":"TensorRT Introduction","uri":"/posts/tensorrt_introduction/"},{"categories":["Distributed Computing"],"content":"TensorRT ä¼˜åŒ–æ–¹å¼ TensorRTä¼˜åŒ–æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼Œæœ€ä¸»è¦çš„æ˜¯å‰é¢ä¸¤ç§ã€‚ å±‚é—´èåˆæˆ–å¼ é‡èåˆ(Layer \u0026 Tensor Fusion) å¦‚ä¸‹å›¾å·¦ä¾§æ˜¯GoogLeNetInceptionæ¨¡å—çš„è®¡ç®—å›¾ã€‚è¿™ä¸ªç»“æ„ä¸­æœ‰å¾ˆå¤šå±‚ï¼Œåœ¨éƒ¨ç½²æ¨¡å‹æ¨ç†æ—¶ï¼Œè¿™æ¯ä¸€å±‚çš„è¿ç®—æ“ä½œéƒ½æ˜¯ç”±GPUå®Œæˆçš„ï¼Œä½†å®é™…ä¸Šæ˜¯GPUé€šè¿‡å¯åŠ¨ä¸åŒçš„CUDAï¼ˆCompute unified device architectureï¼‰æ ¸å¿ƒæ¥å®Œæˆè®¡ç®—çš„ï¼ŒCUDAæ ¸å¿ƒè®¡ç®—å¼ é‡çš„é€Ÿåº¦æ˜¯å¾ˆå¿«çš„ï¼Œä½†æ˜¯å¾€å¾€å¤§é‡çš„æ—¶é—´æ˜¯æµªè´¹åœ¨CUDAæ ¸å¿ƒçš„å¯åŠ¨å’Œå¯¹æ¯ä¸€å±‚è¾“å…¥/è¾“å‡ºå¼ é‡çš„è¯»å†™æ“ä½œä¸Šé¢ï¼Œè¿™é€ æˆäº†å†…å­˜å¸¦å®½çš„ç“¶é¢ˆå’ŒGPUèµ„æºçš„æµªè´¹ã€‚TensorRTé€šè¿‡å¯¹å±‚é—´çš„æ¨ªå‘æˆ–çºµå‘åˆå¹¶ï¼ˆåˆå¹¶åçš„ç»“æ„ç§°ä¸ºCBRï¼Œæ„æŒ‡ convolution, bias, and ReLU layers are fused to form a single layerï¼‰ï¼Œä½¿å¾—å±‚çš„æ•°é‡å¤§å¤§å‡å°‘ã€‚æ¨ªå‘åˆå¹¶å¯ä»¥æŠŠå·ç§¯ã€åç½®å’Œæ¿€æ´»å±‚åˆå¹¶æˆä¸€ä¸ªCBRç»“æ„ï¼Œåªå ç”¨ä¸€ä¸ªCUDAæ ¸å¿ƒã€‚çºµå‘åˆå¹¶å¯ä»¥æŠŠç»“æ„ç›¸åŒï¼Œä½†æ˜¯æƒå€¼ä¸åŒçš„å±‚åˆå¹¶æˆä¸€ä¸ªæ›´å®½çš„å±‚ï¼Œä¹Ÿåªå ç”¨ä¸€ä¸ªCUDAæ ¸å¿ƒã€‚åˆå¹¶ä¹‹åçš„è®¡ç®—å›¾ï¼ˆå›¾4å³ä¾§ï¼‰çš„å±‚æ¬¡æ›´å°‘äº†ï¼Œå ç”¨çš„CUDAæ ¸å¿ƒæ•°ä¹Ÿå°‘äº†ï¼Œå› æ­¤æ•´ä¸ªæ¨¡å‹ç»“æ„ä¼šæ›´å°ï¼Œæ›´å¿«ï¼Œæ›´é«˜æ•ˆã€‚ æ•°æ®ç²¾åº¦æ ¡å‡†(Weight \u0026Activation Precision Calibration) å¤§éƒ¨åˆ†æ·±åº¦å­¦ä¹ æ¡†æ¶åœ¨è®­ç»ƒç¥ç»ç½‘ç»œæ—¶ç½‘ç»œä¸­çš„å¼ é‡ï¼ˆTensorï¼‰éƒ½æ˜¯32ä½æµ®ç‚¹æ•°çš„ç²¾åº¦ï¼ˆFull 32-bit precisionï¼ŒFP32ï¼‰ï¼Œä¸€æ—¦ç½‘ç»œè®­ç»ƒå®Œæˆï¼Œåœ¨éƒ¨ç½²æ¨ç†çš„è¿‡ç¨‹ä¸­ç”±äºä¸éœ€è¦åå‘ä¼ æ’­ï¼Œå®Œå…¨å¯ä»¥é€‚å½“é™ä½æ•°æ®ç²¾åº¦ï¼Œæ¯”å¦‚é™ä¸ºFP16æˆ–INT8çš„ç²¾åº¦ã€‚æ›´ä½çš„æ•°æ®ç²¾åº¦å°†ä¼šä½¿å¾—å†…å­˜å ç”¨å’Œå»¶è¿Ÿæ›´ä½ï¼Œæ¨¡å‹ä½“ç§¯æ›´å°ã€‚ Precision Dynamic Range FP32 âˆ’3.4Ã—1038 +3.4Ã—1038 FP16 âˆ’65504 +65504 INT8 âˆ’128 +127 INT8åªæœ‰256ä¸ªä¸åŒçš„æ•°å€¼ï¼Œä½¿ç”¨INT8æ¥è¡¨ç¤º FP32ç²¾åº¦çš„æ•°å€¼ï¼Œè‚¯å®šä¼šä¸¢å¤±ä¿¡æ¯ï¼Œé€ æˆæ€§èƒ½ä¸‹é™ã€‚ä¸è¿‡TensorRTä¼šæä¾›å®Œå…¨è‡ªåŠ¨åŒ–çš„æ ¡å‡†ï¼ˆCalibration ï¼‰è¿‡ç¨‹ï¼Œä¼šä»¥æœ€å¥½çš„åŒ¹é…æ€§èƒ½å°†FP32ç²¾åº¦çš„æ•°æ®é™ä½ä¸ºINT8ç²¾åº¦ï¼Œæœ€å°åŒ–æ€§èƒ½æŸå¤±ã€‚ Kernel Auto-Tuning ç½‘ç»œæ¨¡å‹åœ¨æ¨ç†è®¡ç®—æ—¶ï¼Œæ˜¯è°ƒç”¨GPUçš„CUDAæ ¸è¿›è¡Œè®¡ç®—çš„ã€‚TensorRTå¯ä»¥é’ˆå¯¹ä¸åŒçš„ç®—æ³•ï¼Œä¸åŒçš„ç½‘ç»œæ¨¡å‹ï¼Œä¸åŒçš„GPUå¹³å°ï¼Œè¿›è¡Œ CUDAæ ¸çš„è°ƒæ•´ï¼ˆæ€ä¹ˆè°ƒæ•´çš„è¿˜ä¸æ¸…æ¥šï¼‰ï¼Œä»¥ä¿è¯å½“å‰æ¨¡å‹åœ¨ç‰¹å®šå¹³å°ä¸Šä»¥æœ€ä¼˜æ€§èƒ½è®¡ç®—ã€‚ TensorRT will pick the implementation from a library of kernels that delivers the best performance for the target GPU, input data size, filter size, tensor layout, batch size and other parameters. Dynamic Tensor Memory åœ¨æ¯ä¸ªtensorçš„ä½¿ç”¨æœŸé—´ï¼ŒTensorRTä¼šä¸ºå…¶æŒ‡å®šæ˜¾å­˜ï¼Œé¿å…æ˜¾å­˜é‡å¤ç”³è¯·ï¼Œå‡å°‘å†…å­˜å ç”¨å’Œæé«˜é‡å¤ä½¿ç”¨æ•ˆç‡ã€‚ Multi-Stream Execution Scalable design to process multiple input streams in parallelï¼Œè¿™ä¸ªåº”è¯¥å°±æ˜¯GPUåº•å±‚çš„ä¼˜åŒ–äº†ã€‚ ","date":"2023-07-14","objectID":"/posts/tensorrt_introduction/:0:2","tags":["TensorRT"],"title":"TensorRT Introduction","uri":"/posts/tensorrt_introduction/"},{"categories":["Distributed Computing"],"content":"TensorRT å®‰è£… CUDAçš„å®‰è£… å®‰è£…æ˜¾å¡é©±åŠ¨ å®‰è£…cuda 2.1 è¿›å…¥nvidiaå¼€å‘è€…ç½‘ç«™çš„CUDAä¸‹è½½é¡µé¢é€‰æ‹©runfileæ ¼å¼çš„æ–‡ä»¶ä¸‹è½½ã€‚ 2.2 ä¸‹è½½å®Œæˆåï¼Œè§£å‹ï¼Œå¹¶è¿è¡Œä¸Šå›¾ä¸­çš„å‘½ä»¤ï¼Œä¼šæœ‰æ¡æ¬¾ï¼Œæ¥å—å³å¯ï¼Œæ³¨æ„å®‰è£…CUDAçš„æ—¶å€™ä¸è¦å®‰è£…é©±åŠ¨ 2.3 è·¯å¾„è®¾ç½® $ export PATH=/usr/local/cuda-10.2/bin:/usr/local/cuda-10.2/nsight-compute-2019.5.0${PATH:+:${PATH}} $ export LD_LIBRARY_PATH=/usr/local/cuda-10.2/lib64/${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}} å¹¶ä½¿è®¾ç½®ç”Ÿæ•ˆ: source ~/.bashrc 2.4 éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ è¿›å…¥/usr/local/cuda-10.1/samples/1_Utilities/ç›®å½•ï¼Œ cd deviceQuery sudo make ./deviceQuery å‡ºç°å¦‚ä¸‹è¾“å‡ºï¼Œåˆ™CUDAå®‰è£…æˆåŠŸã€‚ å®‰è£…cuDNN 3.1è¿›å…¥cudnnä¸‹è½½é¡µé¢ï¼Œä¸‹è½½ç‰ˆæœ¬åˆé€‚çš„ç‰ˆ 3.2 è§£å‹ï¼Œå¹¶è¿›å…¥åˆ°ç›¸åº”ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š sudo cp cuda/include/cudnn*.h /usr/local/cuda-10.2/include sudo cp cuda/lib64/libcudnn* /usr/local/cuda-10.2/lib64 sudo chmod a+r /usr/local/cuda-10.2/include/cudnn*.h sudo chmod a+r /usr/local/cuda-10.2/lib64/libcudnn* 3.3 æŸ¥çœ‹cudnnç‰ˆæœ¬ cat /usr/local/cuda-10.2/include/cudnn.h | grep CUDNN_MAJOR -A 2 æ–°ç‰ˆæœ¬: cat /usr/local/cuda-10.2/include/cudnn_version.h | grep CUDNN_MAJOR -A 2 ref: https://blog.csdn.net/weixin_43592742/article/details/115689886?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0\u0026spm=1001.2101.3001.4242 TensorRTçš„å®‰è£… è‹±ä¼Ÿè¾¾æä¾›çš„å®‰è£…æŒ‡å¯¼ tensorRT è¦åŒ¹é…cudaå’Œcudnnç‰ˆæœ¬ã€‚åœ¨å®‰è£…ä¹‹å‰è¯·åŒ¹é…ã€‚ OSS å’Œ GA ä¸¤ä¸ªç‰ˆæœ¬: TensorRT OSS: git clone -b master https://github.com/nvidia/TensorRT TensorRT cd TensorRT git submodule update --init --recursive GA ç‰ˆæœ¬(ä¸‹è½½åœ°å€) å¯¹GAç‰ˆæœ¬å’ŒOSSç‰ˆæœ¬åœ¨~/.bashrcæ–‡ä»¶ä¸­å£°æ˜è·¯å¾„: (GA: General Availability Stable Version) (OSS: OPEN SOURCE) [ossç‰ˆæœ¬è·¯å¾„]export TRT_SOURCE=/home/yejian/TensorRT/TensorRT_7.2.1 [GA Release ç‰ˆæœ¬è·¯å¾„]export TRT_RELEASE=/home/yejian/TensorRT/TensorRT_7.2.1/TensorRT-7.2.1.6/TensorRT-7.2.1.6 Build TensorRT RSS (è¿™ä¸€æ­¥éœ€è¦åœ¨ç¼–å†™è‡ªå®šä¹‰ç®—å­çš„æ—¶å€™ç¼–è¯‘é€šè¿‡ï¼Œå‚èƒ½è°ƒç”¨è‡ªå®šä¹‰ç®—å­) cd $TRT_OSSPATH mkdir -p build \u0026\u0026 cd build cmake .. -DTRT_LIB_DIR=$TRT_LIBPATH -DTRT_OUT_DIR=`pwd`/out make -j$(nproc) ","date":"2023-07-14","objectID":"/posts/tensorrt_introduction/:0:3","tags":["TensorRT"],"title":"TensorRT Introduction","uri":"/posts/tensorrt_introduction/"},{"categories":["Distributed Computing"],"content":"è‡ªå®šä¹‰ç®—å­å¼€å‘ â€“ ScatterElements åœ¨è‡ªå®šä¹‰ç®—å­å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ’°å†™ä¸€ä¸‹4ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”æŠŠæ–‡ä»¶æ”¾åœ¨scatterElementsPluginæ–‡ä»¶å¤¹ä¸­: CmakeLists.txt scatterElements.cu scatterElementsPlugin.cpp scatterElementsPlugin.h å¦‚å›¾æ‰€ç¤º: è‡ªå®šä¹‰ç®—å­çš„ç”Ÿæˆä¸æ³¨å†Œ å°†ä»¥ä¸Šå››ä¸ªæ–‡ä»¶æŠ¥æ‹¬æ–‡ä»¶å¤¹å¤åˆ¶åˆ°TensorRT(OOS)ä¸‹çš„pluginæ–‡ä»¶å¤¹ä¸‹; ç„¶åä¿®æ”¹æ³¨å†Œä¿¡æ¯æ–‡ä»¶:(è¿™äº›æ–‡ä»¶ä¹Ÿåœ¨pluginæ–‡ä»¶å¤¹ä¸‹) ${TRT_SOURCE}/plugin: CMakeLists.txt ${TRT_SOURCE}/InferPlugin.cpp ${TRT_SOURCE}/common/kernels/kernel.h ${TRT_SOURCE}/parsers/onnx/builtin_op_importers.cpp æ‰§è¡Œå®Œä»¥ä¸Šæ­¥éª¤ä»¥åï¼Œé‡æ–°ç¼–è¯‘OOSç‰ˆæœ¬ï¼Œç„¶åå°±å¯ä»¥è°ƒç”¨è‡ªå®šä¹‰ç®—å­: cd $TRT_OSSPATH mkdir -p build \u0026\u0026 cd build cmake .. -DTRT_LIB_DIR=$TRT_LIBPATH -DTRT_OUT_DIR=`pwd`/out make -j$(nproc) ","date":"2023-07-14","objectID":"/posts/tensorrt_introduction/:1:0","tags":["TensorRT"],"title":"TensorRT Introduction","uri":"/posts/tensorrt_introduction/"},{"categories":["RL"],"content":" quote note abstract info tip success question warning failure danger bug example quote https://zhuanlan.zhihu.com/p/337976595 DRL:DQN, PG, AC, DDPG, SACæ¦‚è¿° ","date":"2023-07-14","objectID":"/posts/dpg/:0:0","tags":["draft"],"title":"DPG","uri":"/posts/dpg/"},{"categories":["RL"],"content":"[DQN]paper link: https://arxiv.org/pdf/1312.5602v1.pdf ","date":"2023-07-14","objectID":"/posts/dqn/:0:0","tags":null,"title":"DQN","uri":"/posts/dqn/"},{"categories":["RL"],"content":"DQN: Playing Atari with Deep Reinforcement Learning ","date":"2023-07-14","objectID":"/posts/dqn/:1:0","tags":null,"title":"DQN","uri":"/posts/dqn/"},{"categories":["RL"],"content":"General Architecture Here is Network listed: play Atari games using RL and perform better than human CNN + Q Learning: CNN for frame-skiped images features extraction; and Q Learning for policy generation Network Channel Kernel Size Stride Activation Output Size Input NA NA NA NA $84\\times84\\times4$ First Conv 16 8x8 4 Relu $20 \\times 20 \\times 6$ Second Conv 32 4x4 2 Relu $9 \\times 9 \\times 32$ Hidden NA NA NA Relu 256 Output NA NA NA None 4 to 18 åœ¨å½“æ—¶ï¼Œæ™®éçš„åšæ³•æ˜¯ä¸ºæ¯ä¸€ä¸ªactionå­¦ä¹ ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç½‘ç»œç»“æ„ç›´æ¥è¾“å‡ºæ‰€æœ‰qçš„value. ","date":"2023-07-14","objectID":"/posts/dqn/:1:1","tags":null,"title":"DQN","uri":"/posts/dqn/"},{"categories":["RL"],"content":"Key 1: Input Info Process å›¾åƒå¤„ç†éƒ¨åˆ† Grayscale, Downsampling and Cropping RGB channels to gray scale channel (å°†RGBå–å‡å€¼ä¸ºç°åº¦å›¾): 216 x 163 x 3 =\u003e(grayscale) 216 x 163 x 1 =\u003e(downsampling) 110 x 84 x 1 =\u003e(cropping) 84 x 84 x 1 æ¸¸æˆéƒ¨åˆ† Key Frame and Action Repeat select skipped frames (æ¯ä¸ª4å¸§é€‰å–å…³é”®å¸§)ï¼Œå‡è®¾æ™ºèƒ½ä½“çœ‹ä¸è§ä¸­é—´è¿‡ç¨‹; è€Œä¸”agentåœ¨æ¯kå¸§é€‰æ‹©ä¸€ä¸ªactionï¼Œå¯ä»¥åŠ é€Ÿè®­ç»ƒ ä½œç”¨: åŠ é€Ÿæ¸¸æˆè¿›è¡Œ: è®¡ç®—Q-Valueæ˜¯æœ€è€—æ—¶çš„æ­¥éª¤; å‡å°‘å™ªå£°: è¿‡åˆ†ç´§å¯†çš„frameé‡å¤ä¿¡æ¯è¿‡å¤šï¼Œä¹‹å‰çš„actionå®¹æ˜“è¢«å¦å†³; ç¼©çŸ­reward signalåˆ°å…·ä½“acitonä¹‹é—´çš„æ—¶é—´é—´éš”ã€‚ History as Input continuous history key frames as input (è¿ç»­å››ä¸ªå…³é”®å¸§ä½œä¸ºè¾“å…¥) ä½œç”¨: å¯ä»¥å¸®åŠ©æ™ºèƒ½ä½“è·å¾—æ›´å¤šæœ‰æ•ˆä¿¡æ¯è¿›è¡Œè®­ç»ƒ Reward Clipping å°†å¤šæœ‰çš„rewardç®€åŒ–ä¸º+1, -1å’Œ0 ç¼ºç‚¹: æœ‰å¯èƒ½å¯¹è®­ç»ƒæ•ˆæœæœ‰å½±å“ ä½œç”¨: æŸå¤±äº†éƒ¨åˆ†ä¿¡æ¯ï¼Œä½†æ˜¯å¯ä»¥ä¿è¯ä¸åŒæ¸¸æˆçš„reward scaleç›¸åŒï¼Œå¯ä»¥ç”¨ç›¸åŒçš„å‚æ•°è¿›è¡Œè®­ç»ƒ(å› ä¸ºåœ¨è®ºæ–‡ä¸­ï¼Œä½œè€…åœ¨å¤šä¸ªæ¸¸æˆä¸Šå¯¹DQNè¿›è¡Œäº†éªŒè¯)ã€‚ ","date":"2023-07-14","objectID":"/posts/dqn/:1:2","tags":null,"title":"DQN","uri":"/posts/dqn/"},{"categories":["RL"],"content":"Key 2: Replay Buffer åŸç†: DQNä¸­å¯¹ç¥ç»ç½‘ç»œçš„è®­ç»ƒæœ¬è´¨ä¾ç„¶æ˜¯SGDï¼ŒSGDè¦æ±‚å¤šæ¬¡åˆ©ç”¨æ ·æœ¬ï¼Œå¹¶ä¸”æ ·æœ¬ç‹¬ç«‹ï¼Œä½†ç›¸é‚»çš„transitionéƒ½æ˜¯é«˜åº¦ç›¸å…³çš„ï¼Œæ‰€ä»¥è¦è®°ä½è¿‡å»çš„transitionä¸€èµ·æŠ½æ ·; Replay Bufferé€šè¿‡è®°å¿†ä¸€æ®µæ—¶é—´å†…çš„trainsitionï¼Œå¯ä»¥è®©è®­ç»ƒæ•°æ®åˆ†å¸ƒæ›´å¹³ç¨³; Replay Bufferé€šè¿‡å¿˜è®°å¾ˆä¹…ä¹‹å‰çš„trainsitionï¼Œå¯ä»¥ä¿è¯è®°ä½çš„åˆ†å¸ƒå¤§è‡´æ¨¡æ‹Ÿå½“å‰policyçš„åˆ†å¸ƒï¼Œä»è€Œè¿›è¡Œpolicy update; å¯ä»¥å¤šæ¬¡é‡å¤é‡‡æ ·ï¼Œæå‡data efficiency. Replay Bufferç”Ÿæ•ˆçš„ä¸€ä¸ªé‡è¦æ¡ä»¶: å­˜å‚¨transitionæ•°é‡åˆé€‚ å¤ªå¤š: å¯èƒ½ä½¿reward signalå¤ªè¿‡ç¨€ç–ï¼Œå½±å“è®­ç»ƒ å¤ªå°‘: å¯èƒ½ä¼šå¯¼è‡´è®­ç»ƒæ•°æ®çš„åˆ†å¸ƒè¿…é€Ÿå˜åŒ– ","date":"2023-07-14","objectID":"/posts/dqn/:1:3","tags":null,"title":"DQN","uri":"/posts/dqn/"},{"categories":["RL"],"content":"Key 3: Semi-Gradient Method åœ¨Eauation3ä¸­ï¼Œ $$y_i = r + \\gamma \\max_{aâ€™}Q(sâ€™, aâ€™; \\theta_{t-1})$$ ä¸å’Œä¹‹åçš„Qå‡½æ•°å…±äº«å‚æ•°; ä½†æ˜¯åœ¨å®é™…çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨ $$ y_i = r + \\gamma \\max_{aâ€™}Q(sâ€™, aâ€™; \\theta_{t})$$ å’Œä¹‹åçš„Qå‡½æ•°å…±äº«å‚æ•°ï¼Œä½†æ˜¯å®é™…ä¸Šä¸å‚ä¸å¯¼æ•°è®¡ç®—ï¼Œè¿™ç§æ–¹æ³•ç§°ä¸ºSemi-Gradient Methodã€‚ ä½œç”¨: ä½¿è®­ç»ƒæ›´æ–°æ›´ç¨³å®šã€‚ ","date":"2023-07-14","objectID":"/posts/dqn/:1:4","tags":null,"title":"DQN","uri":"/posts/dqn/"},{"categories":["Distributed Computing"],"content":"1. æ¦‚è¿° åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶ä¸é›†åˆé€šä¿¡åº“çš„ç»„åˆæ„æˆäº†åˆ†å¸ƒå¼è®­ç»ƒçš„æ•´ä½“æœåŠ¡è½¯ä»¶æ ˆï¼Œåœ¨ç¬¬3ç¯‡ã€ç¬¬4ç¯‡æ–‡ç« é‡Œå·²ç»å‰–æå®Œé›†åˆé€šä¿¡çš„ç›¸å…³å†…å®¹ï¼Œè€Œæœ¬æ–‡ä¼šä»¥Horovodä¸ºä¾‹ä»‹ç»æ•°æ®å¹¶è¡Œä¸‹åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶çš„åŸºæœ¬åŸç†ä»¥åŠè¿›è¡Œæ¶æ„è§£æã€‚å½“å‰ï¼Œåœ¨åˆ†å¸ƒå¼è®­ç»ƒé‡Œåˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶éœ€è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒé—®é¢˜ ï¼š è®¡ç®—ä¸é€šä¿¡åŒæ­¥è€¦åˆé—®é¢˜ï¼šå¦‚æœåå‘ä¼ æ’­ä¸€äº§ç”Ÿä¸€ä»½æ¢¯åº¦ï¼Œå°±é©¬ä¸Šå¯¹å…¶è°ƒç”¨å…¨å±€AllReduceï¼Œè®¡ç®—ä¸é€šä¿¡åŒæ­¥è€¦åˆï¼Œå®¹æ˜“é€ æˆæ­»é”åŒæ—¶æ€§èƒ½ä¹Ÿä¼šå¾ˆä¸å¦‚æ„ï¼› è®¡ç®—æ—¶é—´ä¸é€šä¿¡æ—¶é—´ä¸²è¡Œé—®é¢˜ï¼šç¥ç»ç½‘ç»œæ˜¯åˆ†å±‚çš„ï¼Œæ¢¯åº¦è®¡ç®—çš„è¿‡ç¨‹æ˜¯æ•°æ®åŠ è½½ï¼Œç„¶åå‰å‘ä¼ æ’­ç®—å‡ºæŸå¤±å€¼ï¼Œå†åå‘ä¼ æ’­ç®—å‡ºæ¢¯åº¦ï¼Œè€Œåå‘è®¡ç®—æ—¶æ¢¯åº¦æ˜¯ä»è¾“å‡ºå±‚å¾€è¾“å…¥å±‚æ–¹å‘ä¸€å±‚ä¸€å±‚äº§ç”Ÿçš„ï¼Œåœ¨æœ‰äº›æ¨¡å‹é‡Œï¼Œå¦‚æœéœ€è¦ç­‰æ‰€æœ‰çš„æ¢¯åº¦éƒ½è®¡ç®—å®Œæ¯•æ‰èƒ½è§¦å‘å…¨å±€AllReduceï¼Œé‚£ä¹ˆå¯¹æ€§èƒ½çš„å½±å“ä¹Ÿä¼šå¾ˆå¤§ï¼› æ¢¯åº¦ç”Ÿæˆçš„è½åè€…é—®é¢˜ï¼šé›†ç¾¤å†…æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹çš„åŒä¸€ä»½æ¢¯åº¦çš„äº§ç”Ÿä¸ä¸€å®šéƒ½æ˜¯åŒä¸€æ—¶åˆ»çš„ï¼Œå¦‚æœæ¢¯åº¦æ²¡æœ‰å…¨éƒ¨ç”Ÿæˆå°±å‘èµ·å¯¹è¿™ä¸ªæ¢¯åº¦çš„å…¨å±€è§„çº¦ï¼Œå¦åˆ™å®¹æ˜“é€ æˆè®­ç»ƒå‡ºæ¥çš„æ¨¡å‹ç²¾åº¦ä¸è¾¾æ ‡æˆ–è€…ä¸æ”¶æ•›çš„é—®é¢˜ï¼› æ¢¯åº¦èåˆé—®é¢˜ï¼šå¦‚æœæ¯ä¸€ä»½æ¢¯åº¦éƒ½è§¦å‘ä¸€æ¬¡å…¨å±€AllReduceï¼Œåœ¨æ¢¯åº¦Tensorè¾ƒå¤šçš„ç¥ç»ç½‘ç»œè®­ç»ƒé‡Œï¼Œæ•´ä½“çš„è®­ç»ƒç³»ç»Ÿæ€§èƒ½ä¼šå˜å¾—æä½ï¼› æ˜“ç”¨æ€§é—®é¢˜ï¼šä»TensorFlowï¼ŒPyTorchè¿ç§»è¿‡æ¥éœ€è¦æ”¹çš„ä»£ç éœ€è¦æå°‘ï¼Œä»å•å¡è®­ç»ƒè¿ç§»åˆ°å¤šå¡è®­ç»ƒéœ€è¦æ”¹åŠ¨çš„ä»£ç ä¹Ÿéœ€è¦æå°‘ï¼› å¯ç§»æ¤é—®é¢˜ï¼šæ”¯æŒå¤šç§å¤šæ ·çš„æ·±åº¦å­¦ä¹ è®­ç»ƒæ¡†æ¶ï¼Œæ¯”å¦‚ TensorFlowã€PyTorchã€MxNetç­‰ï¼Œä¹Ÿèƒ½æ”¯æŒå¤šç§å¤šæ ·çš„é€šä¿¡åº“ï¼Œæ¯”å¦‚openMPIã€NCCLã€Glooã€CCLã€RCCLç­‰ï¼› å¯é æ€§é—®é¢˜ï¼šåœ¨é›†ç¾¤è®­ç»ƒçš„è¿‡ç¨‹ä¸­ç½‘ç»œæ—¶ä¸å¯é çš„ã€è®¡ç®—å¡æ˜¯ä¼šå‡ºæ•…éšœçš„ã€æœåŠ¡å™¨æ˜¯ä¼šå‡ºæ•…éšœçš„ã€ç³»ç»Ÿè½¯ä»¶ä¹Ÿæ˜¯ä¼šå‡ºBugçš„ï¼Œè¿™äº›å› ç´ é€ æˆäº†åˆ†å¸ƒå¼è®­ç»ƒè¿‡ç¨‹ä¸­è¿˜å­˜åœ¨å¯é æ€§é—®é¢˜ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯ä¸€ä¸ªéš¾é¢˜ã€‚ è½¯ä»¶æ˜¯ç”±äººå®ç°çš„ï¼Œè§£æä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿæœ€éš¾çš„åœ°æ–¹åœ¨äºä»åºæ‚çš„ä»£ç é‡Œå€’æ¨å‡ºèƒŒåå®ç°å®ƒçš„äººçš„è®¾è®¡æ„å›¾ï¼Œä¸ºäº†æ›´å¥½çš„ç†è§£Horovodï¼Œæœ¬æ–‡ä¼šåŸºäºä»¥ä¸Šè¿™å‡ ä¸ªåˆ†å¸ƒå¼è®­ç»ƒçš„æ ¸å¿ƒé—®é¢˜ï¼Œä»¥Horovodä¸ºä¾‹ä»‹ç»åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶çš„åŸºæœ¬åŸç†ä»¥åŠè¿›è¡Œæ¶æ„è§£æã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:1:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"2. åŸºç¡€çŸ¥è¯† ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:2:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"2.1 å•å¡è®­ç»ƒ ç¥ç»ç½‘ç»œçš„è®­ç»ƒï¼Œæœ¬è´¨ä¸Šå°±æ˜¯Y=F(x)çš„è¿­ä»£ï¼Œé€šè¿‡åå¤è¾“å…¥Xã€è¾“å‡ºYï¼Œä½¿å¾—ç¥ç»ç½‘ç»œçš„å‚æ•°å˜åŒ–ä¸è¾“å…¥è¾“å‡ºé—´çš„å¤æ‚å…³ç³»æ‹Ÿåˆã€‚åœ¨ç¥ç»ç½‘ç»œè®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡è¾“å…¥æ•°æ®åˆ©ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•è¿›è¡Œè¿­ä»£ä»è€Œä¼˜åŒ–ç¥ç»ç½‘ç»œå‚æ•°ï¼Œå¹¶æœ€ç»ˆè¾“å‡ºç¥ç»ç½‘ç»œæ¨¡å‹ã€‚è€Œç¥ç»ç½‘ç»œå¯ä»¥çœ‹ä½œä¸€ç§è¿ç®—æ¨¡å‹ï¼Œå…¶ç”±å¤§é‡çš„ç¥ç»å…ƒï¼ˆèŠ‚ç‚¹ï¼‰ç›¸äº’è”æ¥æ„æˆï¼Œå…¶ç”±è¾“å…¥å±‚ã€éšè—å±‚ä»¥åŠè¾“å‡ºå±‚ç»„åˆè€Œæˆï¼ˆå¦‚ä¸‹å›¾å·¦ä¾§æ‰€ç¤ºï¼‰ã€‚ç¥ç»å…ƒ(neuron)æ˜¯ç¥ç»ç½‘ç»œçš„åŸºæœ¬è®¡ç®—å•å…ƒï¼Œä¹Ÿè¢«ç§°ä½œèŠ‚ç‚¹(node)ï¼Œå®ƒå¯ä»¥æ¥å—æ¥è‡ªå…¶ä»–ç¥ç»å…ƒæˆ–å¤–éƒ¨æ•°æ®çš„è¾“å…¥ï¼Œç„¶åè®¡ç®—å‡ºä¸€ä¸ªè¾“å‡ºï¼ˆå¦‚ä¸‹å›¾å³ä¸Šè§’æ‰€ç¤ºï¼‰ã€‚ å¦‚ä¸Šå›¾å³ä¸‹è§’æ‰€ç¤ºï¼Œåœ¨å•å¡è®­ç»ƒè¿­ä»£ä¸­ï¼ŒåŸºäºå¹¶è¡Œæ¢¯åº¦ä¸‹é™æ³•ï¼Œä¼šæœ‰ä»¥ä¸‹æ“ä½œï¼š ç¬¬ä¸€æ­¥ï¼Œè¯»å–éƒ¨åˆ†æ•°æ®ï¼Œå¹¶ä¸”å°†æ•°æ®åŠ è½½è¿›è®­ç»ƒå¡çš„å­˜å‚¨ç©ºé—´ï¼› ç¬¬äºŒæ­¥ï¼Œå¯¹æ¨¡å‹è¿›è¡Œå‰å‘ä¼ æ’­è®¡ç®—ï¼Œä»è¾“å…¥å±‚å¾€è¾“å‡ºå±‚ä¸€å±‚ä¸€å±‚çš„è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°æŸå¤±å·®LOSSï¼› ç¬¬ä¸‰æ­¥ï¼Œå¯¹æ¨¡å‹è¿›è¡Œåå‘ä¼ æ’­è®¡ç®—ï¼Œä»è¾“å‡ºå±‚å¾€è¾“å…¥å±‚ä¸€å±‚ä¸€å±‚çš„è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°æ¢¯åº¦å€¼ï¼Œæ³¨æ„è¿™ä¸€æ­¥ä¼šæŠŠæ¯ä¸€å±‚éƒ½è®¡ç®—å‡ºä¸€ä¸ªæ¢¯åº¦å¼ é‡ï¼ˆGradient Tensorï¼‰å‡ºæ¥ï¼› ç¬¬å››æ­¥ï¼Œå°†æ–°çš„åˆ°çš„æ¢¯åº¦ä¸éƒ¨åˆ†æ•°æ® ä½œä¸ºæ–°çš„è¾“å…¥ï¼Œé‡æ–°å¼€å§‹ä»¥ä¸Šæ­¥éª¤çš„è¿­ä»£ã€‚ åœ¨è¿™ä¸€æ­¥é‡Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸æ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„ä¿¡æ¯æ˜¯åå‘ä¼ æ’­æ˜¯æ¯ä¸€å±‚è¾“å‡ºä¸€ä¸ªæ¢¯åº¦å¼ é‡ï¼Œä»¥åŠåå‘ä¼ æ’­æ˜¯ä»è¾“å‡ºå±‚å¾€è¾“å…¥å±‚ä¸€å±‚ä¸€å±‚çš„è¿›è¡Œè®¡ç®—çš„ï¼Œè¿™ä¸€ç‚¹ä¿¡æ¯å¯ä»¥ç”¨é€šä¿¡éšè—æ€§èƒ½ä¼˜åŒ–ä¸æ¢¯åº¦èåˆä¼˜åŒ–ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:2:1","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"2.2 å¤šå¡è®­ç»ƒ ä»¥æ•°æ®å¹¶è¡Œéšæœºæ¢¯åº¦ä¸‹é™æ³•( SGD )ä¸ºä¾‹ï¼Œå¤šå¡ç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹å›¾ï¼Œä¸å•å¡è®­ç»ƒç›¸æ¯”ï¼Œå¤šå¡è®­ç»ƒå¤šäº†æ¢¯åº¦å…¨å±€è§„çº¦çš„è¿‡ç¨‹ï¼š ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡Broadcastæ“ä½œå°†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å‚æ•°åŒæ­¥åˆ°é›†ç¾¤å†…çš„æ‰€æœ‰çš„è®­ç»ƒå¡ä¸Šï¼Œä¿è¯æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹çš„åˆå§‹å‚æ•°æ˜¯ä¸€è‡´çš„ï¼ŒåŒæ—¶è®­ç»ƒè„šæœ¬åœ¨å¤šä¸ªè®¡ç®—èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œæ¯ä¸ªè®¡ç®—èŠ‚ç‚¹åŒ…å«äº†æ•´ä½“çš„æ¨¡å‹å‚æ•°ï¼› ç¬¬äºŒæ­¥ï¼Œå°†æ•°æ®æ ·æœ¬åˆ‡ç‰‡åˆ†å‘åˆ°æ•´ä¸ªé›†ç¾¤å†…çš„ä¸ªè®¡ç®—èŠ‚ç‚¹ï¼ˆè®­ç»ƒå¡ï¼‰ä¸Šå¹¶ä¸”é€šè¿‡æ•°æ®æµæ°´æŠ€æœ¯å°†æ•°æ®æ ·æœ¬åŠ è½½è¿›è®­ç»ƒå¡çš„é«˜é€Ÿå†…å­˜ç©ºé—´å†…ï¼Œä½œä¸ºè¾“å…¥X; ç¬¬ä¸‰æ­¥ï¼Œæ¯ä¸ªè®­ç»ƒå¡åœ¨å…¶æ•°æ®æ ·æœ¬ä¸Šè¿è¡Œå‰å‘ä¼ æ’­ï¼Œè®¡ç®—å‡ºæŸå¤±å·®LOSSiï¼› ç¬¬å››æ­¥ï¼Œå¯¹è®¡ç®—å‡ºçš„LOSSiè¿›è¡Œåå‘ä¼ æ’­ï¼Œå¾—åˆ°æ¢¯åº¦GRADiï¼Œè¿™ä¸€æ­¥ä¹Ÿéœ€è¦æ³¨æ„å¾—æ˜¯æ¯ä¸€å±‚éƒ½ä¼šè®¡ç®—å‡ºä¸€ä¸ªæ¢¯åº¦ï¼ŒåŒæ—¶æ¢¯åº¦æ˜¯ä»¥è¾“å‡ºçš„Tensoræ¥è¡¨ç¤ºçš„ï¼› ç¬¬äº”æ­¥ï¼Œæ‰€æœ‰çš„è®­ç»ƒå¡è®¡ç®—å‡ºæ¥çš„éƒ¨åˆ†æ¢¯åº¦ï¼Œåœ¨ä¸»æœºå†…åŠä¸»æœºä¹‹é—´é€šè¿‡é›†åˆé€šä¿¡è¿›è¡Œå…¨å±€å½’çº¦(AllReduce)å¾—åˆ°å…¨å±€æ¢¯åº¦ï¼› ç¬¬å…­æ­¥ï¼Œæœ€åå†å°†è¿™ä¸ªå…¨å±€æ¢¯åº¦ä½œä¸ºå‚æ•°è¿›è¡Œæ›´æ–°ï¼Œå†è¿›è¡Œä»¥ä¸Š2-5æ­¥éª¤çš„è¿­ä»£ä»è€Œè·å¾—æ–°çš„æ¢¯åº¦ã€‚ ä»¥ä¸Š2-6æ­¥éª¤å°±æ˜¯å¤šå¡å¹¶è¡Œæ¢¯åº¦ä¸‹é™çš„åŸºæœ¬æ€æƒ³ï¼Œå³å¤šä¸ªè®¡ç®—èŠ‚ç‚¹é€šè¿‡åˆ†ç‰‡çš„æ•°æ®æ ·æœ¬è¿›è¡Œæ¢¯åº¦è®¡ç®—ï¼Œå¾—åˆ°åˆ†åŒºæ¢¯åº¦åï¼Œå†é€šè¿‡å…¨å±€æ¢¯åº¦è§„çº¦ä»¥åŠå°†è¿™ä¸ªèšåˆå¥½çš„æ¢¯åº¦ä½œä¸ºæ–°çš„å‚æ•°è¿›è¡Œæ›´æ–°ï¼Œä»è€Œå®ç°å¹¶è¡Œæ¢¯åº¦ä¸‹é™ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:2:2","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3. å‡ ä¸ªæ ¸å¿ƒé—®é¢˜ åœ¨æœ¬ç« èŠ‚é‡Œä¼šè§£è¯»æœ¬æ–‡æ¦‚è¿°é‡Œæåˆ°çš„åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶éœ€è¦è§£å†³çš„å‡ ä¸ªä¸æ€§èƒ½ã€æ˜“ç”¨æ€§ç­‰ç›¸å…³çš„å‡ ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œå¹¶ä¸”ä»¥Horovodä¸ºä¾‹è®²è¿°Horovodæ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªå‡ ä¸ªéš¾é¢˜çš„ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3.1 è®¡ç®—ä¸é€šä¿¡è§£è€¦ åœ¨ç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€ç¥ç»ç½‘ç»œå±‚éƒ½ä¼šè®¡ç®—å‡ºä¸€ä¸ªæ¢¯åº¦ï¼ŒåŒæ—¶æ¢¯åº¦æ˜¯ä»¥è¾“å‡ºTensoræ¥è¡¨ç¤ºçš„ï¼Œå¦‚æœåå‘ä¼ æ’­ä¸€è®¡ç®—å‡ºä¸€ä¸ªæ¢¯åº¦å°±é©¬ä¸Šè°ƒç”¨é€šä¿¡å»åšæ¢¯åº¦è§„çº¦ï¼Œå°†è®¡ç®—ä¸é€šä¿¡åŒæ­¥è€¦åˆï¼Œé‚£ä¹ˆæ•´ä½“çš„æ€§èƒ½çš„è¡¨ç°å°±ä¼šå¾ˆå·®ã€‚æ¯”å¦‚ä¸€ä¸ªResNet-50 v3çš„æ¢¯åº¦å¼ é‡ä¸ªæ•°æ˜¯153ä¸ªï¼Œå¦‚æœä¸€è®¡ç®—å‡ºä¸€ä¸ªæ¢¯åº¦å°±é©¬ä¸Šè¿›è¡Œé€šä¿¡ï¼Œå‡è®¾è®¡ç®—æ¢¯åº¦èŠ±äº†1msï¼Œé€šä¿¡è¿™ä¸ªæ¢¯åº¦èŠ±äº† 500msï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ 501msï¼Œæ€»ä½“ä¸Šå°±éœ€è¦501x153 = 76653msï¼Œå³è¿‘76.6sæ‰èƒ½å®Œæˆä¸€æ¬¡æ¢¯åº¦è¿­ä»£ã€‚è€Œå°†è®¡ç®—ä¸é€šä¿¡è§£è€¦ï¼Œè®¡ç®—çš„å½’è®¡ç®—ï¼Œé€šä¿¡çš„å½’é€šä¿¡ï¼Œé€šè¿‡æ€§èƒ½ä¼˜åŒ–ç­–ç•¥å‡å°‘é€šä¿¡çš„æ¬¡æ•°ï¼Œæ—¢èƒ½æå‡æ•´ä½“è®­ç»ƒæ€§èƒ½ä¹Ÿèƒ½é¿å…æŸäº›æ­»é”é—®é¢˜ï¼Œæ¯”å¦‚è®¡ç®—æ¢¯åº¦grad içš„æ—¶å€™èŠ±äº†å¾ˆé•¿æ—¶é—´ï¼Œè€Œé€šä¿¡çº¿ç¨‹ä¸€ç›´åœ¨ç­‰å¾…è¿™ä¸ªæ¢¯åº¦ï¼Œè¡¨ç°å‡ºæ¥å°±æ˜¯æ­»é”ç°è±¡ã€‚ Horovodé‡‡ç”¨è®¡ç®—ä¸é€šä¿¡åˆ†ç¦»çš„è®¾è®¡æ€æƒ³ï¼Œè§£è€¦äº†è®¡ç®—è¿‡ç¨‹ä¸é€šä¿¡è¿‡ç¨‹ï¼Œä»è€Œæå‡äº†æ•´ä½“è®­ç»ƒçš„æ€§èƒ½ä¸å¯é æ€§ã€‚å¦‚ä¸‹å›¾çš„Horovodé€»è¾‘æ¶æ„å›¾æ‰€ç¤ºï¼Œä»å›¾ä¸­å¯ä»¥çœ‹å‡ºHorovodè§£è€¦äº†è®¡ç®—ä¸é€šä¿¡ï¼Œå…¶å°†æ¡†æ¶å±‚è®¡ç®—å‡ºæ¥çš„æ¢¯åº¦requestä¿¡æ¯push åˆ°ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—message_queueé‡Œï¼ŒåŒæ—¶å°†æ¢¯åº¦ä¿¡æ¯pushåˆ°ä¸€ä¸ªTensor_tableé‡Œï¼Œå†é€šè¿‡æ§åˆ¶å±‚åœ¨åå°èµ·ä¸€ä¸ªloopçº¿ç¨‹ï¼Œå‘¨æœŸæ€§çš„ä»æ¶ˆæ¯é˜Ÿåˆ—é‡Œè¯»å–æ¢¯åº¦æ¶ˆæ¯ï¼Œåœ¨æ§åˆ¶å±‚é›†ç¾¤çš„èŠ‚ç‚¹ä¹‹é—´åå•†è¾¾æˆä¸€è‡´åï¼Œå†è¿›è¡Œæ¶ˆæ¯åˆ†å‘è§¦å‘è®­ç»ƒè¡Œä¸ºã€‚ å¦‚ä¸Šå›¾å¯çœ‹å‡ºï¼ŒHorovodä»ä¸‹åˆ°ä¸Šåˆ†ä¸º7å±‚ï¼šç‰©ç†å±‚ã€é“¾è·¯å±‚ã€æ•°æ®ä¼ è¾“å±‚ã€æ§åˆ¶å±‚ã€æ¶ˆæ¯å±‚ã€æ¡†æ¶å±‚ä»¥åŠç”¨æˆ·å±‚ã€‚æ¡†æ¶å±‚ï¼Œæ§åˆ¶å±‚ä»¥åŠæ•°æ®ä¼ è¾“å±‚ä½“ç°äº†Horovodçš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼Œå³ï¼šæ¡†æ¶å±‚ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰Opï¼Œä»¥æ’ä»¶çš„å½¢å¼hackè¿›æ¡†æ¶ï¼›åœ¨æ§åˆ¶å±‚ï¼ŒworkerèŠ‚ç‚¹ä¸masterèŠ‚ç‚¹ä¹‹é—´åå•†è¾¾æˆè§¦å‘è®­ç»ƒè¡Œä¸ºçš„çº¦å®šï¼›åœ¨æ•°æ®ä¼ è¾“å±‚ï¼ŒæœåŠ¡å™¨å†…ä»¥åŠæœåŠ¡å™¨ä¹‹é—´é‡‡ç”¨é›†åˆé€šä¿¡åº“ä¼ è¾“æ•°æ®ã€‚ æœ¬è´¨ä¸ŠHorovodçš„æ•´ä½“è®¾è®¡ç†å¿µä¹‹ä¸€éµå¾ªçš„æ˜¯ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åœ¨Horovodé‡Œæ¯ä¸ªè®¡ç®—èŠ‚ç‚¹éƒ½ä¼šæœ‰æœ‰ä¸¤ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼šExecution thread å’Œ Background thread ï¼š ç”Ÿäº§è€…Execution Thread æ˜¯ç”¨æ¥åšæ¢¯åº¦è®¡ç®—çš„ï¼Œåœ¨TensorFlowã€PyTorchä¹‹ç±»çš„ä¹‹ç±»çš„è®­ç»ƒæ¡†æ¶è®¡ç®—å‡ºæ¢¯åº¦Tensoråï¼Œå°†Tensor ä¿¡æ¯pushè¿›tenor_tableé˜Ÿåˆ—ï¼ŒåŒæ—¶å°†Tensorçš„requestä¿¡æ¯pushè¿›message_queueé˜Ÿåˆ—; æ¶ˆè´¹è€…Background thread æ˜¯åšé›†åˆé€šè®¯ä»¥åŠå…¨å±€Allreduceçš„ï¼Œåå°çº¿ç¨‹ä¼šæ¯éš”ä¸€æ®µæ—¶é—´è½®è¯¢æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ‹¿åˆ°ä¸€æ‰¹Tensorä¿¡æ¯ä¹‹åï¼Œä¼šè¿›è¡Œç›¸åº”çš„æ“ä½œã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:1","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3.2 é€šä¿¡éšè— ç¥ç»ç½‘ç»œæ˜¯åˆ†å±‚çš„ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œå…ˆæ˜¯æ•°æ®åŠ è½½ï¼Œç„¶åå‰å‘ä¼ æ’­ç®—å‡ºLOSSï¼Œå†åå‘ä¼ æ’­ç®—å‡ºæ¢¯åº¦ï¼Œè€Œåå‘è®¡ç®—æ—¶æ¢¯åº¦æ˜¯ä»è¾“å‡ºå±‚å¾€è¾“å…¥å±‚æ–¹å‘ä¸€å±‚ä¸€å±‚äº§ç”Ÿçš„ï¼Œå¦‚æœéœ€è¦ç­‰æ‰€æœ‰çš„æ¢¯åº¦éƒ½è®¡ç®—å®Œæ¯•æ‰èƒ½è§¦å‘å…¨å±€AllReduceï¼Œå¯¹æ€§èƒ½ä¸æ˜¯å¾ˆå‹å¥½ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè®¡ç®—æ—¶é—´ä¸é€šä¿¡æ—¶é—´æ˜¯ä¸²è¡Œçš„ï¼Œå¦‚æœèƒ½å°†å…¨å±€æ¢¯åº¦è§„çº¦çš„é€šä¿¡æ—¶é—´ä¸è®¡ç®—æ—¶é—´æƒ³åŠæ³•å¹¶è¡Œèµ·æ¥ï¼Œå°†é€šä¿¡æ—¶é—´éšè—åœ¨è®¡ç®—æ—¶é—´ä¹‹å†…ï¼Œé‚£ä¹ˆå°±èƒ½èŠ‚çº¦æ¢¯åº¦çš„è®­ç»ƒæ—¶é—´ä»è€Œæå‡åˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿæ•´ä½“çš„è®­ç»ƒæ€§èƒ½ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°†è®¡ç®—å‡ºæ¥çš„æ¢¯åº¦è¿›è¡Œåˆ†æ¡¶è§¦å‘å¼‚æ­¥Allreduceï¼Œä¸€è¾¹åå‘ä¼ æ’­è®¡ç®—æ¢¯åº¦ï¼Œä¸€è¾¹åšéƒ¨åˆ†æ¢¯åº¦çš„å…¨å±€è§„çº¦é€šä¿¡ï¼Œä»è€Œè¾¾åˆ°å°†é€šä¿¡æ—¶é—´éšè—åœ¨è®¡ç®—æ—¶é—´å†…çš„æ•ˆæœã€‚è€ŒHorovodä¸ºè¾¾æˆè¿™ä¸€æ•ˆæœï¼ŒBackground thread ä¼šæ¯éš”ä¸€æ®µæ—¶é—´è½®è¯¢æ¢¯åº¦æ¶ˆæ¯é˜Ÿåˆ—é‡Œçš„æ¢¯åº¦ä¿¡æ¯ï¼Œè·å–äº†å¯ä»¥è¿‡å…¨å±€è§„çº¦çš„æ¢¯åº¦åï¼Œå°±è¿›è¡Œå…¨å±€è§„çº¦æ“ä½œï¼Œè€Œè¿™ä¸ªæ—¶é—´å…¶ä»–çš„æ¢¯åº¦è¿˜åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡è°ƒæ•´è½®è¯¢çš„æ—¶é—´é—´éš”ä»è€Œè¾¾åˆ°è°ƒæ•´æ¢¯åº¦åˆ†æ¡¶çš„æ•ˆæœã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:2","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3.3 æ¢¯åº¦åå•† ç¥ç»ç½‘ç»œçš„æ¯ä¸€å±‚å¯¹åº”ä¸€ä¸ªæ¢¯åº¦Tensorï¼Œåœ¨åˆ†å¸ƒå¼è®­ç»ƒé›†ç¾¤é‡Œæ¯å¼ è®­ç»ƒå¡å¯¹åŒä¸€ä»½æ¢¯åº¦è®¡ç®—äº§ç”Ÿçš„æ—¶é—´æ˜¯æœ‰å·®å¼‚çš„ï¼Œå½“é›†ç¾¤å†…æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹çš„åŒä¸€ç¥ç»ç½‘ç»œå±‚çš„åŒä¸€æ¢¯åº¦éƒ½äº§ç”Ÿæ—¶ï¼Œæ‰èƒ½å‘èµ·å¯¹è¿™ä¸ªæ¢¯åº¦çš„å…¨å±€AllReduceè§„çº¦ï¼Œå¦åˆ™å®¹æ˜“é€ æˆä¸¢æ¢¯åº¦ï¼Œè®­ç»ƒå‡ºæ¥æ¨¡å‹ç²¾åº¦ä¸è¾¾æ ‡æˆ–è€…æ¨¡å‹ä¸æ”¶æ•›ã€‚æ¯”å¦‚åœ¨ä¸€ä¸ª128å¡çš„è®­ç»ƒé›†ç¾¤é‡Œï¼ŒåŒä¸€ä»½æ¢¯åº¦æ˜¯å¯¹åº”åŒä¸€ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹é‡Œçš„åŒä¸€å±‚ç¥ç»ç½‘ç»œçš„ï¼Œåªæœ‰æ¯å¼ è®­ç»ƒå¡ä¸Šéƒ½è®¡ç®—å‡ºäº†åŒä¸€å±‚ç¥ç»ç½‘ç»œçš„æ¢¯åº¦ æ‰èƒ½å¯¹è¿™ä¸€å±‚ç¥ç»ç½‘ç»œçš„æ¢¯åº¦è¿›è¡Œå…¨å±€è§„çº¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š Horovodè®¾è®¡äº†ä¸€ç§æ¢¯åº¦çŠ¶æ€åå•†æœºåˆ¶ï¼Œå®ƒå°† è®¡ç®—èŠ‚ç‚¹Rank0 ä½œä¸ºcoordinatorï¼ˆmasterï¼‰ï¼Œå…¶ä½™çš„rank1-NèŠ‚ç‚¹è¿›ç¨‹ä¸ºworkerï¼Œç”±coordinatoræ¥åå•†ç¡®å®šåŒä¸€ä»½æ¢¯åº¦æ˜¯å¦åœ¨æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹ä¸Šéƒ½å·²ç»è®¡ç®—å‡ºæ¥ï¼Œåªæœ‰åœ¨æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹ä¸Šéƒ½è®¡ç®—å‡ºæ¥çš„åŒä¸€æ¢¯åº¦æ‰å¯ä»¥è¿›è¡Œå…¨å±€è§„çº¦æ“ä½œã€‚åœ¨Horovodé‡Œæ¯ä¸ªè®¡ç®—èŠ‚ç‚¹ä¸Šéƒ½æœ‰ä¸€ä¸ªmessage_queueä»¥åŠtensor_tableï¼Œè€Œåœ¨coordinatorèŠ‚ç‚¹ä¸Šé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªmessage_tableç”¨äºä¿å­˜å¯ä»¥è¿›è¡Œå…¨å±€Allreduceçš„æ¢¯åº¦è¯·æ±‚æ¬¡æ•°ä¿¡æ¯ã€‚Horovod æ§åˆ¶é¢çš„ComputeResponseList å‡½æ•°é‡Œå®ç°äº†è¿™ä¸€æ¢¯åº¦çš„åå•†è¿‡ç¨‹ï¼Œåœ¨ä»message_queueè·å–äº†æœ¬èŠ‚ç‚¹ç”Ÿæˆçš„æ¢¯åº¦ä¿¡æ¯åï¼Œcoordinatorä¼šä¸å…¶ä»–èŠ‚ç‚¹åå•†è¿™ä¸ªæ¢¯åº¦æ˜¯å¦éƒ½è®¡ç®—å‡ºæ¥ï¼Œè¿™ä¸€è¿‡ç¨‹æ˜¯é˜»å¡è¿›è¡Œçš„ï¼Œè¿™ä¸ªåå•†è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š ä¸€ä¸ªæ¢¯åº¦æ˜¯å¦èƒ½æ»¡è¶³å…¨å±€è§„çº¦AllReduceçš„åå•†è¿‡ç¨‹å¦‚ä¸‹ï¼š é¦–å…ˆï¼Œé›†ç¾¤å†…çš„æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹è¿›ç¨‹éƒ½ä¼šå¾€coordinator Rank0å‘é€ä¸€ä¸ª tensorçš„è¯·æ±‚requestï¼Œè¡¨ç¤ºè¯´æœ¬èŠ‚ç‚¹è¿™ä¸€å±‚ç¥ç»ç½‘ç»œçš„æ¢¯åº¦å·²ç»ç”Ÿæˆï¼Œæ¯”å¦‚tensor1ï¼Œæ¯ä¸ªrankéƒ½ä¼šå¾€rank0 å‘é€ä¸€ä¸ªæœ¬æ¢¯åº¦tensor1å·²ç»è®¡ç®—å‡ºæ¥çš„è¯·æ±‚ä¿¡æ¯ï¼› ç¬¬äºŒæ­¥ï¼Œcoordinatoræ¥æ”¶åˆ°èŠ‚ç‚¹çš„æ¢¯åº¦åå•†è¯·æ±‚åï¼ˆåŒ…æ‹¬æœ¬èŠ‚ç‚¹ï¼‰ï¼Œä¼šæŠŠæ”¶åˆ°çš„tensorè¯·æ±‚æ¬¡æ•°è¿›è¡Œç´¯åŠ ï¼Œå¹¶å°†è¿™ä¸ªä¿¡æ¯è®°å½•åœ¨message_tableé‡Œï¼Œå½“è¿™ä¸ªæ¢¯åº¦çš„è¯·æ±‚ä¿¡æ¯è¾¾åˆ°é›†ç¾¤å†…èŠ‚ç‚¹çš„ä¸ªæ•°æ—¶ï¼Œæ¯”å¦‚åœ¨Nä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œä¸€ä¸ªç¥ç»ç½‘ç»œå±‚çš„æ¢¯åº¦tensorçš„é€šä¿¡è¯·æ±‚å‡ºç°äº†Næ¬¡ï¼Œé‚£å°±è¡¨ç¤ºåœ¨æœ¬é›†ç¾¤é‡Œæ‰€æœ‰çš„è®¡ç®—èŠ‚ç‚¹éƒ½å·²ç»å‘å‡ºäº†å¯¹è¯¥æ¢¯åº¦tensorçš„é€šä¿¡requestï¼Œè¿™å°±è¡¨æ˜è¿™ä¸ªæ¢¯åº¦tensoræ˜¯ç¬¦åˆå…¨å±€è§„çº¦è¦æ±‚çš„ï¼Œå°±èƒ½è¿›è¡Œé›†åˆé€šä¿¡å…¨å±€è§„çº¦ï¼Œä¸ç¬¦åˆè¦æ±‚çš„æ¢¯åº¦tensorå°†ç»§ç»­ç•™åœ¨message_tableä¸­ï¼Œç›´åˆ°æ¡ä»¶ç¬¦åˆä¸ºæ­¢ï¼› ç¬¬ä¸‰æ­¥ï¼Œå†æ¥ç€coordinatorä¼šå°†æ»¡è¶³å…¨å±€allreduceè§„çº¦æ¡ä»¶çš„æ¢¯åº¦Tensoré€šè¿‡responseè¿”å›ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œå‘Šè¯‰å…¶ä»–èŠ‚ç‚¹è¿™ä¸ªæ¢¯åº¦å¯ä»¥å¯åŠ¨å…¨å±€è§„çº¦AllReduceã€‚ ç»è¿‡è¿™å‡ æ­¥çš„åå•†è¾¾æˆæ¢¯åº¦å…¨å±€çŠ¶æ€ä¸€è‡´çš„ç›®çš„ï¼Œä»è€Œé¿å…æ¢¯åº¦ä¸¢å¤±é€ æˆçš„æ¨¡å‹ç²¾åº¦ä¸è¾¾æ ‡ã€ä¸æ”¶æ•›æˆ–è€…è¿›ç¨‹æ­»é”é—®é¢˜ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:3","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3.4 æ¢¯åº¦èåˆ ç¥ç»ç½‘ç»œçš„æ¯ä¸€å±‚éƒ½èƒ½å¯¹åº”ä¸€ä¸ªæ¢¯åº¦ï¼Œå‡è®¾æ¯ç”Ÿæˆä¸€ä¸ªæ¢¯åº¦å°±è¿›è¡Œä¸€æ¬¡å…¨å±€è§„çº¦æ—¶ï¼Œ100ä¸ªæ¢¯åº¦å°±éœ€è¦è¿›è¡Œ100æ¬¡å…¨å±€é€šä¿¡100æ¬¡å…¨å±€è§„çº¦ï¼Œè€Œé€šä¿¡å¯¹è®­ç»ƒçš„æ€§èƒ½æœ‰å·¨å¤§çš„å½±å“ï¼Œè¿™ç§æƒ…å†µè¡¨ç°å‡ºæ¥çš„æ•ˆæœå°±æ˜¯åˆ†å¸ƒå¼è®­ç»ƒé›†ç¾¤çš„æ•´ä½“æ€§èƒ½æå·®ã€‚é€šè¿‡æ¢¯åº¦èåˆè®¡ç®—å°†å¤šä¸ªæ¢¯åº¦åˆæˆä¸€ä¸ªï¼Œä»è€Œå‡å°‘å…¨å±€è§„çº¦çš„æ¬¡æ•°èƒ½å¤§å¹…æé«˜åˆ†å¸ƒå¼è®­ç»ƒçš„è®­ç»ƒæ€§èƒ½ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°†Nä¸ªå°æ¢¯åº¦Tensoråˆæˆä¸¤ä¸ªï¼Œèƒ½å°†å…¨å±€é€šä¿¡çš„æ¬¡æ•°å‡å°‘åˆ°2æ¬¡ï¼Œä»è€Œå¤§å¹…æå‡è®­ç»ƒæ€§èƒ½ï¼Œåœ¨Horovodé‡Œè¿™ä¸ªåŠŸèƒ½å¯¹TensorFusionç‰¹æ€§ã€‚ä½†è¿™ä¸ªç‰¹æ€§ä¹Ÿä¼šä¸3.2é€šä¿¡éšè—ç‰¹æ€§ç›¸å†²çªï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œåˆç†çš„è°ƒè¯•ä¼˜åŒ–ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:4","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3.5 æ˜“ç”¨æ€§ ä»TensorFlowï¼ŒPyTorchç­‰æ¡†æ¶è¿ç§»åˆ°Horovodéœ€è¦æ”¹çš„çš„ä»£ç æå°‘ï¼Œhorovodæ¥å…¥æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä¸åŸç”Ÿè®­ç»ƒæ¡†æ¶å¯¹æ¯”ï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äºï¼š 1ï¼Œåˆå§‹åŒ– Horovodï¼ŒåŒ…æ‹¬æœºå™¨èµ„æºçš„åˆ†é…ï¼š horovod.init() 2ï¼Œå‘æ¯ä¸ªè¿›ç¨‹åˆ†é…XPUèµ„æºï¼Œ å…¸å‹çš„è®¾ç½®æ˜¯ 1 ä¸ª XPU ä¸€ä¸ªè¿›ç¨‹ï¼Œå³è®¾ç½® local rankï¼š config.gpu_options.visible_device_list = str(hvd.local_rank()) 3ï¼Œå¯¹åŸä¼˜åŒ–å™¨è¿›è¡ŒåŒ…è£…ï¼Œåˆ†å¸ƒå¼ä¼˜åŒ–å™¨å°†æ¢¯åº¦è®¡ç®—å§”æ‰˜ç»™åŸå§‹ä¼˜åŒ–å™¨ï¼Œä½¿ç”¨allreduceæˆ–allgatherå¯¹æ¢¯åº¦æ±‚å¹³å‡ï¼Œç„¶ååº”ç”¨è¿™äº›å¹³å‡æ¢¯åº¦ï¼š opt=hvd.DistributedOptimizer(opt) 4ï¼Œ å°†åˆå§‹åŒ–å‚æ•°ä»rank 0å¹¿æ’­ç»™å…¶ä»–è¿›ç¨‹(rankè¡¨ç¤ºè¿›ç¨‹åºå·)ï¼Œå®ç°å‚æ•°çš„åˆå§‹åŒ–ï¼Œç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹çš„åˆå§‹åŒ–å‚æ•°ä¿æŒä¸€è‡´ï¼š hvd.BroadcastGlobalVariablesHook(0)ï¼š ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:5","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3.6 å¯ç§»æ¤ å¯ç§»æ¤é—®é¢˜ï¼ŒHorovodé€šè¿‡ OPå’ŒOpKernelsçš„æ’ä»¶åŒ–æœºåˆ¶æ”¯æŒå¤šç§å¤šæ ·çš„æ·±åº¦å­¦ä¹ è®­ç»ƒæ¡†æ¶ï¼Œæ¯”å¦‚ TensorFlowã€PyTorchã€MxNetç­‰ã€‚åŸºäºçš„opKernelsçš„å¯å®šåˆ¶åŒ–æœºåˆ¶ï¼ŒHorovodè‡ªå®šä¹‰äº†Opç„¶åhackäº†æ•°æ®é“¾è·¯å±‚çš„é€šä¿¡åè®®ï¼Œä»è€Œè¾¾åˆ°åœ¨å¤šä¸ªæ·±åº¦å­¦ä¹ æ¡†æ¶ä¹‹é—´å¯ç§»æ¤ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:6","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"3.7 å¯é æ€§é—®é¢˜ åœ¨é›†ç¾¤è®­ç»ƒçš„è¿‡ç¨‹ä¸­ç½‘ç»œæ—¶ä¸å¯é çš„ã€è®¡ç®—å¡æ˜¯ä¼šå‡ºæ•…éšœçš„ã€æœåŠ¡å™¨æ˜¯ä¼šå‡ºæ•…éšœçš„çš„ï¼Œè¿™äº›å› ç´ é€ æˆäº†åˆ†å¸ƒå¼è®­ç»ƒè¿‡ç¨‹ä¸­éœ€è¦è€ƒè™‘è®­ç»ƒé›†ç¾¤çš„å¯é æ€§ï¼ŒHorovodç»“åˆé›†åˆé€šä¿¡åº“Glooå¯¹å¤–æä¾›äº†å¼¹æ€§è®­ç»ƒçš„ç‰¹æ€§ï¼Œä½†å¯é æ€§ä¸åªæ˜¯å¼¹æ€§è®­ç»ƒå°±èƒ½å®Œå…¨è§£å†³çš„ï¼Œå®ƒè¿˜æœ‰æ›´å¤šçš„ç³»ç»Ÿçº§çš„é—®é¢˜éœ€è¦è§£å†³ï¼Œå› æ­¤å¯é æ€§é—®é¢˜ç•™ç€ä¸€ä¸ªåç»­ç ”ç©¶é—®é¢˜ï¼Œä¸åœ¨æœ¬æ–‡é˜è¿°ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:3:7","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"4. ä¼˜ç‚¹ç¼ºç‚¹ã€æ”¹è¿›ç‚¹ ç®€å•æ˜“ç”¨ã€å¯ç§»æ¤ï¼Œå¹¶ä¸”æ”¯æŒå¼¹æ€§è®­ç»ƒæå‡äº†å¯é æ€§ï¼› ä¸ä¾èµ–äºæŸä¸ªæ¡†æ¶ï¼Œå…¶é€šè¿‡MPIæœºåˆ¶ç‹¬ç«‹å»ºç«‹äº†ä¸€å¥—åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡ç³»ç»Ÿï¼› å°†è®¡ç®—ä¸é€šä¿¡åˆ†ç¦»ï¼Œå®Œæˆäº†allreduceã€allgatherç­‰é›†åˆé€šä¿¡å·¥ä½œï¼Œå®ç°äº†è§„æ¨¡å¯æ‰©å±•ï¼› å·§å¦™çš„é€šè¿‡é—´éš”è½®è¯¢çš„æœºåˆ¶æ”¯æŒé€šä¿¡æ—¶é—´éšè—ï¼Œå¹¶ä¸”å®Œæˆäº†æ¢¯åº¦åå•†ä»è€Œä¿è¯è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹æ˜¯å¯æ”¶æ•›ã€ç²¾åº¦è¾¾æ ‡çš„ï¼› æ”¯æŒæ¢¯åº¦èåˆï¼Œæ”¯æŒå°†å°çš„tensoråˆå¹¶æˆä¸€ä¸ªå¤§çš„tensorå†è¿›è¡Œé€šä¿¡ä¼ é€’ï¼Œä»è€Œå‡å°é€šä¿¡æ“ä½œçš„é¢å¤–å¼€é”€ï¼› è‡ªå¸¦å‹ç¼©ç®—æ³•ï¼Œå¯ä»¥å‡å°‘é›†åˆé€šä¿¡çš„æ•°æ®é‡ï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:4:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"5. æ€è€ƒé¢˜ é—®é¢˜1ï¼Œå°†é€šä¿¡æ—¶é—´éšè—åœ¨è®¡ç®—æ—¶é—´å†…èƒ½æœ‰åŠ©äºæå‡è®­ç»ƒç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ï¼Œä½†è¿™ä¸€ç‰¹æ€§æ˜¯é’ˆå¯¹SIMTèŠ¯ç‰‡çš„æ¶æ„çš„è¿›è¡Œæ€§èƒ½ä¼˜åŒ–çš„ï¼Œå¦‚æœDSAèŠ¯ç‰‡ä¸èƒ½æ”¯æŒè¿™ä¸€ç‰¹æ€§ï¼Œé‚£åº”è¯¥å¦‚ä½•ä¼˜åŒ–Horovodä»è€Œå¤§å¹…æå‡æ•´ä½“çš„è®­ç»ƒæ€§èƒ½ï¼Ÿï¼ˆå¯ä»¥ç¡®å®šè¿™ä¸€å®šæ˜¯èƒ½åšåˆ°çš„ï¼‰ é—®é¢˜2ï¼Œæ¢¯åº¦åå•†çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæ¢¯åº¦éƒ½éœ€è¦åå•†ä¸€æ¬¡ï¼Œåœ¨æ¢¯åº¦è¾ƒå¤šï¼Œç½‘ç»œè§„æ¨¡è¾ƒå¤§çš„é›†ç¾¤é‡Œï¼Œè¿™ä¸€ç‰¹æ€§ä¹Ÿä¼šå½±å“æ€§èƒ½ï¼Œå¦‚ä½•è¿›è¡Œä¼˜åŒ–æ‰èƒ½æœ‰æ•ˆæå‡Horovodæ€§èƒ½ï¼Ÿ\\ é—®é¢˜3ï¼Œä¸åŒçš„æ¨¡å‹å¯¹æ¢¯åº¦èåˆæœ‰ä¸åŒçš„è¦æ±‚ï¼Œé‚£ä¹ˆæ¢¯åº¦èåˆéœ€è¦èåˆåˆ°ä»€ä¹ˆç¨‹åº¦æ‰èƒ½æœ‰æ•ˆæå‡æ€§èƒ½ï¼Ÿ å¯ä»¥è¯´æ˜çš„æ˜¯ï¼Œè¿™ä¸‰ä¸ªé—®é¢˜è§£å†³åè¿˜èƒ½ç»§ç»­æå‡Horovodåœ¨DSAæ¶æ„èŠ¯ç‰‡ä¸Šçš„æ•´ä½“çš„åˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿçº§æ€§èƒ½ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:5:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"6. å°ç»“ æœ¬æ–‡ä»‹ç»äº†åˆ†å¸ƒå¼è®­ç»ƒçš„åŸºç¡€çŸ¥è¯†ä»¥åŠå‰–æäº†åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶æ‰€é¢ä¸´çš„å‡ ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œä»¥Horovodä¸ºä¾‹ä»è®¡ç®—ä¸é€šä¿¡è§£è€¦ã€é€šä¿¡éšè—ã€æ¢¯åº¦åå•†ã€æ¢¯åº¦èåˆã€æ˜“ç”¨æ€§ä»¥åŠå¯ç§»æ¤è¿™å‡ ä¸ªè§’åº¦å€’æ¨äº†åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶èƒŒåçš„è®¾è®¡æ„å›¾ï¼Œä»è€Œå¸®åŠ©å¤§å®¶èƒ½æ›´å¥½çš„ç†è§£åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶ã€‚ ref: [1] https://www.changping.me [2] https://horovod.ai [3] https://www.cnblogs.com/rossiXYZ/p/14910959.html [4] https://zhuanlan.zhihu.com/p/374575049 ","date":"2023-07-13","objectID":"/posts/distributedtraining_5/:6:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ - ç¬¬5ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒæœåŠ¡æ¡†æ¶åŸºæœ¬åŸç†ä¸æ¶æ„è§£æ","uri":"/posts/distributedtraining_5/"},{"categories":["Distributed Computing"],"content":"ref: [1]. https://www.changping.me/2022/04/10/ai-distributed-training-coll-topo/ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:0:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"1. æ¦‚è¿° åœ¨æ·±åº¦å­¦ä¹ çš„åˆ†å¸ƒå¼è®­ç»ƒé‡Œï¼ŒRing AllReduceæ‹“æ‰‘ç®—æ³•å¥ å®šäº†æ•°æ®å¹¶è¡Œè®­ç»ƒçš„é›†åˆé€šä¿¡åŸºç¡€ï¼Œä½†é›†åˆé€šä¿¡æ‹“æ‰‘ä¸åªæ˜¯ä»…æœ‰Ring Allreduceï¼Œç»å…¸çš„é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•è¿˜æœ‰2D-Ring/Hierarchical Ring AllReduceï¼Œhalving and doubling AllReduceï¼ŒButterfly AllReduceï¼Œ2D-Torus AllReduceï¼Œ2D-Mesh AllReduceï¼Œdouble binary treeç­‰ã€‚æ‹“æ‰‘ç®—æ³•å¾ˆå¤šï¼Œä½†ä¹Ÿä¸æ˜¯æ‰€æœ‰çš„æ‹“æ‰‘ç®—æ³•éƒ½èƒ½æ»¡è¶³å®é™…çš„ç”Ÿäº§éœ€æ±‚çš„ï¼Œè¿™éœ€è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€å…·ä½“åœºæ™¯å…·ä½“è®¾è®¡ã€‚ é›†åˆé€šä¿¡çš„éš¾ç‚¹åœ¨äºéœ€è¦åœ¨å›ºå®šçš„ç½‘ç»œäº’è”ç»“æ„çš„çº¦æŸä¸‹è¿›è¡Œé«˜æ•ˆçš„é€šä¿¡ï¼Œé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•ä¸ç‰©ç†ç½‘ç»œäº’è”ç»“æ„å¼ºç›¸å…³ï¼Œä¸ºäº†å‘æŒ¥ç½‘ç»œé€šä¿¡çš„æ•ˆç‡ï¼Œä¹Ÿä¸æ˜¯è¯´å°±èƒ½éšæ„å‘æŒ¥é€šä¿¡æ‹“æ‰‘ç®—æ³•ï¼Œæ›´å¤šçš„æ˜¯åœ¨æ•ˆç‡ä¸æˆæœ¬ã€å¸¦å®½ä¸æ—¶å»¶ã€å®¢æˆ·è¦æ±‚ä¸è´¨é‡ã€åˆ›æ–°ä¸äº§å“åŒ–ç­‰ä¹‹é—´è¿›è¡Œåˆç†å–èˆã€‚ å……åˆ†å‘æŒ¥è®­ç»ƒåŠ é€Ÿå¡ä¸ç½‘ç»œçš„æ•ˆç‡æ˜¯é€šä¿¡æ‹“æ‰‘ç®—æ³•çš„åˆè¡·ï¼Œä½†é™¤äº†è®¾è®¡é«˜æ•ˆçš„é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•å¤–ï¼Œåˆ†å¸ƒå¼è®­ç»ƒä¸­éœ€è¦è§£å†³çš„é€šä¿¡éš¾é¢˜è¿˜æœ‰ï¼šç½‘ç»œæ˜¯å¼‚æ„çš„ï¼Œç½‘ç»œå¸¦å®½æ˜¯æœ‰é™çš„ï¼Œä¸»æœºå†…PCIE SWITCHæ˜¯æœ‰äº²å’Œæ€§çš„ï¼Œç½‘ç»œæ˜¯ä¼šå‡ºæ•…éšœçš„ï¼ŒèŠ‚ç‚¹æ˜¯æœ‰è½åè€…æ•ˆåº”çš„ï¼Œè®¾å¤‡æˆæœ¬æ˜¯éœ€è¦è€ƒè™‘çš„ï¼Œæ•°æ®ä¸­å¿ƒæ˜¯æœ‰éƒ¨ç½²çº¦æŸçš„ï¼Œç”¨æˆ·æ˜¯æœ‰å¤šç§Ÿæˆ·è¦æ±‚çš„ç­‰ï¼Œè¿™äº›å±äºäº§å“åŒ–çš„èŒƒç•´ä¸åœ¨æœ¬æ–‡é˜è¿°ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:1:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"2. ç½‘ç»œäº’è”ç»“æ„ åˆ†å¸ƒå¼è®­ç»ƒçš„é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•ä¸ç‰©ç†çš„ç½‘ç»œäº’è”ç»“æ„å¼ºç›¸å…³ï¼Œè€Œç½‘ç»œäº’è”ç»“æ„åˆå¤šç§å¤šæ ·ï¼Œå› æ­¤ï¼Œæœ¬æ–‡éœ€è¦å…ˆå¯¹ç½‘ç»œäº’è”ç»“æ„è¿›è¡Œçº¦æŸï¼Œä¾æ®ç”Ÿäº§ä¸­å¸¸ç”¨çš„ã€æ—¢å®šçš„äº’è”ç»“æ„è®¾è®¡é›†åˆé€šä¿¡ç®—æ³•ï¼Œç½‘ç»œäº’è”ç»“æ„æè¿°å¦‚ä¸‹ï¼š ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:2:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"2.1 æœåŠ¡å†…ç½‘ç»œäº’è”ç»“æ„ ä»¥ä¸€å°é›†æˆäº†8å¼ è®­ç»ƒåŠ é€Ÿå¡çš„æœåŠ¡å™¨ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾: è¿™å°æœåŠ¡å™¨å†…çš„ç½‘ç»œäº’è”æƒ…å†µå¦‚ä¸‹ï¼š 1ï¼‰åœ¨è¿™å°æœåŠ¡å™¨å†…ï¼Œ8å¼ è®­ç»ƒåŠ é€Ÿå¡é€šè¿‡ç§æœ‰åè®®è¿æ¥ç»„æˆå¤šä¸ªä¸»æœºå†…çš„ç‰©ç†ringç¯ï¼Œä¸”å¯åŒå·¥ï¼› 2ï¼‰æœåŠ¡æœŸå†…ç½‘ç»œå¸¦å®½ NVLINK\u003ePCIE switch \u003e QPIï¼› 3ï¼‰åŠ é€Ÿå¡1ã€2ã€3ã€4ä¹‹é—´ä¸¤ä¸¤å…¨äº’è”ï¼ŒåŠ é€Ÿå¡5,ã€6ã€7ã€8ä¹‹é—´ä¸¤ä¸¤å…¨äº’è”ï¼Œ2ã€5ã€3ã€8ä¹‹é—´éå…¨äº’è”ï¼› 4ï¼‰åŠ é€Ÿå¡1ã€4ä¸ç½‘å¡NIC1 æŒ‚åœ¨åŒä¸€ä¸ªPCIE Switchä¸Šï¼Œå…·æœ‰äº²å’Œæ€§ï¼ŒåŠ é€Ÿå¡2ã€3ä¸ç½‘å¡NIC2æŒ‚åœ¨åŒä¸€ä¸ªPCIE Switchä¸Šï¼Œå…·æœ‰äº²å’Œæ€§ï¼Œè€ŒPCIE Switchä¹‹é—´ä¹Ÿäº’è”ï¼Œå› æ­¤ åŠ é€Ÿå¡ 1ã€2ã€3ã€4 ä¸ç½‘å¡NIC 1ã€NIC2å…·å¤‡äº²å’Œæ€§ï¼Œå®ƒä»¬æ— éœ€é€šè¿‡CPUçš„QPIçº¿è¿›è¡Œé€šä¿¡ï¼› 5ï¼‰åŠ é€Ÿå¡5ã€8ä¸ç½‘å¡NIC3 æŒ‚åœ¨åŒä¸€ä¸ªPCIE Switchä¸Šï¼Œå…·æœ‰äº²å’Œæ€§ï¼ŒåŠ é€Ÿå¡6ã€7ä¸ç½‘å¡NIC4æŒ‚åœ¨åŒä¸€ä¸ªPCIE Switchä¸Šï¼Œå…·æœ‰äº²å’Œæ€§ï¼Œè€ŒPCIE Switchä¹‹é—´ä¹Ÿäº’è”çš„ï¼Œå› æ­¤ åŠ é€Ÿå¡ 5ã€6ã€7ã€8 ä¸ç½‘å¡NIC 3ã€NIC4å…·å¤‡äº²å’Œæ€§ï¼Œå®ƒä»¬ä¹Ÿæ— éœ€é€šè¿‡CPUçš„QPIçº¿è¿›è¡Œé€šä¿¡ï¼› 6ï¼‰ç½‘å¡å¯æ ¹æ®éœ€è¦ é€‰æ‹© 1å¼ ã€2å¼ ã€4å¼ æˆ–8å¼ ï¼Œæœ€å¤šå¯ä»¥é‡‡ç”¨8å¼ RDMAç‰©ç†ç½‘å¡ï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:2:1","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"2.2 æœåŠ¡å™¨é—´ç½‘ç»œäº’è”ç»“æ„ ä»¥ä¸€ä¸ªè®­ç»ƒåŠ é€Ÿå¡é›†ç¾¤ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„CLOSäº’è”æ¶æ„æ–¹æ¡ˆ: åœ¨è¿™ä¸ªé›†ç¾¤å†…ï¼Œå…¶ç½‘ç»œäº’è”æƒ…å†µå¦‚ä¸‹ï¼š 1ï¼‰é›†ç¾¤å†…æ¯å°æœåŠ¡å™¨è‡ªå¸¦é«˜é€ŸRDMAç½‘å¡ï¼Œé€šè¿‡RDMA äº¤æ¢æœºåœ¨ä¸»æœºé—´ä¸¤ä¸¤å…¨äº’è”ï¼› 2ï¼‰äº¤æ¢æœºç»„æˆCLOSæ¶æ„ï¼Œåˆ†ä¸ºSpineä¸Leafäº¤æ¢æœºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯æ›´ä¸ºé«˜ç«¯çš„Spineã€Leafåˆä¸€çš„é«˜ç«¯äº¤æ¢æœºï¼› 3ï¼‰RDMAç½‘å¡ä¸Leafäº¤æ¢æœºäº’è”ï¼Œæ¯å°æœåŠ¡å™¨çš„RDMAç½‘å¡æ•°é‡æ ¹æ®æˆæœ¬ä¸æ€§èƒ½è€ƒè™‘ï¼Œå¯ä»¥æ˜¯1å¼ ã€2å¼ +æ¯å¡è™šæ‹ŸåŒ–4å¡ã€4å¼ +æ¯å¡è™šæ‹ŸåŒ–2å¡æˆ–8å¼ ï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:2:2","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"2.3 é«˜é€Ÿç½‘å¡åŠå…¶è™šæ‹ŸåŒ–ä½¿ç”¨ RDMAç½‘å¡æ˜¯åŒå·¥çš„ä¸”å¯è™šæ‹ŸåŒ–ï¼Œåœ¨è¿™é‡Œæ¯å°æœåŠ¡å™¨å¯æ ¹æ®æˆæœ¬ã€æ€§èƒ½çš„è€ƒè™‘é€‰ç”¨1å¼ ã€2å¼ ã€4å¼ æˆ–8å¼ ï¼Œä¸”åœ¨æœåŠ¡å™¨å†…å·¦å³å¯¹ç§°ï¼Œå¦‚ä¸‹å›¾ï¼š ä»æˆæœ¬ä¸æ•ˆç‡çš„è§’åº¦è€ƒè™‘ï¼Œæ¯å°æœåŠ¡å™¨å†…çš„ç½‘å¡å¯ä»¥æ˜¯ä»¥ä¸‹é…ç½®ï¼š 1å¼ ç‰©ç†RDMAç½‘å¡ï¼Œä¸è¿›è¡Œè™šæ‹ŸåŒ–ï¼Œç›´æ¥ç”¨åŒå·¥é€šé“ï¼Œé€‚åˆé€‰ç”¨2D/Hierarchical Ringæ‹“æ‰‘ç®—æ³•ï¼› 2å¼ ç‰©ç†RDMAç½‘å¡ï¼Œå¯ä»¥æ¯å¼ è™šæ‹ŸåŒ–å‡º4ä¸ªè™šæ‹Ÿç½‘å¡ï¼Œ2X4å…±8å¡ï¼Œé€‚åˆé€‰ç”¨2D-MESHã€2D-Torusæ‹“æ‰‘ç®—æ³•ï¼› 4å¼ ç‰©ç†RDMAç½‘å¡ï¼Œå¯æ¯å¼ è™šæ‹ŸåŒ–å‡º2ä¸ªè™šæ‹Ÿç½‘å¡ï¼Œ4X2å…±8å¡ï¼Œé€‚åˆé€‰ç”¨2D-MESHã€2D-Torusæ‹“æ‰‘ç®—æ³•ï¼› 8å¼ ç‰©ç†RDMAç½‘å¡ï¼Œä¸éœ€è¦è™šæ‹ŸåŒ–ï¼Œç›´æ¥é‡‡ç”¨åŒå·¥é€šé“ï¼Œé€‚åˆé€‰ç”¨2D-MESHã€2D-Torusæ‹“æ‰‘ç®—æ³•ï¼› åœ¨å®é™…çš„åˆ†å¸ƒå¼è®­ç»ƒç”Ÿäº§é›†ç¾¤ä¸­ï¼Œé›†åˆé€šä¿¡ç®—æ³•ä¹Ÿå¯ä»¥ç»“åˆRDMAç½‘å¡ç«¯å£ï¼ˆåŒ…æ‹¬è™šæ‹ŸåŒ–çš„ï¼‰çš„å…·ä½“ä¸ªæ•°è¿›è¡Œè®¾è®¡ï¼Œè€Œæ‹“æ‰‘ç®—æ³•çš„é€‰æ‹©ä¹Ÿæ˜¯éœ€è¦æ ¹æ®æˆæœ¬ä¸æ•ˆç‡çš„è¿›è¡Œåˆç†å–èˆçš„ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:2:3","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"2.4 ç½‘ç»œç»“æ„æŠ½è±¡ ç½‘ç»œæ ¹æ®è¿æ¥æƒ…å†µå¯åˆ†ä¸ºringç»“æ„ã€meshç»“æ„ã€ torus ç»“æ„ä»¥åŠtreeç»“æ„ï¼ŒåŸºäºä»¥ä¸Šçš„æœåŠ¡å™¨å†…ç½‘ç»œäº’è”ç»“æ„ã€æœåŠ¡å™¨é—´ç½‘ç»œäº’è”ç»“æ„ä»¥åŠç½‘å¡çš„å…·ä½“æƒ…å†µï¼Œå¯ä»¥æŠ½è±¡å‡ºä¸€ä¸ªç½‘ç»œç»“æ„ï¼Œå³äºŒç»´ç¯é¢ç½‘ç»œï¼šTorus ç½‘ç»œï¼Œè€ŒTorusç½‘ç»œæ¨ªå‘ä¸çºµå‘éƒ½å¯ä»¥çœ‹æˆringç»“æ„ï¼Œå› æ­¤ç›¸åº”çš„æ‹“æ‰‘ç®—æ³•åŸºæœ¬ä¸Šå°±æ˜¯Ring-Based é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•ã€‚å¦‚ä¸‹å›¾ï¼š TORUSç½‘ç»œæ˜¯å¸¸è§çš„å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—æœºçš„äº’è¿ç½‘ç»œï¼Œåœ¨ä¸Šå›¾è¿™ä¸ªTorusç½‘ç»œé‡Œï¼š 1ï¼‰æ¨ªå‘ï¼šä¸»æœºå†…8å¡é€šè¿‡ç§æœ‰è¿æ¥åè®®ï¼Œæ¯”å¦‚CXL/CCIX/NVLINKç­‰ç»„æˆä¸€ä¸ªæˆ–å¤šä¸ªringï¼Œå¦‚ä¸Šå›¾çš„é»„è‰²è¿æ¥çº¿ï¼Œæ¨ªå‘8å¡ç»„æˆäºŒç»´Torusçš„æ¨ªå‘ç»´åº¦ï¼› 2ï¼‰çºµå‘ï¼šä¸»æœºé—´é€šè¿‡RDMAï¼ˆRoCE/IBï¼‰ç½‘å¡ã€äº¤æ¢æœºäº’è”ç»„æˆ1åˆ°8ä¸ªringï¼Œå¦‚ä¸Šå›¾çš„çº¢è‰²è¿æ¥çº¿ï¼Œçºµå‘é‡‡ç”¨RDMAç½‘å¡ç»„æˆäºŒç»´Torusçš„çºµå‘ç»´åº¦ï¼› 3ï¼‰æ ¹æ®ç‰©ç†ç½‘å¡æ•°é‡ã€ç½‘å¡è™šæ‹ŸåŒ–ä»¥åŠPCIe Switchäº²å’Œæ€§çš„å®é™…æƒ…å†µï¼š æ¯å°æœåŠ¡å™¨1å¼ ç½‘å¡å¯ç»„æˆä¸»æœºé—´ä¸€ä¸ªringï¼Œç½‘å¡ä¸XPU0 æŒ‚è½½åŒä¸€ä¸ªPCIE switchä¸Šï¼Œä¾æ®æœ€ä½³å®è·µåŸåˆ™ï¼ˆæ¯”å¦‚æ€§èƒ½ã€æˆæœ¬ã€å®¢æˆ·è¦æ±‚ç­‰ï¼‰ï¼Œé€‚åˆé€‰ç”¨2D/Hierarchical Ringæ‹“æ‰‘ç®—æ³•ï¼› ä¸¤å¼ ç½‘å¡å¯ç»„æˆä¸»æœºé—´ä¸¤ä¸ªringæˆ–è€…ç»è¿‡è™šæ‹ŸåŒ–ç»„æˆ8ä¸ªringï¼Œæ ¹æ®PCIE SWITCHäº²å’Œæ€§åŸåˆ™ï¼Œä¸€å¼ ç½‘å¡ä¸XPU0æŒ‚åœ¨åŒä¸€ä¸ªpcie switchï¼Œå¦ä¸€å¼ ç½‘å¡ä¸XPU4æŒ‚åœ¨åŒä¸€ä¸ªpcie switchï¼Œä¾æ®æœ€ä½³å®è·µåŸåˆ™ï¼ˆæ¯”å¦‚æ€§èƒ½ã€æˆæœ¬ã€å®¢æˆ·è¦æ±‚ç­‰ï¼‰ï¼Œé€‚åˆé€‰ç”¨2D-MESHã€2D-Torusæ‹“æ‰‘ç®—æ³•ï¼› 4å¼ ç½‘å¡ã€8å¼ ç½‘å¡ä»¥æ­¤ç±»æ¨ï¼Œä¹Ÿæ˜¯æ ¹æ®PCIE SWITCHäº²å’Œæ€§åŸåˆ™è¿›è¡Œè¿æ¥ï¼Œä¸»æœºé—´RDMAç‰©ç†ç½‘å¡ä¸å¤Ÿå°±è™šæ‹ŸåŒ–ç½‘å£æ¥å‡‘ï¼Œå¹¶ä¸”è¦æœåŠ¡å™¨å†…çš„RDMAå‡ºå£ç«¯å£æ•°å·¦å³å¹³è¡¡ï¼Œä¾æ®æœ€ä½³å®è·µåŸåˆ™ï¼ˆæ¯”å¦‚æ€§èƒ½ã€æˆæœ¬ã€å®¢æˆ·è¦æ±‚ç­‰ï¼‰ï¼Œä¹Ÿæ˜¯é€‚åˆé€‰ç”¨2D-MESHã€2D-Torusæ‹“æ‰‘ç®—æ³•ï¼Œè¿™æ ·æ‰èƒ½å‘æŒ¥å¤šå¼ ç½‘å¡ä»¥åŠXPUçš„ç®—åŠ›ä¼˜åŠ¿ã€‚ 4ï¼‰æ›´å¤æ‚çš„Torusç½‘ç»œç»„åˆå…³ç³»è¿˜å¯ä»¥å¦‚ä¸‹å›¾ï¼Œä»æ¨ªå‘åªæœ‰ ä¸»æœºå†…çš„8å¡çºµå‘åªæœ‰ä¸»æœºé—´çš„RDMAäº’è”ï¼Œæ‰©å±•åˆ° æ¨ªå‘ä¸çºµå‘ ä¸»æœºå†…äº’è”ä¸ä¸»æœºé—´äº’è”æ··åˆï¼Œä½†æœ¬æ–‡ä»…é™äºåœ¨æ¨ªå‘8å¡çš„äºŒç»´Torusç½‘ç»œä¸‹è¿›è¡Œæ‹“æ‰‘ç®—æ³•é€‰æ‹©ä¸è®¾è®¡ï¼Œå› æ­¤ä¸å±•å¼€è®²è¿°ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:2:4","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"3. å¸¸ç”¨çš„é€šä¿¡æ‹“æ‰‘ç®—æ³• Torus ç½‘ç»œç»“æ„å¯ä»¥è§£è¯»æœ¬æ–‡ä¸­çš„ç‰©ç†ç½‘ç»œäº’è”ç»“æ„çš„ä¸€åˆ‡ï¼Œè€ŒTorusç½‘ç»œçš„æ¨ªå‘ä¸çºµå‘éƒ½å¯ä»¥çœ‹æˆringç»“æ„ï¼Œå› æ­¤ï¼Œç›¸åº”çš„é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•éƒ½å¯ä»¥çœ‹æˆæ˜¯Ring-Based é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:3:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"3.1 Ring AllReduce åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼ŒRing æ˜¯æœ€åŸºç¡€çš„äº’è”ç»“æ„ï¼Œåœ¨æœ¬æ–‡ä¸­Ring AllReduceçš„åº”ç”¨åœºæ™¯æ˜¯åœ¨æœåŠ¡å™¨å†…å°†8å¼ åŠ é€Ÿå¡ç»„ç¯é€šä¿¡è¿›è¡Œåˆ†å¸ƒå¼è®­ç»ƒã€‚æ¯ä¸ªXPUéƒ½æ˜¯è¿™ä¸ªä¸»æœºå†…äº’è”ç¯ä¸Šçš„ä¸€ä¸ªè®¡ç®—èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå‰å‘å’Œä¸€ä¸ªåå‘ï¼Œå®ƒåªä¼šå‘å®ƒçš„å‰å‘æ¥æ”¶æ•°æ®ï¼Œå¹¶å‘å®ƒçš„å³å‘å‘é€æ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ8å¼ XPU é€šè¿‡ä¸»æœºå†…çš„ç§æœ‰äº’è”ç½‘ç»œç»„æˆä¸€ä¸ªç¯ï¼Œå½“ç„¶å› ä¸ºè¿™äº›é€šä¿¡ç½‘ç»œæ˜¯åŒå·¥çš„ï¼Œè¿™8å¼ XPUè®­ç»ƒåŠ é€Ÿå¡ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯é€šè¿‡å¤šä¸ªé€»è¾‘ç¯äº’è”èµ·æ¥çš„ï¼ŒåŒæ—¶ç¼ºç‚¹æ˜¯ï¼Œå¦‚æœè¿™ä¸ªringå¤ªå¤§ï¼ŒRing Allreduceçš„æ•ˆç‡ä¹Ÿä¼šå˜å¾—å¾ˆä½ã€‚ Ring Allreduce æœ‰ä¸¤ç§ç»„åˆå®ç°ç­–ç•¥ï¼š 1ï¼‰å…ˆReduceåbroadcastï¼› 2ï¼‰å…ˆScatterReduceåAllGatherï¼Œè¿™ä¸¤ä¸ªç­–ç•¥æ‰§è¡Œåéƒ½ä¼šè®©æ¯ä¸ªXPUèŠ‚ç‚¹å¾—åˆ°ä¸€æ ·çš„å¹³å‡æ¢¯åº¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 3.1.1 Reduce +broadcast åœ¨Reduce + broadcasté‡Œï¼Œreduceå…ˆå°†8å¼ å¡çš„æ¢¯åº¦reduce sumåˆ°masterèŠ‚ç‚¹ XPU0 ä¸Šï¼Œå†é€šè¿‡broadcastå°†è¿™ä¸ªæ€»çš„å¹³å‡æ¢¯åº¦å¤åˆ¶ç»™å…¶ä»–XPUï¼Œå¦‚ä¸‹å›¾ï¼š Reduce + broadcastè¿™ç§ç­–ç•¥æœ‰å‡ ä¸ªæ¯”è¾ƒå¤§çš„ç¼ºç‚¹ï¼š 1ï¼‰8å¼ å¡çš„æ•°æ®éƒ½reduce sumåˆ°ä¸€å¼ å¡ï¼Œå‡è®¾æ¯å¼ å¡çš„æ¢¯åº¦æ˜¯100MBï¼Œ8å¼ å¡å°±æ˜¯800MBï¼Œè¿™å¯èƒ½å­˜åœ¨XPU 0è®¡ç®—å¾ˆä¹…ï¼Œè€Œå…¶ä»–7å¼ å¡ç©ºé—²çš„æƒ…å†µå­˜åœ¨ï¼Œæ•´ä½“æ•ˆç‡ä¸é«˜ï¼› 2ï¼‰XPU0 çš„ç½‘ç»œå¸¦å®½å¯èƒ½ä¼šæˆä¸ºç“¶é¢ˆï¼Œ8å¼ å¡çš„æ•°æ®éƒ½åªèƒ½é€šè¿‡XPU0çš„äº’è”ç½‘ç»œè¿›è¡Œreduceå’Œbroadcastï¼Œåœ¨æ•°æ®é‡æ¯”è¾ƒå¤§çš„åœºæ™¯ XPU0çš„å¸¦å®½æˆä¸ºç“¶é¢ˆï¼› 3ï¼‰8å¼ XPUä¸éƒ½æ˜¯ä¸¤ä¸¤å…¨äº’è”çš„ï¼Œå› æ­¤ï¼Œè¦æŠŠ8å¼ å¡çš„æ•°æ®ä¸€æ¬¡Reduceæˆ–broadcastï¼Œè¿™ä¸€ç‚¹å—é™äºç½‘ç»œäº’è”æ¡ä»¶åšä¸åˆ°ï¼Œé‚£ä¹ˆå°±éœ€è¦é‡‡ç”¨ ringæˆ–treeçš„ç­–ç•¥è¿›è¡Œreduceæˆ–broadcastï¼Œè¿™æ ·æ•ˆç‡ä¹Ÿä¸é«˜ã€‚ 3.1.2 ScatterReduce + AllGather Ring AllReduce çš„Ring ScatterReduce + Ring AllGatherç­–ç•¥ç»„åˆé‡Œï¼Œæ¯ä¸ª XPUåªä¼šä»å‰å‘æ¥å—æ•°æ®ï¼Œå¹¶å‘é€æ•°æ®ç»™åå‘ï¼Œå…¶ç®—æ³•ä¸»è¦åˆ†ä¸ºï¼š ScatterReduceï¼šè¿™ä¸€æ­¥ä¼šå…ˆscatteræ‹†åˆ†æ•°æ®å—å†è¿›è¡Œreduceï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œå®Œæ¯•åï¼Œæ¯å¼ XPUéƒ½ä¼šåŒ…æ‹¬ä¸€ä¸ªå®Œæ•´çš„ç»è¿‡èåˆçš„åŒç»´æ¢¯åº¦ï¼› AllGatherï¼šè¿™ä¸€æ­¥ä¼šè¿›è¡Œå…¨å±€GatheråŒæ­¥ï¼Œæœ€åæ‰€æœ‰ XPUéƒ½ä¼šå¾—åˆ°å®Œæ•´çš„å¤§çš„æ•´ä¸ªæ¢¯åº¦ï¼› Ring ScatterReduce + Ring AllGatheræ˜¯æ•ˆç‡æ¯”è¾ƒé«˜çš„ Ring AllReduce ç»„åˆç­–ç•¥ï¼Œè¿™ä¸ªç­–ç•¥è€ƒè™‘åˆ°äº†XPUä¸Šçš„æ¢¯åº¦å¯èƒ½å¾ˆå¤§çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸€ä¸ªæ¢¯åº¦æœ‰400MBï¼Œåœ¨scatterreduceé˜¶æ®µå°±ä¼šå…ˆè¢«æ‹†åˆ†æˆ ringä¸ŠXPUä¸ªæ•°ä»½ï¼Œæ¯”å¦‚ä¸»æœºå†…XPUä¸ªæ•°ç­‰äº8ï¼Œé‚£ä¹ˆ è¿™400MB å°±ä¼šè¢« æ‹†åˆ†æˆ8ä»½ï¼Œæ¯ä»½50MBï¼Œä»è€Œå‡å°‘äº†åŠ é€Ÿå¡çš„è®¡ç®—é‡ä»¥åŠèŠ‚çº¦å¸¦å®½ã€‚æ­¤å¤–ï¼ŒscatterReduceé€šè¿‡å°†æ•°æ®æ‹†åˆ†æˆå°å—ï¼ŒåŒæ—¶å¹¶å‘è¿›è¡ŒscatterReduceï¼Œä»è€Œå°†é€šä¿¡æ—¶é—´éšè—åœ¨è®¡ç®—æ—¶é—´å†…è¿›è€Œæé«˜Ring AllReduceçš„æ•ˆç‡ã€‚ 3.1.2.1 ScatterReduce é¦–å…ˆï¼Œ ScatterReduceå…ˆå°†æ¢¯åº¦æ‹†åˆ†ä¸ºNä¸ªæ›´å°çš„å—ï¼ŒNç­‰äºringé‡ŒXPUä¸ªæ•°ï¼Œ8å¼ å¡å°±æ‹†åˆ†æˆ8ä»½ï¼Œç„¶åè¿›è¡ŒN-1æ¬¡scatterreduceè¿­ä»£ã€‚åœ¨ç¬¬ä¸€è½®è¿­ä»£ä¸­XPU 0ä¸Šçš„A0ä¼ é€’ç»™XPU1ä¸ŠA1å¹¶ç›¸åŠ ï¼ŒXPU1ä¸Šçš„B1ä¼ é€’ç»™XPU2ä¸Šçš„B2å¹¶ç›¸åŠ ï¼ŒXPU 2ä¸Šçš„C2ä¼ é€’ç»™XPU3ä¸ŠC3å¹¶ç›¸åŠ ï¼ŒXPU3ä¸Šçš„D3ä¼ é€’ç»™XPU4ä¸Šçš„D4å¹¶ç›¸åŠ ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè¿‡ç¨‹å¦‚ä¸‹å›¾å·¦ä¾§ï¼š æ¥ä¸‹æ¥ï¼ŒXPUè¿˜ä¼šè¿›è¡ŒN-2æ¬¡ ScatterReduce è¿­ä»£ï¼Œåœ¨æ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­ï¼ŒXPUéƒ½ä¼šä»å‰å‘æ¥æ”¶ä¸€ä¸ªå°æ¢¯åº¦å—å¹¶ç´¯åŠ åˆ°è‡ªå·±çš„æ¢¯åº¦å—ä¸­ï¼Œå¹¶ä¸”ä¹Ÿä¼šå‘å…¶åå‘å‘é€ä¸€ä¸ªå°æ¢¯åº¦å—ï¼Œæ¯ä¸ªXPUæ¥æ”¶å’Œå‘é€çš„å°æ¢¯åº¦å—åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½æ˜¯ä¸åŒçš„ï¼Œè¿™æ ·ç»è¿‡è¿­ä»£ï¼Œåˆ°æœ€åï¼Œæ¯ä¸ªXPUå°†æœ‰ä¸€ä¸ªå®Œæ•´çš„åŒç»´æ¢¯åº¦ï¼Œè¯¥å—æ¢¯åº¦ä¸­åŒ…å«æ‰€æœ‰XPUä¸­è¯¥å—å¯¹åº”çš„æ‰€æœ‰æ¢¯åº¦çš„æ€»å’Œï¼Œå¦‚ä¸Šå›¾å³ä¾§çš„ç´¯åŠ å’Œéƒ¨åˆ†ã€‚ 3.1.2.2 Allgather åœ¨scatterReduceè¿­ä»£å®Œæˆä¹‹åï¼Œæ¯ä¸ªXPUéƒ½ä¼šå¾—åˆ°ä¸€ä¸ªåŒç»´åº¦çš„å®Œæ•´çš„æ¢¯åº¦ç´¯åŠ å€¼ï¼Œå°†è¿™äº›å®Œæ•´çš„ç´¯åŠ å€¼å¤åˆ¶åˆ°å…¶ä»–çš„åŠ é€Ÿå¡åï¼Œæ‰ç®—å®ŒæˆallReduceã€‚Allgatherçš„è¿­ä»£æ¬¡æ•°ä¸scatterReduceæ˜¯ç›¸åŒçš„ï¼Œä¹Ÿéƒ½éœ€è¦è¿›è¡ŒN-1æ¬¡ï¼ˆNæ˜¯ringä¸Šçš„XPUå¡æ•°ï¼‰è¿­ä»£ï¼Œä½†æ˜¯ä¸åŒäºScatterReduceçš„æ˜¯allGatheræ²¡æœ‰reduceçš„è¿‡ç¨‹ï¼Œåªæœ‰æ•°å€¼çš„å¤åˆ¶ã€‚è¿™æ ·è¿­ä»£åˆ°æœ€åï¼Œæ¯ä¸ªXPUéƒ½å¾—åˆ°å¤§çš„æ‹†åˆ†å‰çš„æ¢¯åº¦çš„å®Œæ•´ç´¯åŠ å€¼ï¼Œå¦‚ä¸‹å›¾æ¼”ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ï¼Œä»ç¬¬ä¸€æ¬¡è¿­ä»£å¼€å§‹ï¼Œåˆ°æœ€åAllGatheræ‹¿åˆ°æ•´ä½“çš„ç»“æœã€‚è¿™é‡Œå¤´çš„å…·ä½“è¿‡ç¨‹å°±ä¸åœ¨è¿™é‡Œæè¿°äº†ï¼Œå¯ä»¥æŸ¥ç›¸å…³èµ„æ–™ã€‚ Ring AllReduce å®ç°ç®€å•ï¼Œåœ¨ringè¾ƒå°‘æ—¶ï¼Œæ•ˆç‡ä¹Ÿè¾ƒé«˜ï¼Œä½†æ˜¯åœ¨ringæ¯”è¾ƒå¤§æ—¶éœ€è¦çš„ç½‘ç»œèŠ‚ç‚¹è·³æ•°å˜å¾—æ¯”è¾ƒå¤§ï¼Œé€šä¿¡æ—¶å»¶å¢åŠ ï¼Œå› æ­¤æ•ˆç‡ä¹Ÿä¼šé™ä½ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ª1000å¼ XPUçš„ ringï¼Œè¿™é‡Œå¤´ç½‘ç»œçš„è·³æ•° æ˜¯N-1= 1000-1 =999ï¼Œ åŒæ—¶ä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œä¼ è¾“æ•ˆç‡è¿˜å—æ•ˆç‡æœ€ä½ã€å¸¦å®½æœ€ä½çš„XPUçš„é™åˆ¶ï¼Œè¿™æ—¶ç½‘ç»œä¸Šçš„æ—¶å»¶ä¼šå˜å¾—å·¨é«˜ï¼Œè¿™ä¸ªæ—¶å€™ring allreduceæ‹“æ‰‘ç®—æ³•å°±å˜å¾—ä¸å¤§é€‚ç”¨è¿™ä¸ªåœºæ™¯ï¼ŒåŒæ—¶å¦‚æœåœ¨å¼‚æ„ç½‘ç»œé‡Œæ¶‰åŠç½‘ç»œçš„ä¸åŒè¿æ¥æ–¹å¼ï¼ŒRing AllReduceä¹Ÿä¸å¤§é€‚åˆä½¿ç”¨ï¼Œå› æ­¤å°±éœ€è¦é‡‡ç”¨å¦å¤–çš„æ›´é€‚åˆç½‘ç»œç»“æ„çš„æ›´é«˜æ•ˆçš„é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•æ¥è¿›è¡Œä¼˜åŒ–ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:3:1","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"3.2 2D-Ring AllReduce å¦‚æœä¸€å°2.1é‡Œçš„æœåŠ¡å™¨åªé…ç½®äº†ä¸€å¼ RDMAç½‘å¡ï¼Œæ¯å°æœåŠ¡å™¨é€šè¿‡RDMAäº¤æ¢æœºäº’è”ï¼Œè¿™ä¸ªé›†ç¾¤çš„ç½‘ç»œæ˜¯å¼‚æ„çš„ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œé‚£ä¹ˆRing AllReduceæ‹“æ‰‘ç®—æ³•å°±ä¸é€‚ç”¨äº†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯¹äºè¿™ä¸ªç½‘ç»œæ‹“æ‰‘ç»“æ„æ¯”è¾ƒé€‚åˆçš„æ˜¯2D-Ring AllReduceä¹Ÿå«Hierarchical Ring AllReduceã€‚ ç»è¿‡æŠ½è±¡ï¼Œå¯ä»¥å°†è¿™ä¸ªç½‘ç»œç»“æ„è¡¨è¾¾æˆå¦‚ä¸‹çš„Torusç»“æ„ï¼š æ¨ªå‘ï¼šæ¯å°æœåŠ¡å™¨8ä¸ªXPUèŠ‚ç‚¹ï¼Œæ¯ä¸ªXPUèŠ‚ç‚¹é€šè¿‡ç§æœ‰åè®®ç½‘ç»œäº’è”ï¼› çºµå‘ï¼šæ¯å°æœåŠ¡å™¨é€šè¿‡ä¸€å¼ RDMAç½‘å¡NIC 0 é€šè¿‡äº¤æ¢æœºäº’è”ï¼Œè¿™ä¸ªç½‘å¡NIC0 ä¸XPU0 æŒ‚åœ¨åŒä¸€ä¸ªPCIE switchä¸Šï¼Œæ»¡è¶³å…·å¤‡äº²å’Œæ€§æ¡ä»¶ï¼ŒXPU0ä¸Šçš„æ¢¯åº¦å¯ä»¥é€šè¿‡NIC 0 ä¸å…¶ä»–æœåŠ¡å™¨ä¸Šçš„XPUè¿›è¡Œå…¨å±€è§„çº¦ã€‚ 2D-Ring AllReduceçš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç¬¬1æ­¥ï¼Œå…ˆè¿›è¡Œä¸»æœºå†…Ring AllReduceï¼Œä¹Ÿå¯ä»¥æ˜¯ Ring Reduceæˆ–è€…æ ¹æ®ä¸»æœºå†…çš„äº’è”æƒ…å†µé€‰ç”¨çš„åˆ†å±‚reduceæ–¹å¼ï¼Œå°†8å¼ å¡ä¸Šçš„æ¢¯åº¦ç´¯åŠ åˆ°MasterèŠ‚ç‚¹ XPU0 ä¸Šï¼› ç¬¬2æ­¥ï¼Œè¿›è¡Œä¸»æœºé—´XPU 0çš„ Ring AllReduceï¼Œå°†æ¯å°æœåŠ¡å™¨çš„XPU0ä¸Šçš„æ•°æ®è¿›è¡Œå…¨å±€è§„çº¦ï¼› ç¬¬3æ­¥ï¼Œè¿›è¡Œä¸»æœºå†…Broadcastï¼Œå°†XPU0ä¸Šçš„æ¢¯åº¦å¤åˆ¶åˆ°æœåŠ¡å™¨å†…çš„å…¶ä»–XPUä¸Š 2D-Ring AllReduceèƒ½å……åˆ†å‘æŒ¥å¼‚æ„ç½‘ç»œçš„ä¼˜åŠ¿ï¼Œå°†ä¸»æœºå†…ã€ä¸»æœºé—´çš„ç½‘ç»œå¸¦å®½å……åˆ†åˆ©ç”¨èµ·æ¥ã€‚ä½†æ˜¯XPUçš„åˆ©ç”¨ç‡ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼Œæ¯”å¦‚åœ¨åšä¸»æœºé—´çš„Ring AllReduceï¼Œæ¯å°æœåŠ¡å™¨å†…çš„å…¶ä»–7å¼ XPUæ˜¯å¤„äºç©ºé—²çŠ¶æ€çš„ã€‚ å†å‡è®¾ï¼Œå¦‚æœæ¯å°æœåŠ¡å™¨é…ç½®äº† 2å¼ /4å¼ /8å¼ RDMAç½‘å¡ï¼Œè¿™ä¸ªæ—¶å€™ 2D-RING AllReduceåˆéš¾ä»¥å°†ç½‘ç»œçš„ä¼˜åŠ¿å‘æŒ¥å‡ºæ¥ï¼Œé‚£ä¹ˆå°±éœ€è¦é€‰ç”¨ 2D-Torus/2D-Mesh AllReduceæ‹“æ‰‘ç®—æ³•ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:3:2","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"3.3 2D-Torus AllReduce è€ƒè™‘åˆ°æœåŠ¡å™¨å†…PCIE SWITCH çš„äº²å’Œæ€§é—®é¢˜ï¼Œ2D-Torusè‡³å°‘éœ€è¦é…å¤‡2å¼  å·¦å³å¯¹ç§°çš„RDMAç½‘å¡æ‰èƒ½å‘æŒ¥è¿™ä¸ªæ‹“æ‰‘ç®—æ³•çš„ä¼˜åŠ¿ã€‚åœ¨è¿™ä¸ªé›†ç¾¤é‡Œä¸»æœºå†…æ¯å¼ å¡éƒ½é€šè¿‡ç§æœ‰çš„é€šä¿¡åè®®ç»„æˆRingï¼Œè€Œä¸»æœºé—´ï¼Œå¯ä»¥é€šè¿‡RDMAç½‘å¡ï¼ˆåŒ…æ‹¬è™šæ‹ŸåŒ–å‡ºæ¥çš„ï¼‰ä¸RDMAäº¤æ¢æœºå°†XPUä¸¤ä¸¤äº’è”ï¼Œè¿™ä¸ªç½‘ç»œä¹Ÿæ˜¯å¼‚æ„çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç»è¿‡æŠ½è±¡ï¼Œå¯ä»¥å°†è¿™ä¸ªç½‘ç»œç»“æ„è¡¨è¾¾æˆå¦‚ä¸‹çš„Torusç»“æ„ï¼š æ¨ªå‘ï¼šæ¯å°æœåŠ¡å™¨8ä¸ªXPUèŠ‚ç‚¹ï¼Œæ¯ä¸ªXPUèŠ‚ç‚¹é€šè¿‡ç§æœ‰åè®®ç½‘ç»œäº’è”ï¼› çºµå‘ï¼šæ¯å°æœåŠ¡å™¨é€šè¿‡è‡³å°‘2å¼ RDMAç½‘å¡NIC 0 /NIC 1é€šè¿‡äº¤æ¢æœºäº’è”ï¼Œè¿™ä¸ªç½‘å¡NIC0 ä¸XPU0ã€1ã€2ã€3 æŒ‚åœ¨åŒä¸€ä¸ªPCIE switchä¸Šï¼Œå…·å¤‡äº²å’Œæ€§æ¡ä»¶ï¼ŒXPU0ã€1ã€2ã€3ä¸Šçš„æ¢¯åº¦æ•°æ®å¯ä»¥é€šè¿‡NIC 0 ä¸å…¶ä»–æœåŠ¡å™¨ä¸Šçš„XPUè¿›è¡Œäº¤æ¢ã€‚ç½‘å¡NIC1 ä¸XPU4ã€5ã€6ã€7 æŒ‚åœ¨åŒä¸€ä¸ªPCIE switchä¸Šï¼Œå…·å¤‡äº²å’Œæ€§æ¡ä»¶ï¼ŒXPU4ã€5ã€6ã€7ä¸Šçš„æ¢¯åº¦æ•°æ®å¯ä»¥é€šè¿‡NIC 1 ä¸å…¶ä»–æœåŠ¡å™¨ä¸Šçš„XPUè¿›è¡Œäº¤æ¢ï¼› å½“ç„¶å¦‚æœç½‘å¡æ˜¯4ä¸ªæˆ–è€…8ä¸ªï¼Œä¹Ÿå¯ä»¥æ ¹æ®PCIE SWITCHçš„äº²å’Œæ€§æƒ…å†µåˆç†å®‰æ’XPUä¸NICçš„å¯¹åº”å…³ç³»ã€‚ 2D-Torus AllReduceçš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç¬¬1æ­¥ï¼Œæ¨ªå‘ï¼Œå…ˆè¿›è¡Œä¸»æœºå†…Ring ScatterReduceï¼Œå°†ä¸»æœºå†…8å¼ å¡ä¸Šçš„æ¢¯åº¦è¿›è¡Œæ‹†åˆ†ä¸è§„çº¦ï¼Œè¿™æ ·ç»è¿‡è¿­ä»£ï¼Œåˆ°æœ€åæ¯ä¸ªXPUå°†æœ‰ä¸€ä¸ªå®Œæ•´çš„åŒç»´æ¢¯åº¦ï¼Œè¯¥å—æ¢¯åº¦åŒ…å«æ‰€æœ‰XPUä¸­è¯¥å—æ‰€å¯¹åº”çš„æ‰€æœ‰æ¢¯åº¦çš„æ€»å’Œï¼ˆå‚è€ƒ3.1.2.1 scatterReduce) ç¬¬2æ­¥ï¼Œçºµå‘ï¼Œè¿›è¡Œä¸»æœºé—´Nä¸ªï¼ˆNç­‰äºæœåŠ¡å™¨å†…XPUä¸ªæ•°ï¼Œè¿™é‡Œæ˜¯8ä¸ªï¼‰çºµå‘çš„ Ring AllReduceï¼Œå°†æ¯å°æœåŠ¡å™¨çš„XPU0-XPU7ä¸Šçš„æ•°æ®è¿›è¡Œé›†ç¾¤å†…çºµå‘å…¨å±€è§„çº¦ï¼› ç¬¬3æ­¥ï¼Œæ¨ªå‘ï¼Œè¿›è¡Œä¸»æœºå†…AllGatherï¼Œå°†XPUi(i=0-7)ä¸Šçš„æ¢¯åº¦å¤åˆ¶åˆ°æœåŠ¡å™¨å†…çš„å…¶ä»–XPUä¸Šï¼› 2D-Torus AllReduceèƒ½å……åˆ†æŒ–æ˜XPUçš„æ•ˆç‡ä»¥åŠå‘æŒ¥å¼‚æ„ç½‘ç»œé‡Œå¤šç½‘å¡çš„ä¼˜åŠ¿ï¼Œå°†XPUä»¥åŠä¸»æœºå†…ã€ä¸»æœºé—´çš„ç½‘ç»œå¸¦å®½ä¼˜åŠ¿å……åˆ†åˆ©ç”¨èµ·æ¥ã€‚æ­¤å¤–ï¼Œé™¤äº† 2D-Torus AllReduceå¤–ï¼Œ2D-Mesh AllReduceä¹Ÿèƒ½å‘æŒ¥ç±»ä¼¼æ•ˆç‡ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:3:3","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"3.4 2D-Mesh AllReduce 2D-Mesh AllReduceçš„ä¸»è¦æ€æƒ³ä¹Ÿæ˜¯åˆ†å±‚ï¼Œä¸2D-Torus AllReduceç±»ä¼¼ï¼Œéƒ½æ˜¯æ°´å¹³å’Œå‚ç›´ä¸¤ä¸ªæ–¹å‘ï¼Œä½†æ˜¯æœ‰ç‚¹å·®å¼‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸åŒäº2D-Torus AllReduceçš„æ‹“æ‰‘ç®—æ³•ï¼Œ2D-Mesh AllReduce è¿‡ç¨‹æ˜¯ï¼š ç¬¬1æ­¥ï¼Œæ¨ªå‘ï¼Œå…ˆè¿›è¡Œä¸»æœºå†…Ring AllReduce å°†ä¸»æœºå†…çš„8å¼ XPUçš„æ¢¯åº¦éƒ½è¿›è¡Œè§„çº¦ï¼› ç¬¬2æ­¥ï¼Œçºµå‘ï¼Œè¿›è¡Œä¸»æœºé—´Nä¸ªï¼ˆNç­‰äºä¸»æœºå†…XPUä¸ªæ•°ï¼Œè¿™é‡Œæ˜¯8ä¸ªï¼‰çºµå‘çš„ Ring AllReduceï¼› ç»è¿‡è¿™ä¸¤æ­¥ï¼Œå®Œæˆäº†æ•´ä½“çš„æ¢¯åº¦ç´¯åŠ ï¼Œ2D-Mesh AllReduce ä¹Ÿèƒ½å……åˆ†å‘æŒ¥XPUä¸å¤šç½‘å¡å¼‚æ„ç½‘ç»œçš„ä¼˜åŠ¿ï¼Œå°†XPUä¸ä¸»æœºå†…ã€ä¸»æœºé—´çš„ç½‘ç»œå¸¦å®½ä¼˜åŠ¿å……åˆ†åˆ©ç”¨èµ·æ¥ã€‚è¿™é‡Œçš„2D-Meshä¸Googleè®ºæ–‡ä¸Šçš„æœ‰ç‚¹å·®å¼‚ï¼Œä¸»è¦æ˜¯å¸å–äº†å…¶åˆ†å±‚çš„æ€æƒ³è€Œä¸æ˜¯å¤åˆ¶å…¶ä¸€æ ·çš„è®¾è®¡ã€‚ç†è®ºä¸Š2D-Mesh AllReduceå¯¹æ¯” 2D-Torus AllReduceï¼Œä¸»æœºé—´AllReduceç”¨çš„æ˜¯ ä¸»æœºå†…8å¡çš„å…¨å±€æ¢¯åº¦ï¼Œæ•°æ®é‡ä¼šæ¯”ScatterReduceéƒ¨åˆ†æ¥çš„å¤§ç‚¹ï¼Œå› æ­¤æ•ˆç‡ä¹Ÿä¼šç›¸åº”é™ä½ä¸€ç‚¹ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:3:4","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"4. é—®é¢˜æ¢è®¨ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒåŸºäºTorusç½‘ç»œçš„ç»“æ„ï¼Œç»„åˆRing AllReduceï¼Œ2D-Ring AllReduce, 2D-Mesh AllReduceï¼Œ2D-Torus AllReduceè¿˜èƒ½æ„å»º 3D-Ring/Mesh/Torus AllReduceæ‹“æ‰‘ç®—æ³•ï¼Œä½†æ˜¯è¿™äº›æ‹“æ‰‘ç®—æ³•çš„æ•ˆç‡éœ€è¦è¿›è¡Œå®è·µæ‰èƒ½è¯å®ï¼Œä¹Ÿè®¸åœ¨è§„æ¨¡è¾ƒå¤§çš„é›†ç¾¤é‡Œæ‰èƒ½å‘æŒ¥å‡º3D æ‹“æ‰‘ç®—æ³•çš„ä¼˜åŠ¿ã€‚ å…³äº 3D-Ring/Mesh/Torus AllReduceçš„æ‹“æ‰‘ç®—æ³•ï¼Œè¿™é‡Œå°±ä¸åœ¨é˜è¿°ï¼Œå¯ä½œä¸ºç ”ç©¶ä½¿ç”¨ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:4:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"5. å°ç»“ æœ¬æ–‡è®²è¿°äº†åˆ†å¸ƒå¼è®­ç»ƒé‡Œæœ€å¸¸ç”¨çš„å‡ ä¸ªç½‘ç»œç»“æ„ä»¥åŠé€šä¿¡æ‹“æ‰‘ç®—æ³•ï¼š Ring AllReduce çš„æœ€ä½³ç»„åˆæ˜¯ ScatterReduce + AllGatherï¼› 2D-Ring AllReduce = ä¸»æœºå†… ringAllReduce/Ring Reduce +ä¸»æœºé—´ RingAllReduce + ä¸»æœºå†…Broadcastï¼› 2D-Torus AllReduce = ä¸»æœºå†… Ring ReduceScatter + ä¸»æœºé—´Nä¸ªRing AllReduce + ä¸»æœºå†…Ring AllGatherï¼› 2D-Mesh AllReduce = ä¸»æœºå†…Ring AllReduce + ä¸»æœºé—´Nä¸ªRing AllReduce; Ring AllReduceé€‚åˆä¸»æœºå†…äº’è”Ringçš„æƒ…å†µä½¿ç”¨ï¼Œ2D-Ring AllReduceé€‚åˆä¸€å°æœåŠ¡å™¨é…ç½®äº†ä¸€å¼ ç½‘å¡çš„å¼‚æ„ç½‘ç»œåœºæ™¯ï¼Œ2D-Torus AllReduceä¸2D-Mesh AllReduceé€‚åˆä¸€å°æœåŠ¡å™¨é…ç½®äº†2/4/8å¼ ç½‘å¡çš„å¼‚æ„ç½‘ç»œåœºæ™¯ã€‚ é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•å¤šç§å¤šæ ·ï¼Œä½†åŸºäºæˆæœ¬ä»¥åŠæ•ˆç‡çš„å–èˆè€ƒè™‘ï¼Œå¯ç”Ÿäº§é€‚ç”¨çš„å…¶å®ä¹Ÿä¸å¤šï¼Œé™¤äº†ç†è®ºä¸Šçš„ç†è§£ä¹‹å¤–æ›´é‡è¦çš„æ˜¯è‡ªå·±ç¼–å†™ä»£ç å»å®è·µè½åœ°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦è§£å†³ç½‘ç»œå¸¦å®½æœ‰é™ã€ç½‘ç»œå®¹æ˜“å‡ºæ•…éšœã€è½åè€…æ•ˆåº”ã€éƒ¨ç½²çº¦æŸã€å¤šç§Ÿæˆ·ç­‰äº§å“åŒ–çš„è´¨é‡è¦æ±‚ã€‚ REF: [1] https://www.changping.me [2] ã€Švolta-architecture-whitepaperã€‹ [3] 2D-HRA: Two-Dimensional Hierarchical Ring-based All-reduce Algorithm in Large-Scale Distributed Machine Learning [4] Massively Distributed SGD: ImageNet/ResNet-50 Training in a Flash [5] https://zhuanlan.zhihu.com/p/79030485 , è…¾è®¯æœºæ™ºå›¢é˜Ÿåˆ†äº«â€“AllReduceç®—æ³•çš„å‰ä¸–ä»Šç”Ÿ [6] https://zhuanlan.zhihu.com/p/370548366, ring allreduceå’Œtree allreduceçš„å…·ä½“åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ [7] https://zhuanlan.zhihu.com/p/184942777 , åˆ†å¸ƒå¼æ·±åº¦å­¦ä¹ åˆæ¢ [8] https://arxiv.org/abs/1811.06992 ï¼Œ Image Classification at Supercomputer Scale ","date":"2023-07-13","objectID":"/posts/distributedtraining_4/:5:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬4ç¯‡ - åˆ†å¸ƒå¼è®­ç»ƒå¸¸ç”¨çš„ç½‘ç»œç»“æ„åŠé›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•","uri":"/posts/distributedtraining_4/"},{"categories":["Distributed Computing"],"content":"ref: [1]. https://zhuanlan.zhihu.com/p/493092647 ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:0:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"æ¦‚è¿° é›†åˆé€šä¿¡ï¼ˆCollective Communicationsï¼‰æ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„æ‰€æœ‰è¿›ç¨‹éƒ½å‚ä¸çš„å…¨å±€é€šä¿¡æ“ä½œï¼Œå…¶æœ€ä¸ºåŸºç¡€çš„æ“ä½œæœ‰ å‘é€sendã€æ¥æ”¶receiveã€å¤åˆ¶copyã€ç»„å†…è¿›ç¨‹æ …éšœåŒæ­¥Barrierä»¥åŠèŠ‚ç‚¹é—´è¿›ç¨‹åŒæ­¥(signal+wait)ï¼Œè¿™å‡ ä¸ªæœ€åŸºæœ¬çš„æ“ä½œç»è¿‡ç»„åˆæ„æˆäº†ä¸€ç»„é€šä¿¡æ¨¡æ¿ä¹Ÿå«é€šä¿¡åŸè¯­ï¼Œæ¯”å¦‚ï¼š1å¯¹å¤šçš„å¹¿æ’­broadcastã€å¤šå¯¹1çš„æ”¶é›†gatherã€å¤šå¯¹å¤šçš„æ”¶é›†all-gatherã€1å¯¹å¤šçš„å‘æ•£scatterã€å¤šå¯¹1çš„è§„çº¦reduceã€å¤šå¯¹å¤šçš„è§„çº¦all-reduceã€ç»„åˆçš„è§„çº¦ä¸å‘æ•£reduce-scatterã€å¤šå¯¹å¤šçš„all-to-allç­‰ï¼Œé›†åˆé€šä¿¡çš„éš¾ç‚¹åœ¨äºé€šä¿¡æ•ˆç‡ä»¥åŠç½‘ç»œç¡¬ä»¶è¿æ¥æ‹“æ‰‘ç»“æ„çš„æœ€ä½³é€‚ç”¨ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:1:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"é€šä¿¡åŸè¯­ ä»¥ä¸€å°é›†æˆäº†4å¼ è®­ç»ƒåŠ é€Ÿå¡çš„æœåŠ¡å™¨ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾ï¼ŒæœåŠ¡å™¨å†…å››å¼ è®­ç»ƒåŠ é€Ÿå¡æ˜¯å…¨è¿æ¥çš„ï¼Œç‰©ç†è¿æ¥æ–¹å¼å¯ä»¥æ˜¯ç§æœ‰ç‰©ç†äº’è”åè®®ï¼Œæ¯”å¦‚CXLã€NVLINKï¼Œä¹Ÿå¯ä»¥æ˜¯PCIeã€InfiniBandã€Ethernetç­‰ï¼Œæœ¬æ–‡å°†ä»¥æ­¤ç‰©ç†æ‹“æ‰‘ç»“æ„æè¿°é›†åˆé€šä¿¡ä¸­å¸¸ç”¨çš„å‡ ç»„é€šä¿¡åŸè¯­ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"Broadcast Broadcastå±äº1å¯¹å¤šçš„é€šä¿¡åŸè¯­ï¼Œä¸€ä¸ªæ•°æ®å‘é€è€…ï¼Œå¤šä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œå¯ä»¥åœ¨é›†ç¾¤å†…æŠŠä¸€ä¸ªèŠ‚ç‚¹è‡ªèº«çš„æ•°æ®å¹¿æ’­åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœˆåœˆè¡¨ç¤ºé›†ç¾¤ä¸­çš„è®­ç»ƒåŠ é€Ÿå¡èŠ‚ç‚¹ï¼Œç›¸åŒçš„é¢œè‰²çš„å°æ–¹å—åˆ™ä»£è¡¨ç›¸åŒçš„æ•°æ®ã€‚å½“ä¸»èŠ‚ç‚¹ 0 æ‰§è¡ŒBroadcastæ—¶ï¼Œæ•°æ®å³ä»ä¸»èŠ‚ç‚¹0è¢«å¹¿æ’­è‡³å…¶ä»–èŠ‚ç‚¹ã€‚ Broadcastæ˜¯æ•°æ®çš„1å¯¹å¤šçš„åŒæ­¥ï¼Œå®ƒå°†ä¸€å¼ XPUå¡ä¸Šçš„æ•°æ®åŒæ­¥åˆ°å…¶ä»–æ‰€æœ‰çš„XPUå¡ä¸Šï¼Œå…¶åº”ç”¨åœºæ™¯æœ‰ï¼š 1ï¼‰æ•°æ®å¹¶è¡Œçš„å‚æ•°åˆå§‹åŒ–ï¼Œç¡®ä¿æ¯å¼ å¡ä¸Šçš„åˆå§‹å‚æ•°æ˜¯ä¸€è‡´çš„ï¼› 2ï¼‰allReduceé‡Œçš„ broadcast + reduceç»„åˆé‡Œçš„broadcastæ“ä½œï¼› 3ï¼‰åˆ†å¸ƒå¼è®­ç»ƒparameter server å‚æ•°æœåŠ¡å™¨ç»“æ„é‡Œçš„ masterèŠ‚ç‚¹ broadcast æ•°æ®åˆ°workerèŠ‚ç‚¹ï¼Œå†ä»workerèŠ‚ç‚¹reduceæ•°æ®å›masterèŠ‚ç‚¹é‡Œçš„broadcastæ“ä½œï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:1","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"Scatter åŒBroadcastä¸€æ ·ï¼ŒScatterä¹Ÿæ˜¯ä¸€ä¸ª1å¯¹å¤šçš„é€šä¿¡åŸè¯­ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•°æ®å‘é€è€…ï¼Œå¤šä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œå¯ä»¥åœ¨é›†ç¾¤å†…æŠŠä¸€ä¸ªèŠ‚ç‚¹è‡ªèº«çš„æ•°æ®å‘æ•£åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šã€‚ä¸Broadcastä¸åŒçš„æ˜¯BroadcastæŠŠä¸»èŠ‚ç‚¹0çš„æ•°æ®å‘é€ç»™æ‰€æœ‰èŠ‚ç‚¹ï¼Œè€ŒScatteråˆ™æ˜¯å°†æ•°æ®çš„è¿›è¡Œåˆ‡ç‰‡å†åˆ†å‘ç»™é›†ç¾¤å†…æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ç›¸åŒçš„é¢œè‰²çš„å°æ–¹å—ä»£è¡¨ä¸ç›¸åŒçš„æ•°æ®ï¼Œä¸»èŠ‚ç‚¹ 0 å°†æ•°æ®åˆ†ä¸ºå››ä»½åˆ†å‘åˆ°äº†èŠ‚ç‚¹0-3ã€‚ Scatteræ˜¯æ•°æ®çš„1å¯¹å¤šçš„åˆ†å‘ï¼Œå®ƒå°†ä¸€å¼ XPUå¡ä¸Šçš„æ•°æ®è¿›è¡Œåˆ†ç‰‡å†åˆ†å‘åˆ°å…¶ä»–æ‰€æœ‰çš„XPUå¡ä¸Šï¼Œä»–çš„åå‘æ“ä½œå¯¹åº”Gatherï¼Œå…¶åº”ç”¨åœºæ™¯æœ‰: 1ï¼‰ReduceScatterç»„åˆé‡Œçš„ Scatteræ“ä½œï¼› 2ï¼‰æ¨¡å‹å¹¶è¡Œé‡Œåˆå§‹åŒ–æ—¶å°†æ¨¡å‹scatteråˆ°ä¸åŒçš„XPUä¸Šï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:2","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"Gather Gatheræ“ä½œå±äºå¤šå¯¹1çš„é€šä¿¡åŸè¯­ï¼Œå…·æœ‰å¤šä¸ªæ•°æ®å‘é€è€…ï¼Œä¸€ä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œå¯ä»¥åœ¨é›†ç¾¤å†…æŠŠå¤šä¸ªèŠ‚ç‚¹çš„æ•°æ®æ”¶é›†åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ç›¸åŒçš„é¢œè‰²çš„å°æ–¹å—ä»£è¡¨ä¸ç›¸åŒçš„æ•°æ®ã€‚ Gatheræ˜¯æ•°æ®çš„å¤šå¯¹1çš„æ”¶é›†ï¼Œå®ƒå°†å¤šå¼ XPUå¡ä¸Šçš„æ•°æ®æ”¶é›†åˆ°1å¼ XPUå¡ä¸Šï¼Œä»–çš„åå‘æ“ä½œå¯¹åº”Scatterï¼Œå…¶åº”ç”¨åœºæ™¯æœ‰ï¼š 1ï¼‰ReduceScatterç»„åˆé‡Œçš„ Scatteræ“ä½œï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:3","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"AllGather AllGatherå±äºå¤šå¯¹å¤šçš„é€šä¿¡åŸè¯­ï¼Œå…·æœ‰å¤šä¸ªæ•°æ®å‘é€è€…ï¼Œå¤šä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œå¯ä»¥åœ¨é›†ç¾¤å†…æŠŠå¤šä¸ªèŠ‚ç‚¹çš„æ•°æ®æ”¶é›†åˆ°ä¸€ä¸ªä¸»èŠ‚ç‚¹ä¸Šï¼ˆGatherï¼‰ï¼Œå†æŠŠè¿™ä¸ªæ”¶é›†åˆ°çš„æ•°æ®åˆ†å‘åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šï¼ˆbroadcastï¼‰ï¼Œå³æ”¶é›†é›†ç¾¤å†…æ‰€æœ‰çš„æ•°æ®åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹ä¸Šã€‚ AllGatheræ˜¯æ•°æ®çš„å¤šå¯¹å¤šçš„åŒæ­¥å…¨æ”¶é›†ï¼Œå®ƒå°†å¤šå¼ XPUå¡ä¸Šçš„æ•°æ®æ”¶é›†åˆ°å¤šå¼ XPUå¡ä¸Šï¼Œå¯ä»¥çœ‹åšGather + Broadcastçš„æ“ä½œç»„åˆï¼Œå®ƒçš„åå‘æ“ä½œå¯¹åº”ReduceScatterï¼Œå…¶æœ€åº”ç”¨åœºæ™¯æœ‰ï¼š 1ï¼‰ AllGatherå¯åº”ç”¨äºæ¨¡å‹å¹¶è¡Œï¼› 2ï¼‰æ¨¡å‹å¹¶è¡Œé‡Œå‰å‘è®¡ç®—é‡Œçš„å‚æ•°å…¨åŒæ­¥ï¼Œéœ€è¦ç”¨allgatheræŠŠæ¨¡å‹å¹¶è¡Œé‡Œå°†åˆ‡åˆ†åˆ°ä¸åŒçš„XPUä¸Šçš„å‚æ•°å…¨åŒæ­¥åˆ°ä¸€å¼ XPUä¸Šæ‰èƒ½è¿›è¡Œå‰å‘è®¡ç®—ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:4","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"Reduce Reduceå±äºå¤šå¯¹1çš„é€šä¿¡åŸè¯­ï¼Œå…·æœ‰å¤šä¸ªæ•°æ®å‘é€è€…ï¼Œä¸€ä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œå¯ä»¥åœ¨é›†ç¾¤å†…æŠŠå¤šä¸ªèŠ‚ç‚¹çš„æ•°æ®è§„çº¦è¿ç®—åˆ°ä¸€ä¸ªä¸»èŠ‚ç‚¹ä¸Šï¼Œå¸¸ç”¨çš„è§„çº¦æ“ä½œç¬¦æœ‰ï¼šæ±‚ç´¯åŠ å’ŒSUMã€æ±‚ç´¯ä¹˜ç§¯PRODã€æ±‚æœ€å¤§å€¼MAXã€æ±‚æœ€å°å€¼MINã€é€»è¾‘ä¸ LANDã€æŒ‰ä½ä¸BANDã€é€»è¾‘æˆ–LORã€æŒ‰ä½æˆ–BORã€é€»è¾‘å¼‚æˆ–LXORã€æŒ‰ä½å¼‚æˆ–BOXRã€æ±‚æœ€å¤§å€¼å’Œæœ€å°å¤§çš„ä½ç½®MAXLOCã€æ±‚æœ€å°å€¼å’Œæœ€å°å€¼çš„ä½ç½®MINLOCç­‰ï¼Œè¿™äº›è§„çº¦è¿ç®—ä¹Ÿéœ€è¦åŠ é€Ÿå¡æ”¯æŒå¯¹åº”çš„ç®—å­æ‰èƒ½ç”Ÿæ•ˆã€‚ Reuduceæ“ä½œä»é›†ç¾¤å†…æ¯ä¸ªèŠ‚ç‚¹ä¸Šè·å–ä¸€ä¸ªè¾“å…¥æ•°æ®ï¼Œé€šè¿‡è§„çº¦è¿ç®—æ“ä½œåï¼Œå¾—åˆ°ç²¾ç®€æ•°æ®ï¼Œå¦‚ä¸‹å›¾çš„SUMæ±‚ç´¯åŠ å’Œï¼šèŠ‚ç‚¹0æ•°å€¼ 5ã€èŠ‚ç‚¹1æ•°å€¼6ã€èŠ‚ç‚¹2æ•°å€¼7ã€èŠ‚ç‚¹3æ•°å€¼8ï¼Œç»è¿‡SUMè¿ç®—å ç´¯ç§¯å’Œä¸º 26ï¼Œå³å¾—åˆ°æ›´ä¸ºç²¾ç®€çš„æ•°å€¼ï¼Œåœ¨reduceåŸè¯­é‡Œå›ä¼šå»è°ƒç”¨ reduce SUMç®—å­æ¥å®Œæˆè¿™ä¸ªæ±‚å’Œç´¯åŠ ã€‚ Reduceæ˜¯æ•°æ®çš„å¤šå¯¹1çš„è§„çº¦è¿ç®—ï¼Œå®ƒå°†æ‰€æœ‰å¼ XPUå¡ä¸Šçš„æ•°æ®è§„çº¦ï¼ˆæ¯”å¦‚SUMæ±‚å’Œï¼‰åˆ°1å¼ XPUå¡ä¸Šï¼Œå…¶åº”ç”¨åœºæ™¯æœ‰ï¼š 1ï¼‰AllReduceé‡Œçš„ broadcast + reduceç»„åˆé‡Œçš„reduceæ“ä½œï¼› 2ï¼‰ReduceScatterç»„åˆé‡Œçš„ reduceæ“ä½œï¼› 3ï¼‰åˆ†å¸ƒå¼è®­ç»ƒparameter server å‚æ•°æœåŠ¡å™¨ç»“æ„é‡Œçš„ masterèŠ‚ç‚¹ broadcast æ•°æ®åˆ°workerèŠ‚ç‚¹ï¼Œå†ä»workerèŠ‚ç‚¹reduceæ•°æ®å›masterèŠ‚ç‚¹é‡Œçš„reduceæ“ä½œï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:5","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"ReduceScatter ReduceScatterå±äºå¤šå¯¹å¤šçš„é€šä¿¡åŸè¯­ï¼Œå…·æœ‰å¤šä¸ªæ•°æ®å‘é€è€…ï¼Œå¤šä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œå…¶åœ¨é›†ç¾¤å†…çš„æ‰€æœ‰èŠ‚ç‚¹ä¸Šéƒ½æŒ‰ç»´åº¦æ‰§è¡Œç›¸åŒçš„Reduceè§„çº¦è¿ç®—ï¼Œå†å°†ç»“æœå‘æ•£åˆ°é›†ç¾¤å†…æ‰€æœ‰çš„èŠ‚ç‚¹ä¸Šï¼ŒReduce-scatterç­‰ä»·äºèŠ‚ç‚¹ä¸ªæ•°æ¬¡çš„reduceè§„çº¦è¿ç®—æ“ä½œï¼Œå†åé¢æ‰§è¡ŒèŠ‚ç‚¹ä¸ªæ•°çš„scatteræ¬¡æ“ä½œï¼Œå…¶åå‘æ“ä½œæ˜¯AllGatherã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…ˆreduceæ“ä½œ XPU 0-3çš„æ•°æ®reduceä¸º A(A0+A1+A2+A3) + B(B0 + B1 +B2 + B3) + C(C0 + C1 + C2 + C3) + D(D0 + D1 + D2 + D3 ) åˆ°ä¸€å¼ XPUä¸Šï¼Œå†è¿›è¡Œåˆ†ç‰‡scatteråˆ°é›†ç¾¤å†…æ‰€æœ‰çš„XPUå¡ä¸Šã€‚ ReduceScatteræ˜¯æ•°æ®çš„å¤šå¯¹å¤šçš„reduce + scatterè¿ç®—ï¼Œå®ƒå°†æ‰€æœ‰çš„XPUå¡ä¸Šçš„æ•°æ®å…ˆè§„çº¦ï¼ˆæ¯”å¦‚SUMæ±‚å’Œï¼‰åˆ°1å¼ XPUå¡ä¸Šï¼Œå†è¿›è¡Œscatterï¼Œå…¶åº”ç”¨åœºæ™¯æœ‰ï¼š 1ï¼‰ReduceScatterå³å¯åº”ç”¨äºæ•°æ®å¹¶è¡Œä¹Ÿå¯åº”ç”¨äºæ¨¡å‹å¹¶è¡Œï¼› 2ï¼‰æ•°æ®å¹¶è¡ŒallReduceé‡Œçš„ ReduceScatter+ Allgatherç»„åˆé‡Œçš„ReduceScatteræ“ä½œï¼› 3ï¼‰æ¨¡å‹å¹¶è¡Œé‡Œåœ¨å‰å‘allgatheråçš„åå‘è®¡ç®—é‡Œçš„ReduceScatterï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:6","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"AllReduce AllReduceå±äºå¤šå¯¹å¤šçš„é€šä¿¡åŸè¯­ï¼Œå…·æœ‰å¤šä¸ªæ•°æ®å‘é€è€…ï¼Œå¤šä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œå…¶åœ¨é›†ç¾¤å†…çš„æ‰€æœ‰èŠ‚ç‚¹ä¸Šéƒ½æ‰§è¡Œç›¸åŒçš„Reduceæ“ä½œï¼Œå¯ä»¥å°†é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®è§„çº¦è¿ç®—å¾—åˆ°çš„ç»“æœå‘é€åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹ä¸Šã€‚AllReduceæ“ä½œå¯é€šè¿‡åœ¨ä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡ŒReduce + Broadcastæˆ–ReduceScatter + AllGatherå®ç°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå…ˆåœ¨ä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡Œreduceå¾—åˆ°è§„çº¦ç´¯åŠ å’Œ26ï¼Œå†æŠŠè¿™ä¸ªç´¯åŠ å’Œ26 broadcaståˆ°å…¶ä»–çš„èŠ‚ç‚¹ï¼Œè¿™æ ·æ•´ä¸ªé›†ç¾¤å†…ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æ•°å€¼å°±éƒ½ä¿æŒä¸€è‡´ã€‚ AllReduceæ˜¯æ•°æ®çš„å¤šå¯¹å¤šçš„è§„çº¦è¿ç®—ï¼Œå®ƒå°†æ‰€æœ‰çš„XPUå¡ä¸Šçš„æ•°æ®è§„çº¦ï¼ˆæ¯”å¦‚SUMæ±‚å’Œï¼‰åˆ°é›†ç¾¤å†…æ¯å¼ XPUå¡ä¸Šï¼Œå…¶åº”ç”¨åœºæ™¯æœ‰ï¼š 1ï¼‰ AllReduceåº”ç”¨äºæ•°æ®å¹¶è¡Œï¼› 2ï¼‰æ•°æ®å¹¶è¡Œå„ç§é€šä¿¡æ‹“æ‰‘ç»“æ„æ¯”å¦‚Ring allReduceã€Tree allReduceé‡Œçš„ allReduceæ“ä½œï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:7","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"All-To-All All-To-Allæ“ä½œæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ•°æ®ä¼šscatteråˆ°é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹ä¸Šï¼ŒåŒæ—¶æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿä¼šGatheré›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®ã€‚ALLTOALLæ˜¯å¯¹ALLGATHERçš„æ‰©å±•ï¼ŒåŒºåˆ«æ˜¯ALLGATHER æ“ä½œä¸­ï¼Œä¸åŒèŠ‚ç‚¹å‘æŸä¸€èŠ‚ç‚¹æ”¶é›†åˆ°çš„æ•°æ®æ˜¯ç›¸åŒçš„ï¼Œè€Œåœ¨ALLTOALLä¸­ï¼Œä¸åŒçš„èŠ‚ç‚¹å‘æŸä¸€èŠ‚ç‚¹æ”¶é›†åˆ°çš„æ•°æ®æ˜¯ä¸åŒçš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º: AllToAllæ˜¯æ•°æ®çš„å¤šå¯¹å¤šçš„è½¬ç½®ï¼Œå®ƒå°†æ‰€æœ‰å¼ XPUå¡ä¸Šçš„æ•°æ®è½¬ç½®åˆ°æ‰€æœ‰çš„XPUå¡ä¸Šï¼Œå…¶ä¸»è¦åº”ç”¨åœºæ™¯æœ‰ï¼š 1ï¼‰ AllToAllåº”ç”¨äºæ¨¡å‹å¹¶è¡Œï¼› 2ï¼‰æ¨¡å‹å¹¶è¡Œé‡Œçš„çŸ©é˜µè½¬ç½®ï¼› 3ï¼‰æ•°æ®å¹¶è¡Œåˆ°æ¨¡å‹å¹¶è¡Œçš„çŸ©é˜µè½¬ç½®ï¼› ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:8","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"Send ä¸ Receive æ•°æ®æˆ–å‚æ•°åœ¨ä¸åŒXPUä¹‹é—´çš„å‘é€ä¸æ¥æ”¶ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:9","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"Barrier BARRIERåŒæ­¥æ“ä½œä¼šé˜»å¡æ‰€æœ‰çš„è°ƒç”¨è€…ç›´åˆ°æ‰€æœ‰çš„ç»„å†…æˆå‘˜éƒ½è°ƒç”¨äº†å®ƒï¼Œ ç”¨äºä¸€ä¸ªé›†åˆé€šä¿¡å­ä¸­æ‰€æœ‰è¿›ç¨‹çš„åŒæ­¥ï¼Œè°ƒç”¨å‡½æ•°æ—¶è¿›ç¨‹å°†å¤„äºç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°é€šä¿¡å­ä¸­æ‰€æœ‰è¿›ç¨‹ éƒ½è°ƒç”¨äº†è¯¥å‡½æ•°åæ‰ç»§ç»­æ‰§è¡Œã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:10","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"Signalä¸Wait Signalä¸Waitå±äºè®°å½•å‹ä¿¡å·é‡æœºåˆ¶ï¼š wait(s)ï¼Œsignal(s)å¯ç”¨äºè§£å†³è¿›ç¨‹é—´çš„åŒæ­¥é—®é¢˜ï¼Œåœ¨é€šä¿¡åŸè¯­é‡Œä»ä¸€ä¸ªèŠ‚ç‚¹å‘é€ä¸€ä¸ªæ•°æ®åˆ°å¦å¤–ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œä¼šåŒæ—¶signalä¸€ä¸ªeventå€¼åˆ°å¯¹ç«¯ï¼Œå¯¹ç«¯çš„waitæ“ä½œæ¥æ”¶åˆ°è¿™ä¸ªeventæ—¶ä¼šè¿”å›ä¸€ä¸ªç¡®è®¤ç»™signalï¼Œè¿™æ ·ä¿è¯åœ¨èŠ‚ç‚¹çš„è¿›ç¨‹é—´è¿›è¡Œæ•°æ®çš„åŒæ­¥æ“ä½œã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:2:11","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"å°ç»“ åœ¨åˆ†å¸ƒå¼è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ·±åº¦å­¦ä¹ è®­ç»ƒæ¡†æ¶ä¸ä¼šå»ç›´æ¥æ“ä½œåº•å±‚çš„é€šä¿¡ç½‘ç»œï¼Œè€Œæ˜¯é€šè¿‡ä½¿ç”¨ç½‘ç»œé€šä¿¡åº“æ¥å®Œæˆæ•°æ®çš„é›†åˆé€šä¿¡ï¼Œå„å®¶AIèŠ¯ç‰‡åŠ é€Ÿå¡å‚å®¶éƒ½ä¼šæä¾›ç§æœ‰çš„ç½‘ç»œé€šä¿¡åº“æ¯”å¦‚ï¼šxxx-AWARE OpenMPIæˆ–xCCLæ¥å®Œæˆè¿™ä¸ªåº•å±‚é€šä¿¡ç¡¬ä»¶çš„å±è”½ä¸æŠ½è±¡ã€‚åœ¨åˆ†å¸ƒå¼è®­ç»ƒé›†ç¾¤é‡Œç½‘ç»œé€šä¿¡ç¡¬ä»¶è¿æ¥æ ·å¼å¤šç§å¤šæ ·ï¼Œå¯ä»¥æ˜¯Ethernetã€InfiniBand ã€RoCE v2/v1 ç­‰ä¹Ÿå¯ä»¥æ˜¯CXLã€NVLINKç­‰ç§æœ‰åè®®ï¼Œè¿™å°±è¦æ±‚åœ¨é€šä¿¡çš„åç«¯å±‚æ ¹æ®å„ä¸ªå‚å®¶çš„è‡ªå·±çš„SDKå¼€å‘åº“æ¥å£ï¼Œæ ¹æ®å®é™…æƒ…å†µå®ç° å„è‡ªçš„ç½‘ç»œé€šä¿¡åº“ï¼Œæ¯”å¦‚cuda-aware MPIã€NCCLã€NVSHMEMï¼Œä»¥åŠæ ¹æ®å®é™…çš„ç½‘ç»œæ‹“æ‰‘ç»„åˆå®Œæˆå¯¹åº”çš„æœ€æœ‰æ•ˆçš„ç½‘ç»œæ‹“æ‰‘ç®—æ³•ã€‚ æœ¬æ–‡è®²è¿°äº†åˆ†å¸ƒå¼è®­ç»ƒé‡Œçš„é›†åˆé€šä¿¡åŸè¯­ï¼Œè¿™äº›åŸè¯­æ˜¯é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•çš„åŸºæœ¬ç»„æˆå•å…ƒï¼Œåç»­çš„æ–‡ç« é‡Œä¼šè®²è¿°å¦‚ä½•ç»„åˆè¿™äº›é€šä¿¡åŸè¯­ä»¥å®Œæˆåˆé€‚çš„é€šä¿¡æ‹“æ‰‘ç®—æ³•ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_3/:3:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬3ç¯‡ - é›†åˆé€šä¿¡åŠå…¶é€šä¿¡åŸè¯­","uri":"/posts/distributedtraining_3/"},{"categories":["Distributed Computing"],"content":"ref: [1]. https://zhuanlan.zhihu.com/p/492667659 ","date":"2023-07-13","objectID":"/posts/distributedtraining_2/:0:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬2ç«  - è®­ç»ƒä¸ç³»ç»Ÿè¯„ä»·æŒ‡æ ‡","uri":"/posts/distributedtraining_2/"},{"categories":["Distributed Computing"],"content":"å‰è¨€ ä¸åŒäºæ•™ç§‘ä¹¦é‡Œè®²çš„æ·±åº¦å­¦ä¹ çš„è¯„ä»·æŒ‡æ ‡ï¼Œè¿™é‡Œä¸»è¦è®²è¿°ç”Ÿäº§è®­ç»ƒä¸­å¸¸ç”¨çš„è¯„ä»·æŒ‡æ ‡ã€‚é€šå¸¸åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­å¯¹è®­ç»ƒçš„è¿‡ç¨‹ä¸ç»“æœä¼šè¿›è¡Œè¯„ä»·ï¼Œæ¯”å¦‚é€‰æ‹©ä¸€ä¸ªè¯„ä»·æŒ‡æ ‡ï¼šå‡†ç¡®ç‡ï¼Œå³è¡¨æ˜æ¨¡å‹æ±‚è§£ç»™å®šé—®é¢˜çš„å‡†ç¡®åº¦ã€‚è€Œæœ¬æ–‡æåˆ°çš„è¯„ä»·æŒ‡æ ‡ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œå³è®­ç»ƒç»“æœè¯„ä»·ä¸è®­ç»ƒç³»ç»Ÿè¯„ä»·ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_2/:1:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬2ç«  - è®­ç»ƒä¸ç³»ç»Ÿè¯„ä»·æŒ‡æ ‡","uri":"/posts/distributedtraining_2/"},{"categories":["Distributed Computing"],"content":"è®­ç»ƒæŒ‡æ ‡ æ•™ç§‘ä¹¦é‡Œç»å¸¸æåˆ°çš„æ·±åº¦å­¦ä¹ çš„è¯„ä»·æŒ‡æ ‡æœ‰å‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1å€¼ç­‰ï¼Œå¦‚ä¸‹ï¼š å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰ï¼Œæ‰€æœ‰çš„é¢„æµ‹æ­£ç¡®ï¼ˆæ­£ç±»è´Ÿç±»ï¼‰çš„å æ€»çš„æ¯”é‡ï¼› ç²¾ç¡®ç‡ï¼ˆPrecisionï¼‰ï¼ŒæŸ¥å‡†ç‡ï¼Œå³æ­£ç¡®é¢„æµ‹ä¸ºæ­£çš„å å…¨éƒ¨é¢„æµ‹ä¸ºæ­£çš„æ¯”ä¾‹ï¼› å¬å›ç‡ï¼ˆRecallï¼‰ï¼ŒæŸ¥å…¨ç‡ï¼Œå³æ­£ç¡®é¢„æµ‹ä¸ºæ­£çš„å å…¨éƒ¨å®é™…ä¸ºæ­£çš„æ¯”ä¾‹ï¼› F1å€¼ï¼ˆH-meanå€¼ï¼‰ï¼ŒF1å€¼ä¸ºç®—æ•°å¹³å‡æ•°é™¤ä»¥å‡ ä½•å¹³å‡æ•°ï¼Œä¸”è¶Šå¤§è¶Šå¥½ï¼› å®é™…ä¸Šè¿™äº›æŒ‡æ ‡åœ¨çœŸæ­£çš„ç”Ÿäº§è¿‡ç¨‹ä¸­ç”¨çš„ä¸å¤šï¼Œåœ¨å®é™…çš„åˆ†å¸ƒå¼è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒå…³å¿ƒçš„è®­ç»ƒè¯„ä»·æŒ‡æ ‡æœ‰ï¼š åŠ é€Ÿæ¯”ï¼ˆspeedupï¼‰ï¼Œå³å¤šå¡è®­ç»ƒä¸‹çš„å•å¡ååé‡å¹³å‡æŒ‡æ ‡é™¤ä»¥å•å¡è®­ç»ƒä¸‹çš„ååé‡å¹³å‡æŒ‡æ ‡ï¼Œæ¯”å¦‚ï¼Œå¤§è§„æ¨¡è®­ç»ƒä¸‹çš„ ResNet-50 v1.5çš„å•å¡FPSæŒ‡æ ‡æ˜¯600ï¼Œè€Œå•å¡è®­ç»ƒçš„FPSæŒ‡æ ‡æ˜¯800ï¼Œé‚£ä¹ˆåŠ é€Ÿæ¯”å³ 600/800 = 0.75ï¼ŒåŠ é€Ÿæ¯”ä½“ç°çš„æ˜¯è®­ç»ƒé›†ç¾¤çš„æ•ˆç‡ä¸å¯æ‰©å±•æ€§ï¼Œè¶Šé«˜çš„åŠ é€Ÿæ¯”è¡¨æ˜è®­ç»ƒé›†ç¾¤çš„èµ„æºåˆ©ç”¨ç‡è¶Šé«˜ï¼Œä½†æ˜¯è¶Šé«˜çš„åŠ é€Ÿæ¯”è¦æ±‚å¯¹è®­ç»ƒé›†ç¾¤çš„æŠ€æœ¯è¦æ±‚ä¹Ÿè¶Šé«˜ã€‚æ¯”å¦‚ ä¸€ä¸ª 1000å¼ å¡çš„è®­ç»ƒé›†ç¾¤ï¼Œè¦æ±‚ åŠ é€Ÿæ¯” 0.9ä»¥ä¸Šï¼Œé‚£ä¹ˆå¯¹äºä¸»æœºé—´çš„ç½‘ç»œã€ä¸»æœºå†…çš„ç½‘ç»œã€å…¨æ ˆè½¯ä»¶ã€è®­ç»ƒå¡å†…éƒ¨çš„ç¡¬ä»¶æ¶æ„ã€é›†åˆé€šä¿¡æ‹“æ‰‘ç®—æ³•ã€è®­ç»ƒç®—æ³•çš„ä¼˜åŒ–ç­‰çš„è¦æ±‚éƒ½æé«˜ï¼Œè¿™å°±æ¶‰åŠåˆ°æ•´ä¸ªåˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿçš„é—®é¢˜ï¼Œè€Œä¸æ˜¯å•ä¸ªç‚¹èƒ½å½»åº•è§£å†³çš„ï¼› ååé‡ï¼Œsequence/sec æˆ– FPS, å³æ¯ç§’èƒ½å¤„ç†çš„å›¾ç‰‡æ•°æˆ–æ•°æ®é‡ï¼› æ”¶æ•›æ—¶é—´ï¼ˆTimeï¼‰ä¸è®­ç»ƒæ¬¡æ•°ï¼ˆepochï¼‰ï¼Œç”Ÿäº§è¿‡ç¨‹ä¸­å¯¹è®­ç»ƒæ‰€æœ‰çš„æ—¶é—´æ˜¯æœ‰è¦æ±‚çš„ï¼Œå‡è®¾ç»™å®šä¸€ä¸ªæ¨¡å‹çš„è®­ç»ƒæ¬¡æ•°(epoch)ä¸º100ï¼Œå¦‚æœè¦æŠŠè¿™ä¸ª100æ¬¡éƒ½è®­ç»ƒå®Œéœ€è¦ å¥½å‡ å¤©ï¼Œç”šè‡³å¥½å‡ ä¸ªæ˜ŸæœŸï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºç”Ÿäº§ä¸é€‚ç”¨ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å®šä¹‰ è®­ç»ƒä¸€ä¸ªæ¨¡å‹åˆ°æ”¶æ•›éœ€è¦ 24å°æ—¶ä»¥ä¸Šï¼Œéƒ½å¯ä»¥çœ‹åšæ˜¯ç”Ÿäº§ä¸é€‚ç”¨ï¼Œéœ€è¦æ‰©å¤§è®­ç»ƒé›†ç¾¤çš„è§„æ¨¡ï¼Œä½¿ä¹‹è®­ç»ƒæ—¶é—´æ§åˆ¶åœ¨24å°æ—¶ä¹‹å†…ï¼› å¹³å‡å‡†ç¡®ç‡(eval Accuracy)ï¼Œå¹³å‡å‡†ç¡®ç‡æ˜¯è®­ç»ƒæ˜¯å¦æ”¶æ•›çš„é‡è¦è¯„åˆ¤æ ‡å‡†ä¹‹ä¸€ï¼Œæ¯”å¦‚å®šä¹‰ä¸€ä¸ª Resnet50 v1.5 çš„è®­ç»ƒæ¨¡å‹çš„å‡†ç¡®ç‡ä¸º 76%ï¼Œå¦‚æœè®­ç»ƒç»“æŸçš„å¹³å‡å‡†ç¡®ç‡èƒ½è¾¾åˆ°è¿™ä¸ªå€¼å°±è®¤ä¸ºè®­ç»ƒæ˜¯æ”¶æ•›çš„ï¼› å¯æ”¶æ•›ï¼Œè®­ç»ƒçš„æœ€ç»ˆç»“æœå¯ä»¥è¾¾åˆ° å¹³å‡å‡†ç¡®ç‡çš„è¦æ±‚ï¼Œå³è®¤ä¸ºå¯æ”¶æ•›ï¼Œå¦è€…å³ä»»åŠ¡è®­ç»ƒå¤±è´¥ï¼› å­¦ä¹ ç‡(Learning rate)ä¸æŸå¤±ç‡(Loss)ï¼Œå­¦ä¹ ç‡å¤§æ¨¡å‹è®­ç»ƒå­¦ä¹ é€Ÿåº¦å¿«ï¼Œä½†æ˜¯æ˜“å¯¼è‡´æŸå¤±ç‡çˆ†ç‚¸, å­¦ä¹ ç‡å°æ¨¡å‹è®­ç»ƒå­¦ä¹ é€Ÿåº¦æ…¢ï¼Œè€Œä¸”å®¹æ˜“è¿‡æ‹Ÿåˆï¼Œæ”¶æ•›é€Ÿåº¦æ…¢ï¼› æ›²çº¿æ‹Ÿåˆ(Curve Fitting)ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è¯„ä»·æ‰‹æ®µï¼Œåœ¨XPUè®­ç»ƒçš„åœºæ™¯ä¸‹ï¼Œé€šå¸¸å…ˆç”¨ä¸€ä¸ªå·²æœ‰çš„ä¹‹å‰è®­ç»ƒå¥½æ¨¡å‹ä¸ºåŸºç¡€æˆ–å…ˆç”¨GPUè®­ç»ƒå‡ºä¸€ä¸ªåŸºç¡€æ¨¡å‹ï¼Œç„¶åæŠŠXPUè®­ç»ƒçš„ç»“æœæŒ‡æ ‡è·ŸGPUè®­ç»ƒæ¨¡å‹çš„æŒ‡æ ‡è¿›è¡Œæ¯”è¾ƒï¼Œæ›²çº¿æ‹Ÿåˆå³è®¤ä¸ºXPUçš„è®­ç»ƒç»“æœè¾¾æ ‡ï¼Œè¿™ä¹Ÿæ˜¯è°ƒè¯•XPUè®­ç»ƒç»“æœçš„ä¸€ä¸ªé‡è¦æ‰‹æ®µã€‚è¿™é‡ŒåŸ‹ä¸€ä¸ªé—®é¢˜ï¼ŒæŒ‰ç…§æ›²çº¿æ‹Ÿåˆçš„è¯´æ³•ï¼Œå‡è®¾æœ‰ä¸€ä¸ª2000å¼ XPUå¡çš„é›†ç¾¤ï¼Œæ€æ ·è¯„ä»·è¿™ä¸ªé›†ç¾¤è®­ç»ƒçš„ç»“æœæ˜¯æ­£ç¡®çš„ï¼Ÿä»¥GPUè®­ç»ƒçš„ç»“æœåšæ¯”è¾ƒï¼Œé‚£ä¹ˆæ‰¾ä¸€ä¸ªè¿™ä¹ˆå¤§è§„æ¨¡çš„GPUé›†ç¾¤è¿›è¡Œè®­ç»ƒç„¶åå¾—åˆ°æƒ³è¦çš„æ¨¡å‹åšåŸºç¡€åŒ¹é…ä¹Ÿæ˜¯ä¸å¤§ç°å®çš„ï¼Œé‚£ä¹ˆéœ€è¦é‡‡ç”¨ä»€ä¹ˆæŠ€æœ¯æ–¹æ¡ˆæ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ ä»¥TensorBoardä¸ºä¾‹ï¼Œè¯´æ˜æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡ï¼Œåœ¨ä¸‹é¢çš„å‘½ä»¤è¡Œåˆ—è¾“å…¥ä¸€ä¸ªbaseline:/log_path_2ï¼š tensorboard --logdir=training_model:/log_path_1, baseline:/log_path_2 è¿™ä¸ªbaseline çš„æ¨¡å‹å·²ç»ç¡®å®šæ˜¯ç²¾åº¦è¾¾æ ‡ï¼Œç”Ÿäº§å¯ç”¨çš„ã€‚ç„¶å XPUè®­ç»ƒçš„æ¨¡å‹çš„ training_model:/log_path_1 ä¸è¿™ä¸ªGPUè®­ç»ƒå¤„çš„baselineè¿›è¡Œæ¯”ï¼Œåœ¨tensorboardé‡Œå¯ä»¥è¡¨ç°å¦‚ä¸‹å›¾ï¼š åœ¨ä¸Šå›¾é‡Œï¼Œæ–°çš„æ¨¡å‹çš„eval_accuracyå€¼ä¸baselineçš„å€¼æœ€ç»ˆæ˜¯ä¸€æ ·çš„ï¼Œè¿™è¯´æ˜è®­ç»ƒç»“æœæ˜¯æ”¶æ•›ä¸”ç²¾åº¦è¾¾æ ‡ï¼Œeval_accuracyä¸­é—´çš„çº¿æœ‰ç‚¹å·®å¼‚æ˜¯ç”±äºæŒ‰ä¸åŒçš„è®­ç»ƒæ¬¡æ•°è¿›è¡ŒtensorboardæŒ‡æ ‡ä¿å­˜æ‰€é€ æˆã€‚æ–°æ¨¡å‹çš„Lossçº¿ä¸Learning_rate çº¿ä¹Ÿä¸åŸºç¡€çº¿å»åˆï¼Œè¿™è¯´æ˜XPUè®­ç»ƒçš„æ¨¡å‹è´¨é‡å¯ç”Ÿäº§é€‚ç”¨ã€‚eval_accuracyã€Lossã€Learning_rateæ˜¯ä¸‰ä¸ªæœ€é‡è¦çš„åº¦é‡æŒ‡æ ‡ï¼Œåªè¦è¿™æ ·ä¸‰ä¸ªæŒ‡æ ‡è¾¾æ ‡ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡å³å¯åˆ¤æ–­è¿™ä¸ªåœ¨XPUä¸‹æ–°è®­ç»ƒçš„æ¨¡å‹å…·å¤‡ç”Ÿäº§å¯ç”¨èƒ½åŠ›ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_2/:2:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬2ç«  - è®­ç»ƒä¸ç³»ç»Ÿè¯„ä»·æŒ‡æ ‡","uri":"/posts/distributedtraining_2/"},{"categories":["Distributed Computing"],"content":"ç³»ç»ŸæŒ‡æ ‡ åˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿå…¶æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå› æ­¤é™¤äº†è®­ç»ƒé¢†åŸŸç›¸å…³çš„åº¦é‡æŒ‡æ ‡ï¼Œä¹Ÿæœ‰ä¸åˆ†å¸ƒå¼ç³»ç»Ÿè´¨é‡æœ‰å…³çš„ä¸€å¥—åº¦é‡æŒ‡æ ‡ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„å‡ é¡¹å†…å®¹å¦‚ä¸‹ï¼š å¯ç”¨æ€§(Availability)ï¼Œå¯ç”¨æ€§æŒ‡çš„æ˜¯åˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿé•¿æ—¶é—´å¯å¯¹å¤–æä¾›æœåŠ¡çš„èƒ½åŠ›ï¼Œé€šå¸¸é‡‡ç”¨å°æ•°ç‚¹åçš„9çš„ä¸ªæ•°ä½œä¸ºåº¦é‡æŒ‡æ ‡ï¼ŒæŒ‰ç…§è¿™ç§çº¦å®šâ€œäº”ä¸ªä¹â€ç­‰äº0.99999ï¼ˆæˆ–99.999ï¼…ï¼‰çš„å¯ç”¨æ€§ï¼Œé»˜è®¤ä¼ä¸šçº§è¾¾æ ‡çš„å¯ç”¨æ€§ä¸º6ä¸ª9ã€‚ä½†æ˜¯å½“å‰ä»æ—¶é—´ç»´åº¦æ¥åº¦é‡å¯ç”¨æ€§å·²ç»æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ï¼Œå› ä¸ºè®¾è®¡å¾—å¥½çš„ç³»ç»Ÿå¯ä»¥åœ¨ç³»ç»Ÿå‡ºç°æ•…éšœå¾—æƒ…å†µä¸‹ä¹Ÿèƒ½ä¿è¯å¯¹å¤–æä¾›å¾—æœåŠ¡ä¸ä¸­æ–­ï¼Œå› æ­¤ï¼Œå½“å‰æ›´åˆé€‚å¾—å¯ç”¨æ€§åº¦é‡æŒ‡æ ‡ æ˜¯è¯·æ±‚å¤±è´¥ç‡; å¯é æ€§(Reliability)ï¼Œå¯é æ€§ä¸€èˆ¬æŒ‡ç³»ç»Ÿåœ¨ä¸€å®šæ—¶é—´å†…ã€åœ¨ä¸€å®šæ¡ä»¶ä¸‹å¯ä»¥æ— æ•…éšœåœ°æ‰§è¡ŒæŒ‡å®šåŠŸèƒ½çš„èƒ½åŠ›æˆ–å¯èƒ½æ€§ï¼Œ ä¹Ÿæ˜¯é‡‡ç”¨å°æ•°ç‚¹åçš„9çš„ä¸ªæ•°ä½œä¸ºåº¦é‡æŒ‡æ ‡ï¼Œé€šå¸¸5ä¸ª9çš„å¯é æ€§å°±å¯ä»¥æ»¡è¶³ä¼ä¸šçº§è¾¾æ ‡ï¼› å¯ä¼¸ç¼©æ€§(Scalability)ï¼Œæ˜¯æŒ‡é€šè¿‡å‘ç³»ç»Ÿæ·»åŠ èµ„æºæ¥å¤„ç†è¶Šæ¥è¶Šå¤šçš„å·¥ä½œå¹¶ä¸”ç»´æŒé«˜è´¨é‡æœåŠ¡çš„èƒ½åŠ›ï¼Œå…¶å—å¯ç”¨æ€§ä»¥åŠå¯é æ€§çš„åˆ¶çº¦ï¼Œé›†ç¾¤è§„æ¨¡è¶Šå¤§å‡ºæ•…éšœçš„æ¦‚ç‡è¶Šé«˜ä»è€Œé™ä½å¯ç”¨æ€§ã€å¯é æ€§ï¼Œä¸ºäº†ä¿è¯å¯ç”¨æ€§ä»¥åŠå¯é æ€§è¾¾æ ‡ï¼Œéœ€è¦é€‚é…åˆç†çš„å¯ä¼¸ç¼©æ€§æŒ‡æ ‡ï¼› éŸ§æ€§(resilience)ï¼Œé€šå¸¸ä¹Ÿå«å®¹é”™æ€§ï¼ˆfault-tolerantï¼‰ï¼Œä¹Ÿå°±æ˜¯å¥å£®å’Œå¼ºå£®çš„æ„æ€ï¼ŒæŒ‡çš„æ˜¯ç³»ç»Ÿçš„å¯¹æ•…éšœä¸å¼‚å¸¸çš„å¤„ç†èƒ½åŠ›ï¼Œæ¯”å¦‚åœ¨è½¯ä»¶æ•…éšœã€ç¡¬ä»¶æ•…éšœã€è®¤ä¸ºæ•…éšœè¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œç³»ç»Ÿè¿˜èƒ½ä¿æŒæ­£å¸¸å·¥ä½œçš„èƒ½åŠ›ï¼Œåˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿçš„å®¹é”™èƒ½åŠ›æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_2/:3:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬2ç«  - è®­ç»ƒä¸ç³»ç»Ÿè¯„ä»·æŒ‡æ ‡","uri":"/posts/distributedtraining_2/"},{"categories":["Distributed Computing"],"content":"å°ç»“ æœ¬æ–‡ä»å®è·µçš„è§’åº¦è®²è¿°äº†åˆ†å¸ƒå¼è®­ç»ƒçš„è®­ç»ƒç»“æœè¯„ä»·æŒ‡æ ‡ä¸ç³»ç»Ÿè¯„ä»·æŒ‡æ ‡ï¼Œè¿™äº›æŒ‡æ ‡æ˜¯åº¦é‡ä¸€ä¸ªåˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿä¸è®­ç»ƒçš„æ¨¡å‹æ˜¯å¦ç”Ÿäº§å¯ç”¨çš„é‡è¦å‚è€ƒã€‚æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æï¼Œåˆ†äº«æ˜¯æœ€å¥½çš„å­¦ä¹ ï¼Œä¸å…¶è·Ÿéšä¸å¦‚åˆ›æ–°ï¼Œå¸Œæœ›è¿™ä¸ªçŸ¥è¯†ç‚¹å¯¹å¤§å®¶æœ‰ç”¨ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_2/:4:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬2ç«  - è®­ç»ƒä¸ç³»ç»Ÿè¯„ä»·æŒ‡æ ‡","uri":"/posts/distributedtraining_2/"},{"categories":["Distributed Computing"],"content":"ref: [1]. https://zhuanlan.zhihu.com/p/487945343 ","date":"2023-07-13","objectID":"/posts/distributedtraining_1/:0:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬1ç«  - ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ","uri":"/posts/distributedtraining_1/"},{"categories":["Distributed Computing"],"content":"å‰è¨€ æ·±åº¦å­¦ä¹ è½¯ä»¶å·¥ç¨‹å…·æœ‰ä¸€ä½“ä¸¤é¢æ€§ï¼šå•å¡çš„åŠŸèƒ½å®Œå¤‡æ€§ã€è´¨é‡ã€ç”¨æˆ·ä½“éªŒä»¥åŠå¤šå¡å¤§è§„æ¨¡ã€‚å¤šå¡å¤§è§„æ¨¡çš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³è¿™æ ·ä¸€ä¸ªä¸»è¦çŸ›ç›¾ï¼Œå³ï¼šâ€œæ—¥ç›Šå¢é•¿çš„æ•°æ®ã€æ¨¡å‹è®­ç»ƒçš„éœ€æ±‚ä¸å½“å‰å•å¡è®¡ç®—èƒ½åŠ›æ— æ³•æ»¡è¶³è¿™ä¸ªéœ€æ±‚ä¹‹é—´çš„çŸ›ç›¾â€ï¼Œè€Œåˆ†å¸ƒå¼è®­ç»ƒå¯ä»¥é€šè¿‡æ‰©å±•å¡å­çš„è§„æ¨¡è§£å†³è¿™ä¸ªçŸ›ç›¾ï¼Œå› æ­¤ï¼Œè¿™å°±æ˜¯åˆ†å¸ƒå¼è®­ç»ƒçš„ä»·å€¼ã€‚ ç„¶è€Œï¼Œæ­£å¦‚æ‡‚å¾—å¾ˆå¤šé“ç†ï¼Œä»æ—§è¿‡ä¸å¥½è¿™ä¸€ç”Ÿä¸€æ ·ï¼Œæ‡‚å¾—å¾ˆå¤šåˆ†å¸ƒå¼è®­ç»ƒçš„ç†è®ºä¸çŸ¥è¯†ï¼Œä¹Ÿä¸ä¸€å®šå°±èƒ½åšå¥½ä¸€ä¸ªåˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿã€‚æŠŠè¿™ä¹ˆå¤šæœºå™¨è¿æ¥è·‘èµ·æ¥ã€è·Ÿè·‘å¥½ä¹Ÿæ˜¯ä¸¤å›äº‹ï¼Œåˆ†å¸ƒå¼è®­ç»ƒæ˜¯ä¸€é—¨å®è·µçš„è½¯ä»¶å·¥ç¨‹ï¼Œåªæœ‰ä½ PKè¿‡è®¾è®¡æ–¹æ¡ˆï¼Œè°ƒè¯•è¿‡ä¸€ä¸ªä¸ªBugï¼Œæ‰‹æŠŠæ‰‹çš„æ•²è¿‡ä¸€è¡Œè¡Œçš„ä»£ç ï¼Œä¸ºäº†æ€§èƒ½æŒ‡æ ‡èƒ½è¾¾æ ‡æ— æ‰€ä¸ç”¨å…¶æçš„å»éªŒè¯å„ç§æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Œæ‰èƒ½çŸ¥é“ç»†èŠ‚åœ¨å“ªé‡Œï¼Œéš¾ç‚¹åœ¨å“ªé‡Œï¼Œç—›ç‚¹ã€æŒ‘æˆ˜ç‚¹åœ¨å“ªé‡Œã€‚å› æ­¤ï¼Œå®è§‚å¤„ç€çœ¼ï¼Œå¾®è§‚å¤„ç€æ‰‹ï¼Œæ‰èƒ½å®Œå…¨ç†è§£åˆ†å¸ƒå¼è®­ç»ƒçš„é“ç†ã€‚ ä¸€ä¸ªçŸ¥è¯†é¢†åŸŸé‡Œçš„ â€œé“ æ³• æœ¯ å™¨â€ è¿™å››ä¸ªå¢ƒç•Œéœ€è¦ä» å¾®è§‚ã€ä¸­è§‚ä»¥åŠå®è§‚ ä¸‰ä¸ªè§’åº¦æ¥æŠŠæ¡ï¼Œå¾®è§‚æ˜¯å®è·µï¼Œä¸­è§‚è®²æ–¹æ³•è®ºï¼Œå®è§‚é é¢†æ‚Ÿã€‚æœ¬ç³»åˆ—æ–‡ç« æˆ‘æŠŠå®ƒå‘½åä¸ºã€Šåˆ†å¸ƒå¼è®­ç»ƒã€‹ï¼Œä»å·¥ç¨‹å®æˆ˜çš„è§’åº¦æ‹†è§£åˆ†å¸ƒå¼è®­ç»ƒé‡Œæœ€é‡è¦çš„å¥—è·¯ï¼Œä¹Ÿæ˜¯ä»â€œå¾®è§‚å®è·µã€ä¸­è§‚æ–¹æ³•è®ºã€å®è§‚é¢†æ‚Ÿâ€è¿™ä¸‰ä¸ªç»´åº¦ç³»ç»Ÿæ€§çš„æ¢è®¨åˆ†å¸ƒå¼è®­ç»ƒæŠ€æœ¯ï¼Œæœ¬æ–‡è®²è¿°ç¬¬ä¸€ç¯‡ï¼Œä¹Ÿæ˜¯æœ€éš¾è®²æ¸…æ¥šçš„ä¸€ç¯‡ï¼ˆåç»­ä¿æŒè¿­ä»£æ›´æ–°ï¼‰ï¼Œå³æœ¬è´¨çš„ä¸€é—®ï¼šâ€œä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ\"ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_1/:1:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬1ç«  - ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ","uri":"/posts/distributedtraining_1/"},{"categories":["Distributed Computing"],"content":"ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ ç®€å•æ¥è¯´ï¼Œåˆ†å¸ƒå¼è®­ç»ƒ = åˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿ = åˆ†å¸ƒå¼ç³»ç»Ÿ + è®­ç»ƒç³»ç»Ÿï¼Œå› æ­¤ï¼Œè¦è§£ç­”ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒå°±éœ€è¦è§£ç­”ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä»¥åŠä»€ä¹ˆæ˜¯è®­ç»ƒç³»ç»Ÿï¼Œè€Œâ€œç³»ç»Ÿ = è¦ç´ xè¿æ¥ + ç›®çš„ + è¾¹ç•Œâ€ï¼Œå› æ­¤è¿›ä¸€æ­¥çš„å°±æ˜¯éœ€è¦åˆ†æåˆ†å¸ƒå¼ç³»ç»Ÿçš„è¦ç´ ã€è¿æ¥ã€ç›®çš„ä¸è¾¹ç•Œä»¥åŠè®­ç»ƒç³»ç»Ÿçš„è¦ç´ ã€è¿æ¥ã€ç›®çš„ä¸è¾¹ç•Œã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_1/:2:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬1ç«  - ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ","uri":"/posts/distributedtraining_1/"},{"categories":["Distributed Computing"],"content":"åˆ†å¸ƒå¼ç³»ç»Ÿ åœ¨AIè®­ç»ƒè¿‡ç¨‹ä¸­é‡‡ç”¨å•å¡æ€»ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚åŸå§‹çš„æ•°æ®æ ·æœ¬å¤ªå¤§æ— æ³•åŠ è½½è¿›è®­ç»ƒå¡ï¼Œæˆ–è€…æ¨¡å‹å¤ªå¤§æ— æ³•è®­ç»ƒï¼Œé‚£ä¹ˆè¿™å°±éœ€è¦ç”¨åˆ°åˆ†å¸ƒå¼æŠ€æœ¯æŠŠå¤§é‡çš„æ•°æ®åˆ†å‰²æˆå°å—ç”±å¤šä¸ªè®­ç»ƒå¡åˆ†åˆ«è¿›è¡Œè®¡ç®—ï¼Œåœ¨æ›´æ–°è¿ç®—ç»“æœåï¼Œå†å°†ç»“æœç»Ÿä¸€åˆå¹¶å¾—å‡ºæœ€ç»ˆçš„å¯ç”¨æ¨¡å‹ã€‚ç™¾ç§‘ä¸Šå¯¹åˆ†å¸ƒå¼ç³»ç»Ÿçš„å®šä¹‰æœ‰ï¼š A distributed system is a system whose components are located on different networked computers, which communicate and coordinate their actions by passing messages to one another. The components interact with one another in order to achieve a common goal. å³ï¼š åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯æŒ‡å…¶ç»„ä»¶ä½äºä¸åŒçš„ç½‘ç»œè®¡ç®—æœºä¸Šçš„ç³»ç»Ÿï¼Œè¿™äº›ç»„ä»¶é€šè¿‡ç›¸äº’ä¼ é€’æ¶ˆæ¯æ¥è¿›è¡Œé€šä¿¡å’Œåè°ƒå…¶åŠ¨ä½œï¼Œä¸”å½¼æ­¤ç›¸äº’äº¤äº’ä»¥å®Œæˆä¸€ä¸ªå…±åŒçš„ä»»åŠ¡ç›®æ ‡ã€‚ ä»è¿™å¥è¯å¯ä»¥å¾—å‡ºä¸‰ä¸ªç»“è®ºï¼š åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç»„ä»¶æ˜¯ä½äºä¸åŒçš„ç½‘ç»œè®¡ç®—æœºä¸Šçš„ï¼› åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç»„ä»¶é€šè¿‡ä¼ é€’æ¶ˆæ¯è¿›è¡Œé€šä¿¡ä¸åè°ƒçš„ï¼› åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç»„ä»¶æ˜¯é€šè¿‡ç›¸äº’äº¤äº’ä»¥å®Œæˆä¸€ä¸ªå…±åŒçš„ä»»åŠ¡ç›®æ ‡ï¼ŒåŒæ—¶æ˜¯æœ‰è¾¹ç•Œçš„ï¼› å› æ­¤åŸºäºæ­¤å®šä¹‰ï¼Œæ‹†è§£åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¦‚å¿µï¼Œä»ä¸­å¯ä»¥çœ‹åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œçš„è¦ç´ å³ä¸ºç»„ä»¶ï¼Œè¿æ¥å³ç½‘ç»œï¼Œç›®çš„æ˜¯å…±åŒçš„ä»»åŠ¡ç›®æ ‡ã€‚å…¶ä¸­çš„ä½äºä¸åŒçš„ç½‘ç»œè®¡ç®—æœºä¸Šçš„â€œç»„ä»¶â€æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„è¦ç´ ï¼Œå³å„ç§è®¡ç®—å•å…ƒï¼Œæ¯”å¦‚Aiè®­ç»ƒåŠ é€Ÿå¡ï¼Œâ€œç½‘ç»œâ€æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„è¿æ¥ï¼Œå³ç¥ç»ç½‘ä¸æ•°æ®ç½‘ï¼Œâ€œå…±åŒçš„ä»»åŠ¡ç›®æ ‡â€æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç›®çš„ï¼Œå³è®­ç»ƒï¼Œè‡³æ­¤ï¼Œå†è¿›ä¸€æ­¥æŠ½è±¡ï¼Œå¯ä»¥æ¨å¯¼å‡ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å…¬ç†åŒ–å®šä¹‰ï¼Œä¹Ÿæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„æœ¬è´¨ç†è®ºå®šä¹‰ï¼š åˆ†å¸ƒå¼ç³»ç»Ÿ = è®¡ç®— x ç½‘ç»œ + åŠŸèƒ½ + è¾¹ç•Œ åœ¨è¿™ä¸ªå…¬å¼é‡Œï¼Œè®¡ç®—å³è®¡ç®—å•å…ƒï¼Œæ˜¯å„ç§AIè®­ç»ƒåŠ é€Ÿå¡ï¼Œæ¯”å¦‚GPU, TPU, DPU, DTUã€‚ç½‘ç»œå³ç½‘ç»œè¿æ¥å•å…ƒï¼Œåœ¨å•ä¸ªè®­ç»ƒå¡å†…ä¸ºè®¡ç®—ç”¨çš„ç¥ç»ç½‘ï¼Œä¸»æœºå†…çš„å¤šä¸ªå¡å­ä¹‹é—´æ˜¯PCIE ä»¥åŠPCIE Switchï¼Œä»¥åŠå„ç§é«˜å¸¦å®½é€šä¿¡ç½‘ï¼Œæ¯”å¦‚GenZ,CXL,NVLINK,OpenCAPI,CCIXç­‰ï¼Œåœ¨ä¸»æœºä¹‹é—´æ˜¯å„ç§é€šä¿¡ç½‘ç»œï¼Œæ¯”å¦‚RDMAç½‘ç»œã€InfiniBandç½‘ç»œã€æ™®é€šçš„TCPç½‘ç»œä»¥åŠå¯¹åº”çš„å„ç§äº¤æ¢æœºï¼Œå¦å¤–ä»ç£ç›˜ + ä¸»æœºå†…å­˜ + è®­ç»ƒå¡çš„HBMè¿™ä¸ªIOè·¯å¾„æˆ‘ä»¬è®¤ä¸ºå±äºIOç½‘ç»œï¼Œè€Œè¿™é‡Œçš„ç›®çš„å³è®­ç»ƒï¼ŒåŒæ—¶è¿™ä¸ªç³»ç»Ÿæ˜¯æœ‰è¾¹ç•Œçš„ï¼Œå…¶ä¸“æ³¨äºè§£å†³Aiè®­ç»ƒè¿‡ç¨‹ä¸­çš„éš¾é¢˜ï¼Œä¸æ˜¯ä»€ä¹ˆåŠŸèƒ½éƒ½èƒ½å¾€é‡Œå¡éƒ½èƒ½è§£å†³çš„ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_1/:2:1","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬1ç«  - ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ","uri":"/posts/distributedtraining_1/"},{"categories":["Distributed Computing"],"content":"è®­ç»ƒç³»ç»Ÿ ä»¥æ•°æ®å¹¶è¡Œéšæœºæ¢¯åº¦ä¸‹é™( SGD )æŠ€æœ¯ä¸ºä¾‹ï¼Œç¥ç»ç½‘ç»œè®­ç»ƒçš„è¿‡ç¨‹å¦‚ä¸‹: 1ï¼Œé¦–å…ˆéœ€è¦é€šè¿‡åœ¨ç¬¬ä¸€ä¸ªstepè¿›è¡ŒBroadcastæ“ä½œå°†å‚æ•°åŒæ­¥åˆ°é›†ç¾¤å†…çš„æ‰€æœ‰çš„è®­ç»ƒå¡ä¸Š; 2ï¼Œå°†æ•°æ®æ ·æœ¬åˆ‡ç‰‡åˆ†å‘åˆ°æ•´ä¸ªé›†ç¾¤çš„æ¯å¼ è®­ç»ƒå¡ä¸Šå¹¶ä¸”é€šè¿‡data LoaderæŠ€æœ¯å°†æ•°æ®æ ·æœ¬åŠ è½½è¿›è®­ç»ƒå¡çš„é«˜é€Ÿå†…å­˜ç©ºé—´å†…ï¼Œä½œä¸ºè¾“å…¥X; 3ï¼Œæ¯ä¸ªè®­ç»ƒå¡åœ¨å…¶æ•°æ®æ ·æœ¬ä¸Šè¿è¡Œå‰å‘ä¼ æ’­ï¼Œè®¡ç®—å‡ºè¯¯å·®LOSSiï¼› 4ï¼Œå¯¹è®¡ç®—å‡ºçš„LOSSiè¿›è¡Œåå‘ä¼ æ’­ï¼Œå¾—åˆ°æ¢¯åº¦GRADiï¼› 5ï¼Œæ‰€æœ‰çš„è®­ç»ƒå¡åœ¨ä¸»æœºå†…åŠä¸»æœºä¹‹é—´è¿›è¡Œé›†åˆé€šä¿¡å¹¶è¿›è¡Œæ¢¯åº¦å½’çº¦(AllReduce)ï¼› 6ï¼Œæœ€åå†è¿›è¡Œå‚æ•°æ›´æ–°ä»¥è·å¾—æ–°çš„æ¢¯åº¦å‚æ•°ã€‚ æœ¬è´¨ä¸Šåˆ†å¸ƒå¼è®­ç»ƒæ˜¯æ•°æ®åŠ è½½ã€å‰å‘ä¼ æ’­ã€åå‘ä¼ æ’­ã€é›†åˆé€šä¿¡ä»¥åŠå‚æ•°æ›´æ–°è¿™5ä¸ªæ­¥éª¤çš„é€»è¾‘ç»„åˆï¼Œå› æ­¤ï¼ŒåŸºäºä»¥ä¸Šæ­¥éª¤ï¼Œè¿™é‡Œå¯ä»¥æ¨å¯¼å‡ºè®­ç»ƒç³»ç»Ÿçš„å…¬å¼å®šä¹‰å¦‚ä¸‹ï¼š è®­ç»ƒç³»ç»Ÿ = æ•°æ®åŠ è½½ + ï¼ˆå‰å‘ä¼ æ’­ + åå‘ä¼ æ’­ï¼‰ + é›†åˆé€šä¿¡ + å‚æ•°æ›´æ–° ä»ä¸Šé¢çš„æ­¥éª¤å¯çŸ¥åˆ†å¸ƒå¼è®­ç»ƒæ˜¯åœ¨å›ºå®šçš„æ­¥éª¤è¿­ä»£ä¸­è¿›è¡Œçš„ï¼Œå¹¶ä¸”éœ€è¦ç³»ç»Ÿå†…çš„æ‰€æœ‰çš„è®­ç»ƒå¡éƒ½å®Œæˆå®ƒä»¬çš„è¿­ä»£æ­¥éª¤ï¼Œæ‰èƒ½è¿›è¡Œæœ€åçš„å‚æ•°æ›´æ–°ï¼Œè¿™ç›¸å½“äºåœ¨å•ä¸ªè®­ç»ƒå¡ä¸Šæ‰§è¡Œæ¢¯åº¦ä¸‹é™æŠ€æœ¯ï¼Œä½†æ˜¯é€šè¿‡åœ¨ç³»ç»Ÿå†…æ‰€æœ‰çš„è®­ç»ƒå¡ä¹‹é—´åˆ†å‘æ•°æ®æ ·æœ¬å¹¶åŒæ—¶æ‰§è¡Œè®¡ç®—æ¥è·å¾—è®­ç»ƒçš„åŠ é€Ÿã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_1/:2:2","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬1ç«  - ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ","uri":"/posts/distributedtraining_1/"},{"categories":["Distributed Computing"],"content":"ä¸¾ä¾‹è¯´æ˜ ä»¥TensorFlowä¸ºä¾‹è¯´æ˜æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒTensorFlow æ˜¯ç”¨æ•°æ®æµå›¾åšè®¡ç®—çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º: å›¾ä¸­æ˜¾ç¤ºäº† TensorFlow çš„è®­ç»ƒè¿‡ç¨‹ï¼Œå…¶åŒ…å«è¾“å…¥ï¼ˆinputï¼‰ã€å¡‘å½¢ï¼ˆreshapeï¼‰ã€Relu å±‚ï¼ˆRelu layerï¼‰ã€Logit å±‚ï¼ˆLogit layerï¼‰ã€Softmaxã€äº¤å‰ç†µï¼ˆcross entropyï¼‰ã€æ¢¯åº¦ï¼ˆgradientï¼‰ã€SGD è®­ç»ƒï¼ˆSGD Trainerï¼‰ç­‰éƒ¨åˆ†ã€‚ å®ƒçš„è®­ç»ƒè¿‡ç¨‹æ˜¯ï¼Œé¦–å…ˆä»æ•°æ®åˆ†ç‰‡è¾“å…¥å¼€å§‹ï¼Œç»è¿‡Reshapeæ•°æ®æ¸…æ´—åï¼Œè¿›è¡Œå‰å‘ä¼ æ’­è¿ç®—ï¼Œé€šè¿‡Relu å±‚åå¾—åˆ°LOSSå€¼ï¼Œç„¶åè¿›å…¥ Logit å±‚ï¼Œå†è¿›è¡Œåå‘ä¼ æ’­å¹¶ä¸”ç”¨ Cross Entropyã€softmaxç­‰ æ¥è®¡ç®—æ¢¯åº¦ï¼Œæ¥ç€è¿›è¡Œæ¢¯åº¦å½’çº¦(Allreduce)ï¼Œè¿™ä¸€æ­¥åœ¨åˆ†å¸ƒå¼åœºæ™¯å°±æ¶‰åŠé›†åˆé€šä¿¡çš„è¿‡ç¨‹ï¼Œæœ€åè¿›è¡Œå‚æ•°æ›´æ–°SGD Trainerï¼Œå¦‚æ­¤è¿­ä»£å¾ªç¯ç›´åˆ°è·å¾—æ”¶æ•›æŒ‡æ ‡è¾¾æ ‡çš„ç»“æœä¸ºæ­¢ã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_1/:2:3","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬1ç«  - ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ","uri":"/posts/distributedtraining_1/"},{"categories":["Distributed Computing"],"content":"å°ç»“ é‡‡ç”¨åˆ†å¸ƒå¼è®­ç»ƒçš„ç›®çš„å¾€å¾€ä¹Ÿæ˜¯å› ä¸ºæ•°æ®é‡æˆ–æ¨¡å‹å¤ªå¤§ï¼Œä¸€ä¸ªåŠ é€Ÿå¡çš„é«˜é€Ÿå†…å­˜æ”¾ä¸ä¸‹ï¼Œå› æ­¤å¯¹æ•°æ®æˆ–è€…æ¨¡å‹è¿›è¡Œåˆ‡åˆ†ï¼Œåˆ†å‘åˆ°å¤šå¡ä¸Šè¿›è¡Œè®¡ç®—ä¸å½’çº¦ã€‚æœ¬æ–‡å¾ˆæ¦‚å†µæ€§çš„è®²è¿°äº†ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒï¼Œç®€å•æ¥è¯´åˆ†å¸ƒå¼è®­ç»ƒå°±æ˜¯åˆ†å¸ƒå¼è®¡ç®—çš„ä¸€ç§ï¼Œé€šè¿‡å¯¹æ•°æ®æ ·æœ¬çš„è®¡ç®—ï¼Œå¾—å‡ºæœ€åå¯ç”¨çš„æ¨¡å‹å†ç”¨äºæ•°æ®æ¨ç†ã€‚æœ¬ç³»åˆ—æ–‡ç« çš„åç»­å†…å°†å±•å¼€è®²è¿°åˆ†å¸ƒå¼è®­ç»ƒçš„åŸºç¡€ç†è®ºã€è®­ç»ƒè¿‡ç¨‹ã€è´¨é‡ä¿è¯ã€é›†åˆé€šä¿¡ã€ç³»ç»Ÿå·¥ç¨‹ã€äº§å“åŒ–ç­‰ï¼ŒåŒæ ·åˆ†å¸ƒå¼è®­ç»ƒç³»ç»Ÿé™¤äº†è§£å†³è®­ç»ƒæ‰€å¸¦æ¥çš„å„ç§æ•…éšœä¹Ÿè¿˜éœ€è¦è§£å†³åˆ†å¸ƒå¼æ‰€å¸¦æ¥çš„å„ç§æ•…éšœã€‚ ","date":"2023-07-13","objectID":"/posts/distributedtraining_1/:3:0","tags":["Distributed Training"],"title":"åˆ†å¸ƒå¼è®­ç»ƒ â€“ ç¬¬1ç«  - ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è®­ç»ƒ","uri":"/posts/distributedtraining_1/"},{"categories":["Distributed Computing"],"content":"Horovod ä»‹ç» Horovod æ˜¯ Uber å¼€æºçš„æ·±åº¦å­¦ä¹ å·¥å…·ï¼Œå®ƒçš„å‘å±•å¸å–äº†Facebook â€œTraining ImageNet In 1 Hourâ€ ä¸ç™¾åº¦ â€œRing Allreduceâ€ çš„ä¼˜ç‚¹ï¼Œåœ¨ä¿è¯åˆ†å¸ƒå¼è®­ç»ƒæ€§èƒ½çš„åŒæ—¶ï¼Œå…¼é¡¾äº†å‰ç«¯çš„ç®€æ´å’Œå¯¹ä¸åŒæ·±åº¦å­¦ä¹ æ¡†æ¶çš„æ”¯æŒï¼Œä½¿ç”¨èµ·æ¥å¯¹å¼€å‘äººå‘˜æ¯”è¾ƒçš„å‹å¥½ï¼Œç®—æ˜¯åˆ†å¸ƒå¼è®­ç»ƒæ–¹å‘çš„æ ‡æ†é¡¹ç›®äº†ã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:1:0","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"é›†åˆé€šä¿¡åº“ é›†åˆé€šä¿¡åº“ï¼Œè¿™ä¸ªè¯å¯èƒ½å¬èµ·æ¥ä¼šæ¯”è¾ƒçš„é™Œç”Ÿï¼Œä¸è¿‡å¦‚æœæˆ‘å†æå‡ ä¸ªå…³é”®å­—ï¼Œå¯èƒ½å¤§å®¶å¤šå°‘éƒ½ä¼šæœ‰æ‰€è€³é—»ã€‚èµ„å†æ¯”è¾ƒè€çš„æ˜¯ MPI (Message Passing Interface åŠå…¶å®ç° OpenMPI å’Œ MPICHï¼Œå¹´è½»ä¸€ç‚¹çš„ä¼šæ˜¯ Nvidia é’ˆå¯¹å…¶æ˜¾å¡å¼€æºçš„ NCCLï¼Œæˆ–è€…æ˜¯ facebook å¼€æºçš„ glooï¼Œæˆ–è€…æ˜¯åƒåä¸ºé’ˆå¯¹å…¶é«˜æ€§èƒ½ç¡¬ä»¶æä¾›çš„HCCLï¼Œå¤§ä½“ä¸Šéƒ½å¯ä»¥å½’å…¥åˆ°é›†åˆé€šä¿¡åº“çš„ç±»åˆ«ã€‚ä»–ä»¬ç›¸åŒçš„åœ°æ–¹æ˜¯å¤§ä½“ä¸Šä¼šéµç…§ MPI æä¾›çš„æ¥å£è§„å®šï¼Œå®ç°äº†åŒ…æ‹¬ç‚¹å¯¹ç‚¹é€šä¿¡ï¼ˆSEND,RECVç­‰ï¼‰ï¼Œé›†åˆé€šä¿¡ï¼ˆ REDUCEï¼ŒBROADCASTï¼ŒALLREDUCEç­‰ï¼‰ç­‰ç›¸å…³æ¥å£ï¼Œç„¶åæ ¹æ®è‡ªå·±ç¡¬ä»¶æˆ–è€…æ˜¯ç³»ç»Ÿçš„éœ€è¦ï¼Œåœ¨åº•å±‚å®ç°ä¸Šè¿›è¡Œäº†ç›¸åº”çš„æ”¹åŠ¨ï¼Œä¿è¯æ¥å£çš„ç¨³å®šå’Œæ€§èƒ½ã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:2:0","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"ç‚¹å¯¹ç‚¹é€šä¿¡: Point-to-Point Communication Send/Recv: ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:2:1","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"é›†åˆé€šä¿¡ Scatter/Gather reduce/allreduce boradcast/all-gather è¿™é‡Œåœ¨æœºå™¨å­¦ä¹ è®­ç»ƒä¸­ä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯ all-reduceï¼Œåœºæ™¯ç±»ä¼¼åœ¨ä¸åŒçš„ node ä¸Šè·‘ä¸åŒ batch çš„æ•°æ®ï¼Œç„¶åæ›´æ–°æ¢¯åº¦éœ€è¦ä»å„ä¸ªæ±‡æ€»ä¹‹åå¹³å‡å†å›ä¼ åˆ°å„è‡ªçš„ node ä¸­ã€‚è€Œè¿™éƒ¨åˆ†ï¼Œæœ‰å¾ˆå¤šç§å®ç°çš„æ–¹å¼ï¼Œæ¯”è¾ƒç›´è§‚å’Œç®€å•çš„æ˜¯æŠŠæ‰€æœ‰çš„æ¢¯åº¦éƒ½æ±‡æ€»åˆ°çš„æŸä¸€ä¸ª node ä¸Šï¼ˆå¦‚ä¸‹å›¾ node d æ‰€ç¤ºï¼‰ï¼Œç„¶åå†æŠŠæ±‡æ€»çš„ä¿¡æ¯é‡æ–°åˆ†å‘åˆ°ä¸åŒçš„ node ä¸Š ï¼Œè¿™æ ·å¯ä»¥è®¡ç®—é€šä¿¡é‡ï¼Œå¦‚ä¸‹ï¼šå¯¹äº P ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ¶ˆæ¯å¤§å°ä¸º Mï¼Œnode d èŠ‚ç‚¹çš„é€šä¿¡é‡ä¸º 2*(P-1)Mï¼Œè¿™é‡Œå‡è®¾èŠ‚ç‚¹ä¹‹é—´äº’è”äº’é€šï¼Œå¸¦å®½ä¸ºBã€‚ ä¸è¿‡è¿™ç§æƒ…å†µä¸‹ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´ node d ä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼Œå› ä¸º node d éœ€è¦è·Ÿå…¶ä»–æ‰€æœ‰ node é€šä¿¡æ‰€ä»¥å®ƒçš„é€šä¿¡é‡æ˜¯å…¶ä»–èŠ‚ç‚¹çš„ P å€ã€‚å‡è®¾èŠ‚ç‚¹é—´çš„å¸¦å®½è¿˜æ˜¯ä¸€æ ·ï¼Œnode d å®Œæˆæ‰€æœ‰é€šä¿¡æ‰€éœ€è¦çš„æ—¶é—´æ˜¯ 2(P-1)M/B*ã€‚æ‰€ä»¥ç°åœ¨å¾ˆå¤šçš„é›†åˆé€šä¿¡æ¡†æ¶ä¸ä¼šä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæ›´å¤šçš„æ˜¯é€šè¿‡æ ‘çŠ¶æˆ–è€…æ˜¯ç¯çŠ¶(ring) å»å®ç° all-reduceã€‚ å¦‚æœåªæ˜¯åšæˆæ ‘çŠ¶çš„å¯ä»¥åšæˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè™½ç„¶ä¼ é€’çš„æ­¥æ•°å¢å¤šäº†ï¼Œä¸è¿‡æ¶ˆé™¤äº†node d çš„é€šä¿¡ç“¶é¢ˆï¼Œå®Œæˆæ‰€æœ‰çš„é€šä¿¡çš„æ—¶é—´å¤§æ¦‚æ˜¯ 2log_2N(M/B)*ï¼Œéšç€èŠ‚ç‚¹æ•°ç›® P çš„å¢åŠ ï¼Œæ ‘å½¢ç»“æ„çš„æ•ˆæœä¼šè¶Šæ¥è¶Šæ˜æ˜¾ã€‚ ä¸šç•Œç”¨å¾—æœ€å¤šä¸€ç§ä¼˜åŒ–çš„æ–¹å¼æ˜¯ï¼Œæ¯æ¬¡åªä¼ ä¸€éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†æ˜¯ç™¾åº¦æå‡ºçš„ ring-allreduce çš„æ–¹æ¡ˆï¼Œå…·ä½“çš„ä»‹ç»å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢Bringing HPC Techniques to Deep Learningï¼Œè¿™è¾¹å°±ä¸èµ˜è¿°äº†ã€‚æ•´ä½“ä¸Šå°±æ˜¯æ¯æ¬¡ä¸ä¼šåƒä¸Šé¢è¿™æ ·æ•´ä»½æ•°æ®ä¼ é€’ï¼Œè€Œæ˜¯ä¸€éƒ¨åˆ†ä¸€éƒ¨åˆ†ä¼ ï¼Œä¼˜åŒ–åï¼Œæ‰€æœ‰èŠ‚ç‚¹éœ€è¦ä¼ è¾“çš„æ•°æ®é‡çš„ä¼ è¾“ 2(Nâˆ’1)M/N æ¯”è¾ƒå¹³å‡ï¼Œæ‰€éœ€è¦çš„æ—¶é—´å¯ä»¥å¤§æ¦‚æ˜¯ 2(Nâˆ’1)M/(NB)ï¼Œhorovod ä¹Ÿæ˜¯åŸºäºè¿™ç§ all-reduce çš„å½¢å¼å®ç°çš„ã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:2:2","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"å®è·µ: pytorch.distributed å°è¯•ä½¿ç”¨ pytorch è‡ªå¸¦çš„åˆ†å¸ƒå¼å·¥å…·åŒ… torch.distributedï¼Œè¿›è¡Œä¸€äº›æ¦‚å¿µæ€§çš„å°è¯•ã€‚ ä¸ºäº†æ–¹ä¾¿å°è¯•ï¼Œæˆ‘è¿™é‡Œæä¾›äº†ä¸€ä¸ªç®€å•çš„ demoï¼Œå¤§å®¶å¦‚æœå®‰è£…äº† gpu ç‰ˆæœ¬çš„ pytorch \u003e= 1.3ï¼Œåº”è¯¥éƒ½å¯ä»¥å°è¯•ä¸‹é¢çš„ä¾‹å­å°è¯•ä½¿ç”¨å¤šè¿›ç¨‹æ¨¡æ‹Ÿåˆ†å¸ƒå¼ï¼ˆå•æœºä¸Šå¯ä»¥è·‘ï¼‰ã€‚ import os import torch import torch.distributed as dist import time import argparse from torch.multiprocessing import Process parser = argparse.ArgumentParser(description='PyTorch MNIST Example') parser.add_argument('-m', '--mode', type=str, default='one_device', metavar='N', help='distribute mode, distributed/one_device') parser.add_argument('-f', '--function', type=str, default='p2p', metavar='N', help='function to run (p2p/all_reduce/gpu_all_reduce)') parser.add_argument('-b', '--backend', type=str, default=\"nccl\", metavar='N', help='distribute backend (gloo/nccl)') def init_process(rank, size, fn, backend='nccl'): \"\"\" Initialize the distributed environment. \"\"\" os.environ['MASTER_ADDR'] = '127.0.0.1' os.environ['MASTER_PORT'] = '29500' dist.init_process_group(backend, rank=rank, world_size=size) fn(rank, size) def run(rank, size): tensor = torch.zeros(1) print('Rank ', rank, ' has data before send/recv', tensor) if rank == 0: tensor += 1 # Send the tensor to process 1 dist.send(tensor=tensor, dst=1) else: # Receive tensor from process 0 dist.recv(tensor=tensor, src=0) print('Rank ', rank, ' has data after send/recv', tensor) def run_allreduce(rank, size): \"\"\" Simple reduce communication. \"\"\" group = dist.new_group([0, 1]) device = torch.device('cuda:%d' % rank) tensor = torch.ones(1).to(device) dist.all_reduce(tensor, op=dist.ReduceOp.SUM, group=group) print('Rank ', rank, ' has data ', tensor[0]) def run_multigpu_allreduce(rank, size): group = dist.new_group([0, 1]) tensor_list = [] for dev_idx in range(2): device = torch.device('cuda:%d' % (2 * rank + dev_idx)) tensor = torch.ones(1).to(device) tensor_list.append(tensor) dist.all_reduce_multigpu(tensor_list) print('all_reduce_multigpu', tensor_list) dist.all_reduce(tensor_list[0], op=dist.ReduceOp.SUM, group=group) print('Rank ', rank, ' has data tensor[0]:', tensor_list[0], \", tensor[1]:\", tensor_list[1]) if __name__ == \"__main__\": args = parser.parse_args() backend = args.backend if args.mode == \"distributed\" or os.environ.get('RANK',None): print(\"in distribute mode\") if args.function == \"all_reduce\": function, size = run_allreduce, 2 elif args.function == \"gpu_all_reduce\": function, size = run_multigpu_allreduce, 2 else: function, size, backend = run, 2, \"gloo\" rank = int(os.environ['RANK']) p = Process(target=init_process, args=(rank, size, function, backend)) p.start() p.join() else: print(\"in one device mode\") if args.function == \"all_reduce\": function, size = run_allreduce, 2 elif args.function == \"gpu_all_reduce\": function, size = run_multigpu_allreduce, 2 else: function, size, backend = run, 2, \"gloo\" processes = [] for rank in range(size): p = Process(target=init_process, args=(rank, size, function, backend)) p.start() processes.append(p) for p in processes: p.join() å¯ä»¥ç®€å•åœ°è¿è¡Œä¸Šé¢çš„ä¾‹å­ï¼š send/recv: $ python3 distribute_test.py # è¾“å‡ºå¦‚ä¸‹ï¼š in one device mode Rank 0 has data before send/recv tensor([0.]) Rank 1 has data before send/recv tensor([0.]) Rank 0 has data after send/recv tensor([1.]) Rank 1 has data after send/recv tensor([1.]) ä¸Šé¢æ˜¯æ¼”ç¤ºçš„æ˜¯é€šè¿‡ pytorch çš„ multiprocessing åŒ…ï¼Œæ¨¡æ‹Ÿä¸€æ¬¡åˆ†å¸ƒå¼çš„ send/recv è¿‡ç¨‹ï¼Œè¿™é‡Œæ˜¯ rank0 çš„è¿›ç¨‹å¾€ rank1 çš„è¿›ç¨‹å‘é€ä¸€ä¸ª tensorï¼Œå¯ä»¥çœ‹åˆ° rank 1 tensor åˆå§‹åŒ–ä¸º 0ï¼Œæ˜¯æ¥æ”¶åˆ° rank 0 çš„tensor åå˜ä¸º 1 çš„ã€‚ï¼ˆæ³¨æ„ï¼šè¿™é‡Œç‰¹åˆ«è®¾ç½®äº† backend ä¸º gloo æ˜¯å› ä¸º nccl ä¸æ”¯æŒ point2point çš„ä¼ è¾“ï¼Œå…·ä½“ä¸åŒ backend æ”¯æŒä»€ä¹ˆå½¢å¼çš„åŸè¯­ï¼Œå‚è€ƒæ–‡æ¡£backendéƒ¨åˆ† ï¼‰ all_reduce $ python3 distribute_test.py -f all_reduce # è¾“å‡ºå¦‚ä¸‹ï¼š in one device mode Rank 0 has data tensor(2., device='cuda:0') Rank 1 has data tensor(2., device='cuda:1') # å¯¹åº”å‡½æ•° def run_allreduce(rank, size): \"\"\" Simple reduce communication. \"\"\" group = dist.new_group([0, 1]) # use rank 0 and rank 1 device = torch.device('cuda:%d' % rank) tensor = torch.ones(1).to(device) dist.all_reduce(tensor, op=dist.ReduceOp.SUM, group=group) print('Rank ', rank, ' has data ', tensor[0]) è¿™é‡Œä¹Ÿå¾ˆæµ…ç™½ï¼Œä¸»è¦å°±æ˜¯å¯¹ä¸¤ä¸ªè¿›ç¨‹ä¸Šçš„ tensor è¿›è¡Œä¸€æ¬¡ allreduceï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ª rank ä¸Šçš„ç»“æœéƒ½ä¸º 2äº†ã€‚ g","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:2:3","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"MPI æ›´æ·±å…¥çš„å°è¯•ï¼Œå¯ä»¥å°è¯•äº†è§£ä¸€ä¸‹ mpi çš„çŸ¥è¯†ï¼Œè¿™ä¸ªmpiæ•™ç¨‹ ç®—æ˜¯å†™å¾—æ¯”è¾ƒç³»ç»Ÿçš„ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹æ¥ç»ƒä¹ ï¼Œç‰¹åˆ«æ˜¯å¯¹åº•å±‚ä¸æ˜¯å¾ˆäº†è§£çš„åŒå­¦ï¼Œå¯ä»¥å¤šçœ‹çœ‹ Running an MPI cluster within a LAN çš„éƒ¨åˆ†ï¼Œå®æ“ä¸€ä¸‹é€šè¿‡ ssh è·‘èµ·ä¸€ä¸ªåˆ†å¸ƒå¼çš„ demoã€‚é›†åˆé€šä¿¡åº“çš„åŸºç¡€å¤§æ¦‚å…ˆåˆ°è¿™é‡Œï¼Œå¦‚æœè¦æ·±å…¥çš„å¯ä»¥å†å»çœ‹çœ‹ openMPIï¼Œå’Œ nccl çš„å®ç°ã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:2:4","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"Horovodæµç¨‹åˆ†æ ä¸‹é¢æˆ‘ä¼šä»¥ä¸€ä¸ªç®€å•çš„ pytorch horovod çš„ demo å°è¯•å»ç†è§£ä¸€ä¸‹ horovod çš„å·¥ä½œæœºç†ï¼Œdemo å¦‚ä¸‹ï¼ˆçœç•¥äº†ä¸€äº›ä¸å…³é”®çš„ä»£ç æ®µï¼‰ã€‚ä¸ºäº†å‡†ç¡®èµ·è§ï¼Œæˆ‘ä»¬æ˜¯æ ¹æ® horovod v0.20.3 çš„ç‰ˆæœ¬è¿›è¡Œé˜…è¯»çš„ï¼Œå¦‚æœæ˜¯å…¶ä»–ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šè·Ÿè¿™é‡Œçš„å†…å®¹æœ‰ä¸€äº›å‡ºå…¥ã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:3:0","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"pytorch demo ä¸€èˆ¬çš„ horovod è®­ç»ƒç¨‹åºéƒ½ä¼šåŒ…å«ä»¥ä¸‹å‡ ä¸ªå…³é”®æ­¥éª¤ï¼š 1. hvd.init: å¯¹ horovod 2. åˆå§‹åŒ–ã€‚åˆå§‹åŒ–æ¨¡å‹ï¼Œæ•°æ®é›†ï¼Œä¼˜åŒ–å™¨ï¼Œåˆå§‹åŒ–ä¸åŒ node çš„æ¨¡å‹æƒé‡ã€‚ 3. ä½¿ç”¨ hvd.DistributedOptimizer åŒ…è£…ä¼˜åŒ–å™¨ã€‚ 4. è¿›å…¥è®­ç»ƒæµç¨‹ï¼Œè¿›è¡Œä¼˜åŒ–è¿­ä»£ã€‚ æˆ‘ä»¬ä¼šç€é‡ä»‹ç»ç¬¬ 1 å’Œ 4 æ­¥ï¼Œå› ä¸ºä¸»è¦ä¹Ÿæ˜¯1ï¼Œ4æ­¥ä¼šè·Ÿ c++ åç«¯è¿›è¡Œä¿¡æ¯äº¤æ¢ã€‚ import torch.backends.cudnn as cudnn import torch.nn.functional as F import torch.optim as optim import torch.utils.data.distributed from torchvision import models import horovod.torch as hvd import timeit import numpy as np ... # some argparse hvd.init() # Set up standard model. model = getattr(models, args.model)() optimizer = optim.SGD(model.parameters(), lr=0.01 * lr_scaler) # Horovod: (optional) compression algorithm. compression = hvd.Compression.fp16 if args.fp16_allreduce else hvd.Compression.none # Horovod: wrap optimizer with DistributedOptimizer. optimizer = hvd.DistributedOptimizer(optimizer, named_parameters=model.named_parameters(), compression=compression, op=hvd.Adasum if args.use_adasum else hvd.Average) # Horovod: broadcast parameters \u0026 optimizer state. hvd.broadcast_parameters(model.state_dict(), root_rank=0) hvd.broadcast_optimizer_state(optimizer, root_rank=0) # Set up fixed fake data data = torch.randn(args.batch_size, 3, 224, 224) target = torch.LongTensor(args.batch_size).random_() % 1000 if args.cuda: data, target = data.cuda(), target.cuda() def benchmark_step(): optimizer.zero_grad() output = model(data) loss = F.cross_entropy(output, target) loss.backward() optimizer.step() #... some log configuration img_secs = [] for x in range(args.num_iters): time = timeit.timeit(benchmark_step, number=args.num_batches_per_iter) img_sec = args.batch_size * args.num_batches_per_iter / time img_secs.append(img_sec) # Results ... ç„¶åä¸‹å›¾æ˜¯æˆ‘å¯¹ horovod æ•´ä½“æµç¨‹çš„æ¢³ç†ï¼ŒæŠŠä¸€äº›ä¸æ˜¯å¾ˆå…³é”®çš„éƒ¨åˆ†éšè—äº†ï¼Œå¯èƒ½æœ‰ä¸€äº›ç»†èŠ‚çš„åœ°æ–¹å’Œå®ç°æœ‰å‡ºå…¥ï¼Œä¸è¿‡æˆ‘å¾…ä¼šä¼šæœ‰è¯¦ç»†çš„è¯´æ˜ã€‚è¿™é‡Œå…ˆè§£é‡Šä¸€ä¸‹ï¼Œä¸‹é¢å‡ ä¸ªå¤§çš„éƒ¨åˆ†: main.pyï¼š è¡¨ç¤ºè®­ç»ƒè„šæœ¬ï¼Œä¸€èˆ¬æ˜¯ ä½¿ç”¨ horovod æä¾›çš„å‡½æ•°è·Ÿç‰¹å®šçš„è®­ç»ƒæ¡†æ¶ç›¸äº’åˆä½œå®Œæˆåˆ†å¸ƒå¼è®­ç»ƒï¼ˆä¸‹æ–‡ç§°å‰ç«¯ï¼‰ C++ interfaceï¼šæ˜¯æŒ‡ horovod python å‡½æ•°è°ƒç”¨ C++ çš„æ¥å£ GlobalStateï¼šåœ¨ horovod ä¸­æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå…¶ä¸­çš„å…ƒç´ å¯ä»¥ä¾›ä¸åŒçš„çº¿ç¨‹è®¿é—®ï¼Œåœ¨åŠ è½½ C++ çš„ä»£ç æ—¶å€™å°±å·²ç»åˆ›å»ºäº†ï¼ŒåŒæ—¶åˆ›å»ºçš„è¿˜æœ‰å„ç§ contextï¼ˆmpi_context, nccl_context, gpu_contextï¼‰åé¢ä¼šæåˆ°ï¼Œä¸»è¦ä¼šåœ¨ä¸‹å›¾ backgroundThreadLoop ä¸­å®Œæˆ globalstate ä¸åŒå…ƒç´ åˆå§‹åŒ–ï¼Œæ¯”è¾ƒé‡è¦çš„æœ‰ controller ç®¡ç†æ€»ä½“é€šä¿¡æ§åˆ¶æµï¼Œtensor_queue ä¼šå¤„ç†ä»å‰ç«¯è¿‡æ¥çš„é€šä¿¡éœ€æ±‚ï¼ˆallreduceï¼Œbroadcast ç­‰ï¼‰ã€‚ BackgroundThreadLoopï¼šæ˜¯è®­ç»ƒè¿‡ç¨‹ä¸­çš„åå°çº¿ç¨‹ï¼Œä¸»è¦è´Ÿè´£è·Ÿå…¶ä»–èŠ‚ç‚¹çš„é€šä¿¡ï¼Œå’Œå¤„ç†å‰ç«¯è¿‡æ¥çš„é€šä¿¡éœ€æ±‚ï¼ˆrequestï¼‰ï¼Œä¼šè½®è¯¢è°ƒç”¨ RunLoopOnceï¼Œä¸æ–­æŸ¥çœ‹ tensor_queue ä¸­æœ‰æ²¡æœ‰éœ€è¦é€šä¿¡çš„tensorï¼Œå¦‚æœæœ‰è·Ÿå…¶ä»–èŠ‚ç‚¹åŒæ­¥æ›´æ–°ï¼Œç„¶åæ‰§è¡Œé€šä¿¡æ“ä½œã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:3:1","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"æµç¨‹åˆ†æ ä¸‹é¢ä½¿ç”¨ mpi_controller è¿›è¡Œ allreduce æ“ä½œè¿›è¡Œåˆ†æã€‚ 1.hvd.init()-\u003eInitializeHorovodOnce é¦–å…ˆï¼Œhvd.init() ä¼šé€šè¿‡ä¸€ç³»åˆ—çš„è°ƒç”¨å’Œé…ç½®æœ€ç»ˆè°ƒç”¨ horovod/common/http://operations.cc ä¸‹çš„ InitializeHorovodOnce å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ ¹æ®åŠ è½½çš„é›†åˆé€šè®¯åº“ï¼ˆmpi æˆ–è€… glooï¼‰ä¸º globalstate åˆ›å»ºå¯¹åº”çš„ controllerï¼Œç„¶åä½¿ç”¨ BackgroundThreadLoop å¯åŠ¨ä¸€ä¸ªåå°çº¿ç¨‹ã€‚ horovod/common/http://operations.cc #628 void InitializeHorovodOnce(const int* ranks, int nranks) { // ... some envParse #if HAVE_MPI // Enable mpi is it's used either i[n cpu data transfer or controller if (horovod_global.cpu_operation == LibType::MPI || horovod_global.control_operation == LibType::MPI) { mpi_context.Enable(); } // åˆ›å»ºä¸€ä¸ª MPIController å¯¹è±¡ if (horovod_global.control_operation == LibType::MPI){ horovod_global.controller.reset(new MPIController( horovod_global.response_cache, horovod_global.tensor_queue, horovod_global.timeline, horovod_global.parameter_manager, mpi_context)); horovod_global.controller-\u003eSetRanks(ranks, nranks); } #endif #if HAVE_GLOO //... #endif // Reset initialization flag horovod_global.initialization_done = false; // å¯åŠ¨åå°çº¿ç¨‹ horovod_global.background_thread = std::thread( BackgroundThreadLoop, std::ref(horovod_global)); } while (!horovod_global.initialization_done) { std::this_thread::sleep_for(std::chrono::milliseconds(1)); } } 2.BackgroundThreadLoop BackgroundThreadLoop ä¼šä¸º GlobalState åˆå§‹åŒ–ä¸€ç³»åˆ—åŒ…æ‹¬åˆå§‹åŒ– mpi_contextï¼Œ controllerçš„å…ƒç´ ï¼Œç„¶åè½®è¯¢è°ƒç”¨ RunLoopOnceï¼Œè¿˜æœ‰ä¸€äº›å¯¹ RunLoopOnce ç»“æŸåçš„åå¤„ç†ã€‚ void BackgroundThreadLoop(HorovodGlobalState\u0026 state) { #if HAVE_MPI // Initialize mpi context auto mpi_ctx_manager = MPIContextManager(); #endif // mpi_context ä¼šæ ¹æ®å‰ç«¯å’Œç¯å¢ƒå˜é‡ä¼ è¿‡æ¥çš„ä¿¡æ¯ï¼Œåˆ›å»º mpi çº¿ç¨‹ï¼Œå’Œä¸€äº› mpiOps mpi_context.Initialize(state.controller-\u003eGetRanks(), mpi_ctx_manager); #endif // Initialize controller // ä¼šåŒæ­¥ä¸åŒ node çš„ global_size, local_size, rank, is_coordinator ç­‰ä¿¡æ¯ state.controller-\u003eInitialize(); // Set background thread affinity parse_and_set_affinity(std::getenv(HOROVOD_THREAD_AFFINITY), local_size, local_rank); #if HAVE_GPU ... // è®¾ç½® gpu_context çš„ stream æ•°ç›®ç­‰åˆå§‹åŒ–åŠ¨ä½œ #endif // ä¸‹é¢æ˜¯è®¾ç½® parameter_manager è¿™é‡Œä¸ºäº†èŠ‚çœç¯‡å¹…ç›´æ¥ç»™å‡ºï¼Œè®¾ç½®çš„è¯­å¥ï¼Œ // åŸæ¥è¿™é‡Œä¼šè¯»å–å¯¹åº”çš„ç¯å¢ƒå˜é‡çš„ï¼Œå»è®¾ç½® parameter_managerã€‚ // åé¢ä¹Ÿä¼šæœ‰ç¯‡å¹…ä»‹ç» parameter_managerï¼Œè¿™é‡Œå…ˆä¸å±•å¼€ã€‚ state.parameter_manager.SetTensorFusionThresholdBytes(64 * 1024 * 1024); state.parameter_manager.SetCycleTimeMs(5); state.parameter_manager.SetCacheEnabled(true); state.response_cache.set_capacity( (int)state.parameter_manager.CacheEnabled() * state.cache_capacity); state.parameter_manager.SetHierarchicalAllgather(value, true); state.parameter_manager.SetAutoTuning(true); ... // å…¶ä»–ä¸€äº›åˆå§‹åŒ–è®¾ç½® // è®¾ç½®op_managerï¼Œè¿™é‡Œä¸»è¦æ˜¯æ³¨å†Œä¸åŒçš„é›†åˆé€šä¿¡åº“çš„ ops //ï¼ˆ å¦‚ï¼šNCCLAllreduce, MPI_GPUAllgather ç­‰ï¼‰ op_manager.reset(CreateOperationManager(state)); // åˆå§‹åŒ–å®Œæˆ state.initialization_done = true; // Iterate until shutdown. try { while (RunLoopOnce(state)); } catch (const std::exception\u0026 ex) { LOG(ERROR) \u003c\u003c \"Horovod background loop uncaught exception: \" \u003c\u003c ex.what(); } ... // å…¶ä»–ä¸€äº›åå¤„ç†å‡½æ•° } 3.Optimizer.step()-\u003eDoAllReduce è¿™é‡Œæˆ‘ä»¬å…ˆä¸æ€¥ç€çœ‹ RunLoopOnce å‡½æ•°ï¼Œå…ˆå›åˆ° InitializeHorovodOnce ï¼Œå› ä¸ºä¸Šé¢çš„ initialization_done = Trueï¼Œæ‰€ä»¥ InitializeHorovodOnce å¯ä»¥é€€å‡ºäº†ï¼Œå°±æ˜¯å‰ç«¯çš„ hvd.init() å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥äº†ã€‚è¿™é‡Œ main.py èµ°å®Œå‰å‘ loss = model(data,target)ï¼Œåå‘é€»è¾‘ loss.backward()ï¼Œè°ƒç”¨ optimizer.step() è¿›è¡Œæ¢¯åº¦åŒæ­¥ã€‚optimizer.step() ä¼šé€šè¿‡ä¸€ç³»åˆ—çš„è°ƒç”¨å’Œå¤„ç†ï¼ˆå¦‚ï¼šcompression ç­‰æ“ä½œï¼‰æœ€ç»ˆä¼šè°ƒç”¨ C++ interface çš„ DoAllReduce å‡½æ•°ã€‚ DoAllReduce å‡½æ•°ä¼šè°ƒç”¨ EnqueueTensorAllreduce å‡½æ•°ä¼šæŠŠéœ€è¦ reduce çš„ tensor ç»„è£…æˆä¸€ä¸ªRequest å¾€ GlobalState çš„ tensor_queue é‡Œé¢å¡ã€‚è¿™é‡Œæ³¨æ„æ¯ä¸ª tensor ä¼šåˆ›å»ºå¯¹åº” TensorTableEntryï¼Œç”¨äºä¿å­˜tensor çš„æƒé‡ï¼Œmessage ä¸»è¦æ˜¯ä¸€äº› å…ƒä¿¡æ¯ metadataã€‚ç„¶åå°±ç­‰åå°çº¿ç¨‹å»è¯»å–è¿™äº›allreduce çš„è¯·æ±‚äº†ã€‚ Status EnqueueTensorAllreduce(std::shared_ptr\u003cOpContext\u003e context, std::shared_ptr\u003cTensor\u003e tensor, std::shared_ptr\u003cTensor\u003e output, std::shared_ptr\u003cReadyEvent\u003e ready_event, const std::string name, const int device, StatusCallback callback, ReduceOp reduce_op, double prescale_factor, double postscale_factor) { Status status; ... // some config Request message; message.set_request_rank(horovod_global.controller-\u003eGetRank()); message.set_tensor_name(name); message.set_tensor_type(tensor-\u003edtype()); message.set_device(device); message.set_prescale_factor(prescale_factor); messag","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:3:2","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"å…¶ä»–å…³é”®æ¨¡å— ä¸Šé¢åªæ˜¯ä»‹ç»äº† horovod ä¸»æµç¨‹å·¥ä½œåŸç†ï¼Œä¸è¿‡ horovod è¿˜æœ‰å…¶ä»–ä¸€äº›æ¨¡å—ååŒä¸»æµç¨‹å·¥ä½œçš„ï¼Œä¸‹é¢ä¼šå¯¹å…¶ä¸­çš„ä¸€äº›æˆ‘è®¤ä¸ºå¯ä»¥å€¼å¾—ä¸€è¯´çš„æ¨¡å—è¯´ä¸€ä¸‹ã€‚ Parameter_manager: Parameter_manager ä¸»è¦æ˜¯ GlobalState çš„ä¸€ä¸ªç”¨äºç®¡ç†ä¸€äº›è°ƒèŠ‚ horovod æ€§èƒ½çš„å‚æ•°çš„ç®¡ç†å™¨ï¼Œåœ¨ BackgroundThreadLoop ä¸­è·Ÿå…¶ä»–çš„ GlobalState çš„å…ƒç´ ä¸€åŒåˆå§‹åŒ–ï¼Œç„¶åä¼šè¯»å–ä¸‹é¢è¿™äº›å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œç„¶åè¿›è¡Œè®¾ç½®ã€‚ HOROVOD_FUSION_THRESHOLDï¼šæŒ‡ä¼ è¾“æ•°æ®åˆ‡ç‰‡çš„å¤§å°ï¼Œé»˜è®¤æ˜¯64Mï¼Œå¦‚æœåˆ‡ç‰‡å¤ªå¤§ï¼Œä¼ è¾“çš„æ—¶å€™å°±ä¸èƒ½å¾ˆå¥½åœ° pipeline ä¼ è¾“ï¼Œå¦‚æœå¤ªå°ï¼Œä¸€ä¸ª tensor éœ€è¦ä¼ è¾“å¤šæ¬¡ï¼Œå¢åŠ  IO çš„ overheadã€‚ HOROVOD_CYCLE_TIMEï¼šæŒ‡ RunLoopOnce çš„ç¡çœ æ—¶é•¿ï¼Œé»˜è®¤æ˜¯ 5msï¼Œæˆ‘è‡ªå·±çš„çŒœæµ‹ï¼ˆè¿˜æ²¡è¿›è¡ŒéªŒè¯ï¼‰æ¯”è¾ƒç†æƒ³çš„ç¡çœ æ—¶é—´åº”è¯¥æ˜¯ RunLoopOnce å…¶ä½™é€»è¾‘å¤„ç†çš„æ—¶é—´ + HOROVOD_CYCLE_TIME åˆšå¥½ç­‰äºä¸€æ¬¡å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­æ‰€ç”¨çš„æ—¶é—´ï¼Œå› ä¸ºç¡å¤ªä¹…å‰ç«¯ä¼šåœ¨ç­‰ RunLoopOnce ç¡é†’ï¼›å¦‚æœç¡å¤ªçŸ­ï¼Œä¸æ–­åœ°è·‘ä¸€æ¬¡ RunLoopOnceï¼Œtensor_queue ä¹Ÿä¸ä¼šæœ‰æ–°çš„å…ƒç´ ï¼Œåªæ˜¯ç™½è·‘ã€‚ HOROVOD_CACHE_CAPACITYï¼šæŒ‡ cache çš„å¤§å°ï¼Œè¿™ä¸ªå¯èƒ½è·Ÿ model å±‚æ•°å‚æ•°é‡ç›¸å…³äº†ã€‚ HOROVOD_HIERARCHICAL_ALLGATHERï¼šæ˜¯å¦ä½¿ç”¨åˆ†å±‚çš„allgatherçš„æ–¹å¼ç­‰ Parameter_managerä¹Ÿæä¾›äº†å¯¹è¿™äº›å‚æ•°è‡ªåŠ¨è°ƒèŠ‚çš„åŠŸèƒ½ã€‚é€šè¿‡Parameter_manager.SetAutoTuningè¿›è¡Œè®¾ç½®ï¼Œè®¾ç½®åä¼šåœ¨åˆå§‹çš„å‡ ä¸ªbatchå°è¯•ä¸åŒçš„å‚æ•°ç»„åˆè¿›è¡Œé€šä¿¡ï¼Œåé¢ä¼šæ”¶æ•›åˆ°ä¸€ç»„æœ€ä¼˜çš„å‚æ•°å€¼ã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:3:3","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"MPIContext mpi_context æ˜¯åœ¨åŠ è½½ C++ çš„ä»£ç æ—¶å€™å°±å·²ç»åˆ›å»ºäº†ï¼ŒåŒæ—¶åˆ›å»ºçš„è¿˜æœ‰å…¶ä»– contextï¼ˆ nccl_context, gpu_contextï¼‰ï¼Œä¸»è¦æ˜¯ç»´æŠ¤ä¸€äº›èŠ‚ç‚¹ä¸Š mpi é€šä¿¡çš„å¿…è¦ç¯å¢ƒä¿¡æ¯å’Œè®¾ç½®ï¼Œå¦‚ï¼š 3 ä¸ª MPI communicatorï¼Œmpi_commï¼Œlocal_commï¼Œcross_comm åˆ†åˆ«è´Ÿè´£ horovod mpi ä¼ è¾“ï¼ŒèŠ‚ç‚¹å†…ä¼ è¾“ï¼Œå’ŒèŠ‚ç‚¹é—´åˆ†å±‚ä¼ è¾“ï¼ˆä¸»è¦ç”¨äº hierarchical allreduceï¼‰ã€‚ mpi_float16_t: horovod ä¸»è¦ä»¥ float16 ä¼ è¾“ã€‚ mpi_float16_sum: float16 å¯¹åº”çš„sum æ“ä½œã€‚ åœ¨ horovod ä½¿ç”¨ mpi çš„æ—¶å€™ï¼Œéƒ½ä¼šä½¿ç”¨ä¸Šé¢çš„ communicator è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚ ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:3:4","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"Tensorflow2 TensorFlow2 å‰ç«¯å¯¹ horovod çš„è°ƒç”¨è·Ÿ pytorch ç±»ä¼¼ï¼Œåªæ˜¯å› ä¸º tensorflow 2 æ˜¯é€šè¿‡ tape ç­‰çº§åˆ¶è®°å½•æ¢¯åº¦çš„, æ‰€ä»¥ä¼šæœ‰ä¸€äº›ä¸åŒã€‚ hvd.init() # Set up standard model. model = getattr(applications, args.model)(weights=None) opt = tf.optimizers.SGD(0.01) data = tf.random.uniform([args.batch_size, 224, 224, 3]) target = tf.random.uniform([args.batch_size, 1], minval=0, maxval=999, dtype=tf.int64) @tf.function def benchmark_step(first_batch): # Horovod: (optional) compression algorithm. compression = hvd.Compression.fp16 if args.fp16_allreduce else hvd.Compression.none # Horovod: use DistributedGradientTape with tf.GradientTape() as tape: probs = model(data, training=True) loss = tf.losses.sparse_categorical_crossentropy(target, probs) # Horovod: add Horovod Distributed GradientTape. tape = hvd.DistributedGradientTape(tape, compression=compression) gradients = tape.gradient(loss, model.trainable_variables) opt.apply_gradients(zip(gradients, model.trainable_variables)) if first_batch: hvd.broadcast_variables(model.variables, root_rank=0) hvd.broadcast_variables(opt.variables(), root_rank=0) for x in range(args.num_iters): benchmark_step(first_batch=False) with tf.GradientTape() as tapeè¿™ä¸€å¥ä¼šè°ƒç”¨ horovod/tensorflow/__init__.py ä¸­_DistributedGradientTape ä¸‹ init å‡½æ•°æ³¨å†Œ allreduce çš„å¥æŸ„ï¼ˆhandleï¼‰ ç„¶åè°ƒç”¨ gradients = tape.gradient(loss, model.trainable_variables) ä¼šè°ƒç”¨ä¸€ç³»åˆ—çš„è·³è½¬æœ€åä¼šè°ƒç”¨ tensorflow/mpi_ops.py ä¸‹çš„ _allreduce ï¼Œè¿›è€Œè°ƒç”¨ `MPI_LIB.horovod_allreduce MPI_LIB.horovod_allreduce åœ¨ horovod/tensorflow/http://mpi_ops.cc ä¸­è¢« HorovodAllreduceOp æ‰€æ³¨å†Œï¼Œæ ¹æ® TensorFlow çš„ opsæµç¨‹ï¼Œä¼šè°ƒç”¨ ops.ComputeAsyncï¼Œåˆ°è¿™é‡Œä¼šè·Ÿ pytorch ç±»ä¼¼ä¼šè°ƒç”¨ EnqueueTensorAllreduce æŠŠå¯¹åº”çš„ tensor å’Œ ops é€åˆ° GlobalState çš„ tensor_queue ä¸­ã€‚ class HorovodAllreduceOp : public AsyncOpKernel { public: explicit HorovodAllreduceOp(OpKernelConstruction* context) : AsyncOpKernel(context) { OP_REQUIRES_OK(context, context-\u003eGetAttr(\"reduce_op\", \u0026reduce_op_)); OP_REQUIRES_OK(context, context-\u003eGetAttr(\"prescale_factor\", \u0026prescale_factor_)); OP_REQUIRES_OK(context, context-\u003eGetAttr(\"postscale_factor\", \u0026postscale_factor_)); OP_REQUIRES_OK(context, context-\u003eGetAttr(\"ignore_name_scope\", \u0026ignore_name_scope_)); } void ComputeAsync(OpKernelContext* context, DoneCallback done) override { OP_REQUIRES_OK_ASYNC(context, ConvertStatus(common::CheckInitialized()), done); ... // ä¸€äº›å˜é‡éªŒè¯ï¼Œåˆå§‹åŒ– auto enqueue_result = EnqueueTensorAllreduce( hvd_context, hvd_tensor, hvd_output, ready_event, node_name, device, [context, done](const common::Status\u0026 status) { context-\u003eSetStatus(ConvertStatus(status)); done(); }, reduce_op, (double) prescale_factor_, (double) postscale_factor_); OP_REQUIRES_OK_ASYNC(context, ConvertStatus(enqueue_result), done); } private: int reduce_op_; // Using float since TF does not support double OP attributes float prescale_factor_; float postscale_factor_; bool ignore_name_scope_; }; ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:3:5","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["Distributed Computing"],"content":"æ€»ç»“ horovod çš„æµç¨‹åˆ†æå¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œæ²¡æœ‰ç‰¹åˆ«å¤æ‚ï¼Œä»£ç çš„é˜…è¯»ä½“éªŒä¹Ÿæ˜¯æ¯”è¾ƒå¥½çš„ï¼Œåœ¨ä¸»æµç¨‹çš„å…³é”®å‡½æ•°éƒ½æœ‰æ¯”è¾ƒæ¸…æ™°çš„æ³¨é‡Šã€‚å¯¹äºç¬¬ä¸‰æ–¹å¼€å‘è€…æ¥è¯´ï¼Œhorovod æœ¬èº«å·²ç»ç”¨äº†å¾ˆå¤šæé«˜æ€§èƒ½çš„ tricksï¼Œå¯ä»¥ custom ä¼˜åŒ–çš„åœ°æ–¹ä¸å¤šï¼Œä¸€äº›å¯ä»¥åŠ¨çš„å‚æ•°ï¼Œä¹Ÿå·²ç»æä¾›äº†autotuningï¼Œç›´æ¥ä½¿ç”¨å°±å¯ä»¥å¾—åˆ°å¾ˆå¥½çš„æ€§èƒ½ã€‚å¦‚æœå°è¯•ä¼˜åŒ–ï¼Œå¯èƒ½è¦ä»ä¼ è¾“ä¸Šç€æ‰‹ï¼Œå¦‚ BytePS ä¼šå°è¯•ä½¿ç”¨ä¸åŒçš„ç½‘ç»œæ‹“æ‰‘å¼•å…¥ä¸€äº› PS èŠ‚ç‚¹æé«˜å¸¦å®½ç­‰ï¼Œå¦‚æœæœ‰æ—¶é—´æˆ‘ä¹Ÿä¼šèŠä¸€ä¸‹è¿™ä¸ªã€‚å¦å¤–ä¸Šé¢çš„åˆ†æä¹Ÿæœ‰å¾ˆå¤šæ˜¯æˆ‘è‡ªå·±é˜…è¯»ä»£ç æ—¶å€™çš„ä¸€äº›æ€è€ƒå¯èƒ½ä¸ä¸€å®šå‡†ç¡®ï¼Œå¦‚æœæœ‰ä¸å‡†ç¡®æˆ–è€…æ¨¡ç³Šçš„åœ°æ–¹ï¼Œä¹Ÿå¸Œæœ›å¤§å®¶å¯ä»¥å¤šå¤šæ–§æ­£ã€‚ References: [1]. https://zhuanlan.zhihu.com/p/332825987 [2]. https://zhuanlan.zhihu.com/p/158584571 [3]. https://zhuanlan.zhihu.com/p/79030485 [4]. https://github.com/zjykzj/pytorch-distributed [5]. MPIæ•™ç¨‹ https://blog.csdn.net/qq_47058489/article/details/125980505 https://blog.csdn.net/weixin_45385568/article/details/121208161?spm=1001.2101.3001.6650.1\u0026utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-121208161-blog-87971642.pc_relevant_multi_platform_featuressortv2removedup\u0026depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-121208161-blog-87971642.pc_relevant_multi_platform_featuressortv2removedup\u0026utm_relevant_index=1 [5.] ubuntu20.04 + docker + horovod Horovod and Distributed Training ","date":"2023-07-13","objectID":"/posts/horovod_and_openmpi/:4:0","tags":["Horovod"],"title":"Horovod and Openmpi","uri":"/posts/horovod_and_openmpi/"},{"categories":["OS"],"content":"è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ« ","date":"2023-07-13","objectID":"/posts/os_2/:1:0","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹çš„æ¦‚å¿µ è¿›ç¨‹ï¼š æ˜¯å¹¶å‘æ‰§è¡Œçš„ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åˆ†é…å’Œç®¡ç†èµ„æºçš„åŸºæœ¬å•ä½ï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€æ¦‚å¿µï¼Œç«äº‰è®¡ç®—æœºç³»ç»Ÿèµ„æºçš„åŸºæœ¬å•ä½ã€‚ çº¿ç¨‹ï¼š æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œæ˜¯è¿›ç¨‹å†…ç§‘è°ƒåº¦å®ä½“ã€‚æ¯”è¿›ç¨‹æ›´å°çš„ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹ä¹Ÿè¢«ç§°ä¸ºè½»é‡çº§è¿›ç¨‹ã€‚ åç¨‹ï¼š æ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨ã€‚ä¸€ä¸ªçº¿ç¨‹ä¹Ÿå¯ä»¥æ‹¥æœ‰å¤šä¸ªåç¨‹ã€‚å…¶æ‰§è¡Œè¿‡ç¨‹æ›´ç±»ä¼¼äºå­ä¾‹ç¨‹ï¼Œæˆ–è€…è¯´ä¸å¸¦è¿”å›å€¼çš„å‡½æ•°è°ƒç”¨ã€‚ ","date":"2023-07-13","objectID":"/posts/os_2/:1:1","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ« åœ°å€ç©ºé—´ï¼š çº¿ç¨‹å…±äº«æœ¬è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œè€Œè¿›ç¨‹ä¹‹é—´æ˜¯ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚ èµ„æºï¼š çº¿ç¨‹å…±äº«æœ¬è¿›ç¨‹çš„èµ„æºå¦‚å†…å­˜ã€I/Oã€cpuç­‰ï¼Œä¸åˆ©äºèµ„æºçš„ç®¡ç†å’Œä¿æŠ¤ï¼Œè€Œè¿›ç¨‹ä¹‹é—´çš„èµ„æºæ˜¯ç‹¬ç«‹çš„ï¼Œèƒ½å¾ˆå¥½çš„è¿›è¡Œèµ„æºç®¡ç†å’Œä¿æŠ¤ã€‚ å¥å£®æ€§ï¼š å¤šè¿›ç¨‹è¦æ¯”å¤šçº¿ç¨‹å¥å£®ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå¯¹å…¶ä»–è¿›ç¨‹äº§ç”Ÿå½±å“ï¼Œä½†æ˜¯ä¸€ä¸ªçº¿ç¨‹å´©æºƒæ•´ä¸ªè¿›ç¨‹éƒ½æ­»æ‰ã€‚ æ‰§è¡Œè¿‡ç¨‹ï¼š æ¯ä¸ªç‹¬ç«‹çš„è¿›ç¨‹æœ‰ä¸€ä¸ªç¨‹åºè¿è¡Œçš„å…¥å£ã€é¡ºåºæ‰§è¡Œåºåˆ—å’Œç¨‹åºå…¥å£ï¼Œæ‰§è¡Œå¼€é”€å¤§ã€‚ ä½†æ˜¯çº¿ç¨‹ä¸èƒ½ç‹¬ç«‹æ‰§è¡Œï¼Œå¿…é¡»ä¾å­˜åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œç”±åº”ç”¨ç¨‹åºæä¾›å¤šä¸ªçº¿ç¨‹æ‰§è¡Œæ§åˆ¶ï¼Œæ‰§è¡Œå¼€é”€å°ã€‚ å¯å¹¶å‘æ€§ï¼š ä¸¤è€…å‡å¯å¹¶å‘æ‰§è¡Œã€‚ åˆ‡æ¢æ—¶ï¼š è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œæ¶ˆè€—çš„èµ„æºå¤§ï¼Œæ•ˆç‡é«˜ã€‚æ‰€ä»¥æ¶‰åŠåˆ°é¢‘ç¹çš„åˆ‡æ¢æ—¶ï¼Œä½¿ç”¨çº¿ç¨‹è¦å¥½äºè¿›ç¨‹ã€‚åŒæ ·å¦‚æœè¦æ±‚åŒæ—¶è¿›è¡Œå¹¶ä¸”åˆè¦å…±äº«æŸäº›å˜é‡çš„å¹¶å‘æ“ä½œï¼Œåªèƒ½ç”¨çº¿ç¨‹ä¸èƒ½ç”¨è¿›ç¨‹ã€‚ å…¶ä»–ï¼š çº¿ç¨‹æ˜¯å¤„ç†å™¨è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œä½†æ˜¯è¿›ç¨‹ä¸æ˜¯ã€‚ ","date":"2023-07-13","objectID":"/posts/os_2/:1:2","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"åç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ« åç¨‹é¿å…äº†æ— æ„ä¹‰çš„è°ƒåº¦ï¼Œç”±æ­¤å¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†ç¨‹åºå‘˜å¿…é¡»è‡ªå·±æ‰¿æ‹…è°ƒåº¦çš„è´£ä»»ã€‚åŒæ—¶ï¼Œåç¨‹ä¹Ÿå¤±å»äº†æ ‡å‡†çº¿ç¨‹ä½¿ç”¨å¤šCPUçš„èƒ½åŠ›ã€‚ çº¿ç¨‹ï¼ˆthreadï¼‰ ç›¸å¯¹ç‹¬ç«‹ æœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ åˆ‡æ¢å—ç³»ç»Ÿæ§åˆ¶ï¼› åç¨‹ï¼ˆcoroutineï¼‰ ç›¸å¯¹ç‹¬ç«‹ æœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ åˆ‡æ¢ç”±è‡ªå·±æ§åˆ¶ï¼Œç”±å½“å‰åç¨‹åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ç”±å½“å‰åç¨‹æ¥æ§åˆ¶ã€‚ ","date":"2023-07-13","objectID":"/posts/os_2/:1:3","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"ä½•æ—¶ä½¿ç”¨å¤šè¿›ç¨‹ï¼Œä½•æ—¶ä½¿ç”¨å¤šçº¿ç¨‹ï¼Ÿ å¯¹èµ„æºçš„ç®¡ç†å’Œä¿æŠ¤è¦æ±‚é«˜ï¼Œä¸é™åˆ¶å¼€é”€å’Œæ•ˆç‡æ—¶ï¼Œä½¿ç”¨å¤šè¿›ç¨‹ã€‚ è¦æ±‚æ•ˆç‡é«˜ï¼Œé¢‘ç¹åˆ‡æ¢æ—¶ï¼Œèµ„æºçš„ä¿æŠ¤ç®¡ç†è¦æ±‚ä¸æ˜¯å¾ˆé«˜æ—¶ï¼Œä½¿ç”¨å¤šçº¿ç¨‹ã€‚ ","date":"2023-07-13","objectID":"/posts/os_2/:1:4","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"ä¸ºä»€ä¹ˆä¼šæœ‰çº¿ç¨‹ï¼Ÿ æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼Œå³è¿›ç¨‹ç©ºé—´ï¼Œåœ¨ç½‘ç»œæˆ–å¤šç”¨æˆ·æ¢æœºä¸‹ï¼Œä¸€ä¸ªæœåŠ¡å™¨é€šå¸¸éœ€è¦æ¥æ”¶å¤§é‡ä¸ç¡®å®šæ•°é‡ç”¨æˆ·çš„å¹¶å‘è¯·æ±‚ï¼Œä¸ºæ¯ä¸€ä¸ªè¯·æ±‚éƒ½åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ˜¾ç„¶è¡Œä¸é€šï¼ˆç³»ç»Ÿå¼€é”€å¤§å“åº”ç”¨æˆ·è¯·æ±‚æ•ˆç‡ä½ï¼‰ï¼Œå› æ­¤æ“ä½œç³»ç»Ÿä¸­çº¿ç¨‹æ¦‚å¿µè¢«å¼•è¿›ã€‚ ","date":"2023-07-13","objectID":"/posts/os_2/:1:5","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"*pythonå¤šçº¿ç¨‹å­˜åœ¨çš„é—®é¢˜ å­˜åœ¨é—®é¢˜ï¼š pythonç”±äºå†å²é—ç•™çš„é—®é¢˜ï¼Œä¸¥æ ¼è¯´å¤šä¸ªçº¿ç¨‹å¹¶ä¸ä¼šåŒæ—¶æ‰§è¡Œï¼ˆæ²¡æ³•æœ‰æ•ˆåˆ©ç”¨å¤šæ ¸å¤„ç†å™¨ï¼Œpythonçš„å¹¶å‘åªæ˜¯åœ¨äº¤æ›¿æ‰§è¡Œä¸åŒçš„ä»£ç ï¼‰ã€‚ å¤šçº¿ç¨‹åœ¨Pythonä¸­åªèƒ½äº¤æ›¿æ‰§è¡Œï¼Œå³ä½¿100ä¸ªçº¿ç¨‹è·‘åœ¨100æ ¸CPUä¸Šï¼Œä¹Ÿåªèƒ½ç”¨åˆ°1ä¸ªæ ¸ã€‚æ‰€ä»¥pythonçš„å¤šçº¿ç¨‹å¹¶å‘å¹¶ä¸èƒ½å……åˆ†åˆ©ç”¨å¤šæ ¸ï¼Œå¹¶å‘æ²¡æœ‰javaçš„å¹¶å‘ä¸¥æ ¼ã€‚ åŸå› ï¼š åŸå› å°±åœ¨äºGIL ï¼Œåœ¨Cpython è§£é‡Šå™¨ï¼ˆPythonè¯­è¨€çš„ä¸»æµè§£é‡Šå™¨ï¼‰ä¸­ï¼Œæœ‰ä¸€æŠŠå…¨å±€è§£é‡Šé”ï¼ˆGIL, Global Interpreter Lockï¼‰ï¼Œåœ¨è§£é‡Šå™¨è§£é‡Šæ‰§è¡ŒPython ä»£ç æ—¶ï¼Œä»»ä½•Pythonçº¿ç¨‹æ‰§è¡Œå‰ï¼Œéƒ½å…ˆè¦å¾—åˆ°è¿™æŠŠGILé”ã€‚ è¿™ä¸ªGILå…¨å±€é”å®é™…ä¸ŠæŠŠæ‰€æœ‰çº¿ç¨‹çš„æ‰§è¡Œä»£ç éƒ½ç»™ä¸Šäº†é”ã€‚ è¿™æ„å‘³ç€ï¼Œpythonåœ¨ä»»ä½•æ—¶å€™ï¼Œåªå¯èƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œä»£ç ã€‚ å…¶å®ƒçº¿ç¨‹è¦æƒ³è·å¾—CPUæ‰§è¡Œä»£ç æŒ‡ä»¤ï¼Œå°±å¿…é¡»å…ˆè·å¾—è¿™æŠŠé”ï¼Œå¦‚æœé”è¢«å…¶å®ƒçº¿ç¨‹å ç”¨äº†ï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹å°±åªèƒ½ç­‰å¾…ï¼Œç›´åˆ°å æœ‰è¯¥é”çš„çº¿ç¨‹é‡Šæ”¾é”æ‰æœ‰æ‰§è¡Œä»£ç æŒ‡ä»¤çš„å¯èƒ½ã€‚ å¤šä¸ªçº¿ç¨‹ä¸€èµ·æ‰§è¡Œåè€Œæ›´åŠ æ…¢çš„åŸå› ï¼š åŒä¸€æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œå…¶å®ƒçº¿ç¨‹åªèƒ½ç­‰å¾…ï¼Œå³ä½¿æ˜¯å¤šæ ¸CPUï¼Œä¹Ÿæ²¡åŠæ³•è®©å¤šä¸ªçº¿ç¨‹ã€Œå¹¶è¡Œã€åœ°åŒæ—¶æ‰§è¡Œä»£ç ï¼Œåªèƒ½æ˜¯äº¤æ›¿æ‰§è¡Œï¼Œå› ä¸ºå¤šçº¿ç¨‹æ¶‰åŠåˆ°ä¸Šçº¿æ–‡åˆ‡æ¢ã€é”æœºåˆ¶å¤„ç†ï¼ˆè·å–é”ï¼Œé‡Šæ”¾é”ç­‰ï¼‰ï¼Œæ‰€ä»¥ï¼Œå¤šçº¿ç¨‹æ‰§è¡Œä¸å¿«åæ…¢ã€‚ ä»€ä¹ˆæ—¶å€™GILè¢«é‡Šæ”¾ï¼Ÿ å½“ä¸€ä¸ªçº¿ç¨‹é‡åˆ°I/O ä»»åŠ¡æ—¶ï¼Œå°†é‡Šæ”¾GILã€‚ è®¡ç®—å¯†é›†å‹ï¼ˆCPU-boundï¼‰çº¿ç¨‹æ‰§è¡Œ100æ¬¡è§£é‡Šå™¨çš„è®¡æ­¥ï¼ˆticksï¼‰æ—¶ï¼ˆè®¡æ­¥å¯ç²—ç•¥çœ‹ä½œPython è™šæ‹Ÿæœºçš„æŒ‡ä»¤ï¼‰ï¼Œä¹Ÿä¼šé‡Šæ”¾GILã€‚ å³ï¼Œæ¯æ‰§è¡Œ100æ¡å­—èŠ‚ç ï¼Œè§£é‡Šå™¨å°±è‡ªåŠ¨é‡Šæ”¾GILé”ï¼Œè®©åˆ«çš„çº¿ç¨‹æœ‰æœºä¼šæ‰§è¡Œã€‚ Pythonè™½ç„¶ä¸èƒ½åˆ©ç”¨å¤šçº¿ç¨‹å®ç°å¤šæ ¸ä»»åŠ¡ï¼Œä½†å¯ä»¥é€šè¿‡å¤šè¿›ç¨‹å®ç°å¤šæ ¸ä»»åŠ¡ã€‚å¤šä¸ªPythonè¿›ç¨‹æœ‰å„è‡ªç‹¬ç«‹çš„GILé”ï¼Œäº’ä¸å½±å“ã€‚ å‚è€ƒåšå®¢ ","date":"2023-07-13","objectID":"/posts/os_2/:1:6","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"*è¿›ç¨‹çš„å‡ ç§é€šä¿¡æ–¹å¼ ç®¡é“ï¼š é€Ÿåº¦æ…¢ï¼Œå®¹é‡æœ‰é™ï¼Œåªæœ‰çˆ¶å­è¿›ç¨‹èƒ½é€šè®¯ FIFOï¼š ä»»ä½•è¿›ç¨‹é—´éƒ½èƒ½é€šè®¯ï¼Œä½†é€Ÿåº¦æ…¢ æ¶ˆæ¯é˜Ÿåˆ—ï¼š å®¹é‡å—åˆ°ç³»ç»Ÿé™åˆ¶ï¼Œä¸”è¦æ³¨æ„ç¬¬ä¸€æ¬¡è¯»çš„æ—¶å€™ï¼Œè¦è€ƒè™‘ä¸Šä¸€æ¬¡æ²¡æœ‰è¯»å®Œæ•°æ®çš„é—®é¢˜ ä¿¡å·é‡ï¼š ä¸èƒ½ä¼ é€’å¤æ‚æ¶ˆæ¯ï¼Œåªèƒ½ç”¨æ¥åŒæ­¥ å…±äº«å†…å­˜åŒºï¼š èƒ½å¤Ÿå¾ˆå®¹æ˜“æ§åˆ¶å®¹é‡ï¼Œé€Ÿåº¦å¿«ï¼Œä½†è¦ä¿æŒåŒæ­¥ï¼Œæ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹åœ¨å†™çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹è¦æ³¨æ„è¯»å†™çš„é—®é¢˜ï¼Œç›¸å½“äºçº¿ç¨‹ä¸­çš„çº¿ç¨‹å®‰å…¨ï¼Œå½“ç„¶ï¼Œå…±äº«å†…å­˜åŒºåŒæ ·å¯ä»¥ç”¨ä½œçº¿ç¨‹é—´é€šè®¯ï¼Œä¸è¿‡æ²¡è¿™ä¸ªå¿…è¦ï¼Œçº¿ç¨‹é—´æœ¬æ¥å°±å·²ç»å…±äº«äº†åŒä¸€è¿›ç¨‹å†…çš„ä¸€å—å†…å­˜ ","date":"2023-07-13","objectID":"/posts/os_2/:1:7","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"*ä¸¾ä¾‹è¯´æ˜è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹ ç¨‹åºï¼š ä¾‹å¦‚main.pyè¿™æ˜¯ç¨‹åºï¼Œæ˜¯ä¸€ä¸ªé™æ€çš„ç¨‹åºã€‚ pythonè¿›ç¨‹ï¼š ä¸€ä¸ªç¨‹åºè¿è¡Œèµ·æ¥åï¼Œä»£ç +ç”¨åˆ°çš„èµ„æº ç§°ä¹‹ä¸ºè¿›ç¨‹ï¼Œå®ƒæ˜¯æ“ä½œç³»ç»Ÿåˆ†é…èµ„æºçš„åŸºæœ¬å•å…ƒã€‚ multiprocessing.Processå®ç°å¤šè¿›ç¨‹ è¿›ç¨‹æ± ï¼š å¦‚æœè¦å¯åŠ¨å¤§é‡çš„å­è¿›ç¨‹ï¼Œå¯ä»¥ç”¨è¿›ç¨‹æ± çš„æ–¹å¼æ‰¹é‡åˆ›å»ºå­è¿›ç¨‹ã€‚ multiprocessing.Pool è¿›ç¨‹é—´é€šä¿¡ï¼š å„è‡ªåœ¨ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œå¹¶ä¸èƒ½ç›´æ¥è¿›è¡Œå…¨å±€çš„æ•°æ®å…±äº«ï¼Œåœ¨åˆ›å»ºå­è¿›ç¨‹çš„æ—¶å€™ä¼šå°†çˆ¶è¿›ç¨‹çš„æ•°æ®å¤åˆ¶åˆ°å­è¿›ç¨‹ä¸­ä¸€ä»½ã€‚ è¿›ç¨‹é—´é€šä¿¡ Pythonçš„multiprocessingæ¨¡å—åŒ…è£…äº†åº•å±‚çš„æœºåˆ¶ï¼Œæä¾›äº†Queueã€Pipesç­‰å¤šç§æ–¹å¼æ¥äº¤æ¢æ•°æ®ã€‚ pythonçº¿ç¨‹ï¼š threadæ˜¯æ¯”è¾ƒä½çº§,åº•å±‚çš„æ¨¡å—ï¼Œthreadingæ˜¯é«˜çº§æ¨¡å—ï¼Œå¯¹threadè¿›è¡Œäº†å°è£…,å¯ä»¥æ›´åŠ æ–¹ä¾¿çš„è¢«ä½¿ç”¨ã€‚ pythonåç¨‹ï¼š çº¿ç¨‹å’Œè¿›ç¨‹çš„æ“ä½œæ˜¯ç”±ç¨‹åºè§¦å‘ç³»ç»Ÿæ¥å£ï¼Œæœ€åçš„æ‰§è¡Œè€…æ˜¯ç³»ç»Ÿï¼›åç¨‹çš„æ“ä½œåˆ™æ˜¯ç¨‹åºå‘˜,å½“ç¨‹åºä¸­å­˜åœ¨å¤§é‡ä¸éœ€è¦CPUçš„æ“ä½œæ—¶ï¼ˆä¾‹å¦‚ I/Oï¼‰ï¼Œé€‚ç”¨äºåç¨‹ã€‚ ä¾‹å¦‚yield å…¶ä¸­ yield æ˜¯pythonå½“ä¸­çš„è¯­æ³•ã€‚ å½“åç¨‹æ‰§è¡Œåˆ°yieldå…³é”®å­—æ—¶ï¼Œä¼šæš‚åœåœ¨é‚£ä¸€è¡Œï¼Œç­‰åˆ°ä¸»çº¿ç¨‹è°ƒç”¨sendæ–¹æ³•å‘é€äº†æ•°æ®ï¼Œåç¨‹æ‰ä¼šæ¥åˆ°æ•°æ®ç»§ç»­æ‰§è¡Œã€‚ ä½†æ˜¯ï¼Œyieldè®©åç¨‹æš‚åœï¼Œå’Œçº¿ç¨‹çš„é˜»å¡æ˜¯æœ‰æœ¬è´¨åŒºåˆ«çš„ã€‚ \u003c/font color=red\u003eåç¨‹çš„æš‚åœå®Œå…¨ç”±ç¨‹åºæ§åˆ¶ï¼Œçº¿ç¨‹çš„é˜»å¡çŠ¶æ€æ˜¯ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æ¥è¿›è¡Œåˆ‡æ¢ã€‚ å› æ­¤ï¼Œåç¨‹çš„å¼€é”€è¿œè¿œå°äºçº¿ç¨‹çš„å¼€é”€ã€‚ æœ€é‡è¦çš„æ˜¯ï¼Œåç¨‹ä¸æ˜¯è¢«æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€ç®¡ç†ï¼Œè€Œå®Œå…¨æ˜¯ç”±ç¨‹åºæ‰€æ§åˆ¶(ä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œ)ã€‚ è¿™æ ·å¸¦æ¥çš„å¥½å¤„å°±æ˜¯æ€§èƒ½å¾—åˆ°äº†å¾ˆå¤§çš„æå‡ï¼Œä¸ä¼šåƒçº¿ç¨‹åˆ‡æ¢é‚£æ ·æ¶ˆè€—èµ„æºã€‚ pythonå¯ä»¥é€šè¿‡ yield/send çš„æ–¹å¼å®ç°åç¨‹ã€‚åœ¨python 3.5ä»¥åï¼Œasync/await æˆä¸ºäº†æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆã€‚ ","date":"2023-07-13","objectID":"/posts/os_2/:1:8","tags":["OS"],"title":"Process and Coroutine","uri":"/posts/os_2/"},{"categories":["OS"],"content":"æ“ä½œç³»ç»Ÿ(ä¸€) ","date":"2023-07-13","objectID":"/posts/os_1/:1:0","tags":["OS"],"title":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿ","uri":"/posts/os_1/"},{"categories":["OS"],"content":"1.1 è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ è¿›ç¨‹å’Œçº¿ç¨‹éƒ½æ˜¯æ“ä½œç³»ç»Ÿä¸­è¿›è¡Œä»»åŠ¡è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼ŒäºŒè€…ä¹‹é—´çš„ä¸»è¦åŒºåˆ«å¦‚ä¸‹ï¼š èµ„æºå ç”¨ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œè€Œçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„æ‰§è¡Œå•å…ƒï¼Œæ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚æ¯ä¸ªçº¿ç¨‹å…±äº«æ‰€å±è¿›ç¨‹çš„èµ„æºï¼Œå¦‚ä»£ç æ®µã€æ•°æ®æ®µã€æ‰“å¼€çš„æ–‡ä»¶ç­‰ã€‚è€Œè¿›ç¨‹ä¹‹é—´äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰°ï¼Œæ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„èµ„æºç©ºé—´ï¼Œä¸åŒè¿›ç¨‹ä¹‹é—´éœ€è¦é€šè¿‡IPCï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰æ¥è¿›è¡Œé€šä¿¡å’Œæ•°æ®å…±äº«ã€‚ è°ƒåº¦å’Œåˆ‡æ¢ï¼šæ“ä½œç³»ç»Ÿåœ¨è°ƒåº¦å’Œåˆ†é…CPUæ—¶ï¼Œå°†è¿›ç¨‹ä½œä¸ºåŸºæœ¬çš„è°ƒåº¦å’Œåˆ†é…å•ä½ï¼Œå³è¿›ç¨‹æ‹¥æœ‰è‡ªå·±çš„è°ƒåº¦é˜Ÿåˆ—ã€‚è€Œçº¿ç¨‹æ˜¯ä¾é™„äºè¿›ç¨‹è€Œå­˜åœ¨çš„ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„æ—¶é—´ç‰‡å’Œèµ„æºï¼Œå› æ­¤åœ¨è°ƒåº¦å’Œåˆ‡æ¢æ—¶ï¼Œçº¿ç¨‹åˆ‡æ¢æ¯”è¿›ç¨‹åˆ‡æ¢æ›´å¿«ï¼Œä¹Ÿæ›´åŠ è½»é‡çº§ã€‚ åˆ›å»ºå’Œé”€æ¯ï¼šè¿›ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æ¯”çº¿ç¨‹æ›´åŠ å¤æ‚ï¼Œåˆ›å»ºä¸€ä¸ªè¿›ç¨‹éœ€è¦ä¸ºå…¶åˆ†é…èµ„æºã€å»ºç«‹PCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼‰ã€å»ºç«‹å†…æ ¸å¯¹è±¡ç­‰ï¼Œè€Œé”€æ¯è¿›ç¨‹éœ€è¦å›æ”¶èµ„æºã€å…³é—­æ‰“å¼€çš„æ–‡ä»¶ç­‰ã€‚è€Œçº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯ç›¸å¯¹ç®€å•ï¼Œåªéœ€è¦ä¸ºå…¶åˆ†é…çº¿ç¨‹æ ˆã€å»ºç«‹TCBï¼ˆçº¿ç¨‹æ§åˆ¶å—ï¼‰ç­‰å³å¯ã€‚ é€šä¿¡å’ŒåŒæ­¥ï¼šè¿›ç¨‹ä¹‹é—´é€šè¿‡IPCï¼ˆç®¡é“ã€å¥—æ¥å­—ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼‰è¿›è¡Œé€šä¿¡å’Œæ•°æ®å…±äº«ï¼Œè€Œçº¿ç¨‹ä¹‹é—´å¯ä»¥ç›´æ¥è®¿é—®åŒä¸€è¿›ç¨‹çš„å…±äº«æ•°æ®åŒºï¼Œä¹Ÿå¯ä»¥é€šè¿‡é”æœºåˆ¶å®ç°åŒæ­¥ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œè¿›ç¨‹å’Œçº¿ç¨‹åœ¨èµ„æºå ç”¨ã€è°ƒåº¦å’Œåˆ‡æ¢ã€åˆ›å»ºå’Œé”€æ¯ã€é€šä¿¡å’ŒåŒæ­¥ç­‰æ–¹é¢æœ‰ç€ä¸åŒçš„ç‰¹ç‚¹ï¼Œå¼€å‘è€…åœ¨å®é™…ç¼–ç¨‹æ—¶éœ€è¦æ ¹æ®å…·ä½“çš„æƒ…å†µé€‰æ‹©ä½¿ç”¨è¿›ç¨‹è¿˜æ˜¯çº¿ç¨‹æ¥å®Œæˆä»»åŠ¡ã€‚ ","date":"2023-07-13","objectID":"/posts/os_1/:1:1","tags":["OS"],"title":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿ","uri":"/posts/os_1/"},{"categories":["OS"],"content":"1.2 åç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ åç¨‹å’Œçº¿ç¨‹éƒ½æ˜¯ç”¨äºå®ç°å¤šä»»åŠ¡çš„æŠ€æœ¯ï¼Œä½†æ˜¯å®ƒä»¬çš„å®ç°æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œå…·ä½“åŒºåˆ«å¦‚ä¸‹ï¼š è°ƒåº¦æ–¹å¼ä¸åŒï¼šçº¿ç¨‹ç”±æ“ä½œç³»ç»Ÿå†…æ ¸è¿›è¡Œè°ƒåº¦ï¼Œè€Œåç¨‹åˆ™æ˜¯åœ¨ç”¨æˆ·ç©ºé—´ä¸­è¿›è¡Œè°ƒåº¦ï¼Œä¸éœ€è¦åˆ‡æ¢åˆ°å†…æ ¸æ€ã€‚ å¹¶å‘æ€§ä¸åŒï¼šçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè°ƒåº¦çš„æœ€å°å•ä½ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼›åç¨‹åˆ™æ˜¯åœ¨å•çº¿ç¨‹å†…éƒ¨é€šè¿‡åä½œå¼è°ƒåº¦å®ç°å¹¶å‘ã€‚ å†…å­˜ä½¿ç”¨ä¸åŒï¼šçº¿ç¨‹æ˜¯ç”±æ“ä½œç³»ç»Ÿå†…æ ¸åˆ›å»ºçš„ï¼Œéœ€è¦å ç”¨ä¸€å®šçš„ç³»ç»Ÿèµ„æºï¼Œè€Œåç¨‹åˆ™æ˜¯ç”±ç”¨æˆ·ç¨‹åºåˆ›å»ºï¼Œä¸éœ€è¦å ç”¨é¢å¤–çš„ç³»ç»Ÿèµ„æºã€‚ ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ä¸åŒï¼šçº¿ç¨‹åœ¨åˆ‡æ¢æ—¶éœ€è¦ä¿å­˜å’Œæ¢å¤æ‰€æœ‰çš„å¯„å­˜å™¨çŠ¶æ€å’Œå†…æ ¸å †æ ˆï¼Œè€Œåç¨‹åªéœ€è¦ä¿å­˜å’Œæ¢å¤å°‘é‡çš„å¯„å­˜å™¨çŠ¶æ€ï¼Œå¼€é”€è¾ƒå°ã€‚ ç¼–ç¨‹éš¾åº¦ä¸åŒï¼šçº¿ç¨‹çš„ç¼–ç¨‹éš¾åº¦ç›¸å¯¹è¾ƒå¤§ï¼Œå› ä¸ºå¤šçº¿ç¨‹ä¹‹é—´éœ€è¦å…±äº«èµ„æºå¹¶è¿›è¡ŒåŒæ­¥ï¼Œè€Œåç¨‹åˆ™æ˜¯åœ¨å•çº¿ç¨‹å†…éƒ¨è°ƒåº¦ï¼Œå› æ­¤ç¼–ç¨‹éš¾åº¦ç›¸å¯¹è¾ƒå°ã€‚ æ€»ä¹‹ï¼Œçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸çš„è°ƒåº¦å¯¹è±¡ï¼Œå…·æœ‰ç‹¬ç«‹çš„ç³»ç»Ÿèµ„æºï¼Œå¯ä»¥å¹¶è¡Œæ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼›è€Œåç¨‹æ˜¯ç”¨æˆ·ç¨‹åºçš„è°ƒåº¦å¯¹è±¡ï¼Œä¸éœ€è¦å ç”¨é¢å¤–çš„ç³»ç»Ÿèµ„æºï¼Œé€šè¿‡åä½œå¼è°ƒåº¦å®ç°ä»»åŠ¡ä¹‹é—´çš„åˆ‡æ¢ã€‚ ","date":"2023-07-13","objectID":"/posts/os_1/:1:2","tags":["OS"],"title":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿ","uri":"/posts/os_1/"},{"categories":["OS"],"content":"1.3ã€å¹¶å‘å’Œå¹¶è¡Œçš„åŒºåˆ«ï¼Ÿ å¹¶å‘å’Œå¹¶è¡Œéƒ½æ˜¯æŒ‡åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„æ–¹å¼ï¼Œä½†æ˜¯å®ƒä»¬æœ‰ä¸åŒçš„å«ä¹‰ã€‚ å¹¶å‘æ˜¯æŒ‡ä¸€ä¸ªå¤„ç†å™¨åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡é€šå¸¸æ˜¯é€šè¿‡åœ¨ä¸åŒçš„æ—¶é—´é—´éš”å†…äº¤æ›¿è¿›è¡Œçš„ï¼Œè¿™æ ·åœ¨åŒä¸€æ—¶åˆ»å¯ä»¥çœ‹åˆ°æœ‰å¤šä¸ªä»»åŠ¡åœ¨è¿è¡Œã€‚è¿™äº›ä»»åŠ¡å¯ä»¥æ˜¯åœ¨åŒä¸€ä¸ªç¨‹åºå†…çš„ä¸åŒçº¿ç¨‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨ä¸åŒç¨‹åºä¹‹é—´çš„äº¤äº’ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ã€‚ å¹¶è¡Œæ˜¯æŒ‡ä½¿ç”¨å¤šä¸ªå¤„ç†å™¨åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡åœ¨åŒä¸€æ—¶åˆ»å¯ä»¥çœ‹åˆ°æœ‰å¤šä¸ªä»»åŠ¡åœ¨åŒæ—¶è¿è¡Œã€‚ä¸å¹¶å‘ä¸åŒçš„æ˜¯ï¼Œå¹¶è¡Œéœ€è¦å¤šä¸ªå¤„ç†å™¨æˆ–å¤šä¸ªè®¡ç®—æ ¸å¿ƒï¼Œè€Œå¹¶å‘åˆ™å¯ä»¥åœ¨å•ä¸ªå¤„ç†å™¨ä¸Šæ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚ ç®€å•æ¥è¯´ï¼Œå¹¶å‘æ˜¯åœ¨ä¸€ä¸ªå¤„ç†å™¨ä¸ŠåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œè€Œå¹¶è¡Œæ˜¯åœ¨å¤šä¸ªå¤„ç†å™¨æˆ–è®¡ç®—æ ¸å¿ƒä¸ŠåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚ ","date":"2023-07-13","objectID":"/posts/os_1/:1:3","tags":["OS"],"title":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿ","uri":"/posts/os_1/"},{"categories":["OS"],"content":"1.4 è¿›ç¨‹ä¸çº¿ç¨‹çš„åˆ‡æ¢æµç¨‹ï¼Ÿ è¿›ç¨‹ä¸çº¿ç¨‹çš„åˆ‡æ¢æµç¨‹å¦‚ä¸‹ï¼š å½“å‰è¿›ç¨‹æˆ–çº¿ç¨‹æ‰§è¡Œåˆ°é˜»å¡çŠ¶æ€ï¼ˆå¦‚ç­‰å¾…I/Oå®Œæˆï¼‰æ—¶ï¼Œè§¦å‘åˆ‡æ¢æ“ä½œã€‚ æ“ä½œç³»ç»Ÿå†…æ ¸ä¿å­˜å½“å‰è¿›ç¨‹æˆ–çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼ˆå³å½“å‰çš„å¯„å­˜å™¨å€¼å’Œç¨‹åºè®¡æ•°å™¨ç­‰ä¿¡æ¯ï¼‰ï¼Œå¹¶å°†å¤„ç†å™¨åˆ†é…ç»™å¦ä¸€ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹ã€‚ å†…æ ¸ä»è°ƒåº¦é˜Ÿåˆ—ä¸­é€‰æ‹©å¦ä¸€ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œå¹¶æ¢å¤å…¶ä¿å­˜çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ å¤„ç†å™¨å¼€å§‹æ‰§è¡Œæ–°çš„è¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œä»ä¹‹å‰ä¿å­˜çš„çŠ¶æ€æ¢å¤æ‰§è¡Œã€‚ åœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œéœ€è¦å°†æ•´ä¸ªè¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ä¿å­˜ä¸‹æ¥ï¼ŒåŒ…æ‹¬è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ã€å…¨å±€å˜é‡ç­‰ï¼Œåˆ‡æ¢æ—¶è¿˜éœ€è¦è¿›è¡Œå†…å­˜æ˜ å°„ï¼Œå¼€é”€æ¯”è¾ƒå¤§ã€‚ åœ¨çº¿ç¨‹åˆ‡æ¢æ—¶ï¼Œåªéœ€è¦ä¿å­˜å½“å‰çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯å³å¯ï¼Œçº¿ç¨‹å…±äº«è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ï¼Œåˆ‡æ¢æ—¶ä¸éœ€è¦è¿›è¡Œå†…å­˜æ˜ å°„ï¼Œå¼€é”€è¾ƒå°ã€‚ ","date":"2023-07-13","objectID":"/posts/os_1/:1:4","tags":["OS"],"title":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿ","uri":"/posts/os_1/"},{"categories":["OS"],"content":"1.5 ä¸ºä»€ä¹ˆè™šæ‹Ÿåœ°å€ç©ºé—´åˆ‡æ¢æ¯”è¾ƒè€—æ—¶ï¼Ÿ è™šæ‹Ÿåœ°å€ç©ºé—´åˆ‡æ¢çš„è€—æ—¶æ˜¯å› ä¸ºå®ƒæ¶‰åŠåˆ°äº†ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å¤æ‚æ“ä½œã€‚å½“è¿›ç¨‹æˆ–çº¿ç¨‹åˆ‡æ¢æ—¶ï¼Œéœ€è¦ä¿å­˜å½“å‰çš„ç¨‹åºçŠ¶æ€ï¼ˆå¯„å­˜å™¨å€¼ã€å †æ ˆæŒ‡é’ˆç­‰ï¼‰å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆå½“å‰æŒ‡ä»¤ä½ç½®ã€ç¨‹åºè®¡æ•°å™¨ç­‰ï¼‰ã€‚ç„¶åï¼Œå†…æ ¸å¿…é¡»é€‰æ‹©å¦ä¸€ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œå¹¶å°†å®ƒçš„çŠ¶æ€å’Œä¸Šä¸‹æ–‡ä¿¡æ¯è£…å…¥å†…å­˜ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ç¨‹åºèƒ½å¤Ÿç»§ç»­è¿è¡Œã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°å¤šä¸ªæ“ä½œç³»ç»Ÿçš„å†…æ ¸å’Œç¡¬ä»¶æœºåˆ¶ï¼Œä¾‹å¦‚ä¸Šä¸‹æ–‡åˆ‡æ¢ã€å†…å­˜ç®¡ç†å’Œç¡¬ä»¶ä¸­æ–­ç­‰ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸ºäº†åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œéœ€è¦ä¿å­˜å’Œæ¢å¤å¤§é‡çš„çŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…æ ¸ä¸Šä¸‹æ–‡å’Œç¡¬ä»¶å¯„å­˜å™¨ç­‰ã€‚è¿™äº›æ“ä½œéœ€è¦è€—è´¹å¤§é‡çš„CPUæ—¶é—´å’Œå†…å­˜å¸¦å®½ï¼Œå› æ­¤åˆ‡æ¢è¿‡ç¨‹é€šå¸¸æ˜¯ç›¸å¯¹æ¯”è¾ƒè€—æ—¶çš„ã€‚ ref: [1].https://zhuanlan.zhihu.com/p/616080301 ","date":"2023-07-13","objectID":"/posts/os_1/:1:5","tags":["OS"],"title":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿ","uri":"/posts/os_1/"},{"categories":["GPU"],"content":"[1] https://blog.csdn.net/Augusdi/article/details/12187291 ","date":"2023-07-12","objectID":"/posts/cuda/:0:0","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"CUDAç¼–ç¨‹ ","date":"2023-07-12","objectID":"/posts/cuda/:1:0","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"1.ä»€ä¹ˆæ˜¯CUDA CUDA(Compute Unified Device Architecture)ï¼Œç»Ÿä¸€è®¡ç®—æ¶æ„ï¼Œæ˜¯NVidiaæ¨å‡ºçš„å¹¶è¡Œè®¡ç®—å¹³å°ã€‚NVidiaå®˜æ–¹å¯¹å…¶çš„è§£é‡Šæ˜¯ï¼šä¸€ä¸ªå¹¶è¡Œè®¡ç®—å¹³å°å’Œç®€å•ï¼ˆç®€æ´ï¼‰åœ°ä½¿ç”¨å›¾åƒå¤„ç†å•å…ƒï¼ˆGPUï¼‰è¿›è¡Œé€šç”¨è®¡ç®—çš„ç¼–ç¨‹æ¨¡å‹ã€‚åˆ©ç”¨GPUçš„èƒ½åŠ›åœ¨è®¡ç®—æ€§èƒ½ä¸Šæœ‰æƒŠäººçš„æå‡ã€‚ ç®€å•åœ°è¯´CUDAæ˜¯ä¾¿äºç¨‹åºå‘˜åˆ©ç”¨NVidia GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å¼€å‘ç¯å¢ƒåŠå·¥å…·ï¼Œç›®å‰æ”¯æŒC/C++è¯­è¨€ï¼Œå°†æ¥è¿˜ä¼šæ”¯æŒFortranè¯­è¨€ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda/:1:1","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"2.ä¸ºä»€ä¹ˆè¦ç”¨åˆ°CUDA CPUä¸»é¢‘è¦æ¯”GPUé«˜2-3å€å·¦å³ï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹GPUæ ¸å¿ƒçš„æ•°é‡è¦æ¯”CPUå¤š2-3ä¸ªæ•°é‡çº§ä»¥ä¸Šã€‚å› æ­¤GPUçš„è®¡ç®—èƒ½åŠ›è¦è¿œå¤§äºCPUï¼Œå……åˆ†å‘æŒ¥GPUçš„è®¡ç®—èƒ½åŠ›ï¼Œå¯ä»¥æœ‰æˆå€çš„æ€§èƒ½æå‡ã€‚ æ—©æœŸåˆ©ç”¨GPUçš„è®¡ç®—èƒ½åŠ›æ˜¯ä½¿ç”¨ç€è‰²å™¨å’Œç€è‰²è¯­è¨€ï¼ˆGLSLç­‰ï¼‰ã€‚ç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯CUDAå’ŒOpenCLã€‚CUDAæ˜¯é’ˆå¯¹NVidia GPUç¡¬ä»¶è®¾å¤‡è®¾è®¡çš„ï¼Œè€Œ OpenCLæ˜¯é’ˆå¯¹è·¨å¹³å°è®¾è®¡çš„ã€‚å› æ­¤CUDAå¯å……åˆ†å‘æŒ¥NVidia GPUçš„è®¡ç®—æ€§èƒ½ã€‚ CUDAå¯ä»¥ç›´æ¥ä½¿ç”¨C/C++è¯­è¨€æ¥å¼€å‘GPUç¨‹åºï¼Œçœå»äº†ç¨‹åºå‘˜é‡æ–°å­¦ä¸€ç§æ–°è¯­è¨€çš„éº»çƒ¦ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda/:1:2","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"3.CUDAç¯å¢ƒæ­å»º CUDAç¯å¢ƒä¸»è¦åˆ†ä¸ºå››ç‚¹ï¼šç¡¬ä»¶ï¼ˆGPUè®¾å¤‡ï¼‰ã€æ“ä½œç³»ç»Ÿã€C/C++ç¼–è¯‘å™¨å’ŒCUDAå·¥å…·åŒ…ã€‚ ç¡¬ä»¶ï¼ˆGPUè®¾å¤‡ï¼‰ï¼Œå¿…é¡»æ˜¯æ”¯æŒCUDAçš„GPUã€‚å¯åˆ°NVidiaå®˜ç½‘æŸ¥è¯¢æ”¯æŒCUDAçš„GPUè®¾å¤‡ï¼Œå…·ä½“åœ°å€ä¸ºï¼šhttp://www.nvidia.com/object/cuda_home_new.html ã€‚ æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒMicrosoft Windowsã€Mac OS Xå’ŒLinuxã€‚ C/C++ç¼–è¯‘å™¨ï¼Œå¯¹ä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰ä¸åŒçš„è¦æ±‚ã€‚ CUDAå·¥å…·åŒ…ï¼ŒNVidiaæä¾›äº†ä¸åŒæ“ä½œç³»ç»Ÿå¯¹åº”çš„CUDA Toolkitï¼Œå¯ä»https://developer.nvidia.com/cuda-downloads ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ã€‚ æœ¬æ–‡åªä»¥Microsoft Windowsä¸ºä¾‹ä»‹ç»å¦‚ä½•æ­å»ºCUDAç¯å¢ƒã€‚ å‡†å¤‡ææ–™ï¼š Â·ä¸€å°è£…æœ‰æ”¯æŒCUDA GPUçš„ç”µè„‘ã€‚ Â·Microsoft Windowsæ“ä½œç³»ç»Ÿï¼ˆMicrosoft Windows XP,Vista,7,or 8 or Windows Server 2003 or 2008ï¼‰ã€‚ Â·CUDAå·¥å…·åŒ…ï¼ˆç›¸åº”æ“ä½œç³»ç»Ÿï¼‰ã€‚ä¸‹è½½åœ°å€ï¼šhttps://developer.nvidia.com/cuda-downloads Â·C/C++ç¼–è¯‘å™¨ï¼šMicrosoft Visual Studio 2008 æˆ– 2010ï¼Œæˆ–è€…å¯¹åº”ç‰ˆæœ¬çš„Microsoft Visual C++ Expressäº§å“ã€‚ å®‰è£…æ­¥éª¤ï¼š Â·åœ¨è£…æœ‰æ”¯æŒCUDA GPUçš„ç”µè„‘ä¸Šå®‰è£…Microsoft Windowsæ“ä½œç³»ç»Ÿï¼ˆä¸€èˆ¬æƒ…å†µä¸‹éƒ½å·²ç»å®Œæˆè¿™æ­¥éª¤ï¼‰ã€‚ Â·å®‰è£…C/C++ç¼–è¯‘å™¨ï¼Œå¯åªå®‰è£…å…¶ä¸­çš„C++ç¼–è¯‘å™¨éƒ¨åˆ†ã€‚ Â·å®‰è£…CUDAå·¥å…·åŒ…ã€‚ï¼ˆCUDAå·¥å…·åŒ…ä¸­æœ‰NVidia GPUçš„é©±åŠ¨ç¨‹åºï¼Œå°šæœªå®‰è£…çš„è¯·é€‰æ‹©å®‰è£…ã€‚ï¼‰ å®‰è£…éªŒè¯ï¼š Windows XPç³»ç»Ÿï¼šè¿›å…¥ C:\\Documents and Settings\\All Users\\Application Data\\NVIDIA Corporation\\CUDA Samples\\v5.0\\bin\\win32\\Release ç›®å½•è¿è¡ŒdeviceQuery.exeæ–‡ä»¶ã€‚ Windows Vista, Windows 7, Windows 8, Windows Server 2003, and Windows Server 2008ç³»ç»Ÿï¼šè¿›å…¥ C:\\ProgramData\\NVIDIA Corporation\\CUDA Samples\\v5.0\\bin\\win32\\Release ç›®å½•è¿è¡ŒdeviceQuery.exeæ–‡ä»¶ã€‚ å¦‚æœå®‰è£…æ­£ç¡®ï¼Œæ‰§è¡ŒdeviceQuery.exeæ–‡ä»¶ä¼šå¾—åˆ°GPUè®¾å¤‡çš„ç›¸åº”ä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰å®‰è£…æ”¯æŒCUDAçš„GPUä¹Ÿä¼šå¾—å‡ºGPUçš„ä¿¡æ¯ï¼Œå…¶ä¸­CUDA Capability Major/Minor version numberä¿¡æ¯ä¸º9999.9999ã€‚ Microsoft Windowsä¸Šæ›´è¯¦ç»†çš„å®‰è£…ä¿¡æ¯è¯·æŸ¥çœ‹ï¼šhttp://docs.nvidia.com/cuda/cuda-getting-started-guide-for-microsoft-windows/index.html ã€‚ Mac OS Xçš„å®‰è£…ï¼šhttp://docs.nvidia.com/cuda/cuda-getting-started-guide-for-mac-os-x/index.html ã€‚ Linuxçš„å®‰è£…ï¼šhttp://docs.nvidia.com/cuda/cuda-getting-started-guide-for-linux/index.html ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda/:1:3","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"4.ç¬¬ä¸€ä¸ªCUDAç¨‹åº åœ¨Microsoft Windowsç³»ç»Ÿä¸Šï¼Œå¦‚æœæˆåŠŸæ­å»ºäº†CUDAç¯å¢ƒï¼Œåˆ™åœ¨Microsoft Visual Studioä¸­å·²ç»é›†æˆäº†CUDAçš„å¼€å‘ç»„ä»¶ã€‚ ä»¥ä¸‹ä»¥Windows 7 + Microsoft Visual Studio 2008ä¸ºä¾‹ï¼Œåˆ›å»ºç¬¬ä¸€ä¸ªCUDAç¨‹åºã€‚ æ‰“å¼€Microsoft Visual Studio 2008ï¼Œä¾æ¬¡ï¼šFile-\u003eNew-\u003eProject-\u003eNVIDIA-\u003eCUDA-\u003eCUDA 5.0 Runtimeï¼Œè¾“å…¥ç›¸åº”çš„é¡¹ç›®åç§°ç¡®å®šå³å¯ã€‚ é»˜è®¤ä¼šç”Ÿæˆä¸€ä¸ªkernel.cuæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š #include \"cuda_runtime.h\" #include \"device_launch_parameters.h\" #include \u003cstdio.h\u003e void addWithCuda(int *c, const int *a, const int *b, size_t size); __global__ void addKernel(int *c, const int *a, const int *b) { int i = threadIdx.x; c[i] = a[i] + b[i]; } int main() { const int arraySize = 5; const int a[arraySize] = { 1, 2, 3, 4, 5 }; const int b[arraySize] = { 10, 20, 30, 40, 50 }; int c[arraySize] = { 0 }; // Add vectors in parallel. addWithCuda(c, a, b, arraySize); printf(\"{1,2,3,4,5} + {10,20,30,40,50} = {%d,%d,%d,%d,%d}\\n\", c[0], c[1], c[2], c[3], c[4]); // cudaThreadExit must be called before exiting in order for profiling and // tracing tools such as Nsight and Visual Profiler to show complete traces. cudaThreadExit(); return 0; } // Helper function for using CUDA to add vectors in parallel. void addWithCuda(int *c, const int *a, const int *b, size_t size) { int *dev_a = 0; int *dev_b = 0; int *dev_c = 0; // Choose which GPU to run on, change this on a multi-GPU system. cudaSetDevice(0); // Allocate GPU buffers for three vectors (two input, one output) . cudaMalloc((void**)\u0026dev_c, size * sizeof(int)); cudaMalloc((void**)\u0026dev_a, size * sizeof(int)); cudaMalloc((void**)\u0026dev_b, size * sizeof(int)); // Copy input vectors from host memory to GPU buffers. cudaMemcpy(dev_a, a, size * sizeof(int), cudaMemcpyHostToDevice); cudaMemcpy(dev_b, b, size * sizeof(int), cudaMemcpyHostToDevice); // Launch a kernel on the GPU with one thread for each element. addKernel\u003c\u003c\u003c1, size\u003e\u003e\u003e(dev_c, dev_a, dev_b); // cudaThreadSynchronize waits for the kernel to finish, and returns // any errors encountered during the launch. cudaThreadSynchronize(); // Copy output vector from GPU buffer to host memory. cudaMemcpy(c, dev_c, size * sizeof(int), cudaMemcpyDeviceToHost); cudaFree(dev_c); cudaFree(dev_a); cudaFree(dev_b); } ä»£ç 1 è¿™æ˜¯ä¸€ä¸ªå°†ä¸¤ä¸ªä¸€ç»´æ•°ç»„ç›¸åŠ çš„ä¾‹å­ã€‚ å…¶ä¸­addKernelæ˜¯å†…æ ¸å‡½æ•°ï¼Œå®ƒçš„è®¡ç®—è¿‡ç¨‹æ˜¯åœ¨GPUä¸Šå®ç°çš„ï¼Œç”¨å‡½æ•°ç±»å‹é™å®šç¬¦__global__é™åˆ¶ï¼Œä¸”å‡½æ•°ç±»å‹ä¸ºvoidå‹ã€‚ cuda_runtime.hå¤´æ–‡ä»¶åŒ…æ‹¬äº†è¿è¡Œæ—¶APIå’Œå…¶å‚æ•°çš„å®šä¹‰ã€‚ï¼ˆå¦‚æœä½¿ç”¨é©±åŠ¨APIåˆ™ä½¿ç”¨cuda.hå¤´æ–‡ä»¶ï¼‰ã€‚ device_launch_parameters.hå¤´æ–‡ä»¶åŒ…å«äº†å†…æ ¸å‡½æ•°çš„5ä¸ªå˜é‡threadIdxã€blockDimã€blockIdxã€gridDimå’ŒwrapSizeã€‚ å¯¹å…¶ä¸­CUDAè¿è¡Œæ—¶APIå‡½æ•°çš„è§£é‡Šï¼š cudaSetDevice()ï¼šé€‰æ‹©è®¾å¤‡ï¼ˆGPUï¼‰ã€‚ï¼ˆå¯ä»¥ä¸ä½¿ç”¨ï¼Œä¸ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤é€‰æ‹©è®¾å¤‡0ï¼‰ cudaMalloc()ï¼šåŠ¨æ€åˆ†é…æ˜¾å­˜ã€‚ cudaMemcpy()ï¼šè®¾å¤‡ä¸ä¸»æœºä¹‹å†…çš„æ•°æ®æ‹·è´ã€‚ cudaThreadSynchronize()ï¼šåŒæ­¥æ‰€æœ‰è®¾å¤‡ä¸Šçš„çº¿ç¨‹ï¼Œç­‰å¾…æ‰€æœ‰çº¿ç¨‹ç»“æŸã€‚ cudaFree():é‡Šæ”¾ç”±cudaMallocåˆ†é…çš„æ˜¾å­˜ã€‚ cudaThreadExit():ç»“æŸCUDAä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œé‡Šæ”¾å…¶ä¸­çš„èµ„æºã€‚ è¿™äº›å‡½æ•°çš„å…·ä½“ä»‹ç»åœ¨ http://docs.nvidia.com/cuda/cuda-runtime-api/index.html ä¸­ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda/:1:4","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"5. CUDAç¼–ç¨‹ 5.1. åŸºæœ¬æ¦‚å¿µ CUDAç¼–ç¨‹ä¸­éœ€è¦æ³¨æ„ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œåˆ†åˆ«ä¸ºï¼šä¸»æœº(host)ã€è®¾å¤‡(device)ã€è¿è¡Œæ—¶APIã€é©±åŠ¨APIã€warpã€bankã€å‡½æ•°ç±»å‹é™å®šç¬¦ã€å˜é‡ç±»å‹é™å®šç¬¦ã€threadã€blockã€gridã€è®¡ç®—èƒ½åŠ›ã€SIMTã€å†…ç½®å˜é‡ã€çº¹ç†ã€CUDAæ•°ç»„ç­‰ã€‚ ä¸»æœº(host)ï¼šå¯ç†è§£ä¸ºCPUä¸å†…å­˜çš„ç»„åˆã€‚ è®¾å¤‡(device)ï¼šå¯ç†è§£ä¸ºGPUä¸æ˜¾å­˜çš„ç»„åˆã€‚ è¿è¡Œæ—¶APIï¼šæ˜¯æŒ‡CUDAè¿è¡Œæ—¶APIæ˜¯åœ¨é©±åŠ¨APIçš„åŸºç¡€ä¸Šå°è£…è€Œæˆçš„ï¼Œç®€åŒ–äº†CUDAçš„å¼€å‘ã€‚ é©±åŠ¨APIï¼šæ˜¯æŒ‡CUDAé©±åŠ¨APIï¼Œç›¸æ¯”è¿è¡Œæ—¶APIæ›´æ¥è¿‘äºè®¾å¤‡ï¼Œå¯çµæ´»è¿ç”¨è®¾å¤‡çš„ç‰¹æ€§å¼€å‘CUDAï¼Œå¯å®ç°è¿è¡Œæ—¶APIæ— æ³•å®ç°çš„åŠŸèƒ½ã€‚ warpï¼šå¤šå¤„ç†å™¨æ¿€æ´»ã€ç®¡ç†ã€è°ƒåº¦å’Œæ‰§è¡Œå¹¶è¡Œä»»åŠ¡çš„å•ä½ã€‚è®¡ç®—èƒ½åŠ›2.xçš„è®¾å¤‡warpä¸º32ä¸ªçº¿ç¨‹ã€‚æœªæ¥çš„è®¾å¤‡å¯èƒ½ä¸åŒï¼Œå¯ä»¥é€šè¿‡å†…ç½®å˜é‡warpSizeæŸ¥è¯¢ã€‚ bankï¼šä¸ºäº†è·å¾—è¾ƒé«˜çš„å­˜å‚¨å™¨å¸¦å®½ï¼Œå…±äº«å­˜å‚¨å™¨è¢«åˆ’åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„å­˜å‚¨å™¨æ¨¡å—ï¼Œç§°ä¸ºå­˜å‚¨ä½“ï¼Œè¿™äº›å­˜å‚¨ä½“å°±å«bankï¼Œå¯åŒæ­¥è®¿é—®ã€‚ å‡½æ•°ç±»å‹é™å®šç¬¦ï¼šæ˜¯CUDA Cä¸­ç‰¹æœ‰çš„ï¼Œç”¨æ¥ä¿®é¥°æ˜¯ä¸»æœºå‡½æ•°ï¼Œè®¾å¤‡è°ƒç”¨çš„è®¾å¤‡å‡½æ•°ï¼Œè¿˜æ˜¯ä¸»æœºè°ƒç”¨çš„è®¾å¤‡å‡½æ•°ã€‚æœ‰__device__ã€globalã€hostã€‚ å˜é‡ç±»å‹é™å®šç¬¦ï¼šæ˜¯ç”¨æ¥ä¿®é¥°è®¾å¤‡å˜é‡çš„ã€‚æœ‰__device__ã€constantã€sharedã€‚ threadï¼šè®¾å¤‡ä¸­çš„çº¿ç¨‹ï¼Œä¸ä¸»æœºä¸­çš„çº¿ç¨‹æ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚ blockï¼šçº¿ç¨‹å—ï¼Œç”±ä¸€ç»„çº¿ç¨‹ç»„æˆã€‚ä¸€ä¸ªçº¿ç¨‹å—ä¸­çš„æ‰€ä»¥çº¿ç¨‹ä¼šåœ¨åŒä¸€ä¸ªå¤šå¤„ç†å™¨ä¸Šæ‰§è¡Œï¼Œä¸€ä¸ªå¤šå¤„ç†å™¨ä¸Šå¯åŒæ—¶æ‰§è¡Œå¤šä¸ªçº¿ç¨‹å—ã€‚ gridï¼šæœ‰æ‰€æœ‰çº¿ç¨‹å—ç»„æˆçš„ç½‘æ ¼ã€‚ è®¡ç®—èƒ½åŠ›ï¼šæ˜¯NVidia GPUä¸åŒæ¶æ„çš„è®¡ç®—èƒ½åŠ›ã€‚ SIMTï¼šå•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼Œä¸å•æŒ‡ä»¤å¤šæ•°æ®ï¼ˆSIMDï¼‰ç±»ä¼¼ã€‚ä¸€æ¡æŒ‡ä»¤å¤šä¸ªçº¿ç¨‹ä¸€åŒæ‰§è¡Œï¼Œå®ç°ç¨‹åºçš„å¹¶è¡ŒåŒ–ã€‚ å†…ç½®å˜é‡ï¼šæœ‰threadIdxã€blockDimã€blockIdxã€gridDimã€warpSizeã€‚å…¶ä¸­threadIdxæŒ‡æ­¤çº¿ç¨‹åœ¨çº¿ç¨‹å—ä¸­çš„ä½ç½®ï¼›blockDimæŒ‡çº¿ç¨‹å—ç»´åº¦ï¼›blockIdxæŒ‡è¯¥çº¿ç¨‹å—åœ¨ç½‘æ ¼ä¸­çš„ä½ç½®ï¼›gridDimæŒ‡çº¿ç¨‹å—ç½‘æ ¼ç»´åº¦ï¼›warpSizeæŒ‡ä¸€ä¸ªwarpå¤šå°‘ä¸ªçº¿ç¨‹ã€‚ çº¹ç†ï¼šæœ¬æ–‡ä¸»è¦æ¶‰åŠåˆ°çš„æ˜¯çº¹ç†å‚è€ƒã€çº¹ç†ç»‘å®šã€çº¹ç†è·å–ã€‚ CUDAæ•°ç»„ï¼šåŒºåˆ«äºçº¿æ€§å­˜å‚¨å™¨ï¼Œå¯¹æ•°æ®è¿›è¡Œäº†å¯¹é½ç­‰çš„å¤„ç†ï¼ŒåŒ…æ‹¬ä¸€ç»´ã€äºŒç»´å’Œä¸‰ç»´ã€‚å…¶ä¸­çš„æ•°æ®ä¸ºï¼šä¸€å…ƒã€äºŒå…ƒæˆ–å››å…ƒç»„ã€‚ CUDAç¼–ç¨‹æ¨¡å‹åŸºç¡€ åœ¨ç»™å‡ºCUDAçš„ç¼–ç¨‹å®ä¾‹ä¹‹å‰ï¼Œè¿™é‡Œå…ˆå¯¹CUDAç¼–ç¨‹æ¨¡å‹ä¸­çš„ä¸€äº›æ¦‚å¿µåŠåŸºç¡€çŸ¥è¯†åšä¸ªç®€å•ä»‹ç»ã€‚CUDAç¼–ç¨‹æ¨¡å‹æ˜¯ä¸€ä¸ªå¼‚æ„æ¨¡å‹ï¼Œéœ€è¦CPUå’ŒGPUååŒå·¥ä½œã€‚åœ¨CUDAä¸­ï¼Œhostå’Œdeviceæ˜¯ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œæˆ‘ä»¬ç”¨hostæŒ‡ä»£CPUåŠå…¶å†…å­˜ï¼Œè€Œç”¨deviceæŒ‡ä»£GPUåŠå…¶å†…å­˜ã€‚CUDAç¨‹åºä¸­æ—¢åŒ…å«hostç¨‹åºï¼ŒåˆåŒ…å«deviceç¨‹åºï¼Œå®ƒä»¬åˆ†åˆ«åœ¨CPUå’ŒGPUä¸Šè¿è¡Œã€‚åŒæ—¶ï¼Œhostä¸deviceä¹‹é—´å¯ä»¥è¿›è¡Œé€šä¿¡ï¼Œè¿™æ ·å®ƒä»¬ä¹‹é—´å¯ä»¥è¿›è¡Œæ•°æ®æ‹·è´ã€‚å…¸å‹çš„CUDAç¨‹åºçš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š åˆ†é…hostå†…å­˜ï¼Œå¹¶è¿›è¡Œæ•°æ®åˆå§‹åŒ–ï¼›åˆ†é…deviceå†…å­˜ï¼Œå¹¶ä»hostå°†æ•°æ®æ‹·è´åˆ°deviceä¸Šï¼›è°ƒç”¨CUDAçš„æ ¸å‡½æ•°åœ¨deviceä¸Šå®ŒæˆæŒ‡å®šçš„è¿ç®—ï¼›å°†deviceä¸Šçš„è¿ç®—ç»“æœæ‹·è´åˆ°hostä¸Šï¼›é‡Šæ”¾deviceå’Œhostä¸Šåˆ†é…çš„å†…å­˜ã€‚ ä¸Šé¢æµç¨‹ä¸­æœ€é‡è¦çš„ä¸€ä¸ªè¿‡ç¨‹æ˜¯è°ƒç”¨CUDAçš„æ ¸å‡½æ•°æ¥æ‰§è¡Œå¹¶è¡Œè®¡ç®—ï¼Œkernelæ˜¯CUDAä¸­ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œkernelæ˜¯åœ¨deviceä¸Šçº¿ç¨‹ä¸­å¹¶è¡Œæ‰§è¡Œçš„å‡½æ•°ï¼Œæ ¸å‡½æ•°ç”¨__global__ç¬¦å·å£°æ˜ï¼Œåœ¨è°ƒç”¨æ—¶éœ€è¦ç”¨Â«\u003cgrid, blockÂ»\u003eæ¥æŒ‡å®škernelè¦æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œåœ¨CUDAä¸­ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½è¦æ‰§è¡Œæ ¸å‡½æ•°ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹ä¼šåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„çº¿ç¨‹å·thread IDï¼Œè¿™ä¸ªIDå€¼å¯ä»¥é€šè¿‡æ ¸å‡½æ•°çš„å†…ç½®å˜é‡threadIdxæ¥è·å¾—ã€‚ ç”±äºGPUå®é™…ä¸Šæ˜¯å¼‚æ„æ¨¡å‹ï¼Œæ‰€ä»¥éœ€è¦åŒºåˆ†hostå’Œdeviceä¸Šçš„ä»£ç ï¼Œåœ¨CUDAä¸­æ˜¯é€šè¿‡å‡½æ•°ç±»å‹é™å®šè¯å¼€åŒºåˆ«hostå’Œdeviceä¸Šçš„å‡½æ•°ï¼Œä¸»è¦çš„ä¸‰ä¸ªå‡½æ•°ç±»å‹é™å®šè¯å¦‚ä¸‹ï¼š __global__ï¼šåœ¨deviceä¸Šæ‰§è¡Œï¼Œä»hostä¸­è°ƒç”¨ï¼ˆä¸€äº›ç‰¹å®šçš„GPUä¹Ÿå¯ä»¥ä»deviceä¸Šè°ƒç”¨ï¼‰ï¼Œè¿”å›ç±»å‹å¿…é¡»æ˜¯voidï¼Œä¸æ”¯æŒå¯å˜å‚æ•°å‚æ•°ï¼Œä¸èƒ½æˆä¸ºç±»æˆå‘˜å‡½æ•°ã€‚æ³¨æ„ç”¨__global__å®šä¹‰çš„kernelæ˜¯å¼‚æ­¥çš„ï¼Œè¿™æ„å‘³ç€hostä¸ä¼šç­‰å¾…kernelæ‰§è¡Œå®Œå°±æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚__device__ï¼šåœ¨deviceä¸Šæ‰§è¡Œï¼Œå•ä»…å¯ä»¥ä»deviceä¸­è°ƒç”¨ï¼Œä¸å¯ä»¥å’Œ__global__åŒæ—¶ç”¨ã€‚__host__ï¼šåœ¨hostä¸Šæ‰§è¡Œï¼Œä»…å¯ä»¥ä»hostä¸Šè°ƒç”¨ï¼Œä¸€èˆ¬çœç•¥ä¸å†™ï¼Œä¸å¯ä»¥å’Œ__global__åŒæ—¶ç”¨ï¼Œä½†å¯å’Œ__device__ï¼Œæ­¤æ—¶å‡½æ•°ä¼šåœ¨deviceå’Œhostéƒ½ç¼–è¯‘ã€‚ è¦æ·±åˆ»ç†è§£kernelï¼Œå¿…é¡»è¦å¯¹kernelçš„çº¿ç¨‹å±‚æ¬¡ç»“æ„æœ‰ä¸€ä¸ªæ¸…æ™°çš„è®¤è¯†ã€‚é¦–å…ˆGPUä¸Šå¾ˆå¤šå¹¶è¡ŒåŒ–çš„è½»é‡çº§çº¿ç¨‹ã€‚kernelåœ¨deviceä¸Šæ‰§è¡Œæ—¶å®é™…ä¸Šæ˜¯å¯åŠ¨å¾ˆå¤šçº¿ç¨‹ï¼Œä¸€ä¸ªkernelæ‰€å¯åŠ¨çš„æ‰€æœ‰çº¿ç¨‹ç§°ä¸ºä¸€ä¸ªç½‘æ ¼ï¼ˆgridï¼‰ï¼ŒåŒä¸€ä¸ªç½‘æ ¼ä¸Šçš„çº¿ç¨‹å…±äº«ç›¸åŒçš„å…¨å±€å†…å­˜ç©ºé—´ï¼Œgridæ˜¯çº¿ç¨‹ç»“æ„çš„ç¬¬ä¸€å±‚æ¬¡ï¼Œè€Œç½‘æ ¼åˆå¯ä»¥åˆ†ä¸ºå¾ˆå¤šçº¿ç¨‹å—ï¼ˆblockï¼‰ï¼Œä¸€ä¸ªçº¿ç¨‹å—é‡Œé¢åŒ…å«å¾ˆå¤šçº¿ç¨‹ï¼Œè¿™æ˜¯ç¬¬äºŒä¸ªå±‚æ¬¡ã€‚çº¿ç¨‹ä¸¤å±‚ç»„ç»‡ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™æ˜¯ä¸€ä¸ªgirdå’Œblockå‡ä¸º2-dimçš„çº¿ç¨‹ç»„ç»‡ã€‚gridå’Œblockéƒ½æ˜¯å®šä¹‰ä¸ºdim3ç±»å‹çš„å˜é‡ï¼Œdim3å¯ä»¥çœ‹æˆæ˜¯åŒ…å«ä¸‰ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆxï¼Œyï¼Œzï¼‰æˆå‘˜çš„ç»“æ„ä½“å˜é‡ï¼Œåœ¨å®šä¹‰æ—¶ï¼Œç¼ºçœå€¼åˆå§‹åŒ–ä¸º1ã€‚å› æ­¤gridå’Œblockå¯ä»¥çµæ´»åœ°å®šä¹‰ä¸º1-dimï¼Œ2-dimä»¥åŠ3-dimç»“æ„ï¼Œå¯¹äºå›¾ä¸­ç»“æ„ï¼ˆä¸»è¦æ°´å¹³æ–¹å‘ä¸ºxè½´ï¼‰ï¼Œå®šä¹‰çš„gridå’Œblockå¦‚ä¸‹æ‰€ç¤ºï¼Œkernelåœ¨è°ƒç”¨æ—¶ä¹Ÿå¿…é¡»é€šè¿‡æ‰§è¡Œé…ç½®Â«\u003cgrid, blockÂ»\u003eæ¥æŒ‡å®škernelæ‰€ä½¿ç”¨çš„çº¿ç¨‹æ•°åŠç»“æ„ã€‚ æ‰€ä»¥ï¼Œä¸€ä¸ªçº¿ç¨‹éœ€è¦ä¸¤ä¸ªå†…ç½®çš„åæ ‡å˜é‡ï¼ˆblockIdxï¼ŒthreadIdxï¼‰æ¥å”¯ä¸€æ ‡è¯†ï¼Œå®ƒä»¬éƒ½æ˜¯dim3ç±»å‹å˜é‡ï¼Œå…¶ä¸­blockIdxæŒ‡æ˜çº¿ç¨‹æ‰€åœ¨gridä¸­çš„ä½ç½®ï¼Œè€ŒthreaIdxæŒ‡æ˜çº¿ç¨‹æ‰€åœ¨blockä¸­çš„ä½ç½®ï¼Œå¦‚å›¾ä¸­çš„Thread (1,1)æ»¡è¶³ï¼š threadIdx.x = 1 threadIdx.y = 1 blockIdx.x = 1 blockIdx.y = 1 ä¸€ä¸ªçº¿ç¨‹å—ä¸Šçš„çº¿ç¨‹æ˜¯æ”¾åœ¨åŒä¸€ä¸ªæµå¼å¤šå¤„ç†å™¨ï¼ˆSM)ä¸Šçš„ï¼Œä½†æ˜¯å•ä¸ªSMçš„èµ„æºæœ‰é™ï¼Œè¿™å¯¼è‡´çº¿ç¨‹å—ä¸­çš„çº¿ç¨‹æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œç°ä»£GPUsçš„çº¿ç¨‹å—å¯æ”¯æŒçš„çº¿ç¨‹æ•°å¯è¾¾1024ä¸ªã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬è¦çŸ¥é“ä¸€ä¸ªçº¿ç¨‹åœ¨blcokä¸­çš„å…¨å±€IDï¼Œæ­¤æ—¶å°±å¿…é¡»è¿˜è¦çŸ¥é“blockçš„ç»„ç»‡ç»“æ„ï¼Œè¿™æ˜¯é€šè¿‡çº¿ç¨‹çš„å†…ç½®å˜é‡blockDimæ¥è·å¾—ã€‚å®ƒè·å–çº¿ç¨‹å—å„ä¸ªç»´åº¦çš„å¤§å°ã€‚å¯¹äºä¸€ä¸ª2-dimçš„block ï¼Œçº¿ç¨‹ çš„IDå€¼ä¸º ï¼Œå¦‚æœæ˜¯3-dimçš„block ï¼Œçº¿ç¨‹ çš„IDå€¼ä¸º ã€‚å¦å¤–çº¿ç¨‹è¿˜æœ‰å†…ç½®å˜é‡gridDimï¼Œç”¨äºè·å¾—ç½‘æ ¼å—å„ä¸ªç»´åº¦çš„å¤§å°ã€‚ kernelçš„è¿™ç§çº¿ç¨‹ç»„ç»‡ç»“æ„å¤©ç„¶é€‚åˆvector,matrixç­‰è¿ç®—ï¼Œå¦‚æˆ‘ä»¬å°†åˆ©ç”¨ä¸Šå›¾2-dimç»“æ„å®ç°ä¸¤ä¸ªçŸ©é˜µçš„åŠ æ³•ï¼Œæ¯ä¸ªçº¿ç¨‹è´Ÿè´£å¤„ç†æ¯ä¸ªä½ç½®çš„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚çº¿ç¨‹å—å¤§å°ä¸º(16, 16)ï¼Œç„¶åå°†N*Nå¤§å°çš„çŸ©é˜µå‡åˆ†ä¸ºä¸åŒçš„çº¿ç¨‹å—æ¥æ‰§è¡ŒåŠ æ³•è¿ç®—ã€‚ æ­¤å¤–è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹CUDAçš„å†…å­˜æ¨¡å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ç§æœ‰æœ¬åœ°å†…å­˜ï¼ˆLocal Memoryï¼‰ï¼Œè€Œæ¯ä¸ªçº¿ç¨‹å—æœ‰åŒ…å«å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰,å¯ä»¥è¢«çº¿ç¨‹å—ä¸­æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹å—ä¸€è‡´ã€‚æ­¤å¤–ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®å…¨å±€å†…å­˜ï¼ˆGlobal Memoryï¼‰ã€‚è¿˜å¯ä»¥è®¿é—®ä¸€äº›åªè¯»å†…å­˜å—ï¼šå¸¸é‡å†…å­˜ï¼ˆConstant Memoryï¼‰å’Œçº¹ç†å†…å­˜ï¼ˆTexture Memoryï¼‰ã€‚å†…å­˜ç»“æ„æ¶‰åŠåˆ°ç¨‹åºä¼˜åŒ–ï¼Œè¿™é‡Œä¸æ·±å…¥æ¢è®¨å®ƒä»¬ã€‚ è¿˜æœ‰é‡è¦ä¸€ç‚¹ï¼Œä½ éœ€è¦å¯¹GPUçš„ç¡¬ä»¶å®ç°æœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ã€‚ä¸Šé¢è¯´åˆ°äº†kernelçš„çº¿ç¨‹ç»„ç»‡å±‚æ¬¡ï¼Œé‚£ä¹ˆä¸€ä¸ªkernelå®é™…ä¸Šä¼šå¯åŠ¨å¾ˆå¤šçº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹æ˜¯é€»è¾‘ä¸Šå¹¶è¡Œçš„ï¼Œä½†æ˜¯åœ¨ç‰©ç†å±‚å´å¹¶ä¸ä¸€å®šã€‚è¿™å…¶å®å’ŒCPUçš„å¤šçº¿ç¨‹æœ‰ç±»ä¼¼ä¹‹å¤„ï¼Œå¤šçº¿ç¨‹å¦‚æœæ²¡æœ‰å¤šæ ¸æ”¯æŒï¼Œåœ¨ç‰©ç†å±‚ä¹Ÿæ˜¯æ— æ³•å®ç°å¹¶è¡Œçš„ã€‚ä½†æ˜¯å¥½åœ¨GPUå­˜åœ¨å¾ˆå¤šCUDAæ ¸å¿ƒï¼Œå……åˆ†åˆ©ç”¨CUDAæ ¸å¿ƒå¯ä»¥å……åˆ†å‘æŒ¥GPUçš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ã€‚GPUç¡¬ä»¶çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶æ˜¯SMï¼Œå‰é¢å·²ç»è¯´è¿‡ï¼ŒSMæ˜¯è‹±æ–‡åæ˜¯ Streaming Multiprocessorï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æµå¼å¤šå¤„ç†å™¨ã€‚SMçš„æ ¸å¿ƒç»„ä»¶åŒ…æ‹¬CUDAæ ¸å¿ƒï¼Œå…±äº«å†…å­˜ï¼Œå¯„å­˜å™¨ç­‰ï¼ŒSMå¯ä»¥å¹¶å‘åœ°æ‰§è¡Œæ•°ç™¾ä¸ªçº¿ç¨‹ï¼Œå¹¶å‘èƒ½åŠ›å°±å–å†³äºSMæ‰€æ‹¥æœ‰çš„èµ„æºæ•°ã€‚å½“ä¸€ä¸ªkernelè¢«æ‰§è¡Œæ—¶ï¼Œå®ƒçš„girdä¸­çš„çº¿ç¨‹å—è¢«åˆ†é…åˆ°SMä¸Šï¼Œä¸€ä¸ªçº¿ç¨‹å—åªèƒ½åœ¨ä¸€ä¸ªSMä¸Šè¢«è°ƒåº¦ã€‚SMä¸€èˆ¬å¯ä»¥è°ƒåº¦å¤šä¸ªçº¿ç¨‹å—ï¼Œè¿™è¦çœ‹SMæœ¬èº«çš„èƒ½åŠ›ã€‚é‚£ä¹ˆæœ‰å¯èƒ½ä¸€ä¸ªkernelçš„å„ä¸ªçº¿ç¨‹å—è¢«åˆ†é…å¤šä¸ªSMï¼Œæ‰€ä»¥gridåªæ˜¯é€»è¾‘å±‚ï¼Œè€ŒSMæ‰æ˜¯æ‰§è¡Œçš„ç‰©ç†å±‚ã€‚SMé‡‡ç”¨çš„æ˜¯SIMT (Single-Instruction, Multiple-Threadï¼Œå•æŒ‡ä»¤å¤šçº¿ç¨‹)æ¶æ„ï¼ŒåŸºæœ¬çš„æ‰§è¡Œå•å…ƒæ˜¯çº¿ç¨‹æŸï¼ˆwarps)ï¼Œçº¿ç¨‹æŸåŒ…å«32ä¸ªçº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹åŒæ—¶æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½åŒ…å«è‡ªå·±çš„æŒ‡ä»¤åœ°å€è®¡æ•°å™¨å’Œå¯„å­˜å™¨çŠ¶æ€ï¼Œä¹Ÿæœ‰è‡ªå·±ç‹¬ç«‹çš„æ‰§è¡Œè·¯å¾„ã€‚æ‰€ä»¥å°½ç®¡çº¿ç¨‹æŸä¸­çš„çº¿ç¨‹åŒæ—¶ä»åŒä¸€ç¨‹åºåœ°å€æ‰§è¡Œï¼Œä½†æ˜¯å¯èƒ½å…·æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œæ¯”å¦‚é‡åˆ°äº†åˆ†æ”¯ç»“æ„ï¼Œä¸€äº›çº¿ç¨‹å¯èƒ½è¿›å…¥è¿™ä¸ªåˆ†æ”¯ï¼Œä½†æ˜¯å¦å¤–ä¸€äº›æœ‰å¯èƒ½ä¸æ‰§è¡Œï¼Œå®ƒä»¬åªèƒ½æ­»ç­‰ï¼Œå› ä¸ºGPUè§„å®šçº¿ç¨‹æŸä¸­æ‰€æœ‰çº¿ç¨‹åœ¨åŒä¸€å‘¨æœŸæ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œçº¿ç¨‹æŸåˆ†åŒ–ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚å½“çº¿ç¨‹å—è¢«åˆ’åˆ†åˆ°æŸä¸ªSMä¸Šæ—¶ï¼Œå®ƒå°†è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºå¤šä¸ªçº¿ç¨‹æŸï¼Œå› ä¸ºè¿™æ‰æ˜¯SMçš„åŸºæœ¬æ‰§è¡Œå•å…ƒï¼Œä½†æ˜¯ä¸€ä¸ªSMåŒæ—¶å¹¶å‘çš„çº¿ç¨‹æŸæ•°æ˜¯æœ‰é™çš„ã€‚è¿™æ˜¯å› ä¸ºèµ„æºé™åˆ¶ï¼ŒSMè¦ä¸ºæ¯ä¸ªçº¿ç¨‹å—åˆ†é…å…±äº«å†…å­˜ï¼Œè€Œä¹Ÿè¦ä¸ºæ¯ä¸ªçº¿ç¨‹æŸä¸­çš„çº¿ç¨‹åˆ†é…ç‹¬ç«‹çš„å¯„å­˜å™¨ã€‚","date":"2023-07-12","objectID":"/posts/cuda/:1:5","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"5.3. å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ CUDAå­˜å‚¨å™¨æœ‰ï¼šå¯„å­˜å™¨(register)ã€å…±äº«å­˜å‚¨å™¨(shared memory)ã€å¸¸é‡å­˜å‚¨å™¨(constant memory)ã€æœ¬åœ°å­˜å‚¨å™¨(local memory)ã€å…¨å±€å­˜å‚¨å™¨(global memory)ã€çº¹ç†å­˜å‚¨å™¨ç­‰ã€‚å…¶ä¸­å¯„å­˜å™¨å’Œæœ¬åœ°å­˜å‚¨å™¨æ˜¯çº¿ç¨‹(thread)ç§æœ‰çš„ï¼Œå…±äº«å­˜å‚¨å™¨æ˜¯å¯¹çº¿ç¨‹å—(block)ä¸­çš„æ‰€æœ‰çº¿ç¨‹å¯è§ï¼Œå¸¸é‡å­˜å‚¨å™¨ã€å…¨å±€å­˜å‚¨å™¨å’Œçº¹ç†å­˜å‚¨å™¨æ˜¯å¯¹ç½‘æ ¼(grid)ä¸­æ‰€æœ‰çº¿ç¨‹å¯è§ã€‚ ä¸‹å›¾è§£é‡Šäº†å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„ï¼š 5.4. è¿è¡Œæ—¶API è¿ç”¨è¿è¡Œæ—¶APIå¼€å‘CUDAç¨‹åºéœ€è¦äº†è§£ï¼šåˆå§‹åŒ–ã€è®¾å¤‡ç®¡ç†ã€å­˜å‚¨å™¨ç®¡ç†ã€æµç®¡ç†ã€äº‹ä»¶ç®¡ç†ã€çº¹ç†å‚è€ƒç®¡ç†ã€OpenGLäº’æ“ä½œå’ŒDirect3Däº’æ“ä½œã€‚ è¿è¡Œæ—¶APIæ–‡æ¡£åœ°å€ä¸ºï¼šhttp://docs.nvidia.com/cuda/cuda-runtime-api/index.html ã€‚ 5.4.1. åˆå§‹åŒ– è¿è¡Œæ—¶APIä¸å­˜åœ¨æ˜¾ç¤ºåˆå§‹åŒ–å‡½æ•°ï¼Œåˆå§‹åŒ–ä¼šåœ¨é¦–æ¬¡è°ƒç”¨è¿è¡Œæ—¶å‡½æ•°æ—¶å®Œæˆã€‚è™½ç„¶ä¸éœ€è¦è°ƒç”¨åˆå§‹åŒ–å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†æ˜¯é€€å‡ºæ—¶éœ€è¦è°ƒç”¨é€€å‡ºå‡½æ•°cudaThreadExit()é‡Šæ”¾èµ„æºã€‚ 5.4.2. è®¾å¤‡ç®¡ç† æœ‰äº›ç”µè„‘ä¸Šå¯èƒ½æœ‰å¤šå—è®¾å¤‡ï¼Œå› æ­¤å¯¹äºä¸åŒçš„è¦æ±‚é€‰æ‹©åˆé€‚çš„è®¾å¤‡ã€‚è®¾å¤‡ç®¡ç†ä¸»è¦æ˜¯è·å–è®¾å¤‡ä¿¡æ¯å’Œé€‰æ‹©æ‰§è¡Œè®¾å¤‡ã€‚ ä¸»è¦æœ‰ä¸‰ä¸ªå‡½æ•°ï¼š Â·cudaGetDeviceCount()ï¼šå¾—åˆ°ç”µè„‘ä¸Šè®¾å¤‡çš„ä¸ªæ•°ã€‚ Â·cudaGetDeviceProperties()ï¼šè·å¾—å¯¹åº”è®¾å¤‡çš„ä¿¡æ¯ã€‚ Â·cudaSetDevice()ï¼šè®¾ç½®CUDAä¸Šä¸‹æ–‡å¯¹åº”çš„è®¾å¤‡ã€‚ è¿è¡Œ__global__å‡½æ•°å‰éœ€è¦æå‰é€‰æ‹©è®¾å¤‡ï¼Œå¦‚æœä¸è°ƒç”¨cudaSetDevice()å‡½æ•°ï¼Œåˆ™é»˜è®¤ä½¿ç”¨0å·è®¾å¤‡ã€‚ ä¸Šé¢ä¸‰ä¸ªå‡½æ•°çš„å…·ä½“ç”¨æ³•è¯·æŸ¥çœ‹CUDAè¿è¡Œæ—¶APIæ–‡æ¡£ã€‚ 5.4.3. å­˜å‚¨å™¨ç®¡ç† å…±äº«å­˜å‚¨å™¨ã€å¸¸é‡å­˜å‚¨å™¨ã€çº¿æ€§å­˜å‚¨å™¨å’ŒCUDAæ•°ç»„çš„ä½¿ç”¨æ˜¯å­˜å‚¨å™¨ç®¡ç†çš„ä¸»è¦éƒ¨åˆ†ã€‚ 5.4.3.1 å…±äº«å­˜å‚¨å™¨ å…±äº«å­˜å‚¨å™¨ï¼Œä½¿ç”¨__shared__å˜é‡é™å®šç¬¦ä¿®é¥°ï¼Œå¯é™æ€æˆ–åŠ¨æ€åˆ†é…å…±äº«å­˜å‚¨å™¨ã€‚ ä»£ç ä¸€ï¼š é™æ€åˆ†é…å…±äº«å­˜å‚¨å™¨ï¼Œæ˜¯åœ¨è®¾å¤‡ä»£ç ä¸­ç›´æ¥åˆ†é…å…±äº«å­˜å‚¨å™¨çš„å¤§å°ï¼Œå¦‚ä¸‹ä»£ç ï¼š #define SHARED_MEM 16 __global__ void kernel(â€¦) { __shared__ int shared[SHARED_MEM]; } void main() { kernel\u003c\u003c\u003cnBlock, nThread\u003e\u003e\u003e(â€¦); } ä»£ç 2 åŠ¨æ€åˆ†é…å…±äº«å­˜å‚¨å™¨ï¼Œæ˜¯åœ¨ä¸»æœºä»£ç ä¸­ä½¿ç”¨å†…æ ¸å‡½æ•°çš„ç¬¬ä¸‰ä¸ªç‰¹å®šå‚æ•°ä¼ å…¥åˆ†é…å…±äº«å­˜å‚¨å™¨çš„å¤§å°ï¼Œå¦‚ä¸‹ä»£ç ï¼š #define SHARED_MEM 16 __global__ void kernel(â€¦) { extern __shared__ int shared[]; } void main() { int nSharedMem = (int)SHARED_MEM; kernel\u003c\u003c\u003cnBlock, nThread, nSharedMem*sizeof(int)\u003e\u003e\u003e(â€¦); } 5.4.3.2. å¸¸é‡å­˜å‚¨å™¨ å¸¸é‡å­˜å‚¨å™¨ï¼Œä½¿ç”¨__constant__å˜é‡é™å®šç¬¦ä¿®é¥°ã€‚ä½¿ç”¨å¸¸é‡å­˜å‚¨å™¨ï¼Œæ˜¯ç”±äºå…¶åœ¨è®¾å¤‡ä¸Šæœ‰ç‰‡ä¸Šç¼“å­˜ï¼Œæ¯”å…¨å±€å­˜å‚¨å™¨è¯»å–æ•ˆç‡é«˜å¾ˆå¤šã€‚ ä½¿ç”¨å¸¸é‡å­˜å‚¨å™¨æ—¶ä¼šæ¶‰åŠçš„è¿è¡Œæ—¶APIå‡½æ•°ä¸»è¦æœ‰ï¼š Â·cudaMemcpyToSymbol() Â·cudaMemcpyFromSymbol() Â·cudaGetSymbolAddress() Â·cudaGetSymbolSize() ä¸»æœºä»£ç ä¸­ä½¿ç”¨cudaGetSymbolAddress()è·å–__constant__æˆ–__device__å®šä¹‰çš„å˜é‡åœ°å€ã€‚è®¾å¤‡ä»£ç ä¸­å¯é€šè¿‡æå–__device__ã€__shared__æˆ–__constant__å˜é‡çš„æŒ‡é’ˆè·å–å˜é‡åœ°å€ã€‚ 5.4.3.3. çº¿æ€§å­˜å‚¨å™¨ çº¿æ€§å­˜å‚¨å™¨æ˜¯ä½¿ç”¨cudaMalloc()ã€cudaMallocPitch()æˆ–cudaMalloc3D()åˆ†é…çš„ï¼Œä½¿ç”¨cudaFree()é‡Šæ”¾ã€‚äºŒç»´çš„æ—¶å€™å»ºè®®ä½¿ç”¨cudaMallocPitch()åˆ†é…ï¼ŒcudaMallocPitch()å‡½æ•°å¯¹å¯¹é½è¿›è¡Œäº†è°ƒæ•´ã€‚è¿™ä¸‰ä¸ªåˆ†é…å‡½æ•°å¯¹åº”cudaMemset()ã€cudaMemset2D()ã€cudaMemset3D()ä¸‰ä¸ªmemsetå‡½æ•°å’ŒcudaMemcpy()ã€cudaMemcpy2D()ã€cudaMemcpy3D()ä¸‰ä¸ªmemcpyå‡½æ•°ã€‚ 5.4.3.4. CUDAæ•°ç»„ CUDAæ•°ç»„æ˜¯ä½¿ç”¨cudaMallocArray()ã€cudaMalloc3DArray()åˆ†é…çš„ï¼Œä½¿ç”¨cudaFreeArray()é‡Šæ”¾ã€‚ ç›¸å…³memcpyå‡½æ•°è¯·æŸ¥é˜…CUDAè¿è¡Œæ—¶APIæ–‡æ¡£ã€‚ å…·ä½“ä½¿ç”¨å¯æŸ¥é˜…CUDAç¼–ç¨‹æŒ‡å—ï¼šhttp://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html ã€‚ 5.4.4. æµç®¡ç† ä¸»æœºè®¾å¤‡ä¹‹é—´çš„å†…å­˜æ‹·è´ä¸å†…æ ¸åœ¨è®¾å¤‡ä¸Šæ‰§è¡Œæ˜¯å¼‚æ­¥çš„ã€‚åœ¨ä¸ä½¿ç”¨æµçš„æƒ…å†µä¸‹ï¼Œæ˜¯è¿™æ ·æ‰§è¡Œçš„ï¼šè®¾å¤‡å…ˆä»ä¸»æœºä¸Šæ‹·è´å†…å­˜ï¼Œæ‹·è´å®Œæˆä¹‹åï¼Œå†åœ¨è®¾å¤‡ä¸Šæ‰§è¡Œå†…æ ¸ä»£ç è®¡ç®—ï¼Œæœ€åå½“å†…æ ¸æ‰§è¡Œå®Œæ¯•ï¼Œå†æŠŠè®¾å¤‡ä¸Šçš„å†…å­˜æ‹·è´åˆ°ä¸»æœºä¸Šã€‚å½“ä½¿ç”¨ä¸¤ä¸ªæµçš„æƒ…å†µä¸‹ï¼Œ0å·æµæ‰§è¡Œå†…æ ¸ä»£ç çš„åŒæ—¶1å·æµæ‹·è´ä¸»æœºå†…å­˜åˆ°è®¾å¤‡ï¼Œ1å·æµæ‰§è¡Œçš„åŒæ—¶0å·æµæ‹·è´è®¾å¤‡å†…å­˜åˆ°ä¸»æœºï¼ˆå…·ä½“çš„å®ç°å¹¶ä¸ä¸€å®šå¦‚æ­¤ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†è¯´æ˜æµçš„ä½œç”¨ç®€å•åšäº†å‡è®¾ï¼‰ã€‚ä¸¤ä¸ªæµçš„æƒ…å†µä¸‹ï¼Œéƒ¨åˆ†å†…å­˜æ‹·è´å’Œå†…ç½®æ‰§è¡Œæ˜¯åŒæ—¶è¿›è¡Œçš„ï¼ˆå¼‚æ­¥çš„ï¼‰ï¼Œæ¯”åŒæ­¥çš„å†…å­˜æ‹·è´å’Œå†…æ ¸æ‰§è¡ŒèŠ‚çœäº†æ—¶é—´ã€‚ ä¸æµæœ‰å…³çš„å‡½æ•°æœ‰ï¼š Â·cudaStreamCreate()ï¼šæµçš„åˆ›å»ºï¼› Â·cudaStreamDestroy()ï¼šæµçš„é”€æ¯ï¼› Â·cudaStreamSynchronize()ï¼šæµåŒæ­¥ï¼› Â·*Asyncï¼šä¸æµç›¸å…³çš„å…¶ä»–å‡½æ•°ã€‚ å†…æ ¸\u003c\u003c\u003câ€¦\u003e\u003e\u003eçš„ç¬¬å››ä¸ªå‚æ•°ä¸ºå“ªä¸ªæµã€‚ CUDAç¼–ç¨‹æŒ‡å—ä¸­æœ‰å¯¹æµå…·ä½“å®ç°çš„è®²è§£ã€‚ https://blog.csdn.net/a925907195/article/details/39500915 ","date":"2023-07-12","objectID":"/posts/cuda/:1:6","tags":["CUDA"],"title":"CUDA Introduction","uri":"/posts/cuda/"},{"categories":["GPU"],"content":"ç¬¬5ç«  å…±äº«å†…å­˜å’Œå¸¸é‡å†…å­˜ äº†è§£æ•°æ®åœ¨å…±äº«å†…å­˜ä¸­æ˜¯å¦‚ä½•è¢«å®‰æ’çš„ æŒæ¡ä»äºŒç»´å…±äº«å†…å­˜åˆ°çº¿æ€§å…¨å±€å†…å­˜çš„ç´¢å¼•è½¬æ¢ è§£å†³ä¸åŒè®¿é—®æ¨¡å¼ä¸­å­˜å‚¨ä½“ä¸­çš„å†²çª åœ¨å…±äº«å†…å­˜ä¸­ç¼“å­˜æ•°æ®ä»¥å‡å°‘å¯¹å…¨å±€å†…å­˜çš„è®¿é—® ä½¿ç”¨å…±äº«å†…å­˜é¿å…éåˆå¹¶å…¨å±€å†…å­˜çš„è®¿é—® ç†è§£å¸¸é‡ç¼“å­˜å’Œåªè¯»ç¼“å­˜ä¹‹é—´çš„å·®å¼‚ ä½¿ç”¨çº¿ç¨‹æŸæ´—ç‰ŒæŒ‡ä»¤ç¼–ç¨‹ ","date":"2023-07-12","objectID":"/posts/cuda_05/:1:0","tags":["CUDA"],"title":"CUDA_C_NOTES [5]","uri":"/posts/cuda_05/"},{"categories":["GPU"],"content":"5.1 CUDAå…±äº«å†…å­˜æ¦‚è¿° GPUä¸­æœ‰ä¸¤ç§ç±»å‹çš„å†…å­˜: æ¿è½½å†…å­˜: å…¨å±€å†…å­˜æ˜¯è¾ƒå¤§çš„æ¿è½½å†…å­˜ï¼Œå…·æœ‰ç›¸å¯¹è¾ƒé«˜çš„å»¶è¿Ÿã€‚ ç‰‡ä¸Šå†…å­˜: å…±äº«å†…å­˜æ˜¯è¾ƒå°çš„ç‰‡ä¸Šå†…å­˜ï¼Œå…·æœ‰ç›¸å¯¹è¾ƒä½çš„å»¶è¿Ÿï¼Œå¹¶ä¸”å…±äº«å†…å­˜å¯ä»¥æä¾›æ¯”å…¨å±€å†…å­˜é«˜å¾—å¤šçš„å¸¦å®½ å…±äº«å†…å­˜é€šå¸¸çš„ç”¨é€”æœ‰: å—å†…çº¿ç¨‹é€šä¿¡çš„é€šé“ ç”¨äºå…¨å±€å†…å­˜æ•°æ®çš„å¯ç¼–ç¨‹ç®¡ç†çš„ç¼“å­˜ é«˜é€Ÿæš‚å­˜å­˜å‚¨å™¨ï¼Œç”¨äºè½¬æ¢æ•°æ®ä»¥ä¼˜åŒ–å…¨å±€å†…å­˜è®¿é—®æ¨¡å¼ 5.1.1 å…±äº«å†…å­˜ å…±äº«å†…å­˜ï¼ˆshared memoryï¼ŒSMEMï¼‰æ˜¯GPUçš„ä¸€ä¸ªå…³é”®éƒ¨ä»¶ã€‚ç‰©ç†ä¸Šï¼Œæ¯ä¸ªSMéƒ½æœ‰ä¸€ä¸ªå°çš„ä½å»¶è¿Ÿå†…å­˜æ± ï¼Œè¿™ä¸ªå†…å­˜æ± è¢«å½“å‰æ­£åœ¨è¯¥SMä¸Šæ‰§è¡Œçš„çº¿ç¨‹å—ä¸­çš„æ‰€æœ‰çº¿ç¨‹æ‰€å…±äº«ã€‚(å…±äº«å†…å­˜å°±æ˜¯SMä¸Šçš„ä¸€å—ä½å»¶è¿Ÿå†…å­˜æ± ) å…±äº«å†…å­˜ä½¿åŒä¸€ä¸ªçº¿ç¨‹å—ä¸­çš„çº¿ç¨‹èƒ½å¤Ÿäº’ç›¸åä½œï¼Œä¾¿äºé‡ç”¨ç‰‡ä¸Šæ•°æ®ï¼Œå¹¶å¯ä»¥å¤§å¤§é™ä½æ ¸å‡½æ•°æ‰€éœ€çš„å…¨å±€å†…å­˜å¸¦å®½ã€‚ç”±äºå…±äº«å†…å­˜ä¸­çš„å†…å®¹æ˜¯ç”±åº”ç”¨ç¨‹åºæ˜¾å¼ç®¡ç†çš„ï¼Œæ‰€ä»¥å®ƒé€šå¸¸è¢«æè¿°ä¸ºå¯ç¼–ç¨‹ç®¡ç†çš„ç¼“å­˜ã€‚ å½“æ¯ä¸ªçº¿ç¨‹å—å¼€å§‹æ‰§è¡Œæ—¶ï¼Œä¼šåˆ†é…ç»™å®ƒä¸€å®šæ•°é‡çš„å…±äº«å†…å­˜ã€‚è¿™ä¸ªå…±äº«å†…å­˜çš„åœ°å€ç©ºé—´è¢«çº¿ç¨‹å—ä¸­æ‰€æœ‰çš„çº¿ç¨‹å…±äº«ã€‚å®ƒçš„å†…å®¹å’Œåˆ›å»ºæ—¶æ‰€åœ¨çš„çº¿ç¨‹å—å…·æœ‰ç›¸åŒç”Ÿå‘½å‘¨æœŸã€‚æ¯ä¸ªçº¿ç¨‹æŸå‘å‡ºå…±äº«å†…å­˜è®¿é—®è¯·æ±‚ã€‚åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¢«çº¿ç¨‹æŸå…±äº«å†…å­˜è®¿é—®çš„è¯·æ±‚åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­å®Œæˆã€‚æœ€åçš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå…±äº«å†…å­˜çš„è¯·æ±‚åœ¨32ä¸ªä¸åŒçš„äº‹åŠ¡ä¸­é¡ºåºæ‰§è¡Œã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹è®¿é—®å…±äº«å†…å­˜ä¸­çš„åŒä¸€ä¸ªå­—ï¼Œä¸€ä¸ªçº¿ç¨‹è¯»å–è¯¥å­—åï¼Œé€šè¿‡å¤šæ’­æŠŠå®ƒå‘é€ç»™å…¶ä»–çº¿ç¨‹ã€‚ å…±äº«å†…å­˜è¢«SMä¸­çš„æ‰€æœ‰å¸¸é©»çº¿ç¨‹å—åˆ’åˆ†ï¼Œå› æ­¤ï¼Œå…±äº«å†…å­˜æ˜¯é™åˆ¶è®¾å¤‡å¹¶è¡Œæ€§çš„å…³é”®èµ„æºã€‚ä¸€ä¸ªæ ¸å‡½æ•°ä½¿ç”¨çš„å…±äº«å†…å­˜è¶Šå¤šï¼Œå¤„äºå¹¶å‘æ´»è·ƒçŠ¶æ€çš„çº¿ç¨‹å—å°±è¶Šå°‘ã€‚ å¯ç¼–ç¨‹ç®¡ç†çš„ç¼“å­˜ å…±äº«å†…å­˜æ˜¯ä¸€ä¸ªå¯ç¼–ç¨‹ç®¡ç†çš„ç¼“å­˜ã€‚å½“æ•°æ®ç§»åŠ¨åˆ°å…±äº«å†…å­˜ä¸­ä»¥åŠæ•°æ®è¢«é‡Šæ”¾æ—¶,æˆ‘ä»¬å¯¹å®ƒæœ‰å……åˆ†çš„æ§åˆ¶æƒã€‚ç”±äºåœ¨CUDAä¸­å…è®¸æ‰‹åŠ¨ç®¡ç†å…±äº«å†…å­˜,æ‰€ä»¥é€šè¿‡åœ¨æ•°æ®å¸ƒå±€ä¸Šæä¾›æ›´å¤šçš„ç»†ç²’åº¦æ§åˆ¶å’Œæ”¹å–„ç‰‡ä¸Šæ•°æ®çš„ç§»åŠ¨,ä½¿å¾—å¯¹åº”ç”¨ç¨‹åºä»£ç è¿›è¡Œä¼˜åŒ–å˜å¾—æ›´ç®€å•äº† 5.1.2 å…±äº«å†…å­˜åˆ†é… æœ‰å¤šç§æ–¹æ³•å¯ä»¥ç”¨æ¥åˆ†é…æˆ–å£°æ˜ç”±åº”ç”¨ç¨‹åºè¯·æ±‚æ‰€å†³å®šçš„å…±äº«å†…å­˜å˜é‡ã€‚å¯ä»¥é™æ€æˆ–åŠ¨æ€åœ°åˆ†é…å…±äº«å†…å­˜å˜é‡ã€‚åœ¨CUDAçš„æºä»£ç æ–‡ä»¶ä¸­,å…±äº«å†…å­˜å¯ä»¥è¢«å£°æ˜ä¸ºä¸€ä¸ªæœ¬åœ°çš„CUDAæ ¸å‡½æ•°æˆ–æ˜¯ä¸€ä¸ªå…¨å±€çš„CUDAæ ¸å‡½æ•°ã€‚CUDAæ”¯æŒä¸€ç»´ã€äºŒç»´å’Œä¸‰ç»´å…±äº«å†…å­˜æ•°ç»„çš„å£°æ˜ã€‚ å…±äº«å†…å­˜å˜é‡ç”¨ä¸‹åˆ—ä¿®é¥°ç¬¦è¿›è¡Œå£°æ˜: __shared__ å¦‚æœåœ¨æ ¸å‡½æ•°ä¸­è¿›è¡Œå£°æ˜,é‚£ä¹ˆè¿™ä¸ªå˜é‡çš„ä½œç”¨åŸŸå°±å±€é™åœ¨è¯¥å†…æ ¸ä¸­ã€‚å¦‚æœåœ¨æ–‡ä»¶çš„ä»»ä½•æ ¸å‡½æ•°å¤–è¿›è¡Œå£°æ˜,é‚£ä¹ˆè¿™ä¸ªå˜é‡çš„ä½œç”¨åŸŸå¯¹æ‰€æœ‰æ ¸å‡½æ•°æ¥è¯´éƒ½æ˜¯å…¨å±€çš„ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_05/:1:1","tags":["CUDA"],"title":"CUDA_C_NOTES [5]","uri":"/posts/cuda_05/"},{"categories":["GPU"],"content":"CH04 å…¨å±€å†…å­˜ ","date":"2023-07-12","objectID":"/posts/cuda_04/:1:0","tags":["CUDA"],"title":"CUDA_C_NOTES [4]","uri":"/posts/cuda_04/"},{"categories":["GPU"],"content":"4.1 CUDAå†…å­˜æ¨¡å‹æ¦‚è¿° åœ¨ç°æœ‰çš„ç¡¬ä»¶å­˜å‚¨å­ç³»ç»Ÿä¸‹ï¼Œ å¿…é¡»ä¾é å†…å­˜æ¨¡å‹è·å¾—æœ€ä½³çš„å»¶è¿Ÿå’Œå¸¦å®½ã€‚ CUDAå†…å­˜æ¨¡ç»“åˆäº†ä¸»æœºå’Œè®¾å¤‡çš„å†…å­˜ç³»ç»Ÿï¼Œ å±•ç°äº†å®Œæ•´çš„å†…å­˜å±‚æ¬¡ç»“æ„ï¼Œ ä½¿ä½ èƒ½æ˜¾å¼åœ°æ§åˆ¶æ•°æ®å¸ƒä»¥ä¼˜åŒ–æ€§èƒ½.s 4.1.1 å†…å­˜å±‚æ¬¡ç»“æ„çš„ä¼˜ç‚¹ ä¸¤ç§ä¸åŒç±»å‹çš„å±€éƒ¨æ€§: æ—¶é—´å±€éƒ¨æ€§ï¼šæ—¶é—´å±€éƒ¨æ€§è®¤ä¸ºå¦‚æœä¸€ä¸ªæ•°æ®ä½ç½®è¢«å¼•ç”¨ï¼Œ é‚£ä¹ˆè¯¥æ•°æ®åœ¨è¾ƒçŸ­çš„é—´å‘¨æœŸå†…å¾ˆå¯èƒ½ä¼šå†æ¬¡è¢«å¼•ç”¨ï¼Œ éšç€æ—¶é—´æµé€ï¼Œ è¯¥æ•°æ®è¢«å¼•ç”¨çš„å¯èƒ½æ€§é€æ¸é™ä½ ç©ºé—´å±€éƒ¨æ€§ï¼šç©ºé—´å±€éƒ¨æ€§è®¤ä¸ºå¦‚æœä¸€ä¸ªå†…å­˜ä½ç½®è¢«å¼•ç”¨ï¼Œ åˆ™é™„è¿‘çš„ä½ç½®ä¹Ÿå¯èƒ½ä¼šè¢«å¼•ç”¨ ç°ä»£è®¡ç®—æœºä½¿ç”¨ä¸æ–­æ”¹è¿›çš„ä½å»¶è¿Ÿä½å®¹é‡çš„å†…å­˜å±‚æ¬¡ç»“æ„æ¥ä¼˜åŒ–æ€§èƒ½ã€‚ è¿™ç§å†…å­˜å±‚æ¬¡ç»“æ„ä»…åœ¨æ”¯æŒå±€éƒ¨æ€§åŸåˆ™çš„æƒ…å†µä¸‹æœ‰æ•ˆã€‚ ä¸€ä¸ªå†…å­˜å±‚æ¬¡ç»“æ„ç”±å…·æœ‰ä¸åŒå»¶è¿Ÿã€ å¸¦å®½å®¹é‡çš„å¤šçº§å†…å­˜ç»„æˆã€‚ é€šå¸¸ï¼Œ éšç€ä»å¤„ç†å™¨åˆ°å†…å­˜å»¶è¿Ÿçš„å¢åŠ ï¼Œ å†…å­˜çš„å®¹é‡ä¹Ÿåœ¨å¢åŠ ã€‚ CPUå’ŒGPUçš„ä¸»å­˜éƒ½é‡‡ç”¨çš„æ˜¯DRAMï¼ˆåŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼‰ï¼Œè€Œä½å»¶è¿Ÿå†…å­˜ï¼ˆå¦‚CPUä¸€çº§ç¼“å­˜ï¼‰ä½¿ç”¨çš„åˆ™æ˜¯SRAMï¼ˆé™æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼‰ã€‚å†…å­˜å±‚æ¬¡ç»“æ„ä¸­æœ€å¤§ä¸”æœ€æ…¢çš„çº§åˆ«é€šå¸¸ä½¿ç”¨ç£ç›˜æˆ–é—ªå­˜é©±åŠ¨æ¥å®ç°ã€‚åœ¨è¿™ç§å†…å­˜å±‚æ¬¡ç»“æ„ä¸­ï¼Œå½“æ•°æ®è¢«å¤„ç†å™¨é¢‘ç¹ä½¿ç”¨æ—¶ï¼Œè¯¥æ•°æ®ä¿å­˜åœ¨ä½å»¶è¿Ÿã€ä½å®¹é‡çš„å­˜å‚¨å™¨ä¸­ï¼›è€Œå½“è¯¥æ•°æ®è¢«å­˜å‚¨èµ·æ¥ä»¥å¤‡åç”¨æ—¶ï¼Œæ•°æ®å°±å­˜å‚¨åœ¨é«˜å»¶è¿Ÿã€å¤§å®¹é‡çš„å­˜å‚¨å™¨ä¸­ã€‚è¿™ç§å†…å­˜å±‚æ¬¡ç»“æ„ç¬¦åˆå¤§å†…å­˜ä½å»¶è¿Ÿçš„è®¾æƒ³ã€‚ GPUå’ŒCPUå†…å­˜æ¨¡å‹çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Œ CUDAç¼–ç¨‹æ¨¡å‹èƒ½å°†å†…å­˜å±‚æ¬¡ç»“æ„æ›´å¥½åœ°å‘ˆç°ç»™ç”¨æˆ·ï¼Œ èƒ½è®©æˆ‘ä»¬æ˜¾å¼åœ°æ§åˆ¶å®ƒçš„è¡Œä¸º. 4.1.2 CUDAå†…å­˜æ¨¡å‹ å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œ ä¸€èˆ¬æœ‰ä¸¤ç§ç±»å‹çš„å­˜å‚¨å™¨ï¼š å¯ç¼–ç¨‹çš„ï¼š ä½ éœ€è¦æ˜¾å¼åœ°æ§åˆ¶å“ªäº›æ•°æ®å­˜æ”¾åœ¨å¯ç¼–ç¨‹å†…å­˜ä¸­ ä¸å¯ç¼–ç¨‹çš„ï¼š ä½ ä¸èƒ½å†³å®šæ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œ ç¨‹åºå°†è‡ªåŠ¨ç”Ÿæˆå­˜æ”¾ä½ç½®ä»¥è·å¾—å¥½çš„æ€§èƒ½ åœ¨CPUå†…å­˜å±‚æ¬¡ç»“æ„ä¸­ï¼Œ ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜éƒ½æ˜¯ä¸å¯ç¼–ç¨‹çš„å­˜å‚¨å™¨ã€‚ CUDAå†…å­˜æ¨¡å‹æå‡ºäº†å¤šç§å¯ç¼–ç¨‹å†…å­˜çš„ç±»å‹: å¯„å­˜å™¨ (register) å…±äº«å†…å­˜ (shared memory) æœ¬åœ°å†…å­˜ (local memory) å¸¸é‡å†…å­˜ï¼ˆconstant memoryï¼‰ çº¹ç†å†…å­˜ () å…¨å±€å†…å­˜(global memory) ä¸€ä¸ªæ ¸å‡½æ•°ä¸­çš„çº¿ç¨‹éƒ½æœ‰è‡ªå·±ç§æœ‰çš„æœ¬åœ°å†…å­˜ã€‚ ä¸€ä¸ªçº¿ç¨‹å—æœ‰è‡ªå·±çš„å…±äº«å†…å­˜ï¼Œ å¯¹åŒä¸€çº¿ç¨‹å—ä¸­æ‰€æœ‰çº¿ç¨‹éƒ½å¯è§ï¼Œ å…¶å†…å®¹æŒç»­çº¿ç¨‹å—çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ æ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®å…¨å±€å†…å­˜ã€‚ æ‰€æœ‰çº¿ç¨‹éƒ½èƒ½è®¿é—®çš„åªè¯»å†…å­˜ç©ºé—´æœ‰ï¼š å¸¸é‡å†…å­˜ç©ºé—´å’Œçº¹ç†å†…å­˜ç©ºé—´ã€‚ \u003e å…¨å±€å†…å­˜ã€ å¸¸é‡å†…å­˜å’Œçº¹ç†å†…å­˜ç©ºé—´æœ‰ä¸åŒçš„ç”¨é€”ã€‚ çº¹ç†å†…å­˜ä¸ºå„ç§æ•°æ®å¸ƒå±€æä¾›äº†ä¸åŒçš„å¯»å€æ¨¡å¼å’Œæ»¤æ³¢æ¨¡å¼ã€‚ å¯¹äºä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œ å…¨å±€å†…å­˜ã€ å¸¸é‡å†…å­˜å’Œçº¹ç†å†…å­˜ä¸­çš„å†…å®¹å…·æœ‰ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸ. 4.1.2.1 å¯„å­˜å™¨ å¯„å­˜å™¨æ˜¯GPUä¸Šè¿è¡Œé€Ÿåº¦æœ€å¿«çš„å†…å­˜ç©ºé—´ã€‚ æ ¸å‡½æ•°ä¸­å£°æ˜çš„ä¸€ä¸ªæ²¡æœ‰å…¶ä»–ä¿®é¥°ç¬¦çš„è‡ªå˜é‡ï¼Œ é€šå¸¸å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ã€‚ åœ¨æ ¸å‡½æ•°å£°æ˜çš„æ•°ç»„ä¸­ï¼Œ å¦‚æœç”¨äºå¼•ç”¨è¯¥æ•°ç»„çš„ç´¢å¼•æ˜¯å¸¸é‡ä¸”èƒ½åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œ é‚£ä¹ˆè¯¥æ•°ç»„ä¹Ÿå­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ã€‚ å¯„å­˜å™¨å˜é‡å¯¹äºæ¯ä¸ªçº¿ç¨‹æ¥è¯´éƒ½æ˜¯ç§æœ‰çš„ï¼Œ ä¸€ä¸ªæ ¸å‡½æ•°é€šå¸¸ä½¿ç”¨å¯„å­˜å™¨æ¥ä¿å­˜éœ€è¦é¢‘ ç¹è®¿é—®çš„çº¿ç¨‹ç§æœ‰å˜é‡ã€‚ å¯„å­˜å™¨å˜é‡ä¸æ ¸å‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚ ä¸€æ—¦æ ¸å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œ å°±ä¸èƒ½å¯¹å¯„å­˜å™¨å˜é‡è¿›è¡Œè®¿é—®äº†ã€‚ å¯„å­˜å™¨æ˜¯ä¸€ä¸ªåœ¨SMä¸­ç”±æ´»è·ƒçº¿ç¨‹æŸåˆ’åˆ†å‡ºçš„è¾ƒå°‘èµ„æº: åœ¨Fermiæ¶æ„ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹æœ€å¤šæœ‰63ä¸ªå¯„å­˜å™¨ï¼› åœ¨Kepleræ¶æ„ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹æœ€å¤šæœ‰255ä¸ªå¯„å­˜å™¨ï¼› åœ¨æ ¸å‡½æ•°ä¸­ä½¿ç”¨è¾ƒå°‘çš„å¯„å­˜å™¨å°†ä½¿åœ¨SMä¸Šæœ‰æ›´å¤šçš„å¸¸é©»çº¿ç¨‹å—ã€‚ æ¯ä¸ªSMä¸Šå¹¶å‘çº¿ç¨‹å—è¶Šå¤šï¼Œä½¿ç”¨ç‡å’Œæ€§èƒ½å°±è¶Šé«˜ å¦‚æœä¸€ä¸ªæ ¸å‡½æ•°ä½¿ç”¨äº†è¶…è¿‡ç¡¬ä»¶é™åˆ¶æ•°é‡çš„å¯„å­˜å™¨ï¼Œ åˆ™ä¼šç”¨æœ¬åœ°å†…å­˜æ›¿ä»£å¤šå ç”¨çš„å¯„ å­˜å™¨ã€‚ 4.1.2.2 æœ¬åœ°å†…å­˜ï¼ˆlocal memoryï¼‰ ç¼–è¯‘å™¨å¯èƒ½å­˜æ”¾åˆ°æœ¬åœ°å†…å­˜ä¸­çš„å˜é‡æœ‰ï¼š åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨æœªçŸ¥ç´¢å¼•å¼•ç”¨çš„æœ¬åœ°æ•°ç»„ å¯èƒ½ä¼šå ç”¨å¤§é‡å¯„å­˜å™¨ç©ºé—´çš„è¾ƒå¤§æœ¬åœ°ç»“æ„ä½“æˆ–æ•°ç»„ ä»»ä½•ä¸æ»¡è¶³æ ¸å‡½æ•°å¯„å­˜å™¨é™å®šæ¡ä»¶çš„å˜é‡ â€œæœ¬åœ°å†…å­˜â€è¿™ä¸€åè¯æ˜¯æœ‰æ­§ä¹‰çš„ï¼š æº¢å‡ºåˆ°æœ¬åœ°å†…å­˜ä¸­çš„å˜é‡æœ¬è´¨ä¸Šä¸å…¨å±€å†…å­˜åœ¨åŒä¸€ å—å­˜å‚¨åŒºåŸŸï¼Œ å› æ­¤æœ¬åœ°å†…å­˜è®¿é—®çš„ç‰¹ç‚¹æ˜¯é«˜å»¶è¿Ÿå’Œä½å¸¦å®½ï¼Œ å¹¶ä¸”å¦‚åœ¨æœ¬ç« åé¢çš„4.3èŠ‚ä¸­æ‰€æè¿°çš„é‚£æ ·ï¼Œ æœ¬åœ°å†…å­˜è®¿é—®ç¬¦åˆé«˜æ•ˆå†…å­˜è®¿é—®è¦æ±‚. 4.1.2.3 å…±äº«å†…å­˜ åœ¨æ ¸å‡½æ•°ä¸­ä½¿ç”¨å¦‚ä¸‹ä¿®é¥°ç¬¦ä¿®é¥°çš„å˜é‡å­˜æ”¾åœ¨å…±äº«å†…å­˜ä¸­ï¼š __shared__ å› ä¸ºå…±äº«å†…å­˜æ˜¯ç‰‡ä¸Šå†…å­˜ï¼Œ æ‰€ä»¥ä¸æœ¬åœ°å†…å­˜æˆ–å…¨å±€å†…å­˜ç›¸æ¯”ï¼Œ å®ƒå…·æœ‰æ›´é«˜çš„å¸¦å®½å’Œæ›´ ä½çš„å»¶è¿Ÿã€‚ å®ƒçš„ä½¿ç”¨ç±»ä¼¼äºCPUä¸€çº§ç¼“å­˜ï¼Œ ä½†å®ƒæ˜¯å¯ç¼–ç¨‹çš„ã€‚ æ¯ä¸€ä¸ªSMéƒ½æœ‰ä¸€å®šæ•°é‡çš„ç”±çº¿ç¨‹å—åˆ†é…çš„å…±äº«å†…å­˜ã€‚ å› æ­¤ï¼Œ å¿…é¡»éå¸¸å°å¿ƒä¸è¦è¿‡åº¦ä½¿ç”¨å…±äº«å†…å­˜ï¼Œ å¦åˆ™å°†åœ¨ä¸ç»æ„é—´é™åˆ¶æ´»è·ƒçº¿ç¨‹æŸçš„æ•°é‡ã€‚ å…±äº«å†…å­˜åœ¨æ ¸å‡½æ•°çš„èŒƒå›´å†…å£°æ˜ï¼Œ å…¶ç”Ÿå‘½å‘¨æœŸä¼´éšç€æ•´ä¸ªçº¿ç¨‹å—ã€‚ å½“ä¸€ä¸ªçº¿ç¨‹å—æ‰§è¡Œç»“æŸåï¼Œ å…¶åˆ†é…çš„å…±äº«å†…å­˜å°†è¢«é‡Šæ”¾å¹¶é‡æ–°åˆ†é…ç»™å…¶ä»–çº¿ç¨‹å—ã€‚ å…±äº«å†…å­˜æ˜¯çº¿ç¨‹ä¹‹é—´ç›¸äº’é€šä¿¡çš„åŸºæœ¬æ–¹å¼ã€‚ ä¸€ä¸ªå—å†…çš„çº¿ç¨‹é€šè¿‡ä½¿ç”¨å…±äº«å†…å­˜ä¸­çš„æ•° æ®å¯ä»¥ç›¸äº’åˆä½œã€‚ è®¿é—®å…±äº«å†…å­˜å¿…é¡»åŒæ­¥ä½¿ç”¨å¦‚ä¸‹è°ƒç”¨ï¼Œ è¯¥å‘½ä»¤æ˜¯åœ¨ä¹‹å‰ç« èŠ‚ä¸­ä»‹ç»è¿‡çš„CUDAè¿è¡Œæ—¶è°ƒç”¨ï¼š void __syncthreads(); è¯¥å‡½æ•°è®¾ç«‹äº†ä¸€ä¸ªæ‰§è¡Œéšœç¢ç‚¹ï¼Œ å³åŒä¸€ä¸ªçº¿ç¨‹å—ä¸­çš„æ‰€æœ‰çº¿ç¨‹å¿…é¡»åœ¨å…¶ä»–çº¿ç¨‹è¢«å…è®¸ æ‰§è¡Œå‰è¾¾åˆ°è¯¥å¤„ã€‚ ä¸ºçº¿ç¨‹å—é‡Œæ‰€æœ‰çº¿ç¨‹è®¾ç«‹éšœç¢ç‚¹ï¼Œ è¿™æ ·å¯ä»¥é¿å…æ½œåœ¨çš„æ•°æ®å†²çªã€‚ SMä¸­çš„ä¸€çº§ç¼“å­˜å’Œå…±äº«å†…å­˜éƒ½ä½¿ç”¨64KBçš„ç‰‡ä¸Šå†…å­˜ï¼Œ å®ƒé€šè¿‡é™æ€åˆ’åˆ†ï¼Œ ä½†åœ¨è¿è¡Œæ—¶ å¯ä»¥é€šè¿‡å¦‚ä¸‹æŒ‡ä»¤è¿›è¡ŒåŠ¨æ€é…ç½®ï¼š cudaError_t cudaFuncSetCacheConfig(const void* func, enum cadaFuncCache cacheConfig) 4.1.2.4 å¸¸é‡å†…å­˜ å¸¸é‡å†…å­˜é©»ç•™åœ¨è®¾å¤‡å†…å­˜ä¸­ï¼Œ å¹¶åœ¨æ¯ä¸ªSMä¸“ç”¨çš„å¸¸é‡ç¼“å­˜ä¸­ç¼“å­˜ã€‚ å¸¸é‡å˜é‡ç”¨å¦‚ä¸‹ ä¿®é¥°ç¬¦æ¥ä¿®é¥°: __constant__ å¸¸é‡å˜é‡å¿…é¡»åœ¨å…¨å±€ç©ºé—´å†…å’Œæ‰€æœ‰æ ¸å‡½æ•°ä¹‹å¤–è¿›è¡Œå£°æ˜ã€‚ å¯¹äºæ‰€æœ‰è®¡ç®—èƒ½åŠ›çš„è®¾å¤‡ï¼Œ éƒ½åªå¯ä»¥å£°æ˜64KBçš„å¸¸é‡å†…å­˜ã€‚ å¸¸é‡å†…å­˜æ˜¯é™æ€å£°æ˜çš„ï¼Œ å¹¶å¯¹åŒä¸€ç¼–è¯‘å•å…ƒä¸­çš„æ‰€æœ‰æ ¸å‡½æ•°å¯è§ã€‚ æ ¸å‡½æ•°åªèƒ½ä»å¸¸é‡å†…å­˜ä¸­è¯»å–æ•°æ®ã€‚ï¼ˆä¸èƒ½å¾€å¸¸é‡å†…å­˜ä¸­å†™æ•°æ®ï¼‰ å› æ­¤ï¼Œ å¸¸é‡å†…å­˜å¿…é¡»åœ¨ä¸»æœºç«¯ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°æ¥ åˆå§‹åŒ–ï¼š cudaError_t cudaMemoryToSymbol(const void* symbol, const void* src, size_t count) è¿™ä¸ªå‡½æ•°å°†countä¸ªå­—èŠ‚ä»srcæŒ‡å‘çš„å†…å­˜å¤åˆ¶åˆ°symbolæŒ‡å‘çš„å†…å­˜ä¸­ï¼Œ è¿™ä¸ªå˜é‡å­˜æ”¾åœ¨è®¾å¤‡çš„å…¨å±€å†…å­˜æˆ–å¸¸é‡å†…å­˜ä¸­ã€‚ çº¿ç¨‹æŸä¸­çš„æ‰€æœ‰çº¿ç¨‹ä»ç›¸åŒçš„å†…å­˜åœ°å€ä¸­è¯»å–æ•°æ®æ—¶ï¼Œ å¸¸é‡å†…å­˜è¡¨ç°æœ€å¥½ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œ æ•°å­¦å…¬å¼ä¸­çš„ç³»æ•°å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½¿ç”¨å¸¸é‡å†…å­˜çš„ä¾‹å­ï¼Œ å› ä¸ºä¸€ä¸ªçº¿ç¨‹æŸä¸­æ‰€æœ‰çš„çº¿ç¨‹ä½¿ç”¨ç›¸åŒçš„ç³»æ•°æ¥å¯¹ä¸åŒæ•°æ®è¿›è¡Œç›¸åŒçš„è®¡ç®—ã€‚ å¦‚æœçº¿ç¨‹æŸé‡Œæ¯ä¸ªçº¿ç¨‹éƒ½ä»ä¸åŒçš„åœ°å€ç©ºé—´è¯»å–æ•°æ®ï¼Œ å¹¶ä¸”åªè¯»ä¸€æ¬¡ï¼Œ é‚£ä¹ˆå¸¸é‡å†…å­˜ä¸­å°±ä¸æ˜¯æœ€ä½³é€‰æ‹©ï¼Œ å› ä¸ºæ¯ä»ä¸€ä¸ªå¸¸é‡å†…å­˜ä¸­è¯»å–ä¸€æ¬¡æ•°æ®ï¼Œ éƒ½ä¼šå¹¿æ’­ç»™çº¿ç¨‹æŸé‡Œçš„æ‰€æœ‰çº¿ç¨‹ã€‚ 4.1.2.5 çº¹ç†å†…å­˜ çº¹ç†å†…å­˜æ˜¯ä¸€ç§é€šè¿‡æŒ‡å®šçš„åªè¯»ç¼“å­˜è®¿é—®çš„å…¨å±€å†…å­˜ã€‚ åªè¯»ç¼“å­˜åŒ…æ‹¬ç¡¬ä»¶æ»¤æ³¢çš„æ”¯æŒï¼Œ å®ƒå¯ä»¥å°†æµ®ç‚¹æ’å…¥ä½œä¸ºè¯»è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†æ¥æ‰§è¡Œã€‚ çº¹ç†å†…å­˜æ˜¯å¯¹äºŒç»´ç©ºé—´å±€éƒ¨æ€§çš„ä¼˜åŒ–ï¼Œ æ‰€ä»¥çº¿ç¨‹æŸé‡Œä½¿ç”¨çº¹ç†å†…å­˜è®¿é—®äºŒç»´æ•°æ®çš„çº¿ç¨‹å¯ä»¥è¾¾åˆ°æœ€ä¼˜æ€§èƒ½ã€‚ 4.1.2.6 å…¨å±€å†…å­˜ å…¨å±€å†…å­˜æ˜¯GPUä¸­æœ€å¤§ã€ å»¶è¿Ÿæœ€é«˜å¹¶ä¸”æœ€å¸¸ä½¿ç”¨çš„å†…å­˜ã€‚ globalæŒ‡çš„æ˜¯å…¶ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸã€‚ å®ƒçš„å£°æ˜å¯ä»¥åœ¨ä»»ä½•SMè®¾å¤‡ä¸Šè¢«è®¿é—®åˆ°ï¼Œ å¹¶ä¸”è´¯ç©¿åº”ç”¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ ä¸€ä¸ªå…¨å±€å†…å­˜å˜é‡å¯ä»¥è¢«é™æ€å£°æ˜æˆ–åŠ¨æ€å£°æ˜ã€‚ ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä¿®é¥°ç¬¦åœ¨è®¾å¤‡ä»£ç ä¸­ é™æ€åœ°å£°æ˜ä¸€ä¸ªå˜é‡ï¼š __device__ åœ¨ç¬¬2ç« çš„2.1èŠ‚ä¸­ï¼Œ ä½ å·²ç»å­¦ä¹ äº†å¦‚ä½•åŠ¨æ€åˆ†é…å…¨å±€å†…å­˜ã€‚ åœ¨ä¸»æœºç«¯ä½¿ç”¨cuda-Malloc å‡½æ•°åˆ†é…å…¨å±€å†…å­˜ï¼Œ ä½¿ç”¨cudaFreeå‡½æ•°é‡Šæ”¾å…¨å±€å†…å­˜ã€‚ ç„¶åæŒ‡å‘å…¨å±€å†…å­˜çš„æŒ‡é’ˆå°±ä¼šä½œä¸º å‚æ•°ä¼ é€’ç»™æ ¸å‡½æ•°ã€‚ å…¨å±€å†…å­˜åˆ†é…ç©ºé—´å­˜åœ¨äºåº”ç”¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œ å¹¶ä¸”å¯ä»¥è®¿é—® æ‰€æœ‰æ ¸å‡½æ•°ä¸­çš„æ‰€æœ‰çº¿ç¨‹ã€‚ ä»å¤šä¸ªçº¿ç¨‹è®¿é—®å…¨å±€å†…å­˜æ—¶å¿…é¡»æ³¨æ„ã€‚ å› ä¸ºçº¿ç¨‹çš„æ‰§è¡Œä¸èƒ½è·¨ çº¿ç¨‹å—åŒæ­¥ï¼Œ ä¸åŒçº¿ç¨‹å—å†…çš„å¤šä¸ªçº¿ç¨‹å¹¶å‘åœ°ä¿®æ”¹å…¨å±€å†…å­˜çš„åŒä¸€ä½ç½®å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œ è¿™å°†å¯¼è‡´ä¸€ä¸ªæœªå®šä¹‰çš„ç¨‹åºè¡Œä¸ºã€‚ ä¼˜åŒ–å†…å­˜äº‹åŠ¡å¯¹äºè·å¾—æœ€ä¼˜æ€§èƒ½æ¥è¯´æ˜¯è‡³å…³é‡è¦çš„ã€‚ å½“ä¸€ä¸ªçº¿ç¨‹æŸæ‰§è¡Œå†…å­˜åŠ è½½/ å­˜å‚¨æ—¶ï¼Œ éœ€è¦æ»¡è¶³çš„ä¼ è¾“æ•°é‡é€šå¸¸å–å†³äºä»¥ä¸‹ä¸¤ä¸ªå› ç´ ï¼š è·¨çº¿ç¨‹çš„å†…å­˜åœ°å€åˆ†å¸ƒ æ¯ä¸ªäº‹åŠ¡å†…å­˜åœ°å€çš„å¯¹é½æ–¹å¼ å¯¹äºä¸€ä¸ªç»™å®šçš„çº¿ç¨‹æŸå†…å­˜è¯·æ±‚ï¼Œ äº‹åŠ¡æ•°é‡å’Œæ•°æ®ååç‡æ˜¯ç”±è®¾å¤‡çš„è®¡ç®—èƒ½åŠ›æ¥ç¡®å®š çš„ã€‚ å¯¹äºè®¡ç®—èƒ½åŠ›ä¸º1.0å’Œ1.1çš„è®¾å¤‡ï¼Œ å…¨å±€å†…å­˜è®¿é—®çš„è¦æ±‚æ˜¯éå¸¸ä¸¥æ ¼çš„ã€‚ å¯¹äºè®¡ç®—èƒ½åŠ›é«˜äº1.1çš„è®¾å¤‡ï¼Œ ç”±äºå†…å­˜äº‹åŠ¡è¢«ç¼“å­˜ï¼Œ æ‰€ä»¥è¦æ±‚è¾ƒä¸ºå®½æ¾ã€‚ ç¼“å­˜çš„å†…å­˜äº‹åŠ¡åˆ©ç”¨æ•°æ®å±€éƒ¨æ€§æ¥æé«˜æ•°æ®ååç‡ã€‚ 4.1.2.7 GPUç¼“å­˜ è·ŸCPUç¼“å­˜ä¸€æ ·ï¼Œ GPUç¼“å­˜æ˜¯ä¸å¯ç¼–ç¨‹çš„å†…å­˜ã€‚ åœ¨GPUä¸Šæœ‰4ç§ç¼“å­˜ï¼š ä¸€çº§ç¼“å­˜ äºŒçº§ç¼“å­˜ åªè¯»å¸¸é‡ç¼“å­˜ åªè¯»çº¹ç†ç¼“å­˜ æ¯ä¸ªSMéƒ½æœ‰ä¸€ä¸ªä¸€çº§ç¼“å­˜ï¼Œ æ‰€æœ‰çš„SMå…±äº«ä¸€ä¸ªäºŒçº§ç¼“å­˜ã€‚ ä¸€çº§å’ŒäºŒçº§ç¼“å­˜éƒ½è¢«ç”¨æ¥åœ¨å­˜å‚¨æœ¬åœ°å†…å­˜å’Œå…¨å±€å†…å­˜ä¸­çš„æ•°æ®ï¼Œ ä¹ŸåŒ…æ‹¬å¯„å­˜å™¨æº¢å‡ºçš„éƒ¨åˆ†ã€‚å¯¹Fermi GPUå’ŒKepler K40æˆ–å…¶åå‘å¸ƒçš„GPUæ¥è¯´ï¼Œ CUDAå…è®¸æˆ‘ä»¬é…ç½®è¯»æ“ä½œçš„æ•°æ®æ˜¯ä½¿ç”¨ä¸€çº§å’ŒäºŒçº§ç¼“å­˜ï¼Œè¿˜æ˜¯åªä½¿ç”¨äºŒçº§ç¼“å­˜ã€‚ åœ¨GPUä¸Šåªæœ‰å†…å­˜åŠ è½½æ“ä½œå¯ä»¥è¢«ç¼“å­˜ï¼Œå†…å­˜å­˜å‚¨æ“ä½œä¸èƒ½è¢«ç¼“å­˜ã€‚ æ¯ä¸ªSMä¹Ÿæœ‰ä¸€ä¸ªåªè¯»å¸¸é‡ç¼“å­˜å’Œåªè¯»çº¹ç†ç¼“å­˜ï¼Œ å®ƒä»¬ç”¨äºåœ¨è®¾å¤‡å†…å­˜ä¸­æé«˜æ¥è‡ªäºå„è‡ªå†…å­˜ç©ºé—´å†…çš„è¯»å–æ€§èƒ½ã€‚ 4.1.2.8 CUDAå˜é‡å£°æ˜æ€»ç»“ 4.1.2.9 é™æ€å…¨å±€å†…å­˜ ","date":"2023-07-12","objectID":"/posts/cuda_04/:1:1","tags":["CUDA"],"title":"CUDA_C_NOTES [4]","uri":"/posts/cuda_04/"},{"categories":["GPU"],"content":"4.2 å†…å­˜ç®¡ç† CUDAç¼–ç¨‹çš„å†…å­˜ç®¡ç†ä¸Cè¯­è¨€çš„ç±»ä¼¼ï¼Œ éœ€è¦ç¨‹åºå‘˜æ˜¾å¼åœ°ç®¡ç†ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´çš„æ•° æ®ç§»åŠ¨ã€‚ éšç€CUDAç‰ˆæœ¬çš„å‡çº§ï¼Œ NVIDIAæ­£ç³»ç»Ÿåœ°å®ç°ä¸»æœºå’Œè®¾å¤‡å†…å­˜ç©ºé—´çš„ç»Ÿä¸€ï¼Œ ä½†å¯¹äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œ ä»éœ€è¦æ‰‹åŠ¨ç§»åŠ¨æ•°æ®ã€‚ åˆ†é…å’Œé‡Šæ”¾è®¾å¤‡å†…å­˜ åœ¨ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´ä¼ è¾“æ•°æ® 4.2.1 å†…å­˜åˆ†é…å’Œé‡Šæ”¾ CUDAç¼–ç¨‹æ¨¡å‹å‡è®¾äº†ä¸€ä¸ªåŒ…å«ä¸€ä¸ªä¸»æœºå’Œä¸€ä¸ªè®¾å¤‡çš„å¼‚æ„ç³»ç»Ÿï¼Œ æ¯ä¸€ä¸ªå¼‚æ„ç³»ç»Ÿéƒ½ æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€‚ æ ¸å‡½æ•°åœ¨è®¾å¤‡å†…å­˜ç©ºé—´ä¸­è¿è¡Œï¼Œ CUDAè¿è¡Œæ—¶æä¾›å‡½æ•°ä»¥åˆ†é…å’Œé‡Šæ”¾è®¾å¤‡å†…å­˜ã€‚ ä½ å¯ä»¥åœ¨ä¸»æœºä¸Šä½¿ç”¨ä¸‹åˆ—å‡½æ•°åˆ†é…å…¨å±€å†…å­˜ï¼š cudaError_t cudaMalloc(void **devPrt, size_t count); è¿™ä¸ªå‡½æ•°åœ¨è®¾å¤‡ä¸Šåˆ†é…äº†countå­—èŠ‚çš„å…¨å±€å†…å­˜ï¼Œ å¹¶ç”¨devptræŒ‡é’ˆè¿”å›è¯¥å†…å­˜çš„åœ°å€ã€‚ ä½ éœ€è¦ç”¨ä»ä¸»æœºä¸Šä¼ è¾“çš„æ•°æ®æ¥å¡«å……æ‰€åˆ†é…çš„å…¨å±€å†…å­˜ï¼Œ æˆ–ç”¨ä¸‹åˆ—å‡½æ•°å°†å…¶åˆå§‹ åŒ–: cudaError_t cudaMemset(void *devPtr, int value, size_t count); è¿™ä¸ªå‡½æ•°ç”¨å­˜å‚¨åœ¨å˜é‡valueä¸­çš„å€¼æ¥å¡«å……ä»è®¾å¤‡å†…å­˜åœ°å€devPtrå¤„å¼€å§‹çš„countå­—èŠ‚ã€‚ ä¸€æ—¦ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸å†ä½¿ç”¨å·²åˆ†é…çš„å…¨å±€å†…å­˜ï¼Œ é‚£ä¹ˆå¯ä»¥ä»¥ä¸‹ä»£ç é‡Šæ”¾è¯¥å†…å­˜ç©ºé—´ï¼š cudaError_t cudaFree(void *devPtr); è¿™ä¸ªå‡½æ•°é‡Šæ”¾äº†devPtræŒ‡å‘çš„å…¨å±€å†…å­˜ï¼Œ è¯¥å†…å­˜å¿…é¡»åœ¨æ­¤å‰ä½¿ç”¨äº†ä¸€ä¸ªè®¾å¤‡åˆ†é…å‡½æ•° ï¼ˆå¦‚cudaMallocï¼‰ æ¥è¿›è¡Œåˆ†é…ã€‚ å¦åˆ™ï¼Œ å®ƒå°†è¿”å›ä¸€ä¸ªé”™è¯¯cudaErrorInvalidDevicePointerã€‚ å¦‚æœåœ°å€ç©ºé—´å·²ç»è¢«é‡Šæ”¾ï¼Œ é‚£ä¹ˆcudaFreeä¹Ÿè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ 4.2.2 å†…å­˜ä¼ è¾“ ä¸€æ—¦åˆ†é…å¥½äº†å…¨å±€å†…å­˜ï¼Œ ä½ å°±å¯ä»¥ä½¿ç”¨ä¸‹åˆ—å‡½æ•°ä»ä¸»æœºå‘è®¾å¤‡ä¼ è¾“æ•°æ®ï¼š cudaError_t cudaMemory(void *dst, const void *src, size_t count, enum cudaMemcpyKind kind) è¿™ä¸ªå‡½æ•°ä»å†…å­˜ä½ç½®srcå¤åˆ¶äº†countå­—èŠ‚åˆ°å†…å­˜ä½ç½®dstã€‚ å˜é‡kindæŒ‡å®šäº†å¤åˆ¶çš„æ–¹å‘ï¼Œ å¯ä»¥æœ‰ä¸‹åˆ—å–å€¼ï¼š cudaMemcpyHostToHost cudaMemcpyHostToDevice cudaMemcpyDeviceToHost cudaMemcpyDeviceToDevice CUDAç¼–ç¨‹çš„ä¸€ä¸ªåŸºæœ¬åŸåˆ™åº”æ˜¯å°½å¯èƒ½åœ°å‡å°‘ä¸»æœºä¸è®¾å¤‡ä¹‹é—´çš„ä¼ è¾“. 4.2.3 å›ºå®šå†…å­˜ åˆ†é…çš„ä¸»æœºå†…å­˜é»˜è®¤æ˜¯pageableï¼ˆå¯åˆ†é¡µï¼‰ ï¼Œ å®ƒçš„æ„æ€ä¹Ÿå°±æ˜¯å› é¡µé¢é”™è¯¯å¯¼è‡´çš„æ“ ä½œï¼Œ è¯¥æ“ä½œæŒ‰ç…§æ“ä½œç³»ç»Ÿçš„è¦æ±‚å°†ä¸»æœºè™šæ‹Ÿå†…å­˜ä¸Šçš„æ•°æ®ç§»åŠ¨åˆ°ä¸åŒçš„ç‰©ç†ä½ç½®ã€‚ è™šæ‹Ÿå†…å­˜ç»™äººä¸€ç§æ¯”å®é™…å¯ç”¨å†…å­˜å¤§å¾—å¤šçš„å‡è±¡ï¼Œ å°±å¦‚åŒä¸€çº§ç¼“å­˜å¥½åƒæ¯”å®é™…å¯ç”¨çš„ç‰‡ä¸Šå†…å­˜å¤§å¾—å¤šä¸€æ ·ã€‚ GPUä¸èƒ½åœ¨å¯åˆ†é¡µä¸»æœºå†…å­˜ä¸Šå®‰å…¨åœ°è®¿é—®æ•°æ®ï¼Œ å› ä¸ºå½“ä¸»æœºæ“ä½œç³»ç»Ÿåœ¨ç‰©ç†ä½ç½®ä¸Šç§» åŠ¨è¯¥æ•°æ®æ—¶ï¼Œ å®ƒæ— æ³•æ§åˆ¶ã€‚ å½“ä»å¯åˆ†é¡µä¸»æœºå†…å­˜ä¼ è¾“æ•°æ®åˆ°è®¾å¤‡å†…å­˜æ—¶ï¼Œ CUDAé©±åŠ¨ç¨‹åºé¦–å…ˆåˆ†é…ä¸´æ—¶é¡µé¢é”å®šçš„æˆ–å›ºå®šçš„ä¸»æœºå†…å­˜ï¼Œ å°†ä¸»æœºæºæ•°æ®å¤åˆ¶åˆ°å›ºå®šå†…å­˜ä¸­ï¼Œ ç„¶åä»å›ºå®šå†…å­˜ä¼ è¾“æ•°æ®ç»™è®¾å¤‡å†…å­˜ï¼Œ å¦‚å›¾4-4å·¦è¾¹éƒ¨åˆ†æ‰€ç¤º CUDAè¿è¡Œæ—¶å…è®¸ä½ ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ç›´æ¥åˆ†é…å›ºå®šä¸»æœºå†…å­˜ï¼š cudaError_t cudaMallocHost(void **devPtr, size_t count); è¿™ä¸ªå‡½æ•°åˆ†é…äº†countå­—èŠ‚çš„ä¸»æœºå†…å­˜ï¼Œ è¿™äº›å†…å­˜æ˜¯é¡µé¢é”å®šçš„å¹¶ä¸”å¯¹è®¾å¤‡æ¥è¯´æ˜¯å¯ è®¿é—®çš„ã€‚ ç”±äºå›ºå®šå†…å­˜èƒ½è¢«è®¾å¤‡ç›´æ¥è®¿é—®ï¼Œ æ‰€ä»¥å®ƒèƒ½ç”¨æ¯”å¯åˆ†é¡µå†…å­˜é«˜å¾—å¤šçš„å¸¦å®½è¿›è¡Œè¯»å†™ã€‚ ç„¶è€Œï¼Œ åˆ†é…è¿‡å¤šçš„å›ºå®šå†…å­˜å¯èƒ½ä¼šé™ä½ä¸»æœºç³»ç»Ÿçš„æ€§èƒ½ï¼Œ å› ä¸ºå®ƒå‡å°‘äº†ç”¨äºå­˜å‚¨è™šæ‹Ÿå†…å­˜æ•°æ®çš„å¯åˆ†é¡µå†…å­˜çš„æ•°é‡ï¼Œ å…¶ä¸­åˆ†é¡µå†…å­˜å¯¹ä¸»æœºç³»ç»Ÿæ˜¯å¯ç”¨çš„ã€‚ ä¸»æœºä¸è®¾å¤‡é—´çš„å†…å­˜ä¼ è¾“ ä¸å¯åˆ†é¡µå†…å­˜ç›¸æ¯”ï¼Œ å›ºå®šå†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾æˆæœ¬æ›´é«˜ï¼Œ ä½†æ˜¯å®ƒä¸ºå¤§è§„æ¨¡æ•°æ®ä¼ è¾“æä¾› äº†æ›´é«˜çš„ä¼ è¾“ååé‡ 4.2.4 é›¶æ‹·è´å†…å­˜ é€šå¸¸æ¥è¯´ï¼Œ ä¸»æœºä¸èƒ½ç›´æ¥è®¿é—®è®¾å¤‡å˜é‡ï¼Œ åŒæ—¶è®¾å¤‡ä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®ä¸»æœºå˜é‡ã€‚ ä½†æœ‰ä¸€ä¸ªä¾‹å¤–ï¼š é›¶æ‹·è´å†…å­˜ã€‚ ä¸»æœºå’Œè®¾å¤‡éƒ½å¯ä»¥è®¿é—®é›¶æ‹·è´å†…å­˜ã€‚ GPUçº¿ç¨‹å¯ä»¥ç›´æ¥è®¿é—®é›¶æ‹·è´å†…å­˜ã€‚ åœ¨CUDAæ ¸å‡½æ•°ä¸­ä½¿ç”¨é›¶æ‹·è´å†…å­˜æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ åŠ¿ã€‚ å½“è®¾å¤‡å†…å­˜ä¸è¶³æ—¶å¯åˆ©ç”¨ä¸»æœºå†…å­˜ é¿å…ä¸»æœºå’Œè®¾å¤‡é—´çš„æ˜¾å¼æ•°æ®ä¼ è¾“ æé«˜PCIeä¼ è¾“ç‡ å½“ä½¿ç”¨é›¶æ‹·è´å†…å­˜æ¥å…±äº«ä¸»æœºå’Œè®¾å¤‡é—´çš„æ•°æ®æ—¶ï¼Œ ä½ å¿…é¡»åŒæ­¥ä¸»æœºå’Œè®¾å¤‡é—´çš„å†…å­˜è®¿ é—®ï¼Œ åŒæ—¶æ›´æ”¹ä¸»æœºå’Œè®¾å¤‡çš„é›¶æ‹·è´å†…å­˜ä¸­çš„æ•°æ®å°†å¯¼è‡´ä¸å¯é¢„çŸ¥çš„åæœã€‚ é›¶æ‹·è´å†…å­˜æ˜¯å›ºå®šï¼ˆä¸å¯åˆ†é¡µï¼‰ å†…å­˜ï¼Œ è¯¥å†…å­˜æ˜ å°„åˆ°è®¾å¤‡åœ°å€ç©ºé—´ä¸­ã€‚ ä½ å¯ä»¥é€šè¿‡ä¸‹åˆ—å‡½æ•°åˆ›å»ºä¸€ä¸ªåˆ°å›ºå®šå†…å­˜çš„æ˜ å°„ï¼š cudaError_t cudaHostAlloc(void **pHost, size_t count, unsigned int flags); è¿™ä¸ªå‡½æ•°åˆ†é…äº†countå­—èŠ‚çš„ä¸»æœºå†…å­˜ï¼Œ è¯¥å†…å­˜æ˜¯é¡µé¢é”å®šçš„ä¸”è®¾å¤‡å¯è®¿é—®çš„ã€‚ ç”¨è¿™ ä¸ªå‡½æ•°åˆ†é…çš„å†…å­˜å¿…é¡»ç”¨cudaFreeHostå‡½æ•°é‡Šæ”¾ã€‚ flagså‚æ•°å¯ä»¥å¯¹å·²åˆ†é…å†…å­˜çš„ç‰¹æ®Šå±æ€§ è¿›ä¸€æ­¥è¿›è¡Œé…ç½®ï¼š - cudaHostAllocDefault - cudaHostAllocPortable - cudaHostAllocWriteCombined - cudaHostAllocMapped cudaHostAllocDefaultå‡½æ•°ä½¿cudaHostAllocå‡½æ•°çš„è¡Œä¸ºä¸cudaMallocHostå‡½æ•°ä¸€è‡´ã€‚ è®¾ç½®cudaHostAllocPortableå‡½æ•°å¯ä»¥è¿”å›èƒ½è¢«æ‰€æœ‰CUDAä¸Šä¸‹æ–‡ä½¿ç”¨çš„å›ºå®šå†…å­˜ï¼Œ è€Œä¸ä»…æ˜¯æ‰§ è¡Œå†…å­˜åˆ†é…çš„é‚£ä¸€ä¸ªã€‚ æ ‡å¿—cudaHostAllocWriteCombinedè¿”å›å†™ç»“åˆå†…å­˜ï¼Œ è¯¥å†…å­˜å¯ä»¥åœ¨æŸäº›ç³»ç»Ÿé…ç½®ä¸Šé€šè¿‡PCIeæ€»çº¿ä¸Šæ›´å¿«åœ°ä¼ è¾“ï¼Œ ä½†æ˜¯å®ƒåœ¨å¤§å¤šæ•°ä¸»æœºä¸Šä¸èƒ½è¢«æœ‰æ•ˆåœ°è¯»å–ã€‚å› æ­¤ï¼Œ å†™ç»“åˆå†…å­˜å¯¹ç¼“å†²åŒºæ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œ è¯¥å†…å­˜é€šè¿‡è®¾å¤‡ä½¿ç”¨æ˜ å°„çš„å›ºå®šå†…å­˜æˆ–ä¸»æœºåˆ°è®¾å¤‡çš„ä¼ è¾“ã€‚ é›¶æ‹·è´å†…å­˜çš„æœ€æ˜æ˜¾çš„æ ‡å¿—æ˜¯cudaHostAllocMappedï¼Œ è¯¥æ ‡å¿—è¿”å›ï¼Œ å¯ä»¥å®ç°ä¸»æœºå†™å…¥å’Œè®¾å¤‡è¯»å–è¢«æ˜ å°„åˆ°è®¾å¤‡åœ°å€ç©ºé—´ä¸­çš„ä¸»æœºå†…å­˜ã€‚ ä½ å¯ä»¥ä½¿ç”¨ä¸‹åˆ—å‡½æ•°è·å–æ˜ å°„åˆ°å›ºå®šå†…å­˜çš„è®¾å¤‡æŒ‡é’ˆï¼š cudaError_t cudaHostGetDevicePointer(void **pDevice, void *pHost, unsigned int flags); è¯¥å‡½æ•°è¿”å›äº†ä¸€ä¸ªåœ¨pDeviceä¸­çš„è®¾å¤‡æŒ‡é’ˆï¼Œ è¯¥æŒ‡é’ˆå¯ä»¥åœ¨è®¾å¤‡ä¸Šè¢«å¼•ç”¨ä»¥è®¿é—®æ˜ å°„å¾—åˆ°çš„å›ºå®šä¸»æœºå†…å­˜ã€‚ å¦‚æœè®¾å¤‡ä¸æ”¯æŒæ˜ å°„å¾—åˆ°çš„å›ºå®šå†…å­˜ï¼Œ è¯¥å‡½æ•°å°†å¤±æ•ˆã€‚ flagå°†ç•™ä½œä»¥åä½¿ç”¨ã€‚ ç°åœ¨ï¼Œ å®ƒå¿…é¡»è¢«ç½®ä¸º0ã€‚ åœ¨è¿›è¡Œé¢‘ç¹çš„è¯»å†™æ“ä½œæ—¶ï¼Œ ä½¿ç”¨é›¶æ‹·è´å†…å­˜ä½œä¸ºè®¾å¤‡å†…å­˜çš„è¡¥å……å°†æ˜¾è‘—é™ä½æ€§èƒ½ã€‚ å› ä¸ºæ¯ä¸€æ¬¡æ˜ å°„åˆ°å†…å­˜çš„ä¼ è¾“å¿…é¡»ç»è¿‡PCIeæ€»çº¿ã€‚ ä¸å…¨å±€å†…å­˜ç›¸æ¯”ï¼Œ å»¶è¿Ÿä¹Ÿæ˜¾è‘—å¢åŠ ã€‚ é›¶æ‹·è´å†…å­˜ æœ‰ä¸¤ç§å¸¸è§çš„å¼‚æ„è®¡ç®—ç³»ç»Ÿæ¶æ„ï¼š é›†æˆæ¶æ„å’Œç¦»æ•£æ¶æ„ã€‚ åœ¨é›†æˆæ¶æ„ä¸­ï¼Œ CPUå’ŒGPUé›†æˆåœ¨ä¸€ä¸ªèŠ¯ç‰‡ä¸Šï¼Œ å¹¶ä¸”åœ¨ç‰©ç†åœ°å€ä¸Šå…±äº«ä¸»å­˜ã€‚ åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œ ç”±äºæ— é¡»åœ¨PCIeæ€»çº¿ä¸Šå¤‡ä»½ï¼Œ æ‰€ä»¥é›¶æ‹·è´å†…å­˜åœ¨æ€§èƒ½å’Œå¯ç¼–ç¨‹æ€§æ–¹é¢å¯èƒ½æ›´ä½³ã€‚ å¯¹äºé€šè¿‡PCIeæ€»çº¿å°†è®¾å¤‡è¿æ¥åˆ°ä¸»æœºçš„ç¦»æ•£ç³»ç»Ÿè€Œè¨€ï¼Œ é›¶æ‹·è´å†…å­˜åªåœ¨ç‰¹æ®Šæƒ…å†µä¸‹æœ‰ä¼˜åŠ¿ã€‚ å› ä¸ºæ˜ å°„çš„å›ºå®šå†…å­˜åœ¨ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´æ˜¯å…±äº«çš„ï¼Œ ä½ å¿…é¡»åŒæ­¥å†…å­˜è®¿é—®æ¥é¿å…ä»»ä½•æ½œåœ¨çš„æ•°æ®å†²çªï¼Œ è¿™ç§æ•°æ®å†²çªä¸€èˆ¬æ˜¯ç”±å¤šçº¿ç¨‹å¼‚æ­¥è®¿é—®ç›¸åŒçš„å†…å­˜è€Œå¼•èµ·çš„ã€‚ æ³¨æ„ä¸è¦è¿‡åº¦ä½¿ç”¨é›¶æ‹·è´å†…å­˜ã€‚ ç”±äºå…¶å»¶è¿Ÿè¾ƒé«˜ï¼Œ ä»é›¶æ‹·è´å†…å­˜ä¸­è¯»å–è®¾å¤‡æ ¸å‡½æ•°å¯èƒ½å¾ˆæ…¢ã€‚ 4.2.5 ç»Ÿä¸€è™šæ‹Ÿå¯»å€ ","date":"2023-07-12","objectID":"/posts/cuda_04/:1:2","tags":["CUDA"],"title":"CUDA_C_NOTES [4]","uri":"/posts/cuda_04/"},{"categories":["GPU"],"content":"CH03 CUDAæ‰§è¡Œæ¨¡å‹ ","date":"2023-07-12","objectID":"/posts/cuda_03/:1:0","tags":["CUDA"],"title":"CUDA_C_NOTES [3]","uri":"/posts/cuda_03/"},{"categories":["GPU"],"content":"3.1 CUDAæ‰§è¡Œæ¨¡å‹æ¦‚è¿° CUDAæ‰§è¡Œæ¨¡å‹èƒ½å¤Ÿæä¾›æœ‰åŠ©äºåœ¨æŒ‡ä»¤ååé‡å’Œå†…å­˜è®¿é—®æ–¹é¢ç¼–å†™é«˜æ•ˆä»£ç çš„è§è§£ 3.1.1 GPUæ¶æ„æ¦‚è¿° GPUæ¶æ„æ˜¯å›´ç»•ä¸€ä¸ªæµå¼å¤šå¤„ç†å™¨ï¼ˆSMï¼‰ (Stream Multiprocessor)çš„å¯æ‰©å±•é˜µåˆ—æ­å»ºçš„,å¯ä»¥é€šè¿‡å¤åˆ¶è¿™ç§æ¶æ„çš„æ„å»ºå—æ¥å®ç°GPUçš„ç¡¬ä»¶å¹¶è¡Œ Fermi SMçš„å…³é”®ç»„ä»¶ï¼š CUDAæ ¸å¿ƒ å…±äº«å†…å­˜/ä¸€çº§ç¼“å­˜ å¯„å­˜å™¨æ–‡ä»¶ åŠ è½½/å­˜å‚¨å•å…ƒ ç‰¹æ®ŠåŠŸèƒ½å•å…ƒ çº¿ç¨‹æŸè°ƒåº¦å™¨ GPUä¸­çš„æ¯ä¸€ä¸ªSMéƒ½èƒ½æ”¯æŒæ•°ç™¾ä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼Œ æ¯ä¸ªGPUé€šå¸¸æœ‰å¤šä¸ªSMï¼Œ æ‰€ä»¥åœ¨ä¸€ä¸ªGPUä¸Šå¹¶å‘æ‰§è¡Œæ•°åƒä¸ªçº¿ç¨‹æ˜¯æœ‰å¯èƒ½çš„ã€‚ å½“å¯åŠ¨ä¸€ä¸ªå†…æ ¸ç½‘æ ¼æ—¶ï¼Œ å®ƒçš„çº¿ç¨‹å—è¢«åˆ†å¸ƒåœ¨äº†å¯ç”¨çš„SMä¸Šæ¥æ‰§è¡Œã€‚ çº¿ç¨‹å—ä¸€æ—¦è¢«è°ƒåº¦åˆ°ä¸€ä¸ªSMä¸Šï¼Œ å…¶ä¸­çš„çº¿ç¨‹åªä¼šåœ¨é‚£ä¸ªæŒ‡å®šçš„SMä¸Šå¹¶å‘æ‰§è¡Œã€‚ å¤šä¸ªçº¿ç¨‹å—å¯èƒ½ä¼šè¢«åˆ†é…åˆ°åŒä¸€ä¸ªSMä¸Šï¼Œ è€Œä¸”æ˜¯æ ¹æ®SMèµ„æºçš„å¯ç”¨æ€§è¿›è¡Œè°ƒåº¦çš„ã€‚åŒä¸€çº¿ç¨‹ä¸­çš„æŒ‡ä»¤åˆ©ç”¨æŒ‡ä»¤çº§å¹¶è¡Œæ€§è¿›è¡Œæµæ°´çº¿åŒ–ï¼Œ å¦å¤–ï¼Œ åœ¨CUDAä¸­å·²ç»ä»‹ç»äº†çº¿ç¨‹çº§å¹¶è¡Œã€‚ CUDAé‡‡ç”¨å•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼ˆSIMTï¼‰ï¼ˆsingle instruciton multi threadï¼‰ æ¶æ„æ¥ç®¡ç†å’Œæ‰§è¡Œçº¿ç¨‹ï¼Œ æ¯32ä¸ªçº¿ç¨‹ä¸ºä¸€ç»„ï¼Œ è¢«ç§°ä¸ºçº¿ç¨‹æŸï¼ˆwarpï¼‰ ã€‚ çº¿ç¨‹æŸä¸­çš„æ‰€æœ‰çº¿ç¨‹åŒæ—¶æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ã€‚ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æŒ‡ä»¤åœ°å€è®¡æ•°å™¨å’Œå¯„å­˜å™¨çŠ¶æ€ï¼Œ åˆ©ç”¨è‡ªèº«çš„æ•°æ®æ‰§è¡Œå½“å‰çš„æŒ‡ä»¤ã€‚ æ¯ä¸ªSMéƒ½å°†åˆ†é…ç»™å®ƒçš„çº¿ç¨‹å—åˆ’åˆ†åˆ°åŒ…å«32ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æŸä¸­ï¼Œ ç„¶ååœ¨å¯ç”¨çš„ç¡¬ä»¶èµ„æºä¸Šè°ƒåº¦æ‰§è¡Œã€‚ SIMTæ¶æ„ä¸SIMDï¼ˆå•æŒ‡ä»¤å¤šæ•°æ®ï¼‰ æ¶æ„ç›¸ä¼¼ã€‚ ä¸¤è€…éƒ½æ˜¯å°†ç›¸åŒçš„æŒ‡ä»¤å¹¿æ’­ç»™å¤šä¸ªæ‰§è¡Œå•å…ƒæ¥å®ç°å¹¶è¡Œã€‚ ä¸€ä¸ªå…³é”®çš„åŒºåˆ«æ˜¯SIMDè¦æ±‚åŒä¸€ä¸ªå‘é‡ä¸­çš„æ‰€æœ‰å…ƒç´ è¦åœ¨ä¸€ä¸ªç»Ÿä¸€çš„åŒæ­¥ç»„ä¸­ä¸€èµ·æ‰§è¡Œï¼Œ è€ŒSIMTå…è®¸å±äºåŒä¸€çº¿ç¨‹æŸçš„å¤šä¸ªçº¿ç¨‹ç‹¬ç«‹æ‰§è¡Œ. SIMTç¡®ä¿å¯ä»¥ç¼–å†™ç‹¬ç«‹çš„çº¿ç¨‹çº§å¹¶è¡Œä»£ç ã€ æ ‡é‡çº¿ç¨‹ä»¥åŠç”¨äºåè°ƒçº¿ç¨‹çš„æ•°æ®å¹¶è¡Œä»£ç ã€‚ SIMTæ¨¡å‹åŒ…å«3ä¸ªSIMDæ‰€ä¸å…·å¤‡çš„å…³é”®ç‰¹å¾ã€‚ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æŒ‡ä»¤åœ°å€è®¡æ•°å™¨ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å¯„å­˜å™¨çŠ¶æ€ æ¯ä¸ªçº¿ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ‰§è¡Œè·¯å¾„ ä¸€ä¸ªç¥å¥‡çš„æ•°å­—ï¼š 32 ä»æ¦‚å¿µä¸Šè®²ï¼Œ å®ƒæ˜¯SMç”¨SIMDæ–¹å¼æ‰€åŒæ—¶å¤„ç†çš„å·¥ä½œç²’åº¦ã€‚ ä¼˜åŒ–å·¥ä½œè´Ÿè½½ä»¥é€‚åº”çº¿ç¨‹æŸï¼ˆä¸€ç»„æœ‰32ä¸ªçº¿ç¨‹ï¼‰ çš„è¾¹ç•Œï¼Œ ä¸€èˆ¬è¿™æ ·ä¼šæ›´æœ‰æ•ˆåœ°åˆ©ç”¨GPUè®¡ç®—èµ„æºã€‚ ä¸€ä¸ªçº¿ç¨‹å—åªèƒ½åœ¨ä¸€ä¸ªSMä¸Šè¢«è°ƒåº¦ã€‚ ä¸€æ—¦çº¿ç¨‹å—åœ¨ä¸€ä¸ªSMä¸Šè¢«è°ƒåº¦ï¼Œ å°±ä¼šä¿å­˜åœ¨è¯¥SMä¸Šç›´åˆ°æ‰§è¡Œå®Œæˆã€‚ åœ¨åŒä¸€æ—¶é—´ï¼Œ ä¸€ä¸ªSMå¯ä»¥å®¹çº³å¤šä¸ªçº¿ç¨‹å—. åœ¨SMä¸­ï¼Œ å…±äº«å†…å­˜å’Œå¯„å­˜å™¨æ˜¯éå¸¸é‡è¦çš„èµ„æºã€‚ å…±äº«å†…å­˜è¢«åˆ†é…åœ¨SMä¸Šçš„å¸¸é©»çº¿ç¨‹å—ä¸­ï¼Œ å¯„å­˜å™¨åœ¨çº¿ç¨‹ä¸­è¢«åˆ†é…ã€‚ å°½ç®¡çº¿ç¨‹å—é‡Œçš„æ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥é€»è¾‘åœ°å¹¶è¡Œè¿è¡Œï¼Œ ä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥åŒæ—¶åœ¨ç‰©ç†å±‚é¢æ‰§è¡Œã€‚ å› æ­¤ï¼Œ çº¿ç¨‹å—é‡Œçš„ä¸åŒçº¿ç¨‹å¯èƒ½ä¼šä»¥ä¸åŒçš„é€Ÿåº¦å‰è¿›ã€‚ åœ¨å¹¶è¡Œçº¿ç¨‹ä¸­å…±äº«æ•°æ®å¯èƒ½ä¼šå¼•èµ·ç«äº‰ï¼š å¤šä¸ªçº¿ç¨‹ä½¿ç”¨æœªå®šä¹‰çš„é¡ºåºè®¿é—®åŒä¸€ä¸ªæ•°æ®ï¼Œ ä»è€Œå¯¼è‡´ä¸å¯é¢„æµ‹çš„ç¨‹åºè¡Œä¸ºã€‚ CUDAæä¾›äº†ä¸€ç§ç”¨æ¥åŒæ­¥çº¿ç¨‹å—é‡Œçš„çº¿ç¨‹çš„æ–¹æ³•ï¼Œä»è€Œä¿è¯æ‰€æœ‰çº¿ç¨‹åœ¨è¿›ä¸€æ­¥åŠ¨ä½œä¹‹å‰éƒ½è¾¾åˆ°æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªç‰¹å®šç‚¹ã€‚ ç„¶è€Œï¼Œ æ²¡æœ‰æä¾›å—é—´åŒæ­¥çš„åŸè¯­ã€‚ å½“çº¿ç¨‹æŸç”±äºä»»ä½•ç†ç”±é—²ç½®çš„æ—¶å€™ï¼ˆå¦‚ç­‰å¾…ä»è®¾å¤‡å†…å­˜ä¸­è¯»å–æ•°å€¼ï¼‰ ï¼Œ SMå¯ä»¥ä»åŒä¸€SMä¸Šçš„å¸¸é©»çº¿ç¨‹å—ä¸­è°ƒåº¦å…¶ä»–å¯ç”¨çš„çº¿ç¨‹æŸã€‚ åœ¨å¹¶å‘çš„çº¿ç¨‹æŸé—´åˆ‡æ¢å¹¶æ²¡æœ‰å¼€é”€ï¼Œ å› ä¸ºç¡¬ä»¶èµ„æºå·²ç»è¢«åˆ†é…åˆ°äº†SMä¸Šçš„æ‰€æœ‰çº¿ç¨‹å’Œå—ä¸­ï¼Œ æ‰€ä»¥æœ€æ–°è¢«è°ƒåº¦çš„çº¿ç¨‹æŸçš„çŠ¶æ€å·²ç»å­˜å‚¨åœ¨SMä¸Š SMï¼š GPUæ¶æ„çš„æ ¸å¿ƒ* SMæ˜¯GPUæ¶æ„çš„æ ¸å¿ƒã€‚ å¯„å­˜å™¨å’Œå…±äº«å†…å­˜æ˜¯SMä¸­çš„ç¨€ç¼ºèµ„æºã€‚ CUDAå°†è¿™äº›èµ„æºåˆ†é…åˆ°SMä¸­çš„æ‰€æœ‰å¸¸é©»çº¿ç¨‹é‡Œã€‚ è¿™äº›æœ‰é™çš„èµ„æºé™åˆ¶äº†åœ¨SMä¸Šæ´»è·ƒçš„çº¿ç¨‹æŸæ•°é‡ï¼Œæ´»è·ƒçš„çº¿ç¨‹æŸæ•°é‡å¯¹åº”äºSMä¸Šçš„å¹¶è¡Œé‡ã€‚ äº†è§£ä¸€äº›SMç¡¬ä»¶ç»„æˆçš„åŸºæœ¬çŸ¥è¯†ï¼Œ æœ‰åŠ©äºç»„ç»‡çº¿ç¨‹å’Œé…ç½®å†…æ ¸æ‰§è¡Œä»¥è·å¾—æœ€ä½³çš„æ€§èƒ½ 3.1.2 Fermiæ¶æ„ Fermiçš„ç‰¹å¾æ˜¯å¤šè¾¾512ä¸ªåŠ é€Ÿå™¨æ ¸å¿ƒï¼Œ è¿™è¢«ç§°ä¸ºCUDAæ ¸å¿ƒã€‚ æ¯ä¸ªCUDAæ ¸å¿ƒéƒ½æœ‰ä¸€ä¸ªå…¨æµæ°´çº¿çš„æ•´æ•°ç®—æœ¯é€»è¾‘å•å…ƒï¼ˆALUï¼‰ å’Œä¸€ä¸ªæµ®ç‚¹è¿ç®—å•å…ƒï¼ˆFPUï¼‰ ï¼Œ åœ¨è¿™é‡Œæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œä¸€ä¸ªæ•´æ•°æˆ–æ˜¯æµ®ç‚¹æ•°æŒ‡ä»¤ã€‚ CUDAæ ¸å¿ƒè¢«ç»„ç»‡åˆ°16ä¸ªSMä¸­ï¼Œ æ¯ä¸€ä¸ªSMå«æœ‰32ä¸ªCUDAæ ¸å¿ƒã€‚ Fermiæ¶æ„æœ‰6ä¸ª384ä½çš„GDDR5 DRAMå­˜å‚¨å™¨æ¥å£ï¼Œ æ”¯æŒå¤šè¾¾6GBçš„å…¨å±€æœºè½½å†…å­˜ï¼Œ è¿™æ˜¯è®¸å¤šåº”ç”¨ç¨‹åºå…³é”®çš„è®¡ç®—èµ„æºã€‚ ä¸»æœºæ¥å£é€šè¿‡PCIeæ€»çº¿å°†GPUä¸CPUç›¸è¿ã€‚ GigaThreadå¼•æ“ï¼ˆå›¾ç¤ºå·¦ä¾§ç¬¬ä¸‰éƒ¨åˆ†ï¼‰ æ˜¯ä¸€ä¸ªå…¨å±€è°ƒåº¦å™¨ï¼Œ ç”¨æ¥åˆ†é…çº¿ç¨‹å—åˆ°SMçº¿ç¨‹æŸè°ƒåº¦å™¨ä¸Šã€‚ ä¸€ä¸ªSM(Stream Multiprocessor)åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š æ‰§è¡Œå•å…ƒï¼ˆCUDAæ ¸å¿ƒï¼‰ è°ƒåº¦çº¿ç¨‹æŸçš„è°ƒåº¦å™¨å’Œè°ƒåº¦å•å…ƒ å…±äº«å†…å­˜ã€ å¯„å­˜å™¨æ–‡ä»¶å’Œä¸€çº§ç¼“å­˜ æ¯ä¸€ä¸ªå¤šå¤„ç†å™¨æœ‰16ä¸ªåŠ è½½/å­˜å‚¨å•å…ƒï¼ˆå¦‚å›¾3-1æ‰€ç¤ºï¼‰ ï¼Œ å…è®¸æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸå†…æœ‰16ä¸ªçº¿ç¨‹ï¼ˆçº¿ç¨‹æŸçš„ä¸€åŠï¼‰ è®¡ç®—æºåœ°å€å’Œç›®çš„åœ°å€ã€‚ ç‰¹æ®ŠåŠŸèƒ½å•å…ƒï¼ˆSFUï¼‰ æ‰§è¡Œå›ºæœ‰æŒ‡ä»¤ï¼Œ å¦‚æ­£å¼¦ã€ ä½™å¼¦ã€ å¹³æ–¹æ ¹å’Œæ’å€¼ã€‚ æ¯ä¸ªSFUæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸå†…çš„æ¯ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œä¸€ä¸ªå›ºæœ‰æŒ‡ä»¤ æ¯ä¸ªSMæœ‰ä¸¤ä¸ªçº¿ç¨‹æŸè°ƒåº¦å™¨å’Œä¸¤ä¸ªæŒ‡ä»¤è°ƒåº¦å•å…ƒã€‚ å½“ä¸€ä¸ªçº¿ç¨‹å—è¢«æŒ‡å®šç»™ä¸€ä¸ªSMæ—¶ï¼Œ çº¿ç¨‹å—ä¸­çš„æ‰€æœ‰çº¿ç¨‹è¢«åˆ†æˆäº†çº¿ç¨‹æŸã€‚ ä¸¤ä¸ªçº¿ç¨‹æŸè°ƒåº¦å™¨é€‰æ‹©ä¸¤ä¸ªçº¿ç¨‹æŸï¼Œ å†æŠŠä¸€ä¸ª æŒ‡ä»¤ä»çº¿ç¨‹æŸä¸­å‘é€åˆ°ä¸€ä¸ªç»„ä¸Šï¼Œ ç»„é‡Œæœ‰16ä¸ªCUDAæ ¸å¿ƒã€ 16ä¸ªåŠ è½½/å­˜å‚¨å•å…ƒæˆ–4ä¸ªç‰¹æ®ŠåŠŸèƒ½å•å…ƒï¼ˆå¦‚å›¾3-4æ‰€ç¤ºï¼‰ ã€‚ Fermiæ¶æ„ï¼Œ è®¡ç®—æ€§èƒ½2.xï¼Œ å¯ä»¥åœ¨æ¯ä¸ªSMä¸ŠåŒæ—¶å¤„ç†48ä¸ªçº¿ç¨‹æŸï¼Œ å³å¯åœ¨ä¸€ä¸ªSMä¸ŠåŒæ—¶å¸¸é©»1536ä¸ªçº¿ç¨‹ã€‚ 3.1.3 Kepleræ¶æ„ å‘å¸ƒäº2012å¹´ç§‹å­£çš„Kepler GPUæ¶æ„æ˜¯ä¸€ç§å¿«é€Ÿã€ é«˜æ•ˆã€ é«˜æ€§èƒ½çš„è®¡ç®—æ¶æ„ã€‚ Kepler çš„ç‰¹ç‚¹ä½¿å¾—æ··åˆè®¡ç®—æ›´å®¹æ˜“ç†è§£ã€‚ å›¾3-6è¡¨ç¤ºäº†Kepler K20XèŠ¯ç‰‡æ¡†å›¾ï¼Œ å®ƒåŒ…å«äº†15ä¸ªSM å’Œ6ä¸ª64ä½çš„å†…å­˜æ§åˆ¶å™¨ã€‚ ä»¥ä¸‹æ˜¯Kepleræ¶æ„çš„3ä¸ªé‡è¦çš„åˆ›æ–°ã€‚ å¼ºåŒ–çš„SM åŠ¨æ€å¹¶è¡Œ Hyper-QæŠ€æœ¯ Kepler K20Xçš„å…³é”®éƒ¨åˆ†æ˜¯æœ‰ä¸€ä¸ªæ–°çš„SMå•å…ƒï¼Œ å…¶åŒ…æ‹¬ä¸€äº›ç»“æ„çš„åˆ›æ–°ï¼Œ ä»¥æé«˜ç¼–ç¨‹æ•ˆç‡å’ŒåŠŸç‡æ•ˆç‡ã€‚ æ¯ä¸ªKepler SMå•å…ƒåŒ…å«192ä¸ªå•ç²¾åº¦CUDAæ ¸å¿ƒï¼Œ 64ä¸ªåŒç²¾åº¦å•å…ƒï¼Œ 32ä¸ªç‰¹æ®ŠåŠŸèƒ½å•å…ƒï¼ˆSFUï¼‰ ä»¥åŠ32ä¸ªåŠ è½½/å­˜å‚¨å•å…ƒï¼ˆLD/STï¼‰ 3.1.4 é…ç½®æ–‡ä»¶é©±åŠ¨ä¼˜åŒ– é…ç½®æ–‡ä»¶é©±åŠ¨çš„å‘å±•å¯¹äºCUDAç¼–ç¨‹å°¤ä¸ºé‡è¦ï¼Œ åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ã€‚ ä¸€ä¸ªå•çº¯çš„å†…æ ¸åº”ç”¨ä¸€èˆ¬ä¸ä¼šäº§ç”Ÿæœ€ä½³çš„æ€§èƒ½ã€‚ æ€§èƒ½åˆ†æå·¥å…·èƒ½å¸®åŠ©ä½ æ‰¾åˆ°ä»£ç ä¸­å½±å“æ€§èƒ½çš„å…³é”®éƒ¨åˆ†ï¼Œ ä¹Ÿå°±æ˜¯æ€§èƒ½ç“¶é¢ˆã€‚ CUDAå°†SMä¸­çš„è®¡ç®—èµ„æºå½“å‰SMä¸­çš„å¤šä¸ªå¸¸é©»çº¿ç¨‹å—ä¹‹é—´è¿›è¡Œåˆ†é…ã€‚ è¿™ç§åˆ†é…å½¢å¼å¯¼è‡´ä¸€äº›èµ„æºæˆä¸ºäº†æ€§èƒ½é™åˆ¶è€…ã€‚ æ€§èƒ½åˆ†æå·¥å…·èƒ½å¸®åŠ©æˆ‘ä»¬ç†è§£è®¡ç®—èµ„æºæ˜¯å¦‚ä½•è¢«åˆ©ç”¨çš„ã€‚ CUDAæä¾›äº†ä¸€ä¸ªç¡¬ä»¶æ¶æ„çš„æŠ½è±¡ï¼Œ å®ƒèƒ½å¤Ÿè®©ç”¨æˆ·æ§åˆ¶çº¿ç¨‹å¹¶å‘ã€‚ æ€§èƒ½åˆ†æå·¥å…·å¯ä»¥æ£€æµ‹å’Œä¼˜åŒ–ï¼Œ å¹¶å°†ä¼˜åŒ–å¯è§†åŒ–ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_03/:1:1","tags":["CUDA"],"title":"CUDA_C_NOTES [3]","uri":"/posts/cuda_03/"},{"categories":["GPU"],"content":"3.2 ç†è§£çº¿ç¨‹æŸæ‰§è¡Œçš„æœ¬è´¨ æœ¬ç« å·²ç»æåˆ°äº†æŠŠ32ä¸ªçº¿ç¨‹åˆ’åˆ†åˆ°ä¸€ä¸ªæ‰§è¡Œå•å…ƒä¸­çš„æ¦‚å¿µï¼š çº¿ç¨‹æŸï¼ˆwarpï¼‰ã€‚ ç°åœ¨ä»ç¡¬ä»¶çš„è§’åº¦æ¥ä»‹ç»çº¿ç¨‹æŸæ‰§è¡Œï¼Œ å¹¶èƒ½å¤Ÿè·å¾—æŒ‡å¯¼å†…æ ¸è®¾è®¡çš„æ–¹æ³•ã€‚ 3.2.1 çº¿ç¨‹æŸå’Œçº¿ç¨‹å— çº¿ç¨‹æŸæ˜¯SMä¸­åŸºæœ¬çš„æ‰§è¡Œå•å…ƒã€‚ å½“ä¸€ä¸ªçº¿ç¨‹å—çš„ç½‘æ ¼è¢«å¯åŠ¨åï¼Œ ç½‘æ ¼ä¸­çš„çº¿ç¨‹å—åˆ†å¸ƒåœ¨SMä¸­ã€‚ ä¸€æ—¦çº¿ç¨‹å—è¢«è°ƒåº¦åˆ°ä¸€ä¸ªSMä¸Šï¼Œ çº¿ç¨‹å—ä¸­çš„çº¿ç¨‹ä¼šè¢«è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºçº¿ç¨‹æŸã€‚ ä¸€ä¸ªçº¿ç¨‹æŸç”±32ä¸ªè¿ç»­çš„çº¿ç¨‹ç»„æˆï¼Œ åœ¨ä¸€ä¸ªçº¿ç¨‹æŸä¸­ï¼Œ æ‰€æœ‰çš„çº¿ç¨‹æŒ‰ç…§å•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼ˆSIMTï¼‰ æ–¹å¼æ‰§è¡Œï¼› ä¹Ÿå°±æ˜¯è¯´ï¼Œ æ‰€æœ‰çº¿ç¨‹éƒ½æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œ æ¯ä¸ªçº¿ç¨‹åœ¨ç§æœ‰æ•°æ®ä¸Šè¿› è¡Œæ“ä½œã€‚ ä¸€ä¸ªç»™å®šçš„äºŒç»´çº¿ç¨‹å—ï¼Œ åœ¨ä¸€ä¸ªå—ä¸­æ¯ä¸ªçº¿ç¨‹çš„ç‹¬ç‰¹æ ‡è¯†ç¬¦éƒ½å¯ä»¥ç”¨å†…ç½®å˜é‡threadIdxå’ŒblockDimæ¥è®¡ç®—ï¼š threadIdx.y * blockDim.x + threadIdx.x å¯¹äºä¸€ä¸ªä¸‰ç»´çº¿ç¨‹å—ï¼Œ è®¡ç®—å¦‚ä¸‹ï¼š threadIdx.x * blockDim.y * block.Dim.x + threadIdx.y * blockDim.x * threadIdx.x ä¸€ä¸ªçº¿ç¨‹å—çš„çº¿ç¨‹æŸçš„æ•°é‡å¯ä»¥æ ¹æ®ä¸‹å¼ç¡®å®šï¼š $$ä¸€ä¸ªçº¿ç¨‹å—ä¸­çº¿ç¨‹æŸçš„æ•°é‡ = å‘æ­£æ— ç©·å–æ•´ï¼ˆ\\frac{ä¸€ä¸ªçº¿ç¨‹å—ä¸­çº¿ç¨‹çš„æ•°é‡}{çº¿ç¨‹æŸå¤§å°}ï¼‰$$ å› æ­¤ï¼Œ ç¡¬ä»¶æ€»æ˜¯ç»™ä¸€ä¸ªçº¿ç¨‹å—åˆ†é…ä¸€å®šæ•°é‡çš„çº¿ç¨‹æŸã€‚ çº¿ç¨‹æŸä¸ä¼šåœ¨ä¸åŒçš„çº¿ç¨‹å—ä¹‹é—´åˆ†ç¦»ã€‚ å¦‚æœçº¿ç¨‹å—çš„å¤§å°ä¸æ˜¯çº¿ç¨‹æŸå¤§å°çš„å¶æ•°å€ï¼Œ é‚£ä¹ˆåœ¨æœ€åçš„çº¿ç¨‹æŸé‡Œæœ‰äº›çº¿ç¨‹å°±ä¸ä¼šæ´»è·ƒã€‚ ä»é€»è¾‘è§’åº¦æ¥çœ‹ï¼Œ çº¿ç¨‹å—æ˜¯çº¿ç¨‹çš„é›†åˆï¼Œ å®ƒä»¬å¯ä»¥è¢«ç»„ç»‡ä¸ºä¸€ç»´ã€ äºŒç»´æˆ–ä¸‰ç»´å¸ƒå±€ã€‚ ä»ç¡¬ä»¶è§’åº¦æ¥çœ‹ï¼Œ çº¿ç¨‹å—æ˜¯ä¸€ç»´çº¿ç¨‹æŸçš„é›†åˆã€‚ åœ¨çº¿ç¨‹å—ä¸­çº¿ç¨‹è¢«ç»„ç»‡æˆä¸€ç»´å¸ƒå±€ï¼Œæ¯32ä¸ªè¿ç»­çº¿ç¨‹ç»„æˆä¸€ä¸ªçº¿ç¨‹æŸã€‚ 3.2.2 çº¿ç¨‹æŸåˆ†åŒ– GPUæ˜¯ç›¸å¯¹ç®€å•çš„è®¾å¤‡ï¼Œ å®ƒæ²¡æœ‰å¤æ‚çš„åˆ†æ”¯é¢„æµ‹æœºåˆ¶ã€‚ ä¸€ä¸ªçº¿ç¨‹æŸä¸­çš„æ‰€æœ‰çº¿ç¨‹åœ¨åŒä¸€å‘¨æœŸä¸­å¿…é¡»æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œ å¦‚æœä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼Œ é‚£ä¹ˆçº¿ç¨‹æŸä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½å¿…é¡»æ‰§è¡Œè¯¥æŒ‡ä»¤ã€‚ å¦‚æœåœ¨åŒä¸€çº¿ç¨‹æŸä¸­çš„çº¿ç¨‹ä½¿ç”¨ä¸åŒçš„è·¯å¾„é€šè¿‡åŒä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œ è¿™å¯èƒ½ä¼šäº§ç”Ÿé—®é¢˜ã€‚ å¦‚æœä¸€ä¸ªçº¿ç¨‹æŸä¸­çš„çº¿ç¨‹äº§ç”Ÿåˆ†åŒ–ï¼Œ çº¿ç¨‹æŸå°†è¿ç»­æ‰§è¡Œæ¯ä¸€ä¸ªåˆ†æ”¯è·¯å¾„ï¼Œ è€Œç¦ç”¨ä¸æ‰§è¡Œè¿™ä¸€è·¯å¾„çš„çº¿ç¨‹ã€‚ çº¿ç¨‹æŸåˆ†åŒ–ä¼šå¯¼è‡´æ€§èƒ½æ˜æ˜¾åœ°ä¸‹é™ã€‚ é‡è¦æç¤º: å½“ä¸€ä¸ªåˆ†åŒ–çš„çº¿ç¨‹é‡‡å–ä¸åŒçš„ä»£ç è·¯å¾„æ—¶ï¼Œ ä¼šäº§ç”Ÿçº¿ç¨‹æŸåˆ†åŒ– ä¸åŒçš„if-then-elseåˆ†æ”¯ä¼šè¿ç»­æ‰§è¡Œ å°è¯•è°ƒæ•´åˆ†æ”¯ç²’åº¦ä»¥é€‚åº”çº¿ç¨‹æŸå¤§å°çš„å€æ•°ï¼Œ é¿å…çº¿ç¨‹æŸåˆ†åŒ– ä¸åŒçš„åˆ†åŒ–å¯ä»¥æ‰§è¡Œä¸åŒçš„ä»£ç ä¸”æ— é¡»ä»¥ç‰ºç‰²æ€§èƒ½ä¸ºä»£ä»· 3.2.3 èµ„æºåˆ†é… çº¿ç¨‹æŸçš„æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸»è¦ç”±ä»¥ä¸‹èµ„æºç»„æˆï¼š ç¨‹åºè®¡æ•°å™¨ å¯„å­˜å™¨ å…±äº«å†…å­˜ ç”±SMå¤„ç†çš„æ¯ä¸ªçº¿ç¨‹æŸçš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œ åœ¨æ•´ä¸ªçº¿ç¨‹æŸçš„ç”Ÿå­˜æœŸä¸­æ˜¯ä¿å­˜åœ¨èŠ¯ç‰‡å†…çš„ã€‚ å› æ­¤ï¼Œ ä»ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡æ²¡æœ‰æŸå¤±ã€‚ æ¯ä¸ªSMéƒ½æœ‰32ä½çš„å¯„å­˜å™¨ç»„ï¼Œ å®ƒå­˜å‚¨åœ¨å¯„å­˜å™¨æ–‡ä»¶ä¸­ï¼Œ å¹¶ä¸”å¯ä»¥åœ¨çº¿ç¨‹ä¸­è¿›è¡Œåˆ†é…ï¼Œ åŒæ—¶å›ºå®šæ•°é‡çš„å…±äº«å†…å­˜ç”¨æ¥åœ¨çº¿ç¨‹å—ä¸­è¿›è¡Œåˆ†é…ã€‚ å¯¹äºä¸€ä¸ªç»™å®šçš„å†…æ ¸ï¼Œ åŒæ—¶å­˜åœ¨äºåŒä¸€ä¸ªSMä¸­çš„çº¿ç¨‹å—å’Œçº¿ç¨‹æŸçš„æ•°é‡å–å†³äºåœ¨SMä¸­å¯ç”¨çš„ä¸”å†…æ ¸æ‰€éœ€çš„å¯„å­˜å™¨å’Œå…±äº«å†…å­˜çš„æ•°é‡ã€‚ è‹¥æ¯ä¸ªçº¿ç¨‹æ¶ˆè€—çš„å¯„å­˜å™¨è¶Šå¤šï¼Œ åˆ™å¯ä»¥æ”¾åœ¨ä¸€ä¸ªSMä¸­çš„çº¿ç¨‹æŸå°±è¶Šå°‘ã€‚ å¦‚æœå¯ä»¥å‡å°‘å†…æ ¸æ¶ˆè€—å¯„å­˜å™¨çš„æ•°é‡ï¼Œ é‚£ä¹ˆå°±å¯ä»¥åŒæ—¶å¤„ç†æ›´å¤šçš„çº¿ç¨‹æŸã€‚ è‹¥ä¸€ä¸ªçº¿ç¨‹å—æ¶ˆè€—çš„å…±äº«å†…å­˜è¶Šå¤šï¼Œ åˆ™åœ¨ä¸€ä¸ªSMä¸­å¯ä»¥è¢«åŒæ—¶å¤„ç†çš„çº¿ç¨‹å—å°±ä¼šå˜å°‘ã€‚ å¦‚æœæ¯ä¸ªçº¿ç¨‹å—ä½¿ç”¨çš„å…±äº«å†…å­˜æ•°é‡å˜å°‘ï¼Œ é‚£ä¹ˆå¯ä»¥åŒæ—¶å¤„ç†æ›´å¤šçš„çº¿ç¨‹å—ã€‚ å½“è®¡ç®—èµ„æºï¼ˆå¦‚å¯„å­˜å™¨å’Œå…±äº«å†…å­˜ï¼‰ å·²åˆ†é…ç»™çº¿ç¨‹å—æ—¶ï¼Œ çº¿ç¨‹å—è¢«ç§°ä¸ºæ´»è·ƒçš„å—ã€‚ å®ƒæ‰€åŒ…å«çš„çº¿ç¨‹æŸè¢«ç§°ä¸ºæ´»è·ƒçš„çº¿ç¨‹æŸã€‚ æ´»è·ƒçš„çº¿ç¨‹æŸå¯ä»¥è¿›ä¸€æ­¥è¢«åˆ†ä¸ºä»¥ä¸‹3ç§ç±»å‹ï¼š é€‰å®šçš„çº¿ç¨‹æŸ é˜»å¡çš„çº¿ç¨‹æŸ ç¬¦åˆæ¡ä»¶çš„çº¿ç¨‹æŸ ä¸€ä¸ªSMä¸Šçš„çº¿ç¨‹æŸè°ƒåº¦å™¨åœ¨æ¯ä¸ªå‘¨æœŸéƒ½é€‰æ‹©æ´»è·ƒçš„çº¿ç¨‹æŸï¼Œ ç„¶åæŠŠå®ƒä»¬è°ƒåº¦åˆ°æ‰§è¡Œ å•å…ƒã€‚ æ´»è·ƒæ‰§è¡Œçš„çº¿ç¨‹æŸè¢«ç§°ä¸ºé€‰å®šçš„çº¿ç¨‹æŸã€‚ å¦‚æœä¸€ä¸ªæ´»è·ƒçš„çº¿ç¨‹æŸå‡†å¤‡æ‰§è¡Œä½†å°šæœªæ‰§ è¡Œï¼Œ å®ƒæ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„çº¿ç¨‹æŸã€‚ å¦‚æœä¸€ä¸ªçº¿ç¨‹æŸæ²¡æœ‰åšå¥½æ‰§è¡Œçš„å‡†å¤‡ï¼Œ å®ƒæ˜¯ä¸€ä¸ªé˜»å¡çš„ çº¿ç¨‹æŸã€‚ å¦‚æœåŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶åˆ™çº¿ç¨‹æŸç¬¦åˆæ‰§è¡Œæ¡ä»¶ã€‚ 32ä¸ªCUDAæ ¸å¿ƒå¯ç”¨äºæ‰§è¡Œ å½“å‰æŒ‡ä»¤ä¸­æ‰€æœ‰çš„å‚æ•°éƒ½å·²å°±ç»ª 3.2.4 å»¶è¿Ÿéšè— SMä¾èµ–çº¿ç¨‹çº§å¹¶è¡Œï¼Œ ä»¥æœ€å¤§åŒ–åŠŸèƒ½å•å…ƒçš„åˆ©ç”¨ç‡ï¼Œ å› æ­¤ï¼Œ åˆ©ç”¨ç‡ä¸å¸¸é©»çº¿ç¨‹æŸçš„æ•°é‡ç›´æ¥ç›¸å…³ã€‚ åœ¨æŒ‡ä»¤å‘å‡ºå’Œå®Œæˆä¹‹é—´çš„æ—¶é’Ÿå‘¨æœŸè¢«å®šä¹‰ä¸ºæŒ‡ä»¤å»¶è¿Ÿã€‚ å½“æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸä¸­æ‰€æœ‰çš„çº¿ç¨‹è°ƒåº¦å™¨éƒ½æœ‰ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„çº¿ç¨‹æŸæ—¶ï¼Œ å¯ä»¥è¾¾åˆ°è®¡ç®—èµ„æºçš„å®Œå…¨åˆ©ç”¨ã€‚ è¿™å°±å¯ä»¥ä¿è¯ï¼Œ é€šè¿‡åœ¨å…¶ä»–å¸¸é©»çº¿ç¨‹æŸä¸­å‘å¸ƒå…¶ä»–æŒ‡ä»¤ï¼Œ å¯ä»¥éšè—æ¯ä¸ªæŒ‡ä»¤çš„å»¶è¿Ÿã€‚ è€ƒè™‘åˆ°æŒ‡ä»¤å»¶è¿Ÿï¼Œ æŒ‡ä»¤å¯ä»¥è¢«åˆ†ä¸ºä¸¤ç§åŸºæœ¬ç±»å‹ï¼š ç®—æœ¯æŒ‡ä»¤: ä¸€ä¸ªç®—æœ¯æ“ä½œä»å¼€å§‹åˆ°å®ƒäº§ç”Ÿè¾“å‡ºä¹‹é—´çš„æ—¶é—´ï¼› å†…å­˜æŒ‡ä»¤: æŒ‡å‘é€å‡ºçš„åŠ è½½æˆ–å­˜å‚¨æ“ä½œå’Œæ•°æ®åˆ°è¾¾ç›®çš„åœ°ä¹‹é—´çš„æ—¶é—´ã€‚ ä½ å¯èƒ½æƒ³çŸ¥é“å¦‚ä½•ä¼°ç®—éšè—å»¶è¿Ÿæ‰€éœ€è¦çš„æ´»è·ƒçº¿ç¨‹æŸçš„æ•°é‡ã€‚ åˆ©ç‰¹å°”æ³•åˆ™ï¼ˆLittleâ€™s Lawï¼‰ å¯ä»¥æä¾›ä¸€ä¸ªåˆç†çš„è¿‘ä¼¼å€¼ã€‚ å®ƒèµ·æºäºé˜Ÿåˆ—ç†è®ºä¸­çš„ä¸€ä¸ªå®šç†ï¼Œ å®ƒä¹Ÿå¯ä»¥åº”ç”¨äº GPUä¸­ï¼š $$æ‰€éœ€çº¿ç¨‹æŸæ•°é‡ = å»¶è¿Ÿ \\times ååé‡$$ ååé‡å’Œå¸¦å®½ ååé‡å’Œå¸¦å®½éƒ½æ˜¯ç”¨æ¥åº¦é‡æ€§èƒ½çš„é€Ÿåº¦æŒ‡æ ‡ã€‚ å¸¦å®½é€šå¸¸æ˜¯æŒ‡ç†è®ºå³°å€¼ï¼Œ è€Œååé‡æ˜¯æŒ‡å·²è¾¾åˆ°çš„å€¼ å¸¦å®½é€šå¸¸æ˜¯ç”¨æ¥æè¿°å•ä½æ—¶é—´å†…æœ€å¤§å¯èƒ½çš„æ•°æ®ä¼ è¾“é‡ï¼Œ è€Œååé‡æ˜¯ç”¨æ¥æè¿°å•ä½æ—¶ é—´å†…ä»»ä½•å½¢å¼çš„ä¿¡æ¯æˆ–æ“ä½œçš„æ‰§è¡Œé€Ÿåº¦ï¼Œ ä¾‹å¦‚ï¼Œ æ¯ä¸ªå‘¨æœŸå®Œæˆå¤šå°‘ä¸ªæŒ‡ä»¤ã€‚ ååé‡ç”±SMä¸­æ¯ä¸ªå‘¨æœŸå†…çš„æ“ä½œæ•°é‡ç¡®å®šï¼Œ è€Œæ‰§è¡Œä¸€æ¡æŒ‡ä»¤çš„ä¸€ä¸ªçº¿ç¨‹æŸå¯¹åº”32ä¸ª æ“ä½œã€‚ è¿™ä¸ªç®€å•çš„å•ä½è½¬æ¢è¡¨æ˜ï¼Œ æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥æé«˜å¹¶è¡Œï¼š æŒ‡ä»¤çº§å¹¶è¡Œï¼ˆILPï¼‰ ï¼š ä¸€ä¸ªçº¿ç¨‹ä¸­æœ‰å¾ˆå¤šç‹¬ç«‹çš„æŒ‡ä»¤ çº¿ç¨‹çº§å¹¶è¡Œï¼ˆTLPï¼‰ ï¼š å¾ˆå¤šå¹¶å‘åœ°ç¬¦åˆæ¡ä»¶çš„çº¿ç¨‹ å»¶è¿Ÿéšè—å–å†³äºæ¯ä¸ªSMä¸­æ´»è·ƒçº¿ç¨‹æŸçš„æ•°é‡ï¼Œ è¿™ä¸€æ•°é‡ç”±æ‰§è¡Œé…ç½®å’Œèµ„æºçº¦æŸéšå¼ å†³å®šï¼ˆä¸€ä¸ªå†…æ ¸ä¸­å¯„å­˜å™¨å’Œå…±äº«å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼‰ ã€‚ é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜æ‰§è¡Œé…ç½®çš„å…³é”®æ˜¯åœ¨å»¶ è¿Ÿéšè—å’Œèµ„æºåˆ©ç”¨ä¹‹é—´æ‰¾åˆ°ä¸€ç§å¹³è¡¡ã€‚ æ˜¾ç¤ºå……è¶³çš„å¹¶è¡Œ å› ä¸ºGPUåœ¨çº¿ç¨‹é—´åˆ†é…è®¡ç®—èµ„æºå¹¶åœ¨å¹¶å‘çº¿ç¨‹æŸä¹‹é—´åˆ‡æ¢çš„æ¶ˆè€—ï¼ˆåœ¨ä¸€ä¸ªæˆ–ä¸¤ä¸ªå‘¨æœŸ å‘½ä»¤ä¸Šï¼‰ å¾ˆå°ï¼Œ æ‰€ä»¥æ‰€éœ€çš„çŠ¶æ€å¯ä»¥åœ¨èŠ¯ç‰‡å†…è·å¾—ã€‚ å¦‚æœæœ‰è¶³å¤Ÿçš„å¹¶å‘æ´»è·ƒçº¿ç¨‹ï¼Œ é‚£ä¹ˆå¯ ä»¥è®©GPUåœ¨æ¯ä¸ªå‘¨æœŸå†…çš„æ¯ä¸€ä¸ªæµæ°´çº¿é˜¶æ®µä¸­å¿™ç¢Œã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ ä¸€ä¸ªçº¿ç¨‹æŸçš„å»¶è¿Ÿå¯ ä»¥è¢«å…¶ä»–çº¿ç¨‹æŸçš„æ‰§è¡Œéšè—ã€‚ å› æ­¤ï¼Œ å‘SMæ˜¾ç¤ºè¶³å¤Ÿçš„å¹¶è¡Œå¯¹æ€§èƒ½æ˜¯æœ‰åˆ©çš„ 3.2.5 å ç”¨ç‡ åœ¨æ¯ä¸ªCUDAæ ¸å¿ƒé‡ŒæŒ‡ä»¤æ˜¯é¡ºåºæ‰§è¡Œçš„ã€‚ å½“ä¸€ä¸ªçº¿ç¨‹æŸé˜»å¡æ—¶ï¼Œ SMåˆ‡æ¢æ‰§è¡Œå…¶ä»–ç¬¦ åˆæ¡ä»¶çš„çº¿ç¨‹æŸã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œ æˆ‘ä»¬æƒ³è¦æœ‰è¶³å¤Ÿçš„çº¿ç¨‹æŸå ç”¨è®¾å¤‡çš„æ ¸å¿ƒã€‚ å ç”¨ç‡æ˜¯æ¯ä¸ª SMä¸­æ´»è·ƒçš„çº¿ç¨‹æŸå æœ€å¤§çº¿ç¨‹æŸæ•°é‡çš„æ¯”å€¼ã€‚ $$å ç”¨ç‡ = \\frac{æ´»è·ƒçº¿ç¨‹æŸæ•°é‡}{æœ€å¤§çº¿ç¨‹æŸæ•°é‡}$$ æç«¯åœ°æ“çºµçº¿ç¨‹å—ä¼šé™åˆ¶èµ„æºçš„åˆ©ç”¨ï¼š å°çº¿ç¨‹å—ï¼š æ¯ä¸ªå—ä¸­çº¿ç¨‹å¤ªå°‘ï¼Œ ä¼šåœ¨æ‰€æœ‰èµ„æºè¢«å……åˆ†åˆ©ç”¨ä¹‹å‰å¯¼è‡´ç¡¬ä»¶è¾¾åˆ°æ¯ä¸ªSMçš„çº¿ç¨‹æŸæ•°é‡çš„é™åˆ¶ å¤§çº¿ç¨‹å—ï¼š æ¯ä¸ªå—ä¸­æœ‰å¤ªå¤šçš„çº¿ç¨‹ï¼Œ ä¼šå¯¼è‡´åœ¨æ¯ä¸ªSMä¸­æ¯ä¸ªçº¿ç¨‹å¯ç”¨çš„ç¡¬ä»¶èµ„æºè¾ƒå°‘ ç½‘æ ¼å’Œçº¿ç¨‹å—å¤§å°çš„å‡†åˆ™ ä½¿ç”¨è¿™äº›å‡†åˆ™å¯ä»¥ä½¿åº”ç”¨ç¨‹åºé€‚ç”¨äºå½“å‰å’Œå°†æ¥çš„è®¾å¤‡ï¼š ä¿æŒæ¯ä¸ªå—ä¸­çº¿ç¨‹æ•°é‡æ˜¯çº¿ç¨‹æŸå¤§å°ï¼ˆ32ï¼‰ çš„å€æ•° é¿å…å—å¤ªå°ï¼š æ¯ä¸ªå—è‡³å°‘è¦æœ‰128æˆ–256ä¸ªçº¿ç¨‹ æ ¹æ®å†…æ ¸èµ„æºçš„éœ€æ±‚è°ƒæ•´å—å¤§å° å—çš„æ•°é‡è¦è¿œè¿œå¤šäºSMçš„æ•°é‡ï¼Œ ä»è€Œåœ¨è®¾å¤‡ä¸­å¯ä»¥æ˜¾ç¤ºæœ‰è¶³å¤Ÿçš„å¹¶è¡Œ é€šè¿‡å®éªŒå¾—åˆ°æœ€ä½³æ‰§è¡Œé…ç½®å’Œèµ„æºä½¿ç”¨æƒ…å†µ å ç”¨ç‡å”¯ä¸€æ³¨é‡çš„æ˜¯åœ¨æ¯ä¸ªSMä¸­å¹¶å‘çº¿ç¨‹æˆ–çº¿ ç¨‹æŸçš„æ•°é‡ã€‚ ç„¶è€Œï¼Œ å……åˆ†çš„å ç”¨ç‡ä¸æ˜¯æ€§èƒ½ä¼˜åŒ–çš„å”¯ä¸€ç›®æ ‡ã€‚ å†…æ ¸ä¸€æ—¦è¾¾åˆ°ä¸€å®šçº§åˆ«çš„å  ç”¨ç‡ï¼Œ è¿›ä¸€æ­¥å¢åŠ å ç”¨ç‡å¯èƒ½ä¸ä¼šæ”¹è¿›æ€§èƒ½ã€‚ ä¸ºäº†æé«˜æ€§èƒ½ï¼Œ å¯ä»¥è°ƒæ•´å¾ˆå¤šå…¶ä»–å› ç´ ã€‚ 3.2.6 åŒæ­¥ åœ¨CUDAä¸­ï¼Œ åŒæ­¥å¯ä»¥åœ¨ä¸¤ä¸ªçº§åˆ«æ‰§è¡Œï¼š ç³»ç»Ÿçº§ï¼š ç­‰å¾…ä¸»æœºå’Œè®¾å¤‡å®Œæˆæ‰€æœ‰çš„å·¥ä½œ å—çº§ï¼š åœ¨è®¾å¤‡æ‰§è¡Œè¿‡ç¨‹ä¸­ç­‰å¾…ä¸€ä¸ªçº¿ç¨‹å—ä¸­æ‰€æœ‰çº¿ç¨‹åˆ°è¾¾åŒä¸€ç‚¹ å¯¹äºä¸»æœºæ¥è¯´ï¼š cudaError_t cudaDeviceSynchronize(void):cudaDeviceSyn-chronizeå‡½æ•°å¯ä»¥ç”¨æ¥é˜»å¡ä¸»æœºåº”ç”¨ç¨‹åºï¼Œ ç›´åˆ°æ‰€æœ‰çš„CUDAæ“ä½œï¼ˆå¤åˆ¶ã€æ ¸å‡½æ•°ç­‰ï¼‰ å®Œæˆ; __device__ void __syncthreads(void);:CUDAæä¾›äº†ä¸€ä¸ªä½¿ç”¨å—å±€éƒ¨æ …æ æ¥åŒæ­¥å®ƒä»¬çš„æ‰§è¡Œçš„åŠŸèƒ½ã€‚ å½“__syncthreadsè¢«è°ƒç”¨æ—¶ï¼Œ åœ¨åŒä¸€ä¸ªçº¿ç¨‹å—ä¸­æ¯ä¸ªçº¿ç¨‹éƒ½å¿…é¡»ç­‰å¾…ç›´è‡³è¯¥çº¿ç¨‹å—ä¸­æ‰€æœ‰å…¶ä»–çº¿ç¨‹éƒ½å·²ç»è¾¾åˆ°è¿™ä¸ªåŒæ­¥ç‚¹ã€‚ çº¿ç¨‹å—ä¸­çš„çº¿ç¨‹å¯ä»¥é€šè¿‡å…±äº«å†…å­˜å’Œå¯„å­˜å™¨æ¥å…±äº«æ•°æ®ã€‚ åœ¨ä¸åŒçš„å—ä¹‹é—´æ²¡æœ‰çº¿ç¨‹åŒæ­¥ã€‚ å—é—´åŒæ­¥ï¼Œ å”¯ä¸€å®‰å…¨çš„æ–¹æ³•æ˜¯åœ¨æ¯ä¸ªå†…æ ¸æ‰§è¡Œç»“æŸç«¯ä½¿ç”¨å…¨å±€åŒæ­¥ç‚¹ï¼› ä¹Ÿå°±æ˜¯è¯´ï¼Œ åœ¨å…¨å±€åŒæ­¥ä¹‹åï¼Œ ç»ˆæ­¢å½“å‰çš„æ ¸å‡½æ•°ï¼Œ å¼€å§‹æ‰§è¡Œæ–°çš„æ ¸å‡½æ•°ã€‚ ä¸åŒå—ä¸­çš„çº¿ç¨‹ä¸å…è®¸ç›¸äº’åŒæ­¥ï¼Œ å› æ­¤GPUå¯ä»¥ä»¥ä»»æ„é¡ºåºæ‰§è¡Œå—ã€‚ è¿™ä½¿å¾—CUDAç¨‹åºåœ¨å¤§è§„æ¨¡å¹¶è¡ŒGPUä¸Šæ˜¯å¯æ‰©å±•çš„ã€‚ 3.2.7 å¯æ‰©å±•æ€§ å¯¹äºä»»ä½•å¹¶è¡Œåº”ç”¨ç¨‹åºè€Œè¨€ï¼Œ å¯æ‰©å±•æ€§æ˜¯ä¸€ä¸ªç†æƒ³çš„ç‰¹æ€§ã€‚ å¯æ‰©å±•æ€§æ„å‘³ç€ä¸ºå¹¶è¡Œåº”ç”¨ç¨‹åºæä¾›äº†é¢å¤–çš„ç¡¬ä»¶èµ„æºï¼Œ ç›¸å¯¹äºå¢åŠ çš„èµ„æºï¼Œ å¹¶è¡Œåº”ç”¨ç¨‹åºä¼šäº§ç”ŸåŠ é€Ÿã€‚ ä¾‹å¦‚ï¼Œ è‹¥ä¸€ä¸ªCUDAç¨‹åºåœ¨ä¸¤ä¸ªSMä¸­æ˜¯å¯æ‰©å±•çš„ï¼Œ åˆ™ä¸åœ¨ä¸€ä¸ªSMä¸­è¿è¡Œç›¸æ¯”ï¼Œ åœ¨ä¸¤ä¸ªSMä¸­è¿è¡Œä¼šä½¿è¿è¡Œæ—¶é—´å‡åŠã€‚ ä¸€ä¸ªå¯æ‰©å±•çš„å¹¶è¡Œç¨‹åºå¯ä»¥é«˜æ•ˆåœ°ä½¿ç”¨æ‰€æœ‰çš„è®¡ç®—èµ„æºä»¥æé«˜æ€§èƒ½ã€‚ å¯æ‰©å±•æ€§æ„å‘³ç€å¢åŠ çš„è®¡ç®—æ ¸å¿ƒå¯ä»¥æé«˜æ€§èƒ½ã€‚ ä¸²è¡Œä»£ç æœ¬èº«æ˜¯ä¸å¯æ‰©å±•çš„ï¼Œ å› ä¸ºåœ¨æˆåƒä¸Šä¸‡çš„å†…æ ¸ä¸Šè¿è¡Œä¸€ä¸ªä¸²è¡Œå•çº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œ å¯¹æ€§èƒ½æ˜¯æ²¡æœ‰å½±å“çš„ã€‚ å¹¶è¡Œä»£ç æœ‰å¯æ‰©å±•çš„æ½œèƒ½ï¼Œ ä½†çœŸæ­£çš„å¯æ‰©å±•æ€§å–å†³äºç®—æ³•è®¾è®¡å’Œç¡¬ä»¶ç‰¹æ€§ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_03/:1:2","tags":["CUDA"],"title":"CUDA_C_NOTES [3]","uri":"/posts/cuda_03/"},{"categories":["GPU"],"content":"3.3 å¹¶è¡Œæ€§çš„è¡¨ç° ","date":"2023-07-12","objectID":"/posts/cuda_03/:1:3","tags":["CUDA"],"title":"CUDA_C_NOTES [3]","uri":"/posts/cuda_03/"},{"categories":["GPU"],"content":"3.6 åŠ¨æ€å¹¶è¡Œ åœ¨æœ¬ä¹¦ä¸­ï¼Œ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œ æ‰€æœ‰æ ¸å‡½æ•°éƒ½æ˜¯ä»ä¸»æœºçº¿ç¨‹ä¸­è¢«è°ƒç”¨çš„ã€‚ GPUçš„å·¥ä½œè´Ÿè½½å®Œ å…¨åœ¨CPUçš„æ§åˆ¶ä¸‹ã€‚ CUDAçš„åŠ¨æ€å¹¶è¡Œå…è®¸åœ¨GPUç«¯ç›´æ¥åˆ›å»ºå’ŒåŒæ­¥æ–°çš„GPUå†…æ ¸ã€‚ åœ¨ä¸€ ä¸ªæ ¸å‡½æ•°ä¸­åœ¨ä»»æ„ç‚¹åŠ¨æ€å¢åŠ GPUåº”ç”¨ç¨‹åºçš„å¹¶è¡Œæ€§ï¼Œ æ˜¯ä¸€ä¸ªä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_03/:1:4","tags":["CUDA"],"title":"CUDA_C_NOTES [3]","uri":"/posts/cuda_03/"},{"categories":["GPU"],"content":"CH02 CUDAç¼–ç¨‹æ¨¡å‹ ","date":"2023-07-12","objectID":"/posts/cuda_02/:1:0","tags":["CUDA"],"title":"CUDA_C_NOTES [2]","uri":"/posts/cuda_02/"},{"categories":["GPU"],"content":"2.1 CUDAç¼–ç¨‹æ¨¡å‹æ¦‚è¿° CUDAç¼–ç¨‹æ¨¡å‹æä¾›äº†ä¸€ä¸ªè®¡ç®—æœºæ¶æ„æŠ½è±¡ä½œä¸ºåº”ç”¨ç¨‹åºå’Œå…¶å¯ç”¨ç¡¬ä»¶ä¹‹é—´çš„æ¡¥æ¢ã€‚ CUDAç¼–ç¨‹æ¨¡å‹è¿˜åˆ©ç”¨GPUæ¶æ„çš„è®¡ç®—èƒ½åŠ›æä¾›äº†ä»¥ä¸‹å‡ ä¸ªç‰¹æœ‰åŠŸèƒ½: ä¸€ç§é€šè¿‡å±‚æ¬¡ç»“æ„åœ¨GPUä¸­ç»„ç»‡çº¿ç¨‹çš„æ–¹æ³•(2.3) ä¸€ç§é€šè¿‡å±‚æ¬¡ç»“æ„åœ¨GPUä¸­è®¿é—®å†…å­˜çš„æ–¹æ³•(4.5) ç¨‹åºå‘˜å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ä¸ªä¸åŒå±‚é¢æ¥çœ‹å¾…å¹¶è¡Œè®¡ç®—: é¢†åŸŸå±‚ï¼šå¦‚ä½•è§£ææ•°æ®å’Œå‡½æ•°ï¼Œä»¥ä¾¿åœ¨å¹¶è¡Œç¯å¢ƒä¸­æ­£ç¡®é«˜æ•ˆçš„è§£å†³é—®é¢˜ï¼ˆåœ¨å¹¶è¡Œç¼–ç¨‹ä¸­é«˜æ•ˆçš„ä½¿ç”¨pthreadsæˆ–è€…OpemMPæŠ€æœ¯æ˜¾å¼åœ°ç®¡ç†çº¿ç¨‹ï¼‰ é€»è¾‘å±‚ï¼šå¦‚ä½•ç»„ç»‡å¹¶å‘çº¿ç¨‹ ç¡¬ä»¶å±‚ï¼šç†è§£çº¿ç¨‹å¦‚ä½•æ˜ å°„åˆ°æ ¸å¿ƒä»¥å¸®åŠ©æé«˜å…¶æ€§èƒ½ ","date":"2023-07-12","objectID":"/posts/cuda_02/:1:1","tags":["CUDA"],"title":"CUDA_C_NOTES [2]","uri":"/posts/cuda_02/"},{"categories":["GPU"],"content":"2.1.1 CUDAç¼–ç¨‹ åœ¨ä¸€ä¸ªå¼‚æ„ç¯å¢ƒä¸­åŒ…å«å¤šä¸ªCPUå’ŒGPUï¼Œ æ¯ä¸ªGPUå’ŒCPUçš„å†…å­˜éƒ½ç”±ä¸€æ¡PCI-Expressæ€»çº¿åˆ†éš”å¼€ã€‚ ä¸»æœºï¼š CPUåŠå…¶å†…å­˜ï¼ˆä¸»æœºå†…å­˜ï¼‰ è®¾å¤‡ï¼š GPUåŠå…¶å†…å­˜ï¼ˆè®¾å¤‡å†…å­˜ï¼‰ â€œç»Ÿä¸€å¯»å€â€ï¼ˆUnified Memoryï¼‰ çš„ç¼–ç¨‹æ¨¡å‹çš„æ”¹è¿›ï¼Œ å®ƒè¿æ¥äº†ä¸»æœºå†…å­˜å’Œè®¾å¤‡å†…å­˜ç©ºé—´ï¼Œ å¯ä½¿ç”¨å•ä¸ªæŒ‡é’ˆè®¿é—®CPUå’ŒGPUå†…å­˜ï¼Œ æ— é¡»å½¼æ­¤ä¹‹é—´æ‰‹åŠ¨æ‹·è´æ•°æ®ã€‚ ä»€ä¹ˆæ˜¯â€œç»Ÿä¸€å¯»å€â€ï¼ˆUnified Memory)? CUDA 6.0æå‡ºäº†ç»Ÿä¸€å¯»å€ï¼Œ ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆæ¥è®¿é—®CPUå’ŒGPUçš„å†…å­˜ã€‚(è¯¦è§ç¬¬4ç« ) å†…æ ¸ï¼ˆkernelï¼‰ æ˜¯CUDAç¼–ç¨‹æ¨¡å‹çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œ å…¶ä»£ç åœ¨GPUä¸Šè¿è¡Œã€‚ CUDAç¼–ç¨‹æ¨¡å‹ä¸»è¦æ˜¯å¼‚æ­¥çš„ï¼Œ å› æ­¤åœ¨GPUä¸Šè¿›è¡Œçš„è¿ç®—å¯ä»¥ä¸ä¸»æœº-è®¾å¤‡é€šä¿¡é‡å ã€‚ ä¸€ä¸ªå…¸å‹çš„CUDAç¨‹åºåŒ… æ‹¬ç”±å¹¶è¡Œä»£ç äº’è¡¥çš„ä¸²è¡Œä»£ç ã€‚ ä¸²è¡Œä»£ç åœ¨cpuä¸Šæ‰§è¡Œï¼Œå¹¶è¡Œä»£ç åœ¨GPUä¸Šæ‰§è¡Œã€‚ ä¸€ä¸ªå…¸å‹çš„CUDAç¨‹åºå®ç°æµç¨‹éµå¾ªä»¥ä¸‹æ¨¡å¼ï¼š æŠŠæ•°æ®ä»CPUå†…å­˜æ‹·è´åˆ°GPUå†…å­˜ï¼› è°ƒç”¨æ ¸å‡½æ•°å¯¹å­˜å‚¨åœ¨GPUå†…å­˜ä¸­çš„æ•°æ®è¿›è¡Œæ“ä½œï¼› å°†æ•°æ®ä»GPUå†…å­˜ä¼ é€å›åˆ°CPUå†…å­˜ã€‚ 2.1.2 å†…å­˜ç®¡ç† CUDAè¿è¡Œæ—¶è´Ÿè´£åˆ†é…ä¸é‡Šæ”¾è®¾å¤‡å†…å­˜ï¼Œ å¹¶ä¸”åœ¨ä¸»æœºå†…å­˜å’Œè®¾å¤‡å†…å­˜ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚ è¡¨2-1 ä¸»æœºå’Œè®¾å¤‡å†…å­˜å‡½æ•° æ ‡å‡†cå‡½æ•° CUDA Cå‡½æ•° æ ‡å‡†cå‡½æ•° CUDA Cå‡½æ•° malloc cudaMalloc memset cudaMemset memcpy cudaMemcpy free cudaFree cudaMallocå‡½æ•°è´Ÿè´£åœ¨GPUçš„å†…å­˜é‡Œåˆ†é…å†…å­˜ï¼› cudaMemcpyå‡½æ•°è´Ÿè´£ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼› cudaError_t cudaMemcpy(void* dst, const void* src, size_t count, cudaMemcpyKind kind) ä»srcæŒ‡å‘çš„æºå­˜å‚¨åŒºå¤åˆ¶ä¸€å®šæ•°é‡çš„å­—èŠ‚åˆ°dstæŒ‡å‘çš„ç›®æ ‡å­˜å‚¨åŒº kindæœ‰ä»¥ä¸‹å‡ ç§: cudaMemcpyHostToHost cudaMemcpyHostToDevice cudaMemcpyDeviceToHost cudaMemcpyDeviceToDevice CUDAç¼–ç¨‹æ¨¡å‹ä»GPUæ¶æ„ä¸­æŠ½è±¡å‡ºä¸€ä¸ªå†…å­˜å±‚æ¬¡ç»“æ„ï¼šå…¨å±€å†…å­˜å’Œå…±äº«å†…å­˜ã€‚ å†…å­˜å±‚æ¬¡ç»“æ„ å…¨å±€å†…å­˜ å…±äº«å†…å­˜ ä¸ºä»€ä¹ˆCPUå’ŒGPUæ˜¯å¼‚æ­¥çš„ï¼Ÿ å½“æ•°æ®è¢«è½¬ç§»åˆ°GPUçš„å…¨å±€å†…å­˜åï¼Œ ä¸»æœºç«¯è°ƒç”¨æ ¸å‡½æ•°åœ¨GPUä¸Šè¿›è¡Œæ•°ç»„æ±‚å’Œã€‚ ä¸€æ—¦å†…æ ¸è¢«è°ƒç”¨ï¼Œ æ§åˆ¶æƒç«‹åˆ»è¢«ä¼ å›ä¸»æœºï¼Œ è¿™æ ·çš„è¯ï¼Œ å½“æ ¸å‡½æ•°åœ¨GPUä¸Šè¿è¡Œæ—¶ï¼Œ ä¸»æœºå¯ä»¥æ‰§è¡Œå…¶ä»–å‡½æ•°ã€‚ å› æ­¤ï¼Œ å†…æ ¸ä¸ä¸»æœºæ˜¯å¼‚æ­¥çš„ã€‚ ä¸åŒçš„å­˜å‚¨ç©ºé—´ 2.1.3 çº¿ç¨‹ç®¡ç† å½“æ ¸å‡½æ•°åœ¨ä¸»æœºç«¯å¯åŠ¨æ—¶ï¼Œ å®ƒçš„æ‰§è¡Œä¼šç§»åŠ¨åˆ°è®¾å¤‡ä¸Šï¼Œ æ­¤æ—¶è®¾å¤‡ä¸­ä¼šäº§ç”Ÿå¤§é‡çš„çº¿ç¨‹å¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œç”±æ ¸å‡½æ•°æŒ‡å®šçš„è¯­å¥ã€‚ ç”±ä¸€ä¸ªå†…æ ¸å¯åŠ¨æ‰€äº§ç”Ÿçš„æ‰€æœ‰çº¿ç¨‹ç»Ÿç§°ä¸ºä¸€ä¸ªç½‘æ ¼ã€‚ åŒä¸€ç½‘æ ¼ä¸­çš„æ‰€æœ‰çº¿ç¨‹å…±äº«ç›¸åŒçš„å…¨å±€å†…å­˜ç©ºé—´ã€‚ ä¸€ä¸ªç½‘æ ¼ç”±å¤šä¸ªçº¿ç¨‹å—æ„æˆï¼Œ ä¸€ä¸ªçº¿ç¨‹å—åŒ…å«ä¸€ç»„çº¿ç¨‹ï¼Œ åŒä¸€çº¿ç¨‹å—å†…çš„çº¿ç¨‹åä½œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥å®ç°ï¼š åŒæ­¥ å…±äº«å†…å­˜ ä¸åŒçº¿ç¨‹å—å†…çš„çº¿ç¨‹ä¸èƒ½åä½œã€‚ çº¿ç¨‹ä¾é ä»¥ä¸‹ä¸¤ä¸ªåæ ‡å˜é‡æ¥åŒºåˆ†å½¼æ­¤ blockIdx(çº¿ç¨‹å—åœ¨çº¿ç¨‹æ ¼å†…çš„ç´¢å¼•) threadIdx(å—å†…çš„çº¿ç¨‹ç´¢å¼•) äº›å˜é‡æ˜¯æ ¸å‡½æ•°ä¸­éœ€è¦é¢„åˆå§‹åŒ–çš„å†…ç½®å˜é‡ã€‚ å½“æ‰§è¡Œä¸€ä¸ªæ ¸å‡½æ•°æ—¶ï¼Œ CUDAè¿è¡Œæ—¶ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…åæ ‡å˜é‡blockIdxå’ŒthreadIdxã€‚ åŸºäºè¿™äº›åæ ‡ï¼Œ ä½ å¯ä»¥å°†éƒ¨åˆ†æ•°æ®åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹ã€‚ è¯¥åæ ‡å˜é‡æ˜¯åŸºäºuint3å®šä¹‰çš„CUDAå†…ç½®çš„å‘é‡ç±»å‹ï¼Œ æ˜¯ä¸€ä¸ªåŒ…å«3ä¸ªæ— ç¬¦å·æ•´æ•°çš„ç»“æ„ï¼Œ å¯ä»¥é€šè¿‡xã€ yã€ zä¸‰ä¸ªå­—æ®µæ¥æŒ‡å®šï¼š blockIdx.x blockIdx.y blockIdx.z threadIdx.x threadIdx.y threadIdx.z CUDAå¯ä»¥ç»„ç»‡ä¸‰ç»´çš„ç½‘æ ¼å’Œå—. ç½‘æ ¼å’Œå—çš„ç»´åº¦ç”±ä¸‹åˆ—ä¸¤ä¸ªå†…ç½®å˜é‡æŒ‡å®š: blockDim(çº¿ç¨‹å—çš„ç»´åº¦ï¼Œ ç”¨æ¯ä¸ªçº¿ç¨‹å—ä¸­çš„çº¿ç¨‹æ•°æ¥è¡¨ç¤º) gridDim(çº¿ç¨‹æ ¼çš„ç»´åº¦ï¼Œ ç”¨æ¯ä¸ªçº¿ç¨‹æ ¼ä¸­çš„çº¿ç¨‹æ•°æ¥è¡¨ç¤º) å®ƒä»¬æ˜¯dim3ç±»å‹çš„å˜é‡ï¼Œ æ˜¯åŸºäºuint3å®šä¹‰çš„æ•´æ•°å‹å‘é‡ï¼Œ ç”¨æ¥è¡¨ç¤ºç»´åº¦ã€‚ å½“å®šä¹‰ä¸€ä¸ªdim3ç±»å‹çš„å˜é‡æ—¶ï¼Œ æ‰€æœ‰æœªæŒ‡å®šçš„å…ƒç´ éƒ½è¢«åˆå§‹åŒ–ä¸º1ã€‚ dim3ç±»å‹å˜é‡ä¸­çš„æ¯ä¸ªç»„ä»¶å¯ä»¥é€šè¿‡å®ƒçš„xã€ yã€ zå­—æ®µè·å¾—ã€‚ å¦‚ä¸‹æ‰€ç¤º: blockDim.x blockDim.y blockDim.z ç½‘æ ¼å’Œçº¿ç¨‹å—çš„ç»´åº¦ ä¸€ä¸ªçº¿ç¨‹æ ¼ä¼šè¢«ç»„ç»‡æˆçº¿ç¨‹å—çš„äºŒç»´æ•°ç»„å½¢å¼ï¼Œ ä¸€ä¸ªçº¿ç¨‹å—ä¼šè¢«ç»„ç»‡æˆçº¿ç¨‹çš„ä¸‰ç»´æ•°ç»„å½¢å¼ åœ¨CUDAç¨‹åºä¸­æœ‰ä¸¤ç»„ä¸åŒçš„ç½‘æ ¼å’Œå—å˜é‡ï¼š æ‰‹åŠ¨å®šä¹‰çš„dim3æ•°æ®ç±»å‹å’Œé¢„å®šä¹‰çš„uint3æ•°æ®ç±»å‹ã€‚ æ‰‹åŠ¨å®šä¹‰çš„dim3ç±»å‹çš„ç½‘æ ¼å’Œå—å˜é‡ä»…åœ¨ä¸»æœºç«¯å¯è§ï¼Œ è€Œunit3ç±»å‹çš„å†…ç½®é¢„åˆå§‹åŒ–çš„ç½‘æ ¼å’Œå—å˜é‡ä»…åœ¨è®¾å¤‡ç«¯å¯è§ã€‚ ä»ä¸»æœºç«¯å’Œè®¾å¤‡ç«¯è®¿é—®ç½‘æ ¼/å—å˜é‡ åŒºåˆ†ä¸»æœºç«¯å’Œè®¾å¤‡ç«¯çš„ç½‘æ ¼å’Œå—å˜é‡çš„è®¿é—®æ˜¯å¾ˆé‡è¦çš„ã€‚ ä¾‹å¦‚ï¼Œ å£°æ˜ä¸€ä¸ªä¸»æœºç«¯çš„å—å˜é‡ï¼Œ ä½ æŒ‰å¦‚ä¸‹å®šä¹‰å®ƒçš„åæ ‡å¹¶å¯¹å…¶è¿›è¡Œè®¿é—®ï¼š block.x, block.y, block.z åœ¨è®¾å¤‡ç«¯ï¼Œ ä½ å·²ç»é¢„å®šä¹‰äº†å†…ç½®å—å˜é‡çš„å¤§å°ï¼š blockDim.x, blockDim.y, and blockDim.z åœ¨å¯åŠ¨å†…æ ¸ä¹‹å‰å°±å®šä¹‰äº†ä¸»æœºç«¯çš„ç½‘æ ¼å’Œå—å˜é‡ï¼Œ å¹¶ä»ä¸»æœºç«¯é€šè¿‡ç”±xã€ yã€ zä¸‰ä¸ªå­—æ®µå†³å®šçš„çŸ¢é‡ç»“æ„æ¥è®¿é—®å®ƒä»¬ã€‚ å½“å†…æ ¸å¯åŠ¨æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨å†…æ ¸ä¸­é¢„åˆå§‹åŒ–çš„å†…ç½®å˜é‡ã€‚ æ€»ä¹‹ï¼Œ åœ¨å¯åŠ¨å†…æ ¸ä¹‹å‰å°±å®šä¹‰äº†ä¸»æœºç«¯çš„ç½‘æ ¼å’Œå—å˜é‡ï¼Œ å¹¶ä»ä¸»æœºç«¯é€šè¿‡ç”±xã€ yã€ zä¸‰ä¸ªå­—æ®µå†³å®šçš„çŸ¢é‡ç»“æ„æ¥è®¿é—®å®ƒä»¬ã€‚ å½“å†…æ ¸å¯åŠ¨æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨å†…æ ¸ä¸­é¢„åˆå§‹åŒ–çš„å†…ç½®å˜é‡. å¯¹äºä¸€ä¸ªç»™å®šçš„æ•°æ®å¤§å°ï¼Œ ç¡®å®šç½‘æ ¼å’Œå—å°ºå¯¸çš„ä¸€èˆ¬æ­¥éª¤ä¸ºï¼š ç¡®å®šå—çš„å¤§å° åœ¨å·²çŸ¥æ•°æ®å¤§å°å’Œå—å¤§å°çš„åŸºç¡€ä¸Šè®¡ç®—ç½‘æ ¼ç»´åº¦ è¦ç¡®å®šå—å°ºå¯¸ï¼Œ é€šå¸¸éœ€è¦è€ƒè™‘ï¼š å†…æ ¸çš„æ€§èƒ½ç‰¹æ€§ GPUèµ„æºçš„é™åˆ¶ çº¿ç¨‹å±‚æ¬¡ç»“æ„ CUDAçš„ç‰¹ç‚¹ä¹‹ä¸€å°±æ˜¯é€šè¿‡ç¼–ç¨‹æ¨¡å‹æ­ç¤ºäº†ä¸€ä¸ªä¸¤å±‚çš„çº¿ç¨‹å±‚æ¬¡ç»“æ„ï¼ˆgrid-\u003eblock-\u003ethreadï¼‰ã€‚ ç”±äºä¸€ä¸ªå†…æ ¸ å¯åŠ¨çš„ç½‘æ ¼å’Œå—çš„ç»´æ•°ä¼šå½±å“æ€§èƒ½ï¼Œ è¿™ä¸€ç»“æ„ä¸ºç¨‹åºå‘˜ä¼˜åŒ–ç¨‹åºæä¾›äº†ä¸€ä¸ªé¢å¤–çš„é€”å¾„ã€‚ 2.1.4 å¯åŠ¨ä¸€ä¸ªCUDAæ ¸å‡½æ•° CUDAå†…æ ¸è°ƒç”¨æ˜¯å¯¹Cè¯­è¨€å‡½æ•°è°ƒç”¨è¯­å¥çš„å»¶ä¼¸ï¼Œ Â«\u003cÂ»\u003eè¿ç®—ç¬¦å†…æ˜¯æ ¸å‡½æ•°çš„æ‰§è¡Œé…ç½®ã€‚ kernel_name \u003c\u003c\u003cgrid, block\u003e\u003e\u003e(argument list) åˆ©ç”¨æ‰§è¡Œé…ç½®å¯ä»¥æŒ‡å®šçº¿ç¨‹åœ¨GPUä¸Šè°ƒåº¦è¿è¡Œçš„æ–¹å¼ã€‚ æ‰§è¡Œé…ç½®çš„ç¬¬ä¸€ä¸ªå€¼æ˜¯ç½‘æ ¼ç»´åº¦ï¼Œ ä¹Ÿå°±æ˜¯å¯åŠ¨å—çš„æ•°ç›®ã€‚ ç¬¬äºŒä¸ªå€¼æ˜¯å—ç»´åº¦ï¼Œ ä¹Ÿå°±æ˜¯æ¯ä¸ªå—ä¸­çº¿ç¨‹çš„æ•°ç›®ã€‚ é€šè¿‡æŒ‡å®šç½‘æ ¼å’Œå—çš„ç»´åº¦ï¼Œ ä½ å¯ä»¥è¿›è¡Œä»¥ä¸‹ é…ç½®ï¼š å†…æ ¸ä¸­çº¿ç¨‹çš„æ•°ç›® å†…æ ¸ä¸­ä½¿ç”¨çš„çº¿ç¨‹å¸ƒå±€ åŒä¸€ä¸ªå—(block)ä¸­çš„çº¿ç¨‹ä¹‹é—´å¯ä»¥ç›¸äº’åä½œï¼Œ ä¸åŒå—å†…çš„çº¿ç¨‹ä¸èƒ½åä½œã€‚ å‡è®¾ä½ æœ‰32ä¸ªæ•°æ®å…ƒç´ ç”¨äºè®¡ç®—ï¼Œ æ¯8ä¸ªå…ƒç´ ä¸€ä¸ªå—ï¼Œ éœ€è¦å¯åŠ¨4ä¸ªå—ï¼š kernel_name\u003c\u003c\u003c4, 8\u003e\u003e\u003e(argument list) ç”±äºæ•°æ®åœ¨å…¨å±€å†…å­˜ä¸­æ˜¯çº¿æ€§å­˜å‚¨çš„ï¼Œ å› æ­¤å¯ä»¥ç”¨å˜é‡blockIdx.xå’ŒthreadId.xæ¥è¿›è¡Œä»¥ä¸‹æ“ä½œã€‚ åœ¨ç½‘æ ¼ä¸­æ ‡è¯†ä¸€ä¸ªå”¯ä¸€çš„çº¿ç¨‹ å»ºç«‹çº¿ç¨‹å’Œæ•°æ®å…ƒç´ ä¹‹é—´çš„æ˜ å°„å…³ç³» å¦‚æœæŠŠæ‰€æœ‰32ä¸ªå…ƒç´ æ”¾åˆ°ä¸€ä¸ªå—é‡Œï¼Œ é‚£ä¹ˆåªä¼šå¾—åˆ°ä¸€ä¸ªå—: kernel_name\u003c\u003c\u003c1, 32\u003e\u003e\u003e(argument list) å¦‚æœæ¯ä¸ªå—åªå«æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œ é‚£ä¹ˆä¼šæœ‰32ä¸ªå—ï¼š kernel_name\u003c\u003c\u003c32, 1\u003e\u003e\u003e(argument list) æ ¸å‡½æ•°çš„è°ƒç”¨ä¸ä¸»æœºçº¿ç¨‹æ˜¯å¼‚æ­¥çš„ã€‚ æ ¸å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œ æ§åˆ¶æƒç«‹åˆ»è¿”å›ç»™ä¸»æœºç«¯. ä½ å¯ä»¥è°ƒç”¨ä»¥ä¸‹å‡½æ•°æ¥å¼ºåˆ¶ä¸»æœºç«¯ç¨‹åºç­‰å¾…æ‰€æœ‰çš„æ ¸å‡½æ•°æ‰§è¡Œç»“æŸï¼š cudaError_t cudaDeivceSynchronize(void); ä¸€äº›CUDAè¿è¡Œæ—¶APIåœ¨ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´æ˜¯éšå¼åŒæ­¥çš„ã€‚ å½“ä½¿ç”¨cudaMemcpyå‡½æ•°åœ¨ä¸» æœºå’Œè®¾å¤‡ä¹‹é—´æ‹·è´æ•°æ®æ—¶ï¼Œ ä¸»æœºç«¯éšå¼åŒæ­¥ï¼Œ å³ä¸»æœºç«¯ç¨‹åºå¿…é¡»ç­‰å¾…æ•°æ®æ‹·è´å®Œæˆåæ‰èƒ½ ç»§ç»­æ‰§è¡Œç¨‹åºã€‚ å¼‚æ­¥è¡Œä¸º ä¸åŒäºCè¯­è¨€çš„å‡½æ•°è°ƒç”¨ï¼Œ æ‰€æœ‰çš„CUDAæ ¸å‡½æ•°çš„å¯åŠ¨éƒ½æ˜¯å¼‚æ­¥çš„ã€‚ CUDAå†…æ ¸è°ƒç”¨å®Œæˆåï¼Œ æ§åˆ¶æƒç«‹åˆ»è¿”å›ç»™CPUã€‚ 2.1.5 ç¼–å†™æ ¸å‡½æ•° æ ¸å‡½æ•°æ˜¯åœ¨è®¾å¤‡ç«¯æ‰§è¡Œçš„ä»£ç ã€‚ ç”¨__global__å£°æ˜å®šä¹‰æ ¸å‡½æ•°: __global__ void kernel_name(argument list); æ ¸å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªvoidè¿”å›ç±»å‹ã€‚ è¡¨2-2æ€»ç»“äº†CUDA Cç¨‹åºä¸­çš„å‡½æ•°ç±»å‹é™å®šç¬¦ é™å®šç¬¦ æ‰§è¡Œ è°ƒç”¨ å¤‡æ³¨ global device host CUDAæ ¸å‡½æ•°çš„é™åˆ¶ ä»¥ä¸‹é™åˆ¶é€‚ç”¨äºæ‰€æœ‰æ ¸å‡½æ•°: åªèƒ½è®¿é—®è®¾å¤‡å†…å­˜ å¿…é¡»å…·æœ‰voidè¿”å›ç±»å‹ ä¸æ”¯æŒå¯å˜æ•°é‡çš„å‚æ•° ä¸æ”¯æŒé™æ€å˜é‡ æ˜¾ç¤ºå¼‚æ­¥è¡Œä¸º ","date":"2023-07-12","objectID":"/posts/cuda_02/:1:2","tags":["CUDA"],"title":"CUDA_C_NOTES [2]","uri":"/posts/cuda_02/"},{"categories":["GPU"],"content":"2.3 ç»„ç»‡å¹¶è¡Œçº¿ç¨‹ (ä»¥é˜…è¯»ä¸ºä¸») ä»å‰é¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ å¦‚æœä½¿ç”¨äº†åˆé€‚çš„ç½‘æ ¼å’Œå—å¤§å°æ¥æ­£ç¡®åœ°ç»„ç»‡çº¿ç¨‹ï¼Œ é‚£ä¹ˆå¯ä»¥å¯¹å†…æ ¸æ€§èƒ½äº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚ 2.3.1 ä½¿ç”¨å—å’Œçº¿ç¨‹å»ºç«‹çŸ©é˜µç´¢å¼• åœ¨ä¸€ä¸ªçŸ©é˜µåŠ æ³•æ ¸å‡½æ•°ä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹é€šå¸¸è¢«åˆ†é…ä¸€ä¸ªæ•°æ®å…ƒç´ æ¥å¤„ç†ã€‚é¦–å…ˆè¦å®Œæˆçš„ä»»åŠ¡æ˜¯ä½¿ç”¨å—å’Œçº¿ç¨‹ç´¢å¼•ä»å…¨å±€å†…å­˜ä¸­è®¿é—®æŒ‡å®šçš„æ•°æ®ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_02/:1:3","tags":["CUDA"],"title":"CUDA_C_NOTES [2]","uri":"/posts/cuda_02/"},{"categories":["GPU"],"content":"Ch01 åŸºäºCUDAçš„å¼‚æ„å¹¶è¡Œè®¡ç®— ","date":"2023-07-12","objectID":"/posts/cuda_01/:1:0","tags":["CUDA"],"title":"CUDA_C_NOTES [1]","uri":"/posts/cuda_01/"},{"categories":["GPU"],"content":"1.1 å¹¶è¡Œè®¡ç®— å¹¶è¡Œè®¡ç®—é€šå¸¸è®¾è®¡ä¸¤ä¸ªä¸åŒçš„è®¡ç®—æœºé¢†åŸŸ è®¡ç®—æœºæ¶æ„(ç¡¬ä»¶)ï¼šåœ¨ç»“æ„çº§åˆ«ä¸Šæ”¯æŒå¹¶è¡Œæ€§ å¹¶è¡Œç¨‹åºè®¾è®¡(è½¯ä»¶)ï¼šå……åˆ†ä½¿ç”¨è®¡ç®—æœºæ¶æ„çš„è®¡ç®—èƒ½åŠ›æ¥å¹¶å‘åœ°è§£å†³é—®é¢˜ 1.1.1 ä¸²è¡Œç¼–ç¨‹å’Œå¹¶è¡Œç¼–ç¨‹ 1.1.2 å¹¶è¡Œæ€§ å¹¶è¡Œæ€§æ–¹å¼ ä»»åŠ¡å¹¶è¡Œï¼š å½“è®¸å¤šä»»åŠ¡æˆ–å‡½æ•°å¯ä»¥ç‹¬ç«‹åœ°ã€å¤§è§„æ¨¡åœ°å¹¶è¡Œæ‰§è¡Œæ—¶ï¼Œè¿™å°±æ˜¯ä»»åŠ¡å¹¶è¡Œã€‚ä»»åŠ¡å¹¶è¡Œçš„æ ¸å¿ƒæ˜¯åœ¨äºåˆ©ç”¨å¤šæ ¸ç³»ç»Ÿå¯¹ä»»åŠ¡è¿›è¡Œåˆ†é…ã€‚ æ•°æ®å¹¶è¡Œï¼š å½“å¯ä»¥å¤„ç†è®¸å¤šæ•°æ®çš„æ—¶å€™ï¼Œå°±æ˜¯æ•°æ®å¹¶è¡Œã€‚æ•°æ®å¹¶è¡Œçš„é‡ç‚¹æ˜¯åˆ©ç”¨å¤šæ ¸ç³»ç»Ÿå¯¹æ•°æ®è¿›è¡Œåˆ†é…ã€‚ CUDAç¼–ç¨‹éå¸¸é€‚åˆè§£å†³æ•°æ®å¹¶è¡Œé—®é¢˜ã€‚ æ•°æ®åˆ’åˆ†æ–¹å¼ï¼š å—åˆ’åˆ†ï¼š æ¯ä¸ªçº¿ç¨‹ä½œç”¨äºä¸€éƒ¨åˆ†æ•°æ®ï¼Œ é€šå¸¸è¿™äº›æ•°æ®å…·æœ‰ç›¸åŒå¤§å°ã€‚ ä¸€ç»„è¿ç»­æ•°æ®è¢«åˆ†åˆ°ä¸€ä¸ªå—å†…ï¼Œæ¯ä¸ªæ•°æ®å—ä»¥ä»»æ„æ¬¡åºè¢«å®‰æ’ç»™ä¸€ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹é€šå¸¸åœ¨åŒä¸€æ—¶é—´åªå¤„ç†ä¸€ä¸ªæ•°æ®å—ã€‚ å‘¨æœŸåˆ’åˆ†ï¼š æ¯ä¸ªçº¿ç¨‹ä½œç”¨äºæ•°æ®çš„å¤šéƒ¨åˆ†ã€‚ åœ¨å‘¨æœŸåˆ’åˆ†ä¸­ï¼Œæ›´å°‘çš„æ•°æ®è¢«åˆ†åˆ°ä¸€ä¸ªå—å†…ã€‚ç›¸é‚»çš„çº¿ç¨‹å¤„ç†ç›¸é‚»çš„æ•°æ®å—ï¼Œæ¯ä¸ªçº¿ç¨‹å¯ä»¥å¤„ç†å¤šä¸ªæ•°æ®å—ã€‚ä¸ºä¸€ä¸ªå¾…å¤„ç†çš„çº¿ç¨‹é€‰æ‹©ä¸€ä¸ªæ–°çš„å—ï¼Œå°±æ„å‘³ç€è¦è·³è¿‡å’Œç°æœ‰çº¿ç¨‹ä¸€æ ·å¤šçš„æ•°æ®å—ã€‚ 1.1.3 è®¡ç®—æœºæ¶æ„ è®¡ç®—æœºæœºæ„åˆ†ç±»(å¼—æ—åˆ†ç±»(Flynnâ€™s Taxonomy))ï¼šæ ¹æ®æŒ‡ä»¤å’Œæ•°æ®è¿›å…¥CPUçš„æ–¹å¼è¿›è¡Œåˆ†ç±» å•æŒ‡ä»¤å•æ•°æ®ï¼ˆSISDï¼‰ ä¸€ç§ä¸²è¡Œæ¶æ„ã€‚ åœ¨è¿™ç§è®¡ç®—æœºä¸Šåªæœ‰ä¸€ä¸ªæ ¸å¿ƒã€‚åœ¨ä»»ä½•æ—¶é—´ç‚¹ä¸Šåªæœ‰ä¸€ä¸ªæŒ‡ä»¤æµåœ¨å¤„ç†ä¸€ä¸ªæ•°æ®æµã€‚ å•æŒ‡ä»¤å¤šæ•°æ®ï¼ˆSIMDï¼‰ ä¸€ç§å¹¶è¡Œæ¶æ„ç±»å‹ã€‚åœ¨è¿™ç§è®¡ç®—æœºä¸Šæœ‰å¤šä¸ªæ ¸å¿ƒã€‚ åœ¨ä»»ä½•æ—¶é—´ç‚¹ä¸Šæ‰€æœ‰çš„æ ¸å¿ƒåªæœ‰ä¸€ä¸ªæŒ‡ä»¤æµå¤„ç†ä¸åŒçš„æ•°æ®æµï¼Œä¾‹å¦‚å‘é‡æœºã€‚ ä¼˜åŠ¿: åœ¨CPUä¸Šç¼–å†™ä»£ç æ—¶ï¼Œ ç¨‹åºå‘˜å¯ä»¥ç»§ç»­æŒ‰ä¸²è¡Œé€»è¾‘æ€è€ƒä½†å¯¹å¹¶è¡Œæ•°æ®æ“ä½œå®ç°å¹¶è¡ŒåŠ é€Ÿï¼Œè€Œå…¶ä»–ç»†èŠ‚åˆ™ç”±ç¼–è¯‘å™¨æ¥è´Ÿè´£ã€‚ å¤šæŒ‡ä»¤å•æ•°æ®ï¼ˆMISDï¼‰ æ¯”è¾ƒå°‘è§, æ¯ä¸ªæ ¸å¿ƒé€šè¿‡ä½¿ç”¨å¤šä¸ªæŒ‡ä»¤æµå¤„ç†åŒä¸€ä¸ªæ•°æ®æµ å¤šæŒ‡ä»¤å¤šæ•°æ®ï¼ˆMIMDï¼‰ ä¸€ç§å¹¶è¡Œæ¶æ„ï¼Œ åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œå¤šä¸ªæ ¸å¿ƒä½¿ç”¨å¤šä¸ªæŒ‡ä»¤æµæ¥å¼‚æ­¥å¤„ç†å¤šä¸ªæ•°æ®æµï¼Œä»è€Œå®ç°ç©ºé—´ä¸Šçš„å¹¶è¡Œæ€§ã€‚ è®¸å¤šMIMDæ¶æ„è¿˜åŒ…æ‹¬SIMDæ‰§è¡Œçš„å­ç»„ä»¶ã€‚ è®¡ç®—æœºæ¶æ„ä¼˜åŠ£çš„è¯„ä»·æŒ‡æ ‡ï¼š é™ä½å»¶è¿Ÿ å»¶è¿Ÿæ˜¯ä¸€ä¸ªæ“ä½œä»å¼€å§‹åˆ°å®Œæˆæ‰€éœ€è¦çš„æ—¶é—´ï¼Œ å¸¸ç”¨å¾®ç§’æ¥è¡¨ç¤º æé«˜å¸¦å®½ å¸¦å®½æ˜¯å•ä½æ—¶é—´å†…å¯å¤„ç†çš„æ•°æ®é‡ï¼Œ é€šå¸¸è¡¨ç¤ºä¸ºMB/sæˆ–GB/sã€‚ æé«˜ååé‡ ååé‡æ˜¯å•ä½æ—¶é—´å†…æˆåŠŸå¤„ç†çš„è¿ç®—æ•°é‡ï¼Œ é€šå¸¸è¡¨ç¤ºä¸ºgflopsï¼ˆå³æ¯ç§’åäº¿æ¬¡çš„æµ®ç‚¹è¿ç®—æ•°é‡ï¼‰ ï¼Œ ç‰¹åˆ«æ˜¯åœ¨é‡ç‚¹ä½¿ç”¨æµ®ç‚¹è®¡ç®—çš„ç§‘å­¦è®¡ç®—é¢†åŸŸç»å¸¸ç”¨åˆ° å»¶è¿Ÿç”¨æ¥è¡¡é‡å®Œæˆä¸€æ¬¡æ“ä½œçš„æ—¶é—´ï¼Œ è€Œååé‡ç”¨æ¥è¡¡é‡åœ¨ç»™å®šçš„å•ä½æ—¶é—´å†…å¤„ç†çš„æ“ä½œé‡ æ ¹æ®å†…å­˜ç»„ç»‡æ–¹å¼è¿›ä¸€æ­¥åˆ’åˆ†è®¡ç®—æœºæ¶æ„: åˆ†å¸ƒå¼å†…å­˜çš„å¤šèŠ‚ç‚¹ç³»ç»Ÿ å¤§å‹è®¡ç®—å¼•æ“æ˜¯ç”±è®¸å¤šç½‘ç»œè¿æ¥çš„å¤„ç†å™¨æ„æˆçš„ã€‚ æ¯ä¸ªå¤„ç†å™¨æœ‰è‡ªå·±çš„æœ¬åœ°å†…å­˜ï¼Œ è€Œä¸”å¤„ç†å™¨ä¹‹é—´å¯ä»¥é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡(ç±»ä¼¼äºå¤šæœºå¤šå¡) å…±äº«å†…å­˜çš„å¤šå¤„ç†å™¨ç³»ç»Ÿ GPUä»£è¡¨äº†ä¸€ç§ä¼—æ ¸æ¶æ„ï¼Œå‡ ä¹åŒ…æ‹¬äº†å‰æ–‡æè¿°çš„æ‰€æœ‰å¹¶è¡Œç»“æ„ï¼š å¤šçº¿ç¨‹ã€MIMDï¼ˆå¤šæŒ‡ä»¤å¤šæ•°æ®ï¼‰ã€ SIMDï¼ˆå•æŒ‡ä»¤å¤šæ•°æ®ï¼‰ï¼Œ ä»¥åŠæŒ‡ä»¤çº§å¹¶è¡Œã€‚ NVIDIAå…¬å¸ç§°è¿™ ç§æ¶æ„ä¸ºSIMTï¼ˆå•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼‰ã€‚ GPUæ ¸å¿ƒå’ŒCPUæ ¸å¿ƒ å°½ç®¡å¯ä»¥ä½¿ç”¨å¤šæ ¸å’Œä¼—æ ¸æ¥åŒºåˆ†CPUå’ŒGPUçš„æ¶æ„ï¼Œ ä½†è¿™ä¸¤ç§æ ¸å¿ƒæ˜¯å®Œå…¨ä¸åŒçš„ã€‚ CPUæ ¸å¿ƒæ¯”è¾ƒé‡ï¼Œ ç”¨æ¥å¤„ç†éå¸¸å¤æ‚çš„æ§åˆ¶é€»è¾‘ï¼Œ ä»¥ä¼˜åŒ–ä¸²è¡Œç¨‹åºæ‰§è¡Œã€‚ GPUæ ¸å¿ƒè¾ƒè½»ï¼Œ ç”¨äºä¼˜åŒ–å…·æœ‰ç®€å•æ§åˆ¶é€»è¾‘çš„æ•°æ®å¹¶è¡Œä»»åŠ¡ï¼Œ æ³¨é‡å¹¶è¡Œç¨‹åºçš„ååé‡ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_01/:1:1","tags":["CUDA"],"title":"CUDA_C_NOTES [1]","uri":"/posts/cuda_01/"},{"categories":["GPU"],"content":"1.2 å¼‚æ„è®¡ç®— CPUå’ŒGPUæ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å¤„ç†å™¨ï¼Œ å®ƒä»¬é€šè¿‡å•ä¸ªè®¡ç®—èŠ‚ç‚¹ä¸­çš„PCI-Expressæ€»çº¿ç›¸è¿ã€‚ åœ¨è¿™ç§å…¸å‹çš„æ¶æ„ä¸­ï¼Œ GPUæŒ‡çš„æ˜¯ç¦»æ•£çš„è®¾å¤‡ï¼Œä»åŒæ„ç³»ç»Ÿåˆ°å¼‚æ„ç³»ç»Ÿçš„è½¬å˜æ˜¯é«˜æ€§èƒ½è®¡ç®— å²ä¸Šçš„ä¸€ä¸ªé‡Œç¨‹ç¢‘ã€‚ åŒæ„è®¡ç®—ä½¿ç”¨çš„æ˜¯åŒä¸€æ¶æ„ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªå¤„ç†å™¨æ¥æ‰§è¡Œä¸€ä¸ªåº”ç”¨ã€‚ è€Œå¼‚æ„è®¡ç®—åˆ™ä½¿ç”¨ä¸€ä¸ªå¤„ç†å™¨æ¶æ„æ¥æ‰§è¡Œä¸€ä¸ªåº”ç”¨ï¼Œä¸ºä»»åŠ¡é€‰æ‹©é€‚åˆå®ƒçš„æ¶æ„ï¼Œä½¿å…¶æœ€ç»ˆ å¯¹æ€§èƒ½æœ‰æ‰€æ”¹è¿›. 1.2.1 å¼‚æ„æ¶æ„ ä¸€ä¸ªå…¸å‹çš„å¼‚æ„è®¡ç®—èŠ‚ç‚¹åŒ…æ‹¬ä¸¤ä¸ªå¤šæ ¸CPUæ’æ§½å’Œä¸¤ä¸ªæˆ–æ›´å¤šä¸ªçš„ä¼—æ ¸GPUã€‚ GPUä¸ æ˜¯ä¸€ä¸ªç‹¬ç«‹è¿è¡Œçš„å¹³å°è€Œæ˜¯CPUçš„åå¤„ç†å™¨ã€‚ å› æ­¤ï¼Œ GPUå¿…é¡»é€šè¿‡PCIeæ€»çº¿ä¸åŸºäºCPUçš„ ä¸»æœºç›¸è¿æ¥è¿›è¡Œæ“ä½œï¼Œ å¦‚å›¾1-9æ‰€ç¤ºã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆCPUæ‰€åœ¨çš„ä½ç½®è¢«ç§°ä½œä¸»æœºç«¯(host)è€ŒGPU æ‰€åœ¨çš„ä½ç½®è¢«ç§°ä½œè®¾å¤‡ç«¯(device)ã€‚ ä¸€ä¸ªå¼‚æ„åº”ç”¨åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š ä¸»æœºä»£ç ï¼šåœ¨CPUä¸Šè¿è¡Œ è®¾å¤‡ä»£ç ï¼šåœ¨GPUä¸Šè¿è¡Œ. æè¿°GPUå®¹é‡çš„ä¸¤ä¸ªé‡è¦ç‰¹å¾ CUDAæ ¸å¿ƒæ•°é‡ å†…å­˜å¤§å° ç›¸åº”çš„ï¼Œ æœ‰ä¸¤ç§ä¸åŒçš„æŒ‡æ ‡æ¥è¯„ä¼°GPUçš„æ€§èƒ½: å³°å€¼è®¡ç®—æ€§èƒ½ï¼šç”¨æ¥è¯„ä¼°è®¡ç®—å®¹é‡çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œ é€šå¸¸å®šä¹‰ä¸ºæ¯ç§’èƒ½å¤„ç†çš„å•ç²¾åº¦æˆ–åŒç²¾åº¦æµ®ç‚¹è¿ç®—çš„æ•°é‡ï¼Œé€šå¸¸ç”¨GFlopsï¼ˆæ¯ç§’åäº¿æ¬¡æµ®ç‚¹è¿ç®—ï¼‰ æˆ–TFlopsï¼ˆæ¯ç§’ä¸‡ äº¿æ¬¡æµ®ç‚¹è¿ç®—ï¼‰ æ¥è¡¨ç¤º å†…å­˜å¸¦å®½ï¼šä»å†…å­˜ä¸­è¯»å–æˆ–å†™å…¥æ•°æ®çš„æ¯”ç‡ã€‚ å†…å­˜å¸¦å®½é€šå¸¸ç”¨GB/sè¡¨ç¤º è®¡ç®—èƒ½åŠ› 1.2.2 å¼‚æ„è®¡ç®—èŒƒä¾‹ GPUä¸CPUç»“åˆåï¼Œ èƒ½æœ‰æ•ˆæé«˜å¤§è§„æ¨¡è®¡ç®—é—®é¢˜çš„å¤„ç†é€Ÿåº¦ä¸æ€§èƒ½ã€‚ CPUé’ˆå¯¹åŠ¨æ€å·¥ä½œè´Ÿè½½è¿›è¡Œäº†ä¼˜åŒ–ï¼Œ è¿™äº›åŠ¨æ€å·¥ä½œè´Ÿè½½æ˜¯ç”±çŸ­åºåˆ—çš„è®¡ç®—æ“ä½œå’Œä¸å¯é¢„æµ‹çš„æ§åˆ¶æµç¨‹æ ‡ è®°çš„ï¼› è€ŒGPUåœ¨å…¶ä»–é¢†åŸŸå†…çš„ç›®çš„æ˜¯ï¼š å¤„ç†ç”±è®¡ç®—ä»»åŠ¡ä¸»å¯¼çš„ä¸”å¸¦æœ‰ç®€å•æ§åˆ¶æµçš„å·¥ä½œè´Ÿè½½ã€‚ CPUçº¿ç¨‹ä¸GPUçº¿ç¨‹ CPUä¸Šçš„çº¿ç¨‹é€šå¸¸æ˜¯é‡é‡çº§çš„å®ä½“ã€‚ æ“ä½œç³»ç»Ÿå¿…é¡»äº¤æ›¿çº¿ç¨‹ä½¿ç”¨å¯ç”¨æˆ–å…³é—­CPUæ‰§è¡Œé€šé“ä»¥æä¾›å¤šçº¿ç¨‹å¤„ç†åŠŸèƒ½ã€‚ ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ç¼“æ…¢ä¸”å¼€é”€å¤§ã€‚ GPUä¸Šçš„çº¿ç¨‹æ˜¯é«˜åº¦è½»é‡çº§çš„ã€‚ åœ¨ä¸€ä¸ªå…¸å‹çš„ç³»ç»Ÿä¸­ä¼šæœ‰æˆåƒä¸Šä¸‡çš„çº¿ç¨‹æ’é˜Ÿç­‰å¾…å·¥ä½œã€‚ å¦‚æœGPUå¿…é¡»ç­‰å¾…ä¸€ç»„çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œ é‚£ä¹ˆå®ƒåªè¦è°ƒç”¨å¦ä¸€ç»„çº¿ç¨‹æ‰§è¡Œå…¶ä»–ä»»åŠ¡å³å¯ 1.2.3 CUDAï¼š ä¸€ç§å¼‚æ„è®¡ç®—å¹³å° CUDAæ˜¯ä¸€ç§é€šç”¨çš„å¹¶è¡Œè®¡ç®—å¹³å°å’Œç¼–ç¨‹æ¨¡å‹ï¼Œå®ƒåˆ©ç”¨NVIDIA GPUä¸­çš„å¹¶è¡Œè®¡ç®—å¼•æ“èƒ½æ›´æœ‰æ•ˆåœ°è§£å†³å¤æ‚çš„è®¡ç®—é—®é¢˜ã€‚é€šè¿‡ä½¿ç”¨CUDAï¼Œä½ å¯ä»¥åƒåœ¨CPUä¸Šé‚£æ ·ï¼Œé€šè¿‡GPUæ¥è¿›è¡Œè®¡ç®—ã€‚ CUDAæä¾›äº†ä¸¤å±‚APIæ¥ç®¡ç†GPUè®¾å¤‡å’Œç»„ç»‡çº¿ç¨‹ï¼Œ å¦‚å›¾1-13æ‰€ç¤ºã€‚ CUDAé©±åŠ¨APIï¼šé©±åŠ¨APIæ˜¯ä¸€ç§ä½çº§APIï¼Œ å®ƒç›¸å¯¹æ¥è¯´è¾ƒéš¾ç¼–ç¨‹ï¼Œ ä½†æ˜¯å®ƒå¯¹äºåœ¨GPUè®¾å¤‡ä½¿ç”¨ä¸Šæä¾›äº†æ›´å¤šçš„æ§åˆ¶ã€‚ CUDAè¿è¡Œæ—¶APIï¼šè¿è¡Œæ—¶APIæ˜¯ä¸€ä¸ªé«˜çº§APIï¼Œ å®ƒåœ¨é©±åŠ¨APIçš„ä¸Šå±‚å®ç°ã€‚ æ¯ä¸ªè¿è¡Œæ—¶APIå‡½æ•°éƒ½è¢«åˆ†è§£ä¸ºæ›´å¤šä¼ ç»™é©±åŠ¨APIçš„åŸºæœ¬è¿ç®—ã€‚ ä¸€ä¸ªCUDAç¨‹åºåŒ…å«äº†ä»¥ä¸‹ä¸¤ä¸ªéƒ¨åˆ†: åœ¨CPUä¸Šè¿è¡Œçš„ä¸»æœºä»£ç  åœ¨GPUä¸Šè¿è¡Œçš„è®¾å¤‡ä»£ç  NVIDIAçš„CUDA nvccç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°†è®¾å¤‡ä»£ç ä»ä¸»æœºä»£ç ä¸­åˆ†ç¦»å‡ºæ¥. ä¸»æœºä»£ç æ˜¯æ ‡å‡†çš„Cä»£ç ï¼Œä½¿ç”¨Cç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ã€‚ è®¾å¤‡ä»£ç ï¼Œä¹Ÿå°±æ˜¯æ ¸å‡½æ•°ï¼Œ æ˜¯ç”¨æ‰©å±•çš„å¸¦æœ‰æ ‡è®°æ•°æ®å¹¶è¡Œå‡½æ•°å…³é”®å­—çš„CUDA Cè¯­è¨€ç¼–å†™çš„. è®¾å¤‡ä»£ç é€šè¿‡nvccè¿›è¡Œç¼–è¯‘ã€‚ åœ¨é“¾æ¥é˜¶æ®µï¼Œåœ¨å†…æ ¸ç¨‹åºè°ƒç”¨å’Œæ˜¾ç¤ºGPUè®¾å¤‡æ“ä½œä¸­æ·»åŠ CUDAè¿è¡Œæ—¶åº“ã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_01/:1:2","tags":["CUDA"],"title":"CUDA_C_NOTES [1]","uri":"/posts/cuda_01/"},{"categories":["GPU"],"content":"1.3 ç”¨GPUè¾“å‡ºHello World ç”¨ä¸“ç”¨æ‰©å±•å.cuæ¥åˆ›å»ºä¸€ä¸ªæºæ–‡ä»¶ ä½¿ç”¨CUDA nvccç¼–è¯‘å™¨æ¥ç¼–è¯‘ç¨‹åº ä»å‘½ä»¤è¡Œè¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œ è¿™ä¸ªæ–‡ä»¶æœ‰å¯åœ¨GPUä¸Šè¿è¡Œçš„å†…æ ¸ä»£ç ã€‚ é¦–å…ˆï¼Œ æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªCè¯­è¨€ç¨‹åºæ¥è¾“å‡ºâ€œHello Worldâ€ï¼Œ å¦‚ä¸‹æ‰€ç¤º #include\u003cstdio.h\u003e int main(void) { printf(\"Hello World from CPU!\\n\")ï¼› } æŠŠä»£ç ä¿å­˜åˆ°hello.cuä¸­ï¼Œ ç„¶åä½¿ç”¨nvccç¼–è¯‘å™¨æ¥ç¼–è¯‘ã€‚ CUDA nvccç¼–è¯‘å™¨å’Œgccç¼–è¯‘å™¨åŠå…¶ä»–ç¼–è¯‘å™¨æœ‰ç›¸ä¼¼çš„è¯­ä¹‰ nvcc hello.cu -o hello å¦‚æœä½ è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶helloï¼Œ å°†ä¼šè¾“å‡ºï¼š Hello World from CPU! æ¥ä¸‹æ¥ï¼Œ ç¼–å†™ä¸€ä¸ªå†…æ ¸å‡½æ•°ï¼Œ å‘½åä¸ºhelloFromGPUï¼Œ ç”¨å®ƒæ¥è¾“å‡ºå­—ç¬¦ä¸²â€œHello World from GPUï¼ â€ã€‚ __global__ void helloFromGPU(void) { printf(\"Hello World from GPU!\\n\"); } ä¿®é¥°ç¬¦__global__å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªå‡½æ•°å°†ä¼šä»CPUä¸­è°ƒç”¨ï¼Œ ç„¶ååœ¨GPUä¸Šæ‰§è¡Œã€‚ç”¨ä¸‹é¢çš„ä»£ç å¯åŠ¨å†…æ ¸å‡½æ•°. helloFromGPU \u003c\u003c\u003c1, 10\u003e\u003e\u003e() ä¸‰é‡å°–æ‹¬å·æ„å‘³ç€ä»ä¸»çº¿ç¨‹åˆ°è®¾å¤‡ç«¯ä»£ç çš„è°ƒç”¨ã€‚ ä¸€ä¸ªå†…æ ¸å‡½æ•°é€šè¿‡ä¸€ç»„çº¿ç¨‹æ¥æ‰§è¡Œï¼Œ æ‰€æœ‰çº¿ç¨‹æ‰§è¡Œç›¸åŒçš„ä»£ç ã€‚ ä¸‰é‡å°–æ‹¬å·é‡Œé¢çš„å‚æ•°æ˜¯æ‰§è¡Œé…ç½®ï¼Œ ç”¨æ¥è¯´æ˜ä½¿ç”¨å¤šå°‘çº¿ç¨‹æ¥æ‰§è¡Œå†…æ ¸å‡½æ•°ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰10ä¸ªGPUçº¿ç¨‹è¢«è°ƒç”¨ã€‚ cudaDeviceReset()ç”¨æ¥æ˜¾å¼åœ°é‡Šæ”¾å’Œæ¸…ç©ºå½“å‰è¿›ç¨‹ä¸­ä¸å½“å‰è®¾å¤‡æœ‰å…³çš„æ‰€æœ‰èµ„æºã€‚ ä¸€ä¸ªå…¸å‹çš„CUDAç¼–ç¨‹ç»“æ„åŒ…æ‹¬5ä¸ªä¸»è¦æ­¥éª¤: 1. åˆ†é…GPUå†…å­˜ 2. ä»CPUå†…å­˜ä¸­æ‹·è´æ•°æ®åˆ°GPUå†…å­˜ 3. è°ƒç”¨CUDAå†…æ ¸å‡½æ•°æ¥å®Œæˆç¨‹åºæŒ‡å®šçš„è¿ç®— 4. å°†æ•°æ®ä»GPUæ‹·å›CPUå†…å­˜ 5. é‡Šæ”¾GPUå†…å­˜ç©ºé—´ ","date":"2023-07-12","objectID":"/posts/cuda_01/:1:3","tags":["CUDA"],"title":"CUDA_C_NOTES [1]","uri":"/posts/cuda_01/"},{"categories":["GPU"],"content":"1.4 ä½¿ç”¨CUDA Cç¼–ç¨‹éš¾å— æ•°æ®å±€éƒ¨æ€§: æŒ‡çš„æ˜¯æ•°æ®é‡ç”¨ï¼Œ ä»¥é™ä½å†…å­˜è®¿é—®çš„å»¶è¿Ÿ æ—¶é—´å±€éƒ¨æ€§ï¼šæŒ‡åœ¨ç›¸å¯¹è¾ƒçŸ­çš„æ—¶é—´æ®µå†…æ•°æ®æˆ–èµ„æºçš„é‡ç”¨ ç©ºé—´å±€éƒ¨æ€§ï¼šæŒ‡åœ¨ç›¸å¯¹è¾ƒæ¥è¿‘çš„å­˜å‚¨ç©ºé—´å†…æ•°æ®å…ƒç´ çš„é‡ç”¨ã€‚ CUDAä¸­æœ‰å†…å­˜å±‚æ¬¡å’Œçº¿ç¨‹å±‚æ¬¡çš„æ¦‚å¿µ å†…å­˜å±‚æ¬¡ç»“æ„ çº¿ç¨‹å±‚æ¬¡ç»“æ„ CUDAæ ¸ä¸­æœ‰3ä¸ªå…³é”®æŠ½è±¡ çº¿ç¨‹ç»„çš„å±‚æ¬¡ç»“æ„ å†…å­˜çš„å±‚æ¬¡ç»“æ„ éšœç¢åŒæ­¥ ","date":"2023-07-12","objectID":"/posts/cuda_01/:1:4","tags":["CUDA"],"title":"CUDA_C_NOTES [1]","uri":"/posts/cuda_01/"},{"categories":["GPU"],"content":"1.5 æ€»ç»“ CPU + GPUçš„å¼‚æ„ç³»ç»Ÿæˆä¸ºé«˜æ€§èƒ½è®¡ç®—çš„ä¸»æµæ¶æ„: åœ¨GPUä¸Šæ‰§è¡Œæ•°æ®å¹¶è¡Œå·¥ä½œï¼Œ åœ¨CPUä¸Šæ‰§è¡Œä¸²è¡Œå’Œä»»åŠ¡å¹¶è¡Œçš„å·¥ä½œã€‚ ","date":"2023-07-12","objectID":"/posts/cuda_01/:1:5","tags":["CUDA"],"title":"CUDA_C_NOTES [1]","uri":"/posts/cuda_01/"},{"categories":["C++"],"content":" quote c++ å…«è‚¡æ–‡ ç¬¬ä¸€éƒ¨åˆ† ","date":"2023-07-11","objectID":"/posts/basics_two/:0:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"6 åŸºç¡€çŸ¥è¯†(å…­) ","date":"2023-07-11","objectID":"/posts/basics_two/:1:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"6.1 æ„é€ å‡½æ•°ä¸ºä»€ä¹ˆä¸èƒ½å®šä¹‰ä¸ºè™šå‡½æ•°ï¼Ÿ â½½ææ„å‡½æ•°â¼€èˆ¬å†™æˆè™šå‡½æ•°çš„åŸå›  ï¼Ÿ æ„é€ å‡½æ•°ä¸èƒ½å£°æ˜ä¸ºè™šå‡½æ•°çš„åŸå› æ˜¯: 1 æ„é€ ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¿…é¡»çŸ¥é“å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œè€Œè™šå‡½æ•°è¡Œä¸ºæ˜¯åœ¨è¿è¡ŒæœŸé—´ç¡®å®šå®é™…ç±»å‹çš„ã€‚è€Œåœ¨æ„é€ ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç”±äºå¯¹è±¡è¿˜æœªæ„é€ æˆåŠŸã€‚ç¼–è¯‘å™¨æ— æ³•çŸ¥é“å¯¹è±¡ çš„å®é™…ç±»å‹ï¼Œæ˜¯è¯¥ç±»æœ¬èº«ï¼Œè¿˜æ˜¯è¯¥ç±»çš„ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œæˆ–æ˜¯æ›´æ·±å±‚æ¬¡çš„æ´¾ç”Ÿç±»ã€‚æ— æ³•ç¡®å®šã€‚ 2 è™šå‡½æ•°çš„æ‰§è¡Œä¾èµ–äºè™šå‡½æ•°è¡¨ã€‚è€Œè™šå‡½æ•°è¡¨åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œåˆå§‹åŒ–å·¥ä½œï¼Œå³åˆå§‹åŒ–vptrï¼Œè®©ä»–æŒ‡å‘æ­£ç¡®çš„è™šå‡½æ•°è¡¨ã€‚è€Œåœ¨æ„é€ å¯¹è±¡æœŸé—´ï¼Œè™šå‡½æ•°è¡¨è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œå°†æ— æ³•è¿›è¡Œã€‚ è™šå‡½æ•°çš„æ„æ€å°±æ˜¯å¼€å¯åŠ¨æ€ç»‘å®šï¼Œç¨‹åºä¼šæ ¹æ®å¯¹è±¡çš„åŠ¨æ€ç±»å‹æ¥é€‰æ‹©è¦è°ƒç”¨çš„æ–¹æ³•ã€‚ç„¶è€Œåœ¨æ„é€ å‡½æ•°è¿è¡Œçš„æ—¶å€™ï¼Œè¿™ä¸ªå¯¹è±¡çš„åŠ¨æ€ç±»å‹è¿˜ä¸å®Œæ•´ï¼Œæ²¡æœ‰åŠæ³•ç¡®å®šå®ƒåˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæ•…æ„é€ å‡½æ•°ä¸èƒ½åŠ¨æ€ç»‘å®šã€‚ï¼ˆåŠ¨æ€ç»‘å®šæ˜¯æ ¹æ®å¯¹è±¡çš„åŠ¨æ€ç±»å‹è€Œä¸æ˜¯å‡½æ•°åï¼Œåœ¨è°ƒç”¨æ„é€ å‡½æ•°ä¹‹å‰ï¼Œè¿™ä¸ªå¯¹è±¡æ ¹æœ¬å°±ä¸å­˜åœ¨ï¼Œå®ƒæ€ä¹ˆåŠ¨æ€ç»‘å®šï¼Ÿï¼‰ ç¼–è¯‘å™¨åœ¨è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°çš„æ—¶å€™å¹¶ä¸çŸ¥é“ä½ è¦æ„é€ çš„æ˜¯ä¸€ä¸ªåŸºç±»çš„å¯¹è±¡è¿˜æ˜¯ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚ ææ„å‡½æ•°è®¾ä¸ºè™šå‡½æ•°çš„ä½œç”¨: è§£é‡Šï¼šåœ¨ç±»çš„ç»§æ‰¿ä¸­ï¼Œå¦‚æœæœ‰åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»ï¼Œé‚£ä¹ˆç”¨åŸºç±»æŒ‡é’ˆdeleteæ—¶ï¼Œå¦‚æœä¸å®šä¹‰æˆè™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä¸­æ´¾ç”Ÿçš„é‚£éƒ¨åˆ†æ— æ³•ææ„ã€‚ï¼ˆå¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆåœ¨delete åŸºç±»æŒ‡é’ˆæ—¶ï¼Œåªè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œä¸ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œæ•…æ´¾ç”Ÿç±»éƒ¨åˆ†ä¸ä¼šè¢«ææ„ã€‚ï¼‰ ","date":"2023-07-11","objectID":"/posts/basics_two/:1:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"6.2 c/c++ä¸­registerå…³é”®å­—ï¼ˆå¯„å­˜å™¨ã€ç¼“å­˜ã€å†…å­˜ï¼‰ c/c++ä¸­registerå…³é”®å­—ï¼ˆå¯„å­˜å™¨ã€ç¼“å­˜ã€å†…å­˜ï¼‰ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå˜é‡çš„å€¼æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼ŒCPU æ¯æ¬¡ä½¿ç”¨æ•°æ®éƒ½è¦ä»å†…å­˜ä¸­è¯»å–ã€‚å¦‚æœæœ‰ä¸€äº›å˜é‡ä½¿ç”¨éå¸¸é¢‘ç¹ï¼Œä»å†…å­˜ä¸­è¯»å–å°±ä¼šæ¶ˆè€—å¾ˆå¤šæ—¶é—´ï¼Œä¾‹å¦‚ for å¾ªç¯ä¸­çš„å¢é‡æ§åˆ¶ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†ä½¿ç”¨é¢‘ç¹çš„å˜é‡æ”¾åœ¨CPUçš„é€šç”¨å¯„å­˜å™¨ä¸­ï¼Œè¿™æ ·ä½¿ç”¨è¯¥å˜é‡æ—¶å°±ä¸å¿…è®¿é—®å†…å­˜ï¼Œç›´æ¥ä»å¯„å­˜å™¨ä¸­è¯»å–ï¼Œå¤§å¤§æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚ å¯„å­˜å™¨ã€ç¼“å­˜ã€å†…å­˜ ä¸ºäº†åŠ æ·±å¯¹ register å˜é‡çš„ç†è§£ï¼Œè¿™é‡Œæœ‰å¿…è¦è®²ä¸€ä¸‹CPUå¯„å­˜å™¨ã€‚ æŒ‰ç…§ä¸CPUçš„è¿œè¿‘æ¥åˆ†ï¼Œç¦»CPUæœ€è¿‘çš„æ˜¯å¯„å­˜å™¨ï¼Œç„¶åæ˜¯ç¼“å­˜ï¼Œæœ€åæ˜¯å†…å­˜ã€‚ å¯„å­˜å™¨æ˜¯æœ€è´´è¿‘CPUçš„ï¼Œè€Œä¸”CPUåªåœ¨å¯„å­˜å™¨ä¸­è¿›è¡Œå­˜å–ã€‚å¯„å­˜çš„æ„æ€æ˜¯æš‚æ—¶å­˜æ”¾æ•°æ®ï¼Œä¸ç”¨æ¯æ¬¡éƒ½ä»å†…å­˜ä¸­è¯»å–ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸´æ—¶çš„å­˜æ”¾æ•°æ®çš„ç©ºé—´ã€‚ è€Œå¯„å­˜å™¨çš„æ•°æ®åˆæ¥æºäºå†…å­˜ï¼Œäºæ˜¯ CPU \u003câ€“ å¯„å­˜å™¨ \u003câ€“ å†…å­˜ï¼Œè¿™å°±æ˜¯å®ƒä»¬ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ã€‚ é‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜éœ€è¦ç¼“å­˜å‘¢ï¼Ÿå› ä¸ºå¦‚æœé¢‘ç¹åœ°æ“ä½œå†…å­˜ä¸­åŒä¸€åœ°å€ä¸Šçš„æ•°æ®ä¼šå½±å“é€Ÿåº¦ï¼Œäºæ˜¯å°±åœ¨å¯„å­˜å™¨å’Œå†…å­˜ä¹‹é—´è®¾ç½®ä¸€ä¸ªç¼“å­˜ï¼ŒæŠŠä½¿ç”¨é¢‘ç¹çš„æ•°æ®æš‚æ—¶ä¿å­˜åˆ°ç¼“å­˜ï¼Œå¦‚æœå¯„å­˜å™¨éœ€è¦è¯»å–å†…å­˜ä¸­åŒä¸€åœ°å€ä¸Šçš„æ•°æ®ï¼Œå°±ä¸ç”¨å¤§è€è¿œåœ°å†å»è®¿é—®å†…å­˜ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–å³å¯ã€‚ ç¼“å­˜çš„é€Ÿåº¦è¿œé«˜äºå†…å­˜ï¼Œä»·æ ¼ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ æ³¨æ„ï¼šç¼“å­˜çš„å®¹é‡æ˜¯æœ‰é™çš„ï¼Œå¯„å­˜å™¨åªèƒ½ä»ç¼“å­˜ä¸­è¯»å–åˆ°éƒ¨åˆ†æ•°æ®ï¼Œå¯¹äºä½¿ç”¨ä¸æ˜¯å¾ˆé¢‘ç¹çš„æ•°æ®ï¼Œä¼šç»•è¿‡ç¼“å­˜ï¼Œç›´æ¥åˆ°å†…å­˜ä¸­è¯»å–ã€‚æ‰€ä»¥ä¸æ˜¯æ¯æ¬¡éƒ½èƒ½ä»ç¼“å­˜ä¸­å¾—åˆ°æ•°æ®ï¼Œè¿™å°±æ˜¯ç¼“å­˜çš„å‘½ä¸­ç‡ï¼Œèƒ½å¤Ÿä»ç¼“å­˜ä¸­è¯»å–å°±å‘½ä¸­ï¼Œå¦åˆ™å°±æ²¡å‘½ä¸­ã€‚ å…³äºç¼“å­˜çš„å‘½ä¸­ç‡åˆæ˜¯ä¸€é—¨å­¦é—®ï¼Œå“ªäº›æ•°æ®ä¿ç•™åœ¨ç¼“å­˜ï¼Œå“ªäº›æ•°æ®ä¸ä¿ç•™ï¼Œéƒ½æœ‰å¤æ‚çš„ç®—æ³•ã€‚ æ³¨æ„ï¼šä¸Šé¢æ‰€è¯´çš„CPUæ˜¯æŒ‡CPUæ ¸å¿ƒï¼Œä»å¸‚åœºä¸Šè´­ä¹°çš„CPUå·²æ˜¯å°è£…å¥½çš„å¥—ä»¶ï¼Œé™„å¸¦äº†å¯„å­˜å™¨å’Œç¼“å­˜ï¼Œæ’åˆ°ä¸»æ¿ä¸Šå°±å¯ä»¥ç”¨ã€‚ ä»ç»æµå’Œé€Ÿåº¦çš„ç»¼åˆè€ƒè™‘ï¼Œç¼“å­˜åˆè¢«åˆ†ä¸ºä¸€çº§ç¼“å­˜ã€äºŒçº§ç¼“å­˜å’Œä¸‰çº§ç¼“å­˜ï¼Œå®ƒä»¬çš„å­˜å–é€Ÿåº¦å’Œä»·æ ¼ä¾æ¬¡é™ä½ï¼Œå®¹é‡ä¾æ¬¡å¢åŠ ã€‚è´­ä¹°åˆ°çš„CPUä¸€èˆ¬ä¼šæ ‡å‡ºä¸‰çº§ç¼“å­˜çš„å®¹é‡ã€‚ register å˜é‡ å¯„å­˜å™¨çš„æ•°é‡æ˜¯æœ‰é™çš„ï¼Œé€šå¸¸æ˜¯æŠŠä½¿ç”¨æœ€é¢‘ç¹çš„å˜é‡å®šä¹‰ä¸º register çš„ã€‚ å…³äºå¯„å­˜å™¨å˜é‡æœ‰ä»¥ä¸‹äº‹é¡¹éœ€è¦æ³¨æ„ï¼š ä¸ºå¯„å­˜å™¨å˜é‡åˆ†é…å¯„å­˜å™¨æ˜¯åŠ¨æ€å®Œæˆçš„ï¼Œå› æ­¤ï¼Œåªæœ‰å±€éƒ¨å˜é‡å’Œå½¢å¼å‚æ•°æ‰èƒ½å®šä¹‰ä¸ºå¯„å­˜å™¨å˜é‡ã€‚ å±€éƒ¨é™æ€å˜é‡ä¸èƒ½å®šä¹‰ä¸ºå¯„å­˜å™¨å˜é‡ï¼Œå› ä¸ºä¸€ä¸ªå˜é‡åªèƒ½å£°æ˜ä¸ºä¸€ç§å­˜å‚¨ç±»åˆ«ã€‚ å¯„å­˜å™¨çš„é•¿åº¦ä¸€èˆ¬å’Œæœºå™¨çš„å­—é•¿ä¸€è‡´ï¼Œæ‰€ä»¥ï¼Œåªæœ‰è¾ƒçŸ­çš„ç±»å‹å¦‚intã€charã€shortç­‰æ‰é€‚åˆå®šä¹‰ä¸ºå¯„å­˜å™¨å˜é‡ï¼Œè¯¸å¦‚doubleç­‰è¾ƒå¤§çš„ç±»å‹ï¼Œä¸æ¨èå°†å…¶å®šä¹‰ä¸ºå¯„å­˜å™¨ç±»å‹ã€‚ CPUçš„å¯„å­˜å™¨æ•°ç›®æœ‰é™ï¼Œå› æ­¤ï¼Œå³ä½¿å®šä¹‰äº†å¯„å­˜å™¨å˜é‡ï¼Œç¼–è¯‘å™¨å¯èƒ½å¹¶ä¸çœŸæ­£ä¸ºå…¶åˆ†é…å¯„å­˜å™¨ï¼Œè€Œæ˜¯å°†å…¶å½“åšæ™®é€šçš„autoå˜é‡æ¥å¯¹å¾…ï¼Œä¸ºå…¶åˆ†é…æ ˆå†…å­˜ã€‚å½“ç„¶ï¼Œæœ‰äº›ä¼˜ç§€çš„ç¼–è¯‘å™¨ï¼Œèƒ½è‡ªåŠ¨è¯†åˆ«ä½¿ç”¨é¢‘ç¹çš„å˜é‡ï¼Œå¦‚å¾ªç¯æ§åˆ¶å˜é‡ç­‰ï¼Œåœ¨æœ‰å¯ç”¨çš„å¯„å­˜å™¨æ—¶ï¼Œå³ä½¿æ²¡æœ‰ä½¿ç”¨ register å…³é”®å­—ï¼Œä¹Ÿè‡ªåŠ¨ä¸ºå…¶åˆ†é…å¯„å­˜å™¨ï¼Œæ— é¡»ç”±ç¨‹åºå‘˜æ¥æŒ‡å®šã€‚ c++ä¸­register åœ¨æ—©æœŸcè¯­è¨€ç¼–è¯‘å™¨ä¸ä¼šå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå› æ­¤ä½¿ç”¨registerå…³é”®å­—ä¿®é¥°å˜é‡æ˜¯å¾ˆå¥½çš„è¡¥å……ï¼Œå¤§å¤§æé«˜çš„é€Ÿåº¦ã€‚ registerå…³é”®å­—è¯·æ±‚è®©ç¼–è¯‘å™¨å°†å˜é‡aç›´æ¥æ”¾å…¥å¯„å­˜å™¨é‡Œé¢ï¼Œä»¥æé«˜è¯»å–é€Ÿåº¦ï¼Œåœ¨Cè¯­è¨€ä¸­registerå…³é”®å­—ä¿®é¥°çš„å˜é‡ä¸å¯ä»¥è¢«å–åœ°å€ï¼Œä½†æ˜¯c++ä¸­è¿›è¡Œäº†ä¼˜åŒ–ã€‚ c++ä¸­ä¾ç„¶æ”¯æŒregisterå…³é”®å­—ï¼Œä½†æ˜¯c++ç¼–è¯‘å™¨ä¹Ÿæœ‰è‡ªå·±çš„ä¼˜åŒ–æ–¹å¼ï¼Œå³æŸäº›å˜é‡ä¸ç”¨registerå…³é”®å­—è¿›è¡Œä¿®é¥°ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šå°†å¤šæ¬¡è¿ç»­ä½¿ç”¨çš„å˜é‡ä¼˜åŒ–æ”¾å…¥å¯„å­˜å™¨ä¸­ï¼Œä¾‹å¦‚å…¥forå¾ªç¯çš„å¾ªç¯å˜é‡iã€‚ c++ä¸­ä¹Ÿå¯ä»¥å¯¹registerä¿®é¥°çš„å˜é‡å–åœ°å€ï¼Œä¸è¿‡c++ç¼–è¯‘å™¨å‘ç°ç¨‹åºä¸­éœ€è¦å–registerå…³é”®å­—ä¿®é¥°çš„å˜é‡çš„åœ°å€æ—¶ï¼Œregisterå…³é”®å­—çš„å£°æ˜å°†å˜å¾—æ— æ•ˆã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:1:2","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"6.3 c/c++ä¸­è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ« c++å¤šçº¿ç¨‹ç¼–ç¨‹ â€“ è¿›ç¨‹ä¸çº¿ç¨‹åŒºåˆ« c++é¢è¯•-æ“ä½œç³»ç»Ÿç¯‡ é¢è¯•å¿…è€ƒ | è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ« ä½•ä¸ºè¿›ç¨‹(process)? è¿›ç¨‹æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºè¢«æ“ä½œç³»ç»Ÿæ‹‰èµ·æ¥åŠ è½½åˆ°å†…å­˜ä¹‹åä»å¼€å§‹æ‰§è¡Œåˆ°æ‰§è¡Œç»“æŸçš„è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ã€‚ç®€å•æ¥è¯´ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºï¼ˆåº”ç”¨ç¨‹åºï¼Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰çš„ä¸€æ¬¡æ‰§è¡Œã€‚è¿›ç¨‹é€šå¸¸ç”±ç¨‹åºã€æ•°æ®å’Œè¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ç»„æˆã€‚æ¯”å¦‚åŒå‡»æ‰“å¼€ä¸€ä¸ªæ¡Œé¢åº”ç”¨è½¯ä»¶å°±æ˜¯å¼€å¯äº†ä¸€ä¸ªè¿›ç¨‹ã€‚ ä¼ ç»Ÿçš„è¿›ç¨‹æœ‰ä¸¤ä¸ªåŸºæœ¬å±æ€§ï¼šå¯æ‹¥æœ‰èµ„æºçš„ç‹¬ç«‹å•ä½ï¼›å¯ç‹¬ç«‹è°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ã€‚å¯¹äºè¿™å¥è¯æˆ‘çš„ç†è§£æ˜¯ï¼šè¿›ç¨‹å¯ä»¥è·å–æ“ä½œç³»ç»Ÿåˆ†é…çš„èµ„æºï¼Œå¦‚å†…å­˜ç­‰ï¼›è¿›ç¨‹å¯ä»¥å‚ä¸æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ï¼Œå‚ä¸CPUçš„ç«äº‰ï¼Œå¾—åˆ°åˆ†é…çš„æ—¶é—´ç‰‡ï¼Œè·å¾—å¤„ç†æœºï¼ˆCPUï¼‰è¿è¡Œã€‚ è¿›ç¨‹åœ¨åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢ä¸­ï¼Œç³»ç»Ÿå¿…é¡»ä¸ºä¹‹ä»˜å‡ºè¾ƒå¤§çš„æ—¶ç©ºå¼€é”€ï¼Œå› æ­¤åœ¨ç³»ç»Ÿä¸­å¼€å¯çš„è¿›ç¨‹æ•°ä¸å®œè¿‡å¤šã€‚æ¯”å¦‚ä½ åŒæ—¶æ‰“å¼€åå‡ ä¸ªåº”ç”¨è½¯ä»¶è¯•è¯•ï¼Œç”µè„‘è‚¯å®šä¼šå¡æ­»çš„ã€‚äºæ˜¯ç´§æ¥ç€å°±å¼•å…¥äº†çº¿ç¨‹çš„æ¦‚å¿µã€‚ ä½•ä¸ºçº¿ç¨‹(thread)? çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯è¢«ç³»ç»Ÿç‹¬ç«‹åˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚ä¹Ÿæœ‰è¯´ï¼Œçº¿ç¨‹æ˜¯CPUå¯æ‰§è¡Œè°ƒåº¦çš„æœ€å°å•ä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿›ç¨‹æœ¬èº«å¹¶ä¸èƒ½è·å–CPUæ—¶é—´ï¼Œåªæœ‰å®ƒçš„çº¿ç¨‹æ‰å¯ä»¥ã€‚ å¼•å…¥çº¿ç¨‹ä¹‹åï¼Œå°†ä¼ ç»Ÿè¿›ç¨‹çš„ä¸¤ä¸ªåŸºæœ¬å±æ€§åˆ†å¼€äº†ï¼Œçº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹ä½œä¸ºç‹¬ç«‹åˆ†é…èµ„æºçš„å•ä½ã€‚æˆ‘å¯¹è¿™å¥è¯çš„ç†è§£æ˜¯ï¼šçº¿ç¨‹å‚ä¸æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ï¼Œå‚ä¸CPUçš„ç«äº‰ï¼Œå¾—åˆ°åˆ†é…çš„æ—¶é—´ç‰‡ï¼Œè·å¾—å¤„ç†æœºï¼ˆCPUï¼‰è¿è¡Œã€‚è€Œè¿›ç¨‹è´Ÿè´£è·å–æ“ä½œç³»ç»Ÿåˆ†é…çš„èµ„æºï¼Œå¦‚å†…å­˜ã€‚ çº¿ç¨‹åŸºæœ¬ä¸Šä¸æ‹¥æœ‰èµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼Œå®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚ çº¿ç¨‹å…·æœ‰è®¸å¤šä¼ ç»Ÿè¿›ç¨‹æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Œæ•…ç§°ä¸ºâ€œè½»é‡å‹è¿›ç¨‹â€ã€‚åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚ è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ çº¿ç¨‹åˆ†ä¸ºç”¨æˆ·çº§çº¿ç¨‹å’Œå†…æ ¸æ”¯æŒçº¿ç¨‹ä¸¤ç±»ï¼Œç”¨æˆ·çº§çº¿ç¨‹ä¸ä¾èµ–äºå†…æ ¸ï¼Œè¯¥ç±»çº¿ç¨‹çš„åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢éƒ½ä¸åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨æ¥å®ç°; å†…æ ¸æ”¯æŒçº¿ç¨‹ä¾èµ–äºå†…æ ¸ï¼Œå³æ— è®ºæ˜¯åœ¨ç”¨æˆ·è¿›ç¨‹ä¸­çš„çº¿ç¨‹ï¼Œè¿˜æ˜¯åœ¨ç³»ç»Ÿä¸­çš„çº¿ç¨‹ï¼Œå®ƒä»¬çš„åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢éƒ½åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ã€‚ ä½†æ˜¯ï¼Œä¸çº¿ç¨‹ä¸åŒçš„æ˜¯ï¼Œæ— è®ºæ˜¯ç³»ç»Ÿè¿›ç¨‹è¿˜æ˜¯ç”¨æˆ·è¿›ç¨‹ï¼Œåœ¨è¿›è¡Œåˆ‡æ¢æ—¶ï¼Œéƒ½è¦ä¾èµ–äºå†…æ ¸ä¸­çš„è¿›ç¨‹(process)è°ƒåº¦ã€‚å› æ­¤ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆè¿›ç¨‹éƒ½æ˜¯ä¸å†…æ ¸æœ‰å…³çš„ï¼Œæ˜¯åœ¨å†…æ ¸æ”¯æŒä¸‹è¿›ç¨‹åˆ‡æ¢çš„ã€‚å°½ç®¡çº¿ç¨‹å’Œè¿›ç¨‹è¡¨é¢ä¸Šçœ‹èµ·æ¥ç›¸ä¼¼ï¼Œä½†æ˜¯ä»–ä»¬åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸åŒçš„ã€‚ æ ¹æ®æ“ä½œç³»ç»Ÿä¸­çš„çŸ¥è¯†ï¼Œè¿›ç¨‹è‡³å°‘å¿…é¡»æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œé€šå¸¸å°†æ­¤çº¿ç¨‹ç§°ä¸ºä¸»çº¿ç¨‹ã€‚ è¿›ç¨‹è¦ç‹¬ç«‹åœ°å ç”¨ç³»ç»Ÿèµ„æºï¼ˆå¦‚å†…å­˜ï¼‰ï¼Œè€ŒåŒä¸€è¿›ç¨‹çš„çº¿ç¨‹ä¹‹é—´æ˜¯å…±äº«èµ„æºçš„ã€‚è¿›ç¨‹æœ¬èº«å¹¶ä¸èƒ½è·å–CPUæ—¶é—´ï¼Œåªæœ‰å®ƒçš„çº¿ç¨‹æ‰å¯ä»¥ã€‚ å…¶ä»– è¿›ç¨‹åœ¨åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿçš„æ—¶ç©ºå¼€é”€éå¸¸å¤§ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡åˆ›å»ºçº¿ç¨‹æ¥å®Œæˆä»»åŠ¡ï¼Œä»¥å‡å°‘ç¨‹åºå¹¶å‘æ‰§è¡Œæ—¶ä»˜å‡ºçš„æ—¶ç©ºå¼€é”€ã€‚ä¾‹å¦‚å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­è®¾ç½®å¤šä¸ªçº¿ç¨‹ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å—é˜»æ—¶ï¼Œç¬¬äºŒä¸ªçº¿ç¨‹å¯ä»¥ç»§ç»­è¿è¡Œï¼Œå½“ç¬¬äºŒä¸ªçº¿ç¨‹å—é˜»æ—¶ï¼Œç¬¬ä¸‰ä¸ªçº¿ç¨‹å¯ä»¥ç»§ç»­è¿è¡Œâ€¦â€¦ã€‚è¿™æ ·ï¼Œå¯¹äºæ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½ï¼ˆè¿›ç¨‹ï¼‰ï¼Œä¸ç”¨é¢‘ç¹çš„åˆ‡æ¢ï¼Œè¿›ä¸€æ­¥æé«˜äº†ç³»ç»Ÿä¸­å„ç§ç¨‹åºçš„å¹¶å‘ç¨‹åº¦ã€‚ ref: [1].https://blog.csdn.net/qq_41803340/category_10405604.html [å¾…æ•´ç†å†…å®¹] ","date":"2023-07-11","objectID":"/posts/basics_two/:1:3","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"ä¸€.å¸¸è€ƒC++åŸºç¡€æ¦‚å¿µ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"1.C++ä¸‰å¤§ç‰¹æ€§ï¼ˆå°è£…ã€ç»§æ‰¿ã€å¤šæ€ï¼‰ å°è£…ï¼š éšè—ç±»çš„å±æ€§å’Œå®ç°ç»†èŠ‚ï¼Œä»…ä»…å¯¹å¤–æä¾›æ¥å£ï¼Œ å°è£…æ€§å®é™…ä¸Šæ˜¯ç”±ç¼–è¯‘å™¨å»è¯†åˆ«å…³é”®å­—publicã€privateå’Œprotectedæ¥å®ç°çš„ï¼Œ ä½“ç°åœ¨ç±»çš„æˆå‘˜å¯ä»¥æœ‰å…¬æœ‰æˆå‘˜(public)ï¼Œç§æœ‰æˆå‘˜(private)ï¼Œä¿æŠ¤æˆå‘˜(protected)ã€‚ ç§æœ‰æˆå‘˜æ˜¯åœ¨å°è£…ä½“å†…è¢«éšè—çš„éƒ¨åˆ†ï¼Œåªæœ‰ç±»ä½“å†…å£°æ˜çš„å‡½æ•°(ç±»çš„æˆå‘˜å‡½æ•°)æ‰å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ï¼Œ è€Œåœ¨ç±»ä½“å¤–çš„å‡½æ•°æ˜¯ä¸èƒ½è®¿é—®çš„ï¼Œå…¬æœ‰æˆå‘˜(public)æ˜¯å°è£…ä½“ä¸å¤–ç•Œçš„ä¸€ä¸ªæ¥å£ï¼Œ ç±»ä½“å¤–çš„å‡½æ•°å¯ä»¥è®¿é—®å…¬æœ‰æˆå‘˜ï¼Œä¿æŠ¤æˆå‘˜æ˜¯åªæœ‰è¯¥ç±»çš„æˆå‘˜å‡½æ•°å’Œè¯¥ç±»çš„æ´¾ç”Ÿç±»æ‰å¯ä»¥è®¿é—®çš„ã€‚ ä¼˜ç‚¹ï¼šéš”ç¦»å˜åŒ–ï¼›ä¾¿äºä½¿ç”¨ï¼›æé«˜é‡ç”¨æ€§ï¼›æé«˜å®‰å…¨æ€§ ç¼ºç‚¹ï¼šå¦‚æœå°è£…å¤ªå¤šï¼Œå½±å“æ•ˆç‡ï¼›ä½¿ç”¨è€…ä¸èƒ½çŸ¥é“ä»£ç å…·ä½“å®ç°ã€‚ ç»§æ‰¿ï¼š è¢«ç»§æ‰¿çš„æ˜¯çˆ¶ç±»ï¼ˆåŸºç±»ï¼‰ï¼Œç»§æ‰¿å‡ºæ¥çš„æ˜¯å­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ï¼Œå­ç±»æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰çš„ç‰¹æ€§ã€‚ ç»§æ‰¿æ–¹å¼æœ‰å…¬æœ‰ç»§æ‰¿ã€ç§æœ‰ç»§æ‰¿ï¼Œä¿æŠ¤ç»§æ‰¿ã€‚é»˜è®¤æ˜¯ç§æœ‰ç»§æ‰¿ *å…¬æœ‰ç»§æ‰¿ä¸­çˆ¶ç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜åœ¨å­ç±»ä¸­ä¸å˜ï¼Œç§æœ‰çš„åœ¨å­ç±»ä¸­ä¸å¯è®¿é—®ã€‚ *ç§æœ‰ç»§æ‰¿ä¸­çˆ¶ç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜åœ¨å­ç±»ä¸­å˜ä¸ºç§æœ‰ï¼Œä½†ç§æœ‰çš„åœ¨å­ç±»ä¸­ä¸å¯è®¿é—®ã€‚ *ä¿æŠ¤ç»§æ‰¿ä¸­çˆ¶ç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜åœ¨å­ç±»ä¸­å˜ä¸ºä¿æŠ¤ï¼Œä½†ç§æœ‰çš„åœ¨å­ç±»ä¸­ä¸å¯è®¿é—®ã€‚ c++è¯­è¨€å…è®¸å•ç»§æ‰¿å’Œå¤šç»§æ‰¿ ä¼˜ç‚¹ï¼šç»§æ‰¿å‡å°‘äº†é‡å¤çš„ä»£ç ã€ç»§æ‰¿æ˜¯å¤šæ€çš„å‰æã€ç»§æ‰¿å¢åŠ äº†ç±»çš„è€¦åˆæ€§ï¼› ç¼ºç‚¹ï¼šç»§æ‰¿åœ¨ç¼–è¯‘æ—¶åˆ»å°±å®šä¹‰äº†ï¼Œæ— æ³•åœ¨è¿è¡Œæ—¶åˆ»æ”¹å˜çˆ¶ç±»ç»§æ‰¿çš„å®ç°ï¼› çˆ¶ç±»é€šå¸¸è‡³å°‘å®šä¹‰äº†å­ç±»çš„éƒ¨åˆ†è¡Œä¸ºï¼Œçˆ¶ç±»çš„æ”¹å˜éƒ½å¯èƒ½å½±å“å­ç±»çš„è¡Œä¸ºï¼› å¦‚æœç»§æ‰¿ä¸‹æ¥çš„å­ç±»ä¸é€‚åˆè§£å†³æ–°é—®é¢˜ï¼Œçˆ¶ç±»å¿…é¡»é‡å†™æˆ–æ›¿æ¢ï¼Œé‚£ä¹ˆè¿™ç§ä¾èµ–å…³ç³»å°±é™åˆ¶äº†çµæ´»æ€§ï¼Œ æœ€ç»ˆé™åˆ¶äº†å¤ç”¨æ€§ã€‚ è™šç»§æ‰¿ï¼šä¸ºäº†è§£å†³å¤šé‡ç»§æ‰¿ä¸­çš„äºŒä¹‰æ€§é—®é¢˜ï¼Œå®ƒç»´æŠ¤äº†ä¸€å¼ è™šåŸºç±»è¡¨ã€‚ (è±å½¢ç»§æ‰¿é—®é¢˜) å¤šæ€: ref: å¤šæ€çš„å››ç§è¡¨ç°å½¢å¼ è¿è¡Œæ—¶å¤šæ€(è™šå‡½æ•°) ç¼–è¯‘æ—¶å¤šæ€(æ¨¡æ¿) é‡è½½ ç±»å‹è½¬æ¢ è¿è¡Œæ—¶å¤šæ€(Subtype Polymorphism/Runtime Polymorphism) è¿è¡Œæ—¶å¤šæ€å°±æ˜¯æ´¾ç”Ÿç±»é‡å†™åŸºç±»çš„è™šå‡½æ•°ï¼Œåœ¨è°ƒç”¨å‡½æ•°é‡Œï¼Œå‚æ•°ä¸ºåŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œä¼šæ„æˆå¤šæ€ã€‚æˆ‘ä¹‹å‰å†™è¿‡ä¸€ç¯‡å¤šæ€çš„åŸç†ï¼Œå°±æ˜¯åœ¨è®²å¤šæ€(è¿è¡Œæ—¶å¤šæ€)åœ¨åº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„ å¤šæ€çš„åº•å±‚å®ç° ä¸¾ä¸ªä¾‹å­ï¼šæ¯”å¦‚ä¹°ç¥¨è¿™ä¸ªè¡Œä¸ºï¼Œæˆäººå»ä¹°å°±æ˜¯å…¨ä»·ï¼Œå­¦ç”Ÿä¹°å°±æ˜¯åŠä»·ç¥¨ã€‚ä½†æ˜¯ä¸ç®¡æˆäººè¿˜æ˜¯å­¦ç”Ÿéƒ½æ˜¯äººè¿™ä¸ªä½“ç³»ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ ¹æ®è°æ¥ä¹°ç¥¨æ‰èƒ½å†³å®šä»·æ ¼ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å¤šæ€ã€‚ #include \u003ciostream\u003e class ticket { public: virtual void price() = 0; }; class adult : public ticket { public: virtual void price() override { std::cout \u003c\u003c \"æˆäººå…¨ä»·ï¼\" \u003c\u003c std::endl; } }; class student : public ticket { public: virtual void price() override { std::cout \u003c\u003c \"å­¦ç”ŸåŠä»·ï¼\" \u003c\u003c std::endl; } }; void BuyTicket(ticket\u0026 t) { t.price(); } int main(void) { adult a; student s; BuyTicket(a); BuyTicket(s); return 0; } ç¼–è¯‘æ—¶å¤šæ€(Parametric Polymorphism/Compile-Time Polymorphism) ç¼–è¯‘æ—¶å¤šæ€å°±æ˜¯æ¨¡æ¿ã€‚åœ¨ç¨‹åºç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨æ ¹æ®å‚æ•°çš„ç±»å‹ï¼Œå°±å°†ç”ŸæˆæŸç§ç±»å‹çš„å‡½æ•°æˆ–ç±»ã€‚æˆ‘ä¹‹å‰å…³äºæ¨¡æ¿çš„(æ€»ç»“)[https://blog.csdn.net/weixin_42678507/article/details/88658291] ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šAdd() å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å‡½æ•°ï¼Œä½†æ˜¯å¦‚æœä½ å†™ä¸€ä¸ªæ•´å‹çš„ Add å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘æƒ³åŠ  double å‹çš„å‘¢ï¼Ÿä½ å†å†™ä¸€ä¸ª double å‹çš„ Add å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘æƒ³åŠ  char å‹çš„å‘¢ï¼Ÿ è¿™ä¸ªæ—¶å€™å°±ç”¨åˆ°äº†æ¨¡æ¿ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªé€»è¾‘ï¼Œå…·ä½“ç±»å‹ç­‰ç¼–è¯‘æ—¶å†ç”Ÿæˆè¯¥ç±»å‹çš„å‡½æ•°æˆ–ç±»ã€‚ #include \u003ciostream\u003e template\u003cclass T\u003e T Add(T lhs, T rhs) { return lhs + rhs; } int main(void) { Add(1, 2); Add(2.0, 3.0); Add('a', 'b'); return 0; } é‡è½½(Ad-hoc Polymorphism/Overloading) å‡½æ•°åç›¸åŒï¼Œå‚æ•°ä¸åŒå°±æ„æˆäº†é‡è½½ã€‚é‡è½½ä¸»è¦ç”¨äºå‡½æ•°ï¼Œå½“æŸä¸ªå‡½æ•°çš„åŠŸèƒ½æ— æ³•å¤„ç†æŸäº›å‚æ•°çš„æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡è½½ä¸€ä¸ªå‡½æ•°æ¥å•ç‹¬å¤„ç†ã€‚ ä¸¾ä¸ªä¾‹å­ï¼šæ¯”å¦‚è¯´ä¸Šé¢çš„ Add å‡½æ•°ï¼Œå½“å‰å†…ç½®ç±»å‹éƒ½å¯ä»¥å¤„ç†ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä¼ ä¸¤ä¸ªå­—ç¬¦ä¸²æ€ä¹ˆåŠï¼Ÿå°±ä¸å¯ä»¥åƒåˆšæ‰é‚£ä¹ˆåŠ äº†ã€‚å¾—é‡è½½ä¸€ä¸ªå‡½æ•°å•ç‹¬å¤„ç†ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e int Add(int lhs, int rhs) { return lhs + rhs; } std::string Add(const std::string\u0026 lhs, const std::string\u0026 rhs) { std::string ans(lhs); ans += rhs; return ans; } int main(void) { Add(1, 2); Add(\"abc\", \"def\"); return 0; } ç±»å‹è½¬æ¢(Coercion Polymorphism/Casting) ç±»å‹è½¬æ¢ä¸»è¦åˆ†ä¸ºå››ç§ï¼š static_cast: ç›¸å½“äºéšå¼ç±»å‹è½¬æ¢ã€‚ const_cast: è¿™ä¸ªå¯ä»¥å»é™¤ä¸€ä¸ª const å˜é‡çš„ const æ€§è´¨ï¼Œä½¿å¯ä»¥æ”¹å˜å®ƒçš„å€¼ã€‚ reinterpret_cast: ç›¸å½“äºå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ dynamic_cast: è¿™ä¸ªå¯ä»¥ä½¿å­ç±»æŒ‡é’ˆæˆ–å¼•ç”¨èµ‹å€¼ç»™çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚ ç±»å‹è½¬æ¢å¾ˆç®€å•ï¼Œè¿™é‡Œå°±ä¸å¤šèµ˜è¿°äº†ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"2.æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ« æ•°ç»„å’Œé“¾è¡¨æ˜¯ä¸¤ç§ä¸åŒçš„æ•°æ®å­˜å‚¨æ–¹å¼ æ•°ç»„çš„å®šä¹‰ æ•°ç»„æ˜¯ä¸€ç»„å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹çš„å˜é‡çš„é›†åˆï¼Œè¿™äº›å˜é‡ç§°ä¹‹ä¸ºé›†åˆçš„å…ƒç´ ã€‚ æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªç¼–å·ï¼Œç§°ä¹‹ä¸ºä¸‹æ ‡ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥åŒºåˆ«å¹¶è®¿é—®æ•°ç»„å…ƒç´ ï¼Œæ•°ç»„å…ƒç´ çš„ä¸ªæ•°å«åšæ•°æ®çš„é•¿åº¦ã€‚ é“¾è¡¨çš„å®šä¹‰ é“¾è¡¨æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„,æ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„ã€‚ é“¾è¡¨çš„ç‰¹æ€§æ˜¯åœ¨ä¸­é—´ä»»æ„ä½ç½®æ’å…¥å’Œåˆ é™¤å…ƒç´ éƒ½éå¸¸å¿«ï¼Œä¸éœ€è¦ç§»åŠ¨å…¶å®ƒå…ƒç´ ã€‚ å¯¹äºå•å‘é“¾è¡¨è€Œè¨€ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½è¦ä¿å­˜ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚ å¯¹äºåŒå‘é“¾è¡¨è€Œè¨€ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ æ—¢è¦ä¿å­˜æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼Œåˆè¦ä¿å­˜æŒ‡å‘ä¸Šä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚ å¯¹äºåŒå‘å¾ªç¯é“¾è¡¨è€Œè¨€ï¼Œé“¾è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ä¿å­˜ä¸€ä¸ªæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚ æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ä¸»è¦è¡¨ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ æ¯”è¾ƒ æ•°ç»„ é“¾è¡¨ é€»è¾‘ç»“æ„ (1) æ•°ç»„åœ¨å†…å­˜ä¸­è¿ç»­ï¼› (2)ä½¿ç”¨æ•°ç»„ä¹‹å‰ï¼Œå¿…é¡»äº‹å…ˆå›ºå®šæ•°ç»„é•¿åº¦ï¼Œä¸æ”¯æŒåŠ¨æ€æ”¹å˜æ•°ç»„å¤§å°ï¼› (3) æ•°ç»„å…ƒç´ å¢åŠ æ—¶ï¼Œæœ‰å¯èƒ½ä¼šæ•°ç»„è¶Šç•Œï¼› (4) æ•°ç»„å…ƒç´ å‡å°‘æ—¶ï¼Œä¼šé€ æˆå†…å­˜æµªè´¹ï¼› ï¼ˆ5ï¼‰æ•°ç»„å¢åˆ æ—¶éœ€è¦ç§»åŠ¨å…¶å®ƒå…ƒç´  (1) é“¾è¡¨é‡‡ç”¨åŠ¨æ€å†…å­˜åˆ†é…çš„æ–¹å¼ï¼Œåœ¨å†…å­˜ä¸­ä¸è¿ç»­ (2)æ”¯æŒåŠ¨æ€å¢åŠ æˆ–è€…åˆ é™¤å…ƒç´  (3) éœ€è¦æ—¶å¯ä»¥ä½¿ç”¨mallocæˆ–è€…newæ¥ç”³è¯·å†…å­˜ï¼Œä¸ç”¨æ—¶ä½¿ç”¨freeæˆ–è€…deleteæ¥é‡Šæ”¾å†…å­˜ å†…å­˜ç»“æ„ æ•°ç»„ä»æ ˆä¸Šåˆ†é…å†…å­˜ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯è‡ªç”±åº¦å° é“¾è¡¨ä»å †ä¸Šåˆ†é…å†…å­˜ï¼Œè‡ªç”±åº¦å¤§ï¼Œä½†æ˜¯è¦æ³¨æ„å†…å­˜æ³„æ¼ è®¿é—®æ•ˆç‡ æ•°ç»„åœ¨å†…å­˜ä¸­é¡ºåºå­˜å‚¨ï¼Œå¯é€šè¿‡ä¸‹æ ‡è®¿é—®ï¼Œè®¿é—®æ•ˆç‡é«˜ é“¾è¡¨è®¿é—®æ•ˆç‡ä½ï¼Œå¦‚æœæƒ³è¦è®¿é—®æŸä¸ªå…ƒç´ ï¼Œéœ€è¦ä»å¤´éå† è¶Šç•Œé—®é¢˜ æ•°ç»„çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å­˜åœ¨è®¿é—®è¶Šç•Œçš„é£é™© è¶Šç•Œçš„é£é™© åªè¦å¯ä»¥ç”³è¯·å¾—åˆ°é“¾è¡¨ç©ºé—´ï¼Œé“¾è¡¨å°±æ— è¶Šç•Œé£é™© æ•°ç»„å’Œé“¾è¡¨çš„ä½¿ç”¨åœºæ™¯ æ¯”è¾ƒ æ•°ç»„ä½¿ç”¨åœºæ™¯ é“¾è¡¨ä½¿ç”¨åœºæ™¯ ç©ºé—´ æ•°ç»„çš„å­˜å‚¨ç©ºé—´æ˜¯æ ˆä¸Šåˆ†é…çš„ï¼Œå­˜å‚¨å¯†åº¦å¤§ï¼Œå½“è¦æ±‚å­˜å‚¨çš„å¤§å°å˜åŒ–ä¸å¤§æ—¶ï¼Œä¸”å¯ä»¥äº‹å…ˆç¡®å®šå¤§å°ï¼Œå®œé‡‡ç”¨æ•°ç»„å­˜å‚¨æ•°æ® é“¾è¡¨çš„å­˜å‚¨ç©ºé—´æ˜¯å †ä¸ŠåŠ¨æ€ç”³è¯·çš„ï¼Œå½“è¦æ±‚å­˜å‚¨çš„é•¿åº¦å˜åŒ–è¾ƒå¤§æ—¶ï¼Œä¸”äº‹å…ˆæ— æ³•ä¼°é‡æ•°æ®è§„æ¨¡ï¼Œå®œé‡‡ç”¨é“¾è¡¨å­˜å‚¨ æ—¶é—´ æ•°ç»„è®¿é—®æ•ˆç‡é«˜ã€‚å½“çº¿æ€§è¡¨çš„æ“ä½œä¸»è¦æ˜¯è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¾ˆå°‘æ’å…¥å’Œåˆ é™¤æ—¶ï¼Œå®œé‡‡ç”¨æ•°ç»„ç»“æ„ é“¾è¡¨æ’å…¥ã€åˆ é™¤æ•ˆç‡é«˜ï¼Œå½“çº¿æ€§è¡¨è¦æ±‚é¢‘ç¹æ’å…¥å’Œåˆ é™¤æ—¶ï¼Œå®œé‡‡ç”¨é“¾è¡¨ç»“æ„ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:2","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"3. æ™ºèƒ½æŒ‡é’ˆ æˆ‘ä»¬çŸ¥é“é™¤äº†é™æ€å†…å­˜å’Œæ ˆå†…å­˜å¤–ï¼Œæ¯ä¸ªç¨‹åºè¿˜æœ‰ä¸€ä¸ªå†…å­˜æ± ï¼Œè¿™éƒ¨åˆ†å†…å­˜è¢«ç§°ä¸ºè‡ªç”±ç©ºé—´æˆ–è€…å †ã€‚ç¨‹åºç”¨å †æ¥å­˜å‚¨åŠ¨æ€åˆ†é…çš„å¯¹è±¡å³é‚£äº›åœ¨ç¨‹åºè¿è¡Œæ—¶åˆ†é…çš„å¯¹è±¡ï¼Œå½“åŠ¨æ€å¯¹è±¡ä¸å†ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬çš„ä»£ç å¿…é¡»æ˜¾å¼çš„é”€æ¯å®ƒä»¬ã€‚ åœ¨C++ä¸­ï¼ŒåŠ¨æ€å†…å­˜çš„ç®¡ç†æ˜¯ç”¨ä¸€å¯¹è¿ç®—ç¬¦å®Œæˆçš„ï¼šnewå’Œdeleteï¼Œnew:åœ¨åŠ¨æ€å†…å­˜ä¸­ä¸ºå¯¹è±¡åˆ†é…ä¸€å—ç©ºé—´å¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆï¼Œdeleteï¼šæŒ‡å‘ä¸€ä¸ªåŠ¨æ€ç‹¬äº«çš„æŒ‡é’ˆï¼Œé”€æ¯å¯¹è±¡ï¼Œå¹¶é‡Šæ”¾ä¸ä¹‹å…³è”çš„å†…å­˜ã€‚ åŠ¨æ€å†…å­˜ç®¡ç†ç»å¸¸ä¼šå‡ºç°ä¸¤ç§é—®é¢˜ï¼šä¸€ç§æ˜¯å¿˜è®°é‡Šæ”¾å†…å­˜ï¼Œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼›ä¸€ç§æ˜¯å°šæœ‰æŒ‡é’ˆå¼•ç”¨å†…å­˜çš„æƒ…å†µä¸‹å°±é‡Šæ”¾äº†å®ƒï¼Œå°±ä¼šäº§ç”Ÿå¼•ç”¨éæ³•å†…å­˜çš„æŒ‡é’ˆã€‚ ä¸ºäº†æ›´åŠ å®¹æ˜“ï¼ˆæ›´åŠ å®‰å…¨ï¼‰çš„ä½¿ç”¨åŠ¨æ€å†…å­˜ï¼Œå¼•å…¥äº†æ™ºèƒ½æŒ‡é’ˆçš„æ¦‚å¿µã€‚æ™ºèƒ½æŒ‡é’ˆçš„è¡Œä¸ºç±»ä¼¼å¸¸è§„æŒ‡é’ˆï¼Œé‡è¦çš„åŒºåˆ«æ˜¯å®ƒè´Ÿè´£è‡ªåŠ¨é‡Šæ”¾æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚æ ‡å‡†åº“æä¾›çš„ä¸¤ç§æ™ºèƒ½æŒ‡é’ˆçš„åŒºåˆ«åœ¨äºç®¡ç†åº•å±‚æŒ‡é’ˆçš„æ–¹æ³•ä¸åŒï¼Œshared_ptrå…è®¸å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œunique_ptråˆ™â€œç‹¬å â€æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚æ ‡å‡†åº“è¿˜å®šä¹‰äº†ä¸€ç§åä¸ºweak_ptrçš„ä¼´éšç±»ï¼Œå®ƒæ˜¯ä¸€ç§å¼±å¼•ç”¨ï¼ŒæŒ‡å‘shared_ptræ‰€ç®¡ç†çš„å¯¹è±¡ï¼Œè¿™ä¸‰ç§æ™ºèƒ½æŒ‡é’ˆéƒ½å®šä¹‰åœ¨memoryå¤´æ–‡ä»¶ä¸­ã€‚ 1 æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨ æ™ºèƒ½æŒ‡é’ˆæ˜¯ä¸€ä¸ªç±»ï¼Œç”¨æ¥å­˜å‚¨æŒ‡å‘åŠ¨æ€åˆ†é…å¯¹è±¡çš„æŒ‡é’ˆï¼Œè´Ÿè´£è‡ªåŠ¨é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œé˜²æ­¢å †å†…å­˜æ³„æ¼ã€‚åŠ¨æ€åˆ†é…çš„èµ„æºï¼Œäº¤ç»™ä¸€ä¸ªç±»å¯¹è±¡å»ç®¡ç†ï¼Œå½“ç±»å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°é‡Šæ”¾èµ„æº 2 æ™ºèƒ½æŒ‡é’ˆçš„ç§ç±»: shared_ptrã€unique_ptrã€weak_ptrã€auto_ptr å››ç§æŒ‡é’ˆè¯¦æƒ… 2.1 æ™ºèƒ½æŒ‡é’ˆçš„å®ç°åŸç† æ™ºèƒ½æŒ‡é’ˆçš„å®ç°åŸç†å°±æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å°è£…äº†ç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œç„¶ååœ¨ææ„å‡½æ•°é‡Œå¯¹æˆ‘ä»¬çš„ç±»å¯¹è±¡æŒ‡é’ˆè¿›è¡Œé‡Šæ”¾ï¼Œå› ä¸ºç±»çš„ææ„æ˜¯åœ¨ç±»å¯¹è±¡ç”Ÿå‘½æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±çœå»äº†æ‰‹åŠ¨é‡Šæ”¾å†…å­˜çš„æ“ä½œï¼Œé¿å…å¿˜è®°æ‰‹åŠ¨é‡Šæ”¾å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚ 2.2 C++11å››ç§æ™ºèƒ½æŒ‡é’ˆæ€»ç»“ 2.2.1 auto_ptrï¼š auto_pträ»¥å‰æ˜¯ç”¨åœ¨C98ä¸­ï¼ŒC++11è¢«æŠ›å¼ƒï¼Œå¤´æ–‡ä»¶ä¸€èˆ¬ç”¨æ¥ä½œä¸ºç‹¬å æŒ‡é’ˆ auto_ptrè¢«èµ‹å€¼æˆ–è€…æ‹·è´åï¼Œå¤±å»å¯¹åŸæŒ‡é’ˆçš„ç®¡ç† auto_pträ¸èƒ½ç®¡ç†æ•°ç»„æŒ‡é’ˆï¼Œå› ä¸ºauto_ptrçš„å†…éƒ¨å®ç°ä¸­ï¼Œææ„å‡½æ•°ä¸­åˆ é™¤å¯¹è±¡ä½¿ç”¨deleteè€Œä¸æ˜¯delete[]ï¼Œé‡Šæ”¾å†…å­˜çš„æ—¶å€™ä»…é‡Šæ”¾äº†æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç©ºé—´ï¼Œä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚ auto_pträ¸èƒ½ä½œä¸ºå®¹å™¨å¯¹è±¡ï¼Œå› ä¸ºSTLå®¹å™¨ä¸­çš„å…ƒç´ ç»å¸¸è¦æ”¯æŒæ‹·è´ï¼Œèµ‹å€¼ç­‰æ“ä½œã€‚ 2.2.2 unique_ptr: C++11ä¸­ç”¨æ¥æ›¿ä»£auto_ptr æ‹·è´æ„é€ å’Œèµ‹å€¼è¿ç®—ç¬¦è¢«ç¦ç”¨ï¼Œä¸èƒ½è¿›è¡Œæ‹·è´æ„é€ å’Œèµ‹å€¼è¿ç®— è™½ç„¶ç¦ç”¨äº†æ‹·è´æ„é€ å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼Œä½†unique_ptrå¯ä»¥ä½œä¸ºè¿”å›å€¼ï¼Œç”¨äºä»æŸä¸ªå‡½æ•°ä¸­è¿”å›åŠ¨æ€ç”³è¯·å†…å­˜çš„æ‰€æœ‰æƒï¼Œæœ¬è´¨ä¸Šæ˜¯ç§»åŠ¨æ‹·è´ï¼Œå°±æ˜¯ä½¿ç”¨std:move()å‡½æ•°ï¼Œå°†æ‰€æœ‰æƒè½¬ç§»ã€‚ 2.2.3 share_ptr: å¤šä¸ªæŒ‡é’ˆå¯ä»¥æŒ‡å‘ç›¸åŒçš„å¯¹è±¡ï¼Œè°ƒç”¨release()è®¡æ•°-1ï¼Œè®¡æ•°0æ—¶èµ„æºé‡Šæ”¾ .use_count()æŸ¥è®¡æ•° .reset()æ”¾å¼ƒå†…éƒ¨æ‰€æœ‰æƒ share_ptrå¤šæ¬¡å¼•ç”¨åŒä¸€æ•°æ®ä¼šå¯¼è‡´å†…å­˜å¤šæ¬¡é‡Šæ”¾ å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´æ­»é”ï¼Œ å¼•ç”¨è®¡æ•°ä¸æ˜¯åŸå­æ“ä½œã€‚ shared_ptr æœ‰ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼Œä¸€ä¸ªæ˜¯æŒ‡å‘ å¯¹è±¡çš„æŒ‡é’ˆ ptrï¼Œå¦ä¸€ä¸ªæ˜¯ ref_count æŒ‡é’ˆï¼ˆåŒ…å«vptrã€use_countã€weak_countã€ptrç­‰ï¼‰ï¼› åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° shared_ptr\u003cFoo\u003e x(new Foo); shared_ptr\u003cFoo\u003e y = x; æ­¥éª¤ä¸€ï¼š `y=x` æ¶‰åŠä¸¤ä¸ªæˆå‘˜çš„å¤åˆ¶ï¼Œè¿™ä¸¤æ­¥æ‹·è´ä¸ä¼šåŒæ—¶ï¼ˆåŸå­ï¼‰å‘ç”Ÿï¼Œä¸­é—´æ­¥éª¤ 1ï¼Œå¤åˆ¶ ptr æŒ‡é’ˆï¼Œä¸­é—´æ­¥éª¤ 2ï¼Œå¤åˆ¶ ref_count æŒ‡é’ˆï¼Œå¯¼è‡´å¼•ç”¨è®¡æ•°åŠ  1 æ­¥éª¤äºŒ: å› ä¸ºæ˜¯ä¸¤æ­¥ï¼Œå¦‚æœæ²¡æœ‰ mutex ä¿æŠ¤ï¼Œé‚£ä¹ˆåœ¨å¤šçº¿ç¨‹é‡Œå°±æœ‰æ•°æ®ç«äº‰ã€‚ å¤šçº¿ç¨‹è¯»å†™åŒä¸€ä¸ª shared_ptr å¿…é¡»åŠ é”ã€‚ 2.2.4 weak_ptr: 1.è§£å†³ä¸¤ä¸ªshare_pträº’ç›¸å¼•ç”¨äº§ç”Ÿæ­»é”ï¼Œè®¡æ•°æ°¸è¿œé™ä¸åˆ°0ï¼Œæ²¡åŠæ³•è¿›è¡Œèµ„æºé‡Šæ”¾ï¼Œé€ æˆå†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚ 2.ä½¿ç”¨æ—¶é…åˆshare_pträ½¿ç”¨ï¼ŒæŠŠå…¶ä¸­ä¸€ä¸ªshare_ptræ›´æ¢ä¸ºweak_ptrã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:3","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"4. é‡è½½ã€é‡å†™ã€é‡å®šä¹‰ (1) é‡è½½ï¼ˆoverloadï¼‰ï¼š æŒ‡å‡½æ•°åç›¸åŒï¼Œä½†æ˜¯å®ƒçš„å‚æ•°è¡¨åˆ—ä¸ªæ•°æˆ–é¡ºåºï¼Œç±»å‹ä¸åŒã€‚ä½†æ˜¯ä¸èƒ½é è¿”å›ç±»å‹æ¥åˆ¤æ–­ã€‚ a ç›¸åŒçš„èŒƒå›´ï¼ˆåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼‰ b å‡½æ•°åå­—ç›¸åŒã€ å‚æ•°ä¸åŒ c virtualå…³é”®å­—å¯æœ‰å¯æ—  d è¿”å›å€¼å¯ä»¥ä¸åŒï¼› (2) é‡å†™ï¼ˆè¦†ç›–override)æ˜¯æŒ‡æ´¾ç”Ÿç±»å‡½æ•°è¦†ç›–åŸºç±»å‡½æ•°ï¼Œç‰¹å¾æ˜¯ï¼š a ä¸åŒçš„èŒƒå›´ï¼Œåˆ†åˆ«ä½äºåŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­ b å‡½æ•°çš„åå­—ç›¸åŒã€ å‚æ•°ç›¸åŒ c åŸºç±»å‡½æ•°å¿…é¡»æœ‰virtualå…³é”®å­—ï¼Œä¸èƒ½æœ‰static d è¿”å›å€¼ç›¸åŒï¼ˆæˆ–è€…åå˜ï¼‰ï¼Œå¦åˆ™æŠ¥é”™ï¼› e é‡å†™å‡½æ•°çš„è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒã€‚å°½ç®¡virtualæ˜¯privateçš„ï¼Œæ´¾ç”Ÿç±»ä¸­é‡å†™æ”¹å†™ä¸ºpublic, protectedä¹Ÿæ˜¯å¯ä»¥çš„ (3) é‡å®šä¹‰(éšè—redefine)æ˜¯æŒ‡æ´¾ç”Ÿç±»çš„å‡½æ•°å±è”½äº†ä¸å…¶åŒåçš„åŸºç±»å‡½æ•°ï¼Œç‰¹å¾æ˜¯ï¼š a ä¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸï¼ˆåˆ†åˆ«ä½äºæ´¾ç”Ÿç±»ä¸åŸºç±»ï¼‰ b å‡½æ•°åå­—ç›¸åŒ c è¿”å›å€¼å¯ä»¥ä¸åŒ d è§„åˆ™ï¼š å¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°å’ŒåŸºç±»çš„å‡½æ•°åŒåï¼Œä½†æ˜¯å‚æ•°ä¸åŒï¼Œæ­¤æ—¶ï¼Œä¸ç®¡æœ‰æ— virtualï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ï¼› å¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°ä¸åŸºç±»çš„å‡½æ•°åŒåï¼Œå¹¶ä¸”å‚æ•°ä¹Ÿç›¸åŒï¼Œä½†æ˜¯åŸºç±»å‡½æ•°æ²¡æœ‰vitualå…³é”®å­—ï¼Œæ­¤æ—¶ï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ã€‚ ps: å¤šæ€æ€§å¯ä»¥åˆ†ä¸ºé™æ€å¤šæ€æ€§ï¼ˆæ–¹æ³•çš„é‡è½½ï¼Œä¸€ä¸ªç±»ï¼‰å’ŒåŠ¨æ€å¤šæ€æ€§ï¼ˆæ–¹æ³•çš„è¦†ç›–ï¼Œæœ‰ç»§æ‰¿å…³ç³»çš„ç±»ä¹‹é—´çš„è¡Œä¸ºï¼‰ã€‚è¿›è€Œå¤šæ€æ€§å¯ä»¥ç”±é‡è½½å’Œè¦†ç›–æ¥å®ç°ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:4","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"5.staticä¸conståŒºåˆ«å’Œä½œç”¨ static: 1.**staticå±€éƒ¨å˜é‡**å°†ä¸€ä¸ªå˜é‡å£°æ˜ä¸ºå‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå±€éƒ¨å˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®Œä¸ä¼šé‡Šæ”¾ï¼Œè€Œæ˜¯ç»§ç»­ä¿ç•™åœ¨å†…å­˜ä¸­ï¼› 2.**staticå…¨å±€å˜é‡**è¡¨ç¤ºä¸€ä¸ªå˜é‡åœ¨å½“å‰æ–‡ä»¶çš„å…¨å±€å¯ä»¥è®¿é—®ï¼› 3.**staticå‡½æ•°**è¡¨ç¤ºä¸€ä¸ªå‡½æ•°åªèƒ½åœ¨å½“å‰æ–‡ä»¶ä¸­è¢«è®¿é—®ï¼› 4.**staticç±»æˆå‘˜å˜é‡**è¡¨ç¤ºè¿™ä¸ªæˆå‘˜ä¸ºå…¨ç±»æ‰€å…±æœ‰ï¼› 5.**staticç±»æˆå‘˜å‡½æ•°**è¡¨ç¤ºè¿™ä¸ªå‡½æ•°ä¸ºå…¨ç±»æ‰€æœ‰ï¼Œä¸”åªèƒ½è®¿é—®æˆå‘˜å˜é‡ã€‚ 6.å…¨å±€å˜é‡åœ¨æ•´ä¸ªå·¥ç¨‹æ–‡ä»¶å†…æœ‰æ•ˆï¼›é™æ€å…¨å±€å˜é‡åªåœ¨å®šä¹‰å®ƒçš„æ–‡ä»¶ä¸­æœ‰æ•ˆï¼› 7.é™æ€å±€éƒ¨å˜é‡åªåœ¨å®šä¹‰å®ƒçš„å‡½æ•°å†…æœ‰æ•ˆï¼Œä¸”ç¨‹åºåªåˆ†é…ä¸€æ¬¡å†…å­˜ï¼Œå‡½æ•°è¿”å›æ—¶ä¸ä¼šé‡Šæ”¾ï¼Œä¸‹æ¬¡è°ƒç”¨æ—¶ä¸ä¼šé‡æ–°èµ‹å€¼ï¼Œè¿˜ä¿ç•™ä¸Šæ¬¡ç»“æœå€¼ï¼›å±€éƒ¨å˜é‡åœ¨å‡½æ•°è¿”å›æ—¶å°±é‡Šæ”¾æ‰ï¼› 8.å…¨å±€å˜é‡å’Œé™æ€å˜é‡ç¼–è¯‘å™¨ä¼šé»˜è®¤åˆå§‹åŒ–ä¸º0ï¼›å±€éƒ¨å˜é‡çš„é»˜è®¤å€¼æœªçŸ¥ï¼› 9.å±€éƒ¨é™æ€å˜é‡ä¸å…¨å±€å˜é‡å…±äº«å…¨å±€æ•°æ®ï¼Œä½†æ˜¯é™æ€å±€éƒ¨å˜é‡å€¼åœ¨å®šä¹‰è¯¥å˜é‡çš„å‡½æ•°å†…éƒ¨å¯è§ã€‚ 10.é™æ€æˆå‘˜ï¼ˆé™æ€æˆå‘˜å‡½æ•°ï¼‰ä¸éé™æ€æˆå‘˜ï¼ˆæˆå‘˜å‡½æ•°ï¼‰çš„åŒºåˆ«åœ¨äºæœ‰æ— thisæŒ‡é’ˆï¼›é™æ€æˆå‘˜æ˜¯é™æ€å­˜å‚¨ï¼Œå¿…é¡»è¿›è¡Œåˆå§‹åŒ–ï¼› 11.é™æ€æˆå‘˜å‡½æ•°è®¿é—®éé™æ€æˆå‘˜æŠ¥é”™: é™æ€æˆå‘˜åœ¨ç±»åŠ è½½æ—¶å°±å·²ç»åˆ†é…å†…å­˜ï¼Œè€Œæ­¤æ—¶éé™æ€æˆå‘˜å°šæœªåˆ†é…å†…å­˜ï¼Œè®¿é—®ä¸å­˜åœ¨çš„å†…å­˜è‡ªç„¶ä¼šæŠ¥é”™ï¼› const 1.\u003cfont color=red\u003econstå¸¸é‡\u003c/font\u003e å®šä¹‰æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä»¥åä¸èƒ½ä¿®æ”¹ï¼› 2.\u003cfont color=red\u003econstå½¢å‚\u003c/font\u003e è¯¥å½¢å‚åœ¨å‡½æ•°é‡Œä¸èƒ½è¢«ä¿®æ”¹ï¼› 3.\u003cfont color=red\u003econstä¿®é¥°ç±»æˆå‘˜å‡½æ•°\u003c/font\u003e è¯¥å‡½æ•°å¯¹æˆå‘˜å˜é‡åªèƒ½è¿›è¡Œè¯»æ“ä½œï¼› staticå…³é”®å­—ä½œç”¨ 1.å‡½æ•°ä½“å†…staticå˜é‡çš„ä½œç”¨èŒƒå›´ä¸ºè¯¥å‡½æ•°ä½“ï¼Œè¯¥å˜é‡çš„å†…å­˜åªè¢«åˆ†é…ä¸€æ¬¡ï¼Œå› æ­¤è¯¥å€¼åœ¨ä¸‹æ¬¡è°ƒç”¨æ—¶è¿˜ç»´æŒä¸Šä¸€æ¬¡çš„å€¼ï¼› 2.åœ¨æ¨¡å—å†…çš„staticå‡½æ•°å’Œå˜é‡å¯ä»¥è¢«å¯ä»¥è¢«æ¨¡å—å†…çš„å‡½æ•°è®¿é—®ï¼Œä¸èƒ½è¢«æ¨¡å—å¤–çš„å‡½æ•°è®¿é—®ï¼› 3.åœ¨ç±»å†…çš„staticæˆå‘˜å˜é‡ä¸ºæ•´ä¸ªç±»æ‰€æœ‰ï¼Œç±»çš„æ‰€æœ‰å¯¹è±¡åªæœ‰ä¸€ä»½æ‹·è´ï¼› 4.åœ¨ç±»å†…çš„staticæˆå‘˜å‡½æ•°ä¸ºæ•´ä¸ªç±»æ‰€æœ‰ï¼Œè¿™ä¸ªå‡½æ•°ä¸æ¥æ”¶thisæŒ‡é’ˆï¼Œå› æ­¤åªèƒ½è®¿é—®ç±»çš„staticæˆå‘˜å˜é‡ï¼› constå…³é”®å­— 1.é˜»æ­¢ä¸€ä¸ªå˜é‡è¢«æ”¹å˜ï¼› 2.å£°æ˜å¸¸é‡æŒ‡é’ˆå’ŒæŒ‡é’ˆå¸¸é‡ï¼› 3.constä¿®é¥°å½¢å‚ï¼Œè¡¨ç¤ºä¸ºè¾“å…¥å‚æ•°ï¼Œåœ¨å‡½æ•°ä½“å†…ä¸èƒ½ä¿®æ”¹è¯¥å‚æ•°çš„å€¼ï¼› 4.constä¿®é¥°æˆå‘˜å‡½æ•°ï¼Œè¡¨æ˜ä¸ºä¸€ä¸ªå¸¸å‡½æ•°ï¼Œä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡çš„å€¼ï¼› 5.ç±»çš„æˆå‘˜å‡½æ•°ï¼Œæœ‰æ—¶å¿…é¡»è¿”å›constç±»å‹çš„å€¼ï¼Œä½¿å¾—è¿”å›å€¼ä¸èƒ½ä¸ºå·¦å€¼ã€‚ constä¿®é¥°æŒ‡é’ˆæœ‰ä¸‰ç§æƒ…å†µ constä¿®é¥°æŒ‡é’ˆ â€” å¸¸é‡æŒ‡é’ˆ (constä¿®é¥°çš„æ˜¯æŒ‡é’ˆ,æŒ‡é’ˆæŒ‡å‘å¯ä»¥æ”¹,æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¸å¯ä»¥æ›´æ”¹) const int * p1 = \u0026a; p1 = \u0026b; //æ­£ç¡® //*p1 = 100; æŠ¥é”™ constä¿®é¥°å¸¸é‡ â€” æŒ‡é’ˆå¸¸é‡ (constä¿®é¥°çš„æ˜¯å¸¸é‡,æŒ‡é’ˆæŒ‡å‘ä¸å¯ä»¥æ”¹,æŒ‡é’ˆæŒ‡å‘çš„å€¼å¯ä»¥æ›´æ”¹) int * const p2 = \u0026a; //p2 = \u0026b; //é”™è¯¯ *p2 = 100; //æ­£ç¡® constå³ä¿®é¥°æŒ‡é’ˆ,åˆä¿®é¥°å¸¸é‡ (constæ—¢ä¿®é¥°æŒ‡é’ˆåˆä¿®é¥°å¸¸é‡ï¼Œéƒ½ä¸å¯ä»¥æ”¹) const int * const p3 = \u0026a; //p3 = \u0026b; //é”™è¯¯ //*p3 = 100; //é”™è¯¯ æŠ€å·§:çœ‹constå³ä¾§ç´§è·Ÿç€çš„æ˜¯æŒ‡é’ˆè¿˜æ˜¯å¸¸é‡, æ˜¯æŒ‡é’ˆå°±æ˜¯å¸¸æŒ‡é’ˆ,æ˜¯å¸¸é‡å°±æ˜¯æŒ‡é’ˆå¸¸é‡ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:5","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"6. constä¸å®å®šä¹‰ï¼ˆ#defineï¼‰åŒºåˆ«å’Œä½œç”¨ const å®šä¹‰çš„æ˜¯å˜é‡ä¸æ˜¯å¸¸é‡ï¼Œåªæ˜¯è¿™ä¸ªå˜é‡çš„å€¼ä¸å…è®¸æ”¹å˜ï¼Œæ˜¯å¸¸å˜é‡ï¼Œå¸¦æœ‰ç±»å‹ã€‚ç¼–è¯‘è¿è¡Œçš„æ—¶å€™èµ·ä½œç”¨ï¼Œå­˜åœ¨ç±»å‹æ£€æŸ¥ã€‚ define å®šä¹‰çš„æ˜¯ä¸å¸¦ç±»å‹çš„å¸¸æ•°ï¼Œåªè¿›è¡Œç®€å•çš„å­—ç¬¦æ›¿æ¢ã€‚åœ¨é¢„ç¼–è¯‘çš„æ—¶å€™èµ·ä½œç”¨ï¼Œä¸å­˜åœ¨ç±»å‹æ£€æŸ¥ã€‚ 1ã€ä¸¤è€…çš„åŒºåˆ« (1) ç¼–è¯‘å™¨å¤„ç†æ–¹å¼ä¸åŒ #define å®æ˜¯åœ¨é¢„å¤„ç†é˜¶æ®µå±•å¼€ã€‚ const å¸¸é‡æ˜¯ç¼–è¯‘è¿è¡Œé˜¶æ®µä½¿ç”¨ã€‚ (2) ç±»å‹å’Œå®‰å…¨æ£€æŸ¥ä¸åŒ #define å®æ²¡æœ‰ç±»å‹ï¼Œä¸åšä»»ä½•ç±»å‹æ£€æŸ¥ï¼Œä»…ä»…æ˜¯å±•å¼€ã€‚ const å¸¸é‡æœ‰å…·ä½“çš„ç±»å‹ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µä¼šæ‰§è¡Œç±»å‹æ£€æŸ¥ã€‚ (3) å­˜å‚¨æ–¹å¼ä¸åŒ #defineå®ä»…ä»…æ˜¯å±•å¼€ï¼Œæœ‰å¤šå°‘åœ°æ–¹ä½¿ç”¨ï¼Œå°±å±•å¼€å¤šå°‘æ¬¡ï¼Œä¸ä¼šåˆ†é…å†…å­˜ã€‚ï¼ˆå®å®šä¹‰ä¸åˆ†é…å†…å­˜ï¼Œå˜é‡å®šä¹‰åˆ†é…å†…å­˜ã€‚ï¼‰ constå¸¸é‡ä¼šåœ¨å†…å­˜ä¸­åˆ†é…(å¯ä»¥æ˜¯å †ä¸­ä¹Ÿå¯ä»¥æ˜¯æ ˆä¸­)ã€‚ (4) const å¯ä»¥èŠ‚çœç©ºé—´ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…ã€‚ ä¾‹å¦‚ï¼š const å®šä¹‰å¸¸é‡ä»æ±‡ç¼–çš„è§’åº¦æ¥çœ‹ï¼Œåªæ˜¯ç»™å‡ºäº†å¯¹åº”çš„å†…å­˜åœ°å€ï¼Œè€Œä¸æ˜¯è±¡ #define ä¸€æ ·ç»™å‡ºçš„æ˜¯ç«‹å³æ•°ï¼Œæ‰€ä»¥ï¼Œconst å®šä¹‰çš„å¸¸é‡åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åªæœ‰ä¸€ä»½æ‹·è´ï¼ˆå› ä¸ºæ˜¯å…¨å±€çš„åªè¯»å˜é‡ï¼Œå­˜åœ¨é™æ€åŒºï¼‰ï¼Œè€Œ #define å®šä¹‰çš„å¸¸é‡åœ¨å†…å­˜ä¸­æœ‰è‹¥å¹²ä¸ªæ‹·è´ã€‚ (5) æé«˜äº†æ•ˆç‡ã€‚ ç¼–è¯‘å™¨é€šå¸¸ä¸ä¸ºæ™®é€šconstå¸¸é‡åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œè€Œæ˜¯å°†å®ƒä»¬ä¿å­˜åœ¨ç¬¦å·è¡¨ä¸­ï¼Œè¿™ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªç¼–è¯‘æœŸé—´çš„å¸¸é‡ï¼Œæ²¡æœ‰äº†å­˜å‚¨ä¸è¯»å†…å­˜çš„æ“ä½œï¼Œä½¿å¾—å®ƒçš„æ•ˆç‡ä¹Ÿå¾ˆé«˜ã€‚ (6) å®æ›¿æ¢åªä½œæ›¿æ¢ï¼Œä¸åšè®¡ç®—ï¼Œä¸åšè¡¨è¾¾å¼æ±‚è§£;å®é¢„ç¼–è¯‘æ—¶å°±æ›¿æ¢äº†ï¼Œç¨‹åºè¿è¡Œæ—¶ï¼Œå¹¶ä¸åˆ†é…å†…å­˜ã€‚è®¡ç®—æ—¶æ³¨æ„è¾¹ç¼˜æ•ˆåº” ","date":"2023-07-11","objectID":"/posts/basics_two/:2:6","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"7.è™šå‡½æ•°å’Œçº¯è™šå‡½æ•°åŒºåˆ« 1.è™šå‡½æ•°å’Œçº¯è™šå‡½æ•°å¯ä»¥å®šä¹‰åœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œå«æœ‰çº¯è™šå‡½æ•°çš„ç±»è¢«ç§°ä¸ºæŠ½è±¡ç±»ï¼Œè€Œåªå«æœ‰è™šå‡½æ•°çš„ç±»ä¸èƒ½è¢«ç§°ä¸ºæŠ½è±¡ç±»ã€‚ 2.è™šå‡½æ•°å¯ä»¥è¢«ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è¢«å­ç±»é‡è½½ä»¥åï¼Œä»¥å¤šæ€çš„å½¢å¼è°ƒç”¨ï¼Œè€Œçº¯è™šå‡½æ•°å¿…é¡»åœ¨å­ç±»ä¸­å®ç°è¯¥å‡½æ•°æ‰å¯ä»¥ä½¿ç”¨ï¼Œå› ä¸ºçº¯è™šå‡½æ•°åœ¨åŸºç±»æœ‰å£°æ˜è€Œæ²¡æœ‰å®šä¹‰ã€‚ 3.è™šå‡½æ•°å’Œçº¯è™šå‡½æ•°éƒ½å¯ä»¥åœ¨å­ç±»ä¸­è¢«é‡è½½ï¼Œä»¥å¤šæ€çš„å½¢å¼è¢«è°ƒç”¨ã€‚ 4.è™šå‡½æ•°å’Œçº¯è™šå‡½æ•°é€šå¸¸å­˜åœ¨äºæŠ½è±¡åŸºç±»ä¹‹ä¸­ï¼Œè¢«ç»§æ‰¿çš„å­ç±»é‡è½½ï¼Œç›®çš„æ˜¯æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ã€‚ 5.è™šå‡½æ•°çš„å®šä¹‰å½¢å¼ï¼švirtual{};çº¯è™šå‡½æ•°çš„å®šä¹‰å½¢å¼ï¼švirtual { } = 0;åœ¨è™šå‡½æ•°å’Œçº¯è™šå‡½æ•°çš„å®šä¹‰ä¸­ä¸èƒ½æœ‰staticæ ‡è¯†ç¬¦ï¼ŒåŸå› å¾ˆç®€å•ï¼Œè¢«staticä¿®é¥°çš„å‡½æ•°åœ¨ç¼–è¯‘æ—¶è¦æ±‚å‰æœŸç»‘å®š,ç„¶è€Œè™šå‡½æ•°å´æ˜¯åŠ¨æ€ç»‘å®šï¼Œè€Œä¸”è¢«ä¸¤è€…ä¿®é¥°çš„å‡½æ•°ç”Ÿå‘½å‘¨æœŸä¹Ÿä¸ä¸€æ ·ã€‚ 6.è™šå‡½æ•°å……åˆ†ä½“ç°äº†é¢å‘å¯¹è±¡æ€æƒ³ä¸­çš„ç»§æ‰¿å’Œå¤šæ€æ€§è¿™ä¸¤å¤§ç‰¹æ€§ï¼Œåœ¨C++è¯­è¨€é‡Œåº”ç”¨æå¹¿ã€‚æ¯”å¦‚åœ¨å¾®è½¯çš„MFCç±»åº“ä¸­ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šå‡½æ•°éƒ½æœ‰virtualå…³é”®å­—ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬éƒ½æ˜¯è™šå‡½æ•°ã€‚éš¾æ€ªæœ‰äººç”šè‡³ç§°è™šå‡½æ•°æ˜¯C++è¯­è¨€çš„ç²¾é«“ã€‚ 7.å®šä¹‰çº¯è™šå‡½æ•°å°±æ˜¯ä¸ºäº†è®©åŸºç±»ä¸å¯å®ä¾‹åŒ–ï¼Œå› ä¸ºå®ä¾‹åŒ–è¿™æ ·çš„æŠ½è±¡æ•°æ®ç»“æ„æœ¬èº«å¹¶æ²¡æœ‰æ„ä¹‰æˆ–è€…ç»™å‡ºå®ç°ä¹Ÿæ²¡æœ‰æ„ä¹‰ã€‚ çº¯è™šå‡½æ•°åªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ˜¯ä¸ªå‡½æ•°çš„å£°æ˜è€Œå·²ï¼Œå®ƒè¦ç•™åˆ°å­ç±»é‡Œå»å®ç°ã€‚ è™šå‡½æ•°åœ¨å­ç±»é‡Œé¢ä¹Ÿå¯ä»¥ä¸é‡è½½çš„ï¼›ä½†çº¯è™šå¿…é¡»åœ¨å­ç±»å»å®ç°ï¼Œè¿™å°±åƒJavaçš„æ¥å£ä¸€æ ·ã€‚é€šå¸¸æˆ‘ä»¬æŠŠå¾ˆå¤šå‡½æ•°åŠ ä¸Švirtualï¼Œæ˜¯ä¸€ä¸ªå¥½çš„ä¹ æƒ¯ï¼Œè™½ç„¶ç‰ºç‰²äº†ä¸€äº›æ€§èƒ½ï¼Œä½†æ˜¯å¢åŠ äº†é¢å‘å¯¹è±¡çš„å¤šæ€æ€§ï¼Œå› ä¸ºä½ å¾ˆéš¾é¢„æ–™åˆ°çˆ¶ç±»é‡Œé¢çš„è¿™ä¸ªå‡½æ•°ä¸åœ¨å­ç±»é‡Œé¢ä¸å»ä¿®æ”¹å®ƒçš„å®ç° è™šå‡½æ•°: https://www.cnblogs.com/zkfopen/p/11061414.html ","date":"2023-07-11","objectID":"/posts/basics_two/:2:7","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"8. æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ« 1.æŒ‡é’ˆå’Œå¼•ç”¨çš„å®šä¹‰å’Œæ€§è´¨åŒºåˆ«ï¼š (1) æŒ‡é’ˆï¼šæŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œåªä¸è¿‡è¿™ä¸ªå˜é‡å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼ŒæŒ‡å‘å†…å­˜çš„ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼›è€Œå¼•ç”¨è·ŸåŸæ¥çš„å˜é‡å®è´¨ä¸Šæ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œåªä¸è¿‡æ˜¯åŸå˜é‡çš„ä¸€ä¸ªåˆ«åè€Œå·²ã€‚å¦‚ï¼š int a=1;int *p=\u0026a; int a=1;int \u0026b=a; ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªæ•´å½¢å˜é‡å’Œä¸€ä¸ªæŒ‡é’ˆå˜é‡pï¼Œè¯¥æŒ‡é’ˆå˜é‡æŒ‡å‘açš„å­˜å‚¨å•å…ƒï¼Œå³pçš„å€¼æ˜¯aå­˜å‚¨å•å…ƒçš„åœ°å€ã€‚ è€Œä¸‹é¢2å¥å®šä¹‰äº†ä¸€ä¸ªæ•´å½¢å˜é‡aå’Œè¿™ä¸ªæ•´å½¢açš„å¼•ç”¨bï¼Œäº‹å®ä¸Šaå’Œbæ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œåœ¨å†…å­˜å æœ‰åŒä¸€ä¸ªå­˜å‚¨å•å…ƒã€‚ (2)å¼•ç”¨ä¸å¯ä»¥ä¸ºç©ºï¼Œå½“è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¿…é¡»åˆå§‹åŒ–ï¼Œè€ŒæŒ‡é’ˆå¯ä»¥æ˜¯ç©ºå€¼ï¼Œå¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¢«åˆå§‹åŒ–ã€‚ (3)å¯ä»¥æœ‰constæŒ‡é’ˆï¼Œä½†æ˜¯æ²¡æœ‰constå¼•ç”¨ï¼› (4)æŒ‡é’ˆå¯ä»¥æœ‰å¤šçº§ï¼Œä½†æ˜¯å¼•ç”¨åªèƒ½æ˜¯ä¸€çº§ï¼ˆint **pï¼›åˆæ³• è€Œ int \u0026\u0026aæ˜¯ä¸åˆæ³•çš„ï¼‰ (5)æŒ‡é’ˆçš„å€¼å¯ä»¥ä¸ºç©ºï¼Œä½†æ˜¯å¼•ç”¨çš„å€¼ä¸èƒ½ä¸ºNULLï¼Œå¹¶ä¸”å¼•ç”¨åœ¨å®šä¹‰çš„æ—¶å€™å¿…é¡»åˆå§‹åŒ–ï¼› (6)æŒ‡é’ˆçš„å€¼åœ¨åˆå§‹åŒ–åå¯ä»¥æ”¹å˜ï¼Œå³æŒ‡å‘å…¶å®ƒçš„å­˜å‚¨å•å…ƒï¼Œè€Œå¼•ç”¨åœ¨è¿›è¡Œåˆå§‹åŒ–åå°±ä¸ä¼šå†æ”¹å˜äº†ã€‚ (7)â€œsizeofå¼•ç”¨\"å¾—åˆ°çš„æ˜¯æ‰€æŒ‡å‘çš„å˜é‡(å¯¹è±¡)çš„å¤§å°ï¼Œè€Œ\"sizeofæŒ‡é’ˆ\"å¾—åˆ°çš„æ˜¯æŒ‡é’ˆæœ¬èº«çš„å¤§å°ï¼› (8)æŒ‡é’ˆå’Œå¼•ç”¨çš„è‡ªå¢(++)è¿ç®—æ„ä¹‰ä¸ä¸€æ ·ï¼› (9)å¦‚æœè¿”å›åŠ¨æ€å†…å­˜åˆ†é…çš„å¯¹è±¡æˆ–è€…å†…å­˜ï¼Œå¿…é¡»ä½¿ç”¨æŒ‡é’ˆï¼Œå¼•ç”¨å¯èƒ½å¼•èµ·å†…å­˜æ³„æ¼ï¼› ","date":"2023-07-11","objectID":"/posts/basics_two/:2:8","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"9. ç»“æ„ä½“èµ‹å€¼ (ç»“æ„ä½“èµ‹å€¼)[https://blog.csdn.net/datase/article/details/78988320] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:9","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"10. Cå’ŒC++åŒºåˆ« (Cå’ŒC++åŒºåˆ«)[https://blog.csdn.net/czc1997/article/details/81254971] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:10","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"11. Cå’ŒC++ä¼ å‚æ–¹å¼åŒºåˆ« Cè¯­è¨€ä¸æ”¯æŒå¼•ç”¨ä¼ å‚ï¼Œå¦‚æœæƒ³è¦æ”¹å˜ä¼ å…¥å‚æ•°çš„å€¼ï¼Œåªèƒ½ç”¨ä¼ å…¥æŒ‡é’ˆçš„æ–¹å¼ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:11","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"12. æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ« (æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«)[https://blog.csdn.net/Situo/article/details/110225143] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:12","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"13. é¿å…å¤´æ–‡ä»¶é‡å¤åŒ…å«ä»¥åŠå®å®šä¹‰é‡å®šä¹‰ #ifndef LWIP_TCP_KEEPALIVE #define LWIP_TCP_KEEPALIVE #endif ","date":"2023-07-11","objectID":"/posts/basics_two/:2:13","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"14. ä½ æ€ä¹ˆç†è§£è™šæ‹Ÿç±»ï¼Ÿè™šæ‹Ÿç±»å¯ä»¥å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨å’Œå…¶ä»–ç±»çš„åŒºåˆ« ç­”æ¡ˆï¼šè™šæ‹Ÿç±»å¯ä»¥æ´¾ç”Ÿå¯¹è±¡ï¼Œçº¯è™šç±»ä¸å¯ä»¥å®ä¾‹åŒ–å¯¹è±¡ã€‚å› ä¸ºçº¯è™šç±»å­˜åœ¨æœªå®šä¹‰çš„å‡½æ•°ï¼Œåªæ˜¯ä¸ªæ¦‚å¿µï¼Œä¸å¯çœŸå®å­˜åœ¨ã€‚è™šæ‹Ÿç±»ç”¨åšå¤šæ€ï¼Œçº¯è™šç±»åšæ¥å£ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:14","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"15. å†…è”å‡½æ•°æ€ä¹ˆå®ç°çš„ï¼Œä»€ä¹ˆæ—¶æœŸå¤„ç†çš„ï¼Œä¼˜ç¼ºç‚¹ ç­”æ¡ˆï¼šåœ¨ç¨‹åºç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨å°†ç¨‹åºä¸­å‡ºç°çš„å†…è”å‡½æ•°çš„è°ƒç”¨è¡¨è¾¾å¼ç”¨å†…è”å‡½æ•°çš„å‡½æ•°ä½“æ¥è¿›è¡Œæ›¿æ¢ã€‚ ä¼˜ç‚¹ï¼šä¸ä¼šäº§ç”Ÿå‡½æ•°è°ƒç”¨çš„å¼€é”€ ç¼ºç‚¹ï¼šå¢åŠ ç›®æ ‡ç¨‹åºçš„ä»£ç é‡ï¼Œå³å¢åŠ ç©ºé—´å¼€é”€ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:15","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"16 .ä½è¿ç®—ï¼ˆæŒ‰ä½ä¸ã€æŒ‰ä½æˆ–ã€å¼‚æˆ–ï¼‰ æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼ˆ\u0026ï¼‰ å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œä¸â€è¿ç®—ã€‚ è¿ç®—è§„åˆ™ï¼šåªæœ‰ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶åŒæ—¶ä¸º1ï¼Œç»“æœæ‰ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ï¼ˆè´Ÿæ•°æŒ‰è¡¥ç å½¢å¼å‚åŠ æŒ‰ä½ä¸è¿ç®—ï¼‰ å³ 0 \u0026 0= 0 ï¼Œ0 \u0026 1= 0ï¼Œ1 \u0026 0= 0ï¼Œ 1 \u0026 1= 1ã€‚ ä¾‹ï¼š3 \u00265 å³ 00000011 \u0026 00000101 = 00000001 ï¼Œæ‰€ä»¥ 3 \u0026 5çš„å€¼ä¸º1ã€‚ æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰ å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œæˆ–â€è¿ç®—ã€‚ è¿ç®—è§„åˆ™ï¼šå‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°åªè¦ä¸¤ä¸ªæ•°ä¸­çš„ä¸€ä¸ªä¸º1ï¼Œç»“æœå°±ä¸º1ã€‚ å³ 0 | 0= 0 , 1 | 0= 1 ï¼Œ 0 | 1= 1 , 1 | 1= 1 ã€‚ ä¾‹ï¼š2 | 4 å³ 00000010 | 00000100 = 00000110 ï¼Œæ‰€ä»¥2 | 4çš„å€¼ä¸º 6 ã€‚ å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ^ï¼‰ å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œå¼‚æˆ–â€è¿ç®—ã€‚ è¿ç®—è§„åˆ™ï¼šå‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°ï¼Œå¦‚æœä¸¤ä¸ªç›¸åº”ä½ä¸ºâ€œå¼‚â€ï¼ˆå€¼ä¸åŒï¼‰ï¼Œåˆ™è¯¥ä½ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ å³ 0 ^ 0=0 ï¼Œ 0 ^ 1= 1 ï¼Œ 1 ^ 0= 1 ï¼Œ 1 ^ 1= 0 ã€‚ ä¾‹ï¼š 2 ^ 4 å³ 00000010 ^ 00000100 =00000110 ï¼Œæ‰€ä»¥ 2 ^ 4 çš„å€¼ä¸º6 ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:16","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"17. åŸç ã€åç ã€è¡¥ç  åŸç ï¼šæ˜¯æœ€ç®€å•çš„æœºå™¨æ•°è¡¨ç¤ºæ³•ã€‚ç”¨æœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ï¼Œâ€˜1â€™è¡¨ç¤ºè´Ÿå·ï¼Œâ€˜0â€™è¡¨ç¤ºæ­£å·ã€‚å…¶ä»–ä½å­˜æ”¾è¯¥æ•°çš„äºŒè¿›åˆ¶çš„ç»å¯¹å€¼ã€‚ åç ï¼šæ­£æ•°çš„åç è¿˜æ˜¯ç­‰äºåŸç  è´Ÿæ•°çš„åç å°±æ˜¯ä»–çš„åŸç é™¤ç¬¦å·ä½å¤–ï¼ŒæŒ‰ä½å–åã€‚ è¡¥ç ï¼šæ­£æ•°çš„è¡¥ç ç­‰äºä»–çš„åŸç  è´Ÿæ•°çš„è¡¥ç ç­‰äºåç +1ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:17","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"18 . å †å’Œæ ˆ (å †å’Œæ ˆ)[https://blog.csdn.net/qq_45856289/article/details/106473750] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:18","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"19. ç±»å’Œå¯¹è±¡ é¢å‘å¯¹è±¡(Object Oriented,OO)ã€‚ èµ·åˆï¼Œâ€œé¢å‘å¯¹è±¡â€æ˜¯æŒ‡åœ¨ç¨‹åºè®¾è®¡ä¸­é‡‡ç”¨å°è£…ã€ç»§æ‰¿ã€å¤šæ€ç­‰è®¾è®¡æ–¹æ³•ã€‚ç°åœ¨ï¼Œé¢å‘å¯¹è±¡çš„æ€æƒ³å·²ç»æ¶‰åŠåˆ°è½¯ä»¶å¼€å‘çš„å„ä¸ªæ–¹é¢ã€‚å¦‚ï¼Œé¢å‘å¯¹è±¡çš„åˆ†æï¼ˆOOAï¼ŒObjectOriented Analysisï¼‰ï¼Œé¢å‘å¯¹è±¡çš„è®¾è®¡ï¼ˆOODï¼ŒObject Oriented Designï¼‰ã€ä»¥åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹å®ç°ï¼ˆOOPï¼ŒObject Oriented Programmingï¼‰ã€‚ å¯¹è±¡å’Œç±»è§£é‡Šï¼š 1ï¼‰å¯¹è±¡ï¼šå¯¹è±¡æ˜¯äººä»¬è¦è¿›è¡Œç ”ç©¶çš„ä»»ä½•äº‹ç‰©ï¼Œå®ƒä¸ä»…èƒ½è¡¨ç¤ºå…·ä½“çš„äº‹ç‰©ï¼Œè¿˜èƒ½è¡¨ç¤ºæŠ½è±¡çš„è§„åˆ™ã€è®¡åˆ’æˆ–äº‹ä»¶ã€‚å¯¹è±¡å…·æœ‰çŠ¶æ€ï¼Œä¸€ä¸ªå¯¹è±¡ç”¨æ•°æ®å€¼æ¥æè¿°å®ƒçš„çŠ¶æ€ã€‚å¯¹è±¡è¿˜æœ‰æ“ä½œï¼Œç”¨äºæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ï¼Œå¯¹è±¡åŠå…¶æ“ä½œå°±æ˜¯å¯¹è±¡çš„è¡Œä¸ºã€‚å¯¹è±¡å®ç°äº†æ•°æ®å’Œæ“ä½œçš„ç»“åˆï¼Œä½¿æ•°æ®å’Œæ“ä½œå°è£…äºå¯¹è±¡çš„ç»Ÿä¸€ä½“ä¸­ã€‚ 2ï¼‰ç±»ï¼šå…·æœ‰ç›¸åŒç‰¹æ€§ï¼ˆæ•°æ®å…ƒç´ ï¼‰å’Œè¡Œä¸ºï¼ˆåŠŸèƒ½ï¼‰çš„å¯¹è±¡çš„æŠ½è±¡å°±æ˜¯ç±»ã€‚å› æ­¤ï¼Œå¯¹è±¡çš„æŠ½è±¡æ˜¯ç±»ï¼Œç±»çš„å…·ä½“åŒ–å°±æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¯´ç±»çš„å®ä¾‹æ˜¯å¯¹è±¡ï¼Œç±»å®é™…ä¸Šå°±æ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚ç±»å…·æœ‰å±æ€§ï¼Œå®ƒæ˜¯å¯¹è±¡çš„çŠ¶æ€çš„æŠ½è±¡ï¼Œç”¨æ•°æ®ç»“æ„æ¥æè¿°ç±»çš„å±æ€§ã€‚ç±»å…·æœ‰æ“ä½œï¼Œå®ƒæ˜¯å¯¹è±¡çš„è¡Œä¸ºçš„æŠ½è±¡ï¼Œç”¨æ“ä½œåå’Œå®ç°è¯¥æ“ä½œçš„æ–¹æ³•æ¥æè¿°ã€‚ å¯¹è±¡å’Œç±»çš„å…³ç³»ï¼š ç±»ä¸å¯¹è±¡çš„å…³ç³»å°±å¦‚æ¨¡å…·å’Œé“¸ä»¶çš„å…³ç³»ï¼Œç±»çš„å®åŠ›åŒ–çš„ç»“æœå°±æ˜¯å¯¹è±¡ï¼Œè€Œå¯¹å¯¹è±¡çš„æŠ½è±¡å°±æ˜¯ç±»ï¼Œç±»æè¿°äº†ä¸€ç»„æœ‰ç›¸åŒç‰¹æ€§ï¼ˆå±æ€§ï¼‰å’Œç›¸åŒè¡Œä¸ºçš„å¯¹è±¡ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:19","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"20 . newå’ŒmallocåŒºåˆ« 0.å±æ€§ new/deleteæ˜¯C++å…³é”®å­—ï¼Œéœ€è¦ç¼–è¯‘å™¨æ”¯æŒã€‚malloc/freeæ˜¯åº“å‡½æ•°ï¼Œéœ€è¦å¤´æ–‡ä»¶æ”¯æŒã€‚ 1.å‚æ•° ä½¿ç”¨newæ“ä½œç¬¦ç”³è¯·å†…å­˜åˆ†é…æ—¶æ— é¡»æŒ‡å®šå†…å­˜å—çš„å¤§å°ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®ç±»å‹ä¿¡æ¯è‡ªè¡Œè®¡ç®—ã€‚è€Œmallocåˆ™éœ€è¦æ˜¾å¼åœ°æŒ‡å‡ºæ‰€éœ€å†…å­˜çš„å°ºå¯¸ã€‚ 2.è¿”å›ç±»å‹ newæ“ä½œç¬¦å†…å­˜åˆ†é…æˆåŠŸæ—¶ï¼Œè¿”å›çš„æ˜¯å¯¹è±¡ç±»å‹çš„æŒ‡é’ˆï¼Œç±»å‹ä¸¥æ ¼ä¸å¯¹è±¡åŒ¹é…ï¼Œæ— é¡»è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ•…newæ˜¯ç¬¦åˆç±»å‹å®‰å…¨æ€§çš„æ“ä½œç¬¦ã€‚ è€Œmallocå†…å­˜åˆ†é…æˆåŠŸåˆ™æ˜¯è¿”å›void * ï¼Œéœ€è¦é€šè¿‡å¼ºåˆ¶ç±»å‹è½¬æ¢å°†void*æŒ‡é’ˆè½¬æ¢æˆæˆ‘ä»¬éœ€è¦çš„ç±»å‹ã€‚ 3.åˆ†é…å¤±è´¥ newå†…å­˜åˆ†é…å¤±è´¥æ—¶ï¼Œä¼šæŠ›å‡ºbac_allocå¼‚å¸¸ã€‚mallocåˆ†é…å†…å­˜å¤±è´¥æ—¶è¿”å›NULLã€‚ 4.è‡ªå®šä¹‰ç±»å‹ newä¼šå…ˆè°ƒç”¨operator newå‡½æ•°ï¼Œç”³è¯·è¶³å¤Ÿçš„å†…å­˜ï¼ˆé€šå¸¸åº•å±‚ä½¿ç”¨mallocå®ç°ï¼‰ã€‚ç„¶åè°ƒç”¨ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æˆå‘˜å˜é‡ï¼Œæœ€åè¿”å›è‡ªå®šä¹‰ç±»å‹æŒ‡é’ˆã€‚deleteå…ˆè°ƒç”¨ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨operator deleteå‡½æ•°é‡Šæ”¾å†…å­˜ï¼ˆé€šå¸¸åº•å±‚ä½¿ç”¨freeå®ç°ï¼‰ã€‚ malloc/freeæ˜¯åº“å‡½æ•°ï¼Œåªèƒ½åŠ¨æ€çš„ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ï¼Œæ— æ³•å¼ºåˆ¶è¦æ±‚å…¶åšè‡ªå®šä¹‰ç±»å‹å¯¹è±¡æ„é€ å’Œææ„å·¥ä½œã€‚ 5.é‡è½½ C++å…è®¸é‡è½½new/deleteæ“ä½œç¬¦ï¼Œç‰¹åˆ«çš„ï¼Œå¸ƒå±€newçš„å°±ä¸éœ€è¦ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ï¼Œè€Œæ˜¯æŒ‡å®šäº†ä¸€ä¸ªåœ°å€ä½œä¸ºå†…å­˜èµ·å§‹åŒºåŸŸï¼Œnewåœ¨è¿™æ®µå†…å­˜ä¸Šä¸ºå¯¹è±¡è°ƒç”¨æ„é€ å‡½æ•°å®Œæˆåˆå§‹åŒ–å·¥ä½œï¼Œå¹¶è¿”å›æ­¤åœ°å€ã€‚è€Œmallocä¸å…è®¸é‡è½½ã€‚ 6.å†…å­˜åŒºåŸŸ newæ“ä½œç¬¦ä»è‡ªç”±å­˜å‚¨åŒºï¼ˆfree storeï¼‰ä¸Šä¸ºå¯¹è±¡åŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´ï¼Œè€Œmallocå‡½æ•°ä»å †ä¸ŠåŠ¨æ€åˆ†é…å†…å­˜ã€‚è‡ªç”±å­˜å‚¨åŒºæ˜¯C++åŸºäºnewæ“ä½œç¬¦çš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå‡¡æ˜¯é€šè¿‡newæ“ä½œç¬¦è¿›è¡Œå†…å­˜ç”³è¯·ï¼Œè¯¥å†…å­˜å³ä¸ºè‡ªç”±å­˜å‚¨åŒºã€‚è€Œå †æ˜¯æ“ä½œç³»ç»Ÿä¸­çš„æœ¯è¯­ï¼Œæ˜¯æ“ä½œç³»ç»Ÿæ‰€ç»´æŠ¤çš„ä¸€å—ç‰¹æ®Šå†…å­˜ï¼Œç”¨äºç¨‹åºçš„å†…å­˜åŠ¨æ€åˆ†é…ï¼ŒCè¯­è¨€ä½¿ç”¨mallocä»å †ä¸Šåˆ†é…å†…å­˜ï¼Œä½¿ç”¨freeé‡Šæ”¾å·²åˆ†é…çš„å¯¹åº”å†…å­˜ã€‚è‡ªç”±å­˜å‚¨åŒºä¸ç­‰äºå †ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå¸ƒå±€newå°±å¯ä»¥ä¸ä½äºå †ä¸­ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:20","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"21. å†…æ ¸é“¾è¡¨ä¸åŒå‘å¾ªç¯é“¾è¡¨ (å†…æ ¸é“¾è¡¨ä¸åŒå‘å¾ªç¯é“¾è¡¨)[https://blog.csdn.net/liebao_han/article/details/53956609] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:21","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"22. ç»“æ„ä½“å’Œç±»çš„åŒºåˆ« 1.ç»“æ„ä½“æ˜¯ä¸€ç§å€¼ç±»å‹ï¼Œè€Œç±»æ˜¯å¼•ç”¨ç±»å‹ã€‚å€¼ç±»å‹ç”¨äºå­˜å‚¨æ•°æ®çš„å€¼ï¼Œå¼•ç”¨ç±»å‹ç”¨äºå­˜å‚¨å¯¹å®é™…æ•°æ®çš„å¼•ç”¨ã€‚ é‚£ä¹ˆç»“æ„ä½“å°±æ˜¯å½“æˆå€¼æ¥ä½¿ç”¨çš„ï¼Œç±»åˆ™é€šè¿‡å¼•ç”¨æ¥å¯¹å®é™…æ•°æ®æ“ä½œã€‚ ç»“æ„ä½“ä½¿ç”¨æ ˆå­˜å‚¨ï¼ˆStack Allocationï¼‰ï¼Œè€Œç±»ä½¿ç”¨å †å­˜å‚¨ï¼ˆHeap Allocation) æ ˆçš„ç©ºé—´ç›¸å¯¹è¾ƒå°.ä½†æ˜¯å­˜å‚¨åœ¨æ ˆä¸­çš„æ•°æ®è®¿é—®æ•ˆç‡ç›¸å¯¹è¾ƒé«˜. å †çš„ç©ºé—´ç›¸å¯¹è¾ƒå¤§.ä½†æ˜¯å­˜å‚¨åœ¨å †ä¸­çš„æ•°æ®çš„è®¿é—®æ•ˆç‡ç›¸å¯¹è¾ƒä½. 3.ç±»æ˜¯åæ˜ ç°å®äº‹ç‰©çš„ä¸€ç§æŠ½è±¡ï¼Œè€Œç»“æ„ä½“çš„ä½œç”¨åªæ˜¯ä¸€ç§åŒ…å«äº†å…·ä½“ä¸åŒç±»åˆ«æ•°æ®çš„ä¸€ç§åŒ…è£…ï¼Œç»“æ„ä½“ä¸å…·å¤‡ç±»çš„ç»§æ‰¿å¤šæ€ç‰¹æ€§ 4.ç»“æ„ä½“èµ‹å€¼æ˜¯ ç›´æ¥èµ‹å€¼çš„å€¼. è€Œå¯¹è±¡çš„æŒ‡é’ˆ èµ‹å€¼çš„æ˜¯å¯¹è±¡çš„åœ°å€ 5.Structå˜é‡ä½¿ç”¨å®Œä¹‹åå°±è‡ªåŠ¨è§£é™¤å†…å­˜åˆ†é…ï¼ŒClasså®ä¾‹æœ‰åƒåœ¾å›æ”¶æœºåˆ¶æ¥ä¿è¯å†…å­˜çš„å›æ”¶å¤„ç†ã€‚ 6.ç»“æ„ä½“çš„æ„é€ å‡½æ•°ä¸­ï¼Œå¿…é¡»ä¸ºç»“æ„ä½“æ‰€æœ‰å­—æ®µèµ‹å€¼ï¼Œç±»çš„æ„é€ å‡½æ•°æ— æ­¤é™åˆ¶ é¦–å…ˆ,å…³äºéšå¼æ„é€ å‡½æ•°.æˆ‘ä»¬çŸ¥é“,åœ¨1ä¸ªç±»ä¸­å¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºç±»å†™ä»»æ„çš„æ„é€ å‡½æ•°,é‚£ä¹ˆC++ç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šè‡ªåŠ¨çš„ä¸ºè¿™ä¸ªç±»ç”Ÿæˆ1ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°.æˆ‘ä»¬å°†è¿™ä¸ªæ„é€ å‡½æ•°ç§°ä¹‹ä¸ºéšå¼æ„é€ å‡½æ•° ä½†æ˜¯ä¸€æ—¦æˆ‘ä»¬ä¸ºè¿™ä¸ªç±»å†™äº†ä»»æ„çš„1ä¸ªæ„é€ å‡½æ•°çš„æ—¶å€™,è¿™ä¸ªéšå¼çš„æ„é€ å‡½æ•°å°±ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆäº†.åœ¨ç»“æ„ä½“ä¸­,å°±ä¸æ˜¯è¿™æ ·äº†,åœ¨ç»“æ„ä½“ä¸­éšå¼çš„æ„é€ å‡½æ•°æ— è®ºå¦‚ä½•éƒ½å­˜åœ¨ã€‚æ‰€ä»¥ç¨‹åºå‘˜ä¸èƒ½æ‰‹åŠ¨çš„ä¸ºç»“æ„æ·»åŠ 1ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°ã€‚ 7.ç»“æ„ä½“ä¸­å£°æ˜çš„å­—æ®µæ— æ³•èµ‹äºˆåˆå€¼ï¼Œç±»å¯ä»¥: å¦‚ä½•é€‰æ‹©ç»“æ„ä½“è¿˜æ˜¯ç±» 1ï¼ å †æ ˆçš„ç©ºé—´æœ‰é™ï¼Œå¯¹äºå¤§é‡çš„é€»è¾‘çš„å¯¹è±¡ï¼Œåˆ›å»ºç±»è¦æ¯”åˆ›å»ºç»“æ„å¥½ä¸€äº› 2ï¼ ç»“æ„è¡¨ç¤ºå¦‚ç‚¹ã€çŸ©å½¢å’Œé¢œè‰²è¿™æ ·çš„è½»é‡å¯¹è±¡ï¼Œä¾‹å¦‚ï¼Œå¦‚æœå£°æ˜ä¸€ä¸ªå«æœ‰ 1000 ä¸ªç‚¹å¯¹è±¡çš„æ•°ç»„ï¼Œåˆ™å°†ä¸ºå¼•ç”¨æ¯ä¸ªå¯¹è±¡åˆ†é…é™„åŠ çš„å†…å­˜ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œç»“æ„çš„æˆæœ¬è¾ƒä½ã€‚ 3ï¼ åœ¨è¡¨ç°æŠ½è±¡å’Œå¤šçº§åˆ«çš„å¯¹è±¡å±‚æ¬¡æ—¶ï¼Œç±»æ˜¯æœ€å¥½çš„é€‰æ‹© 4ï¼ å¤§å¤šæ•°æƒ…å†µä¸‹è¯¥ç±»å‹åªæ˜¯ä¸€äº›æ•°æ®æ—¶ï¼Œç»“æ„æ—¶æœ€ä½³çš„é€‰æ‹© ","date":"2023-07-11","objectID":"/posts/basics_two/:2:22","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"23. ç»“æ„ä½“å’Œè”åˆä½“åŒºåˆ« ä¸¤è€…æœ€å¤§çš„åŒºåˆ«åœ¨äºå†…å­˜åˆ©ç”¨ ä¸€ã€ç»“æ„ä½“struct å„æˆå‘˜å„è‡ªæ‹¥æœ‰è‡ªå·±çš„å†…å­˜ï¼Œå„è‡ªä½¿ç”¨äº’ä¸å¹²æ¶‰ï¼ŒåŒæ—¶å­˜åœ¨çš„ï¼Œéµå¾ªå†…å­˜å¯¹é½åŸåˆ™ã€‚ä¸€ä¸ªstructå˜é‡çš„æ€»é•¿åº¦ç­‰äºæ‰€æœ‰æˆå‘˜çš„é•¿åº¦ä¹‹å’Œã€‚ äºŒã€è”åˆä½“union å„æˆå‘˜å…±ç”¨ä¸€å—å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”åŒæ—¶åªæœ‰ä¸€ä¸ªæˆå‘˜å¯ä»¥å¾—åˆ°è¿™å—å†…å­˜çš„ä½¿ç”¨æƒ(å¯¹è¯¥å†…å­˜çš„è¯»å†™)ï¼Œå„å˜é‡å…±ç”¨ä¸€ä¸ªå†…å­˜é¦–åœ°å€ã€‚å› è€Œï¼Œè”åˆä½“æ¯”ç»“æ„ä½“æ›´èŠ‚çº¦å†…å­˜ã€‚ä¸€ä¸ªunionå˜é‡çš„æ€»é•¿åº¦è‡³å°‘èƒ½å®¹çº³æœ€å¤§çš„æˆå‘˜å˜é‡ï¼Œè€Œä¸”è¦æ»¡è¶³æ˜¯æ‰€æœ‰æˆå‘˜å˜é‡ç±»å‹å¤§å°çš„æ•´æ•°å€ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:23","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"24. ç»“æ„ä½“å’Œæšä¸¾ ä¸€ã€ç»“æ„ä½“ ç»“æ„ä½“:å¾ˆåƒé¢å‘å¯¹è±¡ä¸­çš„å¯¹è±¡ï¼Œä½†æ˜¯ç»“æ„ä½“æ²¡æœ‰æ–¹æ³•åªæœ‰å±æ€§ï¼Œä¸€ä¸ªç»“æ„ä½“ç”±ä¸åŒç±»å‹çš„å…ƒç´ ç»„æˆï¼Œè€Œç›¸è¾ƒäºæ•°ç»„æ¥è¯´ï¼Œæ•°ç»„åªèƒ½å­˜å‚¨ç›¸åŒç±»å‹çš„å…ƒç´ ã€‚ç»“æ„ä½“å ç”¨çš„ç©ºé—´ç­‰äºå†…éƒ¨å„å…ƒç´ å ç”¨ç©ºé—´çš„å’Œï¼Œå¹¶ä¸”å…ƒç´ åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼ˆæŒ‰ç…§å…ƒç´ å®šä¹‰çš„é¡ºåºï¼‰æ˜¯è¿ç»­çš„ã€‚ æ³¨æ„ï¼šç»“æ„ä½“ä¸èƒ½åƒé¢å‘å¯¹è±¡ä¸­é‚£æ ·é€’å½’è°ƒç”¨ï¼Œè‡ªå·±åŒ…å«è‡ªå·±ï¼Œä½†æ˜¯å¯ä»¥åŒ…å«å…¶ä»–ç±»å‹çš„ç»“æ„ä½“ã€‚ äºŒã€æšä¸¾ æšä¸¾:å’Œé¢å‘å¯¹è±¡ä¸­ä¸€æ ·ï¼Œæšä¸¾éƒ½æ˜¯ç”¨æ¥å®šä¹‰ä¸€äº›å›ºå®šå–å€¼çš„å¸¸é‡,ä½†æ˜¯Cä¸­çš„æšä¸¾ä¸­çš„å€¼æ˜¯æ•´æ•°ï¼Œé»˜è®¤æŒ‰ç…§0é€’å¢,ä¹Ÿå¯ä»¥åœ¨å®šä¹‰æšä¸¾çš„æ—¶å€™èµ‹å€¼ï¼Œé‚£ä¹ˆåé¢çš„å…ƒç´ çš„å€¼å°±ä¼šä»¥è¿™ä¸ªå…ƒç´ ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ é€’å¢ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:24","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"25 . æ•°ç»„å’ŒæŒ‡é’ˆçš„åŒºåˆ«ä¸è”ç³» (æ•°ç»„å’ŒæŒ‡é’ˆçš„åŒºåˆ«ä¸è”ç³»)[https://blog.csdn.net/cherrydreamsover/article/details/81741459] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:25","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"26 . å‡½æ•°æŒ‡é’ˆ\u0026æŒ‡é’ˆå‡½æ•° https://blog.csdn.net/baidu_37973494/article/details/83150266 ","date":"2023-07-11","objectID":"/posts/basics_two/:2:26","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"27 . constæ”¾åœ¨å‡½æ•°å‰åçš„åŒºåˆ« 1ã€int GetY() const; 2ã€const int * GetPosition(); å¯¹äº1 è¯¥å‡½æ•°ä¸ºåªè¯»å‡½æ•°ï¼Œä¸å…è®¸ä¿®æ”¹å…¶ä¸­çš„æ•°æ®æˆå‘˜çš„å€¼ã€‚ å¯¹äº2 ä¿®é¥°çš„æ˜¯è¿”å›å€¼ï¼Œè¡¨ç¤ºè¿”å›çš„æ˜¯æŒ‡é’ˆæ‰€æŒ‡å‘å€¼æ˜¯å¸¸é‡ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:27","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"28 . gotoè¯­å¥ gotoè¯­å¥ä¹Ÿç§°ä¸ºæ— æ¡ä»¶è½¬ç§»è¯­å¥ï¼Œå…¶ä¸€èˆ¬æ ¼å¼å¦‚ä¸‹ï¼š goto è¯­å¥æ ‡å·ï¼› å…¶ä¸­è¯­å¥æ ‡å·æ˜¯æŒ‰æ ‡è¯†ç¬¦è§„å®šä¹¦å†™çš„ç¬¦å·ï¼Œ æ”¾åœ¨æŸä¸€è¯­å¥è¡Œçš„å‰é¢ï¼Œæ ‡å·ååŠ å†’å·(ï¼š)ã€‚è¯­å¥æ ‡å·èµ·æ ‡è¯†è¯­å¥çš„ä½œç”¨ï¼Œä¸goto è¯­å¥é…åˆä½¿ç”¨ã€‚ä¸¾ä¸ªä¾‹å­ï¼š goto label; cout \u003c\u003c \"This is the\" ","date":"2023-07-11","objectID":"/posts/basics_two/:2:28","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"29 . externå…³é”®å­— 1ã€externç”¨åœ¨å˜é‡æˆ–è€…å‡½æ•°çš„å£°æ˜å‰ï¼Œç”¨æ¥è¯´æ˜â€œæ­¤å˜é‡/å‡½æ•°æ˜¯åœ¨åˆ«å¤„å®šä¹‰çš„ï¼Œè¦åœ¨æ­¤å¤„å¼•ç”¨â€ã€‚externå£°æ˜ä¸æ˜¯å®šä¹‰ï¼Œå³ä¸åˆ†é…å­˜å‚¨ç©ºé—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰äº†å˜é‡å’Œå‡½æ•°ï¼Œ åœ¨å…¶ä»–æ–‡ä»¶ä¸­è¦ä½¿ç”¨å®ƒä»¬ï¼Œ å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼šä½¿ç”¨å¤´æ–‡ä»¶ï¼Œç„¶åå£°æ˜å®ƒä»¬ï¼Œç„¶åå…¶ä»–æ–‡ä»¶å»åŒ…å«å¤´æ–‡ä»¶ï¼›åœ¨å…¶ä»–æ–‡ä»¶ä¸­ç›´æ¥externã€‚ 2ã€extern Cä½œç”¨ é“¾æ¥æŒ‡ç¤ºç¬¦extern C å¦‚æœç¨‹åºå‘˜å¸Œæœ›è°ƒç”¨å…¶ä»–ç¨‹åºè®¾è®¡è¯­è¨€å°¤å…¶æ˜¯C å†™çš„å‡½æ•°ï¼Œé‚£ä¹ˆè°ƒç”¨å‡½æ•°æ—¶å¿…é¡»å‘Šè¯‰ç¼–è¯‘å™¨ä½¿ç”¨ä¸åŒçš„è¦æ±‚ï¼Œä¾‹å¦‚å½“è¿™æ ·çš„å‡½æ•°è¢«è°ƒç”¨æ—¶å‡½æ•°åæˆ–å‚æ•°æ’åˆ—çš„é¡ºåºå¯èƒ½ä¸åŒï¼Œæ— è®ºæ˜¯C++å‡½æ•°è°ƒç”¨å®ƒè¿˜æ˜¯ç”¨å…¶ä»–è¯­è¨€å†™çš„å‡½æ•°è°ƒç”¨å®ƒï¼Œç¨‹åºå‘˜ç”¨é“¾æ¥æŒ‡ç¤ºç¬¦å‘Šè¯‰ç¼–è¯‘å™¨è¯¥å‡½æ•°æ˜¯ç”¨å…¶ä»–çš„ç¨‹åºè®¾è®¡è¯­è¨€ç¼–å†™çš„ï¼Œé“¾æ¥æŒ‡ç¤ºç¬¦æœ‰ä¸¤ç§å½¢å¼æ—¢å¯ä»¥æ˜¯å•ä¸€è¯­å¥å½¢å¼ä¹Ÿå¯ä»¥æ˜¯å¤åˆè¯­å¥å½¢å¼ã€‚ // å•ä¸€è¯­å¥å½¢å¼çš„é“¾æ¥æŒ‡ç¤ºç¬¦ extern â€œCâ€ void exit(int); // å¤åˆè¯­å¥å½¢å¼çš„é“¾æ¥æŒ‡ç¤ºç¬¦ extern â€œCâ€ { int printf( const char* â€¦ ); int scanf( const char* â€¦ ); } // å¤åˆè¯­å¥å½¢å¼çš„é“¾æ¥æŒ‡ç¤ºç¬¦ extern â€œCâ€ { #include } é“¾æ¥æŒ‡ç¤ºç¬¦çš„ç¬¬ä¸€ç§å½¢å¼ç”±å…³é”®å­—extern åè·Ÿä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡ä»¥åŠä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œå£°æ˜æ„æˆè™½ç„¶å‡½æ•°æ˜¯ç”¨å¦å¤–ä¸€ç§è¯­è¨€ç¼–å†™çš„ä½†è°ƒç”¨å®ƒä»ç„¶éœ€è¦ç±»å‹æ£€æŸ¥ä¾‹å¦‚ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ä¼ é€’ç»™å‡½æ•°exit()çš„å®å‚çš„ç±»å‹æ˜¯å¦æ˜¯int æˆ–è€…èƒ½å¤Ÿéšå¼åœ°è½¬æ¢æˆint å‹ï¼Œå¤šä¸ªå‡½æ•°å£°æ˜å¯ä»¥ç”¨èŠ±æ‹¬å·åŒ…å«åœ¨é“¾æ¥æŒ‡ç¤ºç¬¦å¤åˆè¯­å¥ä¸­ï¼Œè¿™æ˜¯é“¾æ¥æŒ‡ç¤ºç¬¦çš„ç¬¬äºŒç§å½¢å¼èŠ±æ‰©å·è¢«ç”¨ä½œåˆ†å‰²ç¬¦è¡¨ç¤ºé“¾æ¥æŒ‡ç¤ºç¬¦åº”ç”¨åœ¨å“ªäº›å£°æ˜ä¸Šåœ¨å…¶ä»–æ„ä¹‰ä¸Šè¯¥èŠ±æ‹¬å·è¢«å¿½ç•¥ï¼Œæ‰€ä»¥åœ¨èŠ±æ‹¬å·ä¸­å£°æ˜çš„å‡½æ•°åå¯¹å¤–æ˜¯å¯è§çš„å°±å¥½åƒå‡½æ•°æ˜¯åœ¨å¤åˆè¯­å¥å¤–å£°æ˜çš„ä¸€æ ·ï¼Œä¾‹å¦‚åœ¨å‰é¢çš„ä¾‹å­ä¸­å¤åˆè¯­å¥extern â€œC\"è¡¨ç¤ºå‡½æ•°printf()å’Œscanf()æ˜¯åœ¨C è¯­è¨€ä¸­å†™çš„ï¼Œå‡½æ•°å› æ­¤è¿™ä¸ªå£°æ˜çš„æ„ä¹‰å°±å¦‚åŒprintf()å’Œscanf()æ˜¯åœ¨extern â€œC\"å¤åˆè¯­å¥å¤–é¢å£°æ˜çš„ä¸€æ ·ï¼Œå½“å¤åˆè¯­å¥é“¾æ¥æŒ‡ç¤ºç¬¦çš„æ‹¬å·ä¸­å«æœ‰#include æ—¶ï¼Œåœ¨å¤´æ–‡ä»¶ä¸­çš„å‡½æ•°å£°æ˜éƒ½è¢«å‡å®šæ˜¯ç”¨é“¾æ¥æŒ‡ç¤ºç¬¦çš„ç¨‹åºè®¾è®¡è¯­è¨€æ‰€å†™çš„ï¼Œåœ¨å‰é¢çš„ä¾‹å­ä¸­åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜çš„å‡½æ•°éƒ½æ˜¯Cå‡½æ•°é“¾æ¥æŒ‡ç¤ºç¬¦ä¸èƒ½å‡ºç°åœ¨å‡½æ•°ä½“ä¸­ä¸‹åˆ—ä»£ç æ®µå°†ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ int main() { // é”™è¯¯: é“¾æ¥æŒ‡ç¤ºç¬¦ä¸èƒ½å‡ºç°åœ¨å‡½æ•°å†… extern \"C\" double sqrt( double ); 305 ç¬¬ä¸ƒç« å‡½æ•° double getValue(); //ok double result = sqrt ( getValue() ); //... return 0; } å¦‚æœæŠŠé“¾æ¥æŒ‡ç¤ºç¬¦ç§»åˆ°å‡½æ•°ä½“å¤–ç¨‹åºç¼–è¯‘å°†æ— é”™è¯¯ extern \"C\" double sqrt( double ); int main() { double getValue(); //ok double result = sqrt ( getValue() ); //... return 0; } ä½†æ˜¯æŠŠé“¾æ¥æŒ‡ç¤ºç¬¦æ”¾åœ¨å¤´æ–‡ä»¶ä¸­æ›´åˆé€‚ï¼Œåœ¨é‚£é‡Œå‡½æ•°å£°æ˜æè¿°äº†å‡½æ•°çš„æ¥å£æ‰€å±ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›C++å‡½æ•°èƒ½å¤Ÿä¸ºC ç¨‹åºæ‰€ç”¨åˆè¯¥æ€ä¹ˆåŠå‘¢æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨extern \"C\"é“¾æ¥æŒ‡ç¤ºç¬¦æ¥ä½¿C++å‡½æ•°ä¸ºC ç¨‹åºå¯ç”¨ä¾‹å¦‚ã€‚ // å‡½æ•°calc() å¯ä»¥è¢«C ç¨‹åºè°ƒç”¨ extern \"C\" double calc( double dparm ) { /* ... */ } å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨åŒä¸€æ–‡ä»¶ä¸­ä¸åªè¢«å£°æ˜ä¸€æ¬¡åˆ™é“¾æ¥æŒ‡ç¤ºç¬¦å¯ä»¥å‡ºç°åœ¨æ¯ä¸ªå£°æ˜ä¸­å®ƒï¼Œä¹Ÿå¯ä»¥åªå‡ºç°åœ¨å‡½æ•°çš„ç¬¬ä¸€æ¬¡å£°æ˜ä¸­ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ç¬¬äºŒä¸ªåŠä»¥åçš„å£°æ˜éƒ½æ¥å—ç¬¬ä¸€ä¸ªå£°æ˜ä¸­é“¾æ¥æŒ‡ç¤ºç¬¦æŒ‡å®šçš„é“¾æ¥è§„åˆ™ä¾‹å¦‚ // ---- myMath.h ---- extern \"C\" double calc( double ); // ---- myMath.C ---- // åœ¨Math.h ä¸­çš„calc() çš„å£°æ˜ #include \"myMath.h\" // å®šä¹‰äº†extern \"C\" calc() å‡½æ•° // calc() å¯ä»¥ä»C ç¨‹åºä¸­è¢«è°ƒç”¨ double calc( double dparm ) { // ... åœ¨æœ¬èŠ‚ä¸­æˆ‘ä»¬åªçœ‹åˆ°ä¸ºC è¯­è¨€æä¾›çš„é“¾æ¥æŒ‡ç¤ºextern \"C\"ï¼Œextern \"C\"æ˜¯æƒŸä¸€è¢«ä¿è¯ç”±æ‰€æœ‰C++å®ç°éƒ½æ”¯æŒçš„ï¼Œæ¯ä¸ªç¼–è¯‘å™¨å®ç°éƒ½å¯ä»¥ä¸ºå…¶ç¯å¢ƒä¸‹å¸¸ç”¨çš„è¯­è¨€æä¾›å…¶ä»–é“¾æ¥æŒ‡ç¤ºä¾‹å¦‚extern \"Ada\"å¯ä»¥ç”¨æ¥å£°æ˜æ˜¯ç”¨Ada è¯­è¨€å†™çš„å‡½æ•°ï¼Œextern \"FORTRAN\"ç”¨æ¥å£°æ˜æ˜¯ç”¨FORTRAN è¯­è¨€å†™çš„å‡½æ•°ï¼Œç­‰ç­‰å› ä¸ºå…¶ä»–çš„é“¾æ¥æŒ‡ç¤ºéšç€å…·ä½“å®ç°çš„ä¸åŒè€Œä¸åŒæ‰€ä»¥å»ºè®®è¯»è€…æŸ¥çœ‹ç¼–è¯‘å™¨çš„ç”¨æˆ·æŒ‡å—ä»¥è·å¾—å…¶ä»–é“¾æ¥æŒ‡ç¤ºç¬¦çš„è¿›ä¸€æ­¥ä¿¡æ¯ã€‚ æ€»ç»“ extern â€œCâ€ extern â€œCâ€ ä¸ä½†å…·æœ‰ä¼ ç»Ÿçš„å£°æ˜å¤–éƒ¨å˜é‡çš„åŠŸèƒ½ï¼Œè¿˜å…·æœ‰å‘ŠçŸ¥C++é“¾æ¥å™¨ä½¿ç”¨Cå‡½æ•°è§„èŒƒæ¥é“¾æ¥çš„åŠŸèƒ½ã€‚ è¿˜å…·æœ‰å‘ŠçŸ¥C++ç¼–è¯‘å™¨ä½¿ç”¨Cè§„èŒƒæ¥å‘½åçš„åŠŸèƒ½ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:29","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"30 . åŠ¨æ€å†…å­˜ç®¡ç† (åŠ¨æ€å†…å­˜ç®¡ç†)[https://blog.csdn.net/zgege/article/details/82054076] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:30","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"31 .æ•°ç»„ã€é“¾è¡¨ã€å“ˆå¸Œã€é˜Ÿåˆ—ã€æ ˆæ•°æ®ç»“æ„ç‰¹ç‚¹ï¼Œå„è‡ªä¼˜ç‚¹å’Œç¼ºç‚¹ æ•°ç»„(Array)ï¼š ä¼˜ç‚¹ï¼šæŸ¥è¯¢å¿«ï¼Œé€šè¿‡ç´¢å¼•ç›´æ¥æŸ¥æ‰¾ï¼›æœ‰åºæ·»åŠ ï¼Œæ·»åŠ é€Ÿåº¦å¿«ï¼Œå…è®¸é‡å¤ï¼› ç¼ºç‚¹ï¼šåœ¨ä¸­é—´éƒ¨ä½æ·»åŠ ã€åˆ é™¤æ¯”è¾ƒå¤æ‚ï¼Œå¤§å°å›ºå®šï¼Œåªèƒ½å­˜å‚¨ä¸€ç§ç±»å‹çš„æ•°æ®ï¼› å¦‚æœåº”ç”¨éœ€è¦å¿«é€Ÿè®¿é—®æ•°æ®ï¼Œå¾ˆå°‘æ’å…¥å’Œåˆ é™¤å…ƒç´ ï¼Œå°±åº”è¯¥ç”¨æ•°ç»„ã€‚ é“¾è¡¨(LinkedList)ï¼š ä¼˜ç‚¹ï¼šæœ‰åºæ·»åŠ ã€å¢åˆ æ”¹é€Ÿåº¦å¿«ï¼Œå¯¹äºé“¾è¡¨æ•°æ®ç»“æ„ï¼Œå¢åŠ å’Œåˆ é™¤åªè¦ä¿®æ”¹å…ƒç´ ä¸­çš„æŒ‡é’ˆå°±å¯ä»¥äº†ï¼› ç¼ºç‚¹ï¼šæŸ¥è¯¢æ…¢ï¼Œå¦‚æœè¦è®¿é—®é“¾è¡¨ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œå°±éœ€è¦ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹æŸ¥æ‰¾ï¼› å¦‚æœåº”ç”¨éœ€è¦ç»å¸¸æ’å…¥å’Œåˆ é™¤å…ƒç´ ï¼Œå°±åº”è¯¥ç”¨é“¾è¡¨ã€‚ æ ˆ(Stack)ï¼š ä¼˜ç‚¹ï¼šæä¾›åè¿›å…ˆå‡ºçš„å­˜å‚¨æ–¹å¼ï¼Œæ·»åŠ é€Ÿåº¦å¿«ï¼Œå…è®¸é‡å¤ï¼› ç¼ºç‚¹ï¼šåªèƒ½åœ¨ä¸€å¤´æ“ä½œæ•°æ®ï¼Œå­˜å–å…¶ä»–é¡¹å¾ˆæ…¢ï¼› é˜Ÿåˆ—(Queue)ï¼š ä¼˜ç‚¹ï¼šæä¾›å…ˆè¿›å…ˆå‡ºçš„å­˜å‚¨æ–¹å¼ï¼Œæ·»åŠ é€Ÿåº¦å¿«ï¼Œå…è®¸é‡å¤ï¼› ç¼ºç‚¹ï¼šåªèƒ½åœ¨ä¸€å¤´æ·»åŠ ï¼Œå¦ä¸€å¤´è·å–ï¼Œå­˜å–å…¶ä»–é¡¹å¾ˆæ…¢ï¼› å“ˆå¸Œ(Hash)ï¼š ç‰¹ç‚¹ï¼šæ•£åˆ—è¡¨ï¼Œä¸å…è®¸é‡å¤ï¼› ä¼˜ç‚¹ï¼šå¦‚æœå…³é”®å­—å·²çŸ¥åˆ™å­˜å–é€Ÿåº¦æå¿«ï¼› ç¼ºç‚¹ï¼šå¦‚æœä¸çŸ¥é“å…³é”®å­—åˆ™å­˜å–å¾ˆæ…¢ï¼Œå¯¹å­˜å‚¨ç©ºé—´ä½¿ç”¨ä¸å……åˆ†ï¼› ","date":"2023-07-11","objectID":"/posts/basics_two/:2:31","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"32. å‹å…ƒå‡½æ•° å¼•å…¥å‹å…ƒå‡½æ•°çš„åŸå›  ç±»å…·æœ‰å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€ä¿¡æ¯éšè—çš„ç‰¹æ€§ï¼Œåªæœ‰ç±»çš„æˆå‘˜å‡½æ•°æ‰å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œéæˆå‘˜å‡½æ•°åªèƒ½è®¿é—®ç±»çš„å…¬æœ‰æˆå‘˜ã€‚ä¸ºäº†ä½¿ç±»çš„éæˆå‘˜å‡½æ•°è®¿é—®ç±»çš„æˆå‘˜ï¼Œå”¯ä¸€çš„åšæ³•å°±æ˜¯å°†æˆå‘˜å®šä¹‰ä¸ºpublicï¼Œä½†è¿™æ ·åšä¼šç ´åä¿¡æ¯éšè—çš„ç‰¹æ€§ã€‚åŸºäºä»¥ä¸ŠåŸå› ï¼Œå¼•å…¥å‹å…ƒå‡½æ•°è§£å†³ã€‚ (å‹å…ƒå‡½æ•°)[https://blog.csdn.net/qq_26337701/article/details/53996104] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:32","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"33. è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€å‘å¸ƒè®¢é˜…æ¨¡å¼ä»¥åŠè§‚å¯Ÿè€…æ¨¡å¼ (è®¾è®¡æ¨¡å¼)[https://blog.csdn.net/m0_37322399/article/details/108515158] ","date":"2023-07-11","objectID":"/posts/basics_two/:2:33","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"34. æ„é€ å‡½æ•°ï¼š ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ï¼Ÿ é€šä¿—çš„è®²ï¼Œåœ¨ç±»ä¸­ï¼Œå‡½æ•°åå’Œç±»åç›¸åŒçš„å‡½æ•°ç§°ä¸ºæ„é€ å‡½æ•°ã€‚å®ƒçš„ä½œç”¨æ˜¯åœ¨å»ºç«‹ä¸€ä¸ªå¯¹è±¡æ—¶ï¼ŒåšæŸäº›åˆå§‹åŒ–çš„å·¥ä½œï¼ˆä¾‹å¦‚å¯¹æ•°æ®èµ‹äºˆåˆå€¼ï¼‰ã€‚C++å…è®¸åŒåå‡½æ•°ï¼Œä¹Ÿå°±å…è®¸åœ¨ä¸€ä¸ªç±»ä¸­æœ‰å¤šä¸ªæ„é€ å‡½æ•°ã€‚å¦‚æœä¸€ä¸ªéƒ½æ²¡æœ‰ï¼Œç¼–è¯‘å™¨å°†ä¸ºè¯¥ç±»äº§ç”Ÿä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ã€‚ æ„é€ å‡½æ•°ä¸ŠæƒŸä¸€çš„è¯­æ³•é™åˆ¶æ˜¯å®ƒä¸èƒ½æŒ‡å®šè¿”å›ç±»å‹ï¼Œç”šè‡³void ä¹Ÿä¸è¡Œã€‚ ä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼šä¸€èˆ¬å½¢å¼ä¸º ç±»å å¯¹è±¡å(){å‡½æ•°ä½“} å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼šä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåªèƒ½ä»¥å›ºå®šä¸å˜çš„å€¼åˆå§‹åŒ–å¯¹è±¡ã€‚å¸¦å‚æ•°æ„é€ å‡½æ•°çš„åˆå§‹åŒ–è¦çµæ´»çš„å¤šï¼Œé€šè¿‡ä¼ é€’ç»™æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œå¯ä»¥èµ‹äºˆå¯¹è±¡ä¸åŒçš„åˆå§‹å€¼ã€‚ä¸€èˆ¬å½¢å¼ä¸ºï¼šæ„é€ å‡½æ•°åï¼ˆå½¢å‚è¡¨ï¼‰ï¼› åˆ›å»ºå¯¹è±¡ä½¿ç”¨æ—¶ï¼šç±»å å¯¹è±¡åï¼ˆå®å‚è¡¨ï¼‰ï¼› æ„é€ å‡½æ•°å‚æ•°çš„åˆå§‹å€¼ï¼šæ„é€ å‡½æ•°çš„å‚æ•°å¯ä»¥æœ‰ç¼ºçœå€¼ã€‚å½“å®šä¹‰å¯¹è±¡æ—¶ï¼Œå¦‚æœä¸ç»™å‡ºå‚æ•°ï¼Œå°±è‡ªåŠ¨æŠŠç›¸åº”çš„ç¼ºçœå‚æ•°å€¼èµ‹ç»™å¯¹è±¡ã€‚ä¸€èˆ¬å½¢å¼ä¸ºï¼š æ„é€ å‡½æ•°åï¼ˆå‚æ•°=ç¼ºçœå€¼ï¼Œå‚æ•°=ç¼ºçœå€¼ï¼Œâ€¦â€¦ï¼‰; ææ„å‡½æ•°ï¼š å½“ä¸€ä¸ªç±»çš„å¯¹è±¡ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œææ„å‡½æ•°å°†è¢«è°ƒç”¨(ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨)ã€‚ææ„å‡½æ•°çš„åå­—å’Œç±»åä¸€æ ·ï¼Œä¸è¿‡è¦åœ¨å‰é¢åŠ ä¸Š ~ ã€‚å¯¹ä¸€ä¸ªç±»æ¥è¯´ï¼Œåªèƒ½å…è®¸ä¸€ä¸ªææ„å‡½æ•°ï¼Œææ„å‡½æ•°ä¸èƒ½æœ‰å‚æ•°ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰è¿”å›å€¼ã€‚ææ„å‡½æ•°çš„ä½œç”¨æ˜¯å®Œæˆä¸€ä¸ªæ¸…ç†å·¥ä½œï¼Œå¦‚é‡Šæ”¾ä»å †ä¸­åˆ†é…çš„å†…å­˜ã€‚ ä¸€ä¸ªç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œä½†ææ„å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªã€‚å¯¹è±¡è¢«ææ„çš„é¡ºåºï¼Œä¸å…¶å»ºç«‹æ—¶çš„é¡ºåºç›¸åï¼Œå³åæ„é€ çš„å¯¹è±¡å…ˆææ„ã€‚ 1ã€æ¦‚å¿µä¸åŒï¼š ææ„å‡½æ•°ï¼šå¯¹è±¡æ‰€åœ¨çš„å‡½æ•°å·²è°ƒç”¨å®Œæ¯•æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œææ„å‡½æ•°ã€‚ æ„é€ å‡½æ•°ï¼šæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ã€‚ç‰¹åˆ«çš„ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ å‡½æ•° ï¼Œå¯æ ¹æ®å…¶å‚æ•°ä¸ªæ•°çš„ä¸åŒæˆ–å‚æ•°ç±»å‹çš„ä¸åŒæ¥åŒºåˆ†å®ƒä»¬ å³æ„é€ å‡½æ•°çš„é‡è½½ã€‚ 2ã€ä½œç”¨ä¸åŒï¼š ææ„å‡½æ•°ï¼šææ„å‡½æ•°è¢«è°ƒç”¨ã€‚ æ„é€ å‡½æ•°ï¼šä¸ºå¯¹è±¡æˆå‘˜å˜é‡èµ‹åˆå§‹å€¼ 3ã€ç›®çš„ä¸åŒï¼š ææ„å‡½æ•°ï¼šâ€æ¸…ç†å–„åâ€ çš„å·¥ä½œ æ„é€ å‡½æ•°ï¼šä¸»è¦ç”¨æ¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–å¯¹è±¡ï¼Œ å³ä¸ºå¯¹è±¡æˆå‘˜å˜é‡èµ‹åˆå§‹å€¼ï¼Œæ€»ä¸newè¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨åœ¨åˆ›å»ºå¯¹è±¡çš„è¯­å¥ä¸­ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_two/:2:34","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"35. C++æ¨¡æ¿ https://blog.csdn.net/zhaizhaizhaiaaa/article/details/104091658 ","date":"2023-07-11","objectID":"/posts/basics_two/:2:35","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"36. C++ STL https://www.cnblogs.com/shiyangxt/archive/2008/09/11/1289493.html ref: https://blog.csdn.net/qq_52621551/article/details/122960158 ","date":"2023-07-11","objectID":"/posts/basics_two/:2:36","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"c++ å…«è‚¡æ–‡ ","date":"2023-07-11","objectID":"/posts/basics_two/:3:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":"å…³é”®å­—ä¸è¿ç®—ç¬¦ 1. æŒ‡é’ˆä¸å¼•â½¤ æŒ‡é’ˆï¼šå­˜æ”¾æŸä¸ªå¯¹è±¡çš„åœ°å€ï¼Œå…¶æœ¬â¾å°±æ˜¯å˜é‡ï¼ˆå‘½äº†åçš„å¯¹è±¡ï¼‰ï¼Œæœ¬â¾å°±æœ‰åœ°å€ï¼Œæ‰€ä»¥å¯ä»¥æœ‰æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆï¼›å¯å˜ï¼ŒåŒ…æ‹¬å…¶æ‰€æŒ‡å‘çš„åœ°å€çš„æ”¹å˜å’Œå…¶æŒ‡å‘çš„åœ°å€ä¸­æ‰€å­˜æ”¾çš„æ•°æ®çš„æ”¹å˜ (åœ°å€å¯å˜ï¼Œåœ°å€å­˜å‚¨çš„å€¼ä¹Ÿå¯å˜) å¼•â½¤ï¼šå°±æ˜¯å˜é‡çš„åˆ«åï¼Œä»â¼€â½½ç»ˆï¼Œä¸å¯å˜ï¼Œå¿…é¡»åˆå§‹åŒ–ï¼Œ ä¸å­˜åœ¨æŒ‡å‘ç©ºå€¼çš„å¼•â½¤ï¼Œä½†æ˜¯å­˜åœ¨æŒ‡å‘ç©ºå€¼çš„æŒ‡é’ˆ 2. const å…³é”®å­— constçš„ä½œâ½¤ï¼šè¢«å®ƒä¿®é¥°çš„å€¼ä¸èƒ½æ”¹å˜ï¼Œæ˜¯åªè¯»å˜é‡ã€‚å¿…é¡»åœ¨å®šä¹‰çš„æ—¶å€™å°±ç»™å®ƒèµ‹åˆå€¼ã€‚ é¡¶å±‚const: è¡¨ç¤ºæŒ‡é’ˆæœ¬èº«æ˜¯ä¸ªå¸¸é‡ åº•å±‚const: è¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå¸¸é‡ 2.1 å¸¸é‡æŒ‡é’ˆï¼ˆåº•å±‚constï¼‰ï¼ˆæŒ‡é’ˆæŒ‡çš„å¯¹è±¡ä¸å¯æ”¹å˜ï¼‰ å¸¸é‡æŒ‡é’ˆï¼šæ˜¯æŒ‡å®šä¹‰äº†â¼€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘â¼€ä¸ªåªè¯»çš„å¯¹è±¡ï¼Œä¸èƒ½é€šè¿‡å¸¸é‡æŒ‡é’ˆæ¥æ”¹å˜è¿™ä¸ªå¯¹è±¡çš„å€¼ã€‚å¸¸é‡æŒ‡é’ˆå¼ºè°ƒçš„æ˜¯æŒ‡é’ˆå¯¹å…¶æ‰€æŒ‡å¯¹è±¡çš„ä¸å¯æ”¹å˜æ€§ã€‚ ç‰¹ç‚¹ï¼šé è¿‘å˜é‡å å½¢å¼: const æ•°æ®ç±»å‹ *æŒ‡é’ˆå˜é‡ = å˜é‡å æ•°æ®ç±»å‹ const *æŒ‡é’ˆå˜é‡ = å˜é‡å ä¸¾ä¾‹: int temp = 10; const int* a = \u0026temp; int const *a = \u0026temp; 2.2 æŒ‡é’ˆå¸¸é‡ï¼ˆé¡¶å±‚constï¼‰(æŒ‡é’ˆä¸èƒ½æ”¹å˜) æŒ‡é’ˆå¸¸é‡ï¼šæŒ‡é’ˆå¸¸é‡æ˜¯æŒ‡å®šä¹‰äº†â¼€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆçš„å€¼åªèƒ½åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–ï¼Œå…¶ä»–åœ°â½…ä¸èƒ½æ”¹å˜ã€‚æŒ‡é’ˆå¸¸é‡å¼ºè°ƒçš„æ˜¯æŒ‡é’ˆçš„ä¸å¯æ”¹å˜æ€§ã€‚ ç‰¹ç‚¹: é è¿‘å˜é‡ç±»å‹ å½¢å¼: æ•°æ®ç±»å‹ * const æŒ‡é’ˆå˜é‡=å˜é‡å å®ä¾‹: int* const p = \u0026temp 3. define å’Œ typedefçš„åŒºåˆ« ref : https://blog.csdn.net/CSSDCC/article/details/122049204 ref : https://zhuanlan.zhihu.com/p/513450251 ","date":"2023-07-11","objectID":"/posts/basics_two/:3:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[äºŒ]","uri":"/posts/basics_two/"},{"categories":["C++"],"content":" quote c++ å…«è‚¡æ–‡ ç¬¬ä¸€éƒ¨åˆ† ","date":"2023-07-11","objectID":"/posts/basics_one/:0:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1. åŸºç¡€çŸ¥è¯†ï¼ˆä¸€ï¼‰ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.1 C++è¯­è¨€çš„ç‰¹ç‚¹ â‘ C++åœ¨Cçš„åŸºç¡€ä¸Šå¼•å…¥äº†é¢å‘å¯¹è±¡æœºåˆ¶ï¼ŒåŒæ—¶ä¹Ÿå…¼å®¹Cè¯­è¨€ï¼› â‘¡C++ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ï¼› â‘¢C++ç¨‹åºç»“æ„æ¸…æ™°ã€æ˜“äºæ‰©å……ã€ç¨‹åºå¯è¯»æ€§å¥½ï¼› â‘£C++ä»£ç è´¨é‡é«˜ï¼Œè¿è¡Œæ•ˆç‡é«˜ã€ä»…æ¯”æ±‡ç¼–è¯­è¨€æ…¢10%~20%ï¼› â‘¥C++å¯å¤ç”¨æ€§é«˜ï¼ŒC++å¼•å…¥äº†æ¨¡æ¿çš„æ¦‚å¿µï¼Œæœ‰ä¸“é—¨çš„æ¨¡æ¿åº“(STL)ï¼› â‘¦C++æ˜¯ä¸æ–­å‘å±•çš„è¯­è¨€ï¼ŒC++11ä¸­æ–°å¼•å…¥äº†nullptrã€autoå˜é‡ã€LambdaåŒ¿åå‡½æ•°ã€å³å€¼å¼•ç”¨ã€æ™ºèƒ½æŒ‡é’ˆã€‚ C++é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ å°è£…æ€§ï¼š å°†å®¢è§‚äº‹ç‰©æŠ½è±¡æˆç±»ï¼Œæ¯ä¸ªç±»å¯¹è‡ªèº«çš„æ•°æ®å’Œæ–¹æ³•å®è¡Œè®¿é—®æ§åˆ¶ï¼ŒåŒ…æ‹¬ï¼ˆprivateï¼Œprotectedï¼Œpublicï¼‰ã€‚ ç»§æ‰¿æ€§ï¼š å¹¿ä¹‰çš„ç»§æ‰¿æœ‰ä¸‰ç§å®ç°å½¢å¼ï¼šå®ç°ç»§æ‰¿ï¼ˆä½¿ç”¨åŸºç±»çš„å±æ€§å’Œæ–¹æ³•è€Œæ— éœ€é¢å¤–ç¼–ç çš„èƒ½åŠ›)ã€å¯è§†ç»§æ‰¿(å­çª—ä½“ä½¿ç”¨çˆ¶çª—ä½“çš„å¤–è§‚å’Œå®ç°ä»£ç )ã€æ¥å£ç»§æ‰¿(ä»…ä½¿ç”¨å±æ€§å’Œæ–¹æ³•ï¼Œå®ç°æ»ååˆ°å­ç±»å®ç°)ã€‚ å¤šæ€æ€§ï¼š æ˜¯å°†çˆ¶ç±»å¯¹è±¡è®¾ç½®æˆä¸ºå’Œä¸€ä¸ªæˆ–æ›´å¤šå®ƒçš„å­å¯¹è±¡ç›¸ç­‰çš„æŠ€æœ¯ã€‚ç”¨å­ç±»å¯¹è±¡ç»™çˆ¶ç±»å¯¹è±¡èµ‹å€¼ä¹‹åï¼Œçˆ¶ç±»å¯¹è±¡å°±å¯ä»¥æ ¹æ®å½“å‰èµ‹å€¼ç»™å®ƒçš„å­å¯¹è±¡çš„ç‰¹æ€§ä»¥ä¸åŒçš„æ–¹å¼è¿ä½œã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.2 C++å’ŒCè¯­è¨€çš„åŒºåˆ« â‘  Cè¯­è¨€æ˜¯C++çš„å­é›†ï¼ŒC++å¯ä»¥å¾ˆå¥½å…¼å®¹Cè¯­è¨€ã€‚ä½†æ˜¯C++åˆæœ‰å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œå¦‚å¼•ç”¨ã€æ™ºèƒ½æŒ‡é’ˆã€autoå˜é‡ç­‰ï¼› â‘¡ C++æ˜¯é¢å¯¹å¯¹è±¡(object-oriented)çš„ç¼–ç¨‹è¯­è¨€ï¼›Cè¯­è¨€æ˜¯é¢å¯¹è¿‡ç¨‹(process-oriented)çš„ç¼–ç¨‹è¯­è¨€ï¼› â‘¢ Cè¯­è¨€æœ‰ä¸€äº›ä¸å®‰å…¨çš„è¯­è¨€ç‰¹æ€§ï¼Œå¦‚æŒ‡é’ˆä½¿ç”¨çš„æ½œåœ¨å±é™©ã€å¼ºåˆ¶è½¬æ¢çš„ä¸ç¡®å®šæ€§ã€å†…å­˜æ³„éœ²ç­‰ã€‚è€ŒC++å¯¹æ­¤å¢åŠ äº†ä¸å°‘æ–°ç‰¹æ€§æ¥æ”¹å–„å®‰å…¨æ€§ï¼Œå¦‚constå¸¸é‡ã€å¼•ç”¨ã€castè½¬æ¢ã€æ™ºèƒ½æŒ‡é’ˆã€tryâ€”catchç­‰ç­‰ï¼› â‘£ C++å¯å¤ç”¨æ€§é«˜ï¼ŒC++å¼•å…¥äº†æ¨¡æ¿çš„æ¦‚å¿µï¼Œåé¢åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ç°äº†æ–¹ä¾¿å¼€å‘çš„æ ‡å‡†æ¨¡æ¿åº“STLã€‚C++çš„STLåº“ç›¸å¯¹äºCè¯­è¨€çš„å‡½æ•°åº“æ›´çµæ´»ã€æ›´é€šç”¨ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:2","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.3 C++ä¸­ struct å’Œ class çš„åŒºåˆ« â‘  struct ä¸€èˆ¬ç”¨äºæè¿°ä¸€ä¸ªæ•°æ®ç»“æ„é›†åˆï¼Œè€Œ class æ˜¯å¯¹ä¸€ä¸ªå¯¹è±¡æ•°æ®çš„å°è£…ï¼› â‘¡ struct ä¸­é»˜è®¤çš„è®¿é—®æ§åˆ¶æƒé™æ˜¯ public çš„ï¼Œè€Œ class ä¸­é»˜è®¤çš„è®¿é—®æ§åˆ¶æƒé™æ˜¯ private çš„ï¼› â‘¢ åœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œstruct é»˜è®¤æ˜¯å…¬æœ‰ç»§æ‰¿ï¼Œè€Œ class æ˜¯ç§æœ‰ç»§æ‰¿ï¼› â‘£ classå…³é”®å­—å¯ä»¥ç”¨äºå®šä¹‰æ¨¡æ¿å‚æ•°ï¼Œå°±åƒtypenameï¼Œè€Œ struct ä¸èƒ½ç”¨äºå®šä¹‰æ¨¡æ¿å‚æ•°ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:3","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.4 includeå¤´æ–‡ä»¶çš„é¡ºåºä»¥åŠåŒå¼•å·\"â€œå’Œå°–æ‹¬å·\u003c\u003eçš„åŒºåˆ« åŒºåˆ«ï¼š â‘  å°–æ‹¬å·\u003c \u003eçš„å¤´æ–‡ä»¶æ˜¯ç³»ç»Ÿæ–‡ä»¶ï¼ŒåŒå¼•å·\" \"çš„å¤´æ–‡ä»¶æ˜¯è‡ªå®šä¹‰æ–‡ä»¶ï¼› â‘¡ ç¼–è¯‘å™¨é¢„å¤„ç†é˜¶æ®µæŸ¥æ‰¾å¤´æ–‡ä»¶çš„è·¯å¾„ä¸ä¸€æ ·ï¼› æŸ¥æ‰¾è·¯å¾„ï¼š â‘  ä½¿ç”¨å°–æ‹¬å·\u003c \u003e(ç³»ç»Ÿæ–‡ä»¶)çš„å¤´æ–‡ä»¶çš„æŸ¥æ‰¾è·¯å¾„ï¼šç¼–è¯‘å™¨è®¾ç½®çš„å¤´æ–‡ä»¶è·¯å¾„â€“\u003eç³»ç»Ÿå˜é‡; â‘¡ ä½¿ç”¨åŒå¼•å·\" \"(è‡ªå®šä¹‰æ–‡ä»¶)çš„å¤´æ–‡ä»¶çš„æŸ¥æ‰¾è·¯å¾„ï¼šå½“å‰å¤´æ–‡ä»¶ç›®å½•â€“\u003eç¼–è¯‘å™¨è®¾ç½®çš„å¤´æ–‡ä»¶è·¯å¾„â€“\u003eç³»ç»Ÿå˜é‡ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:4","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.5 C++ç»“æ„ä½“å’ŒCç»“æ„ä½“çš„åŒºåˆ« â‘ Cçš„ç»“æ„ä½“å†…ä¸å…è®¸æœ‰å‡½æ•°å­˜åœ¨ï¼ŒC++å…è®¸æœ‰å†…éƒ¨æˆå‘˜å‡½æ•°ï¼Œä¸”å…è®¸è¯¥å‡½æ•°æ˜¯è™šå‡½æ•°ï¼› â‘¡Cçš„ç»“æ„ä½“å¯¹å†…éƒ¨æˆå‘˜å˜é‡çš„è®¿é—®æƒé™åªèƒ½æ˜¯publicï¼Œè€ŒC++å…è®¸publicï¼Œprotectedï¼Œprivateä¸‰ç§ï¼› â‘¢C ä¸­ä½¿ç”¨ç»“æ„ä½“éœ€è¦åŠ ä¸Š struct å…³é”®å­—ï¼Œæˆ–è€…å¯¹ç»“æ„ä½“ä½¿ç”¨ typedef å–åˆ«åï¼Œè€Œ C++ ä¸­å¯ä»¥çœç•¥ struct å…³é”®å­—ç›´æ¥ä½¿ç”¨ï¼› â‘£Cè¯­è¨€çš„ç»“æ„ä½“æ˜¯ä¸å¯ä»¥ç»§æ‰¿çš„ï¼ŒC++çš„ç»“æ„ä½“æ˜¯å¯ä»¥ä»å…¶ä»–çš„ç»“æ„ä½“æˆ–è€…ç±»ç»§æ‰¿è¿‡æ¥çš„ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:5","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.6 å¯¼å…¥Cå‡½æ•°çš„å…³é”®å­—æ˜¯ä»€ä¹ˆï¼ŒC++ç¼–è¯‘æ—¶å’ŒCæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ å…³é”®å­—ï¼š åœ¨C++ä¸­ï¼Œå¯¼å…¥Cå‡½æ•°çš„å…³é”®å­—æ˜¯externï¼Œè¡¨è¾¾å½¢å¼ä¸ºextern \"C\"ï¼Œ extern \"C\" çš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºäº†èƒ½å¤Ÿæ­£ç¡®å®ç°C++ä»£ç è°ƒç”¨å…¶ä»–Cè¯­è¨€ä»£ç ã€‚åŠ ä¸Šextern \"C\"åï¼Œä¼šæŒ‡ç¤ºç¼–è¯‘å™¨è¿™éƒ¨åˆ†ä»£ç æŒ‰Cè¯­è¨€çš„è¿›è¡Œç¼–è¯‘ï¼Œè€Œä¸æ˜¯C++çš„ã€‚ ç¼–è¯‘åŒºåˆ«ï¼š ç”±äºC++æ”¯æŒå‡½æ•°é‡è½½ï¼Œå› æ­¤ç¼–è¯‘å™¨ç¼–è¯‘å‡½æ•°çš„è¿‡ç¨‹ä¸­ä¼šå°†å‡½æ•°çš„å‚æ•°ç±»å‹ä¹ŸåŠ åˆ°ç¼–è¯‘åçš„ä»£ç ä¸­ï¼Œè€Œä¸ä»…ä»…æ˜¯å‡½æ•°åï¼›è€ŒCè¯­è¨€å¹¶ä¸æ”¯æŒå‡½æ•°é‡è½½ï¼Œå› æ­¤ç¼–è¯‘Cè¯­è¨€ä»£ç çš„å‡½æ•°æ—¶ä¸ä¼šå¸¦ä¸Šå‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œä¸€èˆ¬åªåŒ…æ‹¬å‡½æ•°åã€‚ æ€»ç»“: åŒºåˆ«åœ¨äºåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æ˜¯å¦å¸¦ä¸Šå‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œc++å¸¦ï¼Œcä¸å¸¦ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:6","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.7 ç®€è¿°C++ä»ä»£ç åˆ°å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„è¿‡ç¨‹ é¢„ç¼–è¯‘ã€ç¼–è¯‘ã€æ±‡ç¼–ã€é“¾æ¥ â‘ é¢„ç¼–è¯‘ï¼šè¿™ä¸ªè¿‡ç¨‹ä¸»è¦çš„å¤„ç†æ“ä½œå¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰ å°†æ‰€æœ‰çš„#defineåˆ é™¤ï¼Œå¹¶ä¸”å±•å¼€æ‰€æœ‰çš„å®å®šä¹‰ ï¼ˆ2ï¼‰ å¤„ç†æ‰€æœ‰çš„æ¡ä»¶é¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œå¦‚#ifã€#ifdef ï¼ˆ3ï¼‰ å¤„ç†#includeé¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œå°†è¢«åŒ…å«çš„æ–‡ä»¶æ’å…¥åˆ°è¯¥é¢„ç¼–è¯‘æŒ‡ä»¤çš„ä½ç½®ã€‚ ï¼ˆ4ï¼‰ è¿‡æ»¤æ‰€æœ‰çš„æ³¨é‡Š ï¼ˆ5ï¼‰ æ·»åŠ è¡Œå·å’Œæ–‡ä»¶åæ ‡è¯† â‘¡ç¼–è¯‘ï¼šè¿™ä¸ªè¿‡ç¨‹ä¸»è¦çš„å¤„ç†æ“ä½œå¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰ è¯æ³•åˆ†æï¼šå°†æºä»£ç çš„å­—ç¬¦åºåˆ—åˆ†å‰²æˆä¸€ç³»åˆ—çš„è®°å·ã€‚ ï¼ˆ2ï¼‰ è¯­æ³•åˆ†æï¼šå¯¹è®°å·è¿›è¡Œè¯­æ³•åˆ†æï¼Œäº§ç”Ÿè¯­æ³•æ ‘ã€‚ ï¼ˆ3ï¼‰ è¯­ä¹‰åˆ†æï¼šåˆ¤æ–­è¡¨è¾¾å¼æ˜¯å¦æœ‰æ„ä¹‰ã€‚ ï¼ˆ4ï¼‰ ä»£ç ä¼˜åŒ–ï¼š ï¼ˆ5ï¼‰ ç›®æ ‡ä»£ç ç”Ÿæˆï¼šç”Ÿæˆæ±‡ç¼–ä»£ç ã€‚ ï¼ˆ6ï¼‰ ç›®æ ‡ä»£ç ä¼˜åŒ– â‘¢æ±‡ç¼–ï¼šè¿™ä¸ªè¿‡ç¨‹ä¸»è¦æ˜¯å°†æ±‡ç¼–ä»£ç è½¬å˜æˆæœºå™¨å¯ä»¥æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ â‘£é“¾æ¥ï¼šå°†ä¸åŒçš„æºæ–‡ä»¶äº§ç”Ÿçš„ç›®æ ‡æ–‡ä»¶è¿›è¡Œé“¾æ¥ï¼Œä»è€Œå½¢æˆä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„ç¨‹åºã€‚ â€‹ é“¾æ¥åˆ†ä¸ºé™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥ã€‚ â€‹ (1) é™æ€é“¾æ¥ï¼Œæ˜¯åœ¨é“¾æ¥çš„æ—¶å€™å°±å·²ç»æŠŠè¦è°ƒç”¨çš„å‡½æ•°æˆ–è€…è¿‡ç¨‹é“¾æ¥åˆ°äº†ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå°±ç®—ä½ å†å»æŠŠé™æ€åº“åˆ é™¤ä¹Ÿä¸ä¼šå½±å“å¯æ‰§è¡Œç¨‹åºçš„æ‰§è¡Œï¼›ç”Ÿæˆçš„é™æ€é“¾æ¥åº“ï¼ŒWindowsä¸‹ä»¥.libä¸ºåç¼€ï¼ŒLinuxä¸‹ä»¥.aä¸ºåç¼€ã€‚ â€‹ (2) åŠ¨æ€é“¾æ¥ï¼Œæ˜¯åœ¨é“¾æ¥çš„æ—¶å€™æ²¡æœ‰æŠŠè°ƒç”¨çš„å‡½æ•°ä»£ç é“¾æ¥è¿›å»ï¼Œè€Œæ˜¯åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå†å»æ‰¾è¦é“¾æ¥çš„å‡½æ•°ï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­æ²¡æœ‰å‡½æ•°ä»£ç ï¼ŒåªåŒ…å«å‡½æ•°çš„é‡å®šä½ä¿¡æ¯ï¼Œæ‰€ä»¥å½“ä½ åˆ é™¤åŠ¨æ€åº“æ—¶ï¼Œå¯æ‰§è¡Œç¨‹åºå°±ä¸èƒ½è¿è¡Œã€‚ç”Ÿæˆçš„åŠ¨æ€é“¾æ¥åº“ï¼ŒWindowsä¸‹ä»¥.dllä¸ºåç¼€ï¼ŒLinuxä¸‹ä»¥.soä¸ºåç¼€ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:7","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.8 staticå…³é”®å­—çš„ä½œç”¨ â‘ å®šä¹‰å…¨å±€é™æ€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡ï¼šåœ¨å˜é‡å‰é¢åŠ ä¸Šstaticå…³é”®å­—ã€‚staticçš„å˜é‡é»˜è®¤åˆå§‹åŒ–ä¸º0ã€‚åˆå§‹åŒ–çš„é™æ€å˜é‡ä¼šåœ¨æ•°æ®æ®µåˆ†é…å†…å­˜ï¼Œæœªåˆå§‹åŒ–çš„é™æ€å˜é‡ä¼šåœ¨BSSæ®µåˆ†é…å†…å­˜ã€‚ç›´åˆ°ç¨‹åºç»“æŸï¼Œé™æ€å˜é‡å§‹ç»ˆä¼šç»´æŒå‰å€¼ã€‚åªä¸è¿‡å…¨å±€é™æ€å˜é‡(åœ¨æ•´ä¸ªå·¥ç¨‹æ–‡ä»¶æœ‰æ•ˆ)å’Œå±€éƒ¨é™æ€å˜é‡(åœ¨å½“å‰å®šä¹‰çš„æ–‡ä»¶å†…æœ‰æ•ˆ)çš„ä½œç”¨åŸŸä¸ä¸€æ ·ï¼› â‘¡å®šä¹‰é™æ€å‡½æ•°ï¼šåœ¨å‡½æ•°è¿”å›ç±»å‹å‰åŠ ä¸Šstaticå…³é”®å­—ï¼Œå‡½æ•°å³è¢«å®šä¹‰ä¸ºé™æ€å‡½æ•°ã€‚é™æ€å‡½æ•°åªèƒ½åœ¨æœ¬æºæ–‡ä»¶ä¸­ä½¿ç”¨ï¼›static int func() â‘¢åœ¨å˜é‡ç±»å‹å‰åŠ ä¸Šstaticå…³é”®å­—ï¼Œå˜é‡å³è¢«å®šä¹‰ä¸ºé™æ€å˜é‡ã€‚é™æ€å˜é‡åªèƒ½åœ¨æœ¬æºæ–‡ä»¶ä¸­ä½¿ç”¨ï¼› â‘£ç±»å†…é™æ€æˆå‘˜å˜é‡: åœ¨c++ä¸­ï¼Œstaticå…³é”®å­—å¯ä»¥ç”¨äºå®šä¹‰ç±»ä¸­çš„é™æ€æˆå‘˜å˜é‡ï¼šä½¿ç”¨é™æ€æ•°æ®æˆå‘˜ï¼Œå®ƒæ—¢å¯ä»¥è¢«å½“æˆå…¨å±€å˜é‡é‚£æ ·å»å­˜å‚¨ï¼Œä½†åˆè¢«éšè—åœ¨ç±»çš„å†…éƒ¨ã€‚ç±»ä¸­çš„staticé™æ€æ•°æ®æˆå‘˜æ‹¥æœ‰ä¸€å—å•ç‹¬çš„å­˜å‚¨åŒºï¼Œè€Œä¸ç®¡åˆ›å»ºäº†å¤šå°‘ä¸ªè¯¥ç±»çš„å¯¹è±¡ã€‚æ‰€æœ‰è¿™äº›å¯¹è±¡çš„é™æ€æ•°æ®æˆå‘˜éƒ½å…±äº«è¿™ä¸€å—é™æ€å­˜å‚¨ç©ºé—´ï¼Œstaticä¿®é¥°çš„å˜é‡è¦åœ¨ç±»å¤–åˆå§‹åŒ–ã€‚ â‘¤ç±»å†…é™æ€æˆå‘˜å‡½æ•°:åœ¨c++ä¸­ï¼Œstaticå…³é”®å­—å¯ä»¥ç”¨äºå®šä¹‰ç±»ä¸­çš„é™æ€æˆå‘˜å‡½æ•°ï¼šä¸é™æ€æˆå‘˜å˜é‡ç±»ä¼¼ï¼Œç±»é‡Œé¢åŒæ ·å¯ä»¥å®šä¹‰é™æ€æˆå‘˜å‡½æ•°ã€‚åªéœ€è¦åœ¨å‡½æ•°å‰åŠ ä¸Šå…³é”®å­—staticå³å¯ã€‚å¦‚é™æ€æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯ç±»çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å¯¹è±¡çš„ä¸€éƒ¨åˆ†ã€‚æ‰€æœ‰è¿™äº›å¯¹è±¡çš„é™æ€æ•°æ®æˆå‘˜éƒ½å…±äº«è¿™ä¸€å—é™æ€å­˜å‚¨ç©ºé—´ï¼Œåªèƒ½è®¿é—®ç±»çš„staticæˆå‘˜å˜é‡ï¼Œstaticä¿®é¥°çš„å˜é‡è¦åœ¨ç±»å¤–åˆå§‹åŒ–ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:8","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.9 æ•°ç»„å’ŒæŒ‡é’ˆçš„åŒºåˆ« æ¦‚å¿µï¼š (1ï¼‰æ•°ç»„ï¼šæ•°ç»„æ˜¯ç”¨äºå‚¨å­˜å¤šä¸ªç›¸åŒç±»å‹æ•°æ®çš„é›†åˆã€‚æ•°ç»„åæ˜¯é¦–å…ƒç´ çš„åœ°å€ã€‚ (2ï¼‰æŒ‡é’ˆï¼šæŒ‡é’ˆç›¸å½“äºä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯å®ƒå’Œä¸€èˆ¬å˜é‡ä¸ä¸€æ ·ï¼Œå®ƒå­˜æ”¾çš„æ˜¯å…¶å®ƒå˜é‡åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚æŒ‡é’ˆåæŒ‡å‘äº†å†…å­˜çš„é¦–åœ°å€ã€‚ åŒºåˆ«ï¼š èµ‹å€¼ï¼šåŒç±»å‹æŒ‡é’ˆå˜é‡å¯ä»¥ç›¸äº’èµ‹å€¼ï¼›æ•°ç»„ä¸è¡Œï¼Œåªèƒ½ä¸€ä¸ªä¸€ä¸ªå…ƒç´ çš„èµ‹å€¼æˆ–æ‹·è´ï¼› å­˜å‚¨æ–¹å¼ï¼š æ•°ç»„ï¼šæ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜æ”¾çš„ï¼Œå¼€è¾Ÿä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚æ•°ç»„æ˜¯æ ¹æ®æ•°ç»„çš„ä¸‹æ ‡è¿›è¡Œè®¿é—®çš„ï¼Œæ•°ç»„çš„å­˜å‚¨ç©ºé—´ï¼Œä¸æ˜¯åœ¨é™æ€åŒºå°±æ˜¯åœ¨æ ˆä¸Šã€‚ æŒ‡é’ˆï¼šæŒ‡é’ˆå¾ˆçµæ´»ï¼Œå®ƒå¯ä»¥æŒ‡å‘ä»»æ„ç±»å‹çš„æ•°æ®ã€‚æŒ‡é’ˆçš„ç±»å‹è¯´æ˜äº†å®ƒæ‰€æŒ‡å‘åœ°å€ç©ºé—´çš„å†…å­˜ã€‚ç”±äºæŒ‡é’ˆæœ¬èº«å°±æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå†åŠ ä¸Šå®ƒæ‰€å­˜æ”¾çš„ä¹Ÿæ˜¯å˜é‡ï¼Œæ‰€ä»¥æŒ‡é’ˆçš„å­˜å‚¨ç©ºé—´ä¸èƒ½ç¡®å®šã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:9","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.10 ä»€ä¹ˆæ˜¯å‡½æ•°æŒ‡é’ˆï¼Œå¦‚ä½•å®šä¹‰å‡½æ•°æŒ‡é’ˆï¼Œæœ‰ä»€ä¹ˆä½¿ç”¨åœºæ™¯ æ¦‚å¿µï¼š å‡½æ•°æŒ‡é’ˆå°±æ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡ã€‚æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªå…¥å£åœ°å€ï¼Œè¯¥å‡½æ•°å…¥å£åœ°å€å°±æ˜¯å‡½æ•°æŒ‡é’ˆæ‰€æŒ‡å‘çš„åœ°å€ã€‚ å®šä¹‰å½¢å¼ï¼š int func(int a); int (*f)(int a); f = \u0026func; ä½¿ç”¨åœºæ™¯ï¼š å›è°ƒï¼ˆcallbackï¼‰ã€‚æˆ‘ä»¬è°ƒç”¨åˆ«äººæä¾›çš„ APIå‡½æ•°(Application Programming Interface,åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£)ï¼Œç§°ä¸ºCallï¼›å¦‚æœåˆ«äººçš„åº“é‡Œé¢è°ƒç”¨æˆ‘ä»¬çš„å‡½æ•°ï¼Œå°±å«Callbackã€‚ //ä»¥åº“å‡½æ•°qsortæ’åºå‡½æ•°ä¸ºä¾‹ï¼Œå®ƒçš„åŸå‹å¦‚ä¸‹ï¼š void qsort(void *base,//void*ç±»å‹ï¼Œä»£è¡¨åŸå§‹æ•°ç»„ size_t nmemb, //ç¬¬äºŒä¸ªæ˜¯size_tç±»å‹ï¼Œä»£è¡¨æ•°æ®æ•°é‡ size_t size, //ç¬¬ä¸‰ä¸ªæ˜¯size_tç±»å‹ï¼Œä»£è¡¨å•ä¸ªæ•°æ®å ç”¨ç©ºé—´å¤§å° int(*compar)(const void *,const void *)//ç¬¬å››ä¸ªå‚æ•°æ˜¯å‡½æ•°æŒ‡é’ˆ ); //ç¬¬å››ä¸ªå‚æ•°å‘Šè¯‰qsortï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ªå‡½æ•°æ¥æ¯”è¾ƒå…ƒç´ ï¼Œå³åªè¦æˆ‘ä»¬å‘Šè¯‰qsortæ¯”è¾ƒå¤§å°çš„è§„åˆ™ï¼Œå®ƒå°±å¯ä»¥å¸®æˆ‘ä»¬å¯¹ä»»æ„æ•°æ®ç±»å‹çš„æ•°ç»„è¿›è¡Œæ’åºã€‚åœ¨åº“å‡½æ•°qsortè°ƒç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°ï¼Œè¿™å°±æ˜¯å›è°ƒçš„åº”ç”¨ã€‚ //ç¤ºä¾‹ int num[100]; int cmp_int(const void* _a , const void* _b){//å‚æ•°æ ¼å¼å›ºå®š int* a = (int*)_a; //å¼ºåˆ¶ç±»å‹è½¬æ¢ int* b = (int*)_b; return *a - *b;ã€€} qsort(num,100,sizeof(num[0]),cmp_int); //å›è°ƒ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:10","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.11 é™æ€å˜é‡ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ– å¯¹äºCè¯­è¨€çš„å…¨å±€å’Œé™æ€å˜é‡ï¼Œåˆå§‹åŒ–å‘ç”Ÿåœ¨ä»»ä½•ä»£ç æ‰§è¡Œä¹‹å‰ï¼Œå±äºç¼–è¯‘æœŸåˆå§‹åŒ–ã€‚ è€ŒC++æ ‡å‡†è§„å®šï¼šå…¨å±€æˆ–é™æ€å¯¹è±¡å½“ä¸”ä»…å½“å¯¹è±¡é¦–æ¬¡ç”¨åˆ°æ—¶æ‰è¿›è¡Œæ„é€ ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:11","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.12 nullptrè°ƒç”¨æˆå‘˜å‡½æ•°å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ å¯ä»¥ã€‚å› ä¸ºåœ¨ç¼–è¯‘æ—¶å¯¹è±¡å°±ç»‘å®šäº†å‡½æ•°åœ°å€ï¼Œå’ŒæŒ‡é’ˆç©ºä¸ç©ºæ²¡å…³ç³»ã€‚ //ç»™å‡ºå®ä¾‹ class animal { public: void sleep() { cout \u003c\u003c \"animal sleep\" \u003c\u003c endl; } void breathe() { cout \u003c\u003c \"animal breathe haha\" \u003c\u003c endl; } }; class fish :public animal { public: void breathe(){ cout \u003c\u003c \"fish bubble\" \u003c\u003c endl; } }; int main() { animal *pAn=nullptr; //ç±»æŒ‡é’ˆ pAn-\u003ebreathe(); // è¾“å‡ºï¼šanimal breathe haha fish *pFish = nullptr; pFish-\u003ebreathe(); // è¾“å‡ºï¼šfish bubble return 0; } // åŸå› ï¼šå› ä¸ºåœ¨ç¼–è¯‘æ—¶å¯¹è±¡å°±ç»‘å®šäº†å‡½æ•°åœ°å€ï¼Œå’ŒæŒ‡é’ˆç©ºä¸ç©ºæ²¡å…³ç³»ã€‚ // pAn-\u003ebreathe();ç¼–è¯‘çš„æ—¶å€™ï¼Œå‡½æ•°çš„åœ°å€å°±å’ŒæŒ‡é’ˆpAnç»‘å®šäº†ï¼› // è°ƒç”¨breath(*this), thiså°±ç­‰äºpAnã€‚ç”±äºå‡½æ•°ä¸­æ²¡æœ‰éœ€è¦è§£å¼•ç”¨thisçš„åœ°æ–¹ï¼Œæ‰€ä»¥å‡½æ•°è¿è¡Œä¸ä¼šå‡ºé”™ï¼Œ // ä½†æ˜¯è‹¥ç”¨åˆ°thisï¼Œå› ä¸ºthis=nullptrï¼Œè¿è¡Œå‡ºé”™ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:12","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.13 ä»€ä¹ˆæ˜¯é‡æŒ‡é’ˆï¼Œæ€ä¹ˆäº§ç”Ÿçš„ï¼Œå¦‚ä½•é¿å…ï¼Ÿ æ¦‚å¿µï¼š é‡æŒ‡é’ˆå°±æ˜¯æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®æ˜¯ä¸å¯çŸ¥çš„(éšæœºçš„ã€ä¸æ­£ç¡®çš„ã€æ²¡æœ‰æ˜ç¡®é™åˆ¶çš„)ï¼› äº§ç”ŸåŸå› ï¼šé‡Šæ”¾å†…å­˜åæŒ‡é’ˆä¸åŠæ—¶ç½®ç©ºï¼ˆé‡æŒ‡é’ˆï¼‰ï¼Œä¾ç„¶æŒ‡å‘äº†è¯¥å†…å­˜ï¼Œé‚£ä¹ˆå¯èƒ½å‡ºç°éæ³•è®¿é—®çš„é”™è¯¯ã€‚è¿™äº›æˆ‘ä»¬éƒ½è¦æ³¨æ„é¿å…ã€‚(å†…å­˜æ³„éœ²) é¿å…åŠæ³•ï¼š ï¼ˆ1ï¼‰åˆå§‹åŒ–ç½®NULL ï¼ˆ2ï¼‰ç”³è¯·å†…å­˜ååˆ¤ç©º ï¼ˆ3ï¼‰æŒ‡é’ˆé‡Šæ”¾åç½®NULL ï¼ˆ4ï¼‰ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:13","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.14 é™æ€å±€éƒ¨å˜é‡ï¼Œå…¨å±€å˜é‡ï¼Œå±€éƒ¨å˜é‡çš„ç‰¹ç‚¹ï¼Œä»¥åŠä½¿ç”¨åœºæ™¯ â‘ é¦–å…ˆä»ä½œç”¨åŸŸè€ƒè™‘ï¼š C++é‡Œä½œç”¨åŸŸå¯åˆ†ä¸º6ç§ï¼šå…¨å±€ï¼Œå±€éƒ¨ï¼Œç±»ï¼Œè¯­å¥ï¼Œå‘½åç©ºé—´å’Œæ–‡ä»¶ä½œç”¨åŸŸã€‚ å…¨å±€å˜é‡ï¼šå…¨å±€ä½œç”¨åŸŸï¼Œå¯ä»¥é€šè¿‡externä½œç”¨äºå…¶ä»–éå®šä¹‰çš„æºæ–‡ä»¶ã€‚ é™æ€å…¨å±€å˜é‡ ï¼šå…¨å±€ä½œç”¨åŸŸ+æ–‡ä»¶ä½œç”¨åŸŸï¼Œæ‰€ä»¥æ— æ³•åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚ å±€éƒ¨å˜é‡ï¼šå±€éƒ¨ä½œç”¨åŸŸï¼Œæ¯”å¦‚å‡½æ•°çš„å‚æ•°ï¼Œå‡½æ•°å†…çš„å±€éƒ¨å˜é‡ç­‰ç­‰ã€‚ é™æ€å±€éƒ¨å˜é‡ ï¼šå±€éƒ¨ä½œç”¨åŸŸï¼Œåªè¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼Œç›´åˆ°ç¨‹åºç»“æŸã€‚ â‘¡ä»æ‰€åœ¨ç©ºé—´è€ƒè™‘ï¼šé™¤äº†å±€éƒ¨å˜é‡åœ¨æ ˆä¸Šå¤–ï¼Œå…¶ä»–éƒ½åœ¨é™æ€å­˜å‚¨åŒºã€‚å› ä¸ºé™æ€å˜é‡éƒ½åœ¨é™æ€å­˜å‚¨åŒºï¼Œæ‰€ä»¥ä¸‹æ¬¡è°ƒç”¨å‡½æ•°çš„æ—¶å€™è¿˜æ˜¯èƒ½å–åˆ°åŸæ¥çš„å€¼ã€‚ â‘¢ç”Ÿå‘½å‘¨æœŸï¼š å±€éƒ¨å˜é‡åœ¨æ ˆä¸Šï¼Œå‡ºäº†ä½œç”¨åŸŸå°±å›æ”¶å†…å­˜ï¼›è€Œå…¨å±€å˜é‡ã€é™æ€å…¨å±€å˜é‡ã€é™æ€å±€éƒ¨å˜é‡éƒ½åœ¨é™æ€å­˜å‚¨åŒºï¼Œç›´åˆ°ç¨‹åºç»“æŸæ‰ä¼šå›æ”¶å†…å­˜ã€‚ â‘£ä½¿ç”¨åœºæ™¯ï¼šä»å®ƒä»¬å„è‡ªç‰¹ç‚¹å°±å¯ä»¥çœ‹å‡ºå„è‡ªçš„åº”ç”¨åœºæ™¯ï¼Œä¸å†èµ˜è¿°ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:14","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.15 C++ç»§æ‰¿ â‘ å…¬æœ‰ç»§æ‰¿publicï¼šåŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ä½œä¸ºæ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œå®ƒä»¬éƒ½ä¿æŒåŸæœ‰çš„çŠ¶æ€ï¼Œè€ŒåŸºç±»çš„ç§æœ‰æˆå‘˜ä»ç„¶æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½è¢«è¿™ä¸ªæ´¾ç”Ÿç±»çš„å­ç±»æ‰€è®¿é—®ã€‚ â‘¡ç§æœ‰ç»§æ‰¿privateï¼šç§æœ‰ç»§æ‰¿çš„ç‰¹ç‚¹æ˜¯åŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜éƒ½ä½œä¸ºæ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ï¼Œå¹¶ä¸”ä¸èƒ½è¢«è¿™ä¸ªæ´¾ç”Ÿç±»çš„å­ç±»æ‰€è®¿é—®ã€‚ â‘¢ä¿æŠ¤ç»§æ‰¿protectï¼šä¿æŠ¤ç»§æ‰¿çš„ç‰¹ç‚¹æ˜¯åŸºç±»çš„æ‰€æœ‰å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜éƒ½æˆä¸ºæ´¾ç”Ÿç±»çš„ä¿æŠ¤æˆå‘˜ï¼Œå¹¶ä¸”åªèƒ½è¢«å®ƒçš„æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°æˆ–å‹å…ƒè®¿é—®ï¼ŒåŸºç±»çš„ç§æœ‰æˆå‘˜ä»ç„¶æ˜¯ç§æœ‰çš„ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:15","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.16 å¸¸é‡æŒ‡é’ˆå’ŒæŒ‡é’ˆå¸¸é‡ å¸¸é‡æŒ‡é’ˆ: å†…å­˜é‡Œçš„å€¼ä¸å˜ æŒ‡é’ˆå¸¸é‡: æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜åœ°å€ä¸å˜ 1. const int a; //æŒ‡çš„æ˜¯aæ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸å…è®¸ä¿®æ”¹ã€‚ 2. const int *a; //aæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜é‡Œçš„å€¼ä¸å˜ï¼Œå³ï¼ˆ*aï¼‰ä¸å˜ å¸¸é‡æŒ‡é’ˆ 3. int const *a; //åŒconst int *a; 4. int *const a; //aæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜åœ°å€ä¸å˜ï¼Œå³aä¸å˜ æŒ‡é’ˆå¸¸é‡ 5. const int *const a; //éƒ½ä¸å˜ï¼Œå³ï¼ˆ*aï¼‰ä¸å˜ï¼Œaä¹Ÿä¸å˜ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:16","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.17 å†…è”å‡½æ•°å’Œå‡½æ•°çš„åŒºåˆ« â‘ å†…è”å‡½æ•°æ¯”æ™®é€šå‡½æ•°å¤šäº†å…³é”®å­—inlineï¼› â‘¡å†…è”å‡½æ•°é¿å…äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼›æ™®é€šå‡½æ•°æœ‰è°ƒç”¨çš„å¼€é”€ï¼› â‘¢æ™®é€šå‡½æ•°åœ¨è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦å¯»å€ï¼ˆå‡½æ•°å…¥å£åœ°å€ï¼‰ï¼›å†…è”å‡½æ•°ä¸éœ€è¦å¯»å€ã€‚ â‘£å†…è”å‡½æ•°æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œå†…è”å‡½æ•°ä½“è¦æ±‚ä»£ç ç®€å•ï¼Œä¸èƒ½åŒ…å«å¤æ‚çš„ç»“æ„æ§åˆ¶è¯­å¥(å†…è”å‡½æ•°å†…ä¸å…è®¸ç”¨å¾ªç¯è¯­å¥å’Œå¼€å…³è¯­å¥ã€‚æ™®é€šå‡½æ•°æ²¡æœ‰è¿™ä¸ªè¦æ±‚ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:1:17","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.18 ç®€è¿°C++æœ‰å‡ ç§ä¼ å€¼æ–¹å¼ï¼Œä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ å€¼ä¼ é€’ã€å¼•ç”¨ä¼ é€’ã€æŒ‡é’ˆä¼ é€’ â‘ å€¼ä¼ é€’ï¼šå½¢å‚å³ä½¿åœ¨å‡½æ•°ä½“å†…å€¼å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿä¸ä¼šå½±å“å®å‚çš„å€¼ï¼› â‘¡å¼•ç”¨ä¼ é€’ï¼šå½¢å‚åœ¨å‡½æ•°ä½“å†…å€¼å‘ç”Ÿå˜åŒ–ï¼Œä¼šå½±å“å®å‚çš„å€¼ï¼› â‘¢æŒ‡é’ˆä¼ é€’ï¼šåœ¨æŒ‡é’ˆæŒ‡å‘æ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„å‰æä¸‹ï¼Œå½¢å‚åœ¨å‡½æ•°ä½“å†…å€¼å‘ç”Ÿå˜åŒ–ï¼Œä¼šå½±å“å®å‚çš„å€¼ï¼› ","date":"2023-07-11","objectID":"/posts/basics_one/:1:18","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.19 å†…è”å‡½æ•°å’Œå®å‡½æ•°çš„åŒºåˆ« å®å¸¸é‡\u0026å®å‡½æ•° å®šä¹‰: // a. å®šä¹‰ä¸€ä¸ªå®å¸¸é‡ #define MAX 1024 // å®å¸¸é‡ MAXç§°ä¸ºç¬¦å·å¸¸é‡ // b. å®šä¹‰ä¸€ä¸ªå®å‡½æ•° // å®å‡½æ•°:å®å‡½æ•°å°±æ˜¯ä½¿ç”¨å®å®šä¹‰å®šä¹‰å‡ºæ¥çš„å‡½æ•°,å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„å‡½æ•°ã€‚ #define GETSUM(x, y) ((x) + (y)) // å®å‡½æ•° ä½¿ç”¨å®å‡½æ•°çš„æ³¨æ„äº‹é¡¹: è¦ä¿è¯è¿ç®—çš„å®Œæ•´æ€§ï¼› å®å‡½æ•°çš„ä½¿ç”¨åœºæ™¯:é¢‘ç¹è°ƒç”¨å’ŒçŸ­å°çš„å‡½æ•°,å°è£…æˆå®å‡½æ•°ï¼› ä½¿ç”¨å®å‡½æ•°çš„ä¼˜ç‚¹:ä»¥ç©ºé—´æ¢æ—¶é—´ï¼› å®å®šä¹‰å’Œå‡½æ•°çš„åŒºåˆ«: å®åœ¨é¢„å¤„ç†é˜¶æ®µå®Œæˆæ›¿æ¢ï¼Œä¹‹åè¢«æ›¿æ¢çš„æ–‡æœ¬å‚ä¸ç¼–è¯‘ï¼Œç›¸å½“äºç›´æ¥æ’å…¥äº†ä»£ç ï¼Œè¿è¡Œæ—¶ä¸å­˜åœ¨å‡½æ•°è°ƒç”¨ï¼Œæ‰§è¡Œèµ·æ¥æ›´å¿«ï¼›å‡½æ•°è°ƒç”¨åœ¨è¿è¡Œæ—¶éœ€è¦è·³è½¬åˆ°å…·ä½“è°ƒç”¨å‡½æ•°ï¼› å®å®šä¹‰å±äºåœ¨ç»“æ„ä¸­æ’å…¥ä»£ç ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼›å‡½æ•°è°ƒç”¨å…·æœ‰è¿”å›å€¼ï¼› å®å®šä¹‰å‚æ•°æ²¡æœ‰ç±»å‹ï¼Œä¸è¿›è¡Œç±»å‹æ£€æŸ¥ï¼›å‡½æ•°å‚æ•°å…·æœ‰ç±»å‹ï¼Œéœ€è¦æ£€æŸ¥ç±»å‹ï¼› å®å®šä¹‰ä¸è¦åœ¨æœ€ååŠ åˆ†å·ï¼› å®å®šä¹‰å’Œtypedefçš„åŒºåˆ«: å®ä¸»è¦ç”¨äºå®šä¹‰å¸¸é‡åŠä¹¦å†™å¤æ‚çš„å†…å®¹ï¼›typedefä¸»è¦ç”¨äºå®šä¹‰ç±»å‹åˆ«åï¼› å®æ›¿æ¢å‘ç”Ÿåœ¨é¢„ç¼–è¯‘é˜¶æ®µï¼Œå±äºæ–‡æœ¬æ’å…¥æ›¿æ¢ï¼›typedefæ˜¯ç¼–è¯‘çš„ä¸€éƒ¨åˆ†ï¼› å®ä¸æ£€æŸ¥ç±»å‹ï¼›typedefä¼šæ£€æŸ¥æ•°æ®ç±»å‹ï¼› å®ä¸æ˜¯è¯­å¥ï¼Œä¸åœ¨åœ¨æœ€ååŠ åˆ†å·ï¼›typedefæ˜¯è¯­å¥ï¼Œè¦åŠ åˆ†å·æ ‡è¯†ç»“æŸï¼› æ³¨æ„å¯¹æŒ‡é’ˆçš„æ“ä½œï¼Œtypedef char * p_charå’Œ#define p_char char *åŒºåˆ«å·¨å¤§ï¼› å®å‡½æ•°å’Œå†…è”å‡½æ•°çš„åŒºåˆ«: 1.åœ¨ä½¿ç”¨æ—¶ï¼Œå®åªåšç®€å•å­—ç¬¦ä¸²æ›¿æ¢ï¼ˆç¼–è¯‘å‰æˆ–è€…é¢„ç¼–è¯‘é˜¶æ®µï¼‰ã€‚è€Œå†…è”å‡½æ•°å¯ä»¥è¿›è¡Œå‚æ•°ç±»å‹æ£€æŸ¥ï¼ˆç¼–è¯‘æ—¶ï¼‰ï¼Œä¸”å…·æœ‰è¿”å›å€¼ï¼› 2.å†…è”å‡½æ•°åœ¨ç¼–è¯‘æ—¶ç›´æ¥å°†å‡½æ•°ä»£ç åµŒå…¥åˆ°ç›®æ ‡ä»£ç ä¸­ï¼Œçœå»å‡½æ•°è°ƒç”¨çš„å¼€é”€æ¥æé«˜æ‰§è¡Œæ•ˆç‡ï¼Œå¹¶ä¸”è¿›è¡Œå‚æ•°ç±»å‹æ£€æŸ¥ï¼Œå…·æœ‰è¿”å›å€¼ï¼Œå¯ä»¥å®ç°é‡è½½ï¼› 3.å®å®šä¹‰æ—¶è¦æ³¨æ„ä¹¦å†™ï¼ˆå‚æ•°è¦æ‹¬èµ·æ¥ï¼‰å¦åˆ™å®¹æ˜“å‡ºç°æ­§ä¹‰(ä¿è¯è¿ç®—çš„å®Œæ•´æ€§)ï¼Œå†…è”å‡½æ•°ä¸ä¼šäº§ç”Ÿæ­§ä¹‰ï¼› 4.å†…è”å‡½æ•°æœ‰ç±»å‹æ£€æµ‹ã€è¯­æ³•åˆ¤æ–­ç­‰åŠŸèƒ½ï¼Œè€Œå®æ²¡æœ‰ï¼› defineå®å®šä¹‰å’Œconstçš„åŒºåˆ«: å¤„ç†é˜¶æ®µï¼šdefineæ˜¯åœ¨ç¼–è¯‘çš„é¢„å¤„ç†é˜¶æ®µèµ·ä½œç”¨ï¼Œè€Œconstæ˜¯åœ¨ç¼–è¯‘ã€è¿è¡Œçš„æ—¶å€™èµ·ä½œç”¨ï¼› å®‰å…¨æ€§ï¼š defineåªåšæ›¿æ¢ï¼Œä¸åšç±»å‹æ£€æŸ¥å’Œè®¡ç®—ï¼Œä¹Ÿä¸æ±‚è§£ï¼Œå®¹æ˜“äº§ç”Ÿé”™è¯¯ï¼Œä¸€èˆ¬æœ€å¥½åŠ ä¸Šä¸€ä¸ªå¤§æ‹¬å·åŒ…å«ä½å…¨éƒ¨çš„å†…å®¹ï¼Œè¦ä¸ç„¶å¾ˆå®¹æ˜“å‡ºé”™ï¼› constå¸¸é‡æœ‰æ•°æ®ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥å¯¹å…¶è¿›è¡Œç±»å‹å®‰å…¨æ£€æŸ¥ï¼› å†…å­˜å ç”¨ï¼š defineåªæ˜¯å°†å®åç§°è¿›è¡Œæ›¿æ¢ï¼Œåœ¨å†…å­˜ä¸­ä¼šäº§ç”Ÿå¤šä»½ç›¸åŒçš„å¤‡ä»½ã€‚conståœ¨ç¨‹åºè¿è¡Œä¸­åªæœ‰ä¸€ä»½å¤‡ä»½ï¼Œä¸”å¯ä»¥æ‰§è¡Œå¸¸é‡æŠ˜å ï¼Œèƒ½å°†å¤æ‚çš„çš„è¡¨è¾¾å¼è®¡ç®—å‡ºç»“æœæ”¾å…¥å¸¸é‡è¡¨ï¼› å®å®šä¹‰çš„æ•°æ®æ²¡æœ‰åˆ†é…å†…å­˜ç©ºé—´ï¼Œåªæ˜¯æ’å…¥æ›¿æ¢æ‰ï¼›constå®šä¹‰çš„å˜é‡åªæ˜¯å€¼ä¸èƒ½æ”¹å˜ï¼Œä½†è¦åˆ†é…å†…å­˜ç©ºé—´ï¼› ","date":"2023-07-11","objectID":"/posts/basics_one/:1:19","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"1.20Â å››ç§castç±»å‹è½¬æ¢ ä½œç”¨ï¼šå…‹æœcè¯­è¨€ä¸­å¼ºåˆ¶ç±»å‹è½¬åŒ–å¸¦æ¥çš„é£é™©ï¼ŒC++å¼•å…¥å››ç§æ›´åŠ å®‰å…¨çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆæ˜ç¡®è½¬æ¢çš„ç›®çš„ï¼Œä¾¿äºç¨‹åºçš„ç»´æŠ¤å’Œåˆ†æï¼‰ const_castï¼šå»é™¤constå±æ€§ // 1.å»é™¤constå±æ€§ï¼Œå°†åªè¯»å˜ä¸ºåªè¯»å†™ // 2.é’ˆå¯¹å¸¸é‡æŒ‡é’ˆã€å¸¸é‡å¼•ç”¨å’Œå¸¸é‡å¯¹è±¡ const char *p; char *p1 = const_cast\u003cchar*\u003e(p); static_cast: å†…ç½®æ•°æ®ç±»å‹ã€åŸºç±»-æ´¾ç”Ÿç±»ä¹‹é—´çš„è½¬æ¢ å†…ç½®æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼Œintè½¬doubleï¼Œcharè½¬int åŸºç±»æŒ‡é’ˆä¸æ´¾ç”Ÿç±»ä¹‹é—´çš„è½¬æ¢ï¼Œåªèƒ½è½¬æ¢æœ‰ç»§æ‰¿æˆ–æ´¾ç”Ÿå…³ç³»çš„ç±»ã€‚ç”¨äºç±»å±‚æ¬¡ç»“æ„ä¹‹é—´åŸºç±»å’Œæ´¾ç”Ÿç±»æŒ‡é’ˆå’Œå¼•ç”¨ä¹‹é—´çš„è½¬æ¢ï¼Œè¿›è¡Œå‘ä¸Šè½¬å‹æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯è¿›è¡Œå‘ä¸‹è½¬å‹æ˜¯ä¸å®‰å…¨çš„ï¼Œä½†æ˜¯æ˜¯å¯ä»¥è½¬æ¢çš„; å‘ä¸Šè½¬å‹(å‘åŸºç±»è½¬æ¢ -\u003e å®‰å…¨)ï¼šæˆ‘ä»¬çŸ¥é“åŸºç±»çš„å¼•ç”¨å’ŒæŒ‡é’ˆéƒ½å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå°†æ´¾ç”Ÿç±»çš„æŒ‡é’ˆæˆ–è€…å¼•ç”¨å¼ºè½¬ä¸ºåŸºç±»çš„æŒ‡é’ˆæˆ–è€…å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯å‘ä¸Šè½¬å‹ï¼Œä¹Ÿå°±æ˜¯å‘çˆ¶ç±»è½¬; å‘ä¸‹è½¬å‹(å‘æ´¾ç”Ÿç±»è½¬æ¢ -\u003e ä¸å®‰å…¨)ï¼šå‘ä¸‹è½¬å‹å°±å’Œå‘ä¸Šè½¬å‹ç›¸åï¼Œå®ƒæ˜¯å°†çˆ¶ç±»çš„æŒ‡é’ˆæˆ–è€…å¼•ç”¨ï¼Œå¼ºåˆ¶è½¬æ¢ä¸ºå­ç±»çš„æŒ‡é’ˆæˆ–è€…å¼•ç”¨ æŠŠvoidç±»å‹æŒ‡é’ˆè½¬æ¢ä¸ºç›®æ ‡ç±»å‹çš„æŒ‡é’ˆ ä»»ä½•ç±»å‹çš„è¡¨è¾¾å¼è½¬åŒ–ä¸ºvoidç±»å‹ // æ•´å½¢è½¬æµ®ç‚¹å‹ int a = 10; double b = static_cast\u003cdouble\u003ea; //åŸºç±»æŒ‡é’ˆè½¬æ´¾ç”Ÿç±» class A{}; class B : public A{}; A *pA = new A; B *pB = static_cast\u003cB*\u003e(pA); reinterpret_cast: å¯ä»¥å°†ä¸€ä¸ªç±»å‹çš„æŒ‡é’ˆè½¬æ¢ä¸ºå…¶å®ƒä»»æ„ç±»å‹çš„æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨æŒ‡é’ˆå’Œæ•´å½¢æ•°æ®ä¹‹é—´çš„è½¬æ¢ã€‚å®ƒæ˜¯å¾ˆå±é™©çš„ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨å®ƒçš„å……åˆ†ç†ç”±ï¼Œé‚£ä¹ˆå°±ä¸è¦ä½¿ç”¨å®ƒ ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›è¾ƒä½å±‚æ¬¡ä¸Šçš„é‡æ–°è§£é‡Š ç”¨äºåº•å±‚çš„å¼ºåˆ¶è½¬æ¢ï¼Œä¾èµ–äºæœºå™¨ï¼Œä¸€èˆ¬ä½¿ç”¨è¾ƒå°‘ dynamic_cast: è¿è¡Œæ—¶å¤„ç†ï¼›åŸºç±»å‘æ´¾ç”Ÿç±»è½¬æ¢æ—¶æ¯”static_castæ›´å®‰å…¨ dynamic_castæ˜¯è¿è¡Œæ—¶å¤„ç†çš„ï¼Œè¿è¡Œæ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå…¶ä»–ä¸‰ç§æ˜¯ç¼–è¯‘æ—¶å¤„ç†çš„ ä¸èƒ½ç”¨äºå†…ç½®æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢ dynamic_caståœ¨è¿›è¡Œä¸Šè¡Œè½¬æ¢æ—¶å’Œstatic_castæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿›è¡Œä¸‹è¡Œè½¬æ¢æ—¶ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ¯”static_castæ›´åŠ å®‰å…¨ï¼Œä¸‹è¡Œè½¬æ¢æ˜¯å¦æˆåŠŸå–å†³äºè½¬æ¢å¯¹è±¡çš„å®é™…ç±»å‹ä¸ç›®æ ‡ç±»å‹æ˜¯å¦ç›¸åŒ è¦æ±‚åŸºç±»å¿…é¡»å…·æœ‰è™šå‡½æ•°ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ è‹¥è½¬æ¢æˆåŠŸï¼Œè¿”å›çš„æ˜¯æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œä¸æˆåŠŸè¿”å›NULL ","date":"2023-07-11","objectID":"/posts/basics_one/:1:20","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2. åŸºç¡€çŸ¥è¯†ï¼ˆäºŒï¼‰ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.1 å†™å‡º int ã€boolã€ float ã€æŒ‡é’ˆå˜é‡ä¸ â€œé›¶å€¼â€æ¯”è¾ƒçš„if è¯­å¥ //intä¸é›¶å€¼æ¯”è¾ƒ if ( n == 0 ) if ( n != 0 ) //boolä¸é›¶å€¼æ¯”è¾ƒ if (flag) // è¡¨ç¤ºflagä¸ºçœŸ if (!flag) // è¡¨ç¤ºflagä¸ºå‡ //floatä¸é›¶å€¼æ¯”è¾ƒ const float EPSINON = 0.00001; if ((x \u003e= - EPSINON) \u0026\u0026 (x \u003c= EPSINON) //å…¶ä¸­EPSINONæ˜¯å…è®¸çš„è¯¯å·®ï¼ˆå³ç²¾åº¦ï¼‰ã€‚ //æŒ‡é’ˆå˜é‡ä¸é›¶å€¼æ¯”è¾ƒ if (p == nullptr) if (p != nullptr) ","date":"2023-07-11","objectID":"/posts/basics_one/:2:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.2 å˜é‡çš„å£°æ˜å’Œå®šä¹‰æœ‰ä»€ä¹ˆåŒºåˆ« â‘  å˜é‡çš„å®šä¹‰ä¸ºå˜é‡åˆ†é…åœ°å€å’Œå­˜å‚¨ç©ºé—´ï¼Œ å˜é‡çš„å£°æ˜ä¸åˆ†é…åœ°å€ã€‚ â‘¡ ä¸€ä¸ªå˜é‡å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹å£°æ˜ï¼Œ ä½†æ˜¯åªåœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰ã€‚å£°æ˜å¤šæ¬¡ï¼Œå®šä¹‰ä¸€æ¬¡ã€‚ â‘¢ åŠ å…¥extern ä¿®é¥°çš„æ˜¯å˜é‡çš„å£°æ˜ï¼Œè¯´æ˜æ­¤å˜é‡å°†åœ¨æ–‡ä»¶å¤–éƒ¨æˆ–åœ¨æ–‡ä»¶åé¢éƒ¨åˆ†å®šä¹‰ã€‚ â‘£ è¯´æ˜ï¼šå¾ˆå¤šæ—¶å€™ä¸€ä¸ªå˜é‡ï¼Œåªæ˜¯å£°æ˜ï¼Œä¸åˆ†é…å†…å­˜ç©ºé—´ï¼Œç›´åˆ°å…·ä½“ä½¿ç”¨æ—¶æ‰åˆå§‹åŒ–ï¼Œåˆ†é…å†…å­˜ç©ºé—´ï¼Œ å¦‚å¤–éƒ¨å˜é‡ã€‚ int main() { extern int A; //è¿™æ˜¯ä¸ªå£°æ˜è€Œä¸æ˜¯å®šä¹‰ï¼Œå£°æ˜Aæ˜¯ä¸€ä¸ªå·²ç»å®šä¹‰äº†çš„å¤–éƒ¨å˜é‡ //æ³¨æ„ï¼šå£°æ˜å¤–éƒ¨å˜é‡æ—¶å¯ä»¥æŠŠå˜é‡ç±»å‹å»æ‰å¦‚ï¼šextern A; dosth(); //æ‰§è¡Œå‡½æ•° } int A; //æ˜¯å®šä¹‰ï¼Œå®šä¹‰äº†Aä¸ºæ•´å‹çš„å¤–éƒ¨å˜é‡ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:2","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.3 ç®€è¿° #ifdefã€#elseã€#endifå’Œ#ifndefçš„ä½œç”¨ åˆ©ç”¨ #ifdefã€#endif å°†æŸç¨‹åºåŠŸèƒ½æ¨¡å—åŒ…æ‹¬è¿›å»ï¼Œä»¥å‘ç‰¹å®šç”¨æˆ·æä¾›è¯¥åŠŸèƒ½ã€‚åœ¨ä¸éœ€è¦æ—¶ç”¨æˆ·å¯è½»æ˜“å°†å…¶å±è”½ã€‚ #ifdef MATH #include â€œmath.câ€ #endif //åœ¨å­ç¨‹åºå‰åŠ ä¸Šæ ‡è®°ï¼Œä»¥ä¾¿äºè¿½è¸ªå’Œè°ƒè¯•ã€‚ #ifdef DEBUG printf (â€œIndebuggingâ€¦!â€); #endif åº”å¯¹ç¡¬ä»¶çš„é™åˆ¶ã€‚ç”±äºä¸€äº›å…·ä½“åº”ç”¨ç¯å¢ƒçš„ç¡¬ä»¶ä¸ä¸€æ ·ï¼Œé™äºæ¡ä»¶ï¼Œæœ¬åœ°ç¼ºä¹è¿™ç§è®¾å¤‡ï¼Œåªèƒ½ç»•è¿‡ç¡¬ä»¶ï¼Œç›´æ¥å†™å‡ºé¢„æœŸç»“æœã€‚ æ³¨æ„ï¼šè™½ç„¶ä¸ç”¨æ¡ä»¶ç¼–è¯‘å‘½ä»¤è€Œç›´æ¥ç”¨ifè¯­å¥ä¹Ÿèƒ½è¾¾åˆ°è¦æ±‚ï¼Œä½†é‚£æ ·åšç›®æ ‡ç¨‹åºé•¿ï¼ˆå› ä¸ºæ‰€æœ‰è¯­å¥éƒ½ç¼–è¯‘ï¼‰ï¼Œè¿è¡Œæ—¶é—´é•¿ï¼ˆå› ä¸ºåœ¨ç¨‹åºè¿è¡Œæ—¶é—´å¯¹ifè¯­å¥è¿›è¡Œæµ‹è¯•ï¼‰ã€‚è€Œé‡‡ç”¨æ¡ä»¶ç¼–è¯‘ï¼Œå¯ä»¥å‡å°‘è¢«ç¼–è¯‘çš„è¯­å¥ï¼Œä»è€Œå‡å°‘ç›®æ ‡ç¨‹åºçš„é•¿åº¦ï¼Œå‡å°‘è¿è¡Œæ—¶é—´ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:3","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.4 ç»“æ„ä½“å¯ä»¥ç›´æ¥èµ‹å€¼å—? â‘ ç»“æ„ä½“å£°æ˜æ—¶å¯ä»¥ç›´æ¥åˆå§‹åŒ–ï¼ŒåŒä¸€ç»“æ„ä½“çš„ä¸åŒå¯¹è±¡ä¹‹é—´ä¹Ÿå¯ä»¥ç›´æ¥èµ‹å€¼ï¼Œä½†æ˜¯å½“ç»“æ„ä½“ä¸­å«æœ‰æŒ‡é’ˆâ€œæˆå‘˜â€æ—¶ä¸€å®šè¦å°å¿ƒã€‚ â‘¡æ³¨æ„ï¼šå½“æœ‰å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€æ®µå†…å­˜æ—¶ï¼ŒæŸä¸ªæŒ‡é’ˆé‡Šæ”¾è¿™æ®µå†…å­˜å¯èƒ½ä¼šå¯¼è‡´å…¶ä»–æŒ‡é’ˆçš„éæ³•æ“ä½œã€‚å› æ­¤åœ¨é‡Šæ”¾å‰ä¸€å®šè¦ç¡®ä¿å…¶ä»–æŒ‡é’ˆä¸å†ä½¿ç”¨è¿™æ®µå†…å­˜ç©ºé—´ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:4","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.5 sizeof å’Œstrlen çš„åŒºåˆ« â‘ sizeofæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œstrlenæ˜¯åº“å‡½æ•°ã€‚ â‘¡sizeofçš„å‚æ•°å¯ä»¥æ˜¯æ•°æ®çš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å˜é‡ï¼Œè€Œstrlenåªèƒ½ä»¥ç»“å°¾ä¸ºâ€˜\\0â€™çš„å­—ç¬¦ä¸²ä½œå‚æ•°ã€‚ â‘¢ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°±è®¡ç®—å‡ºäº†sizeofçš„ç»“æœï¼Œè€Œstrlenå‡½æ•°å¿…é¡»åœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºæ¥ã€‚å¹¶ä¸”sizeofè®¡ç®—çš„æ˜¯æ•°æ®ç±»å‹å å†…å­˜çš„å¤§å°ï¼Œè€Œstrlenè®¡ç®—çš„æ˜¯å­—ç¬¦ä¸²å®é™…çš„é•¿åº¦ã€‚ â‘£æ•°ç»„åšsizeofçš„å‚æ•°ä¸é€€åŒ–ï¼Œä¼ é€’ç»™strlenå°±é€€åŒ–ä¸ºæŒ‡é’ˆäº† ","date":"2023-07-11","objectID":"/posts/basics_one/:2:5","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.6 sizeofæ±‚ç±»å‹å¤§å° ref: https://www.cnblogs.com/maji233/p/11439880.html â‘ ç±»çš„å¤§å°ä¸ºç±»çš„éé™æ€æˆå‘˜æ•°æ®çš„ç±»å‹å¤§å°ä¹‹å’Œï¼Œä¹Ÿå°±æ˜¯è¯´é™æ€æˆå‘˜æ•°æ®ä¸ä½œè€ƒè™‘ã€‚ æ™®é€šæˆå‘˜å‡½æ•°ä¸sizeofæ— å…³ã€‚ â‘¡è™šå‡½æ•°ç”±äºè¦ç»´æŠ¤è™šå‡½æ•°è¡¨ï¼Œæ‰€ä»¥è¦å æ®ä¸€ä¸ªæŒ‡é’ˆå¤§å°ï¼Œä¹Ÿå°±æ˜¯4å­—èŠ‚ã€‚ ç±»çš„æ€»å¤§å°ä¹Ÿéµå®ˆç±»ä¼¼classå­—èŠ‚å¯¹é½çš„ï¼Œè°ƒæ•´è§„åˆ™ã€‚ ref: (32 ä½) æŒ‡é’ˆéƒ½æ˜¯ 4ä¸ªå­—èŠ‚ char 1ä¸ªå­—èŠ‚ short ä¸¤ä¸ªå­—èŠ‚ int 4ä¸ªå­—èŠ‚ long 4ä¸ªå­—èŠ‚ long int 4ä¸ªå­—èŠ‚ float 4ä¸ªå­—èŠ‚ double 8ä¸ªå­—èŠ‚ long double 8ä¸ªå­—èŠ‚ (64 å­—èŠ‚) æŒ‡é’ˆéƒ½æ˜¯ä¸€ä¸ªå­—é•¿, 8ä¸ªå­—èŠ‚ char 1ä¸ªå­—èŠ‚ short 2ä¸ªå­—èŠ‚ int 4ä¸ªå­—èŠ‚ long 8ä¸ªå­—èŠ‚ long int 8ä¸ªå­—èŠ‚ double 8ä¸ªå­—èŠ‚ long double ä¹Ÿå¯ä»¥å˜é•¿äº†, 16ä¸ªå­—èŠ‚ ä¾‹å¦‚æœ‰å¦‚ä¸‹ç»“æ„ä½“ï¼š struct Stu //è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œå…è®¸ç”¨æˆ·å­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹ { int id; char sex; float hight; }; é‚£ä¹ˆä¸€ä¸ªè¿™æ ·çš„ç»“æ„ä½“å˜é‡å å¤šå¤§å†…å­˜å‘¢ï¼Ÿä¹Ÿå°±æ˜¯ cout\u003c\u003csizeof(Stu)\u003c\u003cendl; ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ åœ¨äº†è§£å­—èŠ‚å¯¹é½æ–¹å¼ä¹‹å‰æƒ³å½“ç„¶çš„ä¼šä»¥ä¸ºï¼šsizeof(Stu) = sizeof(int)+sizeof(char)+sizeof(float) = 9. ç„¶è€Œäº‹å®å¹¶éå¦‚æ­¤ï¼ å­—èŠ‚å¯¹é½åŸåˆ™: åœ¨ç³»ç»Ÿé»˜è®¤çš„å¯¹é½æ–¹å¼ä¸‹ï¼šæ¯ä¸ªæˆå‘˜ç›¸å¯¹äºè¿™ä¸ªç»“æ„ä½“å˜é‡åœ°å€çš„åç§»é‡æ­£å¥½æ˜¯è¯¥æˆå‘˜ç±»å‹æ‰€å å­—èŠ‚çš„æ•´æ•°å€ï¼Œä¸”æœ€ç»ˆå ç”¨å­—èŠ‚æ•°ä¸ºæˆå‘˜ç±»å‹ä¸­æœ€å¤§å ç”¨å­—èŠ‚æ•°çš„æ•´æ•°å€ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œidçš„åç§»é‡ä¸º0ï¼ˆ0=40ï¼‰ï¼Œsexçš„åç§»é‡ä¸º4ï¼ˆ4=14ï¼‰ï¼Œhightçš„åç§»é‡ä¸º8ï¼ˆ8=24ï¼‰ï¼Œæ­¤æ—¶å ç”¨12å­—èŠ‚ï¼Œä¹ŸåŒæ—¶æ»¡è¶³12=34.æ‰€ä»¥sizeof(Stu)=12. æ€»ç»“ï¼š â‘ æœ€ç»ˆå¤§å°ä¸€å®šæ˜¯æœ€å¤§æ•°æ®ç±»å‹çš„æ•´æ•°å€ï¼› â‘¡é™æ€å˜é‡ä¸å ç©ºé—´ â‘¢æ¯ç§ç±»å‹çš„åç§»é‡ä¸ºè‡ªèº«çš„nå€ï¼› è¯¦ç»†è¯·æŸ¥é˜…ï¼šstruct/classç­‰å†…å­˜å­—èŠ‚å¯¹é½é—®é¢˜è¯¦è§£ ref: structåœ°å€åç§»é‡è®¡ç®— ","date":"2023-07-11","objectID":"/posts/basics_one/:2:6","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.7 C è¯­è¨€çš„å…³é”®å­— static å’Œ C++ çš„å…³é”®å­— static æœ‰ä»€ä¹ˆåŒºåˆ« â‘ åœ¨ C ä¸­ static ç”¨æ¥ä¿®é¥°å±€éƒ¨é™æ€å˜é‡å’Œå¤–éƒ¨é™æ€å˜é‡ã€å‡½æ•°ã€‚è€Œ C++ä¸­é™¤äº†ä¸Šè¿°åŠŸèƒ½å¤–ï¼Œè¿˜ç”¨æ¥å®šä¹‰ç±»çš„æˆå‘˜å˜é‡å’Œå‡½æ•°ã€‚å³é™æ€æˆå‘˜å’Œé™æ€æˆå‘˜å‡½æ•°ã€‚ â‘¡æ³¨æ„ï¼šç¼–ç¨‹æ—¶ static çš„è®°å¿†æ€§å’Œå…¨å±€æ€§çš„ç‰¹ç‚¹å¯ä»¥è®©åœ¨ä¸åŒæ—¶æœŸè°ƒç”¨çš„å‡½æ•°è¿›è¡Œé€šä¿¡ï¼Œä¼ é€’ä¿¡æ¯ï¼Œè€Œ C++çš„é™æ€æˆå‘˜åˆ™å¯ä»¥åœ¨å¤šä¸ªå¯¹è±¡å®ä¾‹é—´è¿›è¡Œé€šä¿¡ï¼Œä¼ é€’ä¿¡æ¯ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:7","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.8 ï¼£ è¯­è¨€çš„ malloc å’Œ ï¼£ï¼‹ï¼‹ ä¸­çš„ new æœ‰ä»€ä¹ˆåŒºåˆ« â‘ new ã€delete æ˜¯æ“ä½œç¬¦ï¼Œå¯ä»¥é‡è½½ï¼Œåªèƒ½åœ¨C++ ä¸­ä½¿ç”¨ã€‚ â‘¡mallocã€free æ˜¯å‡½æ•°ï¼Œå¯ä»¥è¦†ç›–ï¼ŒCã€C++ ä¸­éƒ½å¯ä»¥ä½¿ç”¨ã€‚ â‘¢new å¯ä»¥è°ƒç”¨å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œå¯¹åº”çš„delete è°ƒç”¨ç›¸åº”çš„ææ„å‡½æ•°ã€‚ â‘£malloc ä»…ä»…åˆ†é…å†…å­˜ï¼Œfree ä»…ä»…å›æ”¶å†…å­˜ï¼Œå¹¶ä¸æ‰§è¡Œæ„é€ å’Œææ„å‡½æ•°ã€‚ â‘¤new ã€delete è¿”å›çš„æ˜¯æŸç§æ•°æ®ç±»å‹æŒ‡é’ˆï¼Œmallocã€free è¿”å›çš„æ˜¯void æŒ‡é’ˆã€‚ æ³¨æ„ï¼šmalloc ç”³è¯·çš„å†…å­˜ç©ºé—´è¦ç”¨free é‡Šæ”¾ï¼Œè€Œnew ç”³è¯·çš„å†…å­˜ç©ºé—´è¦ç”¨delete é‡Šæ”¾ï¼Œä¸è¦æ··ç”¨ã€‚ 2.11 new å’Œ mallocçš„åŒºåˆ« ","date":"2023-07-11","objectID":"/posts/basics_one/:2:8","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.9 å†™ä¸€ä¸ª â€œæ ‡å‡†â€ å®MIN #define min(a,b) ((a)\u003c=(b)?(a):(b)) ","date":"2023-07-11","objectID":"/posts/basics_one/:2:9","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.10 ++iå’Œi++çš„åŒºåˆ« ++iå…ˆè‡ªå¢1ï¼Œå†è¿”å›ï¼›i++å…ˆè¿”å›i,å†è‡ªå¢1 å‰ç½®ç‰ˆæœ¬å°†å¯¹è±¡æœ¬èº«ä½œä¸ºå·¦å€¼è¿”å›ï¼Œåç½®ç‰ˆæœ¬å°†å¯¹è±¡åŸå§‹å€¼çš„å‰¯æœ¬ä½œä¸ºå³å€¼è¿”å›ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:10","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.11 newå’Œmallocçš„åŒºåˆ«ï¼Œå„è‡ªåº•å±‚å®ç°åŸç† (delete å’Œ freeç±»ä¼¼) â‘ newæ˜¯æ“ä½œç¬¦ï¼Œè€Œmallocæ˜¯å‡½æ•°ã€‚ â‘¡newåœ¨è°ƒç”¨çš„æ—¶å€™å…ˆåˆ†é…å†…å­˜ï¼Œå†è°ƒç”¨æ„é€ å‡½æ•°ï¼Œé‡Šæ”¾çš„æ—¶å€™è°ƒç”¨ææ„å‡½æ•°ï¼›è€Œmallocæ²¡æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚ â‘¢mallocéœ€è¦ç»™å®šç”³è¯·å†…å­˜çš„å¤§å°ï¼Œè¿”å›çš„æŒ‡é’ˆéœ€è¦å¼ºè½¬ï¼›newä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œä¸ç”¨æŒ‡å®šå†…å­˜çš„å¤§å°ï¼Œè¿”å›æŒ‡é’ˆä¸ç”¨å¼ºè½¬ã€‚ â‘£newå¯ä»¥è¢«é‡è½½ï¼›mallocä¸è¡Œ â‘¤newåˆ†é…å†…å­˜æ›´ç›´æ¥å’Œå®‰å…¨ã€‚ â‘¥newå‘ç”Ÿé”™è¯¯æŠ›å‡ºå¼‚å¸¸ï¼Œmallocè¿”å›null ","date":"2023-07-11","objectID":"/posts/basics_one/:2:11","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.12 const å’Œ define çš„åŒºåˆ« åŒºåˆ« ï¼ˆ1ï¼‰å°±èµ·ä½œç”¨çš„é˜¶æ®µè€Œè¨€ï¼š #defineæ˜¯åœ¨ç¼–è¯‘çš„é¢„å¤„ç†é˜¶æ®µèµ·ä½œç”¨ï¼Œè€Œconstæ˜¯åœ¨ ç¼–è¯‘ã€è¿è¡Œçš„æ—¶å€™èµ·ä½œç”¨ã€‚ ï¼ˆ2ï¼‰å°±èµ·ä½œç”¨çš„æ–¹å¼è€Œè¨€ï¼š #defineåªæ˜¯ç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢ï¼Œæ²¡æœ‰ç±»å‹æ£€æŸ¥ã€‚è€Œconstæœ‰å¯¹åº”çš„æ•°æ®ç±»å‹ï¼Œæ˜¯è¦è¿›è¡Œåˆ¤æ–­çš„ï¼Œå¯ä»¥é¿å…ä¸€äº›ä½çº§çš„é”™è¯¯ã€‚ ï¼ˆ3ï¼‰å°±å­˜å‚¨æ–¹å¼è€Œè¨€ï¼š#defineåªæ˜¯è¿›è¡Œå±•å¼€ï¼Œæœ‰å¤šå°‘åœ°æ–¹ä½¿ç”¨ï¼Œå°±æ›¿æ¢å¤šå°‘æ¬¡ï¼Œå®ƒå®šä¹‰çš„å®å¸¸é‡åœ¨å†…å­˜ä¸­æœ‰è‹¥å¹²ä¸ªå¤‡ä»½ï¼›constå®šä¹‰çš„åªè¯»å˜é‡åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åªæœ‰ä¸€ä»½å¤‡ä»½ã€‚ ï¼ˆ4ï¼‰ä»ä»£ç è°ƒè¯•çš„æ–¹ä¾¿ç¨‹åº¦è€Œè¨€ï¼š constå¸¸é‡å¯ä»¥è¿›è¡Œè°ƒè¯•çš„ï¼Œdefineæ˜¯ä¸èƒ½è¿›è¡Œè°ƒè¯•çš„ï¼Œå› ä¸ºåœ¨é¢„ç¼–è¯‘é˜¶æ®µå°±å·²ç»æ›¿æ¢æ‰äº†ã€‚ constä¼˜ç‚¹ï¼š ï¼ˆ1ï¼‰constå¸¸é‡æœ‰æ•°æ®ç±»å‹ï¼Œè€Œå®å¸¸é‡æ²¡æœ‰æ•°æ®ç±»å‹ã€‚ç¼–è¯‘å™¨å¯ä»¥å¯¹å‰è€…è¿›è¡Œç±»å‹å®‰å…¨æ£€æŸ¥ã€‚è€Œå¯¹åè€…åªè¿›è¡Œå­—ç¬¦æ›¿æ¢ï¼Œæ²¡æœ‰ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œå¹¶ä¸”åœ¨å­—ç¬¦æ›¿æ¢å¯èƒ½ä¼šäº§ç”Ÿæ„æ–™ä¸åˆ°çš„é”™è¯¯ã€‚ ï¼ˆ2ï¼‰æœ‰äº›é›†æˆåŒ–çš„è°ƒè¯•å·¥å…·å¯ä»¥å¯¹constå¸¸é‡è¿›è¡Œè°ƒè¯•ï¼Œä½†æ˜¯ä¸èƒ½å¯¹å®å¸¸é‡è¿›è¡Œè°ƒè¯•ã€‚ ï¼ˆ3ï¼‰constå¯èŠ‚çœç©ºé—´ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…ï¼Œæé«˜æ•ˆç‡ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:12","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.13Â C++ä¸­å‡½æ•°æŒ‡é’ˆå’ŒæŒ‡é’ˆå‡½æ•°çš„åŒºåˆ« å®šä¹‰ä¸åŒ æŒ‡é’ˆå‡½æ•°æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶è¿”å›å€¼ä¸ºæŒ‡é’ˆã€‚ å‡½æ•°æŒ‡é’ˆæœ¬è´¨æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå…¶æŒ‡å‘ä¸€ä¸ªå‡½æ•°ã€‚ å†™æ³•ä¸åŒ æŒ‡é’ˆå‡½æ•°ï¼šint *fun(int x, int y); å‡½æ•°æŒ‡é’ˆï¼šint (*fun)(int x, int y); ç”¨æ³•ä¸åŒ //æŒ‡é’ˆå‡½æ•°ç¤ºä¾‹ typedef struct _Data{ int a; int b; }Data; //æŒ‡é’ˆå‡½æ•° Data* f(int a,int b){ Data * data = new Data; //... return data; } int main(){ //è°ƒç”¨æŒ‡é’ˆå‡½æ•° Data * myData = f(4,5); //Data * myData = static_cast\u003cData*\u003e(f(4,5)); //... } //å‡½æ•°æŒ‡é’ˆç¤ºä¾‹ int add(int x,int y){ return x+y; } //å‡½æ•°æŒ‡é’ˆ int (*fun)(int x,int y); //èµ‹å€¼ fun = add; //è°ƒç”¨ cout \u003c\u003c \"(*fun)(1,2) = \" \u003c\u003c (*fun)(1,2) ; //è¾“å‡ºç»“æœ //(*fun)(1,2) = 3 ","date":"2023-07-11","objectID":"/posts/basics_one/:2:13","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.14Â ä½¿ç”¨æŒ‡é’ˆéœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ â‘ å®šä¹‰æŒ‡é’ˆæ—¶ï¼Œå…ˆåˆå§‹åŒ–ä¸ºNULLã€‚ â‘¡ç”¨mallocæˆ–newç”³è¯·å†…å­˜ä¹‹åï¼Œåº”è¯¥ç«‹å³æ£€æŸ¥æŒ‡é’ˆå€¼æ˜¯å¦ä¸ºNULLã€‚é˜²æ­¢ä½¿ç”¨æŒ‡é’ˆå€¼ä¸ºNULLçš„å†…å­˜ã€‚ â‘¢ä¸è¦å¿˜è®°ä¸ºæ•°ç»„å’ŒåŠ¨æ€å†…å­˜èµ‹åˆå€¼ã€‚é˜²æ­¢å°†æœªè¢«åˆå§‹åŒ–çš„å†…å­˜ä½œä¸ºå³å€¼ä½¿ç”¨ã€‚ â‘£é¿å…æ•°å­—æˆ–æŒ‡é’ˆçš„ä¸‹æ ‡è¶Šç•Œï¼Œç‰¹åˆ«è¦å½“å¿ƒå‘ç”Ÿâ€œå¤š1â€æˆ–è€…â€œå°‘1â€æ“ä½œã€‚ â‘¤åŠ¨æ€å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾å¿…é¡»é…å¯¹ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ â‘¥ç”¨freeæˆ–deleteé‡Šæ”¾äº†å†…å­˜ä¹‹åï¼Œç«‹å³å°†æŒ‡é’ˆè®¾ç½®ä¸ºNULLï¼Œé˜²æ­¢â€œé‡æŒ‡é’ˆâ€ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:14","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.15Â volatileæœ‰ä»€ä¹ˆä½œç”¨ â‘ volatileä¸ºçŠ¶æ€å¯„å­˜å™¨ä¸€ç±»çš„å¹¶è¡Œè®¾å¤‡ç¡¬ä»¶å¯„å­˜å™¨ã€‚ â‘¡ä¸€ä¸ªä¸­æ–­æœåŠ¡å­ç¨‹åºä¼šè®¿é—®åˆ°çš„éè‡ªåŠ¨å˜é‡ã€‚ â‘¢å¤šçº¿ç¨‹é—´è¢«å‡ ä¸ªä»»åŠ¡å…±äº«çš„å˜é‡ã€‚ æ³¨æ„ï¼šè™½ç„¶volatileåœ¨åµŒå…¥å¼æ–¹é¢åº”ç”¨æ¯”è¾ƒå¤šï¼Œä½†æ˜¯åœ¨PCè½¯ä»¶çš„å¤šçº¿ç¨‹ä¸­ï¼Œvolatileä¿®é¥°çš„ä¸´ç•Œå˜é‡ä¹Ÿæ˜¯éå¸¸å®ç”¨çš„ã€‚ C++ä¸­volatileçš„ä½œç”¨: æ€»ç»“: å»ºè®®ç¼–è¯‘å™¨ä¸è¦å¯¹è¯¥å˜é‡è¿›è¡Œä¼˜åŒ– volatileæ˜¯â€œæ˜“å˜/ä¸ç¨³å®šâ€çš„æ„æ€ã€‚volatileæ˜¯Cçš„ä¸€ä¸ªè¾ƒä¸ºå°‘ç”¨çš„å…³é”®å­—ï¼Œè§£å†³å˜é‡åœ¨â€œå…±äº«â€ç¯å¢ƒä¸‹å®¹æ˜“å‡ºç°è¯»å–é”™è¯¯çš„é—®é¢˜ã€‚ å®šä¹‰ä¸ºvolatileçš„å˜é‡æ˜¯è¯´è¿™å˜é‡å¯èƒ½ä¼šè¢«æ„æƒ³ä¸åˆ°åœ°æ”¹å˜ï¼Œå³åœ¨ä½ ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä¸€ç›´ä¼šå˜ï¼Œä½ å¸Œæœ›è¿™ä¸ªå€¼è¢«æ­£ç¡®åœ°å¤„ç†ï¼Œæ¯æ¬¡ä»å†…å­˜ä¸­å»è¯»è¿™ä¸ªå€¼ï¼Œè€Œä¸æ˜¯å› ç¼–è¯‘å™¨ä¼˜åŒ–ä»ç¼“å­˜çš„åœ°æ–¹è¯»å–ï¼Œæ¯”å¦‚è¯»å–ç¼“å­˜åœ¨å¯„å­˜å™¨ä¸­çš„æ•°å€¼ï¼Œä»è€Œä¿è¯volatileå˜é‡è¢«æ­£ç¡®çš„è¯»å–ã€‚ åœ¨å•ä»»åŠ¡çš„ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªå‡½æ•°ä½“å†…éƒ¨ï¼Œå¦‚æœåœ¨ä¸¤æ¬¡è¯»å–å˜é‡çš„å€¼ä¹‹é—´çš„è¯­å¥æ²¡æœ‰å¯¹å˜é‡çš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šè®¾æ³•å¯¹å¯æ‰§è¡Œä»£ç è¿›è¡Œä¼˜åŒ–ã€‚ç”±äºè®¿é—®å¯„å­˜å™¨çš„é€Ÿåº¦è¦å¿«è¿‡RAMï¼ˆä»RAMä¸­è¯»å–å˜é‡çš„å€¼åˆ°å¯„å­˜å™¨ï¼‰ï¼Œä»¥ååªè¦å˜é‡çš„å€¼æ²¡æœ‰æ”¹å˜ï¼Œå°±ä¸€ç›´ä»å¯„å­˜å™¨ä¸­è¯»å–å˜é‡çš„å€¼ï¼Œè€Œä¸å¯¹RAMè¿›è¡Œè®¿é—®ã€‚ è€Œåœ¨å¤šä»»åŠ¡ç¯å¢ƒä¸­ï¼Œè™½ç„¶åœ¨ä¸€ä¸ªå‡½æ•°ä½“å†…éƒ¨ï¼Œåœ¨ä¸¤æ¬¡è¯»å–å˜é‡ä¹‹é—´æ²¡æœ‰å¯¹å˜é‡çš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯è¯¥å˜é‡ä»ç„¶æœ‰å¯èƒ½è¢«å…¶ä»–çš„ç¨‹åºï¼ˆå¦‚ä¸­æ–­ç¨‹åºã€å¦å¤–çš„çº¿ç¨‹ç­‰ï¼‰æ‰€ä¿®æ”¹ã€‚å¦‚æœè¿™æ—¶è¿˜æ˜¯ä»å¯„å­˜å™¨è€Œä¸æ˜¯ä»RAMä¸­è¯»å–ï¼Œå°±ä¼šå‡ºç°è¢«ä¿®æ”¹äº†çš„å˜é‡å€¼ä¸èƒ½å¾—åˆ°åŠæ—¶ååº”çš„é—®é¢˜ã€‚å¦‚ä¸‹ç¨‹åºå¯¹è¿™ä¸€ç°è±¡è¿›è¡Œäº†æ¨¡æ‹Ÿã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:15","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.16 ä¸€ä¸ªå‚æ•°å¯ä»¥æ—¢æ˜¯conståˆæ˜¯volatileå— å¯ä»¥ï¼Œç”¨constå’ŒvolatileåŒæ—¶ä¿®é¥°å˜é‡ï¼Œè¡¨ç¤ºè¿™ä¸ªå˜é‡åœ¨ç¨‹åºå†…éƒ¨æ˜¯åªè¯»çš„ï¼Œä¸èƒ½æ”¹å˜çš„ï¼Œåªåœ¨ç¨‹åºå¤–éƒ¨æ¡ä»¶å˜åŒ–ä¸‹æ”¹å˜ï¼Œå¹¶ä¸”ç¼–è¯‘å™¨ä¸ä¼šä¼˜åŒ–è¿™ä¸ªå˜é‡ã€‚æ¯æ¬¡ä½¿ç”¨è¿™ä¸ªå˜é‡æ—¶ï¼Œéƒ½è¦å°å¿ƒåœ°å»å†…å­˜è¯»å–è¿™ä¸ªå˜é‡çš„å€¼ï¼Œè€Œä¸æ˜¯å»å¯„å­˜å™¨è¯»å–å®ƒçš„å¤‡ä»½ã€‚ æ³¨æ„ï¼šåœ¨æ­¤ä¸€å®šè¦æ³¨æ„constçš„æ„æ€ï¼Œconståªæ˜¯ä¸å…è®¸ç¨‹åºä¸­çš„ä»£ç æ”¹å˜æŸä¸€å˜é‡ï¼Œå…¶åœ¨ç¼–è¯‘æœŸå‘æŒ¥ä½œç”¨ï¼Œå®ƒå¹¶æ²¡æœ‰å®é™…åœ°ç¦æ­¢æŸæ®µå†…å­˜çš„è¯»å†™ç‰¹æ€§ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:16","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.17Â a å’Œ\u0026a æœ‰ä»€ä¹ˆåŒºåˆ« \u003c1\u003e \u0026aï¼šå…¶å«ä¹‰å°±æ˜¯â€œå˜é‡açš„åœ°å€â€ã€‚ \u003c2\u003e *aï¼šç”¨åœ¨ä¸åŒçš„åœ°æ–¹ï¼Œå«ä¹‰ä¹Ÿä¸ä¸€æ ·ã€‚ â‘ åœ¨å£°æ˜è¯­å¥ä¸­ï¼Œ*aåªè¯´æ˜aæ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡ï¼Œå¦‚int *aï¼› â‘¡åœ¨å…¶ä»–è¯­å¥ä¸­ï¼Œ*aå‰é¢æ²¡æœ‰æ“ä½œæ•°ä¸”aæ˜¯ä¸€ä¸ªæŒ‡é’ˆæ—¶ï¼Œ*aä»£è¡¨æŒ‡é’ˆaæŒ‡å‘çš„åœ°å€å†…å­˜æ”¾çš„æ•°æ®(è§£å¼•ç”¨)ï¼Œå¦‚b=*aï¼› â‘¢*aå‰é¢æœ‰æ“ä½œæ•°ä¸”aæ˜¯ä¸€ä¸ªæ™®é€šå˜é‡æ—¶ï¼Œaä»£è¡¨ä¹˜ä»¥aï¼Œå¦‚c=ba ","date":"2023-07-11","objectID":"/posts/basics_one/:2:17","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.18 ç”¨C ç¼–å†™ä¸€ä¸ªæ­»å¾ªç¯ç¨‹åº while(1) { } æ³¨æ„ï¼šå¾ˆå¤šç§é€”å¾„éƒ½å¯å®ç°åŒä¸€ç§åŠŸèƒ½ï¼Œä½†æ˜¯ä¸åŒçš„æ–¹æ³•æ—¶é—´å’Œç©ºé—´å ç”¨åº¦ä¸åŒï¼Œç‰¹åˆ«æ˜¯å¯¹äºåµŒå…¥å¼è½¯ä»¶ï¼Œå¤„ç†å™¨é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå­˜å‚¨ç©ºé—´è¾ƒå°ï¼Œæ‰€ä»¥æ—¶é—´å’Œç©ºé—´ä¼˜åŠ¿æ˜¯é€‰æ‹©å„ç§æ–¹æ³•çš„é¦–è¦è€ƒè™‘æ¡ä»¶ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:18","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.19Â å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿæ“ä½œç³»ç»Ÿå’Œç¼–è¯‘å™¨æ˜¯æ€ä¹ˆçŸ¥é“çš„ï¼Ÿ â‘ å…¨å±€å˜é‡æ˜¯æ•´ä¸ªç¨‹åºéƒ½å¯è®¿é—®çš„å˜é‡ï¼Œè°éƒ½å¯ä»¥è®¿é—®ï¼Œç”Ÿå­˜æœŸåœ¨æ•´ä¸ªç¨‹åºä»è¿è¡Œåˆ°ç»“æŸï¼ˆåœ¨ç¨‹åºç»“æŸæ—¶æ‰€å å†…å­˜é‡Šæ”¾ï¼‰ï¼› â‘¡è€Œå±€éƒ¨å˜é‡å­˜åœ¨äºæ¨¡å—ï¼ˆå­ç¨‹åºï¼Œå‡½æ•°ï¼‰ä¸­ï¼Œåªæœ‰æ‰€åœ¨æ¨¡å—å¯ä»¥è®¿é—®ï¼Œå…¶ä»–æ¨¡å—ä¸å¯ç›´æ¥è®¿é—®ï¼Œæ¨¡å—ç»“æŸï¼ˆå‡½æ•°è°ƒç”¨å®Œæ¯•ï¼‰ï¼Œå±€éƒ¨å˜é‡æ¶ˆå¤±ï¼Œæ‰€å æ®çš„å†…å­˜é‡Šæ”¾ã€‚ â‘¢æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘å™¨ï¼Œå¯èƒ½æ˜¯é€šè¿‡å†…å­˜åˆ†é…çš„ä½ç½®æ¥çŸ¥é“çš„ï¼Œå…¨å±€å˜é‡åˆ†é…åœ¨å…¨å±€æ•°æ®æ®µå¹¶ä¸”åœ¨ç¨‹åºå¼€å§‹è¿è¡Œçš„æ—¶å€™è¢«åŠ è½½.å±€éƒ¨å˜é‡åˆ™åˆ†é…åœ¨å †æ ˆé‡Œé¢ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:19","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"2.20 ç»“æ„ä½“å†…å­˜å¯¹é½é—®é¢˜ è¯·å†™å‡ºä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœï¼š #include \u003cstdio.h\u003e using namespace std; /************************************************************** * ç»“æ„ä½“å†…å­˜å¯¹â»¬é—®é¢˜ * ä»åç§»ä¸º0çš„ä½ç½®å¼€å§‹å­˜å‚¨ï¼› * å¦‚æœæ²¡æœ‰å®šä¹‰ #pragma pack(n) * sizeof çš„æœ€ç»ˆç»“æœå¿…ç„¶æ˜¯ç»“æ„å†…éƒ¨æœ€â¼¤æˆå‘˜çš„æ•´æ•°å€ï¼Œä¸å¤Ÿè¡¥â»¬ï¼› * ç»“æ„å†…éƒ¨å„ä¸ªæˆå‘˜çš„â¾¸åœ°å€å¿…ç„¶æ˜¯â¾ƒèº«â¼¤â¼©çš„æ•´æ•°å€ï¼› * ***************************************************************/ struct S1 { int i ; //èµ·å§‹åç§»0ï¼Œsizeof(i)=4; åœ°å€0ã€1ã€2ã€3åˆ†é…ç»™æˆå‘˜i char j ; //èµ·å§‹åç§»4ï¼Œsizeof(j)=1; int a ; //sizeof(a)=4,å†…å­˜å¯¹é½åˆ°8ä¸ªå­—èŠ‚ï¼Œä»åç§»é‡ä¸º8å¤„å­˜æ”¾a; double b;//sizeof(b)=8,å†…å­˜å¯¹é½åˆ°16ä¸ªå­—èŠ‚ï¼Œå†å­˜æ”¾b,ç»“æ„ä½“æ€»å¤§å°24; }; //ç»“æ„ä½“æˆå‘˜çš„é¦–åœ°å€å¿…é¡»æ˜¯è‡ªèº«å¤§å°çš„æ•´æ•°å€ struct S3 { char j;//èµ·å§‹åç§»0ï¼Œsizeof(j)=1; float i;//sizeof(i)=4ï¼Œå†…å­˜å¯¹é½åˆ°4ï¼Œèµ·å§‹åç§»é‡ä¸º4,å†å­˜æ”¾i double b;//å½“å‰åœ°å€ä¸º8ï¼Œæ˜¯bå¤§å°çš„æ•´æ•°å€ï¼Œæ— éœ€å¯¹é½ï¼Œç›´æ¥å­˜æ”¾æˆå‘˜b 8ä¸ªå­—èŠ‚ int a;//sizeof(a)=4,å†…å­˜å¯¹é½åˆ°20ï¼Œå†å­˜æ”¾a,æ€»å¤§å°24å­—èŠ‚ï¼› }; int main() { printf(\"%d\\n\", sizeof(S1)); printf(\"%d\\n\", sizeof(S3)); return 0; } è¾“å‡º: 24 24 è¯´æ˜ï¼š â‘ ç»“æ„ä½“ä½œä¸ºä¸€ç§å¤åˆæ•°æ®ç±»å‹ï¼Œå…¶æ„æˆå…ƒç´ æ—¢å¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€äº›å¤åˆå‹ç±»å‹æ•°æ®ã€‚å¯¹æ­¤ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿›è¡Œæˆå‘˜å˜é‡çš„å¯¹é½ä»¥æé«˜è¿ç®—æ•ˆç‡ã€‚ â‘¡é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŒ‰è‡ªç„¶å¯¹é½æ¡ä»¶åˆ†é…ç©ºé—´ã€‚å„ä¸ªæˆå‘˜æŒ‰ç…§å®ƒä»¬è¢«å£°æ˜çš„é¡ºåºåœ¨å†…å­˜ä¸­é¡ºåºå­˜å‚¨ï¼Œç¬¬ä¸€ä¸ªæˆå‘˜çš„åœ°å€å’Œæ•´ä¸ªç»“æ„çš„åœ°å€ç›¸åŒï¼Œå‘ç»“æ„ä½“æˆå‘˜ä¸­sizeæœ€å¤§çš„æˆå‘˜å¯¹é½ã€‚ â‘¢è®¸å¤šå®é™…çš„è®¡ç®—æœºç³»ç»Ÿå¯¹åŸºæœ¬ç±»å‹æ•°æ®åœ¨å†…å­˜ä¸­å­˜æ”¾çš„ä½ç½®æœ‰é™åˆ¶ï¼Œå®ƒä»¬ä¼šè¦æ±‚è¿™äº›æ•°æ®çš„é¦–åœ°å€çš„å€¼æ˜¯æŸä¸ªæ•°kï¼ˆé€šå¸¸å®ƒä¸º4æˆ–8ï¼‰çš„å€æ•°ï¼Œè€Œè¿™ä¸ªkåˆ™è¢«ç§°ä¸ºè¯¥æ•°æ®ç±»å‹çš„å¯¹é½æ¨¡æ•°ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:2:20","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3 åŸºç¡€çŸ¥è¯†ï¼ˆä¸‰ï¼‰ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.1 ç®€è¿°Cã€C++ç¨‹åºç¼–è¯‘çš„å†…å­˜åˆ†é…æƒ…å†µ â‘ ä»é™æ€å­˜å‚¨åŒºåŸŸåˆ†é…ï¼š å†…å­˜åœ¨ç¨‹åºç¼–è¯‘æ—¶å°±å·²ç»åˆ†é…å¥½ï¼Œè¿™å—å†…å­˜åœ¨ç¨‹åºçš„æ•´ä¸ªè¿è¡ŒæœŸé—´éƒ½å­˜åœ¨ã€‚é€Ÿåº¦å¿«ã€ä¸å®¹æ˜“å‡ºé”™ï¼Œ å› ä¸ºæœ‰ç³»ç»Ÿä¼šå–„åã€‚ä¾‹å¦‚å…¨å±€å˜é‡ï¼Œstatic å˜é‡ï¼Œå¸¸é‡å­—ç¬¦ä¸²ç­‰ã€‚ â‘¡åœ¨æ ˆä¸Šåˆ†é…ï¼š åœ¨æ‰§è¡Œå‡½æ•°æ—¶ï¼Œå‡½æ•°å†…å±€éƒ¨å˜é‡çš„å­˜å‚¨å•å…ƒéƒ½åœ¨æ ˆä¸Šåˆ›å»ºï¼Œå‡½æ•°æ‰§è¡Œç»“æŸæ—¶è¿™äº›å­˜å‚¨å•å…ƒè‡ªåŠ¨è¢«é‡Šæ”¾ã€‚æ ˆå†…å­˜åˆ†é…è¿ç®—å†…ç½®äºå¤„ç†å™¨çš„æŒ‡ä»¤é›†ä¸­ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œä½†æ˜¯åˆ†é…çš„å†…å­˜å®¹é‡æœ‰é™ã€‚å¤§å°ä¸º2Mã€‚ â‘¢ä»å †ä¸Šåˆ†é…ï¼š å³åŠ¨æ€å†…å­˜åˆ†é…ã€‚ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™ç”¨ malloc æˆ–new ç”³è¯·ä»»æ„å¤§å°çš„å†…å­˜ï¼Œç¨‹åºå‘˜è‡ªå·±è´Ÿè´£åœ¨ä½• æ—¶ç”¨free æˆ–delete é‡Šæ”¾å†…å­˜ã€‚åŠ¨æ€å†…å­˜çš„ç”Ÿå­˜æœŸç”±ç¨‹åºå‘˜å†³å®šï¼Œä½¿ç”¨éå¸¸çµæ´»ã€‚å¦‚æœåœ¨å †ä¸Šåˆ†é…äº†ç©ºé—´ï¼Œå°±æœ‰è´£ä»»å›æ”¶å®ƒï¼Œå¦åˆ™è¿è¡Œçš„ç¨‹åºä¼šå‡ºç°å†…å­˜æ³„æ¼ï¼Œå¦å¤–é¢‘ç¹åœ°åˆ†é…å’Œé‡Šæ”¾ä¸åŒå¤§å°çš„å †ç©ºé—´å°†ä¼šäº§ç”Ÿ å †å†…ç¢å—ã€‚ ä¸€ä¸ªCã€C++ç¨‹åºç¼–è¯‘æ—¶å†…å­˜åˆ†ä¸º5å¤§å­˜å‚¨åŒºï¼šå †åŒºã€æ ˆåŒºã€å…¨å±€åŒºã€æ–‡å­—å¸¸é‡åŒºã€ç¨‹åºä»£ç åŒºã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.2Â ç®€è¿°strcpyã€sprintf ä¸memcpy çš„åŒºåˆ« â‘ æ“ä½œå¯¹è±¡ä¸åŒï¼Œstrcpy çš„ä¸¤ä¸ªæ“ä½œå¯¹è±¡å‡ä¸ºå­—ç¬¦ä¸²ï¼Œsprintf çš„æ“ä½œæºå¯¹è±¡å¯ä»¥æ˜¯å¤šç§æ•°æ®ç±»å‹ï¼Œ ç›®çš„æ“ä½œå¯¹è±¡æ˜¯å­—ç¬¦ä¸²ï¼Œmemcpy çš„ä¸¤ä¸ªå¯¹è±¡å°±æ˜¯ä¸¤ä¸ªä»»æ„å¯æ“ä½œçš„å†…å­˜åœ°å€ï¼Œå¹¶ä¸é™äºä½•ç§æ•°æ®ç±»å‹ã€‚ â‘¡æ‰§è¡Œæ•ˆç‡ä¸åŒï¼Œmemcpy æœ€é«˜ï¼Œstrcpy æ¬¡ä¹‹ï¼Œsprintf çš„æ•ˆç‡æœ€ä½ã€‚ â‘¢å®ç°åŠŸèƒ½ä¸åŒï¼Œstrcpy ä¸»è¦å®ç°å­—ç¬¦ä¸²å˜é‡é—´çš„æ‹·è´ï¼Œsprintf ä¸»è¦å®ç°å…¶ä»–æ•°æ®ç±»å‹æ ¼å¼åˆ°å­—ç¬¦ä¸²çš„è½¬åŒ–ï¼Œmemcpy ä¸»è¦æ˜¯å†…å­˜å—é—´çš„æ‹·è´ã€‚ æ³¨æ„ï¼šstrcpyã€sprintf ä¸memcpy éƒ½å¯ä»¥å®ç°æ‹·è´çš„åŠŸèƒ½ï¼Œä½†æ˜¯é’ˆå¯¹çš„å¯¹è±¡ä¸åŒï¼Œæ ¹æ®å®é™…éœ€æ±‚ï¼Œæ¥ é€‰æ‹©åˆé€‚çš„å‡½æ•°å®ç°æ‹·è´åŠŸèƒ½ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:2","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"è¯·è§£æ((void ()( ) )0)( )çš„å«ä¹‰ void (0)( ) ï¼šæ˜¯ä¸€ä¸ªè¿”å›å€¼ä¸ºvoidï¼Œå‚æ•°ä¸ºç©ºçš„å‡½æ•°æŒ‡é’ˆ0ã€‚ (void ()( ))0ï¼šæŠŠ0è½¬å˜æˆä¸€ä¸ªè¿”å›å€¼ä¸ºvoidï¼Œå‚æ•°ä¸ºç©ºçš„å‡½æ•°æŒ‡é’ˆã€‚ ((void ()( ))0()ï¼šåœ¨ä¸Šå¥çš„åŸºç¡€ä¸ŠåŠ è¡¨ç¤ºæ•´ä¸ªæ˜¯ä¸€ä¸ªè¿”å›å€¼ä¸ºvoidï¼Œæ— å‚æ•°ï¼Œå¹¶ä¸”èµ·å§‹åœ°å€ä¸º0çš„å‡½æ•°çš„åå­—ã€‚ ((void (*)( ))0)( )ï¼šè¿™å°±æ˜¯ä¸Šå¥çš„å‡½æ•°åæ‰€å¯¹åº”çš„å‡½æ•°çš„è°ƒç”¨ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:3","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.4 typedef å’Œdefine æœ‰ä»€ä¹ˆåŒºåˆ« â‘ ç”¨æ³•ä¸åŒï¼š typedef ç”¨æ¥å®šä¹‰ä¸€ç§æ•°æ®ç±»å‹çš„åˆ«åï¼Œå¢å¼ºç¨‹åºçš„å¯è¯»æ€§ã€‚define ä¸»è¦ç”¨æ¥å®šä¹‰å¸¸é‡ï¼Œä»¥åŠä¹¦å†™å¤æ‚ä½¿ç”¨é¢‘ç¹çš„å®ã€‚ â‘¡æ‰§è¡Œæ—¶é—´ä¸åŒï¼š typedef æ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæœ‰ç±»å‹æ£€æŸ¥çš„åŠŸèƒ½ã€‚define æ˜¯å®å®šä¹‰ï¼Œæ˜¯é¢„ç¼–è¯‘çš„éƒ¨åˆ†ï¼Œå…¶å‘ç”Ÿåœ¨ç¼–è¯‘ä¹‹å‰ï¼Œåªæ˜¯ç®€å•çš„è¿›è¡Œå­—ç¬¦ä¸²çš„æ›¿æ¢ï¼Œä¸è¿›è¡Œç±»å‹çš„æ£€æŸ¥ã€‚ â‘¢ä½œç”¨åŸŸä¸åŒï¼š typedef æœ‰ä½œç”¨åŸŸé™å®šï¼šdefine ä¸å—ä½œç”¨åŸŸçº¦æŸï¼Œåªè¦åœ¨define å£°æ˜åçš„å¼•ç”¨éƒ½æ˜¯æ­£ç¡®çš„ã€‚ â‘£å¯¹æŒ‡é’ˆçš„æ“ä½œä¸åŒï¼š typedef å’Œdefine å®šä¹‰çš„æŒ‡é’ˆæ—¶æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚ æ³¨æ„ï¼štypedef å®šä¹‰æ˜¯è¯­å¥ï¼Œå› ä¸ºå¥å°¾è¦åŠ ä¸Šåˆ†å·ã€‚è€Œdefine ä¸æ˜¯è¯­å¥ï¼Œåƒä¸‡ä¸èƒ½åœ¨å¥å°¾åŠ åˆ†å·ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:4","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.5Â æŒ‡é’ˆå¸¸é‡ä¸å¸¸é‡æŒ‡é’ˆåŒºåˆ« æŒ‡é’ˆå¸¸é‡æ˜¯æŒ‡å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆçš„å€¼åªèƒ½åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–ï¼Œå…¶ä»–åœ°æ–¹ä¸èƒ½æ”¹å˜ã€‚ å¸¸é‡æŒ‡é’ˆæ˜¯æŒ‡å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªåªè¯»çš„å¯¹è±¡ï¼Œä¸èƒ½é€šè¿‡å¸¸é‡æŒ‡é’ˆæ¥æ”¹å˜è¿™ä¸ªå¯¹è±¡çš„å€¼ã€‚ æŒ‡é’ˆå¸¸é‡å¼ºè°ƒçš„æ˜¯æŒ‡é’ˆçš„ä¸å¯æ”¹å˜æ€§ï¼Œè€Œå¸¸é‡æŒ‡é’ˆå¼ºè°ƒçš„æ˜¯æŒ‡é’ˆå¯¹å…¶æ‰€æŒ‡å¯¹è±¡çš„ä¸å¯æ”¹å˜æ€§ã€‚ æ³¨æ„ï¼šæ— è®ºæ˜¯æŒ‡é’ˆå¸¸é‡è¿˜æ˜¯å¸¸é‡æŒ‡é’ˆï¼Œå…¶æœ€å¤§çš„ç”¨é€”å°±æ˜¯ä½œä¸ºå‡½æ•°çš„å½¢å¼å‚æ•°ï¼Œä¿è¯å®å‚åœ¨è¢«è°ƒç”¨å‡½æ•°ä¸­çš„ä¸å¯æ”¹å˜ç‰¹æ€§ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:5","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.6Â ç®€è¿°é˜Ÿåˆ—å’Œæ ˆçš„å¼‚åŒ é˜Ÿåˆ—å’Œæ ˆéƒ½æ˜¯çº¿æ€§å­˜å‚¨ç»“æ„ï¼Œä½†æ˜¯ä¸¤è€…çš„æ’å…¥å’Œåˆ é™¤æ•°æ®çš„æ“ä½œä¸åŒï¼Œé˜Ÿåˆ—æ˜¯â€œå…ˆè¿›å…ˆå‡ºâ€ï¼Œæ ˆæ˜¯ â€œåè¿›å…ˆå‡ºâ€ã€‚ æ³¨æ„ï¼šåŒºåˆ«æ ˆåŒºå’Œå †åŒºã€‚å †åŒºçš„å­˜å–æ˜¯â€œé¡ºåºéšæ„â€ï¼Œè€Œæ ˆåŒºæ˜¯â€œåè¿›å…ˆå‡ºâ€ã€‚æ ˆç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚å †ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œ è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OS å›æ”¶ã€‚åˆ†é…æ–¹å¼ç±»ä¼¼äºé“¾è¡¨ã€‚ å®ƒä¸æœ¬é¢˜ä¸­çš„å †å’Œæ ˆæ˜¯ä¸¤å›äº‹ã€‚å †æ ˆåªæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œè€Œå †åŒºå’Œæ ˆåŒºæ˜¯ç¨‹åºçš„ä¸åŒå†…å­˜å­˜å‚¨åŒºåŸŸã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:6","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.7Â è®¾ç½®åœ°å€ä¸º0x67a9 çš„æ•´å‹å˜é‡çš„å€¼ä¸º0xaa66 int *ptr; ptr = (int *)0x67a9; *ptr = 0xaa66; æ³¨æ„ï¼šè¿™é“é¢˜å°±æ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å…¸å‹ä¾‹å­ï¼Œæ— è®ºåœ¨ä»€ä¹ˆå¹³å°ï¼Œåœ°å€é•¿åº¦å’Œæ•´å‹æ•°æ®çš„é•¿åº¦æ˜¯ä¸€æ ·çš„ï¼Œ å³ä¸€ä¸ªæ•´å‹æ•°æ®å¯ä»¥å¼ºåˆ¶è½¬æ¢æˆåœ°å€æŒ‡é’ˆç±»å‹ï¼Œåªè¦æœ‰æ„ä¹‰å³å¯ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:7","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.8Â ç¼–ç å®ç°å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­— ç¼–ç å®ç°å‡½æ•°atoi()ï¼Œè®¾è®¡ä¸€ä¸ªç¨‹åºï¼ŒæŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬åŒ–ä¸ºä¸€ä¸ªæ•´å‹æ•°å€¼ã€‚ä¾‹å¦‚æ•°å­—ï¼šâ€œ5486321 â€ï¼Œ è½¬åŒ–æˆå­—ç¬¦ï¼š5486321ã€‚ int myAtoi(const char * str) { int num = 0; //ä¿å­˜è½¬æ¢åçš„æ•°å€¼ int isNegative = 0; //è®°å½•å­—ç¬¦ä¸²ä¸­æ˜¯å¦æœ‰è´Ÿå· int n =0; char *p = str; if(p == NULL) //åˆ¤æ–­æŒ‡é’ˆçš„åˆæ³•æ€§ { return -1; } while(*p++ != '\\0') //è®¡ç®—æ•°å­—ç¬¦ä¸²åº¦ { n++; } p = str; if(p[0] == '-') //åˆ¤æ–­æ•°ç»„æ˜¯å¦æœ‰è´Ÿå· { isNegative = 1; } char temp = '0'; for(int i = 0 ; i \u003c n; i++) { char temp = *p++; if(temp \u003e '9' ||temp \u003c '0') //æ»¤é™¤éæ•°å­—å­—ç¬¦ { continue; } if(num !=0 || temp != '0') //æ»¤é™¤å­—ç¬¦ä¸²å¼€å§‹çš„0 å­—ç¬¦ { temp -= 0x30; //å°†æ•°å­—å­—ç¬¦è½¬æ¢ä¸ºæ•°å€¼ num += temp *int( pow(10 , n - 1 -i) ); } } if(isNegative) //å¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰è´Ÿå·ï¼Œå°†æ•°å€¼å–å { return (0 - num); } else { return num; //è¿”å›è½¬æ¢åçš„æ•°å€¼ } } ","date":"2023-07-11","objectID":"/posts/basics_one/:3:8","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.9Â Cè¯­è¨€çš„ç»“æ„ä½“(struct)å’ŒC++çš„ç±»(class)æœ‰ä»€ä¹ˆåŒºåˆ« â‘ Cè¯­è¨€çš„ç»“æ„ä½“æ˜¯ä¸èƒ½æœ‰æˆå‘˜å‡½æ•°çš„ï¼Œè€ŒC++çš„ç±»å¯ä»¥æœ‰ã€‚ â‘¡Cè¯­è¨€çš„ç»“æ„ä½“ä¸­æ•°æ®æˆå‘˜æ˜¯æ²¡æœ‰privateã€publicå’Œprotectedè®¿é—®é™å®šçš„ã€‚è€ŒC++çš„ç±»çš„æˆå‘˜æœ‰è¿™äº›è®¿é—®æƒé™é™å®šã€‚ â‘¢Cè¯­è¨€çš„ç»“æ„ä½“æ˜¯æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„ï¼Œè€ŒC++çš„ç±»å´æœ‰ä¸°å¯Œçš„ç»§æ‰¿å…³ç³»ã€‚ æ³¨æ„ï¼šè™½ç„¶Cçš„ç»“æ„ä½“å’ŒC++çš„ç±»æœ‰å¾ˆå¤§çš„ç›¸ä¼¼åº¦ï¼Œä½†æ˜¯ç±»æ˜¯å®ç°é¢å‘å¯¹è±¡çš„åŸºç¡€ã€‚è€Œç»“æ„ä½“åªå¯ä»¥ç®€å•åœ°ç†è§£ä¸ºç±»çš„å‰èº«ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:9","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.10 ç®€è¿°æŒ‡é’ˆå¸¸é‡ä¸å¸¸é‡æŒ‡é’ˆçš„åŒºåˆ« â‘ æŒ‡é’ˆå¸¸é‡æ˜¯æŒ‡å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆçš„å€¼åªèƒ½åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–ï¼Œå…¶ä»–åœ°æ–¹ä¸èƒ½æ”¹å˜ã€‚å¸¸é‡æŒ‡é’ˆæ˜¯æŒ‡å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªåªè¯»çš„å¯¹è±¡ï¼Œä¸èƒ½é€šè¿‡å¸¸é‡æŒ‡é’ˆæ¥æ”¹å˜è¿™ä¸ªå¯¹è±¡çš„å€¼ã€‚æŒ‡é’ˆå¸¸é‡çš„å€¼åªèƒ½åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–ï¼Œå¸¸é‡æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªåªè¯»çš„å¯¹è±¡ â‘¡æŒ‡é’ˆå¸¸é‡å¼ºè°ƒçš„æ˜¯æŒ‡é’ˆçš„ä¸å¯æ”¹å˜æ€§ï¼Œè€Œå¸¸é‡æŒ‡é’ˆå¼ºè°ƒçš„æ˜¯æŒ‡é’ˆå¯¹å…¶æ‰€æŒ‡å¯¹è±¡çš„ä¸å¯æ”¹å˜æ€§ã€‚ æ³¨æ„ï¼šæ— è®ºæ˜¯æŒ‡é’ˆå¸¸é‡è¿˜æ˜¯å¸¸é‡æŒ‡é’ˆï¼Œå…¶æœ€å¤§çš„ç”¨é€”å°±æ˜¯ä½œä¸ºå‡½æ•°çš„å½¢å¼å‚æ•°ï¼Œä¿è¯å®å‚åœ¨è¢«è°ƒç”¨å‡½æ•°ä¸­çš„ä¸å¯æ”¹å˜ç‰¹æ€§ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:10","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.11 å¦‚ä½•é¿å…â€œé‡æŒ‡é’ˆâ€ â‘ æŒ‡é’ˆå˜é‡å£°æ˜æ—¶æ²¡æœ‰è¢«åˆå§‹åŒ–ã€‚è§£å†³åŠæ³•ï¼šæŒ‡é’ˆå£°æ˜æ—¶åˆå§‹åŒ–ï¼Œå¯ä»¥æ˜¯å…·ä½“çš„åœ°å€å€¼ï¼Œä¹Ÿå¯è®©å®ƒæŒ‡å‘NULLã€‚ â‘¡æŒ‡é’ˆpè¢«freeæˆ–è€…deleteä¹‹åï¼Œæ²¡æœ‰ç½®ä¸ºNULLã€‚è§£å†³åŠæ³•ï¼šæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ç©ºé—´è¢«é‡Šæ”¾åæŒ‡é’ˆåº”è¯¥æŒ‡å‘NULLã€‚ â‘¢æŒ‡é’ˆæ“ä½œè¶…è¶Šäº†å˜é‡çš„ä½œç”¨èŒƒå›´ã€‚è§£å†³åŠæ³•ï¼šåœ¨å˜é‡çš„ä½œç”¨åŸŸç»“æŸå‰é‡Šæ”¾æ‰å˜é‡çš„åœ°å€ç©ºé—´å¹¶ä¸”è®©æŒ‡é’ˆæŒ‡å‘NULLã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:11","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.12Â å¥æŸ„å’ŒæŒ‡é’ˆçš„åŒºåˆ«å’Œè”ç³»æ˜¯ä»€ä¹ˆï¼Ÿ å¥æŸ„å’ŒæŒ‡é’ˆå…¶å®æ˜¯ä¸¤ä¸ªæˆªç„¶ä¸åŒçš„æ¦‚å¿µã€‚Windowsç³»ç»Ÿç”¨å¥æŸ„æ ‡è®°ç³»ç»Ÿèµ„æºï¼Œéšè—ç³»ç»Ÿçš„ä¿¡æ¯ã€‚ä½ åªè¦çŸ¥é“æœ‰è¿™ä¸ªä¸œè¥¿ï¼Œç„¶åå»è°ƒç”¨å°±è¡Œäº†ï¼Œå®ƒæ˜¯ä¸ª32bitçš„uintã€‚æŒ‡é’ˆåˆ™æ ‡è®°æŸä¸ªç‰©ç†å†…å­˜åœ°å€ï¼Œä¸¤è€…æ˜¯ä¸åŒçš„æ¦‚å¿µã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:12","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.13Â new/deleteä¸malloc/freeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ newèƒ½è‡ªåŠ¨è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜ç©ºé—´ï¼Œè€Œmallocéœ€è¦æ‰‹å·¥è®¡ç®—å­—èŠ‚æ•°ã€‚ int *p = new int[2]; int *q = (int )malloc(2sizeof(int)); â‘ newä¸deleteç›´æ¥å¸¦å…·ä½“ç±»å‹çš„æŒ‡é’ˆï¼Œmallocå’Œfreeè¿”å›voidç±»å‹çš„æŒ‡é’ˆã€‚ â‘¡newç±»å‹æ˜¯å®‰å…¨çš„ï¼Œè€Œmallocä¸æ˜¯ã€‚ä¾‹å¦‚int *p = new float[2];å°±ä¼šæŠ¥é”™ï¼›è€Œint p = malloc(2sizeof(int))ç¼–è¯‘æ—¶ç¼–è¯‘å™¨å°±æ— æ³•æŒ‡å‡ºé”™è¯¯æ¥ã€‚ â‘¢newä¸€èˆ¬åˆ†ä¸ºä¸¤æ­¥ï¼šnewæ“ä½œå’Œæ„é€ ã€‚newæ“ä½œå¯¹åº”ä¸mallocï¼Œä½†newæ“ä½œå¯ä»¥é‡è½½ï¼Œå¯ä»¥è‡ªå®šä¹‰å†…å­˜åˆ†é…ç­–ç•¥ï¼Œä¸åšå†…å­˜åˆ†é…ï¼Œç”šè‡³åˆ†é…åˆ°éå†…å­˜è®¾å¤‡ä¸Šï¼Œè€Œmallocä¸è¡Œã€‚ â‘£newè°ƒç”¨æ„é€ å‡½æ•°ï¼Œmallocä¸èƒ½ï¼›deleteè°ƒç”¨ææ„å‡½æ•°ï¼Œè€Œfreeä¸èƒ½ã€‚ â‘¤malloc/freeéœ€è¦åº“æ–‡ä»¶stdlib.hçš„æ”¯æŒï¼Œnew/deleteåˆ™ä¸éœ€è¦ï¼ æ³¨æ„ï¼šdeleteå’Œfreeè¢«è°ƒç”¨åï¼Œå†…å­˜ä¸ä¼šç«‹å³å›æ”¶ï¼ŒæŒ‡é’ˆä¹Ÿä¸ä¼šæŒ‡å‘ç©ºï¼Œdeleteæˆ–freeä»…ä»…æ˜¯å‘Šè¯‰æ“ä½œç³»ç»Ÿï¼Œè¿™ä¸€å—å†…å­˜è¢«é‡Šæ”¾äº†ï¼Œå¯ä»¥ç”¨ä½œå…¶ä»–ç”¨é€”ã€‚ä½†æ˜¯ç”±äºæ²¡æœ‰é‡æ–°å¯¹è¿™å—å†…å­˜è¿›è¡Œå†™æ“ä½œï¼Œæ‰€ä»¥å†…å­˜ä¸­çš„å˜é‡æ•°å€¼å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå‡ºç°é‡æŒ‡é’ˆçš„æƒ…å†µã€‚å› æ­¤ï¼Œé‡Šæ”¾å®Œå†…å­˜åï¼Œåº”è¯¥è®²è¯¥æŒ‡é’ˆæŒ‡å‘NULLã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:13","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.14Â è¯´ä¸€è¯´externâ€œCâ€ extern â€œC\"çš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºäº†èƒ½å¤Ÿæ­£ç¡®å®ç°C++ä»£ç è°ƒç”¨å…¶ä»–Cè¯­è¨€ä»£ç ã€‚åŠ ä¸Šextern â€œC\"åï¼Œä¼šæŒ‡ç¤ºç¼–è¯‘å™¨è¿™éƒ¨åˆ†ä»£ç æŒ‰Cè¯­è¨€ï¼ˆè€Œä¸æ˜¯C++ï¼‰çš„æ–¹å¼è¿›è¡Œç¼–è¯‘ã€‚ç”±äºC++æ”¯æŒå‡½æ•°é‡è½½ï¼Œå› æ­¤ç¼–è¯‘å™¨ç¼–è¯‘å‡½æ•°çš„è¿‡ç¨‹ä¸­ä¼šå°†å‡½æ•°çš„å‚æ•°ç±»å‹ä¹ŸåŠ åˆ°ç¼–è¯‘åçš„ä»£ç ä¸­ï¼Œè€Œä¸ä»…ä»…æ˜¯å‡½æ•°åï¼›è€ŒCè¯­è¨€å¹¶ä¸æ”¯æŒå‡½æ•°é‡è½½ï¼Œå› æ­¤ç¼–è¯‘Cè¯­è¨€ä»£ç çš„å‡½æ•°æ—¶ä¸ä¼šå¸¦ä¸Šå‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œä¸€èˆ¬åªåŒ…æ‹¬å‡½æ•°åã€‚ è¿™ä¸ªåŠŸèƒ½ååˆ†æœ‰ç”¨å¤„ï¼Œå› ä¸ºåœ¨C++å‡ºç°ä»¥å‰ï¼Œå¾ˆå¤šä»£ç éƒ½æ˜¯Cè¯­è¨€å†™çš„ï¼Œè€Œä¸”å¾ˆåº•å±‚çš„åº“ä¹Ÿæ˜¯Cè¯­è¨€å†™çš„ï¼Œä¸ºäº†æ›´å¥½çš„æ”¯æŒåŸæ¥çš„Cä»£ç å’Œå·²ç»å†™å¥½çš„Cè¯­è¨€åº“ï¼Œéœ€è¦åœ¨C++ä¸­å°½å¯èƒ½çš„æ”¯æŒCï¼Œè€Œextern â€œC\"å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªç­–ç•¥ã€‚ C++ä»£ç è°ƒç”¨Cè¯­è¨€ä»£ç åœ¨C++çš„å¤´æ–‡ä»¶ä¸­ä½¿ç”¨åœ¨å¤šä¸ªäººååŒå¼€å‘æ—¶ï¼Œå¯èƒ½æœ‰çš„äººæ¯”è¾ƒæ“…é•¿Cè¯­è¨€ï¼Œè€Œæœ‰çš„äººæ“…é•¿C++ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹ä¹Ÿä¼šæœ‰ç”¨åˆ°ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:14","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.15Â è¯·ä½ æ¥è¯´ä¸€ä¸‹C++ä¸­structå’Œclassçš„åŒºåˆ« åœ¨C++ä¸­ï¼Œclasså’Œstructåšç±»å‹å®šä¹‰æ˜¯åªæœ‰ä¸¤ç‚¹åŒºåˆ«ï¼š â‘ é»˜è®¤ç»§æ‰¿æƒé™ä¸åŒï¼Œclassç»§æ‰¿é»˜è®¤æ˜¯privateç»§æ‰¿ï¼Œè€Œstructé»˜è®¤æ˜¯publicç»§æ‰¿ â‘¡classè¿˜å¯ç”¨äºå®šä¹‰æ¨¡æ¿å‚æ•°ï¼Œåƒtypenameï¼Œä½†æ˜¯å…³é”®å­—structä¸èƒ½åŒäºå®šä¹‰æ¨¡æ¿å‚æ•° â‘¢C++ä¿ç•™structå…³é”®å­—ï¼ŒåŸå› ï¼šä¿è¯ä¸Cè¯­è¨€çš„å‘ä¸‹å…¼å®¹æ€§ï¼ŒC++å¿…é¡»æä¾›ä¸€ä¸ªstruct â‘£C++ä¸­çš„structå®šä¹‰å¿…é¡»ç™¾åˆ†ç™¾åœ°ä¿è¯ä¸Cè¯­è¨€ä¸­çš„structçš„å‘ä¸‹å…¼å®¹æ€§ï¼ŒæŠŠC++ä¸­çš„æœ€åŸºæœ¬çš„å¯¹è±¡å•å…ƒè§„å®šä¸ºclassè€Œä¸æ˜¯structï¼Œå°±æ˜¯ä¸ºäº†é¿å…å„ç§å…¼å®¹æ€§è¦æ±‚çš„é™åˆ¶ â‘¤å¯¹structå®šä¹‰çš„æ‰©å±•ä½¿Cè¯­è¨€çš„ä»£ç èƒ½å¤Ÿæ›´å®¹æ˜“çš„è¢«ç§»æ¤åˆ°C++ä¸­ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:15","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.16Â C++ç±»å†…å¯ä»¥å®šä¹‰å¼•ç”¨æ•°æ®æˆå‘˜å—ï¼Ÿ å¯ä»¥ï¼Œå¿…é¡»é€šè¿‡æˆå‘˜å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:16","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.17Â C++ä¸­ç±»æˆå‘˜çš„è®¿é—®æƒé™ â‘ C++é€šè¿‡ publicã€protectedã€private ä¸‰ä¸ªå…³é”®å­—æ¥æ§åˆ¶æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°çš„è®¿é—®æƒé™ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºå…¬æœ‰çš„ã€å—ä¿æŠ¤çš„ã€ç§æœ‰çš„ï¼Œè¢«ç§°ä¸ºæˆå‘˜è®¿é—®é™å®šç¬¦ã€‚ â‘¡åœ¨ç±»çš„å†…éƒ¨ï¼ˆå®šä¹‰ç±»çš„ä»£ç å†…éƒ¨ï¼‰ï¼Œæ— è®ºæˆå‘˜è¢«å£°æ˜ä¸º publicã€protected è¿˜æ˜¯ privateï¼Œéƒ½æ˜¯å¯ä»¥äº’ç›¸è®¿é—®çš„ï¼Œæ²¡æœ‰è®¿é—®æƒé™çš„é™åˆ¶ã€‚ â‘¢åœ¨ç±»çš„å¤–éƒ¨ï¼ˆå®šä¹‰ç±»çš„ä»£ç ä¹‹å¤–ï¼‰ï¼Œåªèƒ½é€šè¿‡å¯¹è±¡è®¿é—®æˆå‘˜ï¼Œå¹¶ä¸”é€šè¿‡å¯¹è±¡åªèƒ½è®¿é—® public å±æ€§çš„æˆå‘˜ï¼Œä¸èƒ½è®¿é—® privateã€protected å±æ€§çš„æˆå‘˜ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:17","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.18Â ä»€ä¹ˆæ˜¯å³å€¼å¼•ç”¨ï¼Œè·Ÿå·¦å€¼åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å·¦å€¼å’Œå³å€¼çš„æ¦‚å¿µï¼š â‘ å·¦å€¼ï¼š èƒ½å–åœ°å€ï¼Œæˆ–è€…å…·åå¯¹è±¡ï¼Œè¡¨è¾¾å¼ç»“æŸåä¾ç„¶å­˜åœ¨çš„æŒä¹…å¯¹è±¡ï¼› å³å€¼ï¼šä¸èƒ½å–åœ°å€ï¼ŒåŒ¿åå¯¹è±¡ï¼Œè¡¨è¾¾å¼ç»“æŸåå°±ä¸å†å­˜åœ¨çš„ä¸´æ—¶å¯¹è±¡ï¼› â‘¡åŒºåˆ«ï¼š å·¦å€¼èƒ½å¯»å€ï¼Œå³å€¼ä¸èƒ½ï¼› å·¦å€¼èƒ½èµ‹å€¼ï¼Œå³å€¼ä¸èƒ½ï¼› å·¦å€¼å¯å˜ï¼Œå³å€¼ä¸èƒ½ï¼ˆä»…å¯¹åŸºç¡€ç±»å‹é€‚ç”¨ï¼Œç”¨æˆ·è‡ªå®šä¹‰ç±»å‹å³å€¼å¼•ç”¨å¯ä»¥é€šè¿‡æˆå‘˜å‡½æ•°æ”¹å˜ï¼‰ï¼› ","date":"2023-07-11","objectID":"/posts/basics_one/:3:18","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.19Â é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ å°è£…æ€§ï¼šå°†å®¢è§‚äº‹ç‰©æŠ½è±¡æˆç±»ï¼Œæ¯ä¸ªç±»å¯¹è‡ªèº«çš„æ•°æ®å’Œæ–¹æ³•å®è¡Œ protection ï¼ˆprivate ï¼Œ protected ï¼Œ public ï¼‰ã€‚ ç»§æ‰¿æ€§ï¼šå¹¿ä¹‰çš„ç»§æ‰¿æœ‰ä¸‰ç§å®ç°å½¢å¼ï¼šå®ç°ç»§æ‰¿ï¼ˆä½¿ç”¨åŸºç±»çš„å±æ€§å’Œæ–¹æ³•è€Œæ— éœ€é¢å¤–ç¼–ç çš„èƒ½åŠ›)ã€å¯è§†ç»§æ‰¿(å­çª—ä½“ä½¿ç”¨çˆ¶çª—ä½“çš„å¤–è§‚å’Œå®ç°ä»£ç )ã€æ¥å£ç»§æ‰¿(ä»…ä½¿ç”¨å±æ€§å’Œæ–¹æ³•,å®ç°æ»ååˆ°å­ç±»å®ç°)ã€‚ å¤šæ€æ€§ï¼šæ˜¯å°†çˆ¶ç±»å¯¹è±¡è®¾ç½®æˆä¸ºå’Œä¸€ä¸ªæˆ–æ›´å¤šå®ƒçš„å­å¯¹è±¡ç›¸ç­‰çš„æŠ€æœ¯ã€‚ç”¨å­ç±»å¯¹è±¡ç»™çˆ¶ç±»å¯¹è±¡èµ‹å€¼ä¹‹åï¼Œçˆ¶ç±»å¯¹è±¡å°±å¯ä»¥æ ¹æ®å½“å‰èµ‹å€¼ç»™å®ƒçš„å­å¯¹è±¡çš„ç‰¹æ€§ä»¥ä¸åŒçš„æ–¹å¼è¿ä½œã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:19","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"3.20Â C++çš„ç©ºç±»æœ‰å“ªäº›æˆå‘˜å‡½æ•° C++ç©ºç±»æˆå‘˜å‡½æ•°ï¼š ç¼ºçœæ„é€ å‡½æ•°ã€‚ ç¼ºçœæ‹·è´æ„é€ å‡½æ•°ã€‚ ç¼ºçœææ„å‡½æ•°ã€‚ ç¼ºçœèµ‹å€¼è¿ç®—ç¬¦ã€‚ ç¼ºçœå–å€è¿ç®—ç¬¦ã€‚ ç¼ºçœå–å€è¿ç®—ç¬¦ const ã€‚ æ³¨æ„ï¼šæœ‰äº›ä¹¦ä¸Šåªæ˜¯ç®€å•çš„ä»‹ç»äº†å‰å››ä¸ªå‡½æ•°ã€‚æ²¡æœ‰æåŠåé¢è¿™ä¸¤ä¸ªå‡½æ•°ã€‚ä½†åé¢è¿™ä¸¤ä¸ªå‡½æ•°ä¹Ÿæ˜¯ç©ºç±»çš„é»˜è®¤å‡½æ•°ã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å½“å®é™…ä½¿ç”¨è¿™äº›ç©ºç±»æˆå‘˜å‡½æ•°çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨æ‰ä¼šå»å®šä¹‰å®ƒä»¬ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:3:20","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4. åŸºç¡€çŸ¥è¯†ï¼ˆå››ï¼‰ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.1 è¯´ä¸€è¯´c++ä¸­å››ç§castè½¬æ¢ C++ä¸­å››ç§ç±»å‹è½¬æ¢æ˜¯ï¼šstatic_cast, dynamic_cast, const_cast, reinterpret_cast 1ã€const_cast ç”¨äºå°†constå˜é‡è½¬ä¸ºéconst 2ã€static_cast ç”¨äºå„ç§éšå¼è½¬æ¢ï¼Œæ¯”å¦‚éconstè½¬constï¼Œvoid*è½¬æŒ‡é’ˆç­‰, static_castèƒ½ç”¨äºå¤šæ€å‘ä¸Šè½¬åŒ–ï¼Œå¦‚æœå‘ä¸‹è½¬èƒ½æˆåŠŸä½†æ˜¯ä¸å®‰å…¨ï¼Œç»“æœæœªçŸ¥ï¼› 3ã€dynamic_cast ç”¨äºåŠ¨æ€ç±»å‹è½¬æ¢ã€‚åªèƒ½ç”¨äºå«æœ‰è™šå‡½æ•°çš„ç±»ï¼Œç”¨äºç±»å±‚æ¬¡é—´çš„å‘ä¸Šå’Œå‘ä¸‹è½¬åŒ–ã€‚åªèƒ½è½¬æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚å‘ä¸‹è½¬åŒ–æ—¶ï¼Œå¦‚æœæ˜¯éæ³•çš„å¯¹äºæŒ‡é’ˆè¿”å›NULLï¼Œå¯¹äºå¼•ç”¨æŠ›å¼‚å¸¸ã€‚è¦æ·±å…¥äº†è§£å†…éƒ¨è½¬æ¢çš„åŸç†ã€‚ å‘ä¸Šè½¬æ¢ï¼šæŒ‡çš„æ˜¯å­ç±»å‘åŸºç±»çš„è½¬æ¢ å‘ä¸‹è½¬æ¢ï¼šæŒ‡çš„æ˜¯åŸºç±»å‘å­ç±»çš„è½¬æ¢ å®ƒé€šè¿‡åˆ¤æ–­åœ¨æ‰§è¡Œåˆ°è¯¥è¯­å¥çš„æ—¶å€™å˜é‡çš„è¿è¡Œæ—¶ç±»å‹å’Œè¦è½¬æ¢çš„ç±»å‹æ˜¯å¦ç›¸åŒæ¥åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿè¿›è¡Œå‘ä¸‹è½¬æ¢ã€‚ 4ã€reinterpret_cast å‡ ä¹ä»€ä¹ˆéƒ½å¯ä»¥è½¬ï¼Œæ¯”å¦‚å°†intè½¬æŒ‡é’ˆï¼Œå¯èƒ½ä¼šå‡ºé—®é¢˜ï¼Œå°½é‡å°‘ç”¨ï¼› 5ã€ä¸ºä»€ä¹ˆä¸ä½¿ç”¨Cçš„å¼ºåˆ¶è½¬æ¢ï¼Ÿ Cçš„å¼ºåˆ¶è½¬æ¢è¡¨é¢ä¸Šçœ‹èµ·æ¥åŠŸèƒ½å¼ºå¤§ä»€ä¹ˆéƒ½èƒ½è½¬ï¼Œä½†æ˜¯è½¬åŒ–ä¸å¤Ÿæ˜ç¡®ï¼Œä¸èƒ½è¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼Œå®¹æ˜“å‡ºé”™ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.2 å¯¹c++ä¸­çš„smart pointerå››ä¸ªæ™ºèƒ½æŒ‡é’ˆçš„ç†è§£ï¼šshared_ptr,unique_ptr,weak_ptr,auto_ptr â‘ C++é‡Œé¢çš„å››ä¸ªæ™ºèƒ½æŒ‡é’ˆ: auto_ptr, shared_ptr, weak_ptr, unique_ptr å…¶ä¸­åä¸‰ä¸ªæ˜¯c++11æ”¯æŒï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªå·²ç»è¢«C++11å¼ƒç”¨ã€‚ â‘¡æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨æ˜¯ç®¡ç†ä¸€ä¸ªæŒ‡é’ˆï¼Œå› ä¸ºå­˜åœ¨ä»¥ä¸‹è¿™ç§æƒ…å†µï¼š ç”³è¯·çš„ç©ºé—´åœ¨å‡½æ•°ç»“æŸæ—¶å¿˜è®°é‡Šæ”¾ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šçš„é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ™ºèƒ½æŒ‡é’ˆå°±æ˜¯ä¸€ä¸ªç±»ï¼Œå½“è¶…å‡ºäº†ç±»çš„ä½œç”¨åŸŸæ˜¯ï¼Œç±»ä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œææ„å‡½æ•°ä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æºã€‚æ‰€ä»¥æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨åŸç†å°±æ˜¯åœ¨å‡½æ•°ç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ç©ºé—´ã€‚ â‘¢auto_ptrï¼ˆc++98çš„æ–¹æ¡ˆï¼Œcpp11å·²ç»æŠ›å¼ƒï¼‰ é‡‡ç”¨æ‰€æœ‰æƒæ¨¡å¼ã€‚ unique_ptr p3 (new string (â€œautoâ€)); //#4 unique_ptr p4ï¼› //#5 p4 = p3;//æ­¤æ—¶ä¼šæŠ¥é”™ï¼ï¼ ç¼–è¯‘å™¨è®¤ä¸ºp4=p3éæ³•ï¼Œé¿å…äº†p3ä¸å†æŒ‡å‘æœ‰æ•ˆæ•°æ®çš„é—®é¢˜ã€‚å› æ­¤ï¼Œunique_ptræ¯”auto_ptræ›´å®‰å…¨ã€‚ å¦å¤–unique_ptrè¿˜æœ‰æ›´èªæ˜çš„åœ°æ–¹ï¼šå½“ç¨‹åºè¯•å›¾å°†ä¸€ä¸ª unique_ptr èµ‹å€¼ç»™å¦ä¸€ä¸ªæ—¶ï¼Œå¦‚æœæº unique_ptr æ˜¯ä¸ªä¸´æ—¶å³å€¼ï¼Œç¼–è¯‘å™¨å…è®¸è¿™ä¹ˆåšï¼›å¦‚æœæº unique_ptr å°†å­˜åœ¨ä¸€æ®µæ—¶é—´ï¼Œç¼–è¯‘å™¨å°†ç¦æ­¢è¿™ä¹ˆåšï¼Œæ¯”å¦‚ï¼š unique_ptr pu1(new string (â€œhello worldâ€)); unique_ptr pu2; pu2 = pu1; // #1 not allowed unique_ptr pu3; pu3 = unique_ptr(new string (â€œYouâ€)); // #2 allowed å…¶ä¸­#1ç•™ä¸‹æ‚¬æŒ‚çš„ unique_ptr(pu1)ï¼Œè¿™å¯èƒ½å¯¼è‡´å±å®³ã€‚è€Œ#2ä¸ä¼šç•™ä¸‹æ‚¬æŒ‚çš„unique_ptrï¼Œå› ä¸ºå®ƒè°ƒç”¨ unique_ptr çš„æ„é€ å‡½æ•°ï¼Œè¯¥æ„é€ å‡½æ•°åˆ›å»ºçš„ä¸´æ—¶å¯¹è±¡åœ¨å…¶æ‰€æœ‰æƒè®©ç»™ pu3 åå°±ä¼šè¢«é”€æ¯ã€‚è¿™ç§éšæƒ…å†µè€Œå·²çš„è¡Œä¸ºè¡¨æ˜ï¼Œunique_ptr ä¼˜äºå…è®¸ä¸¤ç§èµ‹å€¼çš„auto_ptr ã€‚ æ³¨ï¼šå¦‚æœç¡®å®æƒ³æ‰§è¡Œç±»ä¼¼ä¸#1çš„æ“ä½œï¼Œè¦å®‰å…¨çš„é‡ç”¨è¿™ç§æŒ‡é’ˆï¼Œå¯ç»™å®ƒèµ‹æ–°å€¼ã€‚C++æœ‰ä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°std::move()ï¼Œè®©ä½ èƒ½å¤Ÿå°†ä¸€ä¸ªunique_ptrèµ‹ç»™å¦ä¸€ä¸ªã€‚ä¾‹å¦‚ï¼š unique_ptr ps1, ps2; ps1 = demo(â€œhelloâ€); ps2 = move(ps1); ps1 = demo(â€œalexiaâ€); cout \u003c\u003c *ps2 \u003c\u003c *ps1 \u003c\u003c endl; shared_ptrå®ç°å…±äº«å¼æ‹¥æœ‰æ¦‚å¿µã€‚å¤šä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥æŒ‡å‘ç›¸åŒå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å’Œå…¶ç›¸å…³èµ„æºä¼šåœ¨â€œæœ€åä¸€ä¸ªå¼•ç”¨è¢«é”€æ¯â€æ—¶å€™é‡Šæ”¾ã€‚ä»åå­—shareå°±å¯ä»¥çœ‹å‡ºäº†èµ„æºå¯ä»¥è¢«å¤šä¸ªæŒ‡é’ˆå…±äº«ï¼Œå®ƒä½¿ç”¨è®¡æ•°æœºåˆ¶æ¥è¡¨æ˜èµ„æºè¢«å‡ ä¸ªæŒ‡é’ˆå…±äº«ã€‚å¯ä»¥é€šè¿‡æˆå‘˜å‡½æ•°use_count()æ¥æŸ¥çœ‹èµ„æºçš„æ‰€æœ‰è€…ä¸ªæ•°ã€‚é™¤äº†å¯ä»¥é€šè¿‡newæ¥æ„é€ ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¼ å…¥auto_ptr, unique_ptr,weak_ptræ¥æ„é€ ã€‚å½“æˆ‘ä»¬è°ƒç”¨release()æ—¶ï¼Œå½“å‰æŒ‡é’ˆä¼šé‡Šæ”¾èµ„æºæ‰€æœ‰æƒï¼Œè®¡æ•°å‡ä¸€ã€‚å½“è®¡æ•°ç­‰äº0æ—¶ï¼Œèµ„æºä¼šè¢«é‡Šæ”¾ã€‚ shared_ptr æ˜¯ä¸ºäº†è§£å†³ auto_ptr åœ¨å¯¹è±¡æ‰€æœ‰æƒä¸Šçš„å±€é™æ€§(auto_ptr æ˜¯ç‹¬å çš„), åœ¨ä½¿ç”¨å¼•ç”¨è®¡æ•°çš„æœºåˆ¶ä¸Šæä¾›äº†å¯ä»¥å…±äº«æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆã€‚ æˆå‘˜å‡½æ•°ï¼š use_count è¿”å›å¼•ç”¨è®¡æ•°çš„ä¸ªæ•° unique è¿”å›æ˜¯å¦æ˜¯ç‹¬å æ‰€æœ‰æƒ( use_count ä¸º 1) swap äº¤æ¢ä¸¤ä¸ª shared_ptr å¯¹è±¡(å³äº¤æ¢æ‰€æ‹¥æœ‰çš„å¯¹è±¡) reset æ”¾å¼ƒå†…éƒ¨å¯¹è±¡çš„æ‰€æœ‰æƒæˆ–æ‹¥æœ‰å¯¹è±¡çš„å˜æ›´, ä¼šå¼•èµ·åŸæœ‰å¯¹è±¡çš„å¼•ç”¨è®¡æ•°çš„å‡å°‘ get è¿”å›å†…éƒ¨å¯¹è±¡(æŒ‡é’ˆ), ç”±äºå·²ç»é‡è½½äº†()æ–¹æ³•, å› æ­¤å’Œç›´æ¥ä½¿ç”¨å¯¹è±¡æ˜¯ä¸€æ ·çš„.å¦‚ shared_ptrsp(new int(1)); sp ä¸ sp.get()æ˜¯ç­‰ä»·çš„ weak_ptr: weak_ptr æ˜¯ä¸€ç§ä¸æ§åˆ¶å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„æ™ºèƒ½æŒ‡é’ˆ, å®ƒæŒ‡å‘ä¸€ä¸ª shared_ptr ç®¡ç†çš„å¯¹è±¡. è¿›è¡Œè¯¥å¯¹è±¡çš„å†…å­˜ç®¡ç†çš„æ˜¯é‚£ä¸ªå¼ºå¼•ç”¨çš„shared_ptr. weak_ptråªæ˜¯æä¾›äº†å¯¹ç®¡ç†å¯¹è±¡çš„ä¸€ä¸ªè®¿é—®æ‰‹æ®µã€‚ weak_ptr è®¾è®¡çš„ç›®çš„æ˜¯ä¸ºé…åˆ shared_ptr è€Œå¼•å…¥çš„ä¸€ç§æ™ºèƒ½æŒ‡é’ˆæ¥ååŠ© shared_ptr å·¥ä½œ, å®ƒåªå¯ä»¥ä»ä¸€ä¸ª shared_ptr æˆ–å¦ä¸€ä¸ª weak_ptr å¯¹è±¡æ„é€ , å®ƒçš„æ„é€ å’Œææ„ä¸ä¼šå¼•èµ·å¼•ç”¨è®°æ•°çš„å¢åŠ æˆ–å‡å°‘ã€‚ weak_ptræ˜¯ç”¨æ¥è§£å†³shared_ptrç›¸äº’å¼•ç”¨æ—¶çš„æ­»é”é—®é¢˜,å¦‚æœè¯´ä¸¤ä¸ªshared_ptrç›¸äº’å¼•ç”¨,é‚£ä¹ˆè¿™ä¸¤ä¸ªæŒ‡é’ˆçš„å¼•ç”¨è®¡æ•°æ°¸è¿œä¸å¯èƒ½ä¸‹é™ä¸º0,èµ„æºæ°¸è¿œä¸ä¼šé‡Šæ”¾ã€‚å®ƒæ˜¯å¯¹å¯¹è±¡çš„ä¸€ç§å¼±å¼•ç”¨ï¼Œä¸ä¼šå¢åŠ å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œå’Œshared_pträ¹‹é—´å¯ä»¥ç›¸äº’è½¬åŒ–ï¼Œshared_ptrå¯ä»¥ç›´æ¥èµ‹å€¼ç»™å®ƒï¼Œå®ƒå¯ä»¥é€šè¿‡è°ƒç”¨lockå‡½æ•°æ¥è·å¾—shared_ptrã€‚ class B; class A { public: shared_ptr\u003cB\u003e pb_; ~A(){ cout\u003c\u003c\"A delete\"; } }; class B { public: shared_ptr\u003cA\u003e pa_; ~B(){ cout\u003c\u003c\"B delete\"; } }; void fun() { shared_ptr\u003cB\u003e pb(new B()); shared_ptr\u003cA\u003e pa(new A()); pb-\u003epa_ = pa; pa-\u003epb_ = pb; cout \u003c\u003c pb.use_count() \u003c\u003c endl; cout \u003c\u003c pa.use_count() \u003c\u003c endl; } int main() { fun(); return 0; } å¯ä»¥çœ‹åˆ°funå‡½æ•°ä¸­pa ï¼Œpbä¹‹é—´äº’ç›¸å¼•ç”¨ï¼Œä¸¤ä¸ªèµ„æºçš„å¼•ç”¨è®¡æ•°ä¸º2ï¼Œå½“è¦è·³å‡ºå‡½æ•°æ—¶ï¼Œæ™ºèƒ½æŒ‡é’ˆpaï¼Œpbææ„æ—¶ä¸¤ä¸ªèµ„æºå¼•ç”¨è®¡æ•°ä¼šå‡ä¸€ï¼Œä½†æ˜¯ä¸¤è€…å¼•ç”¨è®¡æ•°è¿˜æ˜¯ä¸º1ï¼Œå¯¼è‡´è·³å‡ºå‡½æ•°æ—¶èµ„æºæ²¡æœ‰è¢«é‡Šæ”¾ï¼ˆA Bçš„ææ„å‡½æ•°æ²¡æœ‰è¢«è°ƒç”¨ï¼‰ï¼Œå¦‚æœæŠŠå…¶ä¸­ä¸€ä¸ªæ”¹ä¸ºweak_ptrå°±å¯ä»¥äº†ï¼Œæˆ‘ä»¬æŠŠç±»Aé‡Œé¢çš„shared_ptr pb_; æ”¹ä¸ºweak_ptr pb_; è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œè¿™æ ·çš„è¯ï¼Œèµ„æºBçš„å¼•ç”¨å¼€å§‹å°±åªæœ‰1ï¼Œå½“pbææ„æ—¶ï¼ŒBçš„è®¡æ•°å˜ä¸º0ï¼ŒBå¾—åˆ°é‡Šæ”¾ï¼ŒBé‡Šæ”¾çš„åŒæ—¶ä¹Ÿä¼šä½¿Açš„è®¡æ•°å‡ä¸€ï¼ŒåŒæ—¶paææ„æ—¶ä½¿Açš„è®¡æ•°å‡ä¸€ï¼Œé‚£ä¹ˆAçš„è®¡æ•°ä¸º0ï¼ŒAå¾—åˆ°é‡Šæ”¾ã€‚ æ³¨æ„ï¼šä¸èƒ½é€šè¿‡weak_ptrç›´æ¥è®¿é—®å¯¹è±¡çš„æ–¹æ³•ï¼Œæ¯”å¦‚Bå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•print(),æˆ‘ä»¬ä¸èƒ½è¿™æ ·è®¿é—®ï¼Œpa-\u003epb_-\u003eprint(); è‹±æ–‡pb_æ˜¯ä¸€ä¸ªweak_ptrï¼Œåº”è¯¥å…ˆæŠŠå®ƒè½¬åŒ–ä¸ºshared_ptr,å¦‚ï¼šshared_ptr p = pa-\u003epb_.lock(); p-\u003eprint(); ","date":"2023-07-11","objectID":"/posts/basics_one/:4:2","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.3 è¯´è¯´å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦ â‘ static_castÂ ç”¨äºéå¤šæ€ç±»å‹çš„è½¬æ¢ ç”¨äºéå¤šæ€ç±»å‹çš„è½¬æ¢ ä¸æ‰§è¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼ˆè½¬æ¢å®‰å…¨æ€§ä¸å¦‚ dynamic_castï¼‰ é€šå¸¸ç”¨äºè½¬æ¢æ•°å€¼æ•°æ®ç±»å‹ï¼ˆå¦‚ float -\u003e intï¼‰ å¯ä»¥åœ¨æ•´ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­ç§»åŠ¨æŒ‡é’ˆï¼Œå­ç±»è½¬åŒ–ä¸ºçˆ¶ç±»å®‰å…¨ï¼ˆå‘ä¸Šè½¬æ¢ï¼‰ï¼Œçˆ¶ç±»è½¬åŒ–ä¸ºå­ç±»ä¸å®‰å…¨ï¼ˆå› ä¸ºå­ç±»å¯èƒ½æœ‰ä¸åœ¨çˆ¶ç±»çš„å­—æ®µæˆ–æ–¹æ³•ï¼‰ â‘¡dynamic_castÂ ç”¨äºå¤šæ€ç±»å‹çš„è½¬æ¢ ç”¨äºå¤šæ€ç±»å‹çš„è½¬æ¢ æ‰§è¡Œè¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ åªé€‚ç”¨äºæŒ‡é’ˆæˆ–å¼•ç”¨ å¯¹ä¸æ˜ç¡®çš„æŒ‡é’ˆçš„è½¬æ¢å°†å¤±è´¥ï¼ˆè¿”å› nullptrï¼‰ï¼Œä½†ä¸å¼•å‘å¼‚å¸¸ å¯ä»¥åœ¨æ•´ä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­ç§»åŠ¨æŒ‡é’ˆï¼ŒåŒ…æ‹¬å‘ä¸Šè½¬æ¢ã€å‘ä¸‹è½¬æ¢ â‘¢const_cast ç”¨äºåˆ é™¤ constã€volatile å’Œ __unaligned ç‰¹æ€§ï¼ˆå¦‚å°† const int ç±»å‹è½¬æ¢ä¸º int ç±»å‹ ï¼‰ â‘£reinterpret_cast ç”¨äºä½çš„ç®€å•é‡æ–°è§£é‡Š æ»¥ç”¨ reinterpret_cast è¿ç®—ç¬¦å¯èƒ½å¾ˆå®¹æ˜“å¸¦æ¥é£é™©ã€‚é™¤éæ‰€éœ€è½¬æ¢æœ¬èº«æ˜¯ä½çº§åˆ«çš„ï¼Œå¦åˆ™åº”ä½¿ç”¨å…¶ä»–å¼ºåˆ¶è½¬æ¢è¿ç®—ç¬¦ä¹‹ä¸€ã€‚ å…è®¸å°†ä»»ä½•æŒ‡é’ˆè½¬æ¢ä¸ºä»»ä½•å…¶ä»–æŒ‡é’ˆç±»å‹ï¼ˆå¦‚ char* åˆ° int* æˆ– One_class* åˆ° Unrelated_class* ä¹‹ç±»çš„è½¬æ¢ï¼Œä½†å…¶æœ¬èº«å¹¶ä¸å®‰å…¨ï¼‰ ä¹Ÿå…è®¸å°†ä»»ä½•æ•´æ•°ç±»å‹è½¬æ¢ä¸ºä»»ä½•æŒ‡é’ˆç±»å‹ä»¥åŠåå‘è½¬æ¢ã€‚ reinterpret_cast è¿ç®—ç¬¦ä¸èƒ½ä¸¢æ‰ constã€volatile æˆ– __unaligned ç‰¹æ€§ã€‚ reinterpret_cast çš„ä¸€ä¸ªå®é™…ç”¨é€”æ˜¯åœ¨å“ˆå¸Œå‡½æ•°ä¸­ï¼Œå³ï¼Œé€šè¿‡è®©ä¸¤ä¸ªä¸åŒçš„å€¼å‡ ä¹ä¸ä»¥ç›¸åŒçš„ç´¢å¼•ç»“å°¾çš„æ–¹å¼å°†å€¼æ˜ å°„åˆ°ç´¢å¼•ã€‚ â‘¤bad_cast ç”±äºå¼ºåˆ¶è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹å¤±è´¥ï¼Œdynamic_cast è¿ç®—ç¬¦å¼•å‘ bad_cast å¼‚å¸¸ã€‚ bad_cast ä½¿ç”¨: try { Circle\u0026 ref_circle = dynamic_cast\u003cCircle\u0026\u003e(ref_shape); } catch (bad_cast b) { cout \u003c\u003c \"Caught: \" \u003c\u003c b.what(); } ","date":"2023-07-11","objectID":"/posts/basics_one/:4:3","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.4 è°ˆè°ˆä½ å¯¹æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦çš„è®¤è¯† æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦é‡è½½æœ‰ä»¥ä¸‹ä¸¤ä¸ªä¸åŒä¹‹å¤„ï¼š â‘ æ‹·è´æ„é€ å‡½æ•°ç”Ÿæˆæ–°çš„ç±»å¯¹è±¡ï¼Œè€Œèµ‹å€¼è¿ç®—ç¬¦ä¸èƒ½ã€‚ â‘¡ç”±äºæ‹·è´æ„é€ å‡½æ•°æ˜¯ç›´æ¥æ„é€ ä¸€ä¸ªæ–°çš„ç±»å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨åˆå§‹åŒ–è¿™ä¸ªå¯¹ä¹‹å‰ä¸ç”¨æ£€éªŒåŸå¯¹è±¡æ˜¯å¦å’Œæ–°å»ºå¯¹è±¡ç›¸åŒï¼Œè€Œèµ‹å€¼è¿ç®—ç¬¦åˆ™éœ€è¦è¿™ä¸ªæ“ä½œï¼Œ â‘¢å¦å¤–ï¼Œèµ‹å€¼è¿ç®—ä¸­ï¼Œå¦‚æœåŸæ¥çš„å¯¹è±¡ä¸­æœ‰å†…å­˜åˆ†é…è¦å…ˆæŠŠå†…å­˜é‡Šæ”¾æ‰ã€‚ æ³¨æ„ï¼šå½“æœ‰ç±»ä¸­æœ‰æŒ‡é’ˆç±»å‹çš„æˆå‘˜å˜é‡æ—¶ï¼Œä¸€å®šè¦é‡å†™æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼Œä¸è¦ä½¿ç”¨é»˜è®¤çš„ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:4","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.5 åœ¨C++ä¸­ï¼Œä½¿ç”¨mallocç”³è¯·çš„å†…å­˜èƒ½å¦é€šè¿‡deleteé‡Šæ”¾ï¼Ÿä½¿ç”¨newç”³è¯·çš„å†…å­˜èƒ½å¦ç”¨freeï¼Ÿ ä¸èƒ½ï¼Œmalloc /freeä¸»è¦ä¸ºäº†å…¼å®¹Cï¼Œnewå’Œdelete å®Œå…¨å¯ä»¥å–ä»£malloc /freeçš„ã€‚ â‘ malloc /freeçš„æ“ä½œå¯¹è±¡éƒ½æ˜¯å¿…é¡»æ˜ç¡®å¤§å°çš„ã€‚è€Œä¸”ä¸èƒ½ç”¨åœ¨åŠ¨æ€ç±»ä¸Šã€‚ â‘¡new å’Œdeleteä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹æ£€æŸ¥å’Œå¤§å°ï¼Œmalloc/freeä¸èƒ½æ‰§è¡Œæ„é€ å‡½æ•°ä¸ææ„å‡½æ•°ï¼Œæ‰€ä»¥åŠ¨æ€å¯¹è±¡å®ƒæ˜¯ä¸è¡Œçš„ã€‚ å½“ç„¶ä»ç†è®ºä¸Šè¯´ä½¿ç”¨mallocç”³è¯·çš„å†…å­˜æ˜¯å¯ä»¥é€šè¿‡deleteé‡Šæ”¾çš„ã€‚ä¸è¿‡ä¸€èˆ¬ä¸è¿™æ ·å†™çš„ã€‚è€Œä¸”ä¹Ÿä¸èƒ½ä¿è¯æ¯ä¸ªC++çš„è¿è¡Œæ—¶éƒ½èƒ½æ­£å¸¸ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:5","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.6 ç”¨C++è®¾è®¡ä¸€ä¸ªä¸èƒ½è¢«ç»§æ‰¿çš„ç±» ref: https://blog.csdn.net/wei_cheng18/article/details/81043858 template \u003ctypename T\u003e class A { friend T; private: A() {} ~A() {} }; class B : virtual public A\u003cB\u003e { public: B() {} ~B() {} }; class C : virtual public B { public: C() {} ~C() {} }; void main( void ) { B b; //C c; return; } æ³¨æ„ï¼šæ„é€ å‡½æ•°æ˜¯ç»§æ‰¿å®ç°çš„å…³é”®ï¼Œæ¯æ¬¡å­ç±»å¯¹è±¡æ„é€ æ—¶ï¼Œé¦–å…ˆè°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç„¶åæ‰ æ˜¯è‡ªå·±çš„ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:6","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.8 è®¿é—®åŸºç±»çš„ç§æœ‰è™šå‡½æ•° å†™å‡ºä»¥ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœï¼š #include \u003ciostream.h\u003e class A { virtual void g() { cout \u003c\u003c \"A::g\" \u003c\u003c endl; } private: virtual void f() { cout \u003c\u003c \"A::f\" \u003c\u003c endl; } }; class B : public A { void g() { cout \u003c\u003c \"B::g\" \u003c\u003c endl; } virtual void h() { cout \u003c\u003c \"B::h\" \u003c\u003c endl; } }; typedef void( *Fun )( void ); void main() { B b; Fun pFun; for(int i = 0 ; i \u003c 3; i++) { pFun = ( Fun )*( ( int* ) * ( int* )( \u0026b ) + i ); pFun(); } } è¾“å‡ºç»“æœ: B::g A::f B::h æ³¨æ„ï¼šè€ƒå¯Ÿäº†é¢è¯•è€…å¯¹è™šå‡½æ•°çš„ç†è§£ç¨‹åº¦ã€‚ä¸€ä¸ªå¯¹è™šå‡½æ•°ä¸äº†è§£çš„äººå¾ˆéš¾æ­£ç¡®çš„åšå‡ºæœ¬é¢˜ã€‚ åœ¨å­¦ä¹ é¢å‘å¯¹è±¡çš„å¤šæ€æ€§æ—¶ä¸€å®šè¦æ·±åˆ»ç†è§£è™šå‡½æ•°è¡¨çš„å·¥ä½œåŸç†ã€‚ è™šå‡½æ•°ï¼šé€šè¿‡åŸºç±»è®¿é—®æ´¾ç”Ÿç±»å®šä¹‰çš„å‡½æ•°ï¼Œå¤šæ€æ—¶ä½¿ç”¨ï¼Œä½¿ç”¨è™šå‡½æ•°åŠ ä¸Švirtualå…³é”®å­—ã€‚ è™šå‡½æ•°å°±æ˜¯åœ¨åŸºç±»å®šä¹‰ä¸€ä¸ªæœªå®ç°çš„å‡½æ•°åï¼Œä¸ºäº†æé«˜ç¨‹åºçš„å¯è¯»æ€§ è™šå‡½æ•°è¯¦è§£ C++è™šå‡½æ•°è¯¦è§£_ç–¯ç‹‚çš„éº¦å…‹æ–¯_maxçš„åšå®¢-CSDNåšå®¢_c++è™šå‡½æ•° è±å½¢ç»§æ‰¿1 è±å½¢ç»§æ‰¿2 ","date":"2023-07-11","objectID":"/posts/basics_one/:4:7","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.9 å¯¹è™šå‡½æ•°å’Œå¤šæ€çš„ç†è§£ â‘ å¤šæ€çš„å®ç°ä¸»è¦åˆ†ä¸ºé™æ€å¤šæ€å’ŒåŠ¨æ€å¤šæ€ï¼Œé™æ€å¤šæ€ä¸»è¦æ˜¯é‡è½½ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™å°±å·²ç»ç¡®å®šï¼›åŠ¨æ€å¤šæ€æ˜¯ç”¨è™šå‡½æ•°æœºåˆ¶å®ç°çš„ï¼Œåœ¨è¿è¡ŒæœŸé—´åŠ¨æ€ç»‘å®šã€‚ ä¸¾ä¸ªä¾‹å­: ä¸€ä¸ªçˆ¶ç±»ç±»å‹çš„æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå­ç±»å¯¹è±¡æ—¶å€™ï¼Œä½¿ç”¨çˆ¶ç±»çš„æŒ‡é’ˆå»è°ƒç”¨å­ç±»ä¸­é‡å†™äº†çš„çˆ¶ç±»ä¸­çš„è™šå‡½æ•°çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å­ç±»é‡å†™è¿‡åçš„å‡½æ•°ï¼Œåœ¨çˆ¶ç±»ä¸­å£°æ˜ä¸ºåŠ äº†virtualå…³é”®å­—çš„å‡½æ•°ï¼Œåœ¨å­ç±»ä¸­é‡å†™æ—¶å€™ä¸éœ€è¦åŠ virtualä¹Ÿæ˜¯è™šå‡½æ•°ã€‚ â‘¡è™šå‡½æ•°çš„å®ç°: åœ¨æœ‰è™šå‡½æ•°çš„ç±»ä¸­ï¼Œç±»çš„æœ€å¼€å§‹éƒ¨åˆ†æ˜¯ä¸€ä¸ªè™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œè¡¨ä¸­æ”¾äº†è™šå‡½æ•°çš„åœ°å€ï¼Œå®é™…çš„è™šå‡½æ•°åœ¨ä»£ç æ®µ(.text)ä¸­ã€‚å½“å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„æ—¶å€™ä¹Ÿä¼šç»§æ‰¿å…¶è™šå‡½æ•°è¡¨ï¼Œå½“å­ç±»é‡å†™çˆ¶ç±»ä¸­è™šå‡½æ•°æ—¶å€™ï¼Œä¼šå°†å…¶ç»§æ‰¿åˆ°çš„è™šå‡½æ•°è¡¨ä¸­çš„åœ°å€æ›¿æ¢ä¸ºé‡æ–°å†™çš„å‡½æ•°åœ°å€ã€‚ä½¿ç”¨äº†è™šå‡½æ•°ï¼Œä¼šå¢åŠ è®¿é—®å†…å­˜å¼€é”€ï¼Œé™ä½æ•ˆç‡ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:8","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.10 ç®€è¿°ç±»æˆå‘˜å‡½æ•°çš„é‡å†™(overwrite)ã€é‡è½½(overload)å’Œéšè—çš„åŒºåˆ« ï¼ˆ1ï¼‰é‡å†™å’Œé‡è½½ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ä¸åŒã€‚ â‘ èŒƒå›´çš„åŒºåˆ«ï¼šè¢«é‡å†™çš„å’Œé‡å†™çš„å‡½æ•°åœ¨ä¸¤ä¸ªç±»ä¸­ï¼Œè€Œé‡è½½å’Œè¢«é‡è½½çš„å‡½æ•°åœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚ â‘¡å‚æ•°çš„åŒºåˆ«ï¼šè¢«é‡å†™å‡½æ•°å’Œé‡å†™å‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸€å®šç›¸åŒï¼Œè€Œè¢«é‡è½½å‡½æ•°å’Œé‡è½½å‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸€å®šä¸åŒã€‚ â‘¢virtualçš„åŒºåˆ«ï¼šé‡å†™çš„åŸºç±»ä¸­è¢«é‡å†™çš„å‡½æ•°å¿…é¡»è¦æœ‰virtualä¿®é¥°ï¼Œè€Œé‡è½½å‡½æ•°å’Œè¢«é‡è½½å‡½æ•°å¯ä»¥è¢«virtualä¿®é¥°ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚ ï¼ˆ2ï¼‰éšè—å’Œé‡å†™ã€é‡è½½æœ‰ä»¥ä¸‹å‡ ç‚¹ä¸åŒã€‚ ä¸é‡è½½çš„èŒƒå›´ä¸åŒï¼šå’Œé‡å†™ä¸€æ ·ï¼Œéšè—å‡½æ•°å’Œè¢«éšè—å‡½æ•°ä¸åœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚ å‚æ•°çš„åŒºåˆ«ï¼šéšè—å‡½æ•°å’Œè¢«éšè—çš„å‡½æ•°çš„å‚æ•°åˆ—è¡¨å¯ä»¥ç›¸åŒï¼Œä¹Ÿå¯ä¸åŒï¼Œä½†æ˜¯å‡½æ•°åè‚¯å®šè¦ç›¸åŒã€‚ å½“å‚æ•°ä¸ç›¸åŒæ—¶ï¼Œæ— è®ºåŸºç±»ä¸­çš„å‚æ•°æ˜¯å¦è¢«virtual ä¿®é¥°ï¼ŒåŸºç±»çš„å‡½æ•°éƒ½æ˜¯è¢«éšè—ï¼Œè€Œä¸æ˜¯è¢«é‡å†™ã€‚ æ³¨æ„ï¼šè™½ç„¶é‡è½½å’Œè¦†ç›–éƒ½æ˜¯å®ç°å¤šæ€çš„åŸºç¡€ï¼Œä½†æ˜¯ä¸¤è€…å®ç°çš„æŠ€æœ¯å®Œå…¨ä¸ç›¸åŒï¼Œè¾¾åˆ°çš„ç›®çš„ä¹Ÿæ˜¯å®Œå…¨ä¸åŒçš„ï¼Œè¦†ç›–æ˜¯åŠ¨æ€æ€ç»‘å®šçš„å¤šæ€ï¼Œè€Œé‡è½½æ˜¯é™æ€ç»‘å®šçš„å¤šæ€ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:9","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.11 é“¾è¡¨å’Œæ•°ç»„æœ‰ä»€ä¹ˆåŒºåˆ« å­˜å‚¨å½¢å¼: æ•°ç»„æ˜¯ä¸€å—è¿ç»­çš„ç©ºé—´ï¼Œå£°æ˜æ—¶å°±è¦ç¡®å®šé•¿åº¦ã€‚ é“¾è¡¨æ˜¯ä¸€å—å¯ä¸è¿ç»­çš„åŠ¨æ€ç©ºé—´ï¼Œ é•¿åº¦å¯å˜ï¼Œæ¯ä¸ªç»“ç‚¹è¦ä¿å­˜ç›¸é‚»ç»“ç‚¹æŒ‡é’ˆã€‚ æ•°æ®æŸ¥æ‰¾: æ•°ç»„çš„çº¿æ€§æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼ŒæŸ¥æ‰¾æ“ä½œç›´æ¥ä½¿ç”¨åç§»åœ°å€ã€‚ é“¾è¡¨éœ€è¦æŒ‰é¡ºåºæ£€ç´¢ç»“ç‚¹ï¼Œ æ•ˆç‡ä½ã€‚ æ•°æ®æ’å…¥æˆ–åˆ é™¤ï¼šé“¾è¡¨å¯ä»¥å¿«é€Ÿæ’å…¥å’Œåˆ é™¤ç»“ç‚¹ï¼Œè€Œæ•°ç»„åˆ™å¯èƒ½éœ€è¦å¤§é‡æ•°æ®ç§»åŠ¨ã€‚ è¶Šç•Œé—®é¢˜ï¼š é“¾è¡¨ä¸å­˜åœ¨è¶Šç•Œé—®é¢˜ï¼Œæ•°ç»„æœ‰è¶Šç•Œé—®é¢˜ã€‚ æ³¨æ„ï¼š åœ¨é€‰æ‹©æ•°ç»„æˆ–é“¾è¡¨æ•°æ®ç»“æ„æ—¶ï¼Œä¸€å®šè¦æ ¹æ®å®é™…éœ€è¦è¿›è¡Œé€‰æ‹©ã€‚æ•°ç»„ä¾¿äºæŸ¥è¯¢ï¼Œé“¾è¡¨ä¾¿äºæ’å…¥åˆ é™¤ã€‚æ•°ç»„èŠ‚çœç©ºé—´ä½†æ˜¯é•¿åº¦å›ºå®šï¼Œé“¾è¡¨è™½ç„¶å˜é•¿ä½†æ˜¯å äº†æ›´å¤šçš„å­˜å‚¨ç©ºé—´ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:10","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.12 ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„åŠŸèƒ½ typedef struct node { int data; node *next; }node,*LinkStack; //åˆ›å»ºç©ºæ ˆï¼š LinkStack CreateNULLStack( LinkStack \u0026S) { S = (LinkStack)malloc( sizeof( node ) ); // ç”³è¯·æ–°ç»“ç‚¹ if( NULL == S) { printf(\"Fail to malloc a new node.\\n\"); return NULL; } S-\u003edata = 0; //åˆå§‹åŒ–æ–°ç»“ç‚¹ S-\u003enext = NULL; return S; } //æ ˆçš„æ’å…¥å‡½æ•°ï¼š LinkStack Push( LinkStack \u0026S, int data) { if( NULL == S) //æ£€éªŒæ ˆ { printf(\"There no node in stack!\"); return NULL; } LinkStack p = NULL; p = (LinkStack)malloc( sizeof( node ) ); // ç”³è¯·æ–°ç»“ç‚¹ if( NULL == p) { printf(\"Fail to malloc a new node.\\n\"); return S; } if( NULL == S-\u003enext) { p-\u003enext = NULL; } else { p-\u003enext = S-\u003enext; } p-\u003edata = data; //åˆå§‹åŒ–æ–°ç»“ç‚¹ S-\u003enext = p; //æ’å…¥æ–°ç»“ç‚¹ return S; } //å‡ºæ ˆå‡½æ•°ï¼š node Pop( LinkStack \u0026S) { node temp; temp.data = 0; temp.next = NULL; if( NULL == S) //æ£€éªŒæ ˆ { printf(\"There no node in stack!\"); return temp; } temp = *S; if( S-\u003enext == NULL ) { printf(\"The stack is NULL,can't pop!\\n\"); return temp; } LinkStack p = S -\u003enext; //èŠ‚ç‚¹å‡ºæ ˆ S-\u003enext = S-\u003enext-\u003enext; temp = *p; free( p ); p = NULL; return temp; } //åŒæ ˆå®ç°é˜Ÿåˆ—çš„å…¥é˜Ÿå‡½æ•°ï¼š LinkStack StackToQueuPush( LinkStack \u0026S, int data) { node n; LinkStack S1 = NULL; CreateNULLStack( S1 ); //åˆ›å»ºç©ºæ ˆ while( NULL != S-\u003enext ) //S å‡ºæ ˆå…¥S1 { n = Pop( S ); Push( S1, n.data ); } Push( S1, data ); //æ–°ç»“ç‚¹å…¥æ ˆ while( NULL != S1-\u003enext ) //S1 å‡ºæ ˆå…¥S { n = Pop( S1 ); Push( S, n.data ); } return S; } æ³¨æ„ï¼šç”¨ä¸¤ä¸ªæ ˆèƒ½å¤Ÿå®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„åŠŸèƒ½ï¼Œé‚£ç”¨ä¸¤ä¸ªé˜Ÿåˆ—èƒ½å¦å®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„åŠŸèƒ½å‘¢ï¼Ÿç»“æœæ˜¯å¦å®šçš„ï¼Œå› ä¸ºæ ˆæ˜¯å…ˆè¿›åå‡ºï¼Œå°†ä¸¤ä¸ªæ ˆè¿åœ¨ä¸€èµ·ï¼Œå°±æ˜¯å…ˆè¿›å…ˆå‡ºã€‚è€Œé˜Ÿåˆ—æ˜¯ç°å…ˆè¿›å…ˆå‡ºï¼Œæ— è®ºå¤šå°‘ä¸ªè¿åœ¨ä¸€èµ·éƒ½æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œè€Œæ— æ³•å®ç°å…ˆè¿›åå‡ºã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:11","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.13 å…±äº«æ•°æ®çš„ä¿æŠ¤ â‘ å¸¸å¼•ç”¨ï¼šä½¿æ‰€å¼•ç”¨çš„å½¢å‚ä¸èƒ½è¢«æ›´æ–° void display(const double\u0026 a); â‘¡å¸¸å¯¹è±¡ï¼šåœ¨ç”Ÿå­˜æœŸå†…ä¸èƒ½è¢«æ›´æ–°ï¼Œä½†å¿…é¡»è¢«åˆå§‹åŒ– A const a(3,4); â‘¢å¸¸æˆå‘˜å‡½æ•°ï¼š ä¸èƒ½ä¿®æ”¹å¯¹è±¡ä¸­æ•°æ®æˆå‘˜ï¼Œä¹Ÿä¸èƒ½è°ƒç”¨ç±»ä¸­æ²¡æœ‰è¢«const ä¿®é¥°çš„æˆå‘˜å‡½æ•°ï¼ˆå¸¸å¯¹è±¡å”¯ä¸€çš„å¯¹å¤–æ¥å£ï¼‰.å¦‚æœå£°æ˜äº†ä¸€ä¸ªå¸¸å¯¹è±¡ï¼Œåˆ™è¯¥å¯¹è±¡åªèƒ½è°ƒç”¨ä»–çš„å¸¸å‡½æ•°ï¼-\u003eå¯ä»¥ç”¨äºå¯¹é‡è½½å‡½æ•°çš„åŒºåˆ†; void print(); void print() const; â‘£extern int a:ä½¿å…¶ä»–æ–‡ä»¶ä¹Ÿèƒ½è®¿é—®è¯¥å˜é‡ å£°æ˜ä¸€ä¸ªå‡½æ•°æˆ–å®šä¹‰å‡½æ•°æ—¶ï¼Œå† ä»¥staticçš„è¯ï¼Œå‡½æ•°çš„ä½œç”¨åŸŸå°±è¢«é™åˆ¶åœ¨äº†å½“å‰ç¼–è¯‘å•å…ƒï¼Œå½“å‰ç¼–è¯‘å•å…ƒå†…ä¹Ÿå¿…é¡»åŒ…å«å‡½æ•°çš„å®šä¹‰ï¼Œä¹Ÿåªåœ¨å…¶ç¼–è¯‘å•å…ƒå¯è§ï¼Œå…¶ä»–å•å…ƒä¸èƒ½è°ƒç”¨è¿™ä¸ªå‡½æ•°(æ¯ä¸€ä¸ªcpp æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªç¼–è¯‘å•å…ƒ)ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:12","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.14 ç¨‹åºå†…å­˜åˆ†é…æ–¹å¼ä»¥åŠå®ƒä»¬çš„åŒºåˆ« å†…å­˜åˆ†é…å¤§è‡´ä¸Šå¯ä»¥åˆ†æˆ5å—ï¼š æ ˆåŒºï¼ˆstackï¼‰ æ ˆï¼Œå°±æ˜¯é‚£äº›ç”±ç¼–è¯‘å™¨åœ¨éœ€è¦æ—¶åˆ†é…ï¼Œåœ¨ä¸éœ€è¦çš„æ—¶å€™è‡ªåŠ¨æ¸…é™¤çš„å˜é‡çš„å­˜å‚¨åŒºã€‚é‡Œé¢çš„å˜é‡é€šå¸¸æ˜¯å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ç­‰ã€‚ï¼ˆç”±ç¼–è¯‘å™¨ç®¡ç†ï¼‰ å †åŒºï¼ˆheapï¼‰ ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…ã€é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±ç³»ç»Ÿå›æ”¶ã€‚æ³¨æ„ï¼Œå®ƒä¸æ•°æ®ç»“æ„ä¸­çš„å †æ˜¯ä¸¤å›äº‹ï¼Œåˆ†é…æ–¹å¼ç±»ä¼¼äºé“¾è¡¨ã€‚ å…¨å±€åŒºï¼ˆé™æ€åŒºï¼‰ï¼ˆstaticï¼‰ å…¨å±€å˜é‡å’Œé™æ€å˜é‡è¢«åˆ†é…åˆ°åŒä¸€å—å†…å­˜ä¸­ã€‚ç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚ å¸¸é‡å­˜å‚¨åŒº å¸¸é‡å­—ç¬¦ä¸²å°±æ˜¯æ”¾åœ¨è¿™é‡Œçš„ï¼Œä¸å…è®¸ä¿®æ”¹ï¼Œç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚ ç¨‹åºä»£ç åŒº å­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ã€‚ C++ç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼Œå°†å†…å­˜å¤§æ–¹å‘åˆ’åˆ†ä¸º4ä¸ªåŒºåŸŸ: ç¨‹åºè¿è¡Œå‰ ä»£ç åŒºï¼šå­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†çš„ å…¨å±€åŒºï¼šå­˜æ”¾å…¨å±€å˜é‡å’Œé™æ€å˜é‡ä»¥åŠå¸¸é‡ ç¨‹åºè¿è¡Œå æ ˆåŒºï¼šç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾, å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼,å±€éƒ¨å˜é‡ç­‰ å †åŒºï¼šç”±ç¨‹åºå‘˜åˆ†é…å’Œé‡Šæ”¾,è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾,ç¨‹åºç»“æŸæ—¶ç”±æ“ä½œç³»ç»Ÿå›æ”¶ å†…å­˜å››åŒºæ„ä¹‰ï¼š ä¸åŒåŒºåŸŸå­˜æ”¾çš„æ•°æ®ï¼Œèµ‹äºˆä¸åŒçš„ç”Ÿå‘½å‘¨æœŸ, ç»™æˆ‘ä»¬æ›´å¤§çš„çµæ´»ç¼–ç¨‹ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:13","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.15 explicit å‡½æ•°å£°æ˜æ—¶åŠ ä¸Šexplicitå¯ä»¥é˜»æ­¢å‡½æ•°å‚æ•°è¢«éšå¼è½¬æ¢ã€‚ Class A { explicit A(int a); } Void main() { A a1=12; //ä¸åŠ explicitæ—¶ä¼šè¢«éšå¼è½¬æ¢ä½ A a1=A(12);åŠ äº†æ­¤æ—¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ } è¢«å£°æ˜ä¸ºexplicitçš„æ„é€ å‡½æ•°é€šå¸¸æ¯”non-explicit å‡½æ•°æ›´å—æ¬¢è¿ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:14","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.16 mutableå…³é”®å­— mutableçš„ä¸­æ–‡æ„æ€æ˜¯â€œå¯å˜çš„ï¼Œæ˜“å˜çš„â€ï¼Œè·Ÿconstantï¼ˆæ—¢C++ä¸­çš„constï¼‰æ˜¯åä¹‰è¯ã€‚åœ¨C++ä¸­ï¼Œmutableä¹Ÿæ˜¯ä¸ºäº†çªç ´constçš„é™åˆ¶è€Œè®¾ç½®çš„ã€‚ è¢«mutableä¿®é¥°çš„å˜é‡(mutableåªèƒ½ç”¨äºä¿®é¥°ç±»çš„éé™æ€æ•°æ®æˆå‘˜)ï¼Œå°†æ°¸è¿œå¤„äºå¯å˜çš„çŠ¶æ€ï¼Œå³ä½¿åœ¨ä¸€ä¸ªconstå‡½æ•°ä¸­ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œå‡å¦‚ç±»çš„æˆå‘˜å‡½æ•°ä¸ä¼šæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ä¸ªæˆå‘˜å‡½æ•°ä¸€èˆ¬ä¼šå£°æ˜ä¸ºconstã€‚ä½†æ˜¯ï¼Œæœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨constçš„å‡½æ•°é‡Œé¢ä¿®æ”¹ä¸€äº›è·Ÿç±»çŠ¶æ€æ— å…³çš„æ•°æ®æˆå‘˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®æˆå‘˜å°±åº”è¯¥è¢«mutalbeæ¥ä¿®é¥°ã€‚ï¼ˆä½¿ç”¨mutableä¿®é¥°çš„æ•°æ®æˆå‘˜å¯ä»¥è¢«constæˆå‘˜å‡½æ•°ä¿®æ”¹ï¼‰ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:15","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.17 ç”¨constä¿®é¥°å‡½æ•°çš„è¿”å›å€¼ å¦‚æœç»™ä»¥â€œæŒ‡é’ˆä¼ é€’â€æ–¹å¼çš„å‡½æ•°è¿”å›å€¼åŠ constä¿®é¥°ï¼Œé‚£ä¹ˆå‡½æ•°è¿”å›å€¼ï¼ˆå³æŒ‡é’ˆï¼‰çš„å†…å®¹ä¸èƒ½è¢«ä¿®æ”¹ï¼Œè¯¥è¿”å›å€¼åªèƒ½è¢«èµ‹ç»™åŠ constä¿®é¥°çš„åŒç±»å‹æŒ‡é’ˆã€‚ä¾‹å¦‚å‡½æ•°ï¼š const char * GetString(void); // å¦‚ä¸‹è¯­å¥å°†å‡ºç°ç¼–è¯‘é”™è¯¯ï¼š char*str = GetString(); // æ­£ç¡®çš„ç”¨æ³•æ˜¯ const char *str =GetString(); ","date":"2023-07-11","objectID":"/posts/basics_one/:4:16","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.18 å®ã€constå’Œenum #defineä¸è¢«è§†ä¸ºè¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚å¯¹äºå•çº¯å¸¸é‡ï¼Œæœ€å¥½ç”¨constå¯¹è±¡æˆ–è€…enumæ›¿æ¢#defineã€‚ å¯¹äºç±»ä¼¼å‡½æ•°çš„å®ï¼Œå°½é‡ä½¿ç”¨å†…è”å‡½æ•°inlineæ›¿æ¢æ‰#define enumæšä¸¾ç±»å‹æ˜¯è¢«å½“åš int æˆ–è€… unsigned int ç±»å‹æ¥å¤„ç†çš„ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:17","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.19 stackçš„ç”Ÿå­˜æœŸ â‘ C++ä¸­çš„staticå¯¹è±¡æ˜¯æŒ‡å­˜å‚¨åŒºä¸å±äºstackå’Œheapã€â€œå¯¿å‘½\"ä»è¢«æ„é€ å‡ºæ¥ç›´è‡³ç¨‹åºç»“æŸä¸ºæ­¢çš„å¯¹è±¡ã€‚ â‘¡è¿™äº›å¯¹è±¡åŒ…æ‹¬å…¨å±€å¯¹è±¡ï¼Œå®šä¹‰äºnamespaceä½œç”¨åŸŸçš„å¯¹è±¡ï¼Œåœ¨classã€functionä»¥åŠfileä½œç”¨åŸŸä¸­è¢«å£°æ˜ä¸ºstaticçš„å¯¹è±¡ã€‚ â‘¢å…¶ä¸­ï¼Œå‡½æ•°å†…çš„staticå¯¹è±¡ç§°ä¸ºlocal staticå¯¹è±¡ï¼Œè€Œå…¶å®ƒstaticå¯¹è±¡ç§°ä¸ºnon-local staticå¯¹è±¡ã€‚ è¿™ä¸¤è€…åœ¨ä½•æ—¶è¢«åˆå§‹åŒ–(æ„é€ )è¿™ä¸ªé—®é¢˜ä¸Šå­˜åœ¨ç»†å¾®çš„å·®åˆ«ï¼š â‘ å¯¹äºlocal staticå¯¹è±¡ï¼Œåœ¨å…¶æ‰€å±çš„å‡½æ•°è¢«è°ƒç”¨ä¹‹å‰ï¼Œè¯¥å¯¹è±¡å¹¶ä¸å­˜åœ¨ï¼Œå³åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨å¯¹åº”å‡½æ•°æ—¶ï¼Œlocal staticå¯¹è±¡æ‰è¢«æ„é€ å‡ºæ¥ã€‚ â‘¡è€Œå¯¹äºnon-local staticå¯¹è±¡ï¼Œåœ¨main()å‡½æ•°å¼€å§‹å‰å°±å·²ç»è¢«æ„é€ å‡ºæ¥ï¼Œå¹¶åœ¨main()å‡½æ•°ç»“æŸåè¢«ææ„ã€‚ \u003c/font color=red\u003eå»ºè®®ï¼š 1.å¯¹å†…ç½®å¯¹è±¡è¿›è¡Œæ‰‹å·¥åˆå§‹åŒ–ï¼Œå› ä¸ºC++ä¸ä¿è¯åˆå§‹åŒ–å®ƒä»¬ã€‚ 2.æ„é€ å‡½æ•°æœ€å¥½ä½¿ç”¨æˆå‘˜åˆå€¼åˆ—ï¼Œè€Œä¸è¦åœ¨æ„é€ å‡½æ•°æœ¬ä½“ä¸­ä½¿ç”¨èµ‹å€¼æ“ä½œã€‚åˆå€¼åˆ—ä¸­åˆ—å‡ºçš„æˆå‘˜å˜é‡ï¼Œå…¶æ’åºæ¬¡åºåº”è¯¥å’Œå®ƒä»¬åœ¨classä¸­çš„å£°æ˜æ¬¡åºç›¸åŒ(åˆå§‹åŒ–é¡ºåºä¸å£°æ˜å˜é‡é¡ºåºä¸€è‡´)ã€‚ 3.ä¸ºå…é™¤â€œè·¨ç¼–è¯‘å•å…ƒçš„åˆå§‹åŒ–æ¬¡åºé—®é¢˜â€ï¼Œå°½é‡ä»¥local staticå¯¹è±¡æ›¿æ¢non-local staticå¯¹è±¡ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:18","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"4.20 å…¨å±€å˜é‡å’Œstaticå˜é‡çš„åŒºåˆ« â‘ å…¨å±€å˜é‡æœ¬èº«å°±æ˜¯é™æ€å­˜å‚¨æ–¹å¼ï¼Œ é™æ€å…¨å±€å˜é‡å½“ç„¶ä¹Ÿæ˜¯é™æ€å­˜å‚¨æ–¹å¼ã€‚ è¿™ä¸¤è€…åœ¨å­˜å‚¨æ–¹å¼ä¸Šå¹¶æ— ä¸åŒã€‚ â‘¡è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºéé™æ€å…¨å±€å˜é‡çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªæºç¨‹åºï¼Œ å½“ä¸€ä¸ªæºç¨‹åºç”±å¤šä¸ªæºæ–‡ä»¶ç»„æˆæ—¶ï¼Œéé™æ€çš„å…¨å±€å˜é‡åœ¨å„ä¸ªæºæ–‡ä»¶ä¸­éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚ â‘¢è€Œé™æ€å…¨å±€å˜é‡åˆ™é™åˆ¶äº†å…¶ä½œç”¨åŸŸï¼Œ å³åªåœ¨å®šä¹‰è¯¥å˜é‡çš„æºæ–‡ä»¶å†…æœ‰æ•ˆï¼Œ åœ¨åŒä¸€æºç¨‹åºçš„å…¶å®ƒæºæ–‡ä»¶ä¸­ä¸èƒ½ä½¿ç”¨å®ƒã€‚ â‘£ç”±äºé™æ€å…¨å±€å˜é‡çš„ä½œç”¨åŸŸå±€é™äºä¸€ä¸ªæºæ–‡ä»¶å†…ï¼Œåªèƒ½ä¸ºè¯¥æºæ–‡ä»¶å†…çš„å‡½æ•°å…¬ç”¨ï¼Œ å› æ­¤å¯ä»¥é¿å…åœ¨å…¶å®ƒæºæ–‡ä»¶ä¸­å¼•èµ·é”™è¯¯ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:4:19","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5 åŸºç¡€çŸ¥è¯†ï¼ˆäº”ï¼‰ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.1 ä¸ºä»€ä¹ˆæ ˆè¦æ¯”å †é€Ÿåº¦è¦å¿« â‘ é¦–å…ˆ, æ ˆæ˜¯æœ¬ç€LIFOåŸåˆ™çš„å­˜å‚¨æœºåˆ¶, å¯¹æ ˆæ•°æ®çš„å®šä½ç›¸å¯¹æ¯”è¾ƒå¿«é€Ÿ, è€Œå †åˆ™æ˜¯éšæœºåˆ†é…çš„ç©ºé—´, å¤„ç†çš„æ•°æ®æ¯”è¾ƒå¤š, æ— è®ºå¦‚ä½•, è‡³å°‘è¦ä¸¤æ¬¡å®šä½. â‘¡å…¶æ¬¡, æ ˆæ˜¯ç”±CPUæä¾›æŒ‡ä»¤æ”¯æŒçš„, åœ¨æŒ‡ä»¤çš„å¤„ç†é€Ÿåº¦ä¸Š, å¯¹æ ˆæ•°æ®è¿›è¡Œå¤„ç†çš„é€Ÿåº¦è‡ªç„¶è¦ä¼˜äºç”±æ“ä½œç³»ç»Ÿæ”¯æŒçš„å †æ•°æ®. â‘¢å†è€…, æ ˆæ˜¯åœ¨ä¸€çº§ç¼“å­˜ä¸­åšç¼“å­˜çš„, è€Œå †åˆ™æ˜¯åœ¨äºŒçº§ç¼“å­˜ä¸­, ä¸¤è€…åœ¨ç¡¬ä»¶æ€§èƒ½ä¸Šå·®å¼‚å·¨å¤§. æœ€å, å„è¯­è¨€å¯¹æ ˆçš„ä¼˜åŒ–æ”¯æŒè¦ä¼˜äºå¯¹å †çš„æ”¯æŒ, æ¯”å¦‚swiftè¯­è¨€ä¸­, ä¸‰ä¸ªå­—åŠä»¥å†…çš„structç»“æ„, å¯ä»¥åœ¨æ ˆä¸­å†…è”, ä»è€Œè¾¾åˆ°æ›´å¿«çš„å¤„ç†é€Ÿåº¦. ","date":"2023-07-11","objectID":"/posts/basics_one/:5:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.2 c++ ææ„å‡½æ•°è°ƒç”¨æ—¶é—´ å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œè¢«é”€æ¯æ—¶ deleteæŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆæ—¶ï¼Œæˆ–deleteæŒ‡å‘å¯¹è±¡çš„åŸºç±»ç±»å‹æŒ‡é’ˆï¼Œè€Œå…¶åŸºç±»ææ„å‡½æ•°æ˜¯è™šå‡½æ•°æ—¶ å¯¹è±¡iæ˜¯å¯¹è±¡oçš„æˆå‘˜ï¼Œoçš„ææ„å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå¯¹è±¡içš„ææ„å‡½æ•°ä¹Ÿè¢«è°ƒç”¨ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:2","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.3 é™æ€ç»‘å®š åŠ¨æ€ç»‘å®š ï¼ˆä¹Ÿå«åŠ¨æ€è¿ç¼–ï¼Œé™æ€è¿ç¼–ï¼‰ å¦‚æœçˆ¶ç±»ä¸­å­˜åœ¨æœ‰è™šå‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¾¿ä¼šä¸ºä¹‹ç”Ÿæˆè™šè¡¨ï¼ˆå±äºç±»ï¼‰ä¸è™šæŒ‡é’ˆï¼ˆå±äºæŸä¸ªå¯¹è±¡ï¼‰ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæ ¹æ®è™šæŒ‡é’ˆçš„æŒ‡å‘ï¼Œæ¥å†³å®šè°ƒç”¨å“ªä¸ªè™šå‡½æ•°ï¼Œè¿™ç§°ä¹‹ä¸åŠ¨æ€ç»‘å®šï¼Œä¸ä¹‹ç›¸å¯¹çš„æ˜¯é™æ€ç»‘å®šï¼Œé™æ€ç»‘å®šåœ¨ç¼–è¯‘æœŸå°±å†³å®šäº†ã€‚ classå’Œtemplateéƒ½æ”¯æŒæ¥å£ä¸å¤šæ€ï¼› â‘ å¯¹classesè€Œè¨€ï¼Œæ¥å£æ˜¯æ˜¾å¼çš„ï¼Œä»¥å‡½æ•°ç­¾åä¸ºä¸­å¿ƒã€‚å¤šæ€åˆ™æ˜¯é€šè¿‡virtualå‡½æ•°(è™šå‡½æ•°)å‘ç”Ÿäºè¿è¡ŒæœŸï¼› â‘¡å¯¹templateå‚æ•°è€Œè¨€ï¼Œæ¥å£æ˜¯éšå¼çš„ï¼Œå¥ åŸºäºæœ‰æ•ˆè¡¨è¾¾å¼ã€‚å¤šæ€åˆ™æ˜¯é€šè¿‡templateå…·ç°åŒ–å’Œå‡½æ•°é‡è½½è§£æå‘ç”Ÿäºç¼–è¯‘æœŸã€‚ æ³›å‹ æ³›å‹æ˜¯é€šè¿‡å‚æ•°åŒ–ç±»å‹æ¥å®ç°åœ¨åŒä¸€ä»½ä»£ç ä¸Šæ“ä½œå¤šç§æ•°æ®ç±»å‹ã€‚åˆ©ç”¨â€œå‚æ•°åŒ–ç±»å‹â€å°†ç±»å‹æŠ½è±¡åŒ–ï¼Œä»è€Œå®ç°çµæ´»çš„å¤ç”¨ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:3","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.4 Cè¯­è¨€çš„æŒ‡é’ˆå’Œc++çš„å¼•ç”¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æŒ‡é’ˆæœ‰è‡ªå·±çš„ä¸€å—ç©ºé—´ï¼ŒæŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œåªä¸è¿‡è¿™ä¸ªå˜é‡å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼ŒæŒ‡å‘å†…å­˜çš„ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œå³æŒ‡é’ˆæ˜¯ä¸€ä¸ªå®ä½“ã€‚è€Œå¼•ç”¨åªæ˜¯ä¸€ä¸ªåˆ«åï¼› ä½¿ç”¨sizeofçœ‹ä¸€ä¸ªæŒ‡é’ˆçš„å¤§å°æ˜¯4ï¼Œè€Œå¼•ç”¨åˆ™æ˜¯è¢«å¼•ç”¨å¯¹è±¡çš„å¤§å°ï¼› æŒ‡é’ˆå¯ä»¥è¢«åˆå§‹åŒ–ä¸ºNULLï¼Œè€Œå¼•ç”¨å¿…é¡»è¢«åˆå§‹åŒ–ä¸”å¿…é¡»æ˜¯ä¸€ä¸ªå·²æœ‰å¯¹è±¡çš„å¼•ç”¨ï¼› ä½œä¸ºå‚æ•°ä¼ é€’æ—¶ï¼ŒæŒ‡é’ˆéœ€è¦è¢«è§£å¼•ç”¨æ‰å¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œè€Œç›´æ¥å¯¹å¼•ç”¨çš„ä¿®æ”¹éƒ½ä¼šæ”¹å˜å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼› ","date":"2023-07-11","objectID":"/posts/basics_one/:5:4","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.5 è¯·ä½ è¯´è¯´Cè¯­è¨€æ˜¯æ€ä¹ˆè¿›è¡Œå‡½æ•°è°ƒç”¨çš„ æ¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨éƒ½ä¼šåˆ†é…å‡½æ•°æ ˆï¼Œåœ¨æ ˆå†…è¿›è¡Œå‡½æ•°æ‰§è¡Œè¿‡ç¨‹ã€‚è°ƒç”¨å‰ï¼Œå…ˆæŠŠè¿”å›åœ°å€å‹æ ˆï¼Œç„¶åæŠŠå½“å‰å‡½æ•°çš„espæŒ‡é’ˆå‹æ ˆã€‚ï¼ˆESPï¼ˆExtended Stack Pointerï¼‰ä¸ºæ‰©å±•æ ˆæŒ‡é’ˆå¯„å­˜å™¨ï¼Œæ˜¯æŒ‡é’ˆå¯„å­˜å™¨çš„ä¸€ç§ï¼Œç”¨äºå­˜æ”¾å‡½æ•°æ ˆé¡¶æŒ‡é’ˆï¼‰ Cè¯­è¨€å‚æ•°å‹æ ˆé¡ºåºï¼Ÿï¼šä»å³åˆ°å·¦ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:5","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.6 C++ä¸­æ‹·è´èµ‹å€¼å‡½æ•°çš„å½¢å‚èƒ½å¦è¿›è¡Œå€¼ä¼ é€’ï¼Ÿ ä¸èƒ½ã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œé¦–å…ˆè¦å°†å®å‚ä¼ é€’ç»™å½¢å‚ï¼Œè¿™ä¸ªä¼ é€’çš„æ—¶å€™åˆè¦è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°(aa = ex.aa; //æ­¤å¤„è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°)ã€‚å¦‚æ­¤å¾ªç¯ï¼Œæ— æ³•å®Œæˆæ‹·è´ï¼Œæ ˆä¹Ÿä¼šæ»¡ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:6","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.7 includeå¤´æ–‡ä»¶çš„é¡ºåºä»¥åŠåŒå¼•å·â€â€å’Œå°–æ‹¬å·\u003c\u003eçš„åŒºåˆ« ç¼–è¯‘å™¨é¢„å¤„ç†é˜¶æ®µæŸ¥æ‰¾å¤´æ–‡ä»¶çš„è·¯å¾„ä¸ä¸€æ · ä½¿ç”¨åŒå¼•å·åŒ…å«çš„å¤´æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å¤´æ–‡ä»¶è·¯å¾„çš„é¡ºåºä¸ºï¼š â‘ å½“å‰å¤´æ–‡ä»¶ç›®å½• â‘¡ç¼–è¯‘å™¨è®¾ç½®çš„å¤´æ–‡ä»¶è·¯å¾„ï¼ˆç¼–è¯‘å™¨å¯ä½¿ç”¨-Iæ˜¾å¼æŒ‡å®šæœç´¢è·¯å¾„ï¼‰ â‘¢ç³»ç»Ÿå˜é‡CPLUS_INCLUDE_PATH/C_INCLUDE_PATHæŒ‡å®šçš„å¤´æ–‡ä»¶è·¯å¾„ å¯¹äºä½¿ç”¨å°–æ‹¬å·åŒ…å«çš„å¤´æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å¤´æ–‡ä»¶çš„è·¯å¾„é¡ºåºä¸ºï¼š â‘ ç¼–è¯‘å™¨è®¾ç½®çš„å¤´æ–‡ä»¶è·¯å¾„ï¼ˆç¼–è¯‘å™¨å¯ä½¿ç”¨-Iæ˜¾å¼æŒ‡å®šæœç´¢è·¯å¾„ï¼‰ â‘¡ç³»ç»Ÿå˜é‡CPLUS_INCLUDE_PATH/C_INCLUDE_PATHæŒ‡å®šçš„å¤´æ–‡ä»¶è·¯å¾„ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:7","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.8 ä¸€ä¸ªC++æºæ–‡ä»¶ä»æ–‡æœ¬åˆ°å¯æ‰§è¡Œæ–‡ä»¶ç»å†çš„è¿‡ç¨‹ å¯¹äºC/C++ç¼–å†™çš„ç¨‹åºï¼Œä»æºä»£ç åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€èˆ¬ç»è¿‡ä¸‹é¢å››ä¸ªæ­¥éª¤ï¼š é¢„ç¼–è¯‘ï¼Œé¢„ç¼–è¯‘çš„æ—¶å€™åšä¸€äº›ç®€å•çš„æ–‡æœ¬æ›¿æ¢ï¼Œæ¯”å¦‚å®æ›¿æ¢ï¼Œè€Œä¸è¿›è¡Œè¯­æ³•çš„æ£€æŸ¥ï¼› ç¼–è¯‘ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨å°†æ£€æŸ¥ä¸€äº›è¯­æ³•é”™è¯¯ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨çš„å‡½æ•°äº‹å…ˆæ²¡æœ‰å®šä¹‰è¿™ç§æƒ…å†µï¼Œä¸å†è¿™ä¸€é˜¶æ®µæ£€æŸ¥ï¼Œç¼–è¯‘åï¼Œå¾—åˆ°.sæ–‡ä»¶ æ±‡ç¼–ï¼Œå°†C/C++ä»£ç å˜ä¸ºæ±‡ç¼–ä»£ç ï¼Œå¾—åˆ°.oæˆ–è€….objæ–‡ä»¶ é“¾æ¥ï¼Œå°†æ‰€ç”¨åˆ°çš„å¤–éƒ¨æ–‡ä»¶é“¾æ¥åœ¨ä¸€èµ·ï¼Œåœ¨è¿™ä¸€é˜¶æ®µï¼Œå°±ä¼šæ£€æŸ¥ä½¿ç”¨çš„å‡½æ•°æœ‰æ²¡æœ‰å®šä¹‰ é“¾æ¥è¿‡åï¼Œå½¢æˆå¯æ‰§è¡Œæ–‡ä»¶.exe è¯¦ç»†è¯·å‚é˜…: ä¸€ä¸ªC++æºæ–‡ä»¶ä»æ–‡æœ¬åˆ°å¯æ‰§è¡Œæ–‡ä»¶ç»å†çš„è¿‡ç¨‹ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:8","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.9 å†…å­˜æ³„æ¼åŸå› å’Œåˆ¤æ–­æ–¹æ³• å†…å­˜æ³„æ¼é€šå¸¸æ˜¯å› ä¸ºè°ƒç”¨äº†malloc/newç­‰å†…å­˜ç”³è¯·æ“ä½œï¼Œä½†æ˜¯ç¼ºå°‘äº†å¯¹åº”çš„free/deleteã€‚ ä¸ºäº†åˆ¤æ–­å†…å­˜æ˜¯å¦æ³„æ¼ï¼Œæˆ‘ä»¬ä¸€æ–¹é¢å¯ä»¥ä½¿ç”¨Linuxç¯å¢ƒä¸‹çš„å†…å­˜æ³„æ¼æ£€æŸ¥å·¥å…·Valgrindï¼Œå¦ä¸€æ–¹é¢æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™ï¼Œå¯ä»¥æ·»åŠ å†…å­˜ç”³è¯·å’Œé‡Šæ”¾çš„ç»Ÿè®¡åŠŸèƒ½ï¼Œç»Ÿè®¡å½“å‰ç”³è¯·å’Œé‡Šæ”¾çš„å†…å­˜æ˜¯å¦ä¸€è‡´ï¼Œä»¥æ­¤æ¥åˆ¤æ–­å†…å­˜æ˜¯å¦æœ‰æ³„æ¼ã€‚ å†…å­˜æ³„æ¼åˆ†ç±»ï¼š å †å†…å­˜æ³„æ¼ï¼ˆheap leakï¼‰ã€‚å †å†…å­˜å€¼å¾—æ˜¯ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ ¹æ®éœ€è¦åˆ†é…é€šè¿‡malloc\\realloc\\newç­‰ä»å †ä¸­åˆ†é…çš„ä¸€å—å†…å­˜ï¼Œå†å®Œæˆä¹‹åå¿…é¡»è¦é€šè¿‡è°ƒç”¨å¯¹åº”çš„freeæˆ–è€…deleteåˆ é™¤ã€‚ å¦‚æœç¨‹åºçš„è®¾è®¡çš„é”™è¯¯å¯¼è‡´è¿™éƒ¨åˆ†å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œé‚£ä¹ˆæ­¤åè¿™å—å†…å­˜å°†ä¸ä¼šè¢«ä½¿ç”¨ï¼Œå°±ä¼šäº§ç”ŸHeap Leakã€‚ ç³»ç»Ÿèµ„æºæ³„éœ²ï¼ˆResource Leakï¼‰ã€‚ä¸»è¦æŒ‡ç¨‹åºä½¿ç”¨ç³»ç»Ÿåˆ†é…çš„èµ„æºæ¯”å¦‚ Bitmapï¼Œhandleï¼ŒSOCKETç­‰æ²¡æœ‰ä½¿ç”¨ç›¸åº”çš„å‡½æ•°é‡Šæ”¾æ‰ï¼Œå¯¼è‡´ç³»ç»Ÿèµ„æºçš„æµªè´¹ï¼Œä¸¥é‡å¯å¯¼è‡´ç³»ç»Ÿæ•ˆèƒ½é™ä½ï¼Œç³»ç»Ÿè¿è¡Œä¸ç¨³å®šã€‚ æ²¡æœ‰å°†åŸºç±»çš„ææ„å‡½æ•°å®šä¹‰ä¸ºè™šå‡½æ•°ã€‚å½“åŸºç±»æŒ‡é’ˆæŒ‡å‘å­ç±»å¯¹è±¡æ—¶ï¼Œå¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸æ˜¯virtualï¼Œé‚£ä¹ˆå­ç±»çš„ææ„å‡½æ•°å°†ä¸ä¼šè¢«è°ƒç”¨ï¼Œå­ç±»çš„èµ„æºæ²¡æœ‰æ­£ç¡®çš„é‡Šæ”¾ï¼Œä»è€Œé€ æˆå†…å­˜æ³„æ¼ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:9","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.10 æ®µé”™è¯¯çš„äº§ç”ŸåŸå›  æ®µé”™è¯¯æ˜¯ä»€ä¹ˆ? ä¸€å¥è¯æ¥è¯´ï¼Œæ®µé”™è¯¯æ˜¯æŒ‡è®¿é—®çš„å†…å­˜è¶…å‡ºäº†ç³»ç»Ÿç»™è¿™ä¸ªç¨‹åºæ‰€è®¾å®šçš„å†…å­˜ç©ºé—´ï¼Œä¾‹å¦‚è®¿é—®äº†ä¸å­˜åœ¨çš„å†…å­˜åœ°å€ã€è®¿é—®äº†ç³»ç»Ÿä¿æŠ¤çš„å†…å­˜åœ°å€ã€è®¿é—®äº†åªè¯»çš„å†…å­˜åœ°å€ç­‰ç­‰æƒ…å†µã€‚è¿™é‡Œè´´ä¸€ä¸ªå¯¹äºâ€œæ®µé”™è¯¯â€çš„å‡†ç¡®å®šä¹‰ã€‚ æ®µé”™è¯¯äº§ç”Ÿçš„åŸå›  è®¿é—®ä¸å­˜åœ¨çš„å†…å­˜åœ°å€ è®¿é—®ç³»ç»Ÿä¿æŠ¤çš„å†…å­˜åœ°å€ è®¿é—®åªè¯»çš„å†…å­˜åœ°å€ æ ˆæº¢å‡º è¯¦ç»†è¯·å‚é˜…ï¼šLinuxç¯å¢ƒä¸‹æ®µé”™è¯¯çš„äº§ç”ŸåŸå› åŠè°ƒè¯•æ–¹æ³•å°ç»“ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:10","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.11 C++ å‡½æ•°è°ƒç”¨è¿‡ç¨‹ æ€»ç»“èµ·æ¥æ•´ä¸ªè¿‡ç¨‹å°±ä¸‰æ­¥ï¼š 1ï¼‰æ ¹æ®è°ƒç”¨çš„å‡½æ•°åæ‰¾åˆ°å‡½æ•°å…¥å£ï¼› 2ï¼‰åœ¨æ ˆä¸­ç”³è¯·è°ƒç”¨å‡½æ•°ä¸­çš„å‚æ•°åŠå‡½æ•°ä½“å†…å®šä¹‰çš„å˜é‡çš„å†…å­˜ç©ºé—´ 3ï¼‰å‡½æ•°æ‰§è¡Œå®Œåï¼Œé‡Šæ”¾å‡½æ•°åœ¨æ ˆä¸­çš„ç”³è¯·çš„å‚æ•°å’Œå˜é‡çš„ç©ºé—´ï¼Œæœ€åè¿”å›å€¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ è¯¦ç»†è¯·æŸ¥é˜…ï¼šå‡½æ•°è°ƒç”¨è¿‡ç¨‹ / C/C++å‡½æ•°è°ƒç”¨è¿‡ç¨‹åˆ†æ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:11","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.12 å¦‚ä½•è°ƒè¯•c++å¤šçº¿ç¨‹ç¨‹åºï¼Ÿ æ‰“å°æ—¥å¿—ï¼Œæ—¥å¿—ä¸­åŠ ä¸Šçº¿ç¨‹IDï¼›ï¼ˆç®€å•ç²—æš´ï¼‰ gdbæœ‰threadç›¸å…³å‘½ä»¤ï¼Œå¦‚infothreadï¼ˆç®€å†™infothï¼‰æ˜¾ç¤ºçº¿ç¨‹æ¶ˆæ¯ï¼Œbxxthreadyyå¯ä»¥ å¯¹æŸä¸ªthreadè®¾ç½®æ–­ç‚¹ï¼Œthreadxxï¼ˆç®€å†™æˆthrxxï¼‰åˆ‡æ¢åˆ°æŸä¸ªthreadã€‚å†é…åˆframeï¼ˆç®€å†™fï¼‰ç›¸å…³çš„å‘½ä»¤ï¼ˆæ¯”å¦‚upï¼Œdownåœ¨ä¸åŒframeé—´è·³è½¬ï¼‰ï¼ŒåŸºæœ¬å¯ä»¥å¤„ç†è‹¥å¹²ä¸ªä¸åŒçš„çº¿ç¨‹é—´çš„debugâ€¦â€¦ è¯¦ç»†è¯·æŸ¥é˜…ï¼šC++(vs)å¤šçº¿ç¨‹è°ƒè¯• ï¼ˆè½¬ï¼‰ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:12","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.13Â é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ« â‘ é¢å‘å¯¹è±¡æ–¹æ³•ä¸­ï¼ŒæŠŠæ•°æ®å’Œæ•°æ®æ“ä½œæ”¾åœ¨ä¸€èµ·ï¼Œç»„æˆå¯¹è±¡ï¼›å¯¹åŒç±»çš„å¯¹è±¡æŠ½è±¡å‡ºå…¶å…±æ€§ç»„æˆç±»ï¼›ç±»é€šè¿‡ç®€å•çš„æ¥å£ä¸å¤–ç•Œå‘ç”Ÿè”ç³»ï¼Œå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´é€šè¿‡æ¶ˆæ¯è¿›è¡Œé€šä¿¡ã€‚ â‘¡é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§æ˜¯\"å°è£…ã€â€œå¤šæ€â€ã€â€œç»§æ‰¿â€ï¼Œäº”å¤§åŸåˆ™æ˜¯\"å•ä¸€èŒè´£åŸåˆ™â€ã€â€œå¼€æ”¾å°é—­åŸåˆ™â€ã€â€œé‡Œæ°æ›¿æ¢åŸåˆ™â€ã€â€œä¾èµ–å€’ç½®åŸåˆ™â€ã€â€œæ¥å£åˆ†ç¦»åŸåˆ™â€ã€‚ â‘¢è€Œé¢å‘è¿‡ç¨‹æ–¹æ³•æ˜¯ä»¥è¿‡ç¨‹ä¸ºä¸­å¿ƒçš„å¼€å‘æ–¹æ³•ï¼Œå®ƒè‡ªé¡¶å‘ä¸‹é¡ºåºè¿›è¡Œï¼Œ ç¨‹åºç»“æ„æŒ‰ç…§åŠŸèƒ½åˆ’åˆ†æˆè‹¥å¹²ä¸ªåŸºæœ¬æ¨¡å—ï¼Œè¿™äº›æ¨¡å—å½¢æˆæ ‘çŠ¶ç»“æ„ã€‚ ï¼ˆè¿‡ç¨‹ï¼‰ä¼˜ç‚¹ï¼š æ€§èƒ½æ¯”é¢å‘å¯¹è±¡é«˜ï¼Œå› ä¸ºç±»è°ƒç”¨æ—¶éœ€è¦å®ä¾‹åŒ–ï¼Œå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒæ¶ˆè€—æº;æ¯”å¦‚åµŒå…¥å¼å¼€å‘ã€Linux/Unixç­‰ä¸€èˆ¬é‡‡ç”¨é¢å‘è¿‡ç¨‹å¼€å‘ï¼Œæ€§èƒ½æ˜¯æœ€é‡è¦çš„å› ç´ ã€‚ç¼ºç‚¹ï¼šæ²¡æœ‰é¢å‘å¯¹è±¡æ˜“ç»´æŠ¤ã€æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ã€‚ ï¼ˆå¯¹è±¡ï¼‰ä¼˜ç‚¹ï¼š æ˜“ç»´æŠ¤ã€æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ï¼Œç”±äºé¢å‘å¯¹è±¡æœ‰å°è£…ã€ç»§æ‰¿ã€å¤šæ€æ€§çš„ç‰¹æ€§ï¼Œå¯ä»¥è®¾è®¡å‡ºä½è€¦åˆçš„ç³»ç»Ÿã€‚ç¼ºç‚¹ï¼šæ€§èƒ½æ¯”é¢å‘è¿‡ç¨‹ä½ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:13","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.14 å…³äºå¼•ç”¨èµ‹å€¼çš„å¤šæ€ï¼š Class B; Class D : public B; B\u0026 b; D\u0026 d; B\u0026 b1 = d ; //çˆ¶ç±»å¯ä»¥ä½œä¸ºå­ç±»çš„å¼•ç”¨ï¼Œæ­¤æ—¶b1è¡¨ç°å’ŒæŒ‡é’ˆå½¢å¼ä¸€è‡´ï¼ˆä¼šè°ƒç”¨Bçš„éè™šå‡½æ•°ï¼‰ D\u0026 d1 = bï¼› //é”™è¯¯ï¼Œä¸èƒ½å°†å­ç±»ä½œä¸ºçˆ¶ç±»çš„å¼•ç”¨ //çˆ¶ç±»å¯ä»¥ä½œä¸ºå­ç±»çš„å¼•ç”¨ï¼Œæ­¤æ—¶b1è¡¨ç°å’ŒæŒ‡é’ˆå½¢å¼ä¸€è‡´ï¼ˆä¼šè°ƒç”¨Bçš„éè™šå‡½æ•°ï¼‰Â ","date":"2023-07-11","objectID":"/posts/basics_one/:5:14","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.15 æ¨¡æ¿çš„å£°æ˜å’Œå®ç°ä¸èƒ½åˆ†å¼€çš„åŸå›  é“¾æ¥çš„æ—¶å€™ï¼Œéœ€è¦å®ä¾‹åŒ–æ¨¡æ¿ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ‰¾æ¨¡æ¿çš„å…·ä½“å®ç°äº†ã€‚å‡è®¾åœ¨mainå‡½æ•°ä¸­è°ƒç”¨äº†ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ï¼Œè¿™æ—¶å€™å°±éœ€è¦å»å®ä¾‹åŒ–è¯¥ç±»å‹çš„æ¨¡æ¿ã€‚æ³¨æ„mainå‡½æ•°é‡Œé¢åªåŒ…å«äº†.hæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯åªæœ‰æ¨¡æ¿çš„å£°æ˜ï¼Œæ²¡æœ‰å…·ä½“å®ç°ã€‚å°±ä¼šæŠ¥é”™ã€‚ è€Œæ¨¡æ¿çš„å®ç°.cppé‡Œé¢ï¼Œè™½ç„¶æœ‰æ¨¡æ¿çš„å…·ä½“å®ç°ï¼Œä½†æ˜¯æ²¡æœ‰è°åœ¨è¯¥.cppé‡Œé¢ä½¿ç”¨ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ï¼Œå°±ä¸ä¼šç”Ÿæˆä¸€ä¸ªå…·ä½“åŒ–çš„å®ä¾‹ è¯¦ç»†è¯·å‚é˜…ï¼šC++ æ¨¡æ¿ç±»çš„å£°æ˜ä¸å®ç°åˆ†ç¦»é—®é¢˜ / â€‹â€‹â€‹â€‹â€‹â€‹C++ æ¨¡æ¿ç±»çš„å£°æ˜ä¸å®ç°åˆ†ç¦»é—®é¢˜ï¼ˆæ¨¡æ¿å®ä¾‹åŒ–ï¼‰â€‹â€‹â€‹â€‹â€‹â€‹ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:15","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.16 C++ç±»ä¸­å¼•ç”¨æˆå‘˜å’Œå¸¸é‡æˆå‘˜çš„åˆå§‹åŒ–ï¼ˆåˆå§‹åŒ–åˆ—è¡¨ï¼‰ å¦‚æœä¸€ä¸ªç±»æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š Class A { public: A(int pram1, int pram2, int pram3); privite: int a; int \u0026b; const int c; } å‡å¦‚åœ¨æ„é€ å‡½æ•°ä¸­å¯¹ä¸‰ä¸ªç§æœ‰å˜é‡è¿›è¡Œèµ‹å€¼åˆ™é€šå¸¸ä¼šè¿™æ ·å†™ï¼š A::A(int pram1, int pram2, int pram3) { a=pram1; b=pram2; c=pram3; } ä½†æ˜¯ï¼Œè¿™æ ·æ˜¯ç¼–è¯‘ä¸è¿‡çš„ã€‚å› ä¸ºå¸¸é‡å’Œå¼•ç”¨åˆå§‹åŒ–å¿…é¡»èµ‹å€¼ã€‚æ‰€ä»¥ä¸Šé¢çš„æ„é€ å‡½æ•°çš„å†™æ³•åªæ˜¯ç®€å•çš„èµ‹å€¼ï¼Œå¹¶ä¸æ˜¯åˆå§‹åŒ–ã€‚ æ­£ç¡®å†™æ³•åº”è¯¥æ˜¯ï¼š A::A(int pram1, int pram2, int pram3):b(pram2),c(pram3) { a=pram1; } é‡‡ç”¨åˆå§‹åŒ–åˆ—è¡¨å®ç°äº†å¯¹å¸¸é‡å’Œå¼•ç”¨çš„åˆå§‹åŒ–ã€‚é‡‡ç”¨æ‹¬å·èµ‹å€¼çš„æ–¹æ³•ï¼Œæ‹¬å·èµ‹å€¼åªèƒ½ç”¨åœ¨å˜é‡çš„åˆå§‹åŒ–è€Œä¸èƒ½ç”¨åœ¨å®šä¹‰ä¹‹åçš„èµ‹å€¼ã€‚ å‡¡æ˜¯æœ‰å¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡æˆ–è€…å¸¸é‡ç±»å‹çš„å˜é‡çš„ç±»ï¼Œä¸èƒ½æœ‰ç¼ºçœæ„é€ å‡½æ•°ã€‚é»˜è®¤æ„é€ å‡½æ•°æ²¡æœ‰å¯¹å¼•ç”¨æˆå‘˜æä¾›é»˜è®¤çš„åˆå§‹åŒ–æœºåˆ¶ï¼Œä¹Ÿå› æ­¤é€ æˆå¼•ç”¨æœªåˆå§‹åŒ–çš„ç¼–è¯‘é”™è¯¯ã€‚å¹¶ä¸”å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–constå¯¹è±¡ã€å¼•ç”¨å¯¹è±¡ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:16","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.17 memsetä¸ºintå‹æ•°ç»„åˆå§‹åŒ–é—®é¢˜ï¼š å¤´æ–‡ä»¶ï¼š#include \u003cstring.h\u003e memset() å‡½æ•°ç”¨æ¥å°†æŒ‡å®šå†…å­˜çš„å‰nä¸ªå­—èŠ‚è®¾ç½®ä¸ºç‰¹å®šçš„å€¼ï¼Œå…¶åŸå‹ä¸ºï¼š void * memset( void * ptr, int value, size_t num ); å‚æ•°è¯´æ˜ï¼š ptr ä¸ºè¦æ“ä½œçš„å†…å­˜çš„æŒ‡é’ˆã€‚ value ä¸ºè¦è®¾ç½®çš„å€¼ã€‚ä½ æ—¢å¯ä»¥å‘ value ä¼ é€’ int ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ char ç±»å‹çš„å€¼ï¼Œint å’Œ char å¯ä»¥æ ¹æ® ASCII ç ç›¸äº’è½¬æ¢ã€‚ num ä¸º ptr çš„å‰ num ä¸ªå­—èŠ‚ï¼Œsize_t å°±æ˜¯unsigned intã€‚ ã€å‡½æ•°è¯´æ˜ã€‘memset() ä¼šå°† ptr æ‰€æŒ‡çš„å†…å­˜åŒºåŸŸçš„å‰ num ä¸ªå­—èŠ‚çš„å€¼éƒ½è®¾ç½®ä¸º valueï¼Œç„¶åè¿”å›æŒ‡å‘ ptr çš„æŒ‡é’ˆã€‚ æ— æ³•ä¸‹é¢è¿™æ ·åˆå§‹åŒ–ï¼Œè¿™æ ·çš„ç»“æœæ˜¯aè¢«èµ‹å€¼æˆ168430090ï¼Œ168430090â€¦.. int a[10]; memset(a, 1, sizeof(a)); è¿™æ˜¯å› ä¸ºintç”±4ä¸ªå­—èŠ‚(è¯´)è¡¨ç¤ºï¼Œå¹¶ä¸”ä¸èƒ½å¾—åˆ°æ•°ç»„aä¸­æ•´æ•°çš„æœŸæœ›å€¼ã€‚ ä½†æˆ‘ç»å¸¸çœ‹åˆ°ç¨‹åºå‘˜ä½¿ç”¨memsetå°†intæ•°ç»„å…ƒç´ è®¾ç½®ä¸º0æˆ–-1ã€‚å…¶ä»–å€¼ä¸è¡Œï¼ int a[10]; int b[10]; memset(a, 0, sizeof(a)); memset(b, -1, sizeof(b)); //å‡è®¾aä¸ºintå‹æ•°ç»„ï¼š memset(a,0x7f,sizeof(a)); //aæ•°ç»„æ¯ä¸ªç©ºé—´å°†è¢«åˆå§‹åŒ–ä¸º0x7f7f7f7f,åŸå› æ˜¯Cå‡½æ•°ä¼ å‚è¿‡ç¨‹ä¸­çš„æŒ‡é’ˆé™çº§ï¼Œå¯¼è‡´sizeof(a)ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª something*æŒ‡é’ˆç±»å‹å¤§å°çš„çš„å­—èŠ‚æ•°ï¼Œå¦‚æœæ˜¯32ä½ï¼Œå°±æ˜¯4å­—èŠ‚ã€‚æ‰€ä»¥memsetæŒ‰å­—èŠ‚èµ‹å€¼ã€‚ memset(a,0xaf,sizeof(a)); //aæ•°ç»„æ¯ä¸ªç©ºé—´å°†è¢«åˆå§‹åŒ–ä¸º0xafafafaf ","date":"2023-07-11","objectID":"/posts/basics_one/:5:17","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.18 ç¼–è¯‘å™¨å¯¹ inline å‡½æ•°çš„å¤„ç†æ­¥éª¤ å°† inline å‡½æ•°ä½“å¤åˆ¶åˆ° inline å‡½æ•°è°ƒç”¨ç‚¹å¤„ï¼› ä¸ºæ‰€ç”¨ inline å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡åˆ†é…å†…å­˜ç©ºé—´ï¼› å°† inline å‡½æ•°çš„çš„è¾“å…¥å‚æ•°å’Œè¿”å›å€¼æ˜ å°„åˆ°è°ƒç”¨æ–¹æ³•çš„å±€éƒ¨å˜é‡ç©ºé—´ä¸­ï¼› å¦‚æœ inline å‡½æ•°æœ‰å¤šä¸ªè¿”å›ç‚¹ï¼Œå°†å…¶è½¬å˜ä¸º inline å‡½æ•°ä»£ç å—æœ«å°¾çš„åˆ†æ”¯ï¼ˆä½¿ç”¨ GOTOï¼‰ ä¼˜ç‚¹: å†…è”å‡½æ•°åŒå®å‡½æ•°ä¸€æ ·å°†åœ¨è¢«è°ƒç”¨å¤„è¿›è¡Œä»£ç å±•å¼€ï¼Œçœå»äº†å‚æ•°å‹æ ˆã€æ ˆå¸§å¼€è¾Ÿä¸å›æ”¶ï¼Œç»“æœè¿”å›ç­‰ï¼Œä»è€Œæé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦ã€‚ å†…è”å‡½æ•°ç›¸æ¯”å®å‡½æ•°æ¥è¯´ï¼Œåœ¨ä»£ç å±•å¼€æ—¶ï¼Œä¼šåšå®‰å…¨æ£€æŸ¥æˆ–è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆåŒæ™®é€šå‡½æ•°ï¼‰ï¼Œè€Œå®å®šä¹‰åˆ™ä¸ä¼šã€‚ åœ¨ç±»ä¸­å£°æ˜åŒæ—¶å®šä¹‰çš„æˆå‘˜å‡½æ•°ï¼Œè‡ªåŠ¨è½¬åŒ–ä¸ºå†…è”å‡½æ•°ï¼Œå› æ­¤å†…è”å‡½æ•°å¯ä»¥è®¿é—®ç±»çš„æˆå‘˜å˜é‡ï¼Œå®å®šä¹‰åˆ™ä¸èƒ½ã€‚ å†…è”å‡½æ•°åœ¨è¿è¡Œæ—¶å¯è°ƒè¯•ï¼Œè€Œå®å®šä¹‰ä¸å¯ä»¥ã€‚ ç¼ºç‚¹: ä»£ç è†¨èƒ€ã€‚å†…è”æ˜¯ä»¥ä»£ç è†¨èƒ€ï¼ˆå¤åˆ¶ï¼‰ä¸ºä»£ä»·ï¼Œæ¶ˆé™¤å‡½æ•°è°ƒç”¨å¸¦æ¥çš„å¼€é”€ã€‚å¦‚æœæ‰§è¡Œå‡½æ•°ä½“å†…ä»£ç çš„æ—¶é—´ï¼Œç›¸æ¯”äºå‡½æ•°è°ƒç”¨çš„å¼€é”€è¾ƒå¤§ï¼Œé‚£ä¹ˆæ•ˆç‡çš„æ”¶è·ä¼šå¾ˆå°‘ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯ä¸€å¤„å†…è”å‡½æ•°çš„è°ƒç”¨éƒ½è¦å¤åˆ¶ä»£ç ï¼Œå°†ä½¿ç¨‹åºçš„æ€»ä»£ç é‡å¢å¤§ï¼Œæ¶ˆè€—æ›´å¤šçš„å†…å­˜ç©ºé—´ã€‚ inline å‡½æ•°æ— æ³•éšç€å‡½æ•°åº“å‡çº§è€Œå‡çº§ã€‚inlineå‡½æ•°çš„æ”¹å˜éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œä¸åƒ non-inline å¯ä»¥ç›´æ¥é“¾æ¥ã€‚ æ˜¯å¦å†…è”ï¼Œç¨‹åºå‘˜ä¸å¯æ§ã€‚å†…è”å‡½æ•°åªæ˜¯å¯¹ç¼–è¯‘å™¨çš„å»ºè®®ï¼Œæ˜¯å¦å¯¹å‡½æ•°å†…è”ï¼Œå†³å®šæƒåœ¨äºç¼–è¯‘å™¨ã€‚ ","date":"2023-07-11","objectID":"/posts/basics_one/:5:18","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.19 è™šå‡½æ•°ï¼ˆvirtualï¼‰å¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼ˆinlineï¼‰å—ï¼Ÿ è™šå‡½æ•°å¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼Œå†…è”æ˜¯å¯ä»¥ä¿®é¥°è™šå‡½æ•°çš„ï¼Œä½†æ˜¯å½“è™šå‡½æ•°è¡¨ç°å¤šæ€æ€§çš„æ—¶å€™ä¸èƒ½å†…è”ã€‚ å†…è”æ˜¯åœ¨ç¼–è¯‘å™¨å»ºè®®ç¼–è¯‘å™¨å†…è”ï¼Œè€Œè™šå‡½æ•°çš„å¤šæ€æ€§åœ¨è¿è¡ŒæœŸï¼Œç¼–è¯‘å™¨æ— æ³•çŸ¥é“è¿è¡ŒæœŸè°ƒç”¨å“ªä¸ªä»£ç ï¼Œå› æ­¤è™šå‡½æ•°è¡¨ç°ä¸ºå¤šæ€æ€§æ—¶ï¼ˆè¿è¡ŒæœŸï¼‰ä¸å¯ä»¥å†…è”ã€‚ inline virtual å”¯ä¸€å¯ä»¥å†…è”çš„æ—¶å€™æ˜¯ï¼šç¼–è¯‘å™¨çŸ¥é“æ‰€è°ƒç”¨çš„å¯¹è±¡æ˜¯å“ªä¸ªç±»(å¦‚ Base::who())ï¼Œè¿™åªæœ‰åœ¨ç¼–è¯‘å™¨å…·æœ‰å®é™…å¯¹è±¡è€Œä¸æ˜¯å¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ—¶æ‰ä¼šå‘ç”Ÿ; ","date":"2023-07-11","objectID":"/posts/basics_one/:5:19","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"5.20Â é™æ€åº“å’ŒåŠ¨æ€åº“æ¯”è¾ƒ é™æ€åº“Â (.aã€.lib): å°†é™æ€åº“çš„å†…å®¹æ·»åŠ åˆ°ç¨‹åºä¸­ï¼Œæ­¤æ—¶ç¨‹åºçš„ç©ºé—´ï¼Œå˜æˆäº†æºç¨‹åºç©ºé—´å¤§å°+é™æ€åº“ç©ºé—´å¤§å°ã€‚ åŠ¨æ€åº“ï¼ˆå…±äº«åº“ï¼‰(.soã€.dll): å¸¸é©»å†…å­˜ï¼Œå½“ç¨‹åºéœ€è¦è°ƒç”¨ç›¸å…³å‡½æ•°æ—¶ï¼Œä¼šä»å†…å­˜è°ƒç”¨ã€‚ åŒºåˆ«: é™æ€åº“ï¼šå¯¹ç©ºé—´è¦æ±‚è¾ƒä½ï¼Œè€Œæ—¶é—´è¦æ±‚è¾ƒé«˜çš„æ ¸å¿ƒç¨‹åºä¸­ã€‚(.aã€.lib) åŠ¨æ€åº“ï¼šå¯¹æ—¶é—´è¦æ±‚è¾ƒä½ï¼Œå¯¹ç©ºé—´è¦æ±‚è¾ƒé«˜ã€‚(.soã€.dll)Â hash ","date":"2023-07-11","objectID":"/posts/basics_one/:5:20","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"6 åŸºç¡€çŸ¥è¯†(å…­) ","date":"2023-07-11","objectID":"/posts/basics_one/:6:0","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["C++"],"content":"6.1 æ„é€ å‡½æ•°ä¸ºä»€ä¹ˆä¸èƒ½å®šä¹‰ä¸ºè™šå‡½æ•°ï¼Ÿ â½½ææ„å‡½æ•°â¼€èˆ¬å†™æˆè™šå‡½æ•°çš„åŸå›  ï¼Ÿ æ„é€ å‡½æ•°ä¸èƒ½å£°æ˜ä¸ºè™šå‡½æ•°çš„åŸå› æ˜¯: 1 æ„é€ ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¿…é¡»çŸ¥é“å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œè€Œè™šå‡½æ•°è¡Œä¸ºæ˜¯åœ¨è¿è¡ŒæœŸé—´ç¡®å®šå®é™…ç±»å‹çš„ã€‚è€Œåœ¨æ„é€ ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç”±äºå¯¹è±¡è¿˜æœªæ„é€ æˆåŠŸã€‚ç¼–è¯‘å™¨æ— æ³•çŸ¥é“å¯¹è±¡ çš„å®é™…ç±»å‹ï¼Œæ˜¯è¯¥ç±»æœ¬èº«ï¼Œè¿˜æ˜¯è¯¥ç±»çš„ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œæˆ–æ˜¯æ›´æ·±å±‚æ¬¡çš„æ´¾ç”Ÿç±»ã€‚æ— æ³•ç¡®å®šã€‚ 2 è™šå‡½æ•°çš„æ‰§è¡Œä¾èµ–äºè™šå‡½æ•°è¡¨ã€‚è€Œè™šå‡½æ•°è¡¨åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œåˆå§‹åŒ–å·¥ä½œï¼Œå³åˆå§‹åŒ–vptrï¼Œè®©ä»–æŒ‡å‘æ­£ç¡®çš„è™šå‡½æ•°è¡¨ã€‚è€Œåœ¨æ„é€ å¯¹è±¡æœŸé—´ï¼Œè™šå‡½æ•°è¡¨è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œå°†æ— æ³•è¿›è¡Œã€‚ è™šå‡½æ•°çš„æ„æ€å°±æ˜¯å¼€å¯åŠ¨æ€ç»‘å®šï¼Œç¨‹åºä¼šæ ¹æ®å¯¹è±¡çš„åŠ¨æ€ç±»å‹æ¥é€‰æ‹©è¦è°ƒç”¨çš„æ–¹æ³•ã€‚ç„¶è€Œåœ¨æ„é€ å‡½æ•°è¿è¡Œçš„æ—¶å€™ï¼Œè¿™ä¸ªå¯¹è±¡çš„åŠ¨æ€ç±»å‹è¿˜ä¸å®Œæ•´ï¼Œæ²¡æœ‰åŠæ³•ç¡®å®šå®ƒåˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæ•…æ„é€ å‡½æ•°ä¸èƒ½åŠ¨æ€ç»‘å®šã€‚ï¼ˆåŠ¨æ€ç»‘å®šæ˜¯æ ¹æ®å¯¹è±¡çš„åŠ¨æ€ç±»å‹è€Œä¸æ˜¯å‡½æ•°åï¼Œåœ¨è°ƒç”¨æ„é€ å‡½æ•°ä¹‹å‰ï¼Œè¿™ä¸ªå¯¹è±¡æ ¹æœ¬å°±ä¸å­˜åœ¨ï¼Œå®ƒæ€ä¹ˆåŠ¨æ€ç»‘å®šï¼Ÿï¼‰ ç¼–è¯‘å™¨åœ¨è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°çš„æ—¶å€™å¹¶ä¸çŸ¥é“ä½ è¦æ„é€ çš„æ˜¯ä¸€ä¸ªåŸºç±»çš„å¯¹è±¡è¿˜æ˜¯ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚ ææ„å‡½æ•°è®¾ä¸ºè™šå‡½æ•°çš„ä½œç”¨: è§£é‡Šï¼šåœ¨ç±»çš„ç»§æ‰¿ä¸­ï¼Œå¦‚æœæœ‰åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»ï¼Œé‚£ä¹ˆç”¨åŸºç±»æŒ‡é’ˆdeleteæ—¶ï¼Œå¦‚æœä¸å®šä¹‰æˆè™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»ä¸­æ´¾ç”Ÿçš„é‚£éƒ¨åˆ†æ— æ³•ææ„ã€‚ï¼ˆå¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆåœ¨delete åŸºç±»æŒ‡é’ˆæ—¶ï¼Œåªè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œä¸ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œæ•…æ´¾ç”Ÿç±»éƒ¨åˆ†ä¸ä¼šè¢«ææ„ã€‚ï¼‰ ref: [1]. https://blog.csdn.net/Yangy_Jiaojiao/article/details/127588598 [2]. https://blog.csdn.net/Yangy_Jiaojiao/article/details/128145609 å‚è€ƒï¼ˆå¾…è¡¥å……ï¼‰: [1]. https://zhuanlan.zhihu.com/p/401341063 [2]. https://zhuanlan.zhihu.com/p/602866792 ref: https://blog.csdn.net/m0_46245582/category_11569287.html ","date":"2023-07-11","objectID":"/posts/basics_one/:6:1","tags":["basics"],"title":"C++ åŸºç¡€çŸ¥è¯†[ä¸€]","uri":"/posts/basics_one/"},{"categories":["Distributed Computing"],"content":"0 æ‘˜è¦ Horovod æ˜¯Uberäº2017å¹´å‘å¸ƒçš„ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ï¼Œåœ¨ä¸šç•Œå¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚ æœ¬ç³»åˆ—å°†é€šè¿‡æºç åˆ†ææ¥å¸¦é¢†å¤§å®¶äº†è§£ Horovodã€‚æœ¬æ–‡æ˜¯ç³»åˆ—ç¬¬å››ç¯‡ï¼Œçœ‹çœ‹å¦‚ä½•è·å– host ä¹‹é—´çš„è·¯ç”±ç­‰ç½‘ç»œä¿¡æ¯ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:1:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"1 å¼•å­ åœ¨ horovod/runner/launch.py æ–‡ä»¶ä¸­ï¼Œ_run_static å‡½æ•°ä¸­ä½¿ç”¨ driver_service.get_common_interfaces æ¥è·å–è·¯ç”±ä¿¡æ¯ç­‰ã€‚ def _run_static(args): nics = driver_service.get_common_interfaces(settings, all_host_names, remote_host_names, fn_cache) å› ä¸ºè¿™éƒ¨åˆ†æ¯”è¾ƒå¤æ‚ï¼ˆ Driver çš„æ¦‚å¿µå¾ˆç±»ä¼¼ Spark ä¹‹ä¸­ Driver çš„æ¦‚å¿µï¼‰ï¼Œæ‰€ä»¥æœ¬æ–‡æˆ‘ä»¬å•ç‹¬æ¥åˆ†æã€‚ æœ¬æ–‡çš„åˆ†æé—®é¢˜ç‚¹æ˜¯ï¼š ä¸ºä»€ä¹ˆè¦çŸ¥é“è·¯ç”±ä¿¡æ¯ï¼Ÿ å½“æœ‰å¤šä¸ªhostæ—¶å€™ï¼Œhorovodå¦‚ä½•å¤„ç†ï¼Ÿ å¦‚ä½•æ‰¾åˆ°è·¯ç”±ä¿¡æ¯ï¼Ÿ æ€ä¹ˆäº’ç›¸äº¤äº’ï¼Ÿ ï¼ˆåæ–‡ä¼šè¯¦ç»†åˆ†æï¼‰SparkDriverServiceï¼ŒSparkTaskServiceï¼ŒElasticDriver, Worker éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ï¼Ÿ æœ¬æ–‡é‡ç‚¹åˆ†æ HorovodRunDriverService å’Œ HorovodRunTaskService ç›¸å…³ã€‚ å…ˆç»™å‡ºä¸€ä¸ªå›¾ä¾‹ï¼Œå¤§å®¶å¯ä»¥æœ‰äº›æ¦‚å¿µã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:2:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"2 æ€»ä½“æ¶æ„ ä»æ³¨é‡Šå¯çŸ¥ï¼Œget_common_interfaces å®Œæˆäº†è·å¾—è·¯ç”±ä¿¡æ¯ï¼ˆæ‰€æœ‰hostä¹‹é—´çš„å…±æœ‰è·¯ç”±æ¥å£é›†åˆï¼‰çš„åŠŸèƒ½ï¼Œä¸»è¦æ˜¯è°ƒç”¨ _driver_fn æ¥å®Œæˆç›¸å…³å·¥ä½œã€‚ def get_common_interfaces(settings, all_host_names, remote_host_names=None, fn_cache=None): ''' Find the set of common and routed interfaces on all the hosts. ''' # å¾—åˆ°è¿œç«¯hoståœ°å€ if remote_host_names is None: remote_host_names = network.filter_local_addresses(all_host_names) if len(remote_host_names) \u003e 0: if settings.nics: # å¦‚æœå‚æ•°æœ‰è®¾å®šç½‘ç»œæ¥å£ï¼Œå°±ä½¿ç”¨ # If args.nics is provided, we will use those interfaces. All the workers # must have at least one of those interfaces available. nics = settings.nics else: # Find the set of common, routed interfaces on all the hosts (remote # and local) and specify it in the args to be used by NCCL. It is # expected that the following function will find at least one interface # otherwise, it will raise an exception. local_host_names = set(all_host_names) - set(remote_host_names) # è·å–å…¶ä»–hostçš„ç½‘ç»œæ¥å£ nics = _driver_fn(all_host_names, local_host_names, settings, fn_cache=fn_cache) else: nics = get_local_interfaces(settings) # è·å–æœ¬åœ°çš„ç½‘ç»œæ¥å£ return nics ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:3:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"2.1 get_local_interfaces æ­¤å‡½æ•°æ¯”è¾ƒç®€å•ï¼Œç›®çš„æ˜¯è·å–æœ¬åœ°çš„ç½‘ç»œæ¥å£ã€‚ def get_local_interfaces(settings): # If all the given hosts are local, find the interfaces with address # 127.0.0.1 nics = set() for iface, addrs in net_if_addrs().items(): if settings.nics and iface not in settings.nics: continue for addr in addrs: if addr.family == AF_INET and addr.address == '127.0.0.1': nics.add(iface) break return nics ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:3:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"2.2 _driver_fn è¿™æ˜¯æœ¬æ–‡é‡ç‚¹ï¼Œè·å–å…¶ä»–host çš„ç½‘ç»œæ¥å£ï¼Œ_driver_fn çš„ä½œç”¨æ˜¯ï¼š å¯åŠ¨ service æœåŠ¡ï¼› ä½¿ç”¨ driver.addresses() è·å– Driver æœåŠ¡çš„åœ°å€ï¼ˆä½¿ç”¨self._addresses = self._get_local_addresses()å®Œæˆï¼‰ï¼› ä½¿ç”¨ _launch_task_serversï¼ˆåˆ©ç”¨ Driver æœåŠ¡çš„åœ°å€ï¼‰åœ¨æ¯ä¸ª worker ä¹‹ä¸­å¯åŠ¨ task æœåŠ¡ï¼Œç„¶å task æœåŠ¡ä¼šåœ¨ service æœåŠ¡ä¸­æ³¨å†Œï¼› å› ä¸ºæ˜¯ä¸€ä¸ªç¯å½¢ï¼Œæ¯ä¸ª worker ä¼šæ¢æµ‹ worker index + 1 çš„æ‰€æœ‰ç½‘ç»œæ¥å£ï¼› æœ€å _run_probe è¿”å›ä¸€ä¸ªæ‰€æœ‰ workers ä¸Šçš„æ‰€æœ‰è·¯ç”±æ¥å£çš„äº¤é›†ï¼› ä»£ç å¦‚ä¸‹ï¼š è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼š@cache.use_cache() çš„ä½¿ç”¨ï¼šå½“ç¬¬ä¸€æ¬¡ä½¿ç”¨è¿‡ä¹‹åï¼Œä¼šæŠŠç»“æœæ”¾å…¥ç¼“å­˜ã€‚ @cache.use_cache() def _driver_fn(all_host_names, local_host_names, settings): \"\"\" launches the service service, launches the task service on each worker and have them register with the service service. Each worker probes all the interfaces of the worker index + 1 (in a ring manner) and only keeps the routed interfaces. Function returns the intersection of the set of all the routed interfaces on all the workers. :param all_host_names: list of addresses. for example, ['worker-0','worker-1'] ['10.11.11.11', '10.11.11.12'] :type all_host_names: list(string) :param local_host_names: host names that resolve into a local addresses. :type local_host_names: set :param settings: the object that contains the setting for running horovod :type settings: horovod.runner.common.util.settings.Settings :return: example: ['eth0', 'eth1'] :rtype: list[string] \"\"\" # Launch a TCP server called service service on the host running horovod # å¯åŠ¨ service æœåŠ¡ num_hosts = len(all_host_names) driver = HorovodRunDriverService(num_hosts, settings.key, settings.nics) # Have all the workers register themselves with the service service. #ï¼ˆåˆ©ç”¨ Driver æœåŠ¡çš„åœ°å€ï¼‰åœ¨æ¯ä¸ªworkerä¹‹ä¸­å¯åŠ¨ task æœåŠ¡ï¼Œç„¶åtaskæœåŠ¡ä¼šåœ¨ service æœåŠ¡ä¸­æ³¨å†Œ _launch_task_servers(all_host_names, local_host_names, driver.addresses(), settings) try: # è¿”å›ä¸€ä¸ªæ‰€æœ‰ workers ä¸Šçš„æ‰€æœ‰è·¯ç”±æ¥å£çš„äº¤é›† return _run_probe(driver, settings, num_hosts) finally: driver.shutdown() ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:3:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"2.3 è·å–è·¯ç”±æ¥å£ æˆ‘ä»¬å¯¹ _run_probe å‡½æ•°åšè¿›ä¸€æ­¥åˆ†æã€‚ 2.3.1 probeé€»è¾‘ _run_probe å‡½æ•°å°±æ˜¯å½“æ‰€æœ‰ task éƒ½å¯åŠ¨ï¼Œæ³¨å†Œï¼Œprobe ç¯ä¸­ä¸‹ä¸€ä¸ªworker é‚»å±…å®Œæˆ ä¹‹åï¼Œå¾—åˆ° æ¥å£é›†åˆã€‚ åˆ©ç”¨ wait_for_initial_registration ç­‰å¾…æ‰€æœ‰ task å®Œæˆæ³¨å†Œï¼› å¯¹äºæ‰€æœ‰ taskï¼Œå®Œæˆ task.notify_initial_registration_complete é€šçŸ¥ï¼› åˆ©ç”¨ driver.wait_for_task_to_task_address_updates ç­‰å¾… æ¯ä¸€ä¸ª worker probe å®Œæˆï¼› åˆ©ç”¨ nics.intersection_update å¾—åˆ°æ¥å£é›†åˆï¼› def _run_probe(driver, settings, num_hosts): # wait for all the hosts to register with the service service. driver.wait_for_initial_registration(settings.start_timeout) tasks = [ task_service.HorovodRunTaskClient( index, driver.task_addresses_for_driver(index), settings.key, settings.verbose) for index in range( num_hosts)] # Notify all the drivers that the initial registration is complete. for task in tasks: task.notify_initial_registration_complete() # Each worker should probe the interfaces of the next worker in a ring # manner and filter only the routed ones -- it should filter out # interfaces that are not really connected to any external networks # such as lo0 with address 127.0.0.1. driver.wait_for_task_to_task_address_updates(settings.start_timeout) # Determine a set of common interfaces for task-to-task communication. nics = set(driver.task_addresses_for_tasks(0).keys()) for index in range(1, num_hosts): nics.intersection_update( driver.task_addresses_for_tasks(index).keys()) return nics 2.3.2 ç­‰å¾…å‡½æ•° probe åˆ©ç”¨ wait_for_initial_registration ç­‰å¾…æ‰€æœ‰ task å®Œæˆæ³¨å†Œï¼Œå…·ä½“ç­‰å¾…å‡½æ•°å¦‚ä¸‹ï¼š def wait_for_initial_registration(self, timeout): self._wait_cond.acquire() try: while len(self._all_task_addresses) \u003c self._num_proc: self._wait_cond.wait(timeout.remaining()) timeout.check_time_out_for('tasks to start') finally: self._wait_cond.release() def wait_for_task_to_task_address_updates(self, timeout): self._wait_cond.acquire() try: while len(self._task_addresses_for_tasks) \u003c self._num_proc: self._wait_cond.wait(timeout.remaining()) timeout.check_time_out_for( 'tasks to update task-to-task addresses') finally: self._wait_cond.release() ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:3:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"3 åŸºç¡€ç½‘ç»œæœåŠ¡ å‰é¢æåˆ°ï¼ŒHorovod Driver çš„æ¦‚å¿µå¾ˆç±»ä¼¼ Spark ä¹‹ä¸­ Driver çš„æ¦‚å¿µã€‚Sparkåº”ç”¨ç¨‹åºè¿è¡Œæ—¶ä¸»è¦åˆ†ä¸º Driver å’Œ Executorï¼ŒDriverè´Ÿè´£æ€»ä½“è°ƒåº¦åŠUIå±•ç¤ºï¼ŒExecutorè´Ÿè´£Taskè¿è¡Œã€‚ç”¨æˆ·çš„Sparkåº”ç”¨ç¨‹åºè¿è¡Œåœ¨Driverä¸Šï¼ˆæŸç§ç¨‹åº¦ä¸Šè¯´ï¼Œç”¨æˆ·çš„ç¨‹åºå°±æ˜¯Spark Driverç¨‹åºï¼‰ï¼Œç»è¿‡Sparkè°ƒåº¦å°è£…æˆä¸€ä¸ªä¸ªTaskï¼Œå†å°†è¿™äº›Taskä¿¡æ¯å‘ç»™Executoræ‰§è¡Œï¼ŒTaskä¿¡æ¯åŒ…æ‹¬ä»£ç é€»è¾‘ä»¥åŠæ•°æ®ä¿¡æ¯ï¼ŒExecutorä¸ç›´æ¥è¿è¡Œç”¨æˆ·çš„ä»£ç ã€‚ å¯¹äº Horovod æ¥è¯´ï¼š HorovodRunDriverService å°±æ˜¯ Driver çš„å®ç°ç±»ã€‚ HorovodRunTaskService æä¾›äº† Task éƒ¨åˆ†æœåŠ¡åŠŸèƒ½ï¼Œè¿™äº› task éœ€è¦æ³¨å†Œåˆ° HorovodRunDriverService ä¹‹ä¸­ã€‚ è¿™å¥— driver \u0026 task æœºåˆ¶çš„åº•å±‚ç”± â€œåŸºç¡€ç½‘ç»œæœåŠ¡â€ æ”¯æ’‘ã€‚ æ‰€ä»¥æˆ‘ä»¬å°±ä»”ç»†åˆ†æä¸‹åŸºç¡€ç½‘ç»œæœåŠ¡ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:4:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"3.1 ç»§æ‰¿å…³ç³» é¦–å…ˆç»™å‡ºç»§æ‰¿å…³ç³»ï¼Œæˆ‘ä»¬ä¸‹é¢è®²è§£çš„ Driver æœåŠ¡ç”± HorovodRunDriverService æä¾›ï¼ŒTask æœåŠ¡ç”±HorovodRunTaskService æä¾›ã€‚ è¿™ä¸¤ä¸ªç±»æœ€ç»ˆéƒ½ç»§æ‰¿äº† network.BasicServiceã€‚ network.BasicService ^ ^ | | +-------------------+ +-------------+ | | + + driver_service.BasicDriverService task_service.BasicTaskService ^ ^ | | | | | | + + HorovodRunDriverService HorovodRunTaskService ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:4:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"3.2 network.BasicService BasicService æä¾›äº†ä¸€ä¸ªç½‘ç»œæœåŠ¡å™¨åŠŸèƒ½ã€‚å³é€šè¿‡find_portå‡½æ•°æ„å»ºäº†ä¸€ä¸ªThreadingTCPServerå¯¹å¤–æä¾›æœåŠ¡ã€‚ class BasicService(object): def __init__(self, service_name, key, nics): self._service_name = service_name self._wire = Wire(key) self._nics = nics self._server, _ = find_port( lambda addr: socketserver.ThreadingTCPServer( addr, self._make_handler())) self._server._block_on_close = True self._port = self._server.socket.getsockname()[1] self._addresses = self._get_local_addresses() self._thread = in_thread(target=self._server.serve_forever) 3.2.1 åˆ›å»ºServer åˆ›å»ºæœåŠ¡å™¨ä»£ç å¦‚ä¸‹ï¼Œè¿™é‡Œæ˜¯æœç´¢ä¸€ä¸ªéšæœºç«¯å£ï¼Œç„¶åè®¾ç½®ï¼š def find_port(server_factory): min_port = 1024 max_port = 65536 num_ports = max_port - min_port start_port = random.randrange(0, num_ports) for port_offset in range(num_ports): try: port = min_port + (start_port + port_offset) % num_ports addr = ('', port) server = server_factory(addr) return server, port except Exception as e: pass raise Exception('Unable to find a port to bind to.') 3.2.2 ServeråŠŸèƒ½ æœåŠ¡å™¨å°±æ˜¯åŸºæœ¬çš„åŠŸèƒ½ï¼Œæ¯”å¦‚è·å–æœ¬serveråœ°å€ï¼Œå¤„ç† pingï¼Œç½‘ç»œäº¤äº’ç­‰ã€‚ def _make_handler(self): server = self class _Handler(socketserver.StreamRequestHandler): def handle(self): try: req = server._wire.read(self.rfile) resp = server._handle(req, self.client_address) # A tuple is the usual response object followed by a utf8 text stream if type(resp) == tuple: (resp, stream) = resp server._wire.write(resp, self.wfile) server._wire.stream(stream, self.wfile) else: server._wire.write(resp, self.wfile) except (EOFError, BrokenPipeError): # Happens when client is abruptly terminated, don't want to pollute the logs. pass return _Handler def _handle(self, req, client_address): if isinstance(req, PingRequest): return PingResponse(self._service_name, client_address[0]) raise NotImplementedError(req) def _get_local_addresses(self): result = {} for intf, intf_addresses in psutil.net_if_addrs().items(): if self._nics and intf not in self._nics: continue for addr in intf_addresses: if addr.family == socket.AF_INET: if intf not in result: result[intf] = [] result[intf].append((addr.address, self._port)) return result def addresses(self): return self._addresses.copy() def shutdown(self): self._server.shutdown() self._server.server_close() self._thread.join() def get_port(self): return self._port ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:4:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"3.3 network.BasicClient HorovodRunDriverClient å’Œ HorovodRunTaskClient è¿™ä¸¤ä¸ªç±»éƒ½ç»§æ‰¿äº†network.BasicClientã€‚ network.BasicClient çš„ä½œç”¨å°±æ˜¯è¿æ¥ network.BasicServiceï¼Œä¸å…¶äº¤äº’ã€‚å³ network.BasicClient æ˜¯ä¸€ä¸ªæ“ä½œæ¥å£ã€‚ network.BasicClient ^ ^ | | +------------------+ +---------------+ | | + | + driver_service.BasicDriverClient task_service.BasicTaskClient ^ ^ | | | | + + HorovodRunDriverClient HorovodRunTaskClient ä¸¤ä¸ªä¸»è¦ API å¦‚ä¸‹ï¼š 3.3.1 _probe _probe è·å– server çš„ç½‘ç»œæ¥å£ã€‚ def _probe(self, addresses): result_queue = queue.Queue() threads = [] for intf, intf_addresses in addresses.items(): for addr in intf_addresses: thread = in_thread(target=self._probe_one, args=(intf, addr, result_queue)) threads.append(thread) for t in threads: t.join() result = {} while not result_queue.empty(): intf, addr = result_queue.get() if intf not in result: result[intf] = [] result[intf].append(addr) return result 3.3.2 å‘é€æ¶ˆæ¯ _send çš„ä½œç”¨æ˜¯ç»™serverå‘é€æ¶ˆæ¯ã€‚ def _send(self, req, stream=None): \"\"\" Sends the request and returns the response object. Streaming data response is transferred to the optional stream parameter. \"\"\" # Since all the addresses were vetted, use the first one. addr = list(self._addresses.values())[0][0] return self._send_one(addr, req, stream) ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:4:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"3.4 æ€»ç»“ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œnetwork.BasicService ä¼šæä¾›äº†ä¸€ä¸ªserverï¼Œè¿™ä¸ª Service éƒ½æ˜¯é€šè¿‡ network.BasicClient æ¥è®¿é—®ã€‚åŸºäºæ­¤ï¼ŒHorovod çš„HorovodRunDriverService å’Œ HorovodRunTaskService è¿™ä¸¤ä¸ªç±»å°±å¯ä»¥äº’ç›¸äº¤äº’ï¼Œè¿›è¡Œæ²Ÿé€šã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:4:4","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"4 Driver æœåŠ¡ Driver æœåŠ¡ç”± HorovodRunDriverService æä¾›ï¼Œå…¶åŠŸèƒ½ä¸»è¦æ˜¯ç»´æŠ¤ç»´æŠ¤å„ç§ task åœ°å€ä»¥åŠç›¸åº”å…³ç³»ã€‚å…·ä½“å„ç§ task åœ°å€ å°±æ˜¯ Task æœåŠ¡ æ¥æ³¨å†Œçš„ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šHorovodRunDriverService å’Œ HorovodRunTaskService éƒ½æœ€ç»ˆç»§æ‰¿äº† network.BasicServiceï¼Œä»–ä»¬ä¹‹é—´å¯ä»¥æ˜¯å¼‚åœ°è¿è¡Œäº¤äº’ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:5:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"4.1 HorovodRunDriverService HorovodRunDriverService æ˜¯å¯¹ BasicDriverService çš„å°è£…ã€‚ HorovodRunDriverClient æ˜¯ å…¶ è®¿é—®æ¥å£ã€‚ class HorovodRunDriverService(driver_service.BasicDriverService): NAME = 'horovod driver service' def __init__(self, num_hosts, key, nics): super(HorovodRunDriverService, self).__init__(num_hosts, HorovodRunDriverService.NAME, key, nics) class HorovodRunDriverClient(driver_service.BasicDriverClient): def __init__(self, driver_addresses, key, verbose, match_intf=False): super(HorovodRunDriverClient, self).__init__( HorovodRunDriverService.NAME, driver_addresses, key, verbose, match_intf=match_intf) ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:5:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"4.2 BasicDriverService BasicDriverServiceåŸºç±» ä¸»è¦å°±æ˜¯ ç»´æŠ¤å„ç§ task åœ°å€ä»¥åŠç›¸åº”å…³ç³»ã€‚ class BasicDriverService(network.BasicService): def __init__(self, num_proc, name, key, nics): super(BasicDriverService, self).__init__(name, key, nics) self._num_proc = num_proc self._all_task_addresses = {} self._task_addresses_for_driver = {} self._task_addresses_for_tasks = {} self._task_index_host_hash = {} self._task_host_hash_indices = {} self._wait_cond = threading.Condition() è¿™é‡Œçš„å„ç§ task åœ°å€å°±æ˜¯ Task æœåŠ¡ æ³¨å†Œåˆ° Driver çš„æ•°å€¼ã€‚ å¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰å„ç§å…³äºåœ°å€çš„å˜é‡ï¼Œä¸ºäº†è®©å¤§å®¶ç†è§£è¿™äº›å˜é‡çš„ä½œç”¨ï¼Œå¯¹äºæ¯ä¸€ä¸ªå˜é‡æˆ‘ä»¬ä¸¾ä¾‹å¦‚ä¸‹ï¼ˆè¿™é‡Œæœ‰äº›å˜é‡æ˜¯ä¸“é—¨ä¸º spark è®¾è®¡ï¼Œéƒ½æ”¾åˆ°åŸºç±»é‡Œé¢æœ‰ç‚¹å¥‡æ€ªï¼‰ï¼š 4.2.1 _all_task_addresses æœ¬å˜é‡æ˜¯è®°å½•äº†æ‰€æœ‰ task çš„åœ°å€ï¼Œå˜é‡ä¸¾ä¾‹å¦‚ä¸‹ï¼š self._all_task_addresses = { 1: { 'lo' : [('1.1.1.1', 12345)], 'eth0' : [('10.10.10.01', 12345)] }, 0: { 'lo' : [('2.2.2.2', 54321)], 'eth0' : [('10.10.10.02', 54321)] } } æœ¬å˜é‡ç”± task è°ƒç”¨ RegisterTaskRequest æ¥æ³¨å†Œã€‚ if isinstance(req, RegisterTaskRequest): self._wait_cond.acquire() try: assert 0 \u003c= req.index \u003c self._num_proc self._all_task_addresses[req.index] = req.task_addresses 4.2.2 _task_addresses_for_driver æœ¬å˜é‡æ˜¯è®°å½•äº†æ‰€æœ‰ task çš„åœ°å€ï¼Œä½†æ˜¯ç½‘å¡æ¥å£æœ‰å¤šç§ï¼Œè¿™é‡Œé€‰æ‹©ä¸ æœ¬ driver åœ°å€åŒ¹é…çš„åœ°å€ã€‚ å˜é‡ä¸¾ä¾‹å¦‚ä¸‹ï¼š self._task_addresses_for_driver = { 1: { 'eth0' : [('10.10.10.01', 12345)] }, 0: { 'eth0' : [('10.10.10.02', 54321)] } } æœ¬å˜é‡ç”± task è°ƒç”¨ RegisterTaskRequest æ¥æ³¨å†Œã€‚ # Just use source address for service for fast probing. self._task_addresses_for_driver[req.index] = \\ self._filter_by_ip(req.task_addresses, client_address[0]) å…·ä½“ä½¿ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š def task_addresses_for_driver(self, index): self._wait_cond.acquire() try: return self._task_addresses_for_driver[index].copy() finally: self._wait_cond.release() driverç”¨è¿™ä¸ªåœ°å€æ¥ç”Ÿæˆ å…¶å†…éƒ¨ task å˜é‡ã€‚ tasks = [ task_service.HorovodRunTaskClient( index, driver.task_addresses_for_driver(index), settings.key, settings.verbose) for index in range( num_hosts)] 4.2.3 _task_addresses_for_tasks è¯¥å˜é‡ä¸¾ä¾‹å¦‚ä¸‹ï¼š self._task_addresses_for_tasks = { 1: { 'eth0' : [('10.10.10.01', 12345)] }, 0: { 'eth0' : [('10.10.10.02', 54321)] } } æœ¬å˜é‡ç”±RegisterTaskToTaskAddressesRequestæ³¨å†Œã€‚ if isinstance(req, RegisterTaskToTaskAddressesRequest): self.register_task_to_task_addresses(req.index, req.task_addresses) return network.AckResponse() def register_task_to_task_addresses(self, index, task_addresses): self._wait_cond.acquire() try: assert 0 \u003c= index \u003c self._num_proc self._task_addresses_for_tasks[index] = task_addresses # è¿™é‡Œèµ‹å€¼ finally: self._wait_cond.notify_all() self._wait_cond.release() è¯¥å˜é‡è¢« task ç”¨æ¥è·å– æŸä¸ª task çš„ä¸€å¥—ç½‘ç»œæ¥å£ï¼Œæ¯”å¦‚ï¼š # Determine a set of common interfaces for task-to-task communication. nics = set(driver.task_addresses_for_tasks(0).keys()) 4.2.4 _task_index_host_hash æ¯ä¸€ä¸ª task æœ‰ä¸€ä¸ªå¯¹åº”çš„ host hashï¼Œè¯¥æ•°å€¼è¢« MPI ä½œä¸º host name æ¥æ“ä½œã€‚ self._task_index_host_hash = { 1: { 'ip-10-10-10-01-dfdsfdsfdsfdsf2' }, 0: { 'ip-10-10-10-02-treterwrtqwer' } } å…·ä½“ä½¿ç”¨å¦‚ä¸‹ã€‚è¿™ä¸ªå‡½æ•°æ˜¯ spark ç›¸å…³ä¼šä½¿ç”¨ï¼Œå…·ä½“æ˜¯é€ä¸€é€šçŸ¥ spark task è¿›å…¥ä¸‹ä¸€é˜¶æ®µã€‚ def task_indices(self): self._wait_cond.acquire() try: return list(self._task_index_host_hash.keys()) finally: self._wait_cond.release() æˆ–è€…ä½¿ç”¨å¦‚ä¸‹ï¼Œæ˜¯ä¸ºäº†è·å–æŸä¸€ä¸ª host å¯¹åº”çš„ host hash nameã€‚ def task_index_host_hash(self, index): self._wait_cond.acquire() try: assert 0 \u003c= index \u003c self._num_proc return self._task_index_host_hash[index] finally: self._wait_cond.release() 4.2.5 _task_host_hash_indices è¯¥å˜é‡ä¸¾ä¾‹å¦‚ä¸‹ï¼š self._task_host_hash_indices = { { 'ip-10-10-10-01-dfdsfdsfdsfdsf2' : [1] }, { 'ip-10-10-10-02-treterwrtqwer' : [0] } } å…·ä½“æ˜¯åœ¨æ³¨å†Œ RegisterTaskRequest æ—¶å€™ç”Ÿæˆã€‚ self._task_host_hash_indices[req.host_hash].append(req.index) ä½¿ç”¨å…·ä½“ä»£ç æ˜¯ï¼š def task_host_hash_indices(self): self._wait_cond.acquire() try: return self._task_host_hash_indices.copy() finally: self._wait_cond.release() å…·ä½“æ˜¯è¢« rsh ä½¿ç”¨ã€‚rsh å°±æ˜¯åœ¨æŸä¸€ä¸ª host ä¸Šï¼Œè®©æŸä¸€ä¸ª horovod rank å¯åŠ¨ã€‚å…·ä½“é€»è¾‘æ˜¯ï¼š è·å–æŸä¸€ä¸ª host ä¸Šæ‰€æœ‰çš„ task indices ï¼› åˆ©ç”¨ task_host_hash_indices å–å‡ºæœ¬è¿›ç¨‹ local rank å¯¹åº”çš„ task indexï¼› å–å‡ºåœ¨ driver ä¸­ task index å¯¹åº”ä¿æŒçš„ task addressï¼› æœ€åä¾æ®è¿™ä¸ª task addresses ç”Ÿæˆä¸€ä¸ª SparkTaskClientï¼Œè¿›è¡Œåç»­æ“ä½œã€‚ driver_client = driver_service.SparkDriverClient(driver_addresses, key, verbose=verbose) task_indices = driver_client.task_host_hash_indices(host_hash) task_index = task_indices[local_rank] tas","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:5:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"4.3 æ€»ä½“é€»è¾‘ æ€»ä½“é€»è¾‘å¦‚ä¸‹ï¼š network.BasicService ^ ^ | | +-------------------+ +-------------+ | | + + driver_service.BasicDriverService task_service.BasicTaskService ^ ^ | | | | | | | + +----------------+------------------+ HorovodRunTaskService | HorovodRunDriverService | | | | | | _all_task_addresses | | | | _task_addresses_for_driver | | | | _task_addresses_for_tasks | | | | _task_index_host_hash | | | | _task_host_hash_indices | | | +-----------------------------------+ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:5:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"5 Task æœåŠ¡ HorovodRunTaskService æä¾›äº† Task éƒ¨åˆ†æœåŠ¡åŠŸèƒ½ã€‚æ•´ä½“é€»è¾‘æ˜¯ç”±å‡ ä¸ªå‡½æ•°å…±åŒå®Œæˆã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:6:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"5.1 å¯åŠ¨å…·ä½“æœåŠ¡ _launch_task_servers ç”¨æ¥å¯åŠ¨å…·ä½“æœåŠ¡ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ï¼šå¤šçº¿ç¨‹è¿è¡Œï¼Œåœ¨æ¯ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œè¿œç¨‹è¿è¡Œ horovod.runner.task_fnã€‚ å…¶ä¸­ï¼š ä¼ å…¥å‚æ•°ä¸­ï¼Œall_host_names å°±æ˜¯ç¨‹åºå¯åŠ¨æ—¶å€™é…ç½®çš„æ‰€æœ‰hostï¼Œæ¯”å¦‚ [â€œ1.1.1.1â€, â€œ2.2.2.2â€]ï¼› ä½¿ç”¨äº†æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ safe_shell_exec.execute å®Œæˆäº†å®‰å…¨è¿è¡Œä¿è¯ï¼› ä½¿ç”¨æˆ‘ä»¬å‰æ–‡æåˆ°çš„ get_remote_command å®Œæˆäº†è¿œç¨‹å‘½ä»¤çš„è·å–ï¼Œå³åœ¨å‘½ä»¤ä¹‹å‰åŠ ä¸Šäº† ssh -o PasswordAuthentication=no -o StrictHostKeyChecking=noç­‰ç­‰é…ç½®ï¼› æœ€ç»ˆæ¯ä¸ªå¯åŠ¨çš„å‘½ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š ssh -o PasswordAuthentication=no -o StrictHostKeyChecking=no 1.1.1.1 python -m horovod.runner.task_fn xxxxxxxï¼› ä½¿ç”¨ execute_function_multithreaded åœ¨æ¯ä¸€ä¸ª host ä¸Šè¿è¡Œï¼Œå¯åŠ¨ task æœåŠ¡ï¼› å…·ä½“ä»£ç å¦‚ä¸‹ï¼š def _launch_task_servers(all_host_names, local_host_names, driver_addresses, settings): \"\"\" Executes the task server and service client task for registration on the hosts. :param all_host_names: list of addresses. for example, ['worker-0','worker-1'] ['10.11.11.11', '10.11.11.12'] :type all_host_names: list(string) :param local_host_names: names that are resolved to one of the addresses of local hosts interfaces. For example, set(['localhost', '127.0.0.1']) :type local_host_names: set :param driver_addresses: map of interfaces and their address and port for the service. For example: { 'lo': [('127.0.0.1', 34588)], 'docker0': [('172.122.10.1', 34588)], 'eth0': [('11.111.33.73', 34588)] } :type driver_addresses: map :param settings: the object that contains the setting for running horovod :type settings: horovod.runner.common.util.settings.Settings :return: :rtype: \"\"\" def _exec_command(command): host_output = io.StringIO() try: # å®Œæˆäº†å®‰å…¨è¿è¡Œä¿è¯ exit_code = safe_shell_exec.execute(command, stdout=host_output, stderr=host_output) finally: host_output.close() return exit_code args_list = [] num_hosts = len(all_host_names) for index in range(num_hosts): host_name = all_host_names[index] # all_host_names å°±æ˜¯ç¨‹åºå¯åŠ¨æ—¶å€™é…ç½®çš„æ‰€æœ‰hostï¼Œæ¯”å¦‚ [\"1.1.1.1\", \"2.2.2.2\"] command = \\ '{python} -m horovod.runner.task_fn {index} {num_hosts} ' \\ '{driver_addresses} {settings}' \\ .format(python=sys.executable, index=codec.dumps_base64(index), num_hosts=codec.dumps_base64(num_hosts), driver_addresses=codec.dumps_base64(driver_addresses), settings=codec.dumps_base64(settings)) if host_name not in local_host_names: # å®Œæˆäº†è¿œç¨‹å‘½ä»¤çš„è·å–ï¼Œå³åœ¨å‘½ä»¤ä¹‹å‰åŠ ä¸Šäº† `ssh -o PasswordAuthentication=no -o StrictHostKeyChecking=no`ç­‰ç­‰é…ç½® command = get_remote_command(command, host=host_name, port=settings.ssh_port, identity_file=settings.ssh_identity_file) args_list.append([command]) # Each thread will use ssh command to launch the server on one task. If an # error occurs in one thread, entire process will be terminated. Otherwise, # threads will keep running and ssh session -- and the the task server -- # will be bound to the thread. In case, the horovod process dies, all # the ssh sessions and all the task servers will die as well. # ä½¿ç”¨ execute_function_multithreaded åœ¨æ¯ä¸€ä¸ª host ä¸Šè¿è¡Œï¼Œå¯åŠ¨ task æœåŠ¡ threads.execute_function_multithreaded(_exec_command, args_list, block_until_all_done=False) ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:6:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"5.2 å…·ä½“æœåŠ¡é€»è¾‘ ä¸Šæ®µæœ‰ï¼š{python} -m horovod.runner.task_fn {index} {num_hosts} {driver_addresses} {settings}æ‰§è¡Œå…·ä½“æœåŠ¡é€»è¾‘ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»‹ç»ä¸‹ horovod.runner.task_fnã€‚ _task_fn å‡½æ•°å®Œæˆäº† ç”Ÿæˆäº† HorovodRunTaskService å®ä¾‹ï¼Œèµ‹å€¼ç»™ taskï¼› ä½¿ç”¨ HorovodRunDriverClient . register_task æ¥å‘ Driver æœåŠ¡æ³¨å†Œtaskï¼ˆè‡ªå·±ï¼‰çš„åœ°å€ï¼› ä½¿ç”¨ HorovodRunDriverClient . register_task_to_task_addresses æ¥å‘ Driver æœåŠ¡æ³¨å†Œè‡ªå·±åœ¨Ringä¸Š ä¸‹ä¸€ä¸ªé‚»å±…çš„åœ°å€ï¼› æ¯ä¸€ä¸ª task éƒ½åšè¿™ä¸ªæ“ä½œï¼Œæœ€åå°±å¾—åˆ°äº†åœ¨è¿™ä¸ª ring cluster ä¹‹ä¸­çš„ä¸€ä¸ªè·¯ç”±æ¥å£ï¼› å…·ä½“ä»£ç å¦‚ä¸‹ï¼š def _task_fn(index, num_hosts, driver_addresses, settings): task = task_service.HorovodRunTaskService(index, settings.key, settings.nics) try: driver = driver_service.HorovodRunDriverClient( driver_addresses, settings.key, settings.verbose) # å‘ Driver æœåŠ¡æ³¨å†Œtaskï¼ˆè‡ªå·±ï¼‰çš„åœ°å€ driver.register_task(index, task.addresses(), host_hash.host_hash()) task.wait_for_initial_registration(settings.start_timeout) # Tasks ping each other in a circular fashion to determine interfaces # reachable within the cluster. next_task_index = (index + 1) % num_hosts next_task_addresses = driver.all_task_addresses(next_task_index) # We request interface matching to weed out all the NAT'ed interfaces. next_task = task_service.HorovodRunTaskClient( next_task_index, next_task_addresses, settings.key, settings.verbose, match_intf=True, attempts=10) # å‘ Driver æœåŠ¡æ³¨å†Œè‡ªå·±åœ¨Ringä¸Š ä¸‹ä¸€ä¸ªé‚»å±…çš„åœ°å€ driver.register_task_to_task_addresses(next_task_index, next_task.addresses()) # Notify the next task that the address checks are completed. next_task.task_to_task_address_check_completed() # Wait to get a notification from previous task that its address checks # are completed as well. task.wait_for_task_to_task_address_check_finish_signal(settings.start_timeout) finally: task.shutdown() if __name__ == '__main__': index = codec.loads_base64(sys.argv[1]) num_hosts = codec.loads_base64(sys.argv[2]) driver_addresses = codec.loads_base64(sys.argv[3]) settings = codec.loads_base64(sys.argv[4]) _task_fn(index, num_hosts, driver_addresses, settings) ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:6:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"5.3 HorovodRunTaskService HorovodRunTaskService ä¸»è¦çš„ä½œç”¨æ˜¯æä¾›äº†ä¸¤ä¸ªç­‰å¾…å‡½æ•°ã€‚å› ä¸ºå…·ä½“è·¯ç”±æ“ä½œæ˜¯éœ€è¦å½¼æ­¤é€šçŸ¥ï¼Œæ‰€ä»¥éœ€è¦äº’ç›¸ç­‰å¾…ã€‚ class HorovodRunTaskService(task_service.BasicTaskService): NAME_FORMAT = 'horovod task service #%d' def __init__(self, index, key, nics): super(HorovodRunTaskService, self).__init__( HorovodRunTaskService.NAME_FORMAT % index, index, key, nics) self.index = index self._task_to_task_address_check_completed = False def _handle(self, req, client_address): if isinstance(req, TaskToTaskAddressCheckFinishedSignal): self._wait_cond.acquire() try: self._task_to_task_address_check_completed = True finally: self._wait_cond.notify_all() self._wait_cond.release() return TaskToTaskAddressCheckFinishedSignalResponse(self.index) return super(HorovodRunTaskService, self)._handle(req, client_address) def wait_for_task_to_task_address_check_finish_signal(self, timeout): self._wait_cond.acquire() try: while not self._task_to_task_address_check_completed: self._wait_cond.wait(timeout.remaining()) timeout.check_time_out_for('Task to task address check') finally: self._wait_cond.release() class HorovodRunTaskClient(task_service.BasicTaskClient): def __init__(self, index, task_addresses, key, verbose, match_intf=False, attempts=3): super(HorovodRunTaskClient, self).__init__( HorovodRunTaskService.NAME_FORMAT % index, task_addresses, key, verbose, match_intf=match_intf, attempts=attempts) self.index = index def task_to_task_address_check_completed(self): resp = self._send(TaskToTaskAddressCheckFinishedSignal(self.index)) return resp.index é€»è¾‘å¦‚ä¸‹ï¼š _driver_fn + | | +---------------------------------------+-------------------------------------v | | | v | _launch_task_servers v + driver = HorovodRunDriverService | + +--------------+-------------------+ | | | | | | v v v +-------------------+---------------+ horovod.runner.task_fn ...... horovod.runner.task_fn | HorovodRunDriverService | + + | | | | | | | | | _all_task_addresses | | | | | v v | _task_addresses_for_driver | register_task +-----------+---------------+ +-------+--------------------+ | | | HorovodRunTaskService | | HorovodRunTaskService | | _task_addresses_for_tasks | \u003c--------------------------------+ | | | | | | | wait | | | _task_index_host_hash | | | \u003c------\u003e | | | | \u003c--------------------------------+ | | | | _task_host_hash_indices | register_task_to_task_addresses | | | | | | +---------------------------+ +----------------------------+ +-----------------------------------+ ` å›¾ç¤º: ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:6:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"6 æ€»ç»“ æœ¬æ–‡æ€»ç»“å¦‚ä¸‹ï¼š å› ä¸º Horovod åˆ†å¸ƒå¼è®­ç»ƒ æ¶‰åŠåˆ°å¤šä¸ª hostsï¼Œæ‰€ä»¥å¦‚æœè¦å½¼æ­¤è®¿é—®ï¼Œéœ€è¦çŸ¥é“è·¯ç”±ä¿¡æ¯ï¼› å½“æ‰€æœ‰ task éƒ½å¯åŠ¨ï¼Œæ³¨å†Œï¼Œprobe ç¯ä¸­ä¸‹ä¸€ä¸ªworker é‚»å±…å®Œæˆ ä¹‹åï¼ŒDriverService ä¼šå¾—åˆ°è·¯ç”±ä¿¡æ¯ï¼ˆæ‰€æœ‰hostä¹‹é—´çš„å…±æœ‰è·¯ç”±æ¥å£é›†åˆï¼‰ï¼Œè¿”å›ç»™ Horovod ä¸»ä½“éƒ¨åˆ†ä½¿ç”¨ï¼› network.BasicService æä¾›äº†ç½‘ç»œæœåŠ¡åŠŸèƒ½ï¼› XXXService éƒ½æ˜¯é€šè¿‡ XXXClientä½œä¸ºæ¥å£æ‰èƒ½è®¿é—®ï¼› HorovodRunDriverService å’Œ HorovodRunTaskService éƒ½æœ€ç»ˆç»§æ‰¿äº† network.BasicServiceï¼Œä»–ä»¬ä¹‹é—´å¯ä»¥æ˜¯å¼‚åœ°è¿è¡Œäº¤äº’ã€‚ HorovodRunTaskService æä¾›äº† Task éƒ¨åˆ†æœåŠ¡åŠŸèƒ½ï¼Œè¿™äº› task éœ€è¦æ³¨å†Œåˆ° Driver ä¹‹ä¸­ï¼ˆå’ŒSparkæ€è·¯ç±»ä¼¼ï¼‰ã€‚ HorovodRunDriverService æ˜¯å¯¹ BasicDriverService çš„å°è£…ã€‚BasicDriverService å°±æ˜¯ ç»´æŠ¤å„ç§ task åœ°å€ä»¥åŠç›¸åº”å…³ç³»ï¼Œæ¯”å¦‚ï¼š _all_task_addresses ï¼šè®°å½•äº†æ‰€æœ‰ task çš„åœ°å€ï¼› _task_addresses_for_driver ï¼šè®°å½•äº†æ‰€æœ‰ task çš„åœ°å€ï¼Œä½†æ˜¯å› ä¸ºç½‘å¡æ¥å£æœ‰å¤šç§ï¼Œè¿™é‡Œé€‰æ‹©ä¸ æœ¬driver åœ°å€åŒ¹é…çš„åœ°å€ï¼› _task_addresses_for_tasks ï¼šç”¨æ¥ç»™æŸä¸€ä¸ª task åˆ†é…ä¸€ä¸ªåœ°å€ï¼ŒåŒæ—¶è·å–æœ¬ task çš„ä¸€å¥—ç½‘ç»œæ¥å£ï¼› _task_index_host_hash ï¼šæ¯ä¸€ä¸ª task æœ‰ä¸€ä¸ªå¯¹åº”çš„ host hashã€‚è¿™ä¸ªå‡½æ•°æ˜¯ spark ç›¸å…³ä¼šä½¿ç”¨ï¼Œå…·ä½“æ˜¯é€ä¸€é€šçŸ¥ spark task è¿›å…¥ä¸‹ä¸€é˜¶æ®µã€‚æˆ–è€…æ˜¯ä¸ºäº†è·å–æŸä¸€ä¸ª host å¯¹åº”çš„ host hash nameï¼› _task_host_hash_indices ï¼šå…·ä½“æ˜¯è¢« rsh ä½¿ç”¨ï¼Œç”± rank å¾—åˆ° åœ¨ driver ä¸­ task index å¯¹åº”ä¿æŒçš„ task addressï¼› SparkDriverServiceï¼ŒSparkTaskServiceï¼ŒElasticDriver, Worker éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ï¼Ÿ HorovodRunDriverService è¿™é‡Œåªæ˜¯ç”¨æ¥å¾—åˆ°è·¯ç”±ä¿¡æ¯ï¼Œè®°å½•å„ç§ Task åœ°å€ï¼› SparkDriverService é™¤äº†è®°å½•è·¯ç”±å’Œåœ°å€ä¹‹å¤–ï¼Œè¿˜æäº¤æ‰§è¡Œä»»åŠ¡ï¼ˆCommandï¼‰ï¼Œå› ä¸ºå…·ä½“åœ¨å“ªä¸€ä¸ªSpark Executorå¯åŠ¨ä¹‹åï¼ŒSparkDriverService å°±éœ€è¦çŸ¥é“ å¯¹åº” SparkTaskService çš„åœ°å€ï¼Œè¿™æ ·æ‰èƒ½çŸ¥é“æäº¤åˆ°å“ªé‡Œï¼› SparkTaskService è´Ÿè´£æ‰§è¡Œå‘½ä»¤ï¼ˆæŠ›å¼ƒäº†Spark Executorçš„é€»è¾‘ï¼Œè‡ªå·±æäº†ä¸€å¥—ï¼‰ï¼Œå°±æ˜¯ä» SparkDriverService é‚£é‡Œè·å¾—è®­ç»ƒå‡½æ•°ï¼Œç„¶åå¯åŠ¨ python è¿›ç¨‹æ¥æ‰§è¡Œï¼› ElasticDriver åšå¾—æ›´å¤šï¼Œå› ä¸ºè¿˜æœ‰å¼¹æ€§ï¼Œéœ€è¦å®¹é”™ï¼› references: [1]. https://www.cnblogs.com/rossiXYZ/p/14882053.html [2]. https://www.zhihu.com/column/c_1491039346714746880 ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_4/:7:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[4] -- ç½‘ç»œåŸºç¡€ \u0026 Driver","uri":"/posts/2022-10-08_horovod_4/"},{"categories":["Distributed Computing"],"content":"references: [1]. https://www.cnblogs.com/rossiXYZ/p/14881812.html ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:0:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"0 æ‘˜è¦ Horovod æ˜¯Uberäº2017å¹´å‘å¸ƒçš„ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ï¼Œåœ¨ä¸šç•Œå¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚ æœ¬ç³»åˆ—å°†é€šè¿‡æºç åˆ†ææ¥å¸¦é¢†å¤§å®¶äº†è§£ Horovodã€‚æœ¬æ–‡æ˜¯ç³»åˆ—ç¬¬ä¸‰ç¯‡ï¼Œä» python å¼€å§‹è¿›å…¥ Horovod ä¸–ç•Œï¼Œçœ‹çœ‹ Horovodrun åšäº†ä»€ä¹ˆã€‚ å‰ä¸¤ç¯‡é“¾æ¥å¦‚ä¸‹ï¼š æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod (1) â€” åŸºç¡€çŸ¥è¯† æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod (2) â€” ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:1:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"1 èƒŒæ™¯çŸ¥è¯† é¦–å…ˆä»‹ç»ä¸€äº›ç›¸å…³èƒŒæ™¯çŸ¥è¯†ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:2:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"1.1 åˆ†å¸ƒå¼ä½“ç³» åœ¨è®¾è®¡å¹¶è¡Œè®¡ç®—æœºæ—¶ï¼Œæœ€ç›´æ¥çš„æ–¹å¼å°±æ˜¯å¤šä¸ªè®¡ç®—å•å…ƒå…±äº«ä¸€ä¸ªå†…å­˜ã€‚å…±äº«å†…å­˜çš„ç¼–ç¨‹åœ¨æ•°æ®äº¤æ¢å’Œè®¿é—®ä¸Šæœ‰è¾ƒå¤§çš„ä¼˜åŠ¿ï¼Œç¨‹åºç¼–å†™èµ·æ¥æ›´åŠ ç®€å•ã€‚ä½†åœ¨æ‰©å±•æ€§ä¸Šæœ‰è¾ƒå¤§çš„ç“¶é¢ˆã€‚ å¦ä¸€ç§æ–¹å¼ä¸ºåˆ†å¸ƒå¼å†…å­˜ã€‚å³æ¯ä¸ªè®¡ç®—å•å…ƒæœ‰å•ç‹¬çš„å†…å­˜ï¼Œè®¡ç®—å•å…ƒä¹‹é—´çš„æ•°æ®è®¿é—®é€šè¿‡äº’è”ç½‘ç»œå»ä¼ è¾“ã€‚è¿™ä¸€æ¶æ„åœ¨å¯ç§»æ¤æ€§å’Œæ‰©å±•ä¸Šä¼šå¼ºå¾ˆå¤šï¼Œä½†æ¶ˆæ¯çš„ä¼ é€’ä¼šæˆä¸ºç¨‹åºè®¾è®¡ä¸­çš„éš¾ç‚¹ã€‚ å°†è¿™ä¸¤ç‚¹ç»“åˆï¼Œå³æ˜¯åˆ†å¸ƒå¼å…±äº«å†…å­˜å¹¶è¡Œè®¡ç®—æœºçš„æ¶æ„ï¼Œä¹Ÿæ˜¯å½“ä»Šæœ€å¸¸ç”¨çš„ä½“ç³»ç»“æ„ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:2:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"1.2 å¹¶è¡Œä»»åŠ¡é€šä¿¡ å¹¶è¡Œä»»åŠ¡é€šä¿¡ä¸€èˆ¬åˆ†ä¸ºP2P(Point-to-point communication)å’Œ Collective communicationã€‚ P2Pé€šä¿¡è¿™ç§æ¨¡å¼åªæœ‰ä¸€ä¸ªsenderå’Œä¸€ä¸ªreceiverï¼Œå³ç‚¹åˆ°ç‚¹é€šä¿¡. Collective communicationå«å¤šä¸ªsenderå¤šä¸ªreceive Collective communicationåŒ…å«ä¸€äº›å¸¸è§çš„åŸè¯­ broadcast reduceï¼Œallreduce scatterï¼Œscatter reduce gatherï¼Œallgather ring-base collectives ring-allreduce ä¼ ç»ŸCollective communicationå‡è®¾é€šä¿¡èŠ‚ç‚¹ç»„æˆçš„topologyæ˜¯ä¸€é¢—fat treeï¼Œè¿™æ ·é€šä¿¡æ•ˆç‡æœ€é«˜ã€‚ä½†å®é™…çš„é€šä¿¡topologyå¯èƒ½æ¯”è¾ƒå¤æ‚ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªfat treeã€‚å› æ­¤ä¸€èˆ¬ç”¨ring-based Collective communicationã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:2:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"1.3 MPI MPI(Message Passing Interface) æ˜¯ä¸€ç§å¯ä»¥æ”¯æŒç‚¹å¯¹ç‚¹å’Œå¹¿æ’­çš„é€šä¿¡åè®®ï¼Œå…·ä½“å®ç°çš„åº“æœ‰å¾ˆå¤šï¼Œä½¿ç”¨æ¯”è¾ƒæµè¡Œçš„åŒ…æ‹¬ Open Mpiï¼Œ Intel MPI ç­‰ç­‰ã€‚ MPI æ˜¯ä¸€ç§æ¶ˆæ¯ä¼ é€’ç¼–ç¨‹æ¨¡å‹ã€‚æ¶ˆæ¯ä¼ é€’æŒ‡ç”¨æˆ·å¿…é¡»é€šè¿‡æ˜¾å¼åœ°å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ¥å®ç°å¤„ç†å™¨é—´çš„æ•°æ®äº¤æ¢ã€‚åœ¨è¿™ç§å¹¶è¡Œç¼–ç¨‹ä¸­ï¼Œæ¯ä¸ªæ§åˆ¶æµå‡æœ‰è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸åŒçš„æ§åˆ¶æµä¹‹é—´ä¸èƒ½ç›´æ¥è®¿é—®å½¼æ­¤çš„åœ°å€ç©ºé—´ï¼Œå¿…é¡»é€šè¿‡æ˜¾å¼çš„æ¶ˆæ¯ä¼ é€’æ¥å®ç°ã€‚è¿™ç§ç¼–ç¨‹æ–¹å¼æ˜¯å¤§è§„æ¨¡å¹¶è¡Œå¤„ç†æœº(MPP)å’Œæœºç¾¤(Cluster)é‡‡ç”¨çš„ä¸»è¦ç¼–ç¨‹æ–¹å¼ã€‚ç”±äºæ¶ˆæ¯ä¼ é€’ç¨‹åºè®¾è®¡è¦æ±‚ç”¨æˆ·å¾ˆå¥½åœ°åˆ†è§£é—®é¢˜ï¼Œç»„ç»‡ä¸åŒæ§åˆ¶æµé—´çš„æ•°æ®äº¤æ¢ï¼Œå¹¶è¡Œè®¡ç®—ç²’åº¦å¤§ï¼Œç‰¹åˆ«é€‚åˆäºå¤§è§„æ¨¡å¯æ‰©å±•å¹¶è¡Œç®—æ³•ã€‚ MPI æ˜¯åŸºäºè¿›ç¨‹çš„å¹¶è¡Œç¯å¢ƒã€‚è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´å’Œå¤„ç†å™¨è°ƒåº¦ï¼Œå¹¶ä¸”æ‰§è¡Œç›¸äº’ç‹¬ç«‹ã€‚MPI è®¾è®¡ä¸ºæ”¯æŒé€šè¿‡ç½‘ç»œè¿æ¥çš„æœºç¾¤ç³»ç»Ÿï¼Œä¸”é€šè¿‡æ¶ˆæ¯ä¼ é€’æ¥å®ç°é€šä¿¡ï¼Œæ¶ˆæ¯ä¼ é€’æ˜¯ MPI çš„æœ€åŸºæœ¬ç‰¹è‰²ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:2:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"1.4 Open-MPI OpenMPI æ˜¯ä¸€ç§é«˜æ€§èƒ½æ¶ˆæ¯ä¼ é€’åº“ï¼Œæœ€åˆæ˜¯ä½œä¸ºèåˆçš„æŠ€æœ¯å’Œèµ„æºä»å…¶ä»–å‡ ä¸ªé¡¹ç›®ï¼ˆFT-MPIï¼Œ LA-MPIï¼Œ LAM/MPIï¼Œ ä»¥åŠ PACX-MPIï¼‰ï¼Œå®ƒæ˜¯ MPI-2 æ ‡å‡†çš„ä¸€ä¸ªå¼€æºå®ç°ï¼Œç”±ä¸€äº›ç§‘ç ”æœºæ„å’Œä¼ä¸šä¸€èµ·å¼€å‘å’Œç»´æŠ¤ã€‚å› æ­¤ï¼ŒOpenMPI èƒ½å¤Ÿä»é«˜æ€§èƒ½ç¤¾åŒºä¸­è·å¾—ä¸“ä¸šæŠ€æœ¯ã€å·¥ä¸šæŠ€æœ¯å’Œèµ„æºæ”¯æŒï¼Œæ¥åˆ›å»ºæœ€å¥½çš„ MPI åº“ã€‚OpenMPI æä¾›ç»™ç³»ç»Ÿå’Œè½¯ä»¶ä¾›åº”å•†ã€ç¨‹åºå¼€å‘è€…å’Œç ”ç©¶äººå‘˜å¾ˆå¤šä¾¿åˆ©ã€‚æ˜“äºä½¿ç”¨ï¼Œå¹¶è¿è¡Œæœ¬èº«åœ¨å„ç§å„æ ·çš„æ“ä½œç³»ç»Ÿï¼Œç½‘ç»œäº’è¿ï¼Œä»¥åŠä¸€æ‰¹/è°ƒåº¦ç³»ç»Ÿã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:2:4","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"1.5 MPI ä½¿ç”¨é—®é¢˜ å› ä¸ºMPIæ˜¯åˆ†å¸ƒå¼å†…å­˜ç¼–ç¨‹ï¼Œåœ¨åé¢çš„å¼€å‘ä¸­æ¶‰åŠèŠ‚ç‚¹é—´ä¿¡æ¯çš„ä¼ é€’ã€‚å¾€å¾€æ•°æ®å’Œç¨‹åºæ˜¯åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œæ‰€ä»¥éœ€è¦ä¿è¯æ‰§è¡Œå‘½ä»¤æ—¶å„èŠ‚ç‚¹ä¹‹é—´ä¿¡æ¯çš„äº¤æ¢ã€‚ å…·ä½“ä½¿ç”¨ä¹‹ä¸­ï¼Œå°±æœ‰ä¸¤ä¸ªé—®é¢˜: è¿™ä¸ªå¤šå°æœºå™¨Open-MPIæ˜¯å¦‚ä½•å‘ç°å¹¶å»ºç«‹è¿æ¥çš„å‘¢ï¼Ÿ å¤šæœºå¤šå¡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œä¼ è¾“ç¯å¦‚ä½•å»ºç«‹ï¼Œè¿™ä¸ªä¹Ÿæ˜¯å†³å®šäº†è®­ç»ƒæ•ˆç‡ï¼Œé‚£ä¹ˆOpen-MPIå¦‚ä½•å»åšå‘¢ï¼Ÿ å…³äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼š è®¾ç½®SSHå…å¯†ç™»å½•å¯ä»¥å…å»æ“ä½œä¸­å¯†ç çš„è¾“å…¥ã€‚å„èŠ‚ç‚¹ç”Ÿæˆç§é’¥å’Œå…¬é’¥åéœ€è¦è®¤è¯ï¼Œæ­¤æ—¶å¯ä»¥ä¿è¯æœ¬æœºå…å¯†ç™»å½•ã€‚å°†å„ä¸ªå­èŠ‚ç‚¹çš„å…¬é’¥æ–‡ä»¶å‘é€ç»™ä¸»èŠ‚ç‚¹ï¼Œç„¶ååˆ†åˆ«åŠ å…¥åˆ°ä¸»èŠ‚ç‚¹çš„è®¤è¯æ–‡ä»¶ä¸­ï¼Œæ­¤æ—¶å¯ä»¥ä¿è¯ä¸»èŠ‚ç‚¹å¯¹å„ä¸ªå­èŠ‚ç‚¹çš„å…å¯†ç™»å½•ã€‚æœ€åå°†è®¤è¯æ–‡ä»¶ä¼ å›åˆ°æ¯ä¸ªå­èŠ‚ç‚¹ï¼Œä»è€Œä¿è¯å„ä¸ªå­èŠ‚ç‚¹å¯¹å…¶ä»–èŠ‚ç‚¹ä¹‹é—´çš„å…å¯†ç™»å½•ã€‚ åœ¨ Open-MPI å¯åŠ¨çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®š--hostfileæˆ–è€…--hostå»æŒ‡å®šè¦è¿è¡Œä»»åŠ¡çš„ IP æˆ– Hostnameï¼Œè¿™æ · Open-MPI å°±ä¼šè¯•å›¾é€šè¿‡ ssh å…ç§˜é’¥çš„æ–¹å¼è¯•å›¾å»é“¾æ¥å¯¹æ–¹æœºå™¨ï¼Œå¹¶æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ï¼Œä¸»è¦æ˜¯ä¸ºäº†åŒæ­¥ç¯å¢ƒå˜é‡ã€å½“å‰è·¯å¾„ä»¥åŠä¸‹å‘å¯åŠ¨å‘½ä»¤ã€‚ å½“ç„¶ç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼ç»™è¿œç¨‹æœºå™¨ä¸‹å‘å‘½ä»¤ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡OMPI_MCA_plm_rsh_agentæŒ‡å®šã€‚ å…³äºç¬¬äºŒä¸ªé—®é¢˜ï¼š å½“æ‰€æœ‰çš„æœºå™¨å»ºç«‹å¥½è¿æ¥ï¼Œå‡†å¤‡å¼€å§‹è®¡ç®—ï¼Œä¸ºäº†èƒ½å¤Ÿæœ€é«˜æ•ˆçš„å»é€šä¿¡ï¼ŒOpen-MPIä¸­é›†æˆäº†ç»„ä»¶â€”â€”hwlocã€‚è¯¥ç»„ä»¶ä¸»è¦æ˜¯ä¸ºäº†å•æœºç¡¬ä»¶èµ„æºæ‹“æ‰‘æ„å»ºï¼Œè¿›è€Œæ„å»ºæœ€çŸ­è·¯å¾„é€šä¿¡ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:2:5","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"2 å…¥å£ç‚¹ å¾ˆå¤šæœºå™¨å­¦ä¹ æ¡†æ¶éƒ½ä¼šé‡‡ç”¨å¦‚ä¸‹å¥—è·¯ï¼šshellè„šæœ¬ï¼ˆå¯é€‰ï¼‰ï¼Œpythonç«¯ å’Œ C++ç«¯ã€‚ Shellè„šæœ¬æ˜¯å¯åŠ¨è¿è¡Œçš„å…¥å£ï¼Œè´Ÿè´£è§£æå‚æ•°ï¼Œç¡®è®¤å¹¶ä¸”è°ƒç”¨è®­ç»ƒç¨‹åºï¼› Pythonæ˜¯ç”¨æˆ·çš„æ¥å£ï¼Œå¼•å…¥äº†C++åº“ï¼Œå°è£…äº†APIï¼Œè´Ÿè´£è¿è¡Œæ—¶å’Œåº•å±‚C++äº¤äº’ï¼› C++å®ç°åº•å±‚è®­ç»ƒé€»è¾‘ï¼› ä»¥æˆ‘ä»¬å…ˆçœ‹çœ‹ hordovodrun è„šæœ¬ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:3:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"2.1 å¦‚ä½•è¿è¡Œ å®˜æ–¹ç»™å‡ºçš„ Hovorod è¿è¡ŒèŒƒä¾‹ä¹‹ä¸€å¦‚ä¸‹ï¼š horovodrun -np 2 -H localhost:4 --gloo python /horovod/examples/tensorflow2/tensorflow2_mnist.py è¿™é‡Œ -np æŒ‡çš„æ˜¯è¿›ç¨‹çš„æ•°é‡ï¼Œlocalhost:4è¡¨ç¤ºlocalhostèŠ‚ç‚¹ä¸Š4ä¸ªGPUã€‚ æ³¨æ„ï¼Œå¦‚æœè™šæ‹Ÿæœºåªæœ‰ä¸€ä¸ªæ ¸ã€‚æƒ³è¦å¼ºè¡Œåœ°è¾¾åˆ°å¹¶è¡Œçš„æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨ -npå‚æ•°ï¼Œå®ƒä¼šè‡ªåŠ¨å¸®ä½ æŠŠä¸€ä¸ªæ ¸å¿ƒåˆ‡æˆå¤šä»½å¤„ç†å™¨ï¼Œæ¯ä¸€ä¸ªåˆ†å¸ƒå¼å¤„ç†å°±æ˜¯ä¸€ä¸ªslotã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä» horovodrun è¿™ä¸ªå‘½ä»¤å…¥æ‰‹çœ‹çœ‹ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:3:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"2.2 horovodrun å…¥å£æ–‡ä»¶å¯ä»¥ä» setup.py çœ‹åˆ°ï¼Œå…¶å°±è¢«æ˜ å°„æˆ horovod.runner.launch:run_commandlineã€‚ entry_points={ 'console_scripts': [ 'horovodrun = horovod.runner.launch:run_commandline' ] } æ‰€ä»¥æˆ‘ä»¬çœ‹çœ‹ run_commandline ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:3:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"2.3 run_commandline è¯¥å‘½ä»¤ä½äºï¼šhorovod-master/horovod/runner/launch.pyï¼Œæˆ‘ä»¬æ‘˜å½•é‡è¦éƒ¨åˆ†ã€‚ def run_commandline(): args = parse_args() _run(args) äºæ˜¯è¿›å…¥åˆ° _run å‡½æ•°ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒHorovod ä¼šä¾æ®æ˜¯å¦æ˜¯å¼¹æ€§è®­ç»ƒæ¥é€‰æ‹©ä¸åŒçš„è·¯å¾„ã€‚æˆ‘ä»¬åœ¨æ­¤ç³»åˆ—ä¸­ï¼Œä¼šé¦–å…ˆåˆ†æ éå¼¹æ€§è®­ç»ƒ _run_staticã€‚ def _run(args): # if hosts are not specified, either parse from hostfile, or default as # localhost if not args.hosts and not args.host_discovery_script: if args.hostfile: args.hosts = hosts.parse_host_files(args.hostfile) else: # Set hosts to localhost if not specified args.hosts = 'localhost:{np}'.format(np=args.np) # Convert nics into set args.nics = set(args.nics.split(',')) if args.nics else None if _is_elastic(args): return _run_elastic(args) else: return _run_static(args) # æˆ‘ä»¬å…ˆçœ‹è¿™é‡Œ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:3:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"2.4 éå¼¹æ€§è®­ç»ƒ _run_static() åœ¨ _run_static ä¹‹ä¸­åšäº†å¦‚ä¸‹æ“ä½œï¼š é¦–å…ˆè§£æå„ç§å‚æ•°ï¼Œå¾—åˆ° settingsï¼› ä¼šè°ƒç”¨ driver_service.get_common_interfaces è·å–ç½‘å¡ä»¥åŠå…¶ä»–hostçš„ä¿¡æ¯ï¼Œä¾æ®è¿™äº›ä¿¡æ¯ä¼šè¿›è¡Œslotåˆ†é…ï¼Œè¿™éƒ¨åˆ†å¾ˆå¤æ‚ï¼Œå…·ä½“æˆ‘ä»¬ä¼šæœ‰ä¸“æ–‡è®²è§£ï¼ˆä¸‹ä¸€ç¯‡ï¼‰ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆè¦å¾—åˆ° host, slot, rank ä¹‹é—´çš„å…³ç³»ä¿¡æ¯ï¼Ÿç”±äºå·¥ç¨‹ä¸Šçš„è€ƒè™‘ï¼Œåº•å±‚ C++ ä¸–ç•Œä¸­å¯¹äº rank çš„è§’è‰²åšäº†åŒºåˆ†ï¼šrank 0 æ˜¯ masterï¼Œrank n æ˜¯ workerï¼Œæ‰€ä»¥è¿™äº›ä¿¡æ¯éœ€è¦å†³å®šå¹¶ä¸”ä¼ é€’ç»™ C++ä¸–ç•Œï¼› ä¼šæ ¹æ®æ˜¯å¦åœ¨å‚æ•°ä¸­ä¼ é€’è¿è¡Œå‡½æ•°æ¥å†³å®šé‡‡å–ä½•ç§è·¯å¾„ï¼Œä¸€èˆ¬é»˜è®¤æ²¡æœ‰è¿è¡Œå‚æ•°ï¼Œæ‰€ä»¥ä¼šæ‰§è¡Œ_launch_job æ¥å¯åŠ¨è®­ç»ƒ jobï¼› å…·ä½“ä»£ç å¦‚ä¸‹ï¼š def _run_static(args): settings = hvd_settings.Settings(verbose=2 if args.verbose else 0, ssh_port=args.ssh_port, ssh_identity_file=args.ssh_identity_file, extra_mpi_args=args.mpi_args, tcp_flag=args.tcp_flag, binding_args=args.binding_args, key=secret.make_secret_key(), start_timeout=tmout, num_proc=args.np, hosts=args.hosts, output_filename=args.output_filename, run_func_mode=args.run_func is not None, nics=args.nics,...) # é¦–å…ˆè§£æå„ç§å‚æ•°ï¼Œå¾—åˆ° settings fn_cache = None if not args.disable_cache: params = '' if args.np: params += str(args.np) + ' ' if args.hosts: params += str(args.hosts) + ' ' if args.ssh_port: params += str(args.ssh_port) if args.ssh_identity_file: params += args.ssh_identity_file parameters_hash = hashlib.md5(params.encode('utf-8')).hexdigest() fn_cache = cache.Cache(CACHE_FOLDER, CACHE_STALENESS_THRESHOLD_MINUTES, parameters_hash) # è·å–ç½‘å¡ä»¥åŠå…¶ä»–hostçš„ä¿¡æ¯ï¼Œä¾æ®è¿™äº›ä¿¡æ¯ä¼šè¿›è¡Œslotåˆ†é… all_host_names, _ = hosts.parse_hosts_and_slots(args.hosts) remote_host_names = network.filter_local_addresses(all_host_names) nics = driver_service.get_common_interfaces(settings, all_host_names, remote_host_names, fn_cache) if args.run_func: # get the driver IPv4 address driver_ip = network.get_driver_ip(nics) run_func_server = KVStoreServer(verbose=settings.verbose) # å¯åŠ¨å†…éƒ¨KVæœåŠ¡å™¨ run_func_server_port = run_func_server.start_server() put_data_into_kvstore(driver_ip, run_func_server_port, 'runfunc', 'func', args.run_func) # æŠŠ'func', args.run_funcå­˜å‚¨æˆKV command = [sys.executable, '-m', 'horovod.runner.run_task', str(driver_ip), str(run_func_server_port)] try: _launch_job(args, settings, nics, command) results = [None] * args.np for i in range(args.np): results[i] = read_data_from_kvstore(driver_ip, run_func_server_port,'runfunc_result', str(i)) return results finally: run_func_server.shutdown_server() else: command = args.command _launch_job(args, settings, nics, command) # æˆ‘ä»¬é‡ç‚¹è®²è§£è¿™é‡Œ return None ç›®å‰é€»è¾‘å¦‚ä¸‹ï¼š +-----------+ |horovodrun | +-----+-----+ | | v +--------+--------+ | run_commandline | +----+------+-----+ | | +---------+ +--------+ | | | | v v +-----+--------+ +----+--------+ | _run_elastic | | _run_static | | | | | +--------------+ +-------------+ è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»åˆ†æå®Œæˆ horovod çš„å…¥å£ï¼Œä¸‹é¢ä¼šåˆ†æå…·ä½“å¦‚ä½•å¯åŠ¨ Jobã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:3:4","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"3 è¿è¡Œè®­ç»ƒ Job ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:4:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"3.1 _launch_job _launch_job ä¼šæ ¹æ®é…ç½®æˆ–è€…å®‰è£…æƒ…å†µæ¥è¿›è¡Œå…·ä½“è°ƒç”¨ã€‚æˆ‘ä»¬çœ‹åˆ°æœ‰ä¸‰ç§å¯èƒ½ï¼šgloo, mpi, jsã€‚ jsrunçš„èµ„æ–™å¾ˆéš¾æ‰¾ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡ç‚¹çœ‹çœ‹ gloo, mpi è¿™ä¸¤ç§ã€‚ def _launch_job(args, settings, nics, command): env = os.environ.copy() config_parser.set_env_from_args(env, args) def gloo_run_fn(): driver_ip = network.get_driver_ip(nics) gloo_run(settings, nics, env, driver_ip, command) def mpi_run_fn(): mpi_run(settings, nics, env, command) def js_run_fn(): js_run(settings, nics, env, command) run_controller(args.use_gloo, gloo_run_fn, args.use_mpi, mpi_run_fn, args.use_jsrun, js_run_fn, args.verbose) ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:4:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"3.2 run_controller run_controller ä¾ç„¶æ˜¯ä¸€ä¸ªä¸­ä»‹å‡½æ•°ï¼Œå…·ä½“å¯¼å…¥ gloo æˆ–è€… mpiã€‚ def run_controller(use_gloo, gloo_run, use_mpi, mpi_run, use_jsrun, js_run, verbosity): if use_gloo: gloo_run() elif use_mpi: mpi_run() elif use_jsrun: js_run() else: if mpi_built(verbose=verbose): if lsf.LSFUtils.using_lsf() and is_jsrun_installed(): js_run() else: mpi_run() elif gloo_built(verbose=verbose): gloo_run() ç›®å‰é€»è¾‘å¦‚ä¸‹ï¼š +-----------+ |horovodrun | +-----+-----+ | | v +--------+--------+ | run_commandline | +----+------+-----+ | | +---------+ +--------+ | | | | v v +-----+--------+ +----+--------+ | _run_elastic | | _run_static | | | | | +--------------+ +------+------+ | | v +------+------+ | _launch_job | | | +------+------+ | | v +---------+--------+ | run_controller | | | +----+----+-----+--+ | | | +-------------+ | +--------+ | | | | | | v v v +------+---+ +------+----+ +---+-----+ | gloo_run | | mpi_run | | js_run | | | | | | | +----------+ +-----------+ +---------+ äºæ˜¯æˆ‘ä»¬ä¸‹é¢å°±åˆ†ä¸ºä¸¤ä¸ªåˆ†æ”¯ä»‹ç»ï¼šgloo \u0026 mpiã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:4:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"4 Gloo å®ç° ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:5:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"4.1 Gloo ç®€ä»‹ Gloo æ˜¯ facebookå‡ºå“çš„ä¸€ä¸ªç±»ä¼¼MPIçš„é›†åˆé€šä¿¡åº“ï¼ˆhttps://github.com/facebookincubator/glooï¼‰ã€‚ é›†åˆé€šä¿¡åº“çš„ä¸»è¦ç‰¹å¾æ˜¯ï¼šå¤§ä½“ä¸Šä¼šéµç…§ MPI æä¾›çš„æ¥å£è§„å®šï¼Œå®ç°äº†åŒ…æ‹¬ç‚¹å¯¹ç‚¹é€šä¿¡ï¼ˆSEND,RECVç­‰ï¼‰ï¼Œé›†åˆé€šä¿¡ï¼ˆ REDUCEï¼ŒBROADCASTï¼ŒALLREDUCEç­‰ï¼‰ç­‰ç›¸å…³æ¥å£ï¼Œç„¶åæ ¹æ®è‡ªå·±ç¡¬ä»¶æˆ–è€…æ˜¯ç³»ç»Ÿçš„éœ€è¦ï¼Œåœ¨åº•å±‚å®ç°ä¸Šè¿›è¡Œç›¸åº”æ”¹åŠ¨ï¼Œä¿è¯æ¥å£çš„ç¨³å®šå’Œæ€§èƒ½ã€‚ Gloo ä¸ºCPUå’ŒGPUæä¾›äº†é›†åˆé€šä¿¡ç¨‹åºçš„ä¼˜åŒ–å®ç°ã€‚ å®ƒç‰¹åˆ«é€‚ç”¨äºGPUï¼Œå› ä¸ºå®ƒå¯ä»¥æ‰§è¡Œé€šä¿¡è€Œæ— éœ€ä½¿ç”¨GPUDirect å°†æ•°æ®ä¼ è¾“åˆ°CPUçš„å†…å­˜ã€‚ å®ƒè¿˜èƒ½å¤Ÿä½¿ç”¨ NCCL æ‰§è¡Œå¿«é€Ÿçš„èŠ‚ç‚¹å†…é€šä¿¡ï¼Œå¹¶å®ç°å…¶è‡ªå·±çš„èŠ‚ç‚¹é—´ä¾‹ç¨‹è®¡ç®—ã€‚ä½ ä¸éœ€è¦è€ƒè™‘å†…å­˜æ•°æ®çš„æ‹·è´ï¼Œåªéœ€è¦å®ç°é€»è¾‘å°±å¯ä»¥ã€‚ Gloo æ”¯æŒé›†åˆé€šä¿¡ï¼ˆcollective Communicationï¼‰ï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†ä¼˜åŒ–ã€‚ç”±äº GPU ä¹‹é—´å¯ä»¥ç›´æ¥è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œè€Œæ— éœ€ç»è¿‡ CPU å’Œå†…å­˜ï¼Œå› æ­¤ï¼Œåœ¨ GPU ä¸Šä½¿ç”¨ glooåç«¯é€Ÿåº¦æ›´å¿«ã€‚ Horovod ä¸ºä»€ä¹ˆä¼šé€‰æ‹© Glooï¼Ÿä¸ªäººè®¤ä¸ºé™¤äº†å…¶åŠŸèƒ½çš„å…¨é¢æ€§å’Œæ€§èƒ½ä¹‹å¤–ï¼ŒåŸºäºå®ƒå¯ä»¥äºŒæ¬¡å¼€å‘æ˜¯ä¸€ä¸ªäº®ç‚¹ï¼Œæ¯”å¦‚ä¸‹é¢æˆ‘ä»¬æ‰€è¯´çš„ Rendezvous åŠŸèƒ½å°±è¢« Horovod ç”¨æ¥å®ç°å¼¹æ€§è®­ç»ƒï¼ˆæˆ‘ä»¬åæ–‡æœ‰ä¸“é—¨è®²è§£ï¼‰ã€‚ Gloo å’Œ MPI éƒ½èµ·åˆ°äº†åŒæ ·ç±»ä¼¼ä½œç”¨ï¼š ä¸€æ–¹é¢Horovodå†…é›†æˆäº†åŸºäº Gloo çš„AllReduceï¼Œç±»ä¼¼äºNCCLï¼Œéƒ½æ˜¯ç”¨ä½œæ¢¯åº¦è§„çº¦ï¼› å¦ä¸€æ–¹é¢ï¼ŒGloo å¯ä»¥ç”¨æ¥å¯åŠ¨å¤šä¸ªè¿›ç¨‹ï¼ˆHovorodé‡Œç”¨Rankè¡¨ç¤ºï¼‰ï¼Œå®ç°å¹¶è¡Œè®¡ç®—ï¼› å…·ä½“å¦‚ä¸‹ï¼š +-----------------------+ +-----------------------+ +------------------------+ | gloo_run slot 1 | | gloo_run slot 2 | | gloo_run slot 3 | | | | | | | | +-------------------+ | | +------------------+ | | +------------------+ | | | python train.py | | | | python train.py | | | | python train.py | | +----+ +\u003c------+ +\u003c------+ +\u003c------+ | | | | | | | | | | | | | | | | +-------------------+ | | +------------------+ | | +------------------+ | | | | | | | | | | | +-----------------------+ +-----------------------+ +------------------------+ | | | | | | | v--------------------------------------------------------------------------------------\u003e Ring Allreduce on Gloo ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:5:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"4.2 Rendezvous åŠŸèƒ½ 4.2.1 Rendezvous æ¦‚å¿µ åœ¨ Gloo çš„æ–‡æ¡£ä¸­ï¼Œå¦‚æ­¤è¯´: The rendezvous process needs to happen exactly once per Gloo context. It makes participating Gloo processes exchange details for setting up their communication channels. For example, when the TCP transport is used, processes exchange IP address and port number details of listening sockets. Rendezvous can be executed by accessing a key/value store that is accessible by all participating processes. Every process is responsible for setting a number of keys and will wait until their peers have set their keys. The values stored against these keys hold the information that is passed to the transport layer. å¤§è‡´æ„æ€æ˜¯ï¼š Gloo åœ¨æ¯ä¸€ä¸ª Gloo context ä¹‹ä¸­æœ‰ä¸€ä¸ª rendezvous processï¼ŒGloo åˆ©ç”¨å®ƒæ¥äº¤æ¢é€šè®¯éœ€è¦çš„ç»†èŠ‚ã€‚ Rendezvous å…·ä½“å®ç°æ˜¯å¯ä»¥ä¾é è®¿é—®ä¸€ä¸ª KVstore æ¥å®Œæˆã€‚å…·ä½“ç»†èŠ‚å°±æ˜¯é€šè¿‡ KVstore æ¥è¿›è¡Œäº¤äº’ã€‚ ä»¥ Horovod ä¸ºä¾‹ï¼š Horovod åœ¨è¿›è¡Œå®¹é”™ AllReduce è®­ç»ƒæ—¶ï¼Œé™¤äº†å¯åŠ¨ worker è¿›ç¨‹å¤–ï¼Œè¿˜ä¼šå¯åŠ¨ä¸€ä¸ªdriver è¿›ç¨‹ã€‚è¿™ä¸ª driver è¿›ç¨‹ç”¨äºå¸®åŠ© worker è°ƒç”¨ gloo æ„é€  AllReduce é€šä¿¡ç¯ã€‚ driver è¿›ç¨‹ä¸­ä¼šåˆ›å»ºä¸€ä¸ªå¸¦æœ‰ KVStore çš„ RendezvousServerï¼Œdriver ä¼šå°†å‚ä¸é€šä¿¡çš„ worker çš„ ip ç­‰ä¿¡æ¯å­˜å…¥ KVstore ä¸­ã€‚ ç„¶å worker å°±å¯ä»¥è°ƒç”¨ gloo æ¥è®¿é—® RendezvousServer æ„é€ é€šä¿¡ç¯äº†ã€‚ 4.2.2 RendezvousServer å…·ä½“ä»£ç å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å¯åŠ¨äº†RendezvousHTTPServer(å°±æ˜¯ç»§æ‰¿æ‹“å±•äº† HTTPServer): class RendezvousServer: def __init__(self, verbose=0): self._httpd = None self._listen_thread = None self._verbose = verbose # Rendezvous function finds a available port, create http socket, # and start listening loop to handle request # self.httpd.init needs to be called after server start def start(self, handler_cls=RendezvousHandler): # ä¸‹é¢é©¬ä¸Šä»‹ç» self._httpd, port = find_port( lambda addr: RendezvousHTTPServer( addr, handler_cls, self._verbose)) # start the listening loop self._listen_thread = in_thread(target=self._httpd.serve_forever) return port def init(self, host_alloc_plan): self._httpd.init(host_alloc_plan) def stop(self): self._httpd.shutdown() self._listen_thread.join() 4.2.3 KVStore KVStore æ˜¯ç”± KVStoreHandler æ¥ä½“ç°ï¼ŒRendezvousHandler ç»§æ‰¿äº† KVStoreHandlerï¼Œè¿›è€Œè¢« RendezvousServer ä½œä¸º handler ä½¿ç”¨ã€‚ KVStoreHandler ç²¾ç®€ç‰ˆä»£ç å¦‚ä¸‹ï¼š class KVStoreHandler(SimpleHTTPRequestHandler): # Override PUT handler def do_PUT(self): paths = self.path.split('/') _, scope, key = paths # Get body length content_length = int(self.headers['Content-Length']) value = self.rfile.read(content_length) self._put_value(scope, key, value) self.send_status_code(OK) def _put_value(self, scope, key, value): with self.server.cache_lock: scope_dict = self.server.cache.setdefault(scope, {}) scope_dict[key] = value 4.2.4 åº•å±‚ä½¿ç”¨ Rendezvous å…·ä½“å¦‚ä½•ä½¿ç”¨ï¼Ÿç®€è¦çš„è¯´ï¼š Pythonä¸–ç•Œæ„å»ºäº†ä¸€ä¸ª RendezvousServerï¼Œå…¶åœ°å€é…ç½®åœ¨ç¯å¢ƒå˜é‡ï¼ˆæˆ–è€…å…¶ä»–æ–¹å¼ï¼‰ä¸­ã€‚ åœ¨ C++ ä¸–ç•Œä¸­ï¼Œæ¯”å¦‚ horovod/common/gloo/gloo_context.hï¼Œhorovod/common/gloo/gloo_context.cc ä¹‹ä¸­æœ‰ä½¿ç”¨ã€‚å³å¾—åˆ° Python é…ç½®çš„ RendezvousServer çš„åœ°å€ç«¯å£ç­‰ï¼Œç„¶åæ„å»º gloo æ‰€éœ€çš„ contextã€‚ #define HOROVOD_HOSTNAME \"HOROVOD_HOSTNAME\" #define HOROVOD_RANK \"HOROVOD_RANK\" #define HOROVOD_SIZE \"HOROVOD_SIZE\" #define HOROVOD_LOCAL_RANK \"HOROVOD_LOCAL_RANK\" #define HOROVOD_LOCAL_SIZE \"HOROVOD_LOCAL_SIZE\" #define HOROVOD_CROSS_RANK \"HOROVOD_CROSS_RANK\" #define HOROVOD_CROSS_SIZE \"HOROVOD_CROSS_SIZE\" #define HOROVOD_ELASTIC \"HOROVOD_ELASTIC\" ctx = Rendezvous(HOROVOD_GLOO_GLOBAL_PREFIX, rendezvous_addr_env, rendezvous_port, rank, size, dev, timeout); local_ctx = Rendezvous(HOROVOD_GLOO_LOCAL_PREFIX + hostname, rendezvous_addr_env, rendezvous_port, local_rank, local_size, dev, timeout); cross_ctx = Rendezvous(HOROVOD_GLOO_CROSS_PREFIX + std::to_string(local_rank), rendezvous_addr_env, rendezvous_port, cross_rank, cross_size, dev, timeout); é€»è¾‘å¦‚ä¸‹ï¼ŒC++ä¸–ç•Œä¼šä»pythonä¸–ç•Œçš„è·å–åˆ°RendezvousServerçš„ IPï¼Œportï¼š +---------------------\u003e System Env +------------------+ | addr, port, ... addr, port, ... | | + | | | | | | | | | | | | | | | | | Python | C++ | | | | | | | | | | | | v +---------+---------------+ | +------------+--------+ | RendezvousServer | | |GlooContext | | | | | | | | | | | | | | | | | RendezvousHandler | | | Rendezvous | | | | | | +-------------------------+ | +---------------------+ | + ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:5:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"4.3 Horovd çš„ gloo å…¥å£ gloo_run æ˜¯ horovod ä¹‹ä¸­ï¼Œgloo æ¨¡å—çš„ ç›¸å…³å…¥å£ã€‚ æ³¨é‡Šè¯´çš„å¾ˆæ¸…æ¥šï¼šæ¯ä¸€ä¸ª thread å°†ä½¿ç”¨ ssh å‘½ä»¤åœ¨è¿œç¨‹hostä¹‹ä¸Šå¯åŠ¨è®­ç»ƒjobã€‚ def gloo_run(settings, nics, env, server_ip, command): # Each thread will use ssh command to launch the job on each remote host. If an # error occurs in one thread, entire process will be terminated. Otherwise, # threads will keep running and ssh session. exec_command = _exec_command_fn(settings) launch_gloo(command, exec_command, settings, nics, env, server_ip) å°±æ˜¯ç”¨ launch_gloo æ¥è¿è¡Œ exec_commandã€‚ æ­¤æ—¶ command å‚æ•°ç±»ä¼¼ \"['python', 'train.py']\"ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:5:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"4.4 æ„å»ºå¯æ‰§è¡Œç¯å¢ƒ gloo_run çš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯ exec_command = _exec_command_fn(settings)ï¼Œå°±æ˜¯åŸºäºå„ç§é…ç½®æ¥ç”Ÿæˆå¯ä»¥æ‰§è¡Œå‘½ä»¤ç¯å¢ƒã€‚å¦‚æœæ˜¯è¿œç¨‹ï¼Œå°±å¾—ç”Ÿæˆç›¸å…³è¿œç¨‹å¯è¿è¡Œå‘½ä»¤ç¯å¢ƒï¼ˆåŒ…æ‹¬åˆ‡æ¢ç›®å½•ï¼Œè¿œç¨‹æ‰§è¡Œç­‰ç­‰ï¼‰ã€‚ 4.4.1 _exec_command_fn å…·ä½“åˆå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š åˆ©ç”¨ get_remote_command æ¥ç”Ÿæˆç›¸å…³è¿œç¨‹å¯è¿è¡Œç¯å¢ƒï¼Œæ¯”å¦‚åœ¨è®­ç»ƒè„šæœ¬å‰é¢åŠ ä¸Š 'ssh -o PasswordAuthentication=no -o StrictHostKeyChecking=no'ï¼› è°ƒæ•´è¾“å…¥è¾“å‡ºï¼Œåˆ©ç”¨ safe_shell_exec.execute æ¥å®ç°å®‰å…¨æ‰§è¡Œèƒ½åŠ›ï¼› å…·ä½“å¦‚ä¸‹ï¼š def _exec_command_fn(settings): \"\"\" executes the jobs defined by run command on hosts. :param hosts_alloc: list of dict indicating the allocating info. For example, [{'Hostname':'worker-0', 'Rank': 0, 'Local_rank': 0, 'Cross_rank':0, 'Size':2, 'Local_size':1, 'Cross_size':2}, {'Hostname':'worker-1', 'Rank': 1, 'Local_rank': 0, 'Cross_rank':1, 'Size':2, 'Local_size':1, 'Cross_size':2} ] :type hosts_alloc: list(dict) :param remote_host_names: names that are resolved to one of the addresses of remote hosts interfaces. :param _run_command: command to execute \"\"\" def _exec_command(command, slot_info, events): index = slot_info.rank host_name = slot_info.hostname host_address = network.resolve_host_address(host_name) local_addresses = network.get_local_host_addresses() # éœ€è¦æ„å»ºè¿œç¨‹å‘½ä»¤ if host_address not in local_addresses: local_command = quote('cd {pwd} \u003e /dev/null 2\u003e\u00261 ; {command}' .format(pwd=os.getcwd(), command=command)) command = get_remote_command(local_command, host=host_name, port=settings.ssh_port, identity_file=settings.ssh_identity_file) # Redirect output if requested # è°ƒæ•´è¾“å…¥è¾“å‡ºï¼Œåˆ©ç”¨ safe_shell_exec.execute æ¥å®ç°å®‰å…¨æ‰§è¡Œèƒ½åŠ› stdout = stderr = None stdout_file = stderr_file = None if settings.output_filename: padded_rank = _pad_rank(index, settings.num_proc) output_dir_rank = os.path.join(settings.output_filename, 'rank.{rank}'.format(rank=padded_rank)) if not os.path.exists(output_dir_rank): os.mkdir(output_dir_rank) stdout_file = open(os.path.join(output_dir_rank, 'stdout'), 'w') stderr_file = open(os.path.join(output_dir_rank, 'stderr'), 'w') stdout = MultiFile([sys.stdout, stdout_file]) stderr = MultiFile([sys.stderr, stderr_file]) # å®ç°å®‰å…¨æ‰§è¡Œèƒ½åŠ› exit_code = safe_shell_exec.execute(command, index=index, stdout=stdout, stderr=stderr, events=events,...) return exit_code, time.time() return _exec_command 4.4.2 get_remote_command æœ¬å‡½æ•°æ˜¯é’ˆå¯¹è¿œç¨‹ hostï¼Œè·å–å¦‚ä½•åœ¨å…¶ä¸Šè¿è¡Œçš„æ–¹å¼ã€‚è¿™ä¸ªå‡½æ•°æ˜¯æ¯”è¾ƒæ–°åŠ å…¥çš„ï¼Œå…·ä½“å’Œ kubeflow mpi operator ä¹Ÿç›¸å…³ï¼Œä»¥åæœ‰æœºä¼šå†åˆ†æã€‚ SSH_COMMAND_PREFIX = 'ssh -o PasswordAuthentication=no -o StrictHostKeyChecking=no' def get_ssh_command(local_command, host, port=None, identity_file=None, timeout_s=None): port_arg = f'-p {port}' if port is not None else '' identity_file_arg = f'-i {identity_file}' if identity_file is not None else '' timeout_arg = f'-o ConnectTimeout={timeout_s}' if timeout_s is not None else '' return f'{SSH_COMMAND_PREFIX} {host} {port_arg} {identity_file_arg} {timeout_arg} {local_command}' def get_remote_command(local_command, host, port=None, identity_file=None, timeout_s=None): return f'{env_util.KUBEFLOW_MPI_EXEC} {host} {local_command}' if env_util.is_kubeflow_mpi() \\ else get_ssh_command(local_command, host, port, identity_file, timeout_s) å¤§è‡´é€»è¾‘å¦‚ä¸‹ï¼š command : python train.py + | | v +---------+-------------+ | | | get_remote_command | | | +---------+-------------+ | | v ssh -o ... python train.py + | | | v +---------+--------------+ |safe_shell_exec.execute | | | +------------------------+ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:5:4","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"4.5 ä½¿ç”¨ gloo æ‰§è¡Œå‘½ä»¤ è·å–åˆ°äº†å¯æ‰§è¡Œç¯å¢ƒ exec_command ä¸ æ‰§è¡Œå‘½ä»¤ command ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ gloo æ¥æ‰§è¡Œå‘½ä»¤äº†ã€‚ æ¯ä¸ª command éƒ½æ˜¯è¢« exec_command æ¥æ‰§è¡Œã€‚ launch_gloo æ¥è·å–å‘½ä»¤ï¼Œå„ç§é…ç½®ä¿¡æ¯ï¼Œç½‘å¡ä¿¡æ¯ï¼ˆnicsï¼Œæ¯”å¦‚ {â€™loâ€™}ï¼‰ï¼Œhostä¿¡æ¯ç­‰ï¼Œç„¶åå¼€å§‹è¿è¡Œï¼Œå°±æ˜¯å¼€å§‹è¿è¡Œæˆ‘ä»¬çš„è®­ç»ƒä»£ç äº†ï¼Œå…·ä½“æ˜¯ï¼š å»ºç«‹ RendezvousServerï¼Œè¿™ä¸ªä¼šè¢«åº•å±‚ Gloo C++ ç¯å¢ƒä½¿ç”¨åˆ°; host_alloc_plan = get_host_assignments æ¥æ ¹æ®hostè¿›è¡Œåˆ†é…slotï¼Œå°±æ˜¯horovodçš„å“ªä¸ªrankåº”è¯¥åœ¨å“ªä¸ªhostä¸Šçš„å“ªä¸ªslotä¹‹ä¸Šè¿è¡Œï¼› get_run_command è·å–åˆ°å¯æ‰§è¡Œå‘½ä»¤ï¼› slot_info_to_command_fn æ¥å¾—åˆ°åœ¨slotä¹‹ä¸Šå¯æ‰§è¡Œçš„ slot commandï¼› ä¾æ® slot_info_to_command_fn æ„å»º args_listï¼Œè¿™ä¸ª list ä¹‹ä¸­ï¼Œæ¯ä¸€ä¸ªargå°±æ˜¯ä¸€ä¸ª slot commandï¼› å¤šçº¿ç¨‹æ‰§è¡Œï¼Œåœ¨æ¯ä¸€ä¸ª exec_command ä¹‹ä¸Šæ‰§è¡Œæ¯ä¸€ä¸ª argï¼ˆslot commandï¼‰ï¼› ä»£ç å¦‚ä¸‹ï¼š def launch_gloo(command, exec_command, settings, nics, env, server_ip): \"\"\" Launches the given command multiple times using gloo. Each command is launched via exec_command. :param command: command to launch :param exec_command: means to execute a single command :param settings: settings for the distribution :param nics: common interfaces :param env: environment to use :param server_ip: ip to use for rendezvous server \"\"\" # Make the output directory if it does not exist if settings.output_filename: _mkdir_p(settings.output_filename) # start global rendezvous server and get port that it is listening on # å»ºç«‹ RendezvousServerï¼Œè¿™ä¸ªä¼šè¢«åº•å±‚ Gloo C++ ç¯å¢ƒä½¿ç”¨åˆ° rendezvous = RendezvousServer(settings.verbose) # allocate processes into slots # æ¥æ ¹æ®hostè¿›è¡Œåˆ†é…slotï¼Œå°±æ˜¯horovodçš„å“ªä¸ªrankåº”è¯¥åœ¨å“ªä¸ªhostä¸Šçš„å“ªä¸ªslotä¹‹ä¸Šè¿è¡Œ hosts = parse_hosts(settings.hosts) host_alloc_plan = get_host_assignments(hosts, settings.num_proc) # start global rendezvous server and get port that it is listening on global_rendezv_port = rendezvous.start() rendezvous.init(host_alloc_plan) # è·å–åˆ°å¯æ‰§è¡Œå‘½ä»¤ run_command = get_run_command(command, server_ip, nics, global_rendezv_port) # å¾—åˆ°åœ¨slotä¹‹ä¸Šå¯æ‰§è¡Œçš„ slot command slot_info_to_command = _slot_info_to_command_fn(run_command, env) event = register_shutdown_event() # ä¾æ® slot_info_to_command_fn æ„å»º args_listï¼Œè¿™ä¸ª list ä¹‹ä¸­ï¼Œæ¯ä¸€ä¸ªargå°±æ˜¯ä¸€ä¸ª slot command args_list = [[slot_info_to_command(slot_info), slot_info, [event]] for slot_info in host_alloc_plan] # If an error occurs in one thread, entire process will be terminated. # Otherwise, threads will keep running. # å¤šçº¿ç¨‹æ‰§è¡Œï¼Œåœ¨æ¯ä¸€ä¸ª exec_command ä¹‹ä¸Šæ‰§è¡Œæ¯ä¸€ä¸ª argï¼ˆslot commandï¼‰ res = threads.execute_function_multithreaded(exec_command, args_list, block_until_all_done=True) for name, value in sorted(res.items(), key=lambda item: item[1][1]): exit_code, timestamp = value å…·ä½“ HostInfo.from_string ä¿¡æ¯å¦‚ä¸‹ï¼š class HostInfo: def __init__(self, hostname, slots): self.hostname = hostname self.slots = slots @staticmethod def from_string(host_string): hostname, slots = host_string.strip().split(':') return HostInfo(hostname, int(slots)) 4.5.1.2 åˆ†é…æ–¹æ¡ˆ get_host_assignments ä¼šä¾æ® host å’Œ process capacities (slots) æ¥ç»™ Horovod ä¹‹ä¸­çš„è¿›ç¨‹åˆ†é…ï¼Œå³ç»™å‡ºä¸€ä¸ª horovod rank å’Œ slot çš„å¯¹åº”å…³ç³»ã€‚è®¾ç½®äº†å‡ ä¸ª npï¼Œå°±æœ‰å‡ ä¸ª slotã€‚ ç»™å‡ºçš„åˆ†é…æ–¹æ¡ˆç±»ä¼¼å¦‚ä¸‹ï¼Œè¿™æ ·å°±çŸ¥é“äº†å“ªä¸ªrankå¯¹åº”äºå“ªä¸ªhostä¸Šçš„å“ªä¸ªslotï¼š [ SlotInfo(hostname='h1', rank=0, local_rank=0, cross_rank=0, size=2, local_size=2, coress_size=1), SlotInfo(hostname='h2', rank=1, local_rank=0, cross_rank=0, size=2, local_size=2, coress_size=1), ] def get_host_assignments(hosts, min_np, max_np=None): \"\"\"Assign hosts with process capacities (slots) to ranks in the Horovod process. This function will try to allocate as many as possible processes on the same host to leverage local network. :param hosts: list of HostInfo objects describing host and slot capacity :type hosts: list[HostInfo] :param min_np: minimum number of processes to be allocated :param max_np: (optional) maximum number of processes to be allocated :return: a list of the allocation of process on hosts in a `SlotInfo` object. :rtype: list[SlotInfo] \"\"\" host_ranks = [] cross_ranks = collections.defaultdict(dict) rank = 0 # ä¾æ® hosts ä¿¡æ¯æ„å»º rank, local rank, cross rank(hierarchical allreduceæ‰€éœ€è¦) for host_info in hosts: ranks = [] for local_rank in range(host_info.slots): if rank == max_np: break ranks.append(rank) rank += 1 cross_ranks_at_local = cross_ranks[local_rank] cross_ranks_at_local[host_info.hostname] = len(cross_ranks_at_local) host_ranks.append((host_info, ranks)) world_size = rank # ç»™å‡ºä¸€ä¸ª ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:5:5","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"4.6 C++ä¸¾ä¾‹ æˆ‘ä»¬ç»™å‡ºä¸€ä¸ªåº•å±‚ä»£ç ï¼Œå¤§å®¶å°±è¿›ä¸€æ­¥äº†è§£ Gloo å¯ä»¥èµ·åˆ°ä»€ä¹ˆä½œç”¨ã€‚ è¿™ä¸ªå°±æ˜¯ Horovod ä¹‹ä¸­ï¼Œrank 0 æœ€ç»ˆç»™å…¶ä»– rank å‘é€æ„å»ºå¥½çš„ Tensorã€‚ void GlooController::SendFinalTensors(ResponseList\u0026 response_list) { // Notify all nodes which tensors we'd like to reduce at this step. std::string encoded_response; ResponseList::SerializeToString(response_list, encoded_response); // Boardcast the response length int encoded_response_length = (int)encoded_response.length() + 1; { gloo::BroadcastOptions opts(gloo_context_.ctx); opts.setOutput(\u0026encoded_response_length, 1); opts.setRoot(RANK_ZERO); gloo::broadcast(opts); // å¹¿æ’­ç»™å…¶ä»–rank } // Boardcast the response { gloo::BroadcastOptions opts(gloo_context_.ctx); opts.setOutput((uint8_t*)(encoded_response.c_str()), encoded_response_length); opts.setRoot(RANK_ZERO); gloo::broadcast(opts); // å¹¿æ’­ç»™å…¶ä»–rank } } ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:5:6","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"5 Mpi å®ç° ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:6:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"5.1 openmpi åº“ horovod è¿™é‡Œä¸»è¦ä¾èµ– openmpiã€‚ MPIï¼šè‹±æ–‡å…¨ç§°æ˜¯Message Passing Interfaceï¼ŒMPIæ˜¯ä¸€ä¸ªè·¨è¯­è¨€çš„é€šè®¯åè®®ï¼Œç”¨äºç¼–å†™å¹¶è¡Œè®¡ç®—æœºã€‚æ”¯æŒç‚¹å¯¹ç‚¹å’Œå¹¿æ’­ã€‚MPIæ˜¯ä¸€ä¸ªä¿¡æ¯ä¼ é€’åº”ç”¨ç¨‹åºæ¥å£ï¼ŒåŒ…æ‹¬åè®®å’Œå’Œè¯­ä¹‰è¯´æ˜ï¼Œä»–ä»¬æŒ‡æ˜å…¶å¦‚ä½•åœ¨å„ç§å®ç°ä¸­å‘æŒ¥å…¶ç‰¹æ€§ã€‚MPIçš„ç›®æ ‡æ˜¯é«˜æ€§èƒ½ï¼Œå¤§è§„æ¨¡æ€§ï¼Œå’Œå¯ç§»æ¤æ€§ã€‚ openMPIï¼šè‹±æ–‡å…¨ç§°æ˜¯open Message Passing Interfaceã€‚openMPIæ˜¯MPIçš„ä¸€ç§å®ç°ï¼Œä¸€ç§åº“é¡¹ç›®ã€‚ MPIåœ¨Hovorodçš„è§’è‰²æ¯”è¾ƒç‰¹æ®Šï¼š ä¸€æ–¹é¢Horovodå†…é›†æˆäº†åŸºäºMPIçš„AllReduceï¼Œç±»ä¼¼äºNCCLï¼Œéƒ½æ˜¯ç”¨ä½œæ¢¯åº¦è§„çº¦ï¼› å¦ä¸€æ–¹é¢ï¼ŒMPIå¯ä»¥ç”¨æ¥åœ¨æ‰€æœ‰æœºå™¨ä¸Šå¯åŠ¨å¤šä¸ªè¿›ç¨‹(Hovorodé‡Œç”¨Rankè¡¨ç¤º)ï¼Œå®ç°å¹¶è¡Œè®¡ç®—ï¼› ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:6:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"5.2 mpi_run å‡½æ•° æ­¤éƒ¨åˆ†ä»£ç ä½äºï¼šhorovod/runner/mpi_run.pyã€‚ é¦–å…ˆæ‘˜å½•å…¶å…³é”®ä»£ç å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹å‡ºæ¥å…¶æ ¸å¿ƒæ˜¯è¿è¡Œ mpirun å‘½ä»¤ã€‚ # æˆ‘æ˜¯ä¸‹é¢å¤§æ®µä»£ç ä¸­çš„å…³é”®ä»£ç ï¼ mpirun_command = ( 'mpirun {basic_args} ' '-np {num_proc}{ppn_arg}{hosts_arg} ' '{binding_args} ' '{mpi_args} ' '{mpi_ssh_args} ' '{tcp_intf_arg} ' '{nccl_socket_intf_arg} ' '{output_filename_arg} ' '{env} {extra_mpi_args} {command}' .format(basic_args=basic_args, num_proc=settings.num_proc, ppn_arg=ppn_arg, hosts_arg=hosts_arg, binding_args=binding_args, mpi_args=' '.join(mpi_impl_flags), tcp_intf_arg=tcp_intf_arg, nccl_socket_intf_arg=nccl_socket_intf_arg, mpi_ssh_args=mpi_ssh_args, output_filename_arg=' '.join(output), env=env_list, extra_mpi_args=settings.extra_mpi_args if settings.extra_mpi_args else '', command=' '.join(quote(par) for par in command)) ) # Execute the mpirun command. if settings.run_func_mode: exit_code = safe_shell_exec.execute(mpirun_command, env=env, stdout=stdout, stderr=stderr) else: os.execve('/bin/sh', ['/bin/sh', '-c', mpirun_command], env) å°±æ˜¯ä¾æ®å„ç§é…ç½®ä»¥åŠå‚æ•°æ¥æ„å»º mpirun å‘½ä»¤çš„æ‰€æœ‰å‚æ•°ï¼Œæ¯”å¦‚ ssh çš„å‚æ•°ï¼Œmpi å‚æ•°ï¼Œnccl å‚æ•°ç­‰ç­‰ã€‚ æœ€åå¾—åˆ°çš„ mpirun å‘½ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š mpirun --allow-run-as-root --np 2 -bind-to none -map-by slot \\ -x NCCL_DEBUG=INFO -x LD_LIBRARY_PATH -x PATH \\ -mca pml ob1 -mca btl ^openib \\ python train.py å…·ä½“ä»£ç å¦‚ä¸‹ï¼Œå…·ä½“æ˜¯ï¼š # ä¸Šé¢ä»£ç æ˜¯æˆ‘ä¹‹ä¸­çš„ç‰‡æ®µ def mpi_run(settings, nics, env, command, stdout=None, stderr=None): \"\"\" Runs mpi_run. Args: settings: Settings for running MPI. Note: settings.num_proc and settings.hosts must not be None. nics: Interfaces to include by MPI. env: Environment dictionary to use for running command. command: Command and arguments to run as a list of string. stdout: Stdout of the mpi process. Only used when settings.run_func_mode is True. stderr: Stderr of the mpi process. Only used when settings.run_func_mode is True. \"\"\" # å¾—åˆ°å„ç§é…ç½® mpi_impl_flags, impl_binding_args, mpi = _get_mpi_implementation_flags(settings.tcp_flag, env=env) impi = _IMPI_IMPL == mpi # å¤„ç†sshå‚æ•° ssh_args = [] if settings.ssh_port: ssh_args += [f'-p {settings.ssh_port}'] if settings.ssh_identity_file: ssh_args += [f'-i {settings.ssh_identity_file}'] mpi_ssh_args = '' if ssh_args: joined_ssh_args = ' '.join(ssh_args) mpi_ssh_args = f'-bootstrap=ssh -bootstrap-exec-args \\\"{joined_ssh_args}\\\"' if impi else f'-mca plm_rsh_args \\\"{joined_ssh_args}\\\"' # å¤„ç†ç½‘ç»œé…ç½®ï¼Œç½‘å¡ä¿¡æ¯ç­‰ tcp_intf_arg = '-mca btl_tcp_if_include {nics}'.format( nics=','.join(nics)) if nics and not impi else '' nccl_socket_intf_arg = '-{opt} NCCL_SOCKET_IFNAME={nics}'.format( opt='genv' if impi else 'x', nics=','.join(nics)) if nics else '' # å¤„ç†hostä¿¡æ¯ # On large cluster runs (e.g. Summit), we need extra settings to work around OpenMPI issues host_names, host_to_slots = hosts.parse_hosts_and_slots(settings.hosts) if not impi and host_names and len(host_names) \u003e= _LARGE_CLUSTER_THRESHOLD: mpi_impl_flags.append('-mca plm_rsh_no_tree_spawn true') mpi_impl_flags.append('-mca plm_rsh_num_concurrent {}'.format(len(host_names))) # if user does not specify any hosts, mpirun by default uses local host. # There is no need to specify localhost. hosts_arg = '-{opt} {hosts}'.format(opt='hosts' if impi else 'H', hosts=','.join(host_names) if host_names and impi else settings.hosts) # å¤„ç†ppné…ç½® ppn_arg = ' ' if host_to_slots and impi: ppn = host_to_slots[host_names[0]] for h_name in host_names[1:]: ppn_arg = ' -ppn {} '.format(ppn) # å¤„ç†è¶…æ—¶é…ç½® if settings.prefix_output_with_timestamp and not impi: mpi_impl_flags.append('--timestamp-output') binding_args = settings.binding_args if settings.binding_args and not impi else ' '.join(impl_binding_args) # é…ç½®éœ€è¦rootèº«ä»½è¿è¡Œ basic_args = '-l' if impi else '--allow-run-as-root --tag-output' output = [] if settings.output_filename: output.append('-outfile-pattern' if impi else '--output-filename') output.append(settings.output_filename) # æ„å»ºç¯å¢ƒä¿¡æ¯åˆ—è¡¨ env_list = '' if impi else ' '.join( '-x %s' % key for key in sorted(env.keys()) if env_util.is_exportable(key)) # æ„å»ºæœ€ç»ˆçš„ MPI å‘½ä»¤ # Pass all the env variables to the mpirun command. mpirun_command = ( 'mpirun {basic_args} ' '-np {num_proc}{ppn_","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:6:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"5.3 mpirunå‘½ä»¤ å› ä¸º mpi_run ä½¿ç”¨çš„æ˜¯ mpirun å‘½ä»¤æ¥è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹ã€‚ mpirunæ˜¯MPIç¨‹åºçš„å¯åŠ¨è„šæœ¬ï¼Œå®ƒç®€åŒ–äº†å¹¶è¡Œè¿›ç¨‹çš„å¯åŠ¨è¿‡ç¨‹ï¼Œå°½å¯èƒ½å±è”½äº†åº•å±‚çš„å®ç°ç»†èŠ‚ï¼Œä»è€Œä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªé€šç”¨çš„MPIå¹¶è¡Œæœºåˆ¶ã€‚ åœ¨ç”¨mpirunå‘½ä»¤æ‰§è¡Œå¹¶è¡Œç¨‹åºæ—¶ï¼Œå‚æ•°-npæŒ‡æ˜äº†éœ€è¦å¹¶è¡Œè¿è¡Œçš„è¿›ç¨‹ä¸ªæ•°ã€‚mpiruné¦–å…ˆåœ¨æœ¬åœ°ç»“ç‚¹ä¸Šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œç„¶åæ ¹æ®/usr/local/share/machines.LINUXæ–‡ä»¶ä¸­æ‰€åˆ—å‡ºçš„ä¸»æœºï¼Œä¸ºæ¯ä¸ªä¸»æœºå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ã€‚è‹¥è¿›ç¨‹æ•°æ¯”å¯ç”¨çš„å¹¶è¡ŒèŠ‚ç‚¹æ•°å¤šï¼Œåˆ™å¤šä½™çš„è¿›ç¨‹å°†é‡æ–°æŒ‰ç…§ä¸Šè¿°è§„åˆ™è¿›è¡Œã€‚æŒ‰è¿™ä¸ªæœºåˆ¶åˆ†é…å¥½è¿›ç¨‹åï¼Œä¸€èˆ¬ä¼šç»™æ¯ä¸ªèŠ‚ç‚¹åˆ†ä¸€ä¸ªå›ºå®šçš„æ ‡å·ï¼Œç±»ä¼¼äºèº«ä»½è¯äº†ï¼Œåç»­åœ¨æ¶ˆæ¯ä¼ é€’ä¸­ä¼šç”¨åˆ°ã€‚ è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå®é™…è¿è¡Œçš„ orterun(Open MPI SPMD / MPMDå¯åŠ¨å™¨; mpirun / mpiexecåªæ˜¯å®ƒçš„ç¬¦å·é“¾æ¥) å‘½ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š mpirun -np 4 \\ -bind-to none -map-by slot \\ -x NCCL_DEBUG=INFO -x LD_LIBRARY_PATH -x PATH \\ -mca pml ob1 -mca btl ^openib \\ python train.py ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:6:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"6 æ€»ç»“ å¯¹æ¯” gloo å’Œ mpi çš„å®ç°ï¼Œæˆ‘ä»¬è¿˜æ˜¯èƒ½çœ‹å‡ºæ¥åŒºåˆ«ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:7:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"6.1 gloo gloo åªæ˜¯ä¸€ä¸ªåº“ï¼Œéœ€è¦ horovod æ¥å®Œæˆå‘½ä»¤åˆ†å‘åŠŸèƒ½ã€‚ gloo éœ€è¦ horovod è‡ªå·±å®ç°æœ¬åœ°è¿è¡Œå’Œè¿œç«¯è¿è¡Œæ–¹å¼ï¼Œå³ get_remote_command å‡½æ•° å®ç° 'ssh -o PasswordAuthentication=no -o StrictHostKeyChecking=no'ã€‚ gloo éœ€è¦å®ç° RendezvousServerï¼Œåº•å±‚ä¼šåˆ©ç”¨ RendezvousServer è¿›è¡Œé€šè®¯ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:7:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"6.2 mpi mpi åˆ™åŠŸèƒ½å¼ºå¤§å¾ˆå¤šï¼Œåªè¦æŠŠå‘½ä»¤é…ç½®æˆè¢« mpirun åŒ…è£…ï¼Œopenmpi å°±å¯ä»¥è‡ªè¡Œå®Œæˆå‘½ä»¤åˆ†å‘æ‰§è¡Œã€‚è¯´åˆ°åº•ï¼Œhorovod æ˜¯ä¸€ä¸ª mpirun ç¨‹åºï¼Œå³ä½¿è¿è¡Œäº† tensor flowï¼Œä¹Ÿæ˜¯ä¸€ä¸ªmpiç¨‹åºï¼Œå¯ä»¥äº’ç›¸äº¤äº’ã€‚ references: [1]. https://www.cnblogs.com/rossiXYZ/p/14881812.html ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_3/:7:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ horovod[3] -- HorovodrunèƒŒååšäº†ä»€ä¹ˆ","uri":"/posts/2022-10-08_horovod_3/"},{"categories":["Distributed Computing"],"content":"0 æ‘˜è¦ Horovod æ˜¯Uberäº2017å¹´å‘å¸ƒçš„ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ï¼Œåœ¨ä¸šç•Œå¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚ æœ¬ç³»åˆ—å°†é€šè¿‡æºç åˆ†ææ¥å¸¦é¢†å¤§å®¶äº†è§£ Horovodã€‚ç³»åˆ—å¤§çº¦æœ‰15 ï½ 18 ç¯‡ï¼Œæœ¬æ–‡æ˜¯ç³»åˆ—ç¬¬äºŒç¯‡ï¼Œä»ç”¨æˆ·è§’åº¦åˆ‡å…¥ Horovodã€‚ å‰ä¸€ç¯‡å‚è§å¦‚ä¸‹ï¼š æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] â€“ åŸºç¡€çŸ¥è¯† ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:1:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"1 Horovod ç®€ä»‹ Horovod æ˜¯Uberäº2017å¹´å‘å¸ƒçš„ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ï¼Œæ”¯æŒTensorFlowï¼ŒKerasï¼ŒPyTorchå’ŒMXNetã€‚Horovod çš„åå­—æ¥è‡ªäºä¿„å›½ä¼ ç»Ÿæ°‘é—´èˆè¹ˆï¼Œèˆè€…æ‰‹ç‰µæ‰‹å›´æˆä¸€ä¸ªåœˆè·³èˆï¼Œä¸åˆ†å¸ƒå¼ TensorFlow æµç¨‹ä½¿ç”¨ Horovod äº’ç›¸é€šä¿¡çš„åœºæ™¯å¾ˆåƒã€‚ å› ä¸ºå„ä¸ªæœºå™¨å­¦ä¹ æ¡†æ¶å¯¹äºåº•å±‚é›†åˆé€šä¿¡åº“ï¼ˆ ncclï¼Œopenmpiï¼Œgloo ç­‰ç­‰ï¼‰çš„åˆ©ç”¨æ°´å¹³å¯èƒ½å„ä¸ç›¸åŒï¼Œä½¿å¾—ä»–ä»¬æ— æ³•å……åˆ†åˆ©ç”¨è¿™äº›åº•å±‚é›†åˆé€šä¿¡åº“çš„å¨åŠ›ã€‚å› è€Œï¼Œhovorod å°±æ•´åˆè¿™äº›æ¡†æ¶ï¼Œæä¾›ä¸€ä¸ªæ˜“ç”¨é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚ Uberçš„å·¥ç¨‹å¸ˆå°±æ˜¯æ ¹æ®FaceBookçš„ä¸€ç¯‡paperï¼šâ€œAccurate, Large Minibatch SGD: Training ImageNet in 1 Hourâ€å’Œç™¾åº¦çš„ä¸€ç¯‡â€œBringing HPC Techniques to Deep Learningâ€ æ”¹è¿›å¹¶å‘å¸ƒäº†å¼€æºæ¡†æ¶Horovodã€‚ Horovod ç›¸æ¯”äºç™¾åº¦çš„å·¥ä½œï¼Œå¹¶æ— å­¦æœ¯ä¸Šçš„è´¡çŒ®ã€‚ä½†æ˜¯ Horovod æ‰å®çš„å·¥ç¨‹å®ç°ï¼Œä½¿å¾—å®ƒå—åˆ°äº†æ›´å¤šçš„å…³æ³¨ã€‚å®ƒæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºå¯¹ RingAllReduce è¿›è¡Œäº†æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ï¼Œä½¿å…¶æ”¯æŒå¤šç§ä¸åŒçš„æ¡†æ¶ã€‚åŒæ—¶å¼•å…¥äº† Nvidia NCCLï¼Œå¯¹ GPU æ›´åŠ å‹å¥½ã€‚ Horovodä¾èµ–äºNvidiaçš„ NCCL2 åš All Reduceï¼Œä¾èµ–äºMPIåšè¿›ç¨‹é—´é€šä¿¡ï¼Œç®€åŒ–äº†åŒæ­¥å¤š GPU æˆ–å¤šèŠ‚ç‚¹åˆ†å¸ƒå¼è®­ç»ƒçš„å¼€å‘æµç¨‹ã€‚ç”±äºä½¿ç”¨äº†NCCL2ï¼ŒHorovodä¹Ÿå¯ä»¥åˆ©ç”¨ä»¥ä¸‹åŠŸèƒ½ï¼šNVLINKï¼ŒRDMAï¼ŒGPUDirectRDMAï¼Œè‡ªåŠ¨æ£€æµ‹é€šä¿¡æ‹“æ‰‘ï¼Œèƒ½å¤Ÿå›é€€åˆ° PCIe å’Œ TCP/IP é€šä¿¡ã€‚ æˆ‘ä»¬éœ€è¦å‡ ä¸ªé—®é¢˜æ¥å¼•å¯¼åˆ†æï¼š Hovorod æ€ä¹ˆè¿›è¡Œæ•°æ®åˆ†å‰²ï¼Ÿ Hovorod æ€ä¹ˆè¿›è¡Œè®­ç»ƒä»£ç åˆ†å‘ï¼Ÿ Hovorod å¯åŠ¨æ—¶å€™ï¼Œpython å’Œ C++ éƒ½åšäº†ä»€ä¹ˆï¼Ÿ å¦‚ä½•ç¡®ä¿ Hovorod å¯åŠ¨æ—¶å€™æ­¥éª¤ä¸€è‡´ï¼› ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:2:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"2 Hovorod æœºåˆ¶æ¦‚è¿° ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:3:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"2.1 Horovod æœºåˆ¶ Horovodä½¿ç”¨æ•°æ®å¹¶è¡ŒåŒ–ç­–ç•¥åœ¨GPUä¸Šåˆ†é…è®­ç»ƒã€‚ åœ¨æ•°æ®å¹¶è¡ŒåŒ–ä¸­ï¼Œä½œä¸šä¸­çš„æ¯ä¸ªGPUéƒ½ä¼šæ¥æ”¶å…¶è‡ªå·±çš„æ•°æ®æ‰¹å¤„ç†çš„ç‹¬ç«‹åˆ‡ç‰‡ï¼Œå³å®ƒçš„â€œæ‰¹å¤„ç†åˆ‡ç‰‡â€ã€‚ æ¯ä¸ªGPUéƒ½ä½¿ç”¨è‡ªå·±åˆ†é…åˆ°çš„æ•°æ®æ¥ç‹¬ç«‹è®¡ç®—ï¼Œè¿›è¡Œæ¢¯åº¦æ›´æ–°ã€‚ å‡å¦‚ä½¿ç”¨ä¸¤ä¸ªGPUï¼Œæ‰¹å¤„ç†å¤§å°ä¸º32ï¼Œåˆ™ç¬¬ä¸€ä¸ªGPUå°†å¤„ç†å‰16æ¡è®°å½•çš„æ­£å‘ä¼ æ’­å’Œå‘åä¼ æ’­ï¼Œä»¥åŠç¬¬äºŒä¸ªGPUå¤„ç†å16æ¡è®°å½•çš„æ­£å‘ä¼ æ’­å’Œå‘åä¼ æ’­ã€‚ç„¶åï¼Œè¿™äº›æ¢¯åº¦æ›´æ–°å°†åœ¨GPUä¹‹é—´å¹³å‡åœ¨ä¸€èµ·ï¼Œæœ€ååº”ç”¨äºæ¨¡å‹ã€‚ æ¯ä¸€ä¸ªè¿­ä»£çš„æ“ä½œæ–¹æ³•å¦‚ä¸‹ï¼š æ¯ä¸ª worker å°†ç»´æŠ¤è‡ªå·±çš„æ¨¡å‹æƒé‡å‰¯æœ¬å’Œè‡ªå·±çš„æ•°æ®é›†å‰¯æœ¬ã€‚ æ”¶åˆ°æ‰§è¡Œä¿¡å·åï¼Œæ¯ä¸ªå·¥ä½œè¿›ç¨‹éƒ½ä¼šä»æ•°æ®é›†ä¸­æå–ä¸€ä¸ªä¸ç›¸äº¤çš„æ‰¹æ¬¡ï¼Œå¹¶è®¡ç®—è¯¥æ‰¹æ¬¡çš„æ¢¯åº¦ã€‚ Workers ä½¿ç”¨ring all-reduceç®—æ³•æ¥åŒæ­¥å½¼æ­¤çš„æ¢¯åº¦ï¼Œä»è€Œåœ¨æœ¬åœ°æ‰€æœ‰èŠ‚ç‚¹ä¸Šè®¡ç®—åŒæ ·çš„å¹³å‡æ¢¯åº¦ã€‚ å°†æ¯ä¸ªè®¾å¤‡ä¸Šçš„æ¢¯åº¦ tensor åˆ‡åˆ†æˆé•¿åº¦å¤§è‡´ç›¸ç­‰çš„ num_devices ä¸ªåˆ†ç‰‡ï¼Œåç»­æ¯ä¸€æ¬¡é€šä¿¡éƒ½å°†ç»™ä¸‹ä¸€ä¸ªé‚»å±…å‘é€ä¸€ä¸ªè‡ªå·±çš„åˆ†ç‰‡ï¼ˆåŒæ—¶ä»ä¸Šä¸€ä¸ªé‚»å±…æ¥å—ä¸€ä¸ªæ–°åˆ†ç‰‡ï¼‰ã€‚ ScatterReduce é˜¶æ®µï¼šé€šè¿‡ num_devices - 1 è½®é€šä¿¡å’Œç›¸åŠ ï¼Œåœ¨æ¯ä¸ª device ä¸Šéƒ½è®¡ç®—å‡ºä¸€ä¸ª tensor åˆ†ç‰‡çš„å’Œï¼Œå³æ¯ä¸ª device å°†æœ‰ä¸€ä¸ªå—ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰device ä¸­è¯¥å—ä¸­æ‰€æœ‰å€¼çš„æ€»å’Œï¼›å…·ä½“å¦‚ä¸‹ï¼š AllGather é˜¶æ®µï¼šé€šè¿‡ num_devices - 1 è½®é€šä¿¡å’Œè¦†ç›–ï¼Œå°†ä¸Šä¸ªé˜¶æ®µè®¡ç®—å‡ºçš„æ¯ä¸ª tensor åˆ†ç‰‡çš„å’Œ å¹¿æ’­åˆ°å…¶ä»– deviceï¼›æœ€ç»ˆæ‰€æœ‰èŠ‚ç‚¹éƒ½æ‹¥æœ‰æ‰€æœ‰tensoråˆ†ç‰‡å’Œã€‚å…·ä½“å¦‚ä¸‹ï¼š åœ¨æ¯ä¸ªè®¾å¤‡ä¸Šåˆå¹¶åˆ†ç‰‡ï¼Œå¾—åˆ°æ¢¯åº¦å’Œï¼Œç„¶åé™¤ä»¥ num_devicesï¼Œå¾—åˆ°å¹³å‡æ¢¯åº¦ï¼› æ¯ä¸ª worker å°† æ¢¯åº¦æ›´æ–° åº”ç”¨äºå…¶æ¨¡å‹çš„æœ¬åœ°å‰¯æœ¬ã€‚ æ‰§è¡Œä¸‹ä¸€ä¸ªbatchã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:3:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"3 ç¤ºä¾‹ä»£ç  ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:4:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"3.1 æ‘˜è¦ä»£ç  æˆ‘ä»¬æ­¤å¤„ç»™å‡ºå®˜ç½‘ç¤ºä¾‹ä»£ç éƒ¨åˆ†æ‘˜è¦ï¼Œå…·ä½“åˆ†æå‚è§ä¸‹é¢ä»£ç ä¸­çš„æ³¨é‡Šã€‚ import tensorflow as tf import horovod.tensorflow.keras as hvd # Horovod: initialize Horovod. hvd.init() # åˆå§‹åŒ– Horovodï¼Œå¯åŠ¨ç›¸å…³çº¿ç¨‹å’ŒMPIçº¿ç¨‹ # Horovod: pin GPU to be used to process local rank (one GPU per process) # ä¾æ® local rank ä¸ºä¸åŒçš„è¿›ç¨‹åˆ†é…ä¸åŒçš„GPU gpus = tf.config.experimental.list_physical_devices('GPU') for gpu in gpus: tf.config.experimental.set_memory_growth(gpu, True) if gpus: tf.config.experimental.set_visible_devices(gpus[hvd.local_rank()], 'GPU') (mnist_images, mnist_labels), _ = \\ tf.keras.datasets.mnist.load_data(path='mnist-%d.npz' % hvd.rank()) # åˆ‡åˆ†æ•°æ® dataset = tf.data.Dataset.from_tensor_slices( (tf.cast(mnist_images[..., tf.newaxis] / 255.0, tf.float32), tf.cast(mnist_labels, tf.int64)) ) dataset = dataset.repeat().shuffle(10000).batch(128) mnist_model = tf.keras.Sequential([ tf.keras.layers.Conv2D(32, [3, 3], activation='relu'), ...... tf.keras.layers.Dense(10, activation='softmax') ]) # Horovod: adjust learning rate based on number of GPUs. scaled_lr = 0.001 * hvd.size() # æ ¹æ®Workerçš„æ•°é‡å¢åŠ å­¦ä¹ ç‡çš„å¤§å° opt = tf.optimizers.Adam(scaled_lr) # Horovod: add Horovod DistributedOptimizer. # æŠŠå¸¸è§„TensorFlow Optimizeré€šè¿‡HorovodåŒ…è£…èµ·æ¥ï¼Œè¿›è€Œä½¿ç”¨ ring-allreduce æ¥å¾—åˆ°å¹³å‡æ¢¯åº¦ opt = hvd.DistributedOptimizer( opt, backward_passes_per_step=1, average_aggregated_gradients=True) # Horovod: Specify `experimental_run_tf_function=False` to ensure TensorFlow # uses hvd.DistributedOptimizer() to compute gradients. mnist_model.compile(loss=tf.losses.SparseCategoricalCrossentropy(), optimizer=opt, metrics=['accuracy'], experimental_run_tf_function=False) callbacks = [ hvd.callbacks.BroadcastGlobalVariablesCallback(0), # å¹¿æ’­åˆå§‹åŒ–ï¼Œå°†æ¨¡å‹çš„å‚æ•°ä»ç¬¬ä¸€ä¸ªè®¾å¤‡ä¼ å‘å…¶ä»–è®¾å¤‡ï¼Œä»¥ä¿è¯åˆå§‹åŒ–æ¨¡å‹å‚æ•°çš„ä¸€è‡´æ€§ hvd.callbacks.MetricAverageCallback(), hvd.callbacks.LearningRateWarmupCallback(initial_lr=scaled_lr, warmup_epochs=3, verbose=1), ] # Horovod: save checkpoints only on worker 0 to prevent other workers from corrupting them. # åªæœ‰è®¾å¤‡0éœ€è¦ä¿å­˜æ¨¡å‹å‚æ•°ä½œä¸ºcheckpoint if hvd.rank() == 0: callbacks.append(tf.keras.callbacks.ModelCheckpoint('./checkpoint-{epoch}.h5')) # Horovod: write logs on worker 0. verbose = 1 if hvd.rank() == 0 else 0 # Train the model. # Horovod: adjust number of steps based on number of GPUs. mnist_model.fit(dataset, steps_per_epoch=500 // hvd.size(), callbacks=callbacks, epochs=24, verbose=verbose) ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:4:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"3.2 horovodrun Horovodè®­ç»ƒè„šæœ¬æœªä½œä¸ºPythonè„šæœ¬å¯åŠ¨ã€‚ ä¾‹å¦‚ï¼Œæ‚¨ä¸èƒ½ä½¿ç”¨python train.pyè¿è¡Œæ­¤è„šæœ¬ã€‚ éœ€è¦é‡‡ç”¨ç‰¹æ®Šçš„CLIå‘½ä»¤ horovodrun æ¥å¯åŠ¨ï¼ˆè®­ç»ƒä»£ç  train.py éœ€è¦æ‰‹åŠ¨æ‹·è´åˆ°å„ä¸ªèŠ‚ç‚¹ä¸Šï¼Œä¸”ç›®å½•ç›¸åŒï¼‰ï¼š $ horovodrun -np 4 -H localhost:4 python train.py ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:4:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4 è¿è¡Œé€»è¾‘ æˆ‘ä»¬æŒ‰ç…§é¡ºåºæ¢³ç†ï¼Œçœ‹çœ‹åœ¨ç¨‹åºåˆå§‹åŒ–è¿‡ç¨‹èƒŒåéƒ½åšäº†ä»€ä¹ˆã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.1 å¼•å…¥pythonæ–‡ä»¶ å¦‚ä¸‹ä»£ç ä¼šå¼•å…¥å„ç§ç›¸å…³pythonæ–‡ä»¶ã€‚ import tensorflow as tf import horovod.tensorflow.keras as hvd ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.2 åˆå§‹åŒ– in python python ä¸–ç•Œçš„åˆå§‹åŒ–ä½äº horovod-master/horovod/mxnet/mpi_ops.py 4.2.1 å¼•å…¥SOåº“ 4.2.1.1 SOåº“ horovod/tensorflow/mpi_ops.py ä¹‹ä¸­ä¼šå¼•å…¥SOåº“ã€‚ æ¯”å¦‚ dist-packages/horovod/tensorflow/mpi_lib.cpython-36m-x86_64-linux-gnu.soã€‚ SOåº“ å°±æ˜¯ horovod ä¸­ C++ ä»£ç ç¼–è¯‘å‡ºæ¥çš„ç»“æœã€‚ def _load_library(name): \"\"\"Loads a .so file containing the specified operators. \"\"\" filename = resource_loader.get_path_to_datafile(name) library = load_library.load_op_library(filename) return library # Check possible symbol not found error from tensorflow version mismatch try: MPI_LIB = _load_library('mpi_lib' + get_ext_suffix()) except Exception as e: check_installed_version('tensorflow', tf.__version__, e) raise e else: check_installed_version('tensorflow', tf.__version__) 4.2.2.2 SOä½œç”¨ å¼•å…¥åº“çš„ä½œç”¨æ˜¯è·å–åˆ° C++ çš„å‡½æ•°ï¼Œå¹¶ä¸”ç”¨ python å°è£…ä¸€ä¸‹ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ python ä¸–ç•Œä½¿ç”¨ C++ä»£ç äº†ã€‚ ç”±ä¸‹æ–‡å¯ä»¥çœ‹å‡ºæ¥ï¼Œpython çš„ _allreduce å‡½æ•°å°±ä¼šæŠŠåŠŸèƒ½è½¬å‘ç»™ C++ï¼Œç”± MPI_LIB.horovod_allreduce å®Œæˆã€‚ def _allreduce(tensor, name=None, op=Sum, prescale_factor=1.0, postscale_factor=1.0, ignore_name_scope=False): if name is None and not _executing_eagerly(): name = 'HorovodAllreduce_%s' % _normalize_name(tensor.name) return MPI_LIB.horovod_allreduce(tensor, name=name, reduce_op=op, prescale_factor=prescale_factor, postscale_factor=postscale_factor, ignore_name_scope=ignore_name_scope) 4.2.2 åˆå§‹åŒ–é…ç½® æˆ‘ä»¬æ‘˜å½•äº†ä¸»è¦éƒ¨åˆ†ï¼Œå°±æ˜¯åˆå§‹åŒ– _HorovodBasicsï¼Œç„¶åä» _HorovodBasics å†…è·å–å„ç§å‡½æ•°ï¼Œå˜é‡å’Œé…ç½®ï¼Œæ¯”å¦‚æ˜¯å¦ç¼–è¯‘äº†mpiï¼Œglooç­‰ç­‰. from horovod.common.basics import HorovodBasics as _HorovodBasics _basics = _HorovodBasics(__file__, 'mpi_lib') # import basic methods init = _basics.init size = _basics.size local_size = _basics.local_size rank = _basics.rank local_rank = _basics.local_rank mpi_built = _basics.mpi_built gloo_enabled = _basics.gloo_enabled ...... 4.2.3 hvd.init() åˆå§‹åŒ– é¦–å…ˆéœ€è¦ç”¨ hvd.init() æ¥åˆå§‹åŒ–ï¼Œhorovod ç®¡ç†çš„æ‰€æœ‰çŠ¶æ€éƒ½ä¼šä¼ åˆ° hvd å¯¹è±¡ä¸­ã€‚ # Horovod: initialize Horovod. hvd.init() æ­¤å¤„è°ƒç”¨çš„æ˜¯ HorovodBasics ä¸­çš„å‡½æ•°ï¼Œæˆ‘ä»¬çœ‹çœ‹åšäº†ä»€ä¹ˆã€‚ å¯ä»¥çœ‹åˆ°ï¼Œè¿™éƒ¨åˆ†ä¼šä¸€ç›´æ·±å…¥åˆ° C++ä¸–ç•Œï¼Œè°ƒç”¨äº†å¤§é‡çš„ MPI_LIB_CTYPES å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥å°±è¦è¿›å…¥åˆ° C++çš„ä¸–ç•Œçœ‹çœ‹ã€‚ def init(self, comm=None): \"\"\"A function that initializes Horovod. \"\"\" atexit.register(self.shutdown) if not isinstance(comm, list): mpi_built = self.MPI_LIB_CTYPES.horovod_mpi_built() from mpi4py import MPI if MPI._sizeof(MPI.Comm) == ctypes.sizeof(ctypes.c_int): MPI_Comm = ctypes.c_int else: MPI_Comm = ctypes.c_void_p self.MPI_LIB_CTYPES.horovod_init_comm.argtypes = [MPI_Comm] comm_obj = MPI_Comm.from_address(MPI._addressof(comm)) self.MPI_LIB_CTYPES.horovod_init_comm(comm_obj) else: comm_size = len(comm) self.MPI_LIB_CTYPES.horovod_init( (ctypes.c_int * comm_size)(*comm), ctypes.c_int(comm_size)) ç›®å‰é€»è¾‘å¦‚ä¸‹å›¾ï¼š Import python files + | | v Import C++ SO files | | | v Create _HorovodBasics + | | v hvd.init() + Python | +------------------------------------------+ C++ | | v ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.3 åˆå§‹åŒ– in C++ 4.3.1 horovod_init_comm åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒHorovod ä¼šï¼š è°ƒç”¨ MPI_Comm_dup è·å–ä¸€ä¸ª Communicatorï¼Œè¿™æ ·å°±æœ‰äº†å’Œ MPI åè°ƒçš„åŸºç¡€ã€‚ ç„¶åè°ƒç”¨ InitializeHorovodOnceã€‚ void horovod_init_comm(MPI_Comm comm) { MPI_Comm_dup(comm, \u0026mpi_context.mpi_comm); InitializeHorovodOnce(nullptr, 0); } 4.3.2 InitializeHorovodOnce InitializeHorovodOnce æ˜¯åˆå§‹åŒ–çš„ä¸»è¦å·¥ä½œï¼Œä¸»è¦æ˜¯ï¼š ä¾æ®æ˜¯å¦ç¼–è¯‘äº† mpi æˆ–è€… glooï¼Œå¯¹å„è‡ªçš„ context è¿›è¡Œå¤„ç†ï¼Œä¸º globalstate åˆ›å»ºå¯¹åº”çš„ controllerï¼› å¯åŠ¨äº†åå°çº¿ç¨‹ BackgroundThreadLoop ç”¨æ¥åœ¨å„ä¸ªworkerä¹‹é—´åè°ƒï¼› void horovod_init(const int* ranks, int nranks) { InitializeHorovodOnce(ranks, nranks); } void InitializeHorovodOnce(const int* ranks, int nranks) { // Ensure background thread is only started once. if (!horovod_global.initialize_flag.test_and_set()) { horovod_global.control_operation = ParseControllerOpsFromEnv(); horovod_global.cpu_operation = ParseCPUOpsFromEnv(); #if HAVE_MPI // ä¾æ®æ˜¯å¦ç¼–è¯‘äº†MPIè¿›è¡Œå¤„ç† // Enable mpi is it's used either in cpu data transfer or controller if (horovod_global.cpu_operation == LibType::MPI || horovod_global.control_operation == LibType::MPI) { mpi_context.Enable(); } if (horovod_global.control_operation == LibType::MPI){ // åˆ›å»ºä¸€ä¸ª MPIController å¯¹è±¡ horovod_global.controller.reset(new MPIController( horovod_global.response_cache, horovod_global.tensor_queue, horovod_global.timeline, horovod_global.parameter_manager, horovod_global.group_table, mpi_context)); horovod_global.controller-\u003eSetRanks(ranks, nranks); } #endif #if HAVE_GLOO // ä¾æ®æ˜¯å¦ç¼–è¯‘äº† GLOO è¿›è¡Œå¤„ç† // Enable gloo is it's used either in cpu data transfer or controller if (horovod_global.cpu_operation == LibType::GLOO || horovod_global.control_operation == LibType::GLOO) { gloo_context.Enable(); } if (horovod_global.control_operation == LibType::GLOO) { horovod_global.controller.reset(new GlooController( horovod_global.response_cache, horovod_global.tensor_queue, horovod_global.timeline, horovod_global.parameter_manager, horovod_global.group_table, gloo_context)); } #endif // Reset initialization flag // å¯åŠ¨åå°çº¿ç¨‹ horovod_global.initialization_done = false; horovod_global.background_thread = std::thread( BackgroundThreadLoop, std::ref(horovod_global)); } // Wait to ensure that the background thread has finished initializing MPI. while (!horovod_global.initialization_done) { std::this_thread::sleep_for(std::chrono::milliseconds(1)); } } 4.3.3 HorovodGlobalState åœ¨ C++ ä¸–ç•Œï¼ŒHorovodGlobalState èµ·åˆ°äº†é›†ä¸­ç®¡ç†å„ç§å…¨å±€å˜é‡çš„ä½œç”¨ã€‚ HorovodGlobalState åœ¨ horovod ä¸­æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå…¶ä¸­çš„å…ƒç´ å¯ä»¥ä¾›ä¸åŒçš„çº¿ç¨‹è®¿é—®ã€‚HorovodGlobalState åœ¨åŠ è½½ C++ çš„ä»£ç æ—¶å€™å°±å·²ç»åˆ›å»ºäº†ï¼ŒåŒæ—¶åˆ›å»ºçš„è¿˜æœ‰å„ç§ contextï¼ˆmpi_context, nccl_context, gpu_contextï¼‰ã€‚ Horovod ä¸»è¦ä¼šåœ¨backgroundThreadLoop ä¸­å®Œæˆ HorovodGlobalState ä¸åŒå…ƒç´ åˆå§‹åŒ–ï¼Œæ¯”è¾ƒé‡è¦çš„æœ‰ï¼š controller ç®¡ç†æ€»ä½“é€šä¿¡æ§åˆ¶æµï¼› tensor_queue ä¼šå¤„ç†ä»å‰ç«¯è¿‡æ¥çš„é€šä¿¡éœ€æ±‚ï¼ˆallreduceï¼Œbroadcast ç­‰)ï¼› // All the Horovod state that must be stored globally per-process. HorovodGlobalState horovod_global; #if HAVE_MPI MPIContext mpi_context; #endif #if HAVE_GLOO GlooContext gloo_context; #endif .... std::unique_ptr\u003cOperationManager\u003e op_manager; HorovodGlobalState æ‘˜è¦å¦‚ä¸‹ï¼š struct HorovodGlobalState { // Background thread running MPI communication. std::thread background_thread; // åå°çº¿ç¨‹ï¼Œç”¨æ¥åœ¨å„ä¸ªworkerä¹‹é—´åè°ƒ ParameterManager parameter_manager; // ç»´æŠ¤åå°æ€»ä½“å‚æ•°é…ç½® // Encapsulates the fusion buffers, handles resizing and auto-tuning of buffer // size. FusionBufferManager fusion_buffer; // èåˆtensorï¼Œä»¥ä¾¿ç¼©å‡é€šä¿¡å¼€é”€ std::shared_ptr\u003cController\u003e controller; //ç®¡ç†æ€»ä½“é€šä¿¡æ§åˆ¶æµ TensorQueue tensor_queue; //å¤„ç†ä»å‰ç«¯è¿‡æ¥çš„é€šä¿¡éœ€æ±‚ï¼ˆallreduceï¼Œbroadcast ç­‰ï¼‰ // Pointer to shared buffer for allgather void* shared_buffer = nullptr; // LRU cache of Responses ResponseCache response_cache; // Information on registered groups. GroupTable group_table; ~HorovodGlobalState() { // Make sure that the destructor of the background thread is safe to // call. If a thread is still joinable (not detached or complete) its // destructor cannot be called. if (background_thread.joinable()) { shut_down = true; background_thread.join(); } } }; ç›®å‰å…·ä½“é€»è¾‘å¦‚ä¸‹ï¼š Import python files + | | v Import C++ SO files | | | v Create _HorovodBasics + | | v hvd.init() + Python | +--------------------------------------------------------","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.3 hvd æ¦‚å¿µ åœ¨ç”¨æˆ·ä»£ç ä¸­ï¼Œæ¥ä¸‹æ¥æ˜¯rankæ¦‚å¿µã€‚ hvd.local_rank() hvd.rank() æˆ‘ä»¬ä»‹ç»ä¸‹å‡ ä¸ªç›¸å…³æ¦‚å¿µï¼š Horovodä¸ºè®¾å¤‡ä¸Šçš„æ¯ä¸ªGPUå¯åŠ¨äº†è¯¥è®­ç»ƒè„šæœ¬çš„ä¸€ä¸ªå‰¯æœ¬ã€‚local rankå°±æ˜¯åˆ†é…ç»™æŸä¸€å°è®¡ç®—æœºä¸Šæ¯ä¸ªæ‰§è¡Œè®­ç»ƒçš„å”¯ä¸€ç¼–å·ï¼ˆä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯è¿›ç¨‹å·æˆ–è€…GPUè®¾å¤‡çš„IDå·ï¼‰ï¼ŒèŒƒå›´æ˜¯ 0 åˆ° n-1ï¼Œå…¶ä¸­ n æ˜¯è¯¥è®¡ç®—æœºä¸ŠGPUè®¾å¤‡çš„æ•°é‡ã€‚ rank å¯ä»¥è®¤ä¸ºæ˜¯ä»£è¡¨åˆ†å¸ƒå¼ä»»åŠ¡é‡Œçš„ä¸€ä¸ªæ‰§è¡Œè®­ç»ƒçš„å”¯ä¸€å…¨å±€ç¼–å·ï¼ˆç”¨äºè¿›ç¨‹é—´é€šè®¯ï¼‰ã€‚Rank 0 åœ¨Horovodä¸­é€šå¸¸å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰ï¼šå®ƒæ˜¯è´Ÿè´£æ­¤åŒæ­¥çš„è®¾å¤‡ã€‚ åœ¨ç™¾åº¦çš„å®ç°ä¸­ï¼Œä¸åŒ Rank çš„è§’è‰²æ˜¯ä¸ä¸€æ ·çš„ï¼ŒRank 0 ä¼šå……å½“ coordinator çš„è§’è‰²ã€‚å®ƒä¼šåè°ƒæ¥è‡ªå…¶ä»– Rank çš„ MPI è¯·æ±‚ï¼Œæ˜¯ä¸€ä¸ªå·¥ç¨‹ä¸Šçš„è€ƒé‡ã€‚è¿™ä¸€è®¾è®¡ä¹Ÿè¢«åæ¥çš„ Horovod é‡‡ç”¨ã€‚ Rank 0 ä¹Ÿç”¨æ¥æŠŠå‚æ•°å¹¿æ’­åˆ°å…¶ä»–è¿›ç¨‹ \u0026 å­˜å‚¨ checkpointã€‚ world_sizeï¼šè¿›ç¨‹æ€»æ•°é‡ï¼Œä¼šç­‰åˆ°æ‰€æœ‰world_sizeä¸ªè¿›ç¨‹å°±ç»ªä¹‹åæ‰ä¼šå¼€å§‹è®­ç»ƒã€‚ hvd.init è¿™éƒ¨åˆ†çš„ç›®çš„å°±æ˜¯è®©å¹¶è¡Œè¿›ç¨‹ä»¬å¯ä»¥çŸ¥é“è‡ªå·±è¢«åˆ†é…çš„ rank / local rank ç­‰ä¿¡æ¯ï¼Œäºæ˜¯åç»­å¯ä»¥æ ¹æ® local rankï¼ˆæ‰€åœ¨èŠ‚ç‚¹ä¸Šçš„ç¬¬å‡ å¼  GPU å¡ï¼‰ æ¥è®¾ç½®æ‰€éœ€çš„æ˜¾å­˜åˆ†é…ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:4","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.5 æ•°æ®å¤„ç† æ¥ä¸‹æ¥æ˜¯æ•°æ®å¤„ç†ã€‚ dataset = tf.data.Dataset.from_tensor_slices( (tf.cast(mnist_images[..., tf.newaxis] / 255.0, tf.float32), tf.cast(mnist_labels, tf.int64)) ) dataset = dataset.repeat().shuffle(10000).batch(128) è¿™é‡Œæœ‰å‡ ç‚¹éœ€è¦è¯´æ˜ï¼š é¦–å…ˆï¼Œè®­ç»ƒçš„æ•°æ®éœ€è¦æ”¾ç½®åœ¨ä»»ä½•èŠ‚ç‚¹éƒ½èƒ½è®¿é—®çš„åœ°æ–¹ã€‚ å…¶æ¬¡ï¼ŒHorovod éœ€è¦å¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡å¤„ç†ï¼Œéœ€è¦åœ¨ä¸åŒæœºå™¨ä¸ŠæŒ‰Rankè¿›è¡Œåˆ‡åˆ†ï¼Œä»¥ä¿è¯æ¯ä¸ªGPUè¿›ç¨‹è®­ç»ƒçš„æ•°æ®é›†æ˜¯ä¸ä¸€æ ·çš„ã€‚ æ•°æ®é›†æœ¬ä½“éœ€è¦å‡ºäºæ•°æ®å¹¶è¡Œæ€§çš„éœ€æ±‚è€Œè¢«æ‹†åˆ†ä¸ºå¤šä¸ªåˆ†ç‰‡ï¼ŒHorovodçš„ä¸åŒå·¥ä½œèŠ‚ç‚¹éƒ½å°†åˆ†åˆ«è¯»å–è‡ªå·±çš„æ•°æ®é›†åˆ†ç‰‡ã€‚ ä» PyTorch ç¤ºä¾‹è„šæœ¬çœ‹å¾—æ›´åŠ æ¸…æ¥šã€‚ # Horovod: use DistributedSampler to partition the training data. train_sampler = torch.utils.data.distributed.DistributedSampler( train_dataset, num_replicas=hvd.size(), rank=hvd.rank()) train_loader = torch.utils.data.DataLoader( train_dataset, batch_size=args.batch_size, sampler=train_sampler, **kwargs) DataLoaderçš„é‡‡æ ·å™¨ç»„ä»¶ä»è¦ç»˜åˆ¶çš„æ•°æ®é›†ä¸­è¿”å›å¯è¿­ä»£çš„ç´¢å¼•ã€‚ PyTorchä¸­çš„é»˜è®¤é‡‡æ ·å™¨æ˜¯é¡ºåºçš„ï¼Œè¿”å›åºåˆ—0, 1, 2, â€¦, n ã€‚ Horovodä½¿ç”¨å…¶DistributedSamplerè¦†ç›–äº†æ­¤è¡Œä¸ºï¼Œè¯¥DistributedSamplerå¤„ç†è·¨è®¡ç®—æœºçš„æ•°æ®é›†åˆ†åŒºã€‚ DistributedSampleræœ¬èº«æ¥å—ä¸¤ä¸ªå‚æ•°ä½œä¸ºè¾“å…¥ï¼š hvd.size() (GPUçš„æ€»æ•°ï¼Œä¾‹å¦‚16)å’Œhvd.rank() (ä»æ€»ä½“åˆ—è¡¨ä¸­åˆ†é…ç»™è¯¥è®¾å¤‡çš„IDï¼Œä¾‹å¦‚0â€¦15)ã€‚ Pytorchä½¿ç”¨çš„æ˜¯æ•°æ®åˆ†å¸ƒå¼è®­ç»ƒï¼Œæ¯ä¸ªè¿›ç¨‹å®é™…ä¸Šæ˜¯ç‹¬ç«‹åŠ è½½æ•°æ®çš„ï¼Œæ‰€ä»¥éœ€è¦åŠ è½½ç›¸åŒæ•°æ®é›†åç”¨ä¸€å®šçš„è§„åˆ™æ ¹æ®rankæ¥é¡ºåºåˆ‡å‰²è·å–ä¸åŒçš„æ•°æ®å­é›†ï¼ŒDistributedSamplerå°±æ˜¯ç”¨æ¥ç¡®ä¿dataloaderåªä¼šloadåˆ°æ•´ä¸ªæ•°æ®é›†çš„ä¸€ä¸ªç‰¹å®šå­é›†çš„åšæ³•(å®é™…ä¸Šä¸ç”¨Pytorchæä¾›çš„DistributedSamplerå·¥å…·ï¼Œè‡ªå·±åšåŠ è½½æ•°æ®ååˆ‡åˆ†word_sizeä¸ªå­é›†æŒ‰ranké¡ºåºæ‹¿åˆ°å­é›†æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·)ã€‚ åŒæ—¶ä¸ºäº†èƒ½å¤ŸæŒ‰é¡ºåºåˆ’åˆ†æ•°æ®å­é›†ï¼Œæ‹¿åˆ°ä¸åŒéƒ¨åˆ†æ•°æ®ï¼Œæ‰€ä»¥æ•°æ®é›†ä¸èƒ½å¤Ÿè¿›è¡Œéšæœºæ‰“æ•£ï¼Œæ‰€ä»¥ç”¨äº†å‚æ•° 'shuffle': Falseã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:5","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.6 å¹¿æ’­åˆå§‹åŒ–å˜é‡ ä»¥ä¸‹ä»£ç å®Œæˆå¹¿æ’­åˆå§‹åŒ–çš„åŠŸèƒ½ã€‚ hvd.callbacks.BroadcastGlobalVariablesCallback(0) è¿™å¥ä»£ç ä¿è¯çš„æ˜¯ rank 0 ä¸Šçš„æ‰€æœ‰å‚æ•°åªåœ¨ rank 0 åˆå§‹åŒ–ï¼Œç„¶åå¹¿æ’­ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œå³å˜é‡ä»ç¬¬ä¸€ä¸ªæµç¨‹å‘å…¶ä»–æµç¨‹ä¼ æ’­ï¼Œä»¥å®ç°å‚æ•°ä¸€è‡´æ€§åˆå§‹åŒ–ã€‚ ä¸‹é¢å°±ä»‹ç»ä¸‹ Horvod ä¹‹ä¸­å¹¿æ’­çš„ä½¿ç”¨ã€‚ 4.6.1 å¹¿æ’­å®šä¹‰ å¹¿æ’­çš„å…·ä½“å®ç°æ˜¯ï¼š class BroadcastGlobalVariablesCallbackImpl(object): def __init__(self, backend, root_rank, device='', *args): super(BroadcastGlobalVariablesCallbackImpl, self).__init__(*args) self.backend = backend self.root_rank = root_rank self.device = device self.broadcast_done = False def on_batch_end(self, batch, logs=None): if self.broadcast_done: return with tf.device(self.device): if hvd._executing_eagerly() and hasattr(self.model, 'variables'): # TensorFlow 2.0 or TensorFlow eager hvd.broadcast_variables(self.model.variables, root_rank=self.root_rank) hvd.broadcast_variables(self.model.optimizer.variables(), root_rank=self.root_rank) else: bcast_op = hvd.broadcast_global_variables(self.root_rank) self.backend.get_session().run(bcast_op) self.broadcast_done = True 4.6.2 broadcast_variables broadcast_variables è°ƒç”¨äº† _make_broadcast_group_fn å®ŒæˆåŠŸèƒ½ï¼Œå¯ä»¥çœ‹åˆ°å¯¹äº æ‰§è¡Œå›¾ çš„æ¯ä¸ªå˜é‡ï¼Œè°ƒç”¨äº† broadcastã€‚ def broadcast_variables(variables, root_rank): \"\"\"Broadcasts variables from root rank to all other processes. Arguments: variables: variables for broadcast root_rank: rank of the process from which global variables will be broadcasted to all other processes. \"\"\" broadcast_group = _make_broadcast_group_fn() return broadcast_group(variables, root_rank) ä»¥åŠ @_cache def _make_broadcast_group_fn(): if _executing_eagerly(): # Eager mode will parallelize independent control flow def broadcast_group(variables, root_rank): for var in variables: var.assign(broadcast(var, root_rank)) return _make_subgraph(broadcast_group) else: # Graph mode requires an Op def broadcast_group(variables, root_rank): return tf.group(*[var.assign(broadcast(var, root_rank)) for var in variables]) return broadcast_group 4.6.3 è°ƒç”¨ MPI broadcast å°±æ˜¯è°ƒç”¨äº† MPI å‡½æ•°çœŸæ­£å®Œæˆäº†åŠŸèƒ½ã€‚ def broadcast(tensor, root_rank, name=None, ignore_name_scope=False): \"\"\"An op which broadcasts the input tensor on root rank to the same input tensor on all other Horovod processes. The broadcast operation is keyed by the name of the op. The tensor type and shape must be the same on all Horovod processes for a given name. The broadcast will not start until all processes are ready to send and receive the tensor. Returns: A tensor of the same shape and type as `tensor`, with the value broadcasted from root rank. \"\"\" if name is None and not _executing_eagerly(): name = 'HorovodBroadcast_%s' % _normalize_name(tensor.name) return MPI_LIB.horovod_broadcast(tensor, name=name, root_rank=root_rank, ignore_name_scope=ignore_name_scope) 4.6.4 åŒæ­¥å‚æ•° åœ¨åå°è¿›ç¨‹ä¸­ï¼Œä¼šæ ¹æ®æƒ…å†µå®šæœŸåŒæ­¥å‚æ•°ã€‚ bool RunLoopOnce(HorovodGlobalState\u0026 state) { // ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ if (state.parameter_manager.IsAutoTuning()) { bool should_sync = state.parameter_manager.Update(tensor_names, total_tensor_size); // çœ‹çœ‹æ˜¯å¦éœ€è¦åŒæ­¥ï¼Œå¦‚æœéœ€è¦ï¼Œå°±åŒæ­¥ã€‚ if (should_sync) { state.controller-\u003eSynchronizeParameters(); } } ...... } åŒæ­¥å‚æ•°ä»£ç ä¹Ÿæ˜¯è°ƒç”¨äº† Bcast åŠŸèƒ½å®Œæˆã€‚ void Controller::SynchronizeParameters() { ParameterManager::Params param; if (is_coordinator_) { // rank 0 æ‰§è¡Œæ“ä½œ param = parameter_manager_.GetParams(); } void* buffer = (void*)(\u0026param); size_t param_size = sizeof(param); Bcast(buffer, param_size, 0, Communicator::GLOBAL); if (!is_coordinator_) { // worker æ‰§è¡Œæ“ä½œ parameter_manager_.SetParams(param); } } ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:6","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.7 DistributedOptimizer æœ€åéœ€è¦é…ç½®DistributedOptimizerï¼Œè¿™å°±æ˜¯å…³é”®ç‚¹ä¹‹ä¸€ã€‚ # Horovod: add Horovod DistributedOptimizer. opt = hvd.DistributedOptimizer( opt, backward_passes_per_step=1, average_aggregated_gradients=True) TF Optimizer æ˜¯æ¨¡å‹è®­ç»ƒçš„å…³é”®APIï¼Œå¯ä»¥è·å–åˆ°æ¯ä¸ªOPçš„æ¢¯åº¦å¹¶ç”¨æ¥æ›´æ–°æƒé‡ã€‚HVD åœ¨åŸå§‹ TF Optimizerçš„åŸºç¡€ä¸ŠåŒ…è£…äº†hvd.DistributedOptimizerã€‚ DistributedOptimizeråŒ…è£…å™¨å°†åŸå§‹ä¼˜åŒ–å™¨ä½œä¸ºè¾“å…¥ï¼Œå°†æ¢¯åº¦è®¡ç®—å§”æ‰˜ç»™å®ƒã€‚ å³DistributedOptimizerä¼šè°ƒç”¨åŸå§‹ä¼˜åŒ–å™¨è¿›è¡Œæ¢¯åº¦è®¡ç®—ã€‚è¿™æ ·ï¼Œåœ¨é›†ç¾¤ä¸­æ¯å°æœºå™¨éƒ½ä¼šç”¨åŸå§‹ä¼˜åŒ–å™¨å¾—åˆ°è‡ªå·±çš„æ¢¯åº¦ï¼ˆLocal Gradientï¼‰ã€‚ Horovod DistributedOptimizeræ¥ä¸‹æ¥ä¼šä½¿ç”¨all-reduceæˆ–all-gatheræ¥å®Œæˆå…¨å±€æ¢¯åº¦å½’å¹¶ï¼Œç„¶åå°†è¿™äº›å¹³å‡æ¢¯åº¦åº”ç”¨äºæ‰€æœ‰è®¾å¤‡ã€‚ æˆ‘ä»¬æ¢³ç†ä¸‹å…¶ä¸­çš„è°ƒç”¨å…³ç³»ï¼š hvd.DistributedOptimizerç»§æ‰¿ keras Optimizerï¼Œåœ¨è®¡ç®—æ—¶å€™ï¼Œä¾ç„¶ç”±ä¼ å…¥çš„åŸå§‹ä¼˜åŒ–å™¨åšè®¡ç®—ã€‚ åœ¨å¾—åˆ°è®¡ç®—çš„æ¢¯åº¦ä¹‹åï¼Œè°ƒç”¨ hvd.allreduce æˆ–è€… hvd.allgather æ¥è®¡ç®—ã€‚ æœ€åå®æ–½è¿™äº›å¹³å‡ä¹‹åçš„æ¢¯åº¦ã€‚ä»è€Œå®ç°æ•´ä¸ªé›†ç¾¤çš„æ¢¯åº¦å½’å¹¶æ“ä½œã€‚ å…·ä½“åæ–‡ä¼šè¯¦ç»†ä»‹ç»ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:7","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"4.8 æœªæ¥å¯èƒ½ Horovod ç›®å‰æ¶æ„çš„åŸºç¡€æ˜¯ï¼šæœºå™¨å­¦ä¹ çš„æ¨¡å‹å‚æ•°åœ¨ä¸€å¼  GPU ä¸Šå¯ä»¥å­˜ä¸‹ã€‚ æœªæ¥æ˜¯å¦å¯ä»¥æŠŠæ¨¡å‹åˆ†ç‰‡ç»“åˆè¿›æ¥ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„çœ‹ç‚¹ã€‚ å¦å¤–ï¼Œå¦‚æœæ¨¡å‹çš„å…¨è¿æ¥å±‚è¾ƒå¤šï¼Œåˆ™å…¨è¿æ¥å±‚çš„å¼ºè€¦åˆæ€§ç»“åˆ allreduce ç±»ä¼¼ bsp çš„åŒæ­¥æœºåˆ¶ï¼Œè¿˜æ˜¯ä¼šè®©ç½‘ç»œé€šä¿¡æ—¶é—´æˆä¸ºç“¶é¢ˆã€‚å› æ­¤ï¼Œåœ¨ ring-allreduce ç¯å¢ƒä¸‹ï¼ŒåŒæ­¥åè®®çš„æ”¹é€ ï¼Œæ¯”å¦‚åˆ©ç”¨ SSP æ¥æ›¿æ¢ BSPï¼Œæˆ–è€…åˆ©ç”¨æ¢¯åº¦å‹ç¼©æ¥åŠ å¿« allreduce è¿›ç¨‹ä¹Ÿæ˜¯å€¼å¾—æ¢ç´¢çš„æ–¹å‘ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:5:8","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"5 æ€»ç»“ é’ˆå¯¹æ–‡åˆæå‡ºçš„å‡ ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ç°åœ¨å›ç­”å¦‚ä¸‹ï¼š Hovorod æ€ä¹ˆè¿›è¡Œæ•°æ®åˆ†å‰²ï¼Ÿ ç­”æ¡ˆï¼šæœ‰çš„æ¡†æ¶å¯ä»¥è‡ªåŠ¨åšæ•°æ®åˆ†å‰²ã€‚å¦‚æœæ¡†æ¶ä¸æä¾›ï¼Œåˆ™éœ€è¦ç”¨æˆ·è‡ªå·±è¿›è¡Œæ•°æ®åˆ†å‰²ï¼Œä»¥ä¿è¯æ¯ä¸ªGPUè¿›ç¨‹è®­ç»ƒçš„æ•°æ®é›†æ˜¯ä¸ä¸€æ ·çš„ã€‚ Hovorod æ€ä¹ˆè¿›è¡Œæ¨¡å‹åˆ†å‘ï¼Ÿ ç”¨æˆ·éœ€è¦æ‰‹åŠ¨æ‹·è´è®­ç»ƒä»£ç åˆ°å„ä¸ªèŠ‚ç‚¹ä¸Šã€‚ Hovorod å¯åŠ¨æ—¶å€™ï¼Œpython å’Œ C++ éƒ½åšäº†ä»€ä¹ˆï¼Ÿ ç­”æ¡ˆï¼špython ä¼šå¼•å…¥ C++åº“ï¼Œåˆå§‹åŒ–å„ç§å˜é‡å’Œé…ç½®ã€‚C++éƒ¨åˆ†ä¼šå¯¹ MPIï¼ŒGLOOä¸Šä¸‹æ–‡è¿›è¡Œåˆå§‹åŒ–ï¼Œå¯åŠ¨åå°è¿›ç¨‹å¤„ç†å†…éƒ¨é€šä¿¡ã€‚ å¦‚ä½•ç¡®ä¿ Hovorod å¯åŠ¨æ—¶å€™æ­¥éª¤ä¸€è‡´ï¼› ç­”æ¡ˆï¼š rank 0 ä¸Šçš„æ‰€æœ‰å‚æ•°åªåœ¨ rank 0 åˆå§‹åŒ–ï¼Œç„¶åå¹¿æ’­ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œå³å˜é‡ä»ç¬¬ä¸€ä¸ªæµç¨‹å‘å…¶ä»–æµç¨‹ä¼ æ’­ï¼Œä»¥å®ç°å‚æ•°ä¸€è‡´æ€§åˆå§‹åŒ–ã€‚ ä¸‹ä¸€ç¯‡æ–‡ç« å°†æ·±å…¥åˆ°pythonä¸–ç•Œçœ‹çœ‹ã€‚ reference: [1].https://www.cnblogs.com/rossiXYZ/p/14856543.html ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_2/:6:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[2] -- ä»ä½¿ç”¨è€…è§’åº¦åˆ‡å…¥","uri":"/posts/2022-10-08_horovod_2/"},{"categories":["Distributed Computing"],"content":"0 æ‘˜è¦ Horovod æ˜¯Uberäº2017å¹´å‘å¸ƒçš„ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ï¼Œåœ¨ä¸šç•Œå¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚ æœ¬ç³»åˆ—å°†é€šè¿‡æºç åˆ†ææ¥å¸¦é¢†å¤§å®¶äº†è§£ Horovodã€‚ç³»åˆ—å¤§çº¦æœ‰15 ï½ 18 ç¯‡ï¼Œæœ¬æ–‡æ˜¯ç³»åˆ—ç¬¬ä¸€ç¯‡ï¼Œä»‹ç»ç›¸å…³èƒŒæ™¯çŸ¥è¯†ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:1:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"1 åˆ†å¸ƒå¼å¹¶è¡Œè®­ç»ƒ æˆ‘ä»¬é¦–å…ˆè¦ä»‹ç»ä¸‹åˆ†å¸ƒå¼å¹¶è¡Œè®­ç»ƒã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:2:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"1.1 åˆ†å¸ƒå¼å¹¶è¡Œè®­ç»ƒçš„å¿…è¦ ä¼ ç»Ÿçš„æ¨¡å‹è®­ç»ƒä¸­ï¼Œè¿­ä»£è®¡ç®—åªèƒ½åˆ©ç”¨å½“å‰è¿›ç¨‹æ‰€åœ¨ä¸»æœºä¸Šçš„æ‰€æœ‰ç¡¬ä»¶èµ„æºï¼Œå¯æ˜¯å•æœºæ‰©å±•æ€§å§‹ç»ˆæœ‰é™ã€‚è€Œç›®å‰çš„æœºå™¨å­¦ä¹ æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š æ ·æœ¬æ•°é‡å¤§ ç›®å‰è®­ç»ƒæ•°æ®è¶Šæ¥è¶Šå¤šï¼Œåœ¨å¤§å‹äº’è”ç½‘åœºæ™¯ä¸‹ï¼Œæ¯å¤©çš„æ ·æœ¬é‡å¯ä»¥è¾¾åˆ°ç™¾äº¿çº§åˆ«ã€‚ ç‰¹å¾ç»´åº¦å¤š å› ä¸ºå·¨å¤§æ ·æœ¬é‡å¯¼è‡´æœºå™¨å­¦ä¹ æ¨¡å‹å‚æ•°è¶Šæ¥è¶Šå¤šï¼Œç‰¹å¾ç»´åº¦å¯ä»¥è¾¾åˆ°åƒäº¿æˆ–è€…ä¸‡äº¿çº§åˆ«ã€‚ è®­ç»ƒæ€§èƒ½è¦æ±‚é«˜ è™½ç„¶æ ·æœ¬é‡å’Œæ¨¡å‹å‚æ•°å·¨å¤§ï¼Œä½†æ˜¯ä¸šåŠ¡éœ€è¦æˆ‘ä»¬åœ¨çŸ­æœŸå†…è®­ç»ƒå‡ºä¸€ä¸ªä¼˜ç§€çš„æ¨¡å‹æ¥éªŒè¯ã€‚ æ¨¡å‹å®æ—¶ä¸Šçº¿ å¯¹äºæ¨èèµ„è®¯ç±»åº”ç”¨ï¼Œå¾€å¾€è¦æ±‚æ ¹æ®ç”¨æˆ·æœ€æ–°è¡Œä¸ºåŠæ—¶è°ƒæ•´æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚ å› æ­¤ï¼Œå•æœºé¢å¯¹æµ·é‡æ•°æ®å’Œå·¨å¤§æ¨¡å‹æ—¶æ˜¯æ— èƒ½ä¸ºåŠ›çš„ï¼Œæœ‰å¿…è¦æŠŠæ•°æ®æˆ–è€…æ¨¡å‹åˆ†å‰²æˆä¸ºå¤šä»½ï¼Œåœ¨å¤šä¸ªæœºå™¨ä¸Šå€ŸåŠ©ä¸åŒä¸»æœºä¸Šçš„ç¡¬ä»¶èµ„æºè¿›è¡Œè®­ç»ƒåŠ é€Ÿã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:2:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"1.2 åˆ†å¸ƒå¼è®­ç»ƒ æœ¬æ–‡æ‰€è¯´çš„è®­ç»ƒï¼ŒæŒ‡çš„æ˜¯åˆ©ç”¨è®­ç»ƒæ•°æ®é€šè¿‡è®¡ç®—æ¢¯åº¦ä¸‹é™çš„æ–¹å¼è¿­ä»£åœ°å»ä¼˜åŒ–ç¥ç»ç½‘ç»œå‚æ•°ï¼Œå¹¶æœ€ç»ˆè¾“å‡ºç½‘ç»œæ¨¡å‹çš„è¿‡ç¨‹ã€‚åœ¨å•æ¬¡æ¨¡å‹è®­ç»ƒè¿­ä»£ä¸­ï¼Œä¼šæœ‰å¦‚ä¸‹æ“ä½œï¼š é¦–å…ˆåˆ©ç”¨æ•°æ®å¯¹æ¨¡å‹è¿›è¡Œå‰å‘çš„è®¡ç®—ã€‚æ‰€è°“çš„å‰å‘è®¡ç®—ï¼Œå°±æ˜¯å°†æ¨¡å‹ä¸Šä¸€å±‚çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥ï¼Œå¹¶è®¡ç®—ä¸‹ä¸€å±‚çš„è¾“å‡ºï¼Œä»è¾“å…¥å±‚ä¸€ç›´ç®—åˆ°è¾“å‡ºå±‚ä¸ºæ­¢ã€‚ å…¶æ¬¡ä¼šæ ¹æ®ç›®æ ‡å‡½æ•°ï¼Œæˆ‘ä»¬å°†åå‘è®¡ç®—æ¨¡å‹ä¸­æ¯ä¸ªå‚æ•°çš„å¯¼æ•°ï¼Œå¹¶ä¸”ç»“åˆå­¦ä¹ ç‡æ¥æ›´æ–°æ¨¡å‹çš„å‚æ•°ã€‚ è€Œå¹¶è¡Œæ¢¯åº¦ä¸‹é™çš„åŸºæœ¬æ€æƒ³ä¾¿æ˜¯ï¼šå¤šä¸ªå¤„ç†å™¨åˆ†åˆ«åˆ©ç”¨è‡ªå·±çš„æ•°æ®æ¥è®¡ç®—æ¢¯åº¦ï¼Œæœ€åé€šè¿‡èšåˆæˆ–å…¶ä»–æ–¹å¼æ¥å®ç°å¹¶è¡Œè®¡ç®—æ¢¯åº¦ä¸‹é™ä»¥åŠ é€Ÿæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ã€‚ æ¯”å¦‚ä¸¤ä¸ªå¤„ç†å™¨åˆ†åˆ«å¤„ç†ä¸€åŠæ•°æ®è®¡ç®—æ¢¯åº¦ g_1, g_2ï¼Œç„¶åæŠŠä¸¤ä¸ªæ¢¯åº¦ç»“æœè¿›è¡Œèšåˆæ›´æ–°ï¼Œè¿™æ ·å°±å®ç°äº†å¹¶è¡Œæ¢¯åº¦ä¸‹é™ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:2:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"1.3 è®­ç»ƒå¹¶è¡Œæœºåˆ¶ 1.3.1 ä¸‰ç§æœºåˆ¶ ç”±äºä½¿ç”¨å°æ‰¹é‡ç®—æ³•ï¼Œå¯ä»¥æŠŠå®½åº¦$(âˆW)$å’Œæ·±åº¦$(âˆD)$çš„å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­åˆ†å‘åˆ°å¹¶è¡Œçš„å¤„ç†å™¨ä¸Šï¼Œè¿™æ ·æ·±åº¦è®­ç»ƒçš„å¹¶è¡Œæœºåˆ¶ä¸»è¦æœ‰ä¸‰ç§ï¼š ç¬¬ä¸€ä¸ªæ˜¯æ¨¡å‹å¹¶è¡Œæœºåˆ¶ï¼ˆæŒ‰ç…§ç½‘ç»œç»“æ„åˆ†åŒºï¼‰ã€‚ é€šå¸¸æ˜¯é’ˆå¯¹ä¸€ä¸ªèŠ‚ç‚¹æ— æ³•å­˜ä¸‹æ•´ä¸ªæ¨¡å‹çš„æƒ…å†µä¸‹ï¼Œå»å¯¹å›¾è¿›è¡Œæ‹†åˆ†ã€‚ å°†æ¨¡å‹å‚æ•°è¿›è¡Œåˆ†å¸ƒå¼å­˜å‚¨ã€‚è®¡ç®—æœºä¸Šæ¯ä¸ªè®¡ç®—å¯ä»¥å»ºæ¨¡ä¸ºä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œé¡¶ç‚¹æ˜¯è®¡ç®—æŒ‡ä»¤ï¼Œè¾¹æ˜¯æ•°æ®ä¾èµ–ï¼ˆæ•°æ®æµï¼‰ã€‚â€œåŸºäºå›¾å»æ‹†åˆ†â€ ä¼šæ ¹æ®æ¯ä¸€å±‚ä¸­çš„ç¥ç»å…ƒï¼ˆå³å››ç»´å¼ é‡ä¸­çš„Cã€Hæˆ–Wç»´ï¼‰æ¥æŠŠä¸€å¼ å¤§çš„å›¾æ‹†åˆ†æˆå¾ˆå¤šéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½ä¼šåœ¨å¾ˆå¤šè®¾å¤‡ä¸Šå»è®¡ç®—ã€‚ æˆ–è€…å¯ä»¥è¿™ä¹ˆç†è§£ï¼šæ·±åº¦å­¦ä¹ çš„è®¡ç®—ä¸»è¦æ˜¯çŸ©é˜µè¿ç®—ï¼Œæœ‰æ—¶å€™çŸ©é˜µéå¸¸å¤§æ— æ³•æ”¾åˆ°æ˜¾å­˜ä¸­ï¼Œå°±åªèƒ½æŠŠè¶…å¤§çŸ©é˜µæ‹†åˆ†äº†æ”¾åˆ°ä¸åŒå¡ä¸Šè®¡ç®—ã€‚ æ¨¡å‹è¾ƒåéƒ¨åˆ†çš„è®¡ç®—å¿…é¡»ç­‰å‰é¢è®¡ç®—å®Œæˆï¼Œå› æ­¤ä¸åŒèŠ‚ç‚¹é—´çš„è®¡ç®—å®é™…æ˜¯ä¸²è¡Œçš„ã€‚ä½†æ¯ä¸ªéƒ¨åˆ†è®¡ç®—äº’ä¸å¦¨ç¢ï¼Œæ›´åƒæ˜¯æµæ°´çº¿ç»“æ„ã€‚ ç¬¬äºŒä¸ªæ˜¯æ•°æ®å¹¶è¡Œæœºåˆ¶ï¼ˆæŒ‰ç…§è¾“å…¥æ ·æœ¬åˆ†åŒºï¼‰ã€‚ æ›´å¤šåœºæ™¯ä¸‹æˆ‘ä»¬æ¨¡å‹è§„æ¨¡ä¸å¤§ï¼Œåœ¨ä¸€å¼  GPU å¯ä»¥å®¹çº³ï¼Œä½†æ˜¯è®­ç»ƒæ•°æ®é‡ä¼šæ¯”è¾ƒå¤§ï¼Œè¿™æ—¶å€™å°±é‡‡ç”¨æ•°æ®å¹¶è¡Œæœºåˆ¶ã€‚ å…·ä½“å°±æ˜¯åœ¨å¤šèŠ‚ç‚¹ä¸Šå¹¶è¡Œåˆ†å‰²æ•°æ®å’Œè®­ç»ƒã€‚ ç¬¬ä¸‰ç§ä¸å¸¸ç”¨çš„å¹¶è¡Œæœºåˆ¶æ˜¯ æµæ°´çº¿æœºåˆ¶ï¼ˆæŒ‰å±‚åˆ†åŒºï¼‰ã€‚ åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œæµæ°´çº¿å¯ä»¥æ˜¯æŒ‡é‡å çš„è®¡ç®—ï¼Œå³åœ¨ä¸€å±‚å’Œä¸‹ä¸€å±‚ä¹‹é—´ï¼ˆå½“æ•°æ®å‡†å¤‡å°±ç»ªæ—¶ï¼‰è¿ç»­è®¡ç®—ï¼›æˆ–è€…æ ¹æ®æ·±åº¦åˆ’åˆ†DNNï¼Œå°†å±‚åˆ†é…ç»™ç‰¹å®šå¤„ç†å™¨ã€‚ æµæ°´çº¿å¯ä»¥çœ‹ä½œæ˜¯æ•°æ®å¹¶è¡Œçš„ä¸€ç§å½¢å¼ï¼Œå› ä¸ºå…ƒç´ ï¼ˆæ ·æœ¬ï¼‰æ˜¯é€šè¿‡ç½‘ç»œå¹¶è¡Œå¤„ç†çš„ï¼Œä½†ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯æ¨¡å‹å¹¶è¡Œï¼Œå› ä¸ºæµæ°´çº¿çš„é•¿åº¦æ˜¯ç”±DNNç»“æ„å†³å®šçš„ã€‚ å…·ä½“å¯è§ä¸‹å›¾: 1.3.2 å¦‚ä½•ä½¿ç”¨ æ•°æ®çš„å¹¶è¡Œå¾€å¾€æ„å‘³ç€è®¡ç®—æ€§èƒ½çš„å¯æ‰©å±•ï¼Œè€Œæ¨¡å‹çš„å¹¶è¡Œå¾€å¾€æ„å‘³ç€å†…å­˜ä½¿ç”¨çš„å¯æ‰©å±•ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ•°æ®å¹¶è¡Œå’Œæ¨¡å‹å¹¶è¡Œä¹Ÿå¹¶ä¸å†²çªï¼Œä¸¤è€…å¯ä»¥åŒæ—¶å­˜åœ¨ï¼Œè€Œæµæ°´çº¿æœºåˆ¶ä¹Ÿå¯ä»¥å’Œæ¨¡å‹å¹¶è¡Œä¸€èµ·æ··ç”¨ã€‚æ¯”å¦‚ï¼ŒDistBeliefåˆ†å¸ƒå¼æ·±åº¦å­¦ä¹ ç³»ç»Ÿç»“åˆäº†ä¸‰ç§å¹¶è¡Œç­–ç•¥ã€‚è®­ç»ƒåœ¨åŒæ—¶å¤åˆ¶çš„å¤šä¸ªæ¨¡å‹ä¸Šè®­ç»ƒï¼Œæ¯ä¸ªæ¨¡å‹å‰¯æœ¬åœ¨ä¸åŒçš„æ ·æœ¬ä¸Šè®­ç»ƒï¼ˆæ•°æ®å¹¶è¡Œï¼‰ï¼Œæ¯ä¸ªå‰¯æœ¬ä¸Šï¼Œä¾æ®åŒä¸€å±‚çš„ç¥ç»å…ƒï¼ˆæ¨¡å‹å¹¶è¡Œæ€§ï¼‰å’Œä¸åŒå±‚ï¼ˆæµæ°´çº¿ï¼‰ä¸Šåˆ’åˆ†ä»»åŠ¡ï¼Œè¿›è¡Œåˆ†å¸ƒè®­ç»ƒã€‚ å¦å¤–ä¹Ÿéœ€è¦æ ¹æ®å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œæ¯”å¦‚ç°ä»£å·ç§¯ç¥ç»ç½‘ç»œä¸»è¦ç”±ä¸¤ç§å±‚æ„æˆï¼Œä»–ä»¬å…·æœ‰ä¸ä¸€æ ·çš„å±æ€§å’Œæ€§èƒ½ã€‚ å·ç§¯å±‚ï¼Œå æ®äº†90% ~ 95% çš„è®¡ç®—é‡ï¼Œ5% çš„å‚æ•°ï¼Œä½†æ˜¯å¯¹ç»“æœå…·æœ‰å¾ˆå¤§çš„è¡¨è¾¾èƒ½åŠ›ã€‚ å…¨è¿æ¥å±‚ï¼Œå æ®äº† 5% ~ 10% çš„è®¡ç®—é‡ï¼Œ 95% çš„å‚æ•°ï¼Œä½†æ˜¯å¯¹äºç»“æœå…·æœ‰ç›¸å¯¹è¾ƒå°çš„è¡¨è¾¾çš„èƒ½åŠ›ã€‚ ç»¼ä¸Šï¼šå·ç§¯å±‚è®¡ç®—é‡å¤§ï¼Œæ‰€éœ€å‚æ•°ç³»æ•° W å°‘ï¼Œå…¨è¿æ¥å±‚è®¡ç®—é‡å°ï¼Œæ‰€éœ€å‚æ•°ç³»æ•° W å¤šã€‚å› æ­¤å¯¹äºå·ç§¯å±‚é€‚åˆä½¿ç”¨æ•°æ®å¹¶è¡Œï¼Œå¯¹äºå…¨è¿æ¥å±‚é€‚åˆä½¿ç”¨æ¨¡å‹å¹¶è¡Œã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:2:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"1.4 æ•°æ®å¹¶è¡Œè®­ç»ƒ æˆ‘ä»¬æœ¬ç³»åˆ—ä¸»è¦è®¨è®ºæ•°æ®å¹¶è¡Œè®­ç»ƒï¼ˆå…¶ä¸­çš„ä¸€ç§æ¶æ„ï¼‰. æ•°æ®å¹¶è¡Œè®­ç»ƒåªæ˜¯ä¸€ç§é€»è¾‘æ¶æ„ã€‚æˆ‘ä»¬ä»æ²ç¥çš„ä¹¦é‡Œé¢æ‘˜å½•ï¼š å‡è®¾æœºå™¨ä¸Šæœ‰kä¸ªGPUã€‚ç»™å®šè¦è®­ç»ƒçš„æ¨¡å‹ï¼Œæ¯ä¸ªGPUå°†ç‹¬ç«‹åœ°ç»´æŠ¤ä¸€ç»„å®Œæ•´çš„æ¨¡å‹å‚æ•°ï¼Œå°½ç®¡GPUä¸Šçš„å‚æ•°å€¼æ˜¯ç›¸åŒä¸”åŒæ­¥çš„ã€‚ä¾‹å¦‚ï¼Œä¸‹å›¾æ¼”ç¤ºäº†åœ¨k=2æ—¶ä½¿ç”¨æ•°æ®å¹¶è¡Œçš„è®­ç»ƒã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹ï¼š åœ¨è®­ç»ƒçš„ä»»ä½•è¿­ä»£ä¸­ï¼Œç»™å®šä¸€ä¸ªéšæœºçš„å°æ‰¹é‡ï¼Œæˆ‘ä»¬å°†è¯¥å°æ‰¹é‡ä¸­çš„æ ·æœ¬åˆ†æˆkä¸ªéƒ¨åˆ†ï¼Œå¹¶å°†å®ƒä»¬å‡åŒ€åœ°åˆ†åœ¨å¤šä¸ªGPUä¸Šã€‚ æ¯ä¸ªGPUæ ¹æ®åˆ†é…ç»™å®ƒçš„å°æ‰¹é‡å­é›†è®¡ç®—æ¨¡å‹å‚æ•°çš„æŸå¤±å’Œæ¢¯åº¦ã€‚ å°†kä¸ªGPUä¸­æ¯ä¸ªGPUçš„å±€éƒ¨æ¢¯åº¦èšåˆä»¥è·å¾—å½“å‰çš„å°æ‰¹é‡éšæœºæ¢¯åº¦ã€‚ èšåˆæ¢¯åº¦è¢«é‡æ–°åˆ†é…åˆ°æ¯ä¸ªGPUã€‚ æ¯ä¸ªGPUä½¿ç”¨è¿™ä¸ªå°æ‰¹é‡éšæœºæ¢¯åº¦æ¥æ›´æ–°å®ƒç»´æŠ¤çš„å®Œæ•´çš„æ¨¡å‹å‚æ•°é›†ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:2:4","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"2 é€šä¿¡å’Œæ¶æ„ å‰é¢æåˆ°å¹¶è¡Œæ¢¯åº¦ä¸‹é™çš„ä¾‹å­ï¼šä¸¤ä¸ªå¤„ç†å™¨åˆ†åˆ«å¤„ç†ä¸€èˆ¬æ•°æ®è®¡ç®—æ¢¯åº¦ $g_1$, $g_2$ï¼Œç„¶åæŠŠä¸¤ä¸ªæ¢¯åº¦ç»“æœè¿›è¡Œèšåˆï¼Œæœ€åå†æŠŠæœ€æ–°å‚æ•°å‘ç»™å„ä¸ªåˆ†å¸ƒè®¡ç®—å•å…ƒï¼Œè¿™ç§è®­ç»ƒç®—æ³•å«æ¨¡å‹ä¸€è‡´æ€§æ–¹æ³•ï¼ˆconsistent model methodsï¼‰ã€‚è¿™å°±æ¶‰åŠåˆ°äº†é€šä¿¡é—®é¢˜ï¼Œå³å¦‚ä½•åšèšåˆã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:3:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"2.1 æ–¹æ³•å’Œæ¶æ„ ä¸€èˆ¬æœ‰ä¸¤ç§é€šä¿¡æ–¹æ³•ï¼šShare memory å’Œ Message passingã€‚ Share memory å°±æ˜¯æ‰€æœ‰å¤„ç†å™¨å…±äº«åŒä¸€å—å†…å­˜ï¼Œè¿™æ ·é€šä¿¡å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹å†…çš„å¤„ç†å™¨ä¹‹é—´æ‰å¯ä»¥å…±äº«å†…å­˜ï¼Œä¸åŒèŠ‚ç‚¹å¤„ç†å™¨ä¹‹é—´æ— æ³•å…±äº«å†…å­˜ã€‚ Message passing å°±æ˜¯ä¸åŒèŠ‚ç‚¹ä¹‹é—´ç”¨æ¶ˆæ¯ï¼ˆæ¯”å¦‚åŸºäº TCP/IP æˆ–è€… RDMAï¼‰è¿›è¡Œä¼ é€’/é€šä¿¡ï¼Œè¿™æ ·å®¹æ˜“æ‰©å±•ï¼Œå¯ä»¥è¿›è¡Œå¤§è§„æ¨¡è®­ç»ƒã€‚ å› æ­¤æˆ‘ä»¬çŸ¥é“ï¼ŒMessage passing æ‰æ˜¯è§£å†³æ–¹æ¡ˆï¼Œäºæ˜¯å¸¦æ¥äº†é—®é¢˜ï¼šå¦‚ä½•åè°ƒè¿™äº›èŠ‚ç‚¹ä¹‹é—´çš„é€šè®¯ã€‚ æœ‰ä¸¤ç§æ¶æ„ï¼š Client-Serveræ¶æ„: ä¸€ä¸ª server èŠ‚ç‚¹åè°ƒå…¶ä»–èŠ‚ç‚¹å·¥ä½œï¼Œå…¶ä»–èŠ‚ç‚¹æ˜¯ç”¨æ¥æ‰§è¡Œè®¡ç®—ä»»åŠ¡çš„ workerã€‚ Peer-to-Peeræ¶æ„ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰é‚»å±…ï¼Œé‚»å±…ä¹‹é—´å¯ä»¥äº’ç›¸é€šä¿¡ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:3:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"2.2 å¼‚æ­¥ vs åŒæ­¥ å¼‚æ­¥ vs åŒæ­¥ æ˜¯é€šä¿¡çš„å¦å¤–ä¸€ä¸ªä¾§é¢ã€‚ åœ¨æ•°æ®å¹¶è¡Œè®­ç»ƒä¹‹ä¸­ï¼Œå„ä¸ªè®¡ç®—è®¾å¤‡åˆ†åˆ«æ ¹æ®å„è‡ªè·å¾—çš„batchï¼Œå‰å‘è®¡ç®—è·å¾—æŸå¤±ï¼Œè¿›è€Œåå‘ä¼ æ’­è®¡ç®—æ¢¯åº¦ã€‚è®¡ç®—å¥½æ¢¯åº¦åï¼Œå°±æ¶‰åŠåˆ°ä¸€ä¸ªæ¢¯åº¦åŒæ­¥çš„é—®é¢˜ï¼šæ¯ä¸ªè®¡ç®—è®¾å¤‡ éƒ½æœ‰æ ¹æ®è‡ªå·±çš„æ•°æ®è®¡ç®—çš„æ¢¯åº¦ï¼Œå¦‚ä½•åœ¨ä¸åŒGPUä¹‹é—´ç»´æŠ¤æ¨¡å‹çš„ä¸åŒå‰¯æœ¬ä¹‹é—´çš„ä¸€è‡´æ€§ï¼Ÿ å¦‚æœä¸åŒçš„æ¨¡å‹ä»¥æŸç§æ–¹å¼æœ€ç»ˆè·å¾—ä¸åŒçš„æƒé‡ï¼Œåˆ™æƒé‡æ›´æ–°å°†å˜å¾—ä¸ä¸€è‡´ï¼Œå¹¶ä¸”æ¨¡å‹è®­ç»ƒå°†æœ‰æ‰€ä¸åŒã€‚ æ€ä¹ˆåšè¿™ä¸ªåŒæ­¥å°±æ˜¯è®¾è®¡åˆ†å¸ƒå¼æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ã€‚ åˆ†å¸ƒå¼è®­ç»ƒçš„æ¢¯åº¦åŒæ­¥ç­–ç•¥å¯åˆ†ä¸ºå¼‚æ­¥ï¼ˆasynchronousï¼‰æ¢¯åº¦æ›´æ–° å’Œ åŒæ­¥ï¼ˆsynchronousï¼‰æ¢¯åº¦æ›´æ–°æœºåˆ¶ã€‚ åŒæ­¥æŒ‡çš„æ˜¯æ‰€æœ‰çš„è®¾å¤‡éƒ½æ˜¯é‡‡ç”¨ç›¸åŒçš„æ¨¡å‹å‚æ•°æ¥è®­ç»ƒï¼Œç­‰å¾…æ‰€æœ‰è®¾å¤‡çš„mini-batchè®­ç»ƒå®Œæˆåï¼Œæ”¶é›†å®ƒä»¬çš„æ¢¯åº¦ç„¶åå–å‡å€¼ï¼Œç„¶åæ‰§è¡Œæ¨¡å‹çš„ä¸€æ¬¡å‚æ•°æ›´æ–°ã€‚ åŒæ­¥è®­ç»ƒç›¸å½“äºé€šè¿‡èšåˆå¾ˆå¤šè®¾å¤‡ä¸Šçš„mini-batchå½¢æˆä¸€ä¸ªå¾ˆå¤§çš„batchæ¥è®­ç»ƒæ¨¡å‹ï¼ŒFacebookå°±æ˜¯è¿™æ ·åšçš„ï¼Œä½†æ˜¯ä»–ä»¬å‘ç°å½“batchå¤§å°å¢åŠ æ—¶ï¼ŒåŒæ—¶çº¿æ€§å¢åŠ å­¦ä¹ é€Ÿç‡ä¼šå–å¾—ä¸é”™çš„æ•ˆæœã€‚ åŒæ­¥è®­ç»ƒçœ‹èµ·æ¥å¾ˆä¸é”™ï¼Œä½†æ˜¯å®é™…ä¸Šéœ€è¦å„ä¸ªè®¾å¤‡çš„è®¡ç®—èƒ½åŠ›è¦å‡è¡¡ï¼Œè€Œä¸”è¦æ±‚é›†ç¾¤çš„é€šä¿¡ä¹Ÿè¦å‡è¡¡ã€‚ å› ä¸ºæ¯ä¸€è½®ç»“æŸæ—¶ç®—å¾—å¿«çš„èŠ‚ç‚¹éƒ½éœ€ç­‰å¾…ç®—å¾—æ…¢çš„èŠ‚ç‚¹ç®—å®Œï¼Œå†è¿›è¡Œä¸‹ä¸€è½®è¿­ä»£ã€‚ç±»ä¼¼äºæœ¨æ¡¶æ•ˆåº”ï¼Œä¸€ä¸ªæ‹–æ²¹ç“¶ä¼šä¸¥é‡æ‹–æ…¢è®­ç»ƒè¿›åº¦ï¼Œæ‰€ä»¥åŒæ­¥è®­ç»ƒæ–¹å¼ç›¸å¯¹æ¥è¯´è®­ç»ƒé€Ÿåº¦ä¼šæ…¢ä¸€äº›ã€‚è¿™ä¸ªæ‹–æ²¹ç“¶ä¸€èˆ¬å°±å«åš stragglerã€‚(ç¼ºç‚¹) å¼‚æ­¥è®­ç»ƒä¸­ï¼Œå„ä¸ªè®¾å¤‡å®Œæˆä¸€ä¸ªmini-batchè®­ç»ƒä¹‹åï¼Œä¸éœ€è¦ç­‰å¾…å…¶å®ƒèŠ‚ç‚¹ï¼Œç›´æ¥å»æ›´æ–°æ¨¡å‹çš„å‚æ•°ï¼Œè¿™æ ·æ€»ä½“ä¼šè®­ç»ƒé€Ÿåº¦ä¼šå¿«å¾ˆå¤š å¼‚æ­¥è®­ç»ƒçš„ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜æ˜¯æ¢¯åº¦å¤±æ•ˆé—®é¢˜ï¼ˆstale gradientsï¼‰ï¼Œåˆšå¼€å§‹æ‰€æœ‰è®¾å¤‡é‡‡ç”¨ç›¸åŒçš„å‚æ•°æ¥è®­ç»ƒï¼Œä½†æ˜¯å¼‚æ­¥æƒ…å†µä¸‹ï¼ŒæŸä¸ªè®¾å¤‡å®Œæˆä¸€æ­¥è®­ç»ƒåï¼Œå¯èƒ½å‘ç°æ¨¡å‹å‚æ•°å…¶å®å·²ç»è¢«å…¶å®ƒè®¾å¤‡æ›´æ–°è¿‡äº†ï¼Œæ­¤æ—¶è¿™ä¸ªæ¢¯åº¦å°±è¿‡æœŸäº†ï¼Œå› ä¸ºç°åœ¨çš„æ¨¡å‹å‚æ•°å’Œè®­ç»ƒå‰é‡‡ç”¨çš„å‚æ•°æ˜¯ä¸ä¸€æ ·çš„ã€‚ç”±äºæ¢¯åº¦å¤±æ•ˆé—®é¢˜ï¼Œå¼‚æ­¥è®­ç»ƒè™½ç„¶é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å¯èƒ½é™·å…¥æ¬¡ä¼˜è§£ï¼ˆsub-optimal training performanceï¼‰ã€‚ å…·ä½“å¦‚å›¾æ‰€ç¤º: è¿™ä¸¤ç§æ›´æ–°æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼š å¼‚æ­¥æ›´æ–°å¯èƒ½ä¼šæ›´å¿«é€Ÿåœ°å®Œæˆæ•´ä¸ªæ¢¯åº¦è®¡ç®—ã€‚ åŒæ­¥æ›´æ–° å¯ä»¥æ›´å¿«åœ°è¿›è¡Œä¸€ä¸ªæ”¶æ•›ã€‚ é€‰æ‹©å“ªç§æ–¹å¼å–å†³äºå®é™…çš„åº”ç”¨åœºæ™¯ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:3:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"3 å…·ä½“æ¶æ„ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å‡ ç§å…·ä½“æ¶æ„å®ç°ï¼Œå…ˆç»™å‡ºä¸€ä¸ªæ€»ä½“è¯´æ˜ï¼š åç§° é€šä¿¡ æ¶æ„ å¹¶è¡Œæ€§ MapReduce æ¶ˆæ¯ä¼ é€’ client-server æ‰¹åŒæ­¥ Parameter Server æ¶ˆæ¯ä¼ é€’ client-server å¼‚æ­¥ Decentralized Network æ¶ˆæ¯ä¼ é€’ P2P(Peer to Peer) åŒæ­¥æˆ–å¼‚æ­¥ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:4:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"3.1 MapReduce MapReduceæ˜¯Client-Serveræ¶æ„ã€‚ä»¥ Spark ä¸ºä¾‹çœ‹çœ‹æ˜¯å¦‚ä½•è¿›è¡Œå¹¶è¡ŒåŒ–ï¼š Spark Driver å°±æ˜¯ Serverï¼ŒSpark Executor å°±æ˜¯ Worker èŠ‚ç‚¹ï¼Œæ¯ä¸€ä¸ªæ¢¯åº¦ä¸‹é™è¿‡ç¨‹åŒ…å«ä¸€ä¸ªå¹¿æ’­ã€mapå’Œä¸€ä¸ª reduce æ“ä½œã€‚ Server å®šä¹‰äº† mapæ“ä½œï¼ˆå°±æ˜¯å…·ä½“çš„è®­ç»ƒï¼‰ï¼Œä¹Ÿå¯ä»¥æŠŠä¿¡æ¯å¹¿æ’­åˆ°workerèŠ‚ç‚¹ã€‚ Worker ä¼šæ‰§è¡Œ map æ“ä½œè¿›è¡Œè®­ç»ƒï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæ•°æ®è¢«åˆ†ç»™ worker è¿›è¡Œè®¡ç®—ã€‚ è®¡ç®—ç»“æŸåï¼ŒworkeræŠŠè®¡ç®—ç»“æœä¼ å› driver å¤„ç†ï¼Œè¿™ä¸ªå«åšreduceã€‚ åœ¨ reduce è¿‡ç¨‹ä¸­ï¼ŒServer èŠ‚ç‚¹å¯¹ worker ä¼ æ¥çš„è®¡ç®—ç»“æœè¿›è¡Œèšåˆä¹‹åï¼ŒæŠŠèšåˆç»“æœå¹¿æ’­åˆ°å„ä¸ªworkerèŠ‚ç‚¹ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:4:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"3.2 Parameter Server å‚æ•°æœåŠ¡å™¨ Parameter server ä¹Ÿæ˜¯ä¸€ç§client-serveræ¶æ„ã€‚å’ŒMapReduceä¸åŒåœ¨äº Parameter server å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼ŒMapReduceåªæœ‰ç­‰æ‰€æœ‰mapéƒ½å®Œæˆäº†æ‰èƒ½åšreduceæ“ä½œã€‚ å‚æ•°æœåŠ¡å™¨æ¶æ„ä¸­ï¼Œè®¡ç®—è®¾å¤‡è¢«åˆ’åˆ†ä¸ºå‚æ•°æœåŠ¡å™¨ï¼ˆPSï¼‰å’Œworkerã€‚ å‚æ•°æœåŠ¡å™¨ï¼ˆserverï¼‰ã€‚æ˜¯ä¸­å¿ƒåŒ–çš„ç»„ä»¶ï¼Œä¸»è¦æ˜¯è´Ÿè´£æ¨¡å‹å‚æ•°çš„å­˜å‚¨ï¼Œå¹³å‡æ¢¯åº¦å’Œäº¤æ¢æ›´æ–°ã€‚å‚æ•°æœåŠ¡å™¨å¯ä»¥æŒ‰ç…§ä¸åŒæ¯”ä¾‹çš„å‚æ•°æœåŠ¡å™¨å’Œå·¥ä½œçº¿ç¨‹è¿›è¡Œé…ç½®ï¼Œæ¯ä¸ªå‚æ•°æœåŠ¡å™¨éƒ½æœ‰ç€ä¸åŒçš„é…ç½®æ•°æ®ã€‚ å·¥ä½œèŠ‚ç‚¹ï¼ˆworkerï¼‰ã€‚æ¯ä¸ªå·¥ä½œèŠ‚ç‚¹ä¼šè´Ÿè´£å®ƒé¢†åŸŸå†…çš„æ•°æ®åˆ†ç‰‡æ‰€å¯¹åº”æ¨¡å‹å‚æ•°çš„æ›´æ–°è®¡ç®—ï¼ˆæ¯”å¦‚å‰å‘å’Œåå‘ä¼ æ’­è¿™ç±»è®¡ç®—å¯†é›†çš„è¿ç®—ï¼‰ï¼ŒåŒæ—¶å®ƒä»¬åˆä¼šå‘å‚æ•°æœåŠ¡å™¨å»ä¼ é€’å®ƒæ‰€è®¡ç®—çš„æ¢¯åº¦ï¼Œç”±å‚æ•°æœåŠ¡å™¨æ¥æ±‡æ€»æ‰€æœ‰çš„æ¢¯åº¦ï¼Œå†è¿›ä¸€æ­¥åé¦ˆåˆ°æ‰€æœ‰èŠ‚ç‚¹ã€‚ å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š æ‰€æœ‰çš„å‚æ•°éƒ½å­˜å‚¨åœ¨å‚æ•°æœåŠ¡å™¨ä¸­ï¼Œè€Œ å·¥ä½œèŠ‚ç‚¹ï¼ˆworkerï¼‰ æ˜¯ä¸‡å¹´æ‰“å·¥ä»”ã€‚ å·¥ä½œèŠ‚ç‚¹ ä»¬åªè´Ÿè´£è®¡ç®—æ¢¯åº¦ï¼Œå¾…æ‰€æœ‰è®¡ç®—è®¾å¤‡å®Œæˆæ¢¯åº¦è®¡ç®—ä¹‹åï¼ŒæŠŠè®¡ç®—å¥½çš„æ¢¯åº¦å‘é€ç»™å‚æ•°æœåŠ¡å™¨ï¼Œè¿™æ ·å‚æ•°æœåŠ¡å™¨æ”¶åˆ°æ¢¯åº¦ä¹‹åï¼Œæ‰§è¡Œä¸€å®šçš„è®¡ç®—ï¼ˆæ¢¯åº¦å¹³å‡ç­‰ï¼‰ä¹‹åï¼Œå°±æ›´æ–°å…¶ç»´æŠ¤çš„å‚æ•°ï¼Œåšåˆ°äº†åœ¨èŠ‚ç‚¹ä¹‹é—´å¯¹æ¢¯åº¦è¿›è¡Œå¹³å‡ï¼Œåˆ©ç”¨å¹³å‡æ¢¯åº¦å¯¹æ¨¡å‹è¿›è¡Œæ›´æ–°ã€‚ ç„¶åå‚æ•°æœåŠ¡å™¨å†æŠŠæ›´æ–°å¥½çš„æ–°å‚æ•°è¿”å›ç»™æ‰€æœ‰çš„å·¥ä½œèŠ‚ç‚¹ï¼Œä»¥å¯¹æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„æ¨¡å‹å‰¯æœ¬åº”ç”¨ä¸€è‡´åŒ–æ›´æ–°ã€‚ æ‰“å·¥ä»”ä»¬ä¼šå†è¿›è¡Œä¸‹ä¸€è½®çš„å‰åå‘è®¡ç®—ã€‚ é€»è¾‘å¦‚ä¸‹ï¼š +----------------------------------------------+ | Parameter Server | | | | | | Compute : New P = P + Sum(Delta P ...) | | | | | | Parameter 1, Parameter 2, Parameter 3 ... | | | | | +--+----+----------+--+----------------+--+----+ ^ | ^ | ^ | | | | | | | Delta P | | Delta P| | Delta P| | +-----+ | | | | +------+ | +-----+ | | | | | | New P | | New P +------+ | | | | | | | New P | v | | | | | | v | v +-+-----------+ +-----+--+---+ +-----+--+---+ | Worker | | Worker | | Worker | | | | | | | | | | | ...... | | | Model | | Model | | Model | +------+------+ +------+-----+ +----+-------+ ^ ^ ^ | | | | | | +----+----+ +----+-----+ +--+-----+ | Data 1 | | Data 2 | | Data 3 | +---------+ +----------+ +--------+ å¦‚å›¾: å‚æ•°æœåŠ¡å™¨æ—¢å¯ä»¥ç”¨åœ¨æ•°æ®å¹¶è¡Œä¸Šï¼Œä¹Ÿå¯ä»¥è¢«ç”¨åˆ°æ¨¡å‹å¹¶è¡Œè®­ç»ƒä¸Šã€‚æ¯”å¦‚å¯ä»¥å°†æ¨¡å‹åˆ‡åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œå­˜å‚¨åœ¨ä¸åŒçš„PS ServerèŠ‚ç‚¹ä¸Šï¼Œå¹¶æä¾›æ–¹ä¾¿çš„è®¿é—®æœåŠ¡ï¼Œè¿™æ˜¯å‚æ•°æœåŠ¡å™¨çš„æœ¬è´¨ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:4:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"3.3 Decentralized Network Decentralized Network å°±æ˜¯å»ä¸­å¿ƒåŒ–ç½‘ç»œï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š å»ä¸­å¿ƒåŒ–ç½‘ç»œæ²¡æœ‰ä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹ï¼Œå±äº Peer-to-Peer æ¶æ„ã€‚ é‡‡ç”¨ message passing è¿›è¡Œé€šä¿¡ï¼Œä¸”èŠ‚ç‚¹åªå’Œé‚»å±…é€šä¿¡ã€‚ å¹¶è¡Œæ–¹å¼å¯ä»¥é‡‡ç”¨å¼‚æ­¥æˆ–è€…åŒæ­¥ã€‚ å»ä¸­å¿ƒåŒ–ç½‘ç»œçš„æ”¶æ•›æƒ…å†µå–å†³äºç½‘ç»œè¿æ¥æƒ…å†µï¼š è¿æ¥è¶Šç´§å¯†ï¼Œæ”¶æ•›æ€§è¶Šå¿«ï¼Œå½“å¼ºè¿æ¥æ—¶å€™ï¼Œæ¨¡å‹å¯ä»¥å¾ˆå¿«æ”¶æ•›ï¼› å¦‚æœä¸æ˜¯å¼ºè¿æ¥ï¼Œå®ƒå¯èƒ½ä¸æ”¶æ•›ï¼› ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:4:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"4 AllReduce å› ä¸ºæœ¬ç³»åˆ—æ˜¯ Horovodï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆè¯´è¯´å‚æ•°æœåŠ¡å™¨çš„åŠ£åŠ¿ï¼Œä¸‹ä¸€ä¸ªç³»åˆ—æˆ‘ä»¬å†è¯´å‚æ•°æœåŠ¡å™¨ä¼˜åŠ¿ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:5:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"4.1 å‚æ•°æœåŠ¡å™¨åŠ£åŠ¿ å°½ç®¡å‚æ•°æœåŠ¡å™¨å¯ä»¥æå‡è¡¨ç°ï¼Œä½†ä»ç„¶é¢ä¸´å‡ ä¸ªé—®é¢˜ï¼š ç¡®å®šå·¥ä½œè€…ä¸å‚æ•°æœåŠ¡å™¨çš„æ­£ç¡®æ¯”ä¾‹ï¼šå¦‚æœä½¿ç”¨ä¸€ä¸ªå‚æ•°æœåŠ¡å™¨ï¼Œå®ƒå¯èƒ½ä¼šæˆä¸ºç½‘ç»œæˆ–è®¡ç®—ç“¶é¢ˆã€‚ å¦‚æœä½¿ç”¨å¤šä¸ªå‚æ•°æœåŠ¡å™¨ï¼Œåˆ™é€šä¿¡æ¨¡å¼å˜ä¸ºâ€œAll-to-Allâ€ï¼Œè¿™å¯èƒ½ä½¿ç½‘ç»œé¥±å’Œã€‚ å¤„ç†ç¨‹åºå¤æ‚æ€§ï¼šå‚æ•°æœåŠ¡å™¨çš„æ¦‚å¿µè¾ƒå¤šï¼Œè¿™é€šå¸¸å¯¼è‡´é™¡å³­çš„å­¦ä¹ æ›²çº¿å’Œå¤§é‡çš„ä»£ç é‡æ„ï¼Œå‹ç¼©äº†å®é™…å»ºæ¨¡çš„æ—¶é—´ã€‚ ç¡¬ä»¶æˆæœ¬ : å‚æ•°æœåŠ¡å™¨çš„å¼•å…¥ä¹Ÿå¢åŠ äº†ç³»ç»Ÿçš„ç¡¬ä»¶æˆæœ¬ã€‚ äººä»¬å‘ç°ï¼ŒMPI_AllReduce è¯­ä¹‰ä¹Ÿå¯ä»¥å¾ˆå¥½åœ°æ»¡è¶³æ•°æ®å¹¶è¡Œè®­ç»ƒè¿™ä¸€éœ€è¦ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šAllReduce æ—¢å¯ä»¥æ˜¯å»ä¸­å¿ƒåŒ–ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸»ä»å¼çš„ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:5:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"4.2 å¹¶è¡Œä»»åŠ¡é€šä¿¡åˆ†ç±» å¹¶è¡Œä»»åŠ¡çš„é€šä¿¡ä¸€èˆ¬å¯ä»¥åˆ†ä¸º Point-to-point communicationå’Œ Collective communicationã€‚ P2P è¿™ç§æ¨¡å¼åªæœ‰ä¸€ä¸ªsenderå’Œä¸€ä¸ªreceiverï¼Œå®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œæ¯”å¦‚NV GPU Direct P2PæŠ€æœ¯æœåŠ¡äºå•æœºå¤šå¡çš„å•æœºå¡é—´æ•°æ®é€šä¿¡ ã€‚ Collective communicationåŒ…å«å¤šä¸ªsenderå’Œå¤šä¸ªreceiverï¼Œä¸€èˆ¬çš„é€šä¿¡åŸç†åŒ…æ‹¬ broadcastï¼Œgather,all-gatherï¼Œscatterï¼Œreduceï¼Œall-reduceï¼Œreduce-scatterï¼Œall-to-allç­‰ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:5:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"4.3 MPI_AllReduce AllReduce(å¯¹mä¸ªç‹¬ç«‹å‚æ•°è¿›è¡Œè§„çº¦ï¼Œå¹¶å°†è§„çº¦ç»“æœè¿”å›ç»™æ‰€æœ‰è¿›ç¨‹), å…¶å®æ˜¯æœ€æ˜¾ç„¶å’Œç›´æ¥çš„åˆ†å¸ƒå¼æœºå™¨å­¦ä¹ æŠ½è±¡ï¼Œå› ä¸ºå¤§éƒ¨åˆ†ç®—æ³•çš„ç»“æ„éƒ½æ˜¯åˆ†å¸ƒæ•°æ®ã€‚åœ¨æ¯ä¸ªå­é›†ä¸Šé¢ç®—å‡ºä¸€äº›å±€éƒ¨ç»Ÿè®¡é‡ï¼Œç„¶åæ•´åˆå‡ºå…¨å±€ç»Ÿè®¡é‡ï¼Œå¹¶ä¸”å†åˆ†é…ç»™å„ä¸ªèŠ‚ç‚¹å»è¿›è¡Œä¸‹ä¸€è½®çš„è¿­ä»£ï¼Œè¿™æ ·ä¸€ä¸ªè¿‡ç¨‹å°±æ˜¯AllReduceã€‚ å¯ä»¥æŠŠæ¯ä¸ª Worker çœ‹ä½œæ˜¯ MPI æ¦‚å¿µä¸­çš„ä¸€ä¸ªè¿›ç¨‹ï¼Œæ¯”å¦‚å¯ä»¥ç”¨ 4 ä¸ª Worker ç»„æˆäº†ä¸€ä¸ªç»„ï¼Œè¯¥ç»„ç”± 4 ä¸ªè¿›ç¨‹ç»„æˆã€‚æˆ‘ä»¬åœ¨è¿™å››ä¸ªè¿›ç¨‹ä¸­å¯¹æ¢¯åº¦è¿›è¡Œä¸€æ¬¡ MPI_AllReduceã€‚ æ ¹æ® MPI_AllReduce çš„è¯­ä¹‰ï¼Œæ‰€æœ‰å‚ä¸è®¡ç®—çš„è¿›ç¨‹éƒ½æœ‰ç»“æœï¼Œæ‰€ä»¥æ¢¯åº¦å°±å®Œæˆäº†åˆ†å‘ã€‚åªè¦åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯æ¯ä¸ª Worker çš„å‚æ•°æ˜¯ä¸€è‡´çš„ï¼Œé‚£åœ¨åç»­çš„è¿­ä»£è®¡ç®—ä¸­ï¼Œå‚æ•°ä¼šä¸€ç›´ä¿æŒä¸€è‡´ï¼Œå› ä¸ºæ¢¯åº¦ä¿¡æ¯æ˜¯ä¸€è‡´çš„ã€‚ AllReduce è·Ÿ MapReduce æœ‰ç±»ä¼¼ï¼Œä½†åè€…é‡‡ç”¨çš„æ˜¯é¢å‘é€šç”¨ä»»åŠ¡å¤„ç†çš„å¤šé˜¶æ®µæ‰§è¡Œä»»åŠ¡çš„æ–¹å¼ï¼Œè€ŒAllReduceåˆ™è®©ä¸€ä¸ªç¨‹åºåœ¨å¿…è¦çš„æ—¶å€™å é¢†ä¸€å°æœºå™¨ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰è¿­ä»£çš„æ—¶å€™ä¸€ç›´è·‘åˆ°åº•ï¼Œæ¥é˜²æ­¢é‡æ–°åˆ†é…èµ„æºçš„å¼€é”€ï¼Œè¿™æ›´åŠ é€‚åˆäºæœºå™¨å­¦ä¹ çš„ä»»åŠ¡å¤„ç†ã€‚ æ‰€ä»¥ï¼ŒMPI_AllReduce çš„è¯­ä¹‰å¯ä»¥å¾ˆå¥½åœ°è§£å†³æ·±åº¦å­¦ä¹ ä¸­æ¢¯åº¦åŒæ­¥çš„é—®é¢˜ã€‚ä½†æ˜¯åˆ°åº•èƒ½ä¸èƒ½ä½¿ç”¨å®ƒï¼Œè¿˜æ˜¯è¦çœ‹ä¸‹å±‚çš„å®ç°å¯¹è¿™ä¸€åœºæ™¯æ˜¯å¦è¶³å¤Ÿå‹å¥½ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:5:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"5 ring-allreduce ç™¾åº¦æå‡ºä½¿ç”¨æ–°ç®—æ³•æ¥å¹³å‡æ¢¯åº¦ï¼Œå–æ¶ˆ Reducerï¼Œå¹¶è®©è¿™äº›æ¢¯åº¦åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¹‹é—´äº¤æµï¼Œè¿™è¢«ç§°ä¸º ring-allreduceï¼Œä»–ä»¬ä½¿ç”¨ TensorFlow ä¹Ÿå®ç°äº†è¿™ç§ç®—æ³•ï¼ˆhttps://github.com/baidu-research/tensorflow-allreduceï¼‰ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:6:0","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"5.1 ç‰¹ç‚¹ Ring-Allreduceç‰¹ç‚¹å¦‚ä¸‹ï¼š Ring Allreduce ç®—æ³•ä½¿ç”¨å®šä¹‰è‰¯å¥½çš„æˆå¯¹æ¶ˆæ¯ä¼ é€’æ­¥éª¤åºåˆ—åœ¨ä¸€ç»„è¿›ç¨‹ä¹‹é—´åŒæ­¥çŠ¶æ€ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ä¸ºå¼ é‡ï¼‰ã€‚ Ring-Allreduce çš„å‘½åä¸­ Ring æ„å‘³ç€è®¾å¤‡ä¹‹é—´çš„æ‹“æ‰‘ç»“æ„ä¸ºä¸€ä¸ªé€»è¾‘ç¯å½¢ï¼Œæ¯ä¸ªè®¾å¤‡éƒ½åº”è¯¥æœ‰ä¸€ä¸ªå·¦é‚»å’Œä¸€ä¸ªå³é‚»å±…ï¼Œä¸”æœ¬è®¾å¤‡åªä¼šå‘å®ƒå³é‚»å±…å‘é€æ•°æ®ï¼Œå¹¶ä¸”ä»å®ƒçš„å·¦é‚»å±…æ¥å—æ•°æ®ã€‚ Ring-Allreduce çš„å‘½åä¸­çš„ Allreduce åˆ™ä»£è¡¨ç€æ²¡æœ‰ä¸­å¿ƒèŠ‚ç‚¹ï¼Œæ¶æ„ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯æ¢¯åº¦çš„æ±‡æ€»è®¡ç®—èŠ‚ç‚¹ã€‚ æ­¤ç§ç®—æ³•å„ä¸ªèŠ‚ç‚¹ä¹‹é—´åªä¸ç›¸é‚»çš„ä¸¤ä¸ªèŠ‚ç‚¹é€šä¿¡ï¼Œå¹¶ä¸éœ€è¦å‚æ•°æœåŠ¡å™¨ã€‚å› æ­¤ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½å‚ä¸è®¡ç®—ä¹Ÿå‚ä¸å­˜å‚¨ï¼Œä¹Ÿé¿å…äº§ç”Ÿä¸­å¿ƒåŒ–çš„é€šä¿¡ç“¶é¢ˆã€‚ ç›¸æ¯”PSæ¶æ„ï¼ŒRing-Allreduce æ¶æ„æ˜¯å¸¦å®½ä¼˜åŒ–çš„ï¼Œå› ä¸ºé›†ç¾¤ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å¸¦å®½éƒ½è¢«å……åˆ†åˆ©ç”¨ã€‚ åœ¨ ring-allreduce ç®—æ³•ä¸­ï¼Œæ¯ä¸ª N èŠ‚ç‚¹ä¸å…¶ä»–ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œ 2 * (N-1) æ¬¡é€šä¿¡ã€‚åœ¨è¿™ä¸ªé€šä¿¡è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹å‘é€å¹¶æ¥æ”¶æ•°æ®ç¼“å†²åŒºä¼ æ¥çš„å—ã€‚åœ¨ç¬¬ä¸€ä¸ªN-1è¿­ä»£ä¸­ï¼Œæ¥æ”¶çš„å€¼è¢«æ·»åŠ åˆ°èŠ‚ç‚¹ç¼“å†²åŒºä¸­çš„å€¼ã€‚åœ¨ç¬¬äºŒä¸ªN-1è¿­ä»£ä¸­ï¼Œæ¥æ”¶çš„å€¼ä»£æ›¿èŠ‚ç‚¹ç¼“å†²åŒºä¸­ä¿å­˜çš„å€¼ã€‚ç™¾åº¦çš„æ–‡ç« è¯æ˜äº†è¿™ç§ç®—æ³•æ˜¯å¸¦å®½ä¸Šæœ€ä¼˜çš„ï¼Œè¿™æ„å‘³ç€å¦‚æœç¼“å†²åŒºè¶³å¤Ÿå¤§ï¼Œå®ƒå°†æœ€å¤§åŒ–åœ°åˆ©ç”¨å¯ç”¨çš„ç½‘ç»œã€‚ åœ¨æ·±åº¦å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œè®¡ç®—æ¢¯åº¦é‡‡ç”¨BPç®—æ³•ï¼Œå…¶ç‰¹ç‚¹æ˜¯åé¢å±‚çš„æ¢¯åº¦å…ˆè¢«è®¡ç®—ï¼Œè€Œå‰é¢å±‚çš„æ¢¯åº¦æ…¢äºåé¢å±‚ï¼ŒRing-allreduceæ¶æ„å¯ä»¥å……åˆ†åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹ï¼Œåœ¨å‰é¢å±‚æ¢¯åº¦è®¡ç®—çš„åŒæ—¶è¿›è¡Œåé¢å±‚æ¢¯åº¦çš„ä¼ é€’ï¼Œä»è€Œè¿›ä¸€æ­¥å‡å°‘è®­ç»ƒæ—¶é—´ã€‚ Ringæ¶æ„ä¸‹çš„åŒæ­¥ç®—æ³•å°†å‚æ•°åœ¨é€šä¿¡ç¯ä¸­ä¾æ¬¡ä¼ é€’ï¼Œå¾€å¾€éœ€è¦å¤šæ­¥æ‰èƒ½å®Œæˆä¸€æ¬¡å‚æ•°åŒæ­¥ã€‚åœ¨å¤§è§„æ¨¡è®­ç»ƒæ—¶ä¼šå¼•å…¥å¾ˆå¤§çš„é€šä¿¡å¼€é”€ï¼Œå¹¶ä¸”å¯¹å°å°ºå¯¸å¼ é‡ï¼ˆtensorï¼‰ä¸å¤Ÿå‹å¥½ã€‚å¯¹äºå°å°ºå¯¸å¼ é‡ï¼Œå¯ä»¥é‡‡ç”¨æ‰¹é‡æ“ä½œï¼ˆbatchï¼‰çš„æ–¹æ³•æ¥å‡å°é€šä¿¡å¼€é”€ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼ŒRing-based AllReduce æ¶æ„çš„ç½‘ç»œé€šè®¯é‡å¦‚æœå¤„ç†é€‚å½“ï¼Œä¸ä¼šéšç€æœºå™¨å¢åŠ è€Œå¢åŠ ï¼Œè€Œä»…ä»…å’Œæ¨¡å‹ \u0026 ç½‘ç»œå¸¦å®½æœ‰å…³ï¼Œè¿™é’ˆå¯¹å‚æ•°æœåŠ¡å™¨æ˜¯ä¸ªå·¨å¤§çš„æå‡ã€‚ ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:6:1","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"5.2 ç­–ç•¥ Ring-based AllReduce ç­–ç•¥åŒ…æ‹¬ Scatter-Reduce å’Œ AllGather ä¸¤ä¸ªé˜¶æ®µã€‚ é¦–å…ˆæ˜¯scatter-reduceï¼Œscatter-reduce ä¼šé€æ­¥äº¤æ¢å½¼æ­¤çš„æ¢¯åº¦å¹¶èåˆï¼Œæœ€åæ¯ä¸ª GPU éƒ½ä¼šåŒ…å«å®Œæ•´èåˆæ¢¯åº¦çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯æœ€ç»ˆç»“æœçš„ä¸€ä¸ªå—ã€‚ å‡è®¾ç¯ä¸­æœ‰ N ä¸ª workerï¼Œæ¯ä¸ª worker æœ‰é•¿åº¦ç›¸åŒçš„æ•°ç»„ï¼Œéœ€è¦å°† worker çš„æ•°ç»„è¿›è¡Œæ±‚å’Œã€‚åœ¨ Scatter-Reduce é˜¶æ®µï¼Œæ¯ä¸ª worker ä¼šå°†æ•°ç»„åˆ†æˆ N ä»½æ•°æ®å—ï¼Œç„¶å worker ä¹‹é—´è¿›è¡Œ N æ¬¡æ•°æ®äº¤æ¢ã€‚åœ¨ç¬¬ k æ¬¡æ•°æ®äº¤æ¢æ—¶ï¼Œç¬¬ i ä¸ª worker ä¼šå°†è‡ªå·±çš„ (i - k) % N ä»½æ•°æ®å—å‘é€ç»™ä¸‹ä¸€ä¸ª workerã€‚æ¥æ”¶åˆ°ä¸Šä¸€ä¸ª worker çš„æ•°æ®å—åï¼Œworker ä¼šå°†å…¶ä¸è‡ªå·±å¯¹åº”çš„æ•°æ®å—æ±‚å’Œã€‚ ç„¶åæ˜¯allgatherã€‚GPU ä¼šé€æ­¥äº¤æ¢å½¼æ­¤ä¸å®Œæ•´çš„èåˆæ¢¯åº¦ï¼Œæœ€åæ‰€æœ‰ GPU éƒ½ä¼šå¾—åˆ°å®Œæ•´çš„æœ€ç»ˆèåˆæ¢¯åº¦ã€‚ åœ¨æ‰§è¡Œå®Œ Scatter-Reduce åï¼Œæ¯ä¸ª worker çš„æ•°ç»„é‡Œéƒ½æœ‰æŸä¸ªæ•°æ®å—æ˜¯æœ€ç»ˆæ±‚å’Œçš„ç»“æœï¼Œç°åœ¨éœ€è¦å°†å„æ•°æ®å—çš„æœ€åæ±‚å’Œç»“æœå‘é€åˆ°æ¯ä¸ª worker ä¸Šã€‚å’Œ Scatter-Reduce ä¸€æ ·ï¼Œä¹Ÿéœ€è¦ N æ¬¡å¾ªç¯ã€‚åœ¨ç¬¬ k æ¬¡å¾ªç¯æ—¶ï¼Œç¬¬ i ä¸ª worker ä¼šå°†å…¶ç¬¬ (i+1-k)%N ä¸ªæ•°æ®å—å‘é€ç»™ä¸‹ä¸€ä¸ª worker ã€‚æ¥æ”¶åˆ°å‰ä¸€ä¸ª worker çš„æ•°æ®å—åï¼Œworker ä¼šç”¨æ¥æ”¶çš„æ•°æ®å¿«è¦†ç›–è‡ªå·±å¯¹åº”çš„æ•°æ®å—ã€‚è¿›è¡Œ N æ¬¡å¾ªç¯åï¼Œæ¯ä¸ª worker å°±æ‹¥æœ‰äº†æ•°ç»„å„æ•°æ®å—çš„æœ€ç»ˆæ±‚å’Œç»“æœäº†ã€‚ ä»¥ä¸‹éƒ¨åˆ†æ¥è‡ª https://andrew.gibiansky.com/blog/machine-learning/baidu-allreduce/ï¼Œè¿™æ˜¯æˆ‘èƒ½æ‰¾åˆ°æœ€ä¼˜ç§€çš„è§£è¯»ã€‚ 5.2.1 ç»“æ„ ç¯å½¢ç»“æ„å¦‚ä¸‹ï¼Œæ¯ä¸ª GPU åº”è¯¥æœ‰ä¸€ä¸ªå·¦é‚»å±…å’Œä¸€ä¸ªå³é‚»å±…ï¼›å®ƒåªä¼šå‘å…¶å³ä¾§é‚»å±…å‘é€æ•°æ®ï¼Œå¹¶ä»å…¶å·¦ä¾§é‚»å±…æ¥æ”¶æ•°æ®ã€‚ 5.2.2 scatter reduce scatter-reduceï¼šä¼šé€æ­¥äº¤æ¢å½¼æ­¤çš„æ¢¯åº¦å¹¶èåˆï¼Œæœ€åæ¯ä¸ª GPU éƒ½ä¼šåŒ…å«å®Œæ•´èåˆæ¢¯åº¦çš„ä¸€éƒ¨åˆ†ã€‚ ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾ç›®æ ‡æ˜¯æŒ‰å…ƒç´ å¯¹å•ä¸ªå¤§å‹æµ®ç‚¹æ•°æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ±‚å’Œï¼›ç³»ç»Ÿä¸­æœ‰ N ä¸ª GPUï¼Œæ¯ä¸ª GPU éƒ½æœ‰ä¸€ä¸ªç›¸åŒå¤§å°çš„æ•°ç»„ï¼Œåœ¨ allreduce çš„æœ€åç¯èŠ‚ï¼Œæ¯ä¸ª GPU éƒ½åº”è¯¥æœ‰ä¸€ä¸ªç›¸åŒå¤§å°çš„æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«åŸå§‹æ•°ç»„ä¸­æ•°å­—çš„æ€»å’Œã€‚ 5.2.2.1 åˆ†å— é¦–å…ˆï¼ŒGPU å°†é˜µåˆ—åˆ’åˆ†ä¸º N ä¸ªè¾ƒå°çš„å—ï¼ˆå…¶ä¸­ N æ˜¯ç¯ä¸­çš„ GPU æ•°é‡ï¼‰ã€‚ æ¥ä¸‹æ¥ï¼ŒGPU å°†è¿›è¡Œ N-1 æ¬¡ scatter-reduce è¿­ä»£ã€‚ åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼ŒGPU ä¼šå°†å…¶ä¸€ä¸ªå—å‘é€åˆ°å…¶å³é‚»å±…ï¼Œå¹¶å°†ä»å…¶å·¦é‚»å±…æ¥æ”¶ä¸€ä¸ªå—å¹¶ç´¯ç§¯åˆ°è¯¥å—ä¸­ã€‚æ¯ä¸ª GPU å‘é€å’Œæ¥æ”¶çš„æ•°æ®å—æ¯æ¬¡è¿­ä»£éƒ½ä¸åŒã€‚ç¬¬ n ä¸ª GPU é€šè¿‡å‘é€å— n å’Œæ¥æ”¶å— n â€“ 1 å¼€å§‹ï¼Œç„¶åé€æ­¥å‘åè¿›è¡Œï¼Œæ¯æ¬¡è¿­ä»£å‘é€å®ƒåœ¨å‰ä¸€æ¬¡è¿­ä»£ä¸­æ¥æ”¶åˆ°çš„å—ã€‚ 5.2.2.2 ç¬¬ä¸€æ¬¡è¿­ä»£ åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œä¸Šå›¾ä¸­çš„äº”ä¸ª GPU å°†å‘é€å’Œæ¥æ”¶ä»¥ä¸‹å—ï¼š GPU å‘é€ æ¥æ”¶ 0 å—0 å—4 1 å—1 å—0 2 å—2 å—1 3 å—3 å—2 4 å—4 å—3 scatter-reduce çš„ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­çš„æ•°æ®ä¼ è¾“å¦‚ä¸‹ï¼š ç¬¬ä¸€æ¬¡å‘é€å’Œæ¥æ”¶å®Œæˆåï¼Œæ¯ä¸ª GPU éƒ½ä¼šæœ‰ä¸€ä¸ªå—ï¼Œè¯¥å—ç”±ä¸¤ä¸ªä¸åŒ GPU ä¸Šç›¸åŒå—çš„æ€»å’Œç»„æˆã€‚ä¾‹å¦‚ï¼Œç¬¬äºŒä¸ª GPU ä¸Šçš„ç¬¬ä¸€ä¸ªå—å°†æ˜¯è¯¥å—ä¸­æ¥è‡ªç¬¬äºŒä¸ª GPU å’Œç¬¬ä¸€ä¸ª GPU çš„å€¼çš„æ€»å’Œã€‚ 5.2.2.2 å…¨éƒ¨è¿­ä»£ åœ¨åç»­è¿­ä»£ä¸­ï¼Œè¯¥è¿‡ç¨‹ç»§ç»­ç›´åˆ°æœ€åã€‚æœ€ç»ˆæ¯ä¸ª GPU å°†æœ‰ä¸€ä¸ªå—ï¼Œè¿™ä¸ªå—åŒ…å«æ‰€æœ‰ GPU ä¸­è¯¥å—ä¸­æ‰€æœ‰å€¼çš„æ€»å’Œã€‚ ä¸‹é¢ç³»åˆ—å›¾å±•ç¤ºäº†æ‰€æœ‰æ•°æ®ä¼ è¾“å’Œä¸­é—´ç»“æœï¼Œä»ç¬¬ä¸€æ¬¡è¿­ä»£å¼€å§‹ï¼Œä¸€ç›´æŒç»­åˆ°scatter-reduceå®Œæˆã€‚ iter 1ï¼š iter2ï¼š iter3ï¼š iter4ï¼š æ‰€æœ‰ scatter-reduce ä¼ è¾“åçš„æœ€ç»ˆçŠ¶æ€ 5.2.3 Allgather åœ¨ scatter-reduce æ­¥éª¤å®Œæˆåï¼Œåœ¨æ¯ä¸ª GPU çš„æ•°ç»„ä¸­éƒ½æœ‰æŸä¸€äº›å€¼ï¼ˆæ¯ä¸ª GPU æœ‰ä¸€ä¸ªå—ï¼‰æ˜¯æœ€ç»ˆå€¼ï¼Œå…¶ä¸­åŒ…æ‹¬æ¥è‡ªæ‰€æœ‰ GPU çš„è´¡çŒ®ã€‚ä¸ºäº†å®Œæˆ allreduceï¼ŒGPU å¿…é¡»æ¥ä¸‹æ¥äº¤æ¢è¿™äº›å—ï¼Œä»¥ä¾¿æ‰€æœ‰ GPU éƒ½å…·æœ‰æœ€ç»ˆæ‰€éœ€çš„å€¼ã€‚ ring allgather ä¸ scatter-reduce è¿›è¡Œç›¸åŒçš„å¤„ç†ï¼ˆå‘é€å’Œæ¥æ”¶çš„ N-1 æ¬¡è¿­ä»£ï¼‰ï¼Œä½†æ˜¯ä»–ä»¬è¿™æ¬¡ä¸æ˜¯ç´¯ç§¯ GPU æ¥æ”¶çš„å€¼ï¼Œè€Œåªæ˜¯ç®€å•åœ°è¦†ç›–å—ã€‚ç¬¬ n ä¸ª GPU å¼€å§‹å‘é€ç¬¬ n+1 ä¸ªå—å¹¶æ¥æ”¶ç¬¬ n ä¸ªå—ï¼Œç„¶ååœ¨ä»¥åçš„è¿­ä»£ä¸­å§‹ç»ˆå‘é€å®ƒåˆšåˆšæ¥æ”¶åˆ°çš„å—ã€‚ 5.2.3.1 ç¬¬ä¸€æ¬¡è¿­ä»£ ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„ 5-GPU è®¾ç½®çš„ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ï¼ŒGPU å°†å‘é€å’Œæ¥æ”¶ä»¥ä¸‹å—ï¼š GPU å‘é€ æ¥æ”¶ 0 å—1 å—0 1 å—2 å—1 2 å—3 å—2 3 å—4 å—3 4 å—0 å—4 allgather çš„ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­çš„æ•°æ®ä¼ è¾“å¦‚ä¸‹ã€‚ ç¬¬ä¸€æ¬¡è¿­ä»£å®Œæˆåï¼Œæ¯ä¸ª GPU éƒ½ä¼šæœ‰æœ€ç»ˆæ•°ç»„çš„ä¸¤ä¸ªå—ã€‚åœ¨æ¥ä¸‹æ¥çš„è¿­ä»£ä¸­ï¼Œè¯¥è¿‡ç¨‹ç»§ç»­ä¸€ç›´åˆ°æœ€åï¼Œæœ€ç»ˆæ¯ä¸ª GPU å°†æ‹¥æœ‰æ•´ä¸ªæ•°ç»„çš„å®Œå…¨ç´¯åŠ å€¼ã€‚ 5.2.3.2 å…¨éƒ¨è¿­ä»£ ä¸‹é¢ç³»åˆ—å›¾å±•ç¤ºäº†æ‰€æœ‰æ•°æ®ä¼ è¾“å’Œä¸­é—´ç»“æœï¼Œä»ç¬¬ä¸€æ¬¡è¿­ä»£å¼€å§‹ï¼Œä¸€ç›´æŒç»­åˆ°å…¨éƒ¨æ”¶é›†å®Œæˆã€‚ Allgather æ•°æ®ä¼ è¾“ï¼ˆè¿­ä»£ 1ï¼‰ Allgather æ•°æ®ä¼ è¾“ï¼ˆè¿­ä»£ 2ï¼‰å¦‚ä¸‹ï¼š Allgather æ•°æ®ä¼ è¾“ï¼ˆè¿­ä»£ 3ï¼‰ï¼š Allgather æ•°æ®ä¼ è¾“ï¼ˆè¿­ä»£ 4ï¼‰ï¼š æ‰€æœ‰å…¨éƒ¨è½¬ç§»åçš„æœ€ç»ˆçŠ¶æ€ã€‚ 5.2.4 Horovod æ¶æ„å›¾ å·¥ä½œåŸç†ä¹Ÿå¯ä»¥å€ŸåŠ©Horovodçš„å‘å¸ƒå¸–å­ æ¥çœ‹çœ‹ã€‚ 5.2.5 ç™¾åº¦æ€è·¯ æˆ–è€…æˆ‘ä»¬ä»ç™¾åº¦çš„æºç ä¸­ä¹Ÿå¯ä»¥ç›´æ¥çœ‹åˆ°æ€è·¯ï¼Œç°åœ¨æ‘˜å½•ç»™å¤§å®¶ã€‚ å…·ä½“ä»£ç å‚è§ https://github.com/baidu-research/tensorflow-allreduce/commit/66d5b855e90b0949e9fa5cca5599fd729a70e874#diff-3d530d590e551619acd776cfe7eaff06R517 /* Perform a ring allreduce on the data. Allocate the necessary output tensor and * store it in the output parameter. * * Assumes that all MPI processes are doing an allreduce of the same tensor, * with the same dimensions. * * A ring allreduce is a bandwidth-optimal way to do an allreduce. To do the allreduce, * the nodes involved are arranged in a ring: * * .--0--. * / \\ * 3 1 * \\ / * *--2--* * * Each node always sends to the next clockwise node in the ring, and receives * from the previous one. * * The allreduce is done in two parts: a scatter-reduce and an allgather. In * the scatter reduce, a reduction is done, so that each node ends up with a * chunk of the final output tensor which has contributions from all other * nodes. In the allgather, those chunks are distributed among all the nodes, * so that all nodes have the entire output tensor. * * Both of these operations are done by dividing the input tensor into N * evenly sized chunks (where N is the number of nodes in the ring). * * The scatter-reduce is done in N-1 steps. In the ith step, node j will send * the (j - i)th chunk and receive the (j - i - 1)th chunk, adding it in to * its existing data for that chunk. For example, in the first iteration with * the ring depicted above, you will have the following transfers: * * Segment 0: Node 0 --\u003e Node 1 * Segment 1: Node 1 --\u003e Node 2 * Segment 2: Node 2 --\u003e Node 3 * Segment 3: Node 3 --\u003e Node 0 * * In the second iteration, you'll have ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:6:2","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Distributed Computing"],"content":"5.3 åŒºåˆ« åœ¨ä¸­ç­‰è§„æ¨¡æ¨¡å‹æƒ…å†µä¸‹ï¼Œall-reduce æ›´é€‚åˆã€‚å½“è§„æ¨¡å·¨å¤§æ—¶å€™åˆ™åº”è¯¥ä½¿ç”¨å‚æ•°æœåŠ¡å™¨ã€‚ å‚æ•°æœåŠ¡å™¨ é€‚åˆçš„æ˜¯é«˜ç»´ç¨€ç–æ¨¡å‹è®­ç»ƒï¼Œå®ƒåˆ©ç”¨çš„æ˜¯ç»´åº¦ç¨€ç–çš„ç‰¹ç‚¹ï¼Œæ¯æ¬¡ pull or push åªæ›´æ–°æœ‰æ•ˆçš„å€¼ã€‚ä½†æ˜¯æ·±åº¦å­¦ä¹ æ¨¡å‹æ˜¯å…¸å‹çš„denseåœºæ™¯ï¼Œembeddingåšçš„å°±æ˜¯æŠŠç¨€ç–å˜æˆç¨ å¯†ã€‚æ‰€ä»¥è¿™ç§ pull or push çš„ä¸å¤ªé€‚åˆã€‚è€Œ ç½‘ç»œé€šä¿¡ä¸Šæ›´ä¼˜åŒ–çš„ all-reduce é€‚åˆä¸­ç­‰è§„æ¨¡çš„æ·±åº¦å­¦ä¹ ã€‚ åˆæ¯”å¦‚ç”±äºæ¨èæœç´¢é¢†åŸŸæ¨¡å‹çš„ Embedding å±‚è§„æ¨¡åºå¤§ä»¥åŠè®­ç»ƒæ•°æ®æ ·æœ¬é•¿åº¦ä¸å›ºå®šç­‰åŸå› ï¼Œå¯¼è‡´å®¹æ˜“å‡ºç°æ˜¾å­˜ä¸è¶³å’Œå¡é—´åŒæ­¥æ—¶é—´è€—è´¹ç­‰é—®é¢˜ï¼Œæ‰€ä»¥ all-reduce æ¶æ„å¾ˆå°‘è¢«ç”¨äºæœç´¢æ¨èé¢†åŸŸã€‚ è‡³æ­¤ï¼ŒèƒŒæ™¯çŸ¥è¯†å·²ç»ä»‹ç»å®Œæ¯•ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬å¼€å§‹ä»‹ç» Horovod çš„ä½¿ç”¨ã€‚ reference: [1] https://www.cnblogs.com/rossiXYZ/p/14856464.html ","date":"2023-07-10","objectID":"/posts/2022-10-08_horovod_1/:6:3","tags":["Horovod"],"title":"æ·±åº¦å­¦ä¹ åˆ†å¸ƒå¼è®­ç»ƒæ¡†æ¶ Horovod[1] -- åŸºç¡€çŸ¥è¯†","uri":"/posts/2022-10-08_horovod_1/"},{"categories":["Memo"],"content":" quote tips for hugo installation and new site creation. Commands for creating sites backend with hugo create a new markdown file hugo new posts/tech/name-of-file.md hugo new content/posts/tech/name-of-file.md create new site hugo new site name Install hugo Linux wget https://github.com/gohugoio/hugo/releases/download/v0.83.1/hugo_0.83.1_Linux-64bit.tar.gz tar -xf hugo_0.83.1_Linux-64bit.tar.gz sudo mv hugo /usr/local/bin/ hugo version ","date":"2023-07-09","objectID":"/posts/hugo_command/:0:0","tags":["hugo"],"title":"Hugo_command","uri":"/posts/hugo_command/"},{"categories":["Node.js","JavaScript"],"content":"æœ€è¿‘åœ¨å†™ä¸€ä¸ª Vue æ’ä»¶ï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€äº›æµ‹è¯•é¡µé¢ï¼Œç”±äºéƒ½æ˜¯äº›é™æ€è·¯ç”±ï¼Œå°±æƒ³åˆ°ä¹‹å‰çœ‹åˆ°è¿‡çš„ä¸€ä¸ªé¡¹ç›®å°±æ˜¯ç”¨ Node.js æ¥è‡ªåŠ¨ç”Ÿæˆè·¯ç”±çš„ï¼Œäºæ˜¯å°±å€Ÿé‰´è¿‡æ¥æ”¹äº†ä¸€ä¸‹ã€‚ ","date":"2023-06-14","objectID":"/posts/gen-router/:0:0","tags":["Node.js","JavaScript","Vue"],"title":"ä½¿ç”¨ Node.js è‡ªåŠ¨åˆ›å»º Vue çš„è·¯ç”±","uri":"/posts/gen-router/"},{"categories":["Node.js","JavaScript"],"content":"æºç  const fs = require('fs') const os = require('os') const vueDir = './src/views/' const routerFile = './src/router.js' fs.readdir(vueDir, function (err, files) { if (err) { console.error('âŒ Could not list the directory.', err) return } const routes = [] for (const filename of files) { if (filename.indexOf('.') \u003c 0) { continue } const [name, ext] = filename.split('.') if (ext !== 'vue') { continue } const routeName = name.replace(/-([a-z])/g, (_, match) =\u003e match.toUpperCase()) let routeDescription = '' const contentFull = fs.readFileSync(`${vueDir}${filename}`, 'utf-8') // get route description from first line comment const match = /\u003c!--\\s*(.*)\\s*--\u003e/g.exec(contentFull.split(os.EOL)[0]) if (match) { routeDescription = match[1].trim() } routes.push(` { path: '/${name === 'home' ? '' : name}', name: '${routeName}',${routeDescription ? `\\n description: '${routeDescription}',` : ''} component: () =\u003e import(/* webpackChunkName: \"${routeName}\" */ '@/views/${filename}'), },`) } const result = `// This file is automatically generated by gen-router.js, please do not modify it manuallyï¼ import VueRouter from 'vue-router' import Vue from 'vue' Vue.use(VueRouter) const routes = [ ${routes.join(os.EOL)} ] const router = new VueRouter({ mode: 'hash', routes, }) export default router ` fs.writeFile(routerFile, result, 'utf-8', (err) =\u003e { if (err) throw err console.log(`âœ… Router generated successfully in ${routerFile}`) }) }) ç”Ÿæˆæ•ˆæœå¦‚ä¸‹ï¼š // This file is automatically generated by gen-router.js, please do not modify it manuallyï¼ import VueRouter from 'vue-router' import Vue from 'vue' Vue.use(VueRouter) const routes = [ { path: '/', name: 'home', description: 'Home', component: () =\u003e import(/* webpackChunkName: \"home\" */ '@/views/home.vue'), }, ] const router = new VueRouter({ mode: 'hash', routes, }) export default router ","date":"2023-06-14","objectID":"/posts/gen-router/:1:0","tags":["Node.js","JavaScript","Vue"],"title":"ä½¿ç”¨ Node.js è‡ªåŠ¨åˆ›å»º Vue çš„è·¯ç”±","uri":"/posts/gen-router/"},{"categories":["Node.js","JavaScript"],"content":"å‚è€ƒ sunzsh/vue-el-demo ","date":"2023-06-14","objectID":"/posts/gen-router/:2:0","tags":["Node.js","JavaScript","Vue"],"title":"ä½¿ç”¨ Node.js è‡ªåŠ¨åˆ›å»º Vue çš„è·¯ç”±","uri":"/posts/gen-router/"},{"categories":["Git"],"content":"é—®é¢˜æè¿° åœ¨ä½¿ç”¨ SourceTree æäº¤ä»£ç çš„æ—¶å€™ï¼Œä¼šå‡ºç° husky å‘½ä»¤å¤±è´¥çš„é—®é¢˜ï¼ˆé€šè¿‡å‘½ä»¤è¡Œæäº¤ä»£ç æ²¡æœ‰é—®é¢˜ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š çœ‹é”™è¯¯ï¼Œæ˜¯ä¸€ä¸ª catch å‚æ•°çš„é—®é¢˜ï¼Œåœ¨æ–°ç‰ˆæœ¬çš„ Node ä¸­ï¼Œcatch å‚æ•°æ˜¯å¯ä»¥çœç•¥çš„ï¼Œä½†æ˜¯åœ¨æ—§ç‰ˆæœ¬ä¸­ï¼Œcatch å‚æ•°æ˜¯å¿…é¡»çš„ã€‚ ç”±äºä½¿ç”¨äº† nvm ç®¡ç† Node ç‰ˆæœ¬ï¼Œé¡¹ç›®ä¸­çš„ Node æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯ SourceTree ä½¿ç”¨çš„æ˜¯ç³»ç»Ÿçš„ Nodeï¼Œæ‰€ä»¥ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ ","date":"2023-06-12","objectID":"/posts/sourcetree-husky/:1:0","tags":["Git","husky","Mac"],"title":"è§£å†³ SourceTree æäº¤æ—¶å€™ husky å‘½ä»¤å¤±è´¥é—®é¢˜","uri":"/posts/sourcetree-husky/"},{"categories":["Git"],"content":"è§£å†³æ–¹æ¡ˆ çŸ¥é“äº†é—®é¢˜çš„åŸå› ï¼Œè§£å†³èµ·æ¥å°±å¾ˆç®€å•äº†ï¼Œåªéœ€è¦å°† SourceTree husky hook é˜¶æ®µçš„ Node ç‰ˆæœ¬åˆ‡æ¢åˆ°é¡¹ç›®ä¸­çš„ Node ç‰ˆæœ¬å³å¯ã€‚ é…ç½® .huskyrc æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š echo \"export PATH=\\\"$(dirname $(which node)):\\$PATH\\\"\" \u003e ~/.huskyrc å¦‚æœä½ ä½¿ç”¨äº† zsh å’Œ nvm, å»ºè®®åœ¨ $ZSH_CUSTOM ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰ zsh è„šæœ¬ã€‚ è¿™ä¸ªè„šæœ¬ä¼šåœ¨ä½ è¿›å…¥åŒ…å«äº† .nvmrc æ–‡ä»¶ç›®å½•ä¸­è‡ªåŠ¨åˆ‡æ¢ node ç‰ˆæœ¬ï¼Œåˆ‡æ¢ç‰ˆæœ¬åä¿®æ­£ ~/.huskyrc çš„ path å†…å®¹ã€‚ vim $ZSH_CUSTOM/nvm_custom.zsh # https://github.com/nvm-sh/nvm#manual-install export NVM_DIR=\"$HOME/.nvm\" [ -s \"$NVM_DIR/nvm.sh\" ] \u0026\u0026 \\. \"$NVM_DIR/nvm.sh\" # This loads nvm [ -s \"$NVM_DIR/bash_completion\" ] \u0026\u0026 \\. \"$NVM_DIR/bash_completion\" # This loads nvm bash_completion # https://github.com/nvm-sh/nvm#deeper-shell-integration autoload -U add-zsh-hook load-nvmrc() { local node_version=\"$(nvm version)\" local nvmrc_path=\"$(nvm_find_nvmrc)\" if [ -n \"$nvmrc_path\" ]; then local nvmrc_node_version=$(nvm version \"$(cat \"${nvmrc_path}\")\") if [ \"$nvmrc_node_version\" = \"N/A\" ]; then nvm install elif [ \"$nvmrc_node_version\" != \"$node_version\" ]; then nvm use fi elif [ \"$node_version\" != \"$(nvm version default)\" ]; then echo \"Reverting to nvm default version\" nvm use default fi # fix husky hook # ref: https://github.com/typicode/husky/issues/390#issuecomment-762213421 echo \"export PATH=\\\"$(dirname $(which node)):\\$PATH\\\"\" \u003e ~/.huskyrc } add-zsh-hook chpwd load-nvmrc load-nvmrc # https://github.com/nvm-sh/nvm#use-a-mirror-of-node-binaries export NVM_NODEJS_ORG_MIRROR=https://mirrors.ustc.edu.cn/node/ ","date":"2023-06-12","objectID":"/posts/sourcetree-husky/:2:0","tags":["Git","husky","Mac"],"title":"è§£å†³ SourceTree æäº¤æ—¶å€™ husky å‘½ä»¤å¤±è´¥é—®é¢˜","uri":"/posts/sourcetree-husky/"},{"categories":["Git"],"content":"å‚è€ƒ https://wxhboy.cn/2022/04/12/è§£å†³SourceTreeæäº¤æ—¶å€™huskyå‘½ä»¤å¤±è´¥é—®é¢˜/ https://github.com/typicode/husky/issues/390#issuecomment-762213421 https://github.com/typicode/husky/issues/904#issuecomment-862184954 https://github.com/nvm-sh/nvm#deeper-shell-integration ","date":"2023-06-12","objectID":"/posts/sourcetree-husky/:3:0","tags":["Git","husky","Mac"],"title":"è§£å†³ SourceTree æäº¤æ—¶å€™ husky å‘½ä»¤å¤±è´¥é—®é¢˜","uri":"/posts/sourcetree-husky/"},{"categories":["CSS","JavaScript"],"content":"æ–°å»º Vue2 é¡¹ç›® é€šè¿‡ vue-cli åˆ›å»ºä¸€ä¸ªå« v2-tailwind çš„é¡¹ç›®ï¼š vue create vue2-tailwind æ ¹æ®éœ€è¦é€‰æ‹©å…¶ä»–çš„åŠŸèƒ½æ’ä»¶ï¼Œä¾‹å¦‚ï¼šBabel, Router, Vuex, CSS Pre-processors, Linterã€‚ å…³äº ESLint å½“åœ¨ Vue åˆ›å»ºé¡¹ç›®æ—¶ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©ä¸åŒçš„ ESLint é…ç½®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„é€‰é¡¹åŠå…¶ä¼˜ç¼ºç‚¹å’Œæ³¨æ„äº‹é¡¹ï¼š ESLint with error prevention only: ä¼˜ç‚¹ï¼šè¿™ä¸ªé…ç½®åªä¼šå¸®åŠ©ä½ é˜²æ­¢ä»£ç ä¸­çš„é”™è¯¯ï¼Œå®ƒçš„è§„åˆ™ç›¸å¯¹å®½æ¾ã€‚é€‚ç”¨äºåˆšå¼€å§‹ä½¿ç”¨ ESLint æˆ–è€…å¸Œæœ›é¿å…å¤ªå¤šçº¦æŸçš„å¼€å‘è€…ã€‚ ç¼ºç‚¹ï¼šç”±äºè§„åˆ™ç›¸å¯¹å®½æ¾ï¼Œå¯èƒ½æ— æ³•å®Œå…¨ç¡®ä¿ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ã€‚ æ³¨æ„äº‹é¡¹ï¼šå¦‚æœä½ æƒ³è¦æ›´ä¸¥æ ¼çš„ä»£ç æ£€æŸ¥ï¼Œå¯ä»¥è€ƒè™‘å…¶ä»–é…ç½®ã€‚ ESLint + Airbnb config: ä¼˜ç‚¹ï¼šAirbnb çš„é…ç½®éå¸¸ä¸¥æ ¼ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ éµå¾ªæœ€ä½³å®è·µå’Œç¼–å†™é«˜è´¨é‡çš„ä»£ç ã€‚æ­¤å¤–ï¼Œå®ƒä¹ŸåŒ…å«äº†è®¸å¤š ES6+ çš„è§„åˆ™ã€‚ ç¼ºç‚¹ï¼šç”±äºå…¶ä¸¥æ ¼æ€§ï¼Œåˆå­¦è€…å¯èƒ½éœ€è¦èŠ±è´¹æ›´å¤šæ—¶é—´æ¥è§£å†³ ESLint æŠ¥å‘Šçš„é—®é¢˜ã€‚ æ³¨æ„äº‹é¡¹ï¼šåœ¨ä½¿ç”¨æ­¤é…ç½®æ—¶ï¼Œè¯·ç¡®ä¿ä½ ç†è§£å¹¶æ¥å— Airbnb çš„ä»£ç è§„èŒƒã€‚ ESLint + Standard config: ä¼˜ç‚¹ï¼šStandard çš„é…ç½®æ—¨åœ¨æä¾›ä¸€ä¸ªç›¸å¯¹ç®€å•ã€ä¸€è‡´çš„ä»£ç é£æ ¼ï¼Œé€‚åˆé‚£äº›å–œæ¬¢â€œé›¶é…ç½®â€çš„å¼€å‘è€…ã€‚ ç¼ºç‚¹ï¼šè¿™ä¸ªé…ç½®å¯èƒ½ä¸é€‚ç”¨äºæ‰€æœ‰é¡¹ç›®ï¼Œå› ä¸ºå®ƒæœ‰è‡ªå·±çš„ä»£ç é£æ ¼è¦æ±‚ã€‚ æ³¨æ„äº‹é¡¹ï¼šå¦‚æœä½ çš„å›¢é˜Ÿæˆ–é¡¹ç›®å·²ç»æœ‰è‡ªå·±çš„ç¼–ç è§„èŒƒï¼Œä½¿ç”¨ Standard é…ç½®å¯èƒ½ä¼šå¯¼è‡´ä¸ä¸€è‡´ã€‚ ESLint + Prettier: ä¼˜ç‚¹ï¼šPrettier æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥ä¸ ESLint ç»“åˆä½¿ç”¨ï¼Œä»¥ç¡®ä¿ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ã€‚è¿™å¯ä»¥æé«˜ä»£ç å¯è¯»æ€§ï¼Œå¹¶å‡å°‘åœ¨ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­å…³æ³¨æ ¼å¼é—®é¢˜çš„æ—¶é—´ã€‚ ç¼ºç‚¹ï¼šPrettier å¯èƒ½ä¼šè¦†ç›–æŸäº› ESLint è§„åˆ™ï¼Œæ‰€ä»¥éœ€è¦èŠ±ä¸€äº›æ—¶é—´ç¡®ä¿é…ç½®æ­£ç¡®ã€‚ æ³¨æ„äº‹é¡¹ï¼šä¸ºäº†é¿å…å†²çªï¼Œè¯·ç¡®ä¿ ESLint å’Œ Prettier çš„è§„åˆ™æ­£ç¡®é…ç½®ã€‚ æ€»ä¹‹ï¼Œåœ¨é€‰æ‹© ESLint é…ç½®æ—¶ï¼Œéœ€è¦æ ¹æ®ä½ çš„å›¢é˜Ÿã€é¡¹ç›®éœ€æ±‚å’Œä¸ªäººåå¥½æ¥æƒè¡¡ã€‚é€‰æ‹©é€‚å½“çš„é…ç½®å¯ä»¥å¸®åŠ©ä½ æé«˜ä»£ç è´¨é‡å¹¶ä¿æŒä¸€è‡´çš„ä»£ç é£æ ¼ã€‚ ","date":"2023-06-03","objectID":"/posts/v2-tailwind/:1:0","tags":["tailwindcss","Vue"],"title":"Vue2 + tailwindcss åˆå§‹åŒ–","uri":"/posts/v2-tailwind/"},{"categories":["CSS","JavaScript"],"content":"å®‰è£… tailwindcss æ‰“å¼€é¡¹ç›®ï¼Œå®‰è£… tailwindcssï¼š cd vue2-tailwind # å®‰è£… tailwindcss ä½ç‰ˆæœ¬åŠç›¸å…³æ’ä»¶ npm install tailwindcss@npm:@tailwindcss/postcss7-compat @tailwindcss/postcss7-compat postcss@^7 autoprefixer@^9 ç„¶ååˆ›å»ºé…ç½®æ–‡ä»¶ï¼š # åˆ›å»º postcss.config.js, tailwind.config.js npx tailwindcss init -p module.exports = { plugins: { tailwindcss: {}, autoprefixer: {}, } } module.exports = { purge: [ \"./src/App.vue\", \"./src/views/**/*.{vue,js,ts,jsx,tsx}\", \"./src/components/**/*.{vue,js,ts,jsx,tsx}\", ], darkMode: 'class', // or 'media' or 'class' mode: 'jit', // æ˜¯å¦å¼€å¯ jit æ¨¡å¼ï¼Œå¼€å¯ä»¥åç¼–è¯‘ä¼šæ›´å¿«ï¼Œå½“ç„¶ï¼Œtailwindcss ç‰ˆæœ¬éœ€è¦åœ¨ 2.1 ä»¥ä¸Š theme: { extend: {}, }, variants: { extend: {}, }, plugins: [], } æœ€ååœ¨ main.js ä¸­å¼•å…¥ tailwindcss import \"tailwindcss/tailwind.css\" ","date":"2023-06-03","objectID":"/posts/v2-tailwind/:2:0","tags":["tailwindcss","Vue"],"title":"Vue2 + tailwindcss åˆå§‹åŒ–","uri":"/posts/v2-tailwind/"},{"categories":["CSS","JavaScript"],"content":"å¯åŠ¨é¡¹ç›® å¯åŠ¨é¡¹ç›®ï¼Œä¿®æ”¹æ¨¡æ¿ä¸­çš„ class è¿›è¡Œæµ‹è¯•ã€‚ npm run serve \u003ctemplate\u003e \u003cdiv id=\"app\"\u003e \u003cdiv class=\"bg-gray-100\"\u003e \u003cdiv class=\"container mx-auto\"\u003e \u003cdiv class=\"flex justify-center items-center h-screen\"\u003e \u003cdiv class=\"text-4xl text-gray-700\"\u003eHello Vue2 + tailwindcss\u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/template\u003e ","date":"2023-06-03","objectID":"/posts/v2-tailwind/:3:0","tags":["tailwindcss","Vue"],"title":"Vue2 + tailwindcss åˆå§‹åŒ–","uri":"/posts/v2-tailwind/"},{"categories":["HTML"],"content":"è®°å½•ä½¿ç”¨ HTML åŸç”Ÿæ–¹æ¡ˆå®ç°å›¾ç‰‡çš„æ‡’åŠ è½½ã€‚ ","date":"2023-02-12","objectID":"/posts/native-img-loading-lazy/:0:0","tags":["HTML","eager","lazy","loading"],"title":"æµè§ˆå™¨ IMG å›¾ç‰‡åŸç”Ÿæ‡’åŠ è½½ loading=\"lazy\"","uri":"/posts/native-img-loading-lazy/"},{"categories":["HTML"],"content":"è¯­æ³•è§„èŒƒ HTML loading å±æ€§é€‚ç”¨äº img å’Œ iframeï¼Œè¯­æ³•è§„èŒƒè§ HTML Standard - Lazy loading attributesã€‚ å…³é”®è¯ çŠ¶æ€ æè¿° lazy æ‡’æƒ°çš„ ç”¨äºå»¶è¿Ÿè·å–èµ„æºï¼Œç›´åˆ°æ»¡è¶³æŸäº›æ¡ä»¶ã€‚ eager æ¸´æœ›çš„ ç”¨äºç«‹å³è·å–èµ„æºï¼›é»˜è®¤çŠ¶æ€ã€‚ å±æ€§çš„ ç¼ºå¤±å€¼é»˜è®¤å€¼ å’Œ æ— æ•ˆå€¼é»˜è®¤å€¼ éƒ½æ˜¯ EagerçŠ¶æ€ã€‚ ","date":"2023-02-12","objectID":"/posts/native-img-loading-lazy/:1:0","tags":["HTML","eager","lazy","loading"],"title":"æµè§ˆå™¨ IMG å›¾ç‰‡åŸç”Ÿæ‡’åŠ è½½ loading=\"lazy\"","uri":"/posts/native-img-loading-lazy/"},{"categories":["HTML"],"content":"å®é™…åº”ç”¨ åŸºäº FixIt ä¸»é¢˜ ç‰ˆæœ¬å¤§äº v0.2.18 çš„åšå®¢ç½‘ç«™ä½¿ç”¨å°±æ˜¯åŸç”Ÿçš„æ‡’åŠ è½½æ–¹æ¡ˆï¼Œå¤§è‡´å¦‚ä¸‹ï¼š \u003cimg loading=\"lazy\" src=\"./example.jpg\" data-title=\"title text\" data-alt=\"alt text\" onload=\"this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';\" onerror=\"this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['data-title','data-alt','onerror','onload']){this.removeAttribute(a);}\" /\u003e ä¸ºäº†è¾¾åˆ° loading çš„æ•ˆæœï¼Œä»¥ä¸Šä»£ç ä¸­åœ¨ onload åä¼šç»™å›¾ç‰‡åŠ ä¸Šä¸€ä¸ª data-lazyloaded å±æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å†™ css ä»¥è¾¾åˆ°æ˜¾ç¤º loading å›¾æ ‡çš„æ•ˆæœï¼š img[loading='lazy']:not([data-lazyloaded]) { background: url(loading.svg) no-repeat center; } è®¾ç½® data-title å’Œ data-alt æ˜¯å› ä¸ºç§»åŠ¨æµè§ˆå™¨å¤§å¤šæ•°åªè¦æœ‰ title æˆ– alt å°±ä¼šæ˜¾ç¤ºå›¾ç‰‡çš„æ›¿ä»£å­—ç¬¦ï¼Œæ‰€ä»¥ç­‰åˆ°å›¾ç‰‡åŠ è½½å®Œæˆ–åŠ è½½å¤±è´¥åå†å›å¡«ã€‚ ","date":"2023-02-12","objectID":"/posts/native-img-loading-lazy/:2:0","tags":["HTML","eager","lazy","loading"],"title":"æµè§ˆå™¨ IMG å›¾ç‰‡åŸç”Ÿæ‡’åŠ è½½ loading=\"lazy\"","uri":"/posts/native-img-loading-lazy/"},{"categories":["HTML"],"content":"æ‡’åŠ è½½ç‰¹æ€§çš„ç ”ç©¶ ä»¥ä¸‹ç»“è®ºæ¥è‡ª æµè§ˆå™¨ IMG å›¾ç‰‡åŸç”Ÿæ‡’åŠ è½½ loading=â€lazyâ€å®è·µæŒ‡å— Â« å¼ é‘«æ—­-é‘«ç©ºé—´-é‘«ç”Ÿæ´» æ€»ç»“éƒ¨åˆ†ã€‚ Lazy loading åŠ è½½æ•°é‡ä¸å±å¹•é«˜åº¦æœ‰å…³ï¼Œé«˜åº¦è¶Šå°åŠ è½½æ•°é‡è¶Šå°‘ï¼Œä½†å¹¶ä¸æ˜¯çº¿æ€§å…³ç³». Lazy loading åŠ è½½æ•°é‡ä¸ç½‘é€Ÿæœ‰å…³ï¼Œç½‘é€Ÿè¶Šæ…¢ï¼ŒåŠ è½½æ•°é‡è¶Šå¤šï¼Œä½†å¹¶ä¸æ˜¯çº¿æ€§å…³ç³»ã€‚ Lazy loading åŠ è½½æ²¡æœ‰ç¼“å†²ï¼Œæ»šåŠ¨å³ä¼šè§¦å‘æ–°çš„å›¾ç‰‡èµ„æºåŠ è½½ã€‚ Lazy loading åŠ è½½åœ¨çª—å£ resize å°ºå¯¸å˜åŒ–æ—¶å€™ä¹Ÿä¼šè§¦å‘ï¼Œä¾‹å¦‚å±å¹•é«˜åº¦ä»å°å˜å¤§çš„æ—¶å€™ã€‚ Lazy loading åŠ è½½ä¹Ÿæœ‰å¯èƒ½ä¼šå…ˆåŠ è½½åé¢çš„å›¾ç‰‡èµ„æºï¼Œä¾‹å¦‚é¡µé¢åŠ è½½æ—¶æ»šåŠ¨é«˜åº¦å¾ˆé«˜çš„æ—¶å€™ã€‚ ","date":"2023-02-12","objectID":"/posts/native-img-loading-lazy/:3:0","tags":["HTML","eager","lazy","loading"],"title":"æµè§ˆå™¨ IMG å›¾ç‰‡åŸç”Ÿæ‡’åŠ è½½ loading=\"lazy\"","uri":"/posts/native-img-loading-lazy/"},{"categories":["HTML"],"content":"å‚è€ƒé“¾æ¥ Lazy loading - Web æ€§èƒ½ | MDN Lazy loading via attribute for images \u0026 iframes å…¼å®¹æ€§ ","date":"2023-02-12","objectID":"/posts/native-img-loading-lazy/:4:0","tags":["HTML","eager","lazy","loading"],"title":"æµè§ˆå™¨ IMG å›¾ç‰‡åŸç”Ÿæ‡’åŠ è½½ loading=\"lazy\"","uri":"/posts/native-img-loading-lazy/"},{"categories":["Browser"],"content":"æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„ï¼Ÿ å½“æµè§ˆå™¨çš„ç½‘ç»œçº¿ç¨‹æ”¶åˆ° HTML æ–‡æ¡£åï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ¸²æŸ“ä»»åŠ¡ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™æ¸²æŸ“ä¸»çº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ åœ¨äº‹ä»¶å¾ªç¯æœºåˆ¶çš„ä½œç”¨ä¸‹ï¼Œæ¸²æŸ“ä¸»çº¿ç¨‹å–å‡ºæ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¸²æŸ“ä»»åŠ¡ï¼Œå¼€å¯æ¸²æŸ“æµç¨‹ã€‚ æ•´ä¸ªæ¸²æŸ“æµç¨‹åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š HTML è§£æã€æ ·å¼è®¡ç®—ã€å¸ƒå±€ã€åˆ†å±‚ã€ç»˜åˆ¶ã€åˆ†å—ã€å…‰æ …åŒ–ã€ç”» æ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„è¾“å…¥è¾“å‡ºï¼Œä¸Šä¸€ä¸ªé˜¶æ®µçš„è¾“å‡ºä¼šæˆä¸ºä¸‹ä¸€ä¸ªé˜¶æ®µçš„è¾“å…¥ã€‚ è¿™æ ·ï¼Œæ•´ä¸ªæ¸²æŸ“æµç¨‹å°±å½¢æˆäº†ä¸€å¥—ç»„ç»‡ä¸¥å¯†çš„ç”Ÿäº§æµæ°´çº¿ã€‚ æ¸²æŸ“çš„ç¬¬ä¸€æ­¥æ˜¯è§£æ HTMLã€‚ è§£æè¿‡ç¨‹ä¸­é‡åˆ° CSS è§£æ CSSï¼Œé‡åˆ° JS æ‰§è¡Œ JSã€‚ä¸ºäº†æé«˜è§£ææ•ˆç‡ï¼Œæµè§ˆå™¨åœ¨å¼€å§‹è§£æå‰ï¼Œä¼šå¯åŠ¨ä¸€ä¸ªé¢„è§£æçš„çº¿ç¨‹ï¼Œç‡å…ˆä¸‹è½½ HTML ä¸­çš„å¤–éƒ¨ CSS æ–‡ä»¶å’Œ å¤–éƒ¨çš„ JS æ–‡ä»¶ã€‚ å¦‚æœä¸»çº¿ç¨‹è§£æåˆ°linkä½ç½®ï¼Œæ­¤æ—¶å¤–éƒ¨çš„ CSS æ–‡ä»¶è¿˜æ²¡æœ‰ä¸‹è½½è§£æå¥½ï¼Œä¸»çº¿ç¨‹ä¸ä¼šç­‰å¾…ï¼Œç»§ç»­è§£æåç»­çš„ HTMLã€‚è¿™æ˜¯å› ä¸ºä¸‹è½½å’Œè§£æ CSS çš„å·¥ä½œæ˜¯åœ¨é¢„è§£æçº¿ç¨‹ä¸­è¿›è¡Œçš„ã€‚è¿™å°±æ˜¯ CSS ä¸ä¼šé˜»å¡ HTML è§£æçš„æ ¹æœ¬åŸå› ã€‚ å¦‚æœä¸»çº¿ç¨‹è§£æåˆ°scriptä½ç½®ï¼Œä¼šåœæ­¢è§£æ HTMLï¼Œè½¬è€Œç­‰å¾… JS æ–‡ä»¶ä¸‹è½½å¥½ï¼Œå¹¶å°†å…¨å±€ä»£ç è§£ææ‰§è¡Œå®Œæˆåï¼Œæ‰èƒ½ç»§ç»­è§£æ HTMLã€‚è¿™æ˜¯å› ä¸º JS ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¯èƒ½ä¼šä¿®æ”¹å½“å‰çš„ DOM æ ‘ï¼Œæ‰€ä»¥ DOM æ ‘çš„ç”Ÿæˆå¿…é¡»æš‚åœã€‚è¿™å°±æ˜¯ JS ä¼šé˜»å¡ HTML è§£æçš„æ ¹æœ¬åŸå› ã€‚ ç¬¬ä¸€æ­¥å®Œæˆåï¼Œä¼šå¾—åˆ° DOM æ ‘å’Œ CSSOM æ ‘ï¼Œæµè§ˆå™¨çš„é»˜è®¤æ ·å¼ã€å†…éƒ¨æ ·å¼ã€å¤–éƒ¨æ ·å¼ã€è¡Œå†…æ ·å¼å‡ä¼šåŒ…å«åœ¨ CSSOM æ ‘ä¸­ã€‚ æ¸²æŸ“çš„ä¸‹ä¸€æ­¥æ˜¯æ ·å¼è®¡ç®—ã€‚ ä¸»çº¿ç¨‹ä¼šéå†å¾—åˆ°çš„ DOM æ ‘ï¼Œä¾æ¬¡ä¸ºæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è®¡ç®—å‡ºå®ƒæœ€ç»ˆçš„æ ·å¼ï¼Œç§°ä¹‹ä¸º Computed Styleã€‚ åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šé¢„è®¾å€¼ä¼šå˜æˆç»å¯¹å€¼ï¼Œæ¯”å¦‚redä¼šå˜æˆrgb(255,0,0)ï¼›ç›¸å¯¹å•ä½ä¼šå˜æˆç»å¯¹å•ä½ï¼Œæ¯”å¦‚emä¼šå˜æˆpx è¿™ä¸€æ­¥å®Œæˆåï¼Œä¼šå¾—åˆ°ä¸€æ£µå¸¦æœ‰æ ·å¼çš„ DOM æ ‘ã€‚ æ¥ä¸‹æ¥æ˜¯å¸ƒå±€ï¼Œå¸ƒå±€å®Œæˆåä¼šå¾—åˆ°å¸ƒå±€æ ‘ã€‚ å¸ƒå±€é˜¶æ®µä¼šä¾æ¬¡éå† DOM æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å‡ ä½•ä¿¡æ¯ã€‚ä¾‹å¦‚èŠ‚ç‚¹çš„å®½é«˜ã€ç›¸å¯¹åŒ…å«å—çš„ä½ç½®ã€‚ å¤§éƒ¨åˆ†æ—¶å€™ï¼ŒDOM æ ‘å’Œå¸ƒå±€æ ‘å¹¶éä¸€ä¸€å¯¹åº”ã€‚ æ¯”å¦‚display:noneçš„èŠ‚ç‚¹æ²¡æœ‰å‡ ä½•ä¿¡æ¯ï¼Œå› æ­¤ä¸ä¼šç”Ÿæˆåˆ°å¸ƒå±€æ ‘ï¼›åˆæ¯”å¦‚ä½¿ç”¨äº†ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼Œè™½ç„¶ DOM æ ‘ä¸­ä¸å­˜åœ¨è¿™äº›ä¼ªå…ƒç´ èŠ‚ç‚¹ï¼Œä½†å®ƒä»¬æ‹¥æœ‰å‡ ä½•ä¿¡æ¯ï¼Œæ‰€ä»¥ä¼šç”Ÿæˆåˆ°å¸ƒå±€æ ‘ä¸­ã€‚è¿˜æœ‰åŒ¿åè¡Œç›’ã€åŒ¿åå—ç›’ç­‰ç­‰éƒ½ä¼šå¯¼è‡´ DOM æ ‘å’Œå¸ƒå±€æ ‘æ— æ³•ä¸€ä¸€å¯¹åº”ã€‚ ä¸‹ä¸€æ­¥æ˜¯åˆ†å±‚ ä¸»çº¿ç¨‹ä¼šä½¿ç”¨ä¸€å¥—å¤æ‚çš„ç­–ç•¥å¯¹æ•´ä¸ªå¸ƒå±€æ ‘ä¸­è¿›è¡Œåˆ†å±‚ã€‚ åˆ†å±‚çš„å¥½å¤„åœ¨äºï¼Œå°†æ¥æŸä¸€ä¸ªå±‚æ”¹å˜åï¼Œä»…ä¼šå¯¹è¯¥å±‚è¿›è¡Œåç»­å¤„ç†ï¼Œä»è€Œæå‡æ•ˆç‡ã€‚ æ»šåŠ¨æ¡ã€å †å ä¸Šä¸‹æ–‡ã€transformã€opacity ç­‰æ ·å¼éƒ½ä¼šæˆ–å¤šæˆ–å°‘çš„å½±å“åˆ†å±‚ç»“æœï¼Œä¹Ÿå¯ä»¥é€šè¿‡will-changeå±æ€§æ›´å¤§ç¨‹åº¦çš„å½±å“åˆ†å±‚ç»“æœã€‚ å†ä¸‹ä¸€æ­¥æ˜¯ç»˜åˆ¶ ä¸»çº¿ç¨‹ä¼šä¸ºæ¯ä¸ªå±‚å•ç‹¬äº§ç”Ÿç»˜åˆ¶æŒ‡ä»¤é›†ï¼Œç”¨äºæè¿°è¿™ä¸€å±‚çš„å†…å®¹è¯¥å¦‚ä½•ç”»å‡ºæ¥ã€‚ å®Œæˆç»˜åˆ¶åï¼Œä¸»çº¿ç¨‹å°†æ¯ä¸ªå›¾å±‚çš„ç»˜åˆ¶ä¿¡æ¯æäº¤ç»™åˆæˆçº¿ç¨‹ï¼Œå‰©ä½™å·¥ä½œå°†ç”±åˆæˆçº¿ç¨‹å®Œæˆã€‚ åˆæˆçº¿ç¨‹é¦–å…ˆå¯¹æ¯ä¸ªå›¾å±‚è¿›è¡Œåˆ†å—ï¼Œå°†å…¶åˆ’åˆ†ä¸ºæ›´å¤šçš„å°åŒºåŸŸã€‚ å®ƒä¼šä»çº¿ç¨‹æ± ä¸­æ‹¿å–å¤šä¸ªçº¿ç¨‹æ¥å®Œæˆåˆ†å—å·¥ä½œã€‚ åˆ†å—å®Œæˆåï¼Œè¿›å…¥å…‰æ …åŒ–é˜¶æ®µã€‚ åˆæˆçº¿ç¨‹ä¼šå°†å—ä¿¡æ¯äº¤ç»™ GPU è¿›ç¨‹ï¼Œä»¥æé«˜çš„é€Ÿåº¦å®Œæˆå…‰æ …åŒ–ã€‚ GPU è¿›ç¨‹ä¼šå¼€å¯å¤šä¸ªçº¿ç¨‹æ¥å®Œæˆå…‰æ …åŒ–ï¼Œå¹¶ä¸”ä¼˜å…ˆå¤„ç†é è¿‘è§†å£åŒºåŸŸçš„å—ã€‚ å…‰æ …åŒ–çš„ç»“æœï¼Œå°±æ˜¯ä¸€å—ä¸€å—çš„ä½å›¾ æœ€åä¸€ä¸ªé˜¶æ®µå°±æ˜¯ç”»äº† åˆæˆçº¿ç¨‹æ‹¿åˆ°æ¯ä¸ªå±‚ã€æ¯ä¸ªå—çš„ä½å›¾åï¼Œç”Ÿæˆä¸€ä¸ªä¸ªã€ŒæŒ‡å¼•ï¼ˆquadï¼‰ã€ä¿¡æ¯ã€‚ æŒ‡å¼•ä¼šæ ‡è¯†å‡ºæ¯ä¸ªä½å›¾åº”è¯¥ç”»åˆ°å±å¹•çš„å“ªä¸ªä½ç½®ï¼Œä»¥åŠä¼šè€ƒè™‘åˆ°æ—‹è½¬ã€ç¼©æ”¾ç­‰å˜å½¢ã€‚ å˜å½¢å‘ç”Ÿåœ¨åˆæˆçº¿ç¨‹ï¼Œä¸æ¸²æŸ“ä¸»çº¿ç¨‹æ— å…³ï¼Œè¿™å°±æ˜¯transformæ•ˆç‡é«˜çš„æœ¬è´¨åŸå› ã€‚ åˆæˆçº¿ç¨‹ä¼šæŠŠ quad æäº¤ç»™ GPU è¿›ç¨‹ï¼Œç”± GPU è¿›ç¨‹äº§ç”Ÿç³»ç»Ÿè°ƒç”¨ï¼Œæäº¤ç»™ GPU ç¡¬ä»¶ï¼Œå®Œæˆæœ€ç»ˆçš„å±å¹•æˆåƒã€‚ ","date":"2023-02-05","objectID":"/posts/browser-rendering/:1:0","tags":["Browser","JavaScript","HTML","CSS"],"title":"æµè§ˆå™¨æ¸²æŸ“åŸç†","uri":"/posts/browser-rendering/"},{"categories":["Browser"],"content":"ä»€ä¹ˆæ˜¯ reflowï¼Ÿ reflow çš„æœ¬è´¨å°±æ˜¯é‡æ–°è®¡ç®— layout æ ‘ã€‚ å½“è¿›è¡Œäº†ä¼šå½±å“å¸ƒå±€æ ‘çš„æ“ä½œåï¼Œéœ€è¦é‡æ–°è®¡ç®—å¸ƒå±€æ ‘ï¼Œä¼šå¼•å‘ layoutã€‚ ä¸ºäº†é¿å…è¿ç»­çš„å¤šæ¬¡æ“ä½œå¯¼è‡´å¸ƒå±€æ ‘åå¤è®¡ç®—ï¼Œæµè§ˆå™¨ä¼šåˆå¹¶è¿™äº›æ“ä½œï¼Œå½“ JS ä»£ç å…¨éƒ¨å®Œæˆåå†è¿›è¡Œç»Ÿä¸€è®¡ç®—ã€‚æ‰€ä»¥ï¼Œæ”¹åŠ¨å±æ€§é€ æˆçš„ reflow æ˜¯å¼‚æ­¥å®Œæˆçš„ã€‚ ä¹ŸåŒæ ·å› ä¸ºå¦‚æ­¤ï¼Œå½“ JS è·å–å¸ƒå±€å±æ€§æ—¶ï¼Œå°±å¯èƒ½é€ æˆæ— æ³•è·å–åˆ°æœ€æ–°çš„å¸ƒå±€ä¿¡æ¯ã€‚ æµè§ˆå™¨åœ¨åå¤æƒè¡¡ä¸‹ï¼Œæœ€ç»ˆå†³å®šè·å–å±æ€§ç«‹å³ reflowã€‚ ","date":"2023-02-05","objectID":"/posts/browser-rendering/:2:0","tags":["Browser","JavaScript","HTML","CSS"],"title":"æµè§ˆå™¨æ¸²æŸ“åŸç†","uri":"/posts/browser-rendering/"},{"categories":["Browser"],"content":"ä»€ä¹ˆæ˜¯ repaintï¼Ÿ repaint çš„æœ¬è´¨å°±æ˜¯é‡æ–°æ ¹æ®åˆ†å±‚ä¿¡æ¯è®¡ç®—äº†ç»˜åˆ¶æŒ‡ä»¤ã€‚ å½“æ”¹åŠ¨äº†å¯è§æ ·å¼åï¼Œå°±éœ€è¦é‡æ–°è®¡ç®—ï¼Œä¼šå¼•å‘ repaintã€‚ ç”±äºå…ƒç´ çš„å¸ƒå±€ä¿¡æ¯ä¹Ÿå±äºå¯è§æ ·å¼ï¼Œæ‰€ä»¥ reflow ä¸€å®šä¼šå¼•èµ· repaintã€‚ ","date":"2023-02-05","objectID":"/posts/browser-rendering/:3:0","tags":["Browser","JavaScript","HTML","CSS"],"title":"æµè§ˆå™¨æ¸²æŸ“åŸç†","uri":"/posts/browser-rendering/"},{"categories":["Browser"],"content":"ä¸ºä»€ä¹ˆ transform çš„æ•ˆç‡é«˜ï¼Ÿ å› ä¸º transform æ—¢ä¸ä¼šå½±å“å¸ƒå±€ä¹Ÿä¸ä¼šå½±å“ç»˜åˆ¶æŒ‡ä»¤ï¼Œå®ƒå½±å“çš„åªæ˜¯æ¸²æŸ“æµç¨‹çš„æœ€åä¸€ä¸ªã€Œdrawã€é˜¶æ®µ ç”±äº draw é˜¶æ®µåœ¨åˆæˆçº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥ transform çš„å˜åŒ–å‡ ä¹ä¸ä¼šå½±å“æ¸²æŸ“ä¸»çº¿ç¨‹ã€‚åä¹‹ï¼Œæ¸²æŸ“ä¸»çº¿ç¨‹æ— è®ºå¦‚ä½•å¿™ç¢Œï¼Œä¹Ÿä¸ä¼šå½±å“ transform çš„å˜åŒ–ã€‚ ","date":"2023-02-05","objectID":"/posts/browser-rendering/:4:0","tags":["Browser","JavaScript","HTML","CSS"],"title":"æµè§ˆå™¨æ¸²æŸ“åŸç†","uri":"/posts/browser-rendering/"},{"categories":["Spec"],"content":" ä»¥ä¸‹å‚è€ƒæ¥æºï¼šé˜®ä¸€å³°çš„ ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ è‹±è¯­ä¸–ç•Œé‡Œï¼Œæ–‡æ¡£éå¸¸å—é‡è§†ï¼Œè®¸å¤šå…¬å¸å’Œç»„ç»‡éƒ½æœ‰è‡ªå·±çš„æ–‡æ¡£è§„èŒƒï¼Œæ¸…æ¥šåœ°è§„å®šå†™ä½œè¦æ±‚ï¼Œæ¯”å¦‚å¾®è½¯ã€MailChimpã€Appleã€Yahooã€dockerã€Struts ç­‰ç­‰ï¼ˆç»´åŸºç™¾ç§‘æœ‰ä¸€ä»½å®Œæ•´çš„æ¸…å•ï¼‰ã€‚ä¸­æ–‡çš„ä¹Ÿæœ‰ä¸å°‘ï¼Œä½†éƒ½ä¸ä»¤äººæ»¡æ„ï¼Œè¦ä¹ˆå¤ªç®€å•ï¼Œè¦ä¹ˆä¸å¤ªé€‚ç”¨ã€‚ å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œåœ¨å·¥ä½œä¸­ä¹Ÿéœ€è¦é€‚å½“åœ°äº§å‡ºä¸€äº›æŠ€æœ¯æ–‡æ¡£ï¼Œä½†æ˜¯å¾ˆå¤šäººéƒ½ä¸çŸ¥é“æ€ä¹ˆå†™æ–‡æ¡£ï¼Œéƒ½æ˜¯å‡­ç€æ„Ÿè§‰å†™ã€‚ å¯¹äºå¼€å‘çš„ç³»ç»Ÿã€è½¯ä»¶è€Œè¨€ï¼Œç³»ç»Ÿç”¨è¯çš„å‡†ç¡®æ€§å’Œç»Ÿä¸€æ€§ä¹Ÿæ˜¾å¾—ååˆ†é‡è¦ã€‚ å‚è€ƒä¸Šé¢çš„è§„èŒƒï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢ä¸€ä»½ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:0:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ ‡é¢˜ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:1:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å±‚çº§ æ ‡é¢˜åˆ†ä¸ºå››çº§ã€‚ ä¸€çº§æ ‡é¢˜ï¼šæ–‡ç« çš„æ ‡é¢˜ äºŒçº§æ ‡é¢˜ï¼šæ–‡ç« ä¸»è¦éƒ¨åˆ†çš„å¤§æ ‡é¢˜ ä¸‰çº§æ ‡é¢˜ï¼šäºŒçº§æ ‡é¢˜ä¸‹é¢ä¸€çº§çš„å°æ ‡é¢˜ å››çº§æ ‡é¢˜ï¼šä¸‰çº§æ ‡é¢˜ä¸‹é¢æŸä¸€æ–¹é¢çš„å°æ ‡é¢˜ ä¸‹é¢æ˜¯ç¤ºä¾‹ã€‚ # ä¸€çº§æ ‡é¢˜ ## äºŒçº§æ ‡é¢˜ ### ä¸‰çº§æ ‡é¢˜ #### å››çº§æ ‡é¢˜ æ³¨ï¼šæœ€å¤šæ”¯æŒå…­çº§ï¼Œä½†æ˜¯åŒè®ºæ–‡å†™ä½œä¸€æ ·ï¼Œå±‚çº§å¤ªæ·±ï¼Œä¼šä½¿å¾—æ•´ä½“æ˜¾å¾—æ‚ä¹±æ— ç« ï¼Œå½“ç¡®å®éœ€è¦æ›´æ·±å±‚çº§æ—¶ï¼Œåº”å¦èµ·æ–°ç¯‡å•ç‹¬è®ºè¿°ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:1:1","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"åŸåˆ™ ï¼ˆ1ï¼‰ä¸€çº§æ ‡é¢˜ä¸‹ï¼Œä¸èƒ½ç›´æ¥å‡ºç°ä¸‰çº§æ ‡é¢˜ã€‚ ç¤ºä¾‹ï¼šä¸‹é¢çš„æ–‡ç« ç»“æ„ï¼Œç¼ºå°‘äºŒçº§æ ‡é¢˜ã€‚ # ä¸€çº§æ ‡é¢˜ ### ä¸‰çº§æ ‡é¢˜ ï¼ˆ2ï¼‰æ ‡é¢˜è¦é¿å…å­¤ç«‹ç¼–å·ï¼ˆå³åŒçº§æ ‡é¢˜åªæœ‰ä¸€ä¸ªï¼‰ã€‚ ç¤ºä¾‹ï¼šä¸‹é¢çš„æ–‡ç« ç»“æ„ï¼ŒäºŒçº§æ ‡é¢˜ AåªåŒ…å«ä¸€ä¸ªä¸‰çº§æ ‡é¢˜ï¼Œå®Œå…¨å¯ä»¥çœç•¥ä¸‰çº§æ ‡é¢˜ Aã€‚ ## äºŒçº§æ ‡é¢˜ A ### ä¸‰çº§æ ‡é¢˜ A ## äºŒçº§æ ‡é¢˜ B ï¼ˆ3ï¼‰ä¸‹çº§æ ‡é¢˜ä¸é‡å¤ä¸Šä¸€çº§æ ‡é¢˜çš„åå­—ã€‚ ç¤ºä¾‹ï¼šä¸‹é¢çš„æ–‡ç« ç»“æ„ï¼ŒäºŒçº§æ ‡é¢˜ä¸ä¸‹å±çš„ä¸‰çº§æ ‡é¢˜åŒåï¼Œå»ºè®®é¿å…ã€‚ ## æ¦‚è¿° ### æ¦‚è¿° ï¼ˆ4ï¼‰è°¨æ…ä½¿ç”¨å››çº§æ ‡é¢˜ï¼Œå°½é‡é¿å…å‡ºç°ï¼Œä¿æŒå±‚çº§çš„ç®€å•ï¼Œé˜²æ­¢å‡ºç°è¿‡äºå¤æ‚çš„ç« èŠ‚ã€‚ å¦‚æœä¸‰çº§æ ‡é¢˜ä¸‹æœ‰å¹¶åˆ—æ€§çš„å†…å®¹ï¼Œå»ºè®®åªä½¿ç”¨é¡¹ç›®åˆ—è¡¨ï¼ˆItem listï¼‰ã€‚ ç¤ºä¾‹ï¼šä¸‹é¢çš„ç»“æ„äºŒè¦å¥½äºç»“æ„ä¸€ã€‚ç»“æ„ä¸€é€‚ç”¨çš„åœºæ™¯ï¼Œä¸»è¦æ˜¯è¾ƒé•¿ç¯‡å¹…çš„å†…å®¹ã€‚ ç»“æ„ä¸€ ### ä¸‰çº§æ ‡é¢˜ #### å››çº§æ ‡é¢˜ A #### å››çº§æ ‡é¢˜ B #### å››çº§æ ‡é¢˜ C ç»“æ„äºŒ ### ä¸‰çº§æ ‡é¢˜ **ï¼ˆ1ï¼‰A** **ï¼ˆ2ï¼‰B** **ï¼ˆ3ï¼‰C** ","date":"2023-02-04","objectID":"/posts/document-style-guide/:1:2","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ–‡æœ¬ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:2:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å­—é—´è· ï¼ˆ1ï¼‰å…¨è§’ä¸­æ–‡å­—ç¬¦ä¸åŠè§’è‹±æ–‡å­—ç¬¦ä¹‹é—´ï¼Œåº”æœ‰ä¸€ä¸ªåŠè§’ç©ºæ ¼ã€‚ é”™è¯¯ï¼šæœ¬æ–‡ä»‹ç»å¦‚ä½•å¿«é€Ÿå¯åŠ¨Windowsç³»ç»Ÿã€‚ æ­£ç¡®ï¼šæœ¬æ–‡ä»‹ç»å¦‚ä½•å¿«é€Ÿå¯åŠ¨ Windows ç³»ç»Ÿã€‚ ï¼ˆ2ï¼‰å…¨è§’ä¸­æ–‡å­—ç¬¦ä¸åŠè§’é˜¿æ‹‰ä¼¯æ•°å­—ä¹‹é—´ï¼Œæœ‰æ²¡æœ‰åŠè§’ç©ºæ ¼éƒ½å¯ï¼Œä½†å¿…é¡»ä¿è¯é£æ ¼ç»Ÿä¸€ï¼Œä¸èƒ½ä¸¤ç§é£æ ¼æ··æ‚ã€‚ æ­£ç¡®ï¼š2011å¹´5æœˆ15æ—¥ï¼Œæˆ‘è®¢è´­äº†5å°ç¬”è®°æœ¬ç”µè„‘ä¸10å°å¹³æ¿ç”µè„‘ã€‚ æ­£ç¡®ï¼š2011 å¹´ 5 æœˆ 15 æ—¥ï¼Œæˆ‘è®¢è´­äº† 5 å°ç¬”è®°æœ¬ç”µè„‘ä¸ 10 å°å¹³æ¿ç”µè„‘ã€‚ åŠè§’çš„ç™¾åˆ†å·ï¼Œè§†åŒé˜¿æ‹‰ä¼¯æ•°å­—ã€‚ æ­£ç¡®ï¼šä»Šå¹´æˆ‘å›½ç»æµå¢é•¿ç‡æ˜¯6.5%ã€‚ æ­£ç¡®ï¼šä»Šå¹´æˆ‘å›½ç»æµå¢é•¿ç‡æ˜¯ 6.5%ã€‚ ï¼ˆ3ï¼‰è‹±æ–‡å•ä½è‹¥ä¸ç¿»è¯‘ï¼Œå•ä½å‰çš„é˜¿æ‹‰ä¼¯æ•°å­—ä¸å•ä½ç¬¦å·ä¹‹é—´ï¼Œåº”ç•™å‡ºé€‚å½“çš„ç©ºéš™ã€‚ ä¾‹1ï¼šä¸€éƒ¨å®¹é‡ä¸º 16 GB çš„æ™ºèƒ½æ‰‹æœº ä¾‹2ï¼š1 h = 60 min = 3,600 s ï¼ˆ4ï¼‰åŠè§’è‹±æ–‡å­—ç¬¦å’ŒåŠè§’é˜¿æ‹‰ä¼¯æ•°å­—ï¼Œä¸å…¨è§’æ ‡ç‚¹ç¬¦å·ä¹‹é—´ä¸ç•™ç©ºæ ¼ã€‚ é”™è¯¯ï¼šä»–çš„ç”µè„‘æ˜¯ MacBook Air ã€‚ æ­£ç¡®ï¼šä»–çš„ç”µè„‘æ˜¯ MacBook Airã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:2:1","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å¥å­ ï¼ˆ1ï¼‰é¿å…ä½¿ç”¨é•¿å¥ã€‚ ä¸åŒ…å«ä»»ä½•æ ‡ç‚¹ç¬¦å·çš„å•ä¸ªå¥å­ï¼Œæˆ–è€…ä»¥é€—å·åˆ†éš”çš„å¥å­æ„ä»¶ï¼Œé•¿åº¦å°½é‡ä¿æŒåœ¨ 20 ä¸ªå­—ä»¥å†…ï¼›20 ï½ 29 ä¸ªå­—çš„å¥å­ï¼Œå¯ä»¥æ¥å—ï¼›30 ï½ 39 ä¸ªå­—çš„å¥å­ï¼Œè¯­ä¹‰å¿…é¡»æ˜ç¡®ï¼Œæ‰èƒ½æ¥å—ï¼›å¤šäº 40 ä¸ªå­—çš„å¥å­ï¼Œä»»ä½•æƒ…å†µä¸‹éƒ½ä¸èƒ½æ¥å—ã€‚ é”™è¯¯ï¼šæœ¬äº§å“é€‚ç”¨äºä»ç”±ä¸€å°æœåŠ¡å™¨è¿›è¡ŒåŠ¨ä½œæ§åˆ¶çš„å•ä¸€èŠ‚ç‚¹ç»“æ„åˆ°ç”±å¤šå°æœåŠ¡å™¨è¿›è¡ŒåŠ¨ä½œæ§åˆ¶çš„å¹¶è¡Œå¤„ç†ç¨‹åºç»“æ„ç­‰å¤šç§ä½“ç³»ç»“æ„ã€‚ æ­£ç¡®ï¼šæœ¬äº§å“é€‚ç”¨äºå¤šç§ä½“ç³»ç»“æ„ã€‚æ— è®ºæ˜¯ç”±ä¸€å°æœåŠ¡å™¨ï¼ˆå•ä¸€èŠ‚ç‚¹ç»“æ„ï¼‰ï¼Œè¿˜æ˜¯ç”±å¤šå°æœåŠ¡å™¨ï¼ˆå¹¶è¡Œå¤„ç†ç»“æ„ï¼‰è¿›è¡ŒåŠ¨ä½œæ§åˆ¶ï¼Œå‡å¯ä»¥ä½¿ç”¨æœ¬äº§å“ã€‚ é€—å·åˆ†å‰²çš„é•¿å¥ï¼Œæ€»é•¿åº¦ä¸åº”è¯¥è¶…è¿‡ 100 å­—æˆ–è€…æ­£æ–‡çš„ 3 è¡Œã€‚ ï¼ˆ2ï¼‰å°½é‡ä½¿ç”¨ç®€å•å¥å’Œå¹¶åˆ—å¥ï¼Œé¿å…ä½¿ç”¨å¤åˆå¥ã€‚ å¹¶åˆ—å¥ï¼šä»–æ˜¨å¤©ç”Ÿç—…äº†ï¼Œæ²¡æœ‰å‚åŠ ä¼šè®®ã€‚ å¤åˆå¥ï¼šé‚£ä¸ªæ˜¨å¤©ç”Ÿç—…çš„äººæ²¡æœ‰å‚åŠ ä¼šè®®ã€‚ ï¼ˆ3ï¼‰åŒæ ·ä¸€ä¸ªæ„æ€ï¼Œå°½é‡ä½¿ç”¨è‚¯å®šå¥è¡¨è¾¾ï¼Œä¸ä½¿ç”¨å¦å®šå¥è¡¨è¾¾ã€‚ é”™è¯¯ï¼šè¯·ç¡®è®¤æ²¡æœ‰æ¥é€šè£…ç½®çš„ç”µæºã€‚ æ­£ç¡®ï¼šè¯·ç¡®è®¤è£…ç½®çš„ç”µæºå·²å…³é—­ã€‚ ï¼ˆ4ï¼‰é¿å…ä½¿ç”¨åŒé‡å¦å®šå¥ã€‚ é”™è¯¯ï¼šæ²¡æœ‰åˆ é™¤æƒé™çš„ç”¨æˆ·ï¼Œä¸èƒ½åˆ é™¤æ­¤æ–‡ä»¶ã€‚ æ­£ç¡®ï¼šç”¨æˆ·å¿…é¡»æ‹¥æœ‰åˆ é™¤æƒé™ï¼Œæ‰èƒ½åˆ é™¤æ­¤æ–‡ä»¶ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:2:2","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å†™ä½œé£æ ¼ ï¼ˆ1ï¼‰å°½é‡ä¸ä½¿ç”¨è¢«åŠ¨è¯­æ€ï¼Œæ”¹ä¸ºä½¿ç”¨ä¸»åŠ¨è¯­æ€ã€‚ é”™è¯¯ï¼šå‡å¦‚æ­¤è½¯ä»¶å°šæœªè¢«å®‰è£…ï¼Œ æ­£ç¡®ï¼šå‡å¦‚å°šæœªå®‰è£…è¿™ä¸ªè½¯ä»¶ï¼Œ ï¼ˆ2ï¼‰ä¸ä½¿ç”¨éæ­£å¼çš„è¯­è¨€é£æ ¼ã€‚ é”™è¯¯ï¼šLady Gaga çš„æ¼”å”±ä¼šçœŸæ˜¯é…·æ¯™äº†ï¼Œä»æ²¡çœ‹è¿‡è¿™ä¹ˆç»™åŠ›çš„è¡¨æ¼”ï¼ï¼ï¼ æ­£ç¡®ï¼šæ— æ³•å‚åŠ æœ¬æ¬¡æ´»åŠ¨ï¼Œæˆ‘æ·±æ„Ÿé—æ†¾ã€‚ ï¼ˆ3ï¼‰ä¸ä½¿ç”¨å†·åƒ»ã€ç”Ÿé€ æˆ–è€…æ–‡è¨€æ–‡çš„è¯è¯­ï¼Œè€Œè¦ä½¿ç”¨ç°ä»£æ±‰è¯­çš„å¸¸ç”¨è¡¨è¾¾æ–¹å¼ã€‚ é”™è¯¯ï¼šè¿™æ˜¯å”¯äºŒçš„å¿«é€Ÿå¯åŠ¨çš„æ–¹æ³•ã€‚ æ­£ç¡®ï¼šè¿™æ˜¯ä»…æœ‰çš„ä¸¤ç§å¿«é€Ÿå¯åŠ¨çš„æ–¹æ³•ã€‚ ï¼ˆ4ï¼‰ç”¨å¯¹â€œçš„â€ã€â€œåœ°â€ã€â€œå¾—â€ã€‚ å¥¹éœ²å‡ºäº†å¼€å¿ƒçš„ç¬‘å®¹ã€‚ ï¼ˆå½¢å®¹è¯ï¼‹çš„ï¼‹åè¯ï¼‰ å¥¹å¼€å¿ƒåœ°ç¬‘äº†ã€‚ ï¼ˆå‰¯è¯ï¼‹åœ°ï¼‹åŠ¨è¯ï¼‰ å¥¹ç¬‘å¾—å¾ˆå¼€å¿ƒã€‚ ï¼ˆåŠ¨è¯ï¼‹å¾—ï¼‹å‰¯è¯ï¼‰ ï¼ˆ5ï¼‰ä½¿ç”¨ä»£è¯æ—¶ï¼ˆæ¯”å¦‚â€œå…¶â€ã€â€œè¯¥â€ã€â€œæ­¤â€ã€â€œè¿™â€ç­‰è¯ï¼‰ï¼Œå¿…é¡»æ˜ç¡®æŒ‡ä»£çš„å†…å®¹ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªå«ä¹‰ã€‚ é”™è¯¯ï¼šä»ç®¡ç†ç³»ç»Ÿå¯ä»¥ç›‘è§†ä¸­ç»§ç³»ç»Ÿå’Œå—å…¶ç›´æ¥æ§åˆ¶çš„åˆ†é…ç³»ç»Ÿã€‚ æ­£ç¡®ï¼šä»ç®¡ç†ç³»ç»Ÿå¯ä»¥ç›‘è§†ä¸¤ä¸ªç³»ç»Ÿï¼šä¸­ç»§ç³»ç»Ÿå’Œå—ä¸­ç»§ç³»ç»Ÿç›´æ¥æ§åˆ¶çš„åˆ†é…ç³»ç»Ÿã€‚ ï¼ˆ6ï¼‰åè¯å‰ä¸è¦ä½¿ç”¨è¿‡å¤šçš„å½¢å®¹è¯ã€‚ é”™è¯¯ï¼šæ­¤è®¾å¤‡çš„ä½¿ç”¨å¿…é¡»åœ¨æ¥å—è¿‡æœ¬å…¬å¸ä¸¾åŠçš„æ­£å¼çš„è®¾å¤‡åŸ¹è®­çš„æŠ€å¸ˆçš„æŒ‡å¯¼ä¸‹è¿›è¡Œã€‚ æ­£ç¡®ï¼šæ­¤è®¾å¤‡å¿…é¡»åœ¨æŠ€å¸ˆçš„æŒ‡å¯¼ä¸‹ä½¿ç”¨ï¼Œä¸”æŒ‡å¯¼æŠ€å¸ˆå¿…é¡»æ¥å—è¿‡ç”±æœ¬å…¬å¸ä¸¾åŠçš„æ­£å¼è®¾å¤‡åŸ¹è®­ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:2:3","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"è‹±æ–‡å¤„ç† ï¼ˆ1ï¼‰è‹±æ–‡åŸæ–‡å¦‚æœä½¿ç”¨äº†å¤æ•°å½¢å¼ï¼Œç¿»è¯‘æˆä¸­æ–‡æ—¶ï¼Œåº”è¯¥å°†å…¶è¿˜åŸä¸ºå•æ•°å½¢å¼ã€‚ è‹±æ–‡ï¼š...information stored in random access memory (RAMs)... ä¸­æ–‡ï¼šâ‹¯â‹¯å­˜å‚¨åœ¨éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRAMï¼‰é‡Œçš„ä¿¡æ¯â‹¯â‹¯ ï¼ˆ2ï¼‰å¤–æ–‡ç¼©å†™å¯ä»¥ä½¿ç”¨åŠè§’åœ†ç‚¹(.)è¡¨ç¤ºç¼©å†™ã€‚ U.S.A. Apple, Inc. ï¼ˆ3ï¼‰è¡¨ç¤ºä¸­æ–‡æ—¶ï¼Œè‹±æ–‡çœç•¥å·ï¼ˆ...ï¼‰åº”æ”¹ä¸ºä¸­æ–‡çœç•¥å·ï¼ˆâ‹¯â‹¯ï¼‰ã€‚ è‹±æ–‡ï¼š5 minutes later... ä¸­æ–‡ï¼š5 åˆ†é’Ÿè¿‡å»äº†â‹¯â‹¯ ï¼ˆ4ï¼‰è‹±æ–‡ä¹¦åæˆ–ç”µå½±åæ”¹ç”¨ä¸­æ–‡è¡¨è¾¾æ—¶ï¼ŒåŒå¼•å·åº”æ”¹ä¸ºä¹¦åå·ã€‚ è‹±æ–‡ï¼šHe published an article entitled \"The Future of the Aviation\". ä¸­æ–‡ï¼šä»–å‘è¡¨äº†ä¸€ç¯‡åä¸ºã€Šèˆªç©ºä¸šçš„æœªæ¥ã€‹çš„æ–‡ç« ã€‚ ï¼ˆ5ï¼‰ç¬¬ä¸€æ¬¡å‡ºç°è‹±æ–‡è¯æ±‡æ—¶ï¼Œåœ¨æ‹¬å·ä¸­ç»™å‡ºä¸­æ–‡æ ‡æ³¨ã€‚æ­¤åå†æ¬¡å‡ºç°æ—¶ï¼Œç›´æ¥ä½¿ç”¨è‹±æ–‡ç¼©å†™å³å¯ã€‚ IOCï¼ˆInternational Olympic Committeeï¼Œå›½é™…å¥¥æ—åŒ¹å…‹å§”å‘˜ä¼šï¼‰ã€‚è¿™æ ·å®šä¹‰åï¼Œä¾¿å¯ä»¥ç›´æ¥ä½¿ç”¨â€œIOCâ€äº†ã€‚ ï¼ˆ6ï¼‰ä¸“æœ‰åè¯ä¸­æ¯ä¸ªè¯ç¬¬ä¸€ä¸ªå­—æ¯å‡åº”å¤§å†™ï¼Œéä¸“æœ‰åè¯åˆ™ä¸éœ€è¦å¤§å†™ã€‚ â€œAmerican Association of Physicists in Medicineâ€ï¼ˆç¾å›½åŒ»å­¦ç‰©ç†å­¦å®¶åä¼šï¼‰æ˜¯ä¸“æœ‰åè¯ï¼Œéœ€è¦å¤§å†™ã€‚ â€œonline transaction processingâ€ï¼ˆåœ¨çº¿äº‹åŠ¡å¤„ç†ï¼‰ä¸æ˜¯ä¸“æœ‰åè¯ï¼Œä¸åº”å¤§å†™ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:2:4","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ®µè½ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:3:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"åŸåˆ™ ä¸€ä¸ªæ®µè½åªèƒ½æœ‰ä¸€ä¸ªä¸»é¢˜ï¼Œæˆ–ä¸€ä¸ªä¸­å¿ƒå¥å­ã€‚ æ®µè½çš„ä¸­å¿ƒå¥å­æ”¾åœ¨æ®µé¦–ï¼Œå¯¹å…¨æ®µå†…å®¹è¿›è¡Œæ¦‚è¿°ã€‚åé¢é™ˆè¿°çš„å¥å­ä¸ºä¸­å¿ƒå¥å­æœåŠ¡ã€‚ ä¸€ä¸ªæ®µè½çš„é•¿åº¦ä¸èƒ½è¶…è¿‡ä¸ƒè¡Œï¼Œæœ€ä½³æ®µè½é•¿åº¦å°äºç­‰äºå››è¡Œã€‚ æ®µè½çš„å¥å­è¯­æ°”è¦ä½¿ç”¨é™ˆè¿°å’Œè‚¯å®šè¯­æ°”ï¼Œé¿å…ä½¿ç”¨æ„Ÿå¹è¯­æ°”ã€‚ æ®µè½ä¹‹é—´ä½¿ç”¨ä¸€ä¸ªç©ºè¡Œéš”å¼€ã€‚ æ®µè½å¼€å¤´ä¸è¦ç•™å‡ºç©ºç™½å­—ç¬¦ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:3:1","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å¼•ç”¨ å¼•ç”¨ç¬¬ä¸‰æ–¹å†…å®¹æ—¶ï¼Œåº”æ³¨æ˜å‡ºå¤„ã€‚ One manâ€™s constant is another manâ€™s variable. â€” Alan Perlis å¦‚æœæ˜¯å…¨ç¯‡è½¬è½½ï¼Œè¯·åœ¨å…¨æ–‡å¼€å¤´æ˜¾è‘—ä½ç½®æ³¨æ˜ä½œè€…å’Œå‡ºå¤„ï¼Œå¹¶é“¾æ¥è‡³åŸæ–‡ã€‚ æœ¬æ–‡è½¬è½½è‡ª WikiQuote ä½¿ç”¨å¤–éƒ¨å›¾ç‰‡æ—¶ï¼Œå¿…é¡»åœ¨å›¾ç‰‡ä¸‹æ–¹æˆ–æ–‡æœ«æ ‡æ˜æ¥æºã€‚ æœ¬æ–‡éƒ¨åˆ†å›¾ç‰‡æ¥è‡ª Wikipedia ","date":"2023-02-04","objectID":"/posts/document-style-guide/:3:2","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ•°å€¼ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:4:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"åŠè§’æ•°å­— é˜¿æ‹‰ä¼¯æ•°å­—ä¸€å¾‹ä½¿ç”¨åŠè§’å½¢å¼ï¼Œä¸å¾—ä½¿ç”¨å…¨è§’å½¢å¼ã€‚ é”™è¯¯ï¼šè¿™ä»¶å•†å“çš„ä»·æ ¼æ˜¯ï¼‘ï¼ï¼ï¼å…ƒã€‚ æ­£ç¡®ï¼šè¿™ä»¶å•†å“çš„ä»·æ ¼æ˜¯ 1000 å…ƒã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:4:1","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"åƒåˆ†å· æ•°å€¼ä¸ºåƒä½ä»¥ä¸Šï¼Œåº”æ·»åŠ åƒåˆ†å·ï¼ˆåŠè§’é€—å·ï¼‰ã€‚ XXX å…¬å¸çš„å®æ”¶èµ„æœ¬ä¸º ï¿¥1,258,000 äººæ°‘å¸ã€‚ å¯¹äº 4 ä½çš„æ•°å€¼ï¼Œåƒåˆ†å·æ˜¯é€‰ç”¨çš„ï¼Œæ¯”å¦‚1000å’Œ1,000éƒ½å¯ä»¥æ¥å—ã€‚å¯¹äº 4 ä½ä»¥ä¸Šçš„æ•°å€¼ï¼Œåº”æ·»åŠ åƒåˆ†å·ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:4:2","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"è´§å¸ è´§å¸åº”ä¸ºé˜¿æ‹‰ä¼¯æ•°å­—ï¼Œå¹¶åœ¨æ•°å­—å‰å†™å‡ºè´§å¸ç¬¦å·ï¼Œæˆ–åœ¨æ•°å­—åå†™å‡ºè´§å¸ä¸­æ–‡åç§°ã€‚ $1,000 1,000 ç¾å…ƒ è‹±æ–‡çš„è´§å¸åç§°ï¼Œå»ºè®®å‚è€ƒå›½é™…æ ‡å‡† ISO 4217ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:4:3","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ•°å€¼èŒƒå›´ è¡¨ç¤ºæ•°å€¼èŒƒå›´æ—¶ï¼Œç”¨æ³¢æµªçº¿ï¼ˆï½ï¼‰æˆ–ä¸€å­—çº¿ï¼ˆâ€”ï¼‰è¿æ¥ã€‚å‚è§ã€Šæ ‡ç‚¹ç¬¦å·ã€‹ä¸€èŠ‚çš„â€œè¿æ¥å·â€éƒ¨åˆ†ã€‚ å¸¦æœ‰å•ä½æˆ–ç™¾åˆ†å·æ—¶ï¼Œä¸¤ä¸ªæ•°å­—å»ºè®®éƒ½è¦åŠ ä¸Šå•ä½æˆ–ç™¾åˆ†å·ã€‚ 132 kgï½234 kg 67%ï½89% ","date":"2023-02-04","objectID":"/posts/document-style-guide/:4:4","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å˜åŒ–ç¨‹åº¦çš„è¡¨ç¤ºæ³• æ•°å­—çš„å¢åŠ è¦ä½¿ç”¨â€œå¢åŠ äº†â€ã€â€œå¢åŠ åˆ°â€ã€‚â€œäº†â€è¡¨ç¤ºå¢é‡ï¼Œâ€œåˆ°â€è¡¨ç¤ºå®šé‡ã€‚ å¢åŠ åˆ°è¿‡å»çš„ä¸¤å€ ï¼ˆè¿‡å»ä¸ºä¸€ï¼Œç°åœ¨ä¸ºäºŒï¼‰ å¢åŠ äº†ä¸¤å€ ï¼ˆè¿‡å»ä¸ºä¸€ï¼Œç°åœ¨ä¸ºä¸‰ï¼‰ æ•°å­—çš„å‡å°‘è¦ä½¿ç”¨â€œé™ä½äº†â€ã€â€œé™ä½åˆ°â€ã€‚â€œäº†â€è¡¨ç¤ºå¢é‡ï¼Œâ€œåˆ°â€è¡¨ç¤ºå®šé‡ã€‚ é™ä½åˆ°ç™¾åˆ†ä¹‹å…«å ï¼ˆå®šé¢æ˜¯ä¸€ç™¾ï¼Œç°åœ¨æ˜¯å…«åï¼‰ é™ä½äº†ç™¾åˆ†ä¹‹å…«å ï¼ˆåŸæ¥æ˜¯ä¸€ç™¾ï¼Œç°åœ¨æ˜¯äºŒåï¼‰ ä¸èƒ½ç”¨â€œé™ä½ N å€â€æˆ–â€œå‡å°‘ N å€â€çš„è¡¨ç¤ºæ³•ï¼Œè¦ç”¨â€œé™ä½ç™¾åˆ†ä¹‹å‡ â€æˆ–â€œå‡å°‘ç™¾åˆ†ä¹‹å‡ â€ã€‚å› ä¸ºå‡å°‘ï¼ˆæˆ–é™ä½ï¼‰ä¸€å€è¡¨ç¤ºæ•°å€¼åŸæ¥ä¸ºä¸€ç™¾ï¼Œç°åœ¨ç­‰äºé›¶ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:4:5","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ ‡ç‚¹ç¬¦å· ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"åŸåˆ™ ï¼ˆ1ï¼‰ä¸­æ–‡è¯­å¥çš„æ ‡ç‚¹ç¬¦å·ï¼Œå‡åº”è¯¥é‡‡å–å…¨è§’ç¬¦å·ï¼Œè¿™æ ·å¯ä»¥ä¸å…¨è§’æ–‡å­—ä¿æŒè§†è§‰çš„ä¸€è‡´ã€‚ ï¼ˆ2ï¼‰å¦‚æœæ•´å¥ä¸ºè‹±æ–‡ï¼Œåˆ™è¯¥å¥ä½¿ç”¨è‹±æ–‡/åŠè§’æ ‡ç‚¹ã€‚ ï¼ˆ3ï¼‰å¥å·ã€é—®å·ã€å¹å·ã€é€—å·ã€é¡¿å·ã€åˆ†å·å’Œå†’å·ä¸å¾—å‡ºç°åœ¨ä¸€è¡Œä¹‹é¦–ã€‚ ï¼ˆ4ï¼‰ç‚¹å·ï¼ˆå¥å·ã€é€—å·ã€é¡¿å·ã€åˆ†å·ã€å†’å·ï¼‰ä¸å¾—å‡ºç°åœ¨æ ‡é¢˜çš„æœ«å°¾ï¼Œè€Œæ ‡å·ï¼ˆå¼•å·ã€æ‹¬å·ã€ç ´æŠ˜å·ã€çœç•¥å·ã€ä¹¦åå·ã€ç€é‡å·ã€é—´éš”å·ã€å¹å·ã€é—®å·ï¼‰å¯ä»¥ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:1","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å¥å· ï¼ˆ1ï¼‰ä¸­æ–‡è¯­å¥çš„ç»“å°¾å¤„åº”è¯¥ç”¨å…¨è§’å¥å·ï¼ˆã€‚ï¼‰ã€‚ ï¼ˆ2ï¼‰å¥å­æœ«å°¾ç”¨æ‹¬å·åŠ æ³¨æ—¶ï¼Œå¥å·åº”åœ¨æ‹¬å·ä¹‹å¤–ã€‚ é”™è¯¯ï¼šå…³äºæ–‡ä»¶çš„è¾“å‡ºï¼Œè¯·å‚ç…§ç¬¬ 1.3 èŠ‚ï¼ˆè§ç¬¬ 26 é¡µã€‚ï¼‰ æ­£ç¡®ï¼šå…³äºæ–‡ä»¶çš„è¾“å‡ºï¼Œè¯·å‚ç…§ç¬¬ 1.3 èŠ‚ï¼ˆè§ç¬¬ 26 é¡µï¼‰ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:2","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"é€—å· ï¼ˆ1ï¼‰é€—å·ï¼ˆï¼Œï¼‰è¡¨ç¤ºå¥å­å†…éƒ¨çš„ä¸€èˆ¬æ€§åœé¡¿ã€‚ ï¼ˆ2ï¼‰æ³¨æ„é¿å…â€œä¸€é€—åˆ°åº•â€ï¼Œå³æ•´ä¸ªæ®µè½é™¤äº†ç»“å°¾ï¼Œå…¨éƒ¨åœé¡¿éƒ½ä½¿ç”¨é€—å·ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:3","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"é¡¿å· ï¼ˆ1ï¼‰å¥å­å†…éƒ¨çš„å¹¶åˆ—è¯ï¼Œåº”è¯¥ç”¨å…¨è§’é¡¿å·(ã€) åˆ†éš”ï¼Œè€Œä¸ç”¨é€—å·ï¼Œå³ä½¿å¹¶åˆ—è¯æ˜¯è‹±è¯­ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ é”™è¯¯ï¼šæˆ‘æœ€æ¬£èµçš„ç§‘æŠ€å…¬å¸æœ‰ Google, Facebook, è…¾è®¯, é˜¿é‡Œå’Œç™¾åº¦ç­‰ã€‚ æ­£ç¡®ï¼šæˆ‘æœ€æ¬£èµçš„ç§‘æŠ€å…¬å¸æœ‰ Googleã€Facebookã€è…¾è®¯ã€é˜¿é‡Œå’Œç™¾åº¦ç­‰ã€‚ ï¼ˆ2ï¼‰è‹±æ–‡å¥å­ä¸­ï¼Œå¹¶åˆ—è¯è¯­ä¹‹é—´ä½¿ç”¨åŠè§’é€—å·ï¼ˆ,ï¼‰åˆ†éš”ã€‚ ä¾‹å¥ï¼šMicrosoft Office includes Word, Excel, PowerPoint, Outlook and other components. ï¼ˆ3ï¼‰ä¸­æ–‡å¥å­å†…éƒ¨çš„å¹¶åˆ—è¯ï¼Œæœ€åä¸€ä¸ªå°½é‡ä½¿ç”¨ï¼ˆå’Œï¼‰æ¥è¿æ¥ï¼Œä½¿å¥å­è¯»èµ·æ¥æ›´åŠ è¿è´¯ï¼Œä¸‹é¢ä¸¤ä¸ªå¥å­éƒ½å¯ä»¥ï¼Œç¬¬äºŒä¸ªæ›´ä¼˜ã€‚ æ­£ç¡®ï¼šæˆ‘æœ€æ¬£èµçš„ç§‘æŠ€å…¬å¸æœ‰ Googleã€Facebookã€è…¾è®¯ã€é˜¿é‡Œï¼Œä»¥åŠç™¾åº¦ç­‰ã€‚ æ­£ç¡®ï¼šæˆ‘æœ€æ¬£èµçš„ç§‘æŠ€å…¬å¸æœ‰ Googleã€Facebookã€è…¾è®¯ã€é˜¿é‡Œå’Œç™¾åº¦ç­‰ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:4","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"åˆ†å· ï¼ˆ1ï¼‰åˆ†å·ï¼ˆï¼›ï¼‰è¡¨ç¤ºå¤å¥å†…éƒ¨å¹¶åˆ—åˆ†å¥ä¹‹é—´çš„åœé¡¿ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:5","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å¼•å· ï¼ˆ1ï¼‰å¼•ç”¨æ—¶ï¼Œåº”è¯¥ä½¿ç”¨å…¨è§’åŒå¼•å·ï¼ˆâ€œ â€ï¼‰ï¼Œæ³¨æ„å‰ååŒå¼•å·ä¸åŒã€‚ ä¾‹å¥ï¼šè®¸å¤šäººéƒ½è®¤ä¸ºå®¢æˆ·æœåŠ¡çš„æ ¸å¿ƒæ˜¯â€œå‹å¥½â€å’Œâ€œä¸“ä¸šâ€ã€‚ ï¼ˆ2ï¼‰å¼•å·é‡Œé¢è¿˜è¦ç”¨å¼•å·æ—¶ï¼Œå¤–é¢ä¸€å±‚ç”¨åŒå¼•å·ï¼Œé‡Œé¢ä¸€å±‚ç”¨å•å¼•å·ï¼ˆâ€˜ â€™ï¼‰ï¼Œæ³¨æ„å‰åå•å¼•å·ä¸åŒã€‚ ä¾‹å¥ï¼šé²å‹ƒè§£é‡Šé“ï¼šâ€œæˆ‘è¦æ”¾éŸ³ä¹ï¼Œå¯è¨åˆ©è¯´ï¼Œâ€˜ä¸è¡Œï¼â€™ã€‚â€ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:6","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ‹¬å· ï¼ˆ1ï¼‰è¡¥å……è¯´æ˜æ—¶ï¼Œä½¿ç”¨å…¨è§’åœ†æ‹¬å·ï¼ˆï¼ˆï¼‰ï¼‰ï¼Œæ‹¬å·å‰åä¸åŠ ç©ºæ ¼ã€‚ ä¾‹å¥ï¼šè¯·ç¡®è®¤æ‰€æœ‰çš„è¿æ¥ï¼ˆç”µç¼†å’Œæ¥æ’ä»¶ï¼‰å‡å®‰è£…ç‰¢å›ºã€‚ ï¼ˆ2ï¼‰å‡ ç§æ‹¬å·çš„ä¸­è‹±æ–‡åç§°ã€‚ è‹±æ–‡ ä¸­æ–‡ { } braces æˆ– curly brackets å¤§æ‹¬å· [ ] square brackets æˆ– brackets æ–¹æ‹¬å· \u003c \u003e angled brackets å°–æ‹¬å· ( ) parentheses åœ†æ‹¬å· ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:7","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å†’å· ï¼ˆ1ï¼‰å…¨è§’å†’å·ï¼ˆï¼šï¼‰å¸¸ç”¨åœ¨éœ€è¦è§£é‡Šçš„è¯è¯­åè¾¹ï¼Œå¼•å‡ºè§£é‡Šå’Œè¯´æ˜ã€‚ ä¾‹å¥ï¼šè¯·ç¡®è®¤ä»¥ä¸‹å‡ é¡¹å†…å®¹ï¼šæ—¶é—´ã€åœ°ç‚¹ã€æ´»åŠ¨åç§°å’Œæ¥å®¾æ•°é‡ã€‚ ï¼ˆ2ï¼‰è¡¨ç¤ºæ—¶é—´æ—¶ï¼Œåº”ä½¿ç”¨åŠè§’å†’å·ï¼ˆ:ï¼‰ã€‚ ä¾‹å¥ï¼šæ—©ä¸Š 8:00 ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:8","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"çœç•¥å· ï¼ˆ1ï¼‰çœç•¥å·ï¼ˆâ‹¯â‹¯ï¼‰è¡¨ç¤ºè¯­å¥æœªå®Œã€æˆ–è€…è¯­æ°”çš„ä¸è¿ç»­ã€‚ ï¼ˆ2ï¼‰çœç•¥å·å ä¸¤ä¸ªæ±‰å­—ç©ºé—´ã€åŒ…å«å…­ä¸ªçœç•¥ç‚¹ï¼Œä¸è¦ä½¿ç”¨ã€‚ã€‚ã€‚æˆ–...ç­‰éæ ‡å‡†å½¢å¼ã€‚ ï¼ˆ3ï¼‰çœç•¥å·ä¸åº”ä¸â€œç­‰â€è¿™ä¸ªè¯ä¸€èµ·ä½¿ç”¨ã€‚ é”™è¯¯ï¼šæˆ‘ä»¬ä¸ºä¼šé¤å‡†å¤‡äº†é¦™è•‰ã€è‹¹æœã€æ¢¨â€¦ç­‰å„è‰²æ°´æœã€‚ æ­£ç¡®ï¼šæˆ‘ä»¬ä¸ºä¼šé¤å‡†å¤‡äº†å„è‰²æ°´æœï¼Œæœ‰é¦™è•‰ã€è‹¹æœã€æ¢¨â‹¯â‹¯ æ­£ç¡®ï¼šæˆ‘ä»¬ä¸ºä¼šé¤å‡†å¤‡äº†é¦™è•‰ã€è‹¹æœã€æ¢¨ç­‰å„è‰²æ°´æœã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:9","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ„Ÿå¹å· ï¼ˆ1ï¼‰åº”è¯¥ä½¿ç”¨å¹³é™çš„è¯­æ°”å™è¿°ï¼Œå°½é‡é¿å…ä½¿ç”¨æ„Ÿå¹å·ï¼ˆï¼ï¼‰ã€‚ ï¼ˆ2ï¼‰ä¸å¾—å¤šä¸ªæ„Ÿå¹å·è¿ç”¨ï¼Œæ¯”å¦‚ï¼ï¼å’Œ!!!ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:10","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"ç ´æŠ˜å· ï¼ˆ1ï¼‰ç ´æŠ˜å·â€”â€”â€”â€”ä¸€èˆ¬ç”¨äºè¿›ä¸€æ­¥è§£é‡Šã€‚ ï¼ˆ2ï¼‰ç ´æŠ˜å·åº”å ä¸¤ä¸ªæ±‰å­—çš„ä½ç½®ã€‚å¦‚æœç ´æŠ˜å·æœ¬èº«åªå ä¸€ä¸ªæ±‰å­—çš„ä½ç½®ï¼Œé‚£ä¹ˆå‰ååº”è¯¥ç•™å‡ºä¸€ä¸ªåŠè§’ç©ºæ ¼ã€‚ ä¾‹å¥ï¼šç›´è§‰â€”â€”â€”â€”å°½ç®¡å®ƒå¹¶ä¸æ€»æ˜¯å¯é çš„â€”â€”â€”â€”å‘Šè¯‰æˆ‘ï¼Œè¿™äº‹å¯èƒ½å‡ºäº†äº›é—®é¢˜ã€‚ ä¾‹å¥ï¼šç›´è§‰ â€”â€” å°½ç®¡å®ƒå¹¶ä¸æ€»æ˜¯å¯é çš„ â€”â€” å‘Šè¯‰æˆ‘ï¼Œè¿™äº‹å¯èƒ½å‡ºäº†äº›é—®é¢˜ã€‚ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:11","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"è¿æ¥å· ï¼ˆ1ï¼‰è¿æ¥å·ç”¨äºè¿æ¥ä¸¤ä¸ªç±»ä¼¼çš„è¯ã€‚ ï¼ˆ2ï¼‰ä»¥ä¸‹åœºåˆåº”è¯¥ä½¿ç”¨ç›´çº¿è¿æ¥å·ï¼ˆ-ï¼‰ï¼Œå ä¸€ä¸ªåŠè§’å­—ç¬¦çš„ä½ç½®ã€‚ ä¸¤ä¸ªåè¯çš„å¤åˆ å›¾è¡¨ç¼–å· ä¾‹å¥ï¼šæ°§åŒ–-è¿˜åŸååº” ä¾‹å¥ï¼šå›¾ 1-1 ï¼ˆ3ï¼‰æ•°å€¼èŒƒå›´ï¼ˆä¾‹å¦‚æ—¥æœŸã€æ—¶é—´æˆ–æ•°å­—ï¼‰åº”è¯¥ä½¿ç”¨æ³¢æµªè¿æ¥å·ï¼ˆï½ï¼‰æˆ–ä¸€å­—å·ï¼ˆâ€”ï¼‰ï¼Œå ä¸€ä¸ªå…¨è§’å­—ç¬¦çš„ä½ç½®ã€‚ ä¾‹å¥ï¼š2009 å¹´ï½2011 å¹´ æ³¨æ„ï¼Œæ³¢æµªè¿æ¥å·å‰åä¸¤ä¸ªå€¼éƒ½å»ºè®®åŠ ä¸Šå•ä½ã€‚ ï¼ˆ4ï¼‰æ³¢æµªè¿æ¥å·ä¹Ÿå¯ä»¥ç”¨æ±‰å­—â€œè‡³â€ä»£æ›¿ã€‚ ä¾‹å¥ï¼šå‘¨å›´æ¸©åº¦ï¼š-20 Â°C è‡³ -10 Â°C ","date":"2023-02-04","objectID":"/posts/document-style-guide/:5:12","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ–‡æ¡£ä½“ç³» ","date":"2023-02-04","objectID":"/posts/document-style-guide/:6:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"ç»“æ„ è½¯ä»¶æ‰‹å†Œæ˜¯ä¸€éƒ¨å®Œæ•´çš„ä¹¦ï¼Œå»ºè®®é‡‡ç”¨ä¸‹é¢çš„ç»“æ„ã€‚ ç®€ä»‹ï¼ˆIntroductionï¼‰ï¼š[å¿…å¤‡] [æ–‡ä»¶] æä¾›å¯¹äº§å“å’Œæ–‡æ¡£æœ¬èº«çš„æ€»ä½“çš„ã€æ‰¼è¦çš„è¯´æ˜ å¿«é€Ÿä¸Šæ‰‹ï¼ˆGetting Startedï¼‰ï¼š[å¯é€‰] [æ–‡ä»¶] å¦‚ä½•æœ€å¿«é€Ÿåœ°ä½¿ç”¨äº§å“ å…¥é—¨ç¯‡ï¼ˆBasicsï¼‰ï¼š[å¿…å¤‡] [ç›®å½•] åˆç§°â€œä½¿ç”¨ç¯‡â€ï¼Œæä¾›åˆçº§çš„ä½¿ç”¨æ•™ç¨‹ ç¯å¢ƒå‡†å¤‡ï¼ˆPrerequisiteï¼‰ï¼š[å¿…å¤‡] [æ–‡ä»¶] è½¯ä»¶ä½¿ç”¨éœ€è¦æ»¡è¶³çš„å‰ç½®æ¡ä»¶ å®‰è£…ï¼ˆInstallationï¼‰ï¼š[å¯é€‰] [æ–‡ä»¶] è½¯ä»¶çš„å®‰è£…æ–¹æ³• è®¾ç½®ï¼ˆConfigurationï¼‰ï¼š[å¿…å¤‡] [æ–‡ä»¶] è½¯ä»¶çš„è®¾ç½® è¿›é˜¶ç¯‡ï¼ˆAdvanced)ï¼š[å¯é€‰] [ç›®å½•] åˆç§°â€œå¼€å‘ç¯‡â€ï¼Œæä¾›ä¸­é«˜çº§çš„å¼€å‘æ•™ç¨‹ APIï¼ˆReferenceï¼‰ï¼š[å¯é€‰] [ç›®å½•|æ–‡ä»¶] è½¯ä»¶ API çš„é€ä¸€ä»‹ç» FAQï¼š[å¯é€‰] [æ–‡ä»¶] å¸¸è§é—®é¢˜è§£ç­” é™„å½•ï¼ˆAppendixï¼‰ï¼š[å¯é€‰] [ç›®å½•] ä¸å±äºæ•™ç¨‹æœ¬èº«ã€ä½†å¯¹é˜…è¯»æ•™ç¨‹æœ‰å¸®åŠ©çš„å†…å®¹ Glossaryï¼š[å¯é€‰] [æ–‡ä»¶] åè¯è§£é‡Š Recipesï¼š[å¯é€‰] [æ–‡ä»¶] æœ€ä½³å®è·µ Troubleshootingï¼š[å¯é€‰] [æ–‡ä»¶] æ•…éšœå¤„ç† ChangeLogï¼š[å¯é€‰] [æ–‡ä»¶] ç‰ˆæœ¬è¯´æ˜ Feedbackï¼š[å¯é€‰] [æ–‡ä»¶] åé¦ˆæ–¹å¼ ä¸‹é¢æ˜¯ä¸¤ä¸ªçœŸå®èŒƒä¾‹ï¼Œå¯å‚è€ƒã€‚ Redux æ‰‹å†Œ Atom æ‰‹å†Œ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:6:1","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"æ–‡ä»¶å æ–‡æ¡£çš„æ–‡ä»¶åä¸å¾—å«æœ‰ç©ºæ ¼ã€‚ æ–‡ä»¶åå¿…é¡»ä½¿ç”¨åŠè§’å­—ç¬¦ï¼Œä¸å¾—ä½¿ç”¨å…¨è§’å­—ç¬¦ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œä¸­æ–‡ä¸èƒ½ç”¨äºæ–‡ä»¶åã€‚ é”™è¯¯ï¼šåè¯è§£é‡Š.md æ­£ç¡®ï¼šglossary.md æ–‡ä»¶åå»ºè®®åªä½¿ç”¨å°å†™å­—æ¯ï¼Œä¸ä½¿ç”¨å¤§å†™å­—æ¯ã€‚ é”™è¯¯ï¼šTroubleShooting.md æ­£ç¡®ï¼štroubleshooting.md ä¸ºäº†é†’ç›®ï¼ŒæŸäº›è¯´æ˜æ–‡ä»¶çš„æ–‡ä»¶åï¼Œå¯ä»¥ä½¿ç”¨å¤§å†™å­—æ¯ï¼Œæ¯”å¦‚READMEã€LICENSEã€‚ æ–‡ä»¶ååŒ…å«å¤šä¸ªå•è¯æ—¶ï¼Œå•è¯ä¹‹é—´å»ºè®®ä½¿ç”¨åŠè§’çš„è¿è¯çº¿ï¼ˆ-ï¼‰åˆ†éš”ã€‚ ä¸ä½³ï¼šadvanced_usage.md æ­£ç¡®ï¼šadvanced-usage.md ","date":"2023-02-04","objectID":"/posts/document-style-guide/:6:2","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Spec"],"content":"å‚è€ƒé“¾æ¥ äº§å“æ‰‹å†Œä¸­æ–‡å†™ä½œè§„èŒƒ, by åä¸º å†™ä½œè§„èŒƒå’Œæ ¼å¼è§„èŒƒ, by DaoCloud æŠ€æœ¯å†™ä½œæŠ€å·§åœ¨æ—¥æ±‰ç¿»è¯‘ä¸­çš„åº”ç”¨, by åˆ˜æ–¹ ç®€ä½“ä¸­æ–‡è§„èŒƒæŒ‡å—, by lengoo æ–‡æ¡£é£æ ¼æŒ‡å—, by LeanCloud è±Œè±†èšæ–‡æ¡ˆé£æ ¼æŒ‡å—, by è±Œè±†èš ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ—, by sparanoid ä¸­æ–‡æ’ç‰ˆéœ€æ±‚, by W3C ä¸ºä»€ä¹ˆæ–‡ä»¶åè¦å°å†™ï¼Ÿ, by é˜®ä¸€å³° Google Developer Documentation Style Guide, by Google å‡ºç‰ˆç‰©ä¸Šæ•°å­—ç”¨æ³•çš„è§„å®šï¼ˆå›½å®¶æ ‡å‡† GBT15835ï¼2011ï¼‰ GB 3100-1993 å›½é™…å•ä½åˆ¶åŠå…¶åº”ç”¨ markdownlint, VSCode æ’ä»¶ pangu.js, ç›˜å¤ä¹‹ç™½ç³»åˆ—æ’ä»¶ ","date":"2023-02-04","objectID":"/posts/document-style-guide/:7:0","tags":null,"title":"ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„å†™ä½œè§„èŒƒ","uri":"/posts/document-style-guide/"},{"categories":["Browser"],"content":"æœ€è¿‘åœ¨æŠ–éŸ³ä¸Šåˆ·åˆ°å¾ˆå¤šæ¬¡ è¢è¿›è€å¸ˆ çš„å‰ç«¯è§†é¢‘ï¼Œç„¶åå°±å¬äº†ä¸€ä¸‹ä»–çš„å‰ç«¯å¤§å¸ˆè¯¾ï¼Œæ„Ÿè§‰äº†è§£ä¸€äº›æµè§ˆå™¨åŸç†åï¼ŒåŸæ¥å·¥ä½œä¸­çš„ä¸€äº›ç–‘é—®ä¹Ÿè‡ªç„¶è§£å¼€äº†ã€‚ ","date":"2023-01-11","objectID":"/posts/event-loop/:0:0","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"æµè§ˆå™¨çš„è¿›ç¨‹æ¨¡å‹ ","date":"2023-01-11","objectID":"/posts/event-loop/:1:0","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"ä½•ä¸ºè¿›ç¨‹ï¼Ÿ ç¨‹åºè¿è¡Œéœ€è¦æœ‰å®ƒè‡ªå·±ä¸“å±çš„å†…å­˜ç©ºé—´ï¼Œå¯ä»¥æŠŠè¿™å—å†…å­˜ç©ºé—´ç®€å•çš„ç†è§£ä¸ºè¿›ç¨‹ è¿›ç¨‹ æ¯ä¸ªåº”ç”¨è‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œå³ä½¿è¦é€šä¿¡ï¼Œä¹Ÿéœ€è¦åŒæ–¹åŒæ„ã€‚ ","date":"2023-01-11","objectID":"/posts/event-loop/:1:1","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"ä½•ä¸ºçº¿ç¨‹ï¼Ÿ æœ‰äº†è¿›ç¨‹åï¼Œå°±å¯ä»¥è¿è¡Œç¨‹åºçš„ä»£ç äº†ã€‚ è¿è¡Œä»£ç çš„ã€Œäººã€ç§°ä¹‹ä¸ºã€Œçº¿ç¨‹ã€ã€‚ ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€ä»¥åœ¨è¿›ç¨‹å¼€å¯åä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥è¿è¡Œä»£ç ï¼Œè¯¥çº¿ç¨‹ç§°ä¹‹ä¸ºä¸»çº¿ç¨‹ã€‚ å¦‚æœç¨‹åºéœ€è¦åŒæ—¶æ‰§è¡Œå¤šå—ä»£ç ï¼Œä¸»çº¿ç¨‹å°±ä¼šå¯åŠ¨æ›´å¤šçš„çº¿ç¨‹æ¥æ‰§è¡Œä»£ç ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚ çº¿ç¨‹ ","date":"2023-01-11","objectID":"/posts/event-loop/:1:2","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"æµè§ˆå™¨æœ‰å“ªäº›è¿›ç¨‹å’Œçº¿ç¨‹ï¼Ÿ æµè§ˆå™¨æ˜¯ä¸€ä¸ªå¤šè¿›ç¨‹å¤šçº¿ç¨‹çš„åº”ç”¨ç¨‹åºï¼Œæµè§ˆå™¨å†…éƒ¨å·¥ä½œæå…¶å¤æ‚ã€‚ ä¸ºäº†é¿å…ç›¸äº’å½±å“ï¼Œä¸ºäº†å‡å°‘è¿ç¯å´©æºƒçš„å‡ ç‡ï¼Œå½“å¯åŠ¨æµè§ˆå™¨åï¼Œå®ƒä¼šè‡ªåŠ¨å¯åŠ¨å¤šä¸ªè¿›ç¨‹ã€‚ æµè§ˆå™¨è¿›ç¨‹ å¯ä»¥åœ¨æµè§ˆå™¨çš„ä»»åŠ¡ç®¡ç†å™¨ä¸­æŸ¥çœ‹å½“å‰çš„æ‰€æœ‰è¿›ç¨‹ å…¶ä¸­ï¼Œæœ€ä¸»è¦çš„è¿›ç¨‹æœ‰ï¼š æµè§ˆå™¨è¿›ç¨‹ ä¸»è¦è´Ÿè´£ç•Œé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ç­‰ã€‚æµè§ˆå™¨è¿›ç¨‹å†…éƒ¨ä¼šå¯åŠ¨å¤šä¸ªçº¿ç¨‹å¤„ç†ä¸åŒçš„ä»»åŠ¡ã€‚ ç½‘ç»œè¿›ç¨‹ è´Ÿè´£åŠ è½½ç½‘ç»œèµ„æºã€‚ç½‘ç»œè¿›ç¨‹å†…éƒ¨ä¼šå¯åŠ¨å¤šä¸ªçº¿ç¨‹æ¥å¤„ç†ä¸åŒçš„ç½‘ç»œä»»åŠ¡ã€‚ æ¸²æŸ“è¿›ç¨‹ï¼ˆæœ¬ç¯‡é‡ç‚¹è®²è§£çš„è¿›ç¨‹ï¼‰ æ¸²æŸ“è¿›ç¨‹å¯åŠ¨åï¼Œä¼šå¼€å¯ä¸€ä¸ªæ¸²æŸ“ä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹è´Ÿè´£æ‰§è¡Œ HTMLã€CSSã€JS ä»£ç ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šä¸ºæ¯ä¸ªæ ‡ç­¾é¡µå¼€å¯ä¸€ä¸ªæ–°çš„æ¸²æŸ“è¿›ç¨‹ï¼Œä»¥ä¿è¯ä¸åŒçš„æ ‡ç­¾é¡µä¹‹é—´ä¸ç›¸äº’å½±å“ã€‚ å°†æ¥è¯¥é»˜è®¤æ¨¡å¼å¯èƒ½ä¼šæœ‰æ‰€æ”¹å˜ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯å‚è§ chrome å®˜æ–¹è¯´æ˜æ–‡æ¡£ ","date":"2023-01-11","objectID":"/posts/event-loop/:1:3","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"æ¸²æŸ“ä¸»çº¿ç¨‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ æ¸²æŸ“ä¸»çº¿ç¨‹æ˜¯æµè§ˆå™¨ä¸­æœ€ç¹å¿™çš„çº¿ç¨‹ï¼Œéœ€è¦å®ƒå¤„ç†çš„ä»»åŠ¡åŒ…æ‹¬ä½†ä¸é™äºï¼š è§£æ HTML è§£æ CSS è®¡ç®—æ ·å¼ å¸ƒå±€ å¤„ç†å›¾å±‚ æ¯ç§’æŠŠé¡µé¢ç”» 60 æ¬¡ æ‰§è¡Œå…¨å±€ JS ä»£ç  æ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•° æ‰§è¡Œè®¡æ—¶å™¨çš„å›è°ƒå‡½æ•° â€¦â€¦ æ€è€ƒé¢˜ï¼šä¸ºä»€ä¹ˆæ¸²æŸ“è¿›ç¨‹ä¸é€‚ç”¨å¤šä¸ªçº¿ç¨‹æ¥å¤„ç†è¿™äº›äº‹æƒ…ï¼Ÿ è¦å¤„ç†è¿™ä¹ˆå¤šçš„ä»»åŠ¡ï¼Œä¸»çº¿ç¨‹é‡åˆ°äº†ä¸€ä¸ªå‰æ‰€æœªæœ‰çš„éš¾é¢˜ï¼šå¦‚ä½•è°ƒåº¦ä»»åŠ¡ï¼Ÿ æ¯”å¦‚ï¼š æˆ‘æ­£åœ¨æ‰§è¡Œä¸€ä¸ª JS å‡½æ•°ï¼Œæ‰§è¡Œåˆ°ä¸€åŠçš„æ—¶å€™ç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®ï¼Œæˆ‘è¯¥ç«‹å³å»æ‰§è¡Œç‚¹å‡»äº‹ä»¶çš„å¤„ç†å‡½æ•°å—ï¼Ÿ æˆ‘æ­£åœ¨æ‰§è¡Œä¸€ä¸ª JS å‡½æ•°ï¼Œæ‰§è¡Œåˆ°ä¸€åŠçš„æ—¶å€™æŸä¸ªè®¡æ—¶å™¨åˆ°è¾¾äº†æ—¶é—´ï¼Œæˆ‘è¯¥ç«‹å³å»æ‰§è¡Œå®ƒçš„å›è°ƒå—ï¼Ÿ æµè§ˆå™¨è¿›ç¨‹é€šçŸ¥æˆ‘â€œç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®â€ï¼Œä¸æ­¤åŒæ—¶ï¼ŒæŸä¸ªè®¡æ—¶å™¨ä¹Ÿåˆ°è¾¾äº†æ—¶é—´ï¼Œæˆ‘åº”è¯¥å¤„ç†å“ªä¸€ä¸ªå‘¢ï¼Ÿ â€¦â€¦ æ¸²æŸ“ä¸»çº¿ç¨‹æƒ³å‡ºäº†ä¸€ä¸ªç»å¦™çš„ä¸»æ„æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼šæ’é˜Ÿ æ¶ˆæ¯é˜Ÿåˆ— åœ¨æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæ¸²æŸ“ä¸»çº¿ç¨‹ä¼šè¿›å…¥ä¸€ä¸ªæ— é™å¾ªç¯ æ¯ä¸€æ¬¡å¾ªç¯ä¼šæ£€æŸ¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ä»»åŠ¡å­˜åœ¨ã€‚å¦‚æœæœ‰ï¼Œå°±å–å‡ºç¬¬ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œæ‰§è¡Œå®Œä¸€ä¸ªåè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›å…¥ä¼‘çœ çŠ¶æ€ã€‚ å…¶ä»–æ‰€æœ‰çº¿ç¨‹ï¼ˆåŒ…æ‹¬å…¶ä»–è¿›ç¨‹çš„çº¿ç¨‹ï¼‰å¯ä»¥éšæ—¶å‘æ¶ˆæ¯é˜Ÿåˆ—æ·»åŠ ä»»åŠ¡ã€‚æ–°ä»»åŠ¡ä¼šåŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„æœ«å°¾ã€‚åœ¨æ·»åŠ æ–°ä»»åŠ¡æ—¶ï¼Œå¦‚æœä¸»çº¿ç¨‹æ˜¯ä¼‘çœ çŠ¶æ€ï¼Œåˆ™ä¼šå°†å…¶å”¤é†’ä»¥ç»§ç»­å¾ªç¯æ‹¿å–ä»»åŠ¡ è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥è®©æ¯ä¸ªä»»åŠ¡æœ‰æ¡ä¸ç´Šçš„ã€æŒç»­çš„è¿›è¡Œä¸‹å»äº†ã€‚æ•´ä¸ªè¿‡ç¨‹ï¼Œè¢«ç§°ä¹‹ä¸ºäº‹ä»¶å¾ªç¯ï¼ˆæ¶ˆæ¯å¾ªç¯ï¼‰ã€‚ ","date":"2023-01-11","objectID":"/posts/event-loop/:2:0","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"è‹¥å¹²è§£é‡Š ","date":"2023-01-11","objectID":"/posts/event-loop/:3:0","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"ä½•ä¸ºå¼‚æ­¥ï¼Ÿ ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°ä¸€äº›æ— æ³•ç«‹å³å¤„ç†çš„ä»»åŠ¡ï¼Œæ¯”å¦‚ï¼š è®¡æ—¶å®Œæˆåéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ â€”â€” setTimeoutã€setInterval ç½‘ç»œé€šä¿¡å®Œæˆåéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ â€“ XHRã€Fetch ç”¨æˆ·æ“ä½œåéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ â€“ addEventListener å¦‚æœè®©æ¸²æŸ“ä¸»çº¿ç¨‹ç­‰å¾…è¿™äº›ä»»åŠ¡çš„æ—¶æœºè¾¾åˆ°ï¼Œå°±ä¼šå¯¼è‡´ä¸»çº¿ç¨‹é•¿æœŸå¤„äºã€Œé˜»å¡ã€çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´æµè§ˆå™¨ã€Œå¡æ­»ã€ åŒæ­¥ç­–ç•¥ æ¸²æŸ“ä¸»çº¿ç¨‹æ‰¿æ‹…ç€æå…¶é‡è¦çš„å·¥ä½œï¼Œæ— è®ºå¦‚ä½•éƒ½ä¸èƒ½é˜»å¡ï¼ å› æ­¤ï¼Œæµè§ˆå™¨é€‰æ‹©å¼‚æ­¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ å¼‚æ­¥ç­–ç•¥ ä½¿ç”¨å¼‚æ­¥çš„æ–¹å¼ï¼Œæ¸²æŸ“ä¸»çº¿ç¨‹æ°¸ä¸é˜»å¡ é¢è¯•é¢˜ï¼šå¦‚ä½•ç†è§£ JS çš„å¼‚æ­¥ï¼Ÿ å‚è€ƒç­”æ¡ˆï¼š JS æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ï¼Œè¿™æ˜¯å› ä¸ºå®ƒè¿è¡Œåœ¨æµè§ˆå™¨çš„æ¸²æŸ“ä¸»çº¿ç¨‹ä¸­ï¼Œè€Œæ¸²æŸ“ä¸»çº¿ç¨‹åªæœ‰ä¸€ä¸ªã€‚ è€Œæ¸²æŸ“ä¸»çº¿ç¨‹æ‰¿æ‹…ç€è¯¸å¤šçš„å·¥ä½œï¼Œæ¸²æŸ“é¡µé¢ã€æ‰§è¡Œ JS éƒ½åœ¨å…¶ä¸­è¿è¡Œã€‚ å¦‚æœä½¿ç”¨åŒæ­¥çš„æ–¹å¼ï¼Œå°±ææœ‰å¯èƒ½å¯¼è‡´ä¸»çº¿ç¨‹äº§ç”Ÿé˜»å¡ï¼Œä»è€Œå¯¼è‡´æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„å¾ˆå¤šå…¶ä»–ä»»åŠ¡æ— æ³•å¾—åˆ°æ‰§è¡Œã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸€æ–¹é¢ä¼šå¯¼è‡´ç¹å¿™çš„ä¸»çº¿ç¨‹ç™½ç™½çš„æ¶ˆè€—æ—¶é—´ï¼Œå¦ä¸€æ–¹é¢å¯¼è‡´é¡µé¢æ— æ³•åŠæ—¶æ›´æ–°ï¼Œç»™ç”¨æˆ·é€ æˆå¡æ­»ç°è±¡ã€‚ æ‰€ä»¥æµè§ˆå™¨é‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼æ¥é¿å…ã€‚å…·ä½“åšæ³•æ˜¯å½“æŸäº›ä»»åŠ¡å‘ç”Ÿæ—¶ï¼Œæ¯”å¦‚è®¡æ—¶å™¨ã€ç½‘ç»œã€äº‹ä»¶ç›‘å¬ï¼Œä¸»çº¿ç¨‹å°†ä»»åŠ¡äº¤ç»™å…¶ä»–çº¿ç¨‹å»å¤„ç†ï¼Œè‡ªèº«ç«‹å³ç»“æŸä»»åŠ¡çš„æ‰§è¡Œï¼Œè½¬è€Œæ‰§è¡Œåç»­ä»£ç ã€‚å½“å…¶ä»–çº¿ç¨‹å®Œæˆæ—¶ï¼Œå°†äº‹å…ˆä¼ é€’çš„å›è°ƒå‡½æ•°åŒ…è£…æˆä»»åŠ¡ï¼ŒåŠ å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„æœ«å°¾æ’é˜Ÿï¼Œç­‰å¾…ä¸»çº¿ç¨‹è°ƒåº¦æ‰§è¡Œã€‚ åœ¨è¿™ç§å¼‚æ­¥æ¨¡å¼ä¸‹ï¼Œæµè§ˆå™¨æ°¸ä¸é˜»å¡ï¼Œä»è€Œæœ€å¤§é™åº¦çš„ä¿è¯äº†å•çº¿ç¨‹çš„æµç•…è¿è¡Œã€‚ ","date":"2023-01-11","objectID":"/posts/event-loop/:3:1","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"JS ä¸ºä½•ä¼šé˜»ç¢æ¸²æŸ“ï¼Ÿ å…ˆçœ‹ä»£ç  \u003ch1\u003eMr.Yuan is awesome!\u003c/h1\u003e \u003cbutton\u003echange\u003c/button\u003e \u003cscript\u003e var h1 = document.querySelector('h1'); var btn = document.querySelector('button'); // æ­»å¾ªç¯æŒ‡å®šçš„æ—¶é—´ function delay(duration) { var start = Date.now(); while (Date.now() - start \u003c duration) {} } btn.onclick = function () { h1.textContent = 'è¢è€å¸ˆå¾ˆå¸…ï¼'; delay(3000); }; \u003c/script\u003e ç‚¹å‡»æŒ‰é’®åï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ \u003cå¤åˆ¶ä»£ç è‡ªè¡Œæ¼”ç¤º\u003e ","date":"2023-01-11","objectID":"/posts/event-loop/:3:2","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Browser"],"content":"ä»»åŠ¡æœ‰ä¼˜å…ˆçº§å—ï¼Ÿ ä»»åŠ¡æ²¡æœ‰ä¼˜å…ˆçº§ï¼Œåœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­å…ˆè¿›å…ˆå‡º ä½†æ¶ˆæ¯é˜Ÿåˆ—æ˜¯æœ‰ä¼˜å…ˆçº§çš„ æ ¹æ® W3C çš„æœ€æ–°è§£é‡Šï¼š æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªä»»åŠ¡ç±»å‹ï¼ŒåŒä¸€ä¸ªç±»å‹çš„ä»»åŠ¡å¿…é¡»åœ¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸åŒç±»å‹çš„ä»»åŠ¡å¯ä»¥åˆ†å±äºä¸åŒçš„é˜Ÿåˆ—ã€‚ åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œæµè§ˆå™¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µä»ä¸åŒçš„é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ‰§è¡Œã€‚ æµè§ˆå™¨å¿…é¡»å‡†å¤‡å¥½ä¸€ä¸ªå¾®é˜Ÿåˆ—ï¼Œå¾®é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¼˜å…ˆæ‰€æœ‰å…¶ä»–ä»»åŠ¡æ‰§è¡Œ https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint éšç€æµè§ˆå™¨çš„å¤æ‚åº¦æ€¥å‰§æå‡ï¼ŒW3C ä¸å†ä½¿ç”¨å®é˜Ÿåˆ—çš„è¯´æ³• åœ¨ç›®å‰ chrome çš„å®ç°ä¸­ï¼Œè‡³å°‘åŒ…å«äº†ä¸‹é¢çš„é˜Ÿåˆ—ï¼š å¾®é˜Ÿåˆ—ï¼šç”¨æˆ·å­˜æ”¾éœ€è¦æœ€å¿«æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¼˜å…ˆçº§ã€Œæœ€é«˜ã€ å»¶æ—¶é˜Ÿåˆ—ï¼šç”¨äºå­˜æ”¾è®¡æ—¶å™¨åˆ°è¾¾åçš„å›è°ƒä»»åŠ¡ï¼Œä¼˜å…ˆçº§ã€Œä¸­ã€ äº¤äº’é˜Ÿåˆ—ï¼šç”¨äºå­˜æ”¾ç”¨æˆ·æ“ä½œåäº§ç”Ÿçš„äº‹ä»¶å¤„ç†ä»»åŠ¡ï¼Œä¼˜å…ˆçº§ã€Œé«˜ã€ å¤šé˜Ÿåˆ—æ¼”ç¤ºå›¾ æ·»åŠ ä»»åŠ¡åˆ°å¾®é˜Ÿåˆ—çš„ä¸»è¦æ–¹å¼ä¸»è¦æ˜¯ä½¿ç”¨ Promiseã€MutationObserverï¼Œä¾‹å¦‚ï¼š // ç«‹å³æŠŠä¸€ä¸ªå‡½æ•°æ·»åŠ åˆ°å¾®é˜Ÿåˆ— Promise.resolve().then(() =\u003e {}); æµè§ˆå™¨è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é˜Ÿåˆ—ï¼Œç”±äºå’Œæˆ‘ä»¬å¼€å‘å…³ç³»ä¸å¤§ï¼Œä¸ä½œè€ƒè™‘ã€‚ é¢è¯•é¢˜ï¼šé˜è¿°ä¸€ä¸‹ JS çš„äº‹ä»¶å¾ªç¯ å‚è€ƒç­”æ¡ˆï¼š äº‹ä»¶å¾ªç¯åˆå«åšæ¶ˆæ¯å¾ªç¯ï¼Œæ˜¯æµè§ˆå™¨æ¸²æŸ“ä¸»çº¿ç¨‹çš„å·¥ä½œæ–¹å¼ã€‚ åœ¨ Chrome çš„æºç ä¸­ï¼Œå®ƒå¼€å¯ä¸€ä¸ªä¸ä¼šç»“æŸçš„ for å¾ªç¯ï¼Œæ¯æ¬¡å¾ªç¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºç¬¬ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œè€Œå…¶ä»–çº¿ç¨‹åªéœ€è¦åœ¨åˆé€‚çš„æ—¶å€™å°†ä»»åŠ¡åŠ å…¥åˆ°é˜Ÿåˆ—æœ«å°¾å³å¯ã€‚ è¿‡å»æŠŠæ¶ˆæ¯é˜Ÿåˆ—ç®€å•åˆ†ä¸ºå®é˜Ÿåˆ—å’Œå¾®é˜Ÿåˆ—ï¼Œè¿™ç§è¯´æ³•ç›®å‰å·²æ— æ³•æ»¡è¶³å¤æ‚çš„æµè§ˆå™¨ç¯å¢ƒï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ç§æ›´åŠ çµæ´»å¤šå˜çš„å¤„ç†æ–¹å¼ã€‚ æ ¹æ® W3C å®˜æ–¹çš„è§£é‡Šï¼Œæ¯ä¸ªä»»åŠ¡æœ‰ä¸åŒçš„ç±»å‹ï¼ŒåŒç±»å‹çš„ä»»åŠ¡å¿…é¡»åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸åŒçš„ä»»åŠ¡å¯ä»¥å±äºä¸åŒçš„é˜Ÿåˆ—ã€‚ä¸åŒä»»åŠ¡é˜Ÿåˆ—æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œåœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œç”±æµè§ˆå™¨è‡ªè¡Œå†³å®šå–å“ªä¸€ä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡ã€‚ä½†æµè§ˆå™¨å¿…é¡»æœ‰ä¸€ä¸ªå¾®é˜Ÿåˆ—ï¼Œå¾®é˜Ÿåˆ—çš„ä»»åŠ¡ä¸€å®šå…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œå¿…é¡»ä¼˜å…ˆè°ƒåº¦æ‰§è¡Œã€‚ é¢è¯•é¢˜ï¼šJS ä¸­çš„è®¡æ—¶å™¨èƒ½åšåˆ°ç²¾ç¡®è®¡æ—¶å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ å‚è€ƒç­”æ¡ˆï¼š ä¸è¡Œï¼Œå› ä¸ºï¼š è®¡ç®—æœºç¡¬ä»¶æ²¡æœ‰åŸå­é’Ÿï¼Œæ— æ³•åšåˆ°ç²¾ç¡®è®¡æ—¶ æ“ä½œç³»ç»Ÿçš„è®¡æ—¶å‡½æ•°æœ¬èº«å°±æœ‰å°‘é‡åå·®ï¼Œç”±äº JS çš„è®¡æ—¶å™¨æœ€ç»ˆè°ƒç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿçš„å‡½æ•°ï¼Œä¹Ÿå°±æºå¸¦äº†è¿™äº›åå·® æŒ‰ç…§ W3C çš„æ ‡å‡†ï¼Œæµè§ˆå™¨å®ç°è®¡æ—¶å™¨æ—¶ï¼Œå¦‚æœåµŒå¥—å±‚çº§è¶…è¿‡ 5 å±‚ï¼Œåˆ™ä¼šå¸¦æœ‰ 4 æ¯«ç§’çš„æœ€å°‘æ—¶é—´ï¼Œè¿™æ ·åœ¨è®¡æ—¶æ—¶é—´å°‘äº 4 æ¯«ç§’æ—¶åˆå¸¦æ¥äº†åå·® å—äº‹ä»¶å¾ªç¯çš„å½±å“ï¼Œè®¡æ—¶å™¨çš„å›è°ƒå‡½æ•°åªèƒ½åœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶è¿è¡Œï¼Œå› æ­¤åˆå¸¦æ¥äº†åå·® ","date":"2023-01-11","objectID":"/posts/event-loop/:3:3","tags":["Browser","JavaScript"],"title":"æµè§ˆå™¨åŸç† - äº‹ä»¶å¾ªç¯","uri":"/posts/event-loop/"},{"categories":["Debug"],"content":"å®‰è£… Homebrew åå¯¼è‡´ç³»ç»Ÿä¸­åŸæœ‰çš„ npm å’Œ npx å¤±æ•ˆçš„è§£å†³åŠæ³•","date":"2022-12-15","objectID":"/posts/homebrew-npm/","tags":["Homebrew","npm","npx","Mac"],"title":"å®‰è£… Homebrew åå¯¼è‡´ç³»ç»Ÿä¸­åŸæœ‰çš„ npm å’Œ npx å¤±æ•ˆ","uri":"/posts/homebrew-npm/"},{"categories":["Debug"],"content":" é—®é¢˜ å‰é¢ä¸€æ®µæ—¶é—´ï¼Œå®‰è£…äº† Homebrew, ä½†æ˜¯ä»Šå¤©åˆ‡æ¢ node ç‰ˆæœ¬åˆ° system version (8.10.0) åï¼Œå‘ç°è™½ç„¶ node ç‰ˆæœ¬åˆ‡æ¢æˆåŠŸï¼Œä½†æ˜¯ node ç‰ˆæœ¬å¯¹åº”çš„ npm å’Œ npx ç‰ˆæœ¬ä¸ç›¸ç¬¦ï¼Œä¸‹é¢è®°å½•ä¸€ä¸‹é—®é¢˜æ’æŸ¥è¿‡ç¨‹ã€‚ ","date":"2022-12-15","objectID":"/posts/homebrew-npm/:0:0","tags":["Homebrew","npm","npx","Mac"],"title":"å®‰è£… Homebrew åå¯¼è‡´ç³»ç»Ÿä¸­åŸæœ‰çš„ npm å’Œ npx å¤±æ•ˆ","uri":"/posts/homebrew-npm/"},{"categories":["Debug"],"content":"ç½ªé­ç¥¸é¦– é¦–å…ˆå®šä½åˆ°è¿™æ¬¡é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯å®‰è£… Homebrew å¯¼è‡´çš„ï¼Œè¿™ç‚¹å¯ä»¥å¾ˆå¿«ä¹Ÿå¾ˆæ˜ç¡®åœ°å®šä½åˆ°ï¼Œå› ä¸ºä»¥å‰å®‰è£… Homebrew ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å½“æ—¶çš„åšæ³•æ˜¯å¸è½½ Homebrew é¿å…å†²çªã€‚ ","date":"2022-12-15","objectID":"/posts/homebrew-npm/:1:0","tags":["Homebrew","npm","npx","Mac"],"title":"å®‰è£… Homebrew åå¯¼è‡´ç³»ç»Ÿä¸­åŸæœ‰çš„ npm å’Œ npx å¤±æ•ˆ","uri":"/posts/homebrew-npm/"},{"categories":["Debug"],"content":"Why åˆ†æä¸ºå•¥ä¼šå†²çªï¼ŒHomebrew å®‰è£…çš„å·¥ç¨‹ä¸­ä¹Ÿä¼šé»˜è®¤ä¸€éƒ¨åˆ†ä¾èµ–çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œnpm å’Œ npx ä¹Ÿåœ¨å…¶ä¸­ï¼Œæ‰€ä»¥è¿™å¯¼è‡´äº† Homebrew çš„å®‰è£… npm å’Œ npx è¦†ç›–äº†ç³»ç»Ÿä¸­ node çš„ npm å’Œ npx è¿›è€Œå¯¼è‡´ node å’Œ npm ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œæ— æ³•ä½¿ç”¨ npm å¯åŠ¨é¡¹ç›®ã€‚ ","date":"2022-12-15","objectID":"/posts/homebrew-npm/:2:0","tags":["Homebrew","npm","npx","Mac"],"title":"å®‰è£… Homebrew åå¯¼è‡´ç³»ç»Ÿä¸­åŸæœ‰çš„ npm å’Œ npx å¤±æ•ˆ","uri":"/posts/homebrew-npm/"},{"categories":["Debug"],"content":"Where æ‰¾ä¸€ä¸‹ç›®å‰ npm å’Œ npx çš„äºŒè¿›åˆ¶æ–‡ä»¶åœ¨å“ªã€‚ nvm use system node -v # 8.10.0 which npm # /opt/homebrew/bin/npm which npx # /opt/homebrew/bin/npx ","date":"2022-12-15","objectID":"/posts/homebrew-npm/:3:0","tags":["Homebrew","npm","npx","Mac"],"title":"å®‰è£… Homebrew åå¯¼è‡´ç³»ç»Ÿä¸­åŸæœ‰çš„ npm å’Œ npx å¤±æ•ˆ","uri":"/posts/homebrew-npm/"},{"categories":["Debug"],"content":"How å¾ˆæ˜æ˜¾å‰é¢çš„çŒœæµ‹æ˜¯å¯¹çš„ï¼Œé‚£å°±æ‰“å¼€è¿™ä¸ªç›®å½•çœ‹çœ‹ï¼š open /opt/homebrew/bin æ‰¾åˆ° npm å’Œ npxï¼ŒæŠŠä»–ä»¬é‡å‘½åä¸º npm-brew å’Œ npx-brew, è¿™æ ·é€šè¿‡åˆ«åä¹Ÿä¿ç•™ Homebrew çš„ npm å’Œ npx. ä¿®æ”¹å®Œåï¼Œé‡å¯ç»ˆç«¯ï¼Œå†çœ‹çœ‹ npm å’Œ npx æ˜¯å¦ç”Ÿæ•ˆï¼š nvm use system node -v # 8.10.0 which npm # /usr/local/bin/npm which npx # /usr/local/bin/npx npm -v npx -v ä¸€åˆ‡æ­£å¸¸äº†ï¼Œå¯ä»¥ç”¨ npm ç»§ç»­å¯åŠ¨åŸæ¥çš„é¡¹ç›®äº†ã€‚ ","date":"2022-12-15","objectID":"/posts/homebrew-npm/:4:0","tags":["Homebrew","npm","npx","Mac"],"title":"å®‰è£… Homebrew åå¯¼è‡´ç³»ç»Ÿä¸­åŸæœ‰çš„ npm å’Œ npx å¤±æ•ˆ","uri":"/posts/homebrew-npm/"},{"categories":["Go"],"content":"è®°å½• GO åŠ Beego æ¡†æ¶å®‰è£…åŠåŸºç¡€é…ç½®ã€‚ ","date":"2022-08-31","objectID":"/posts/beego-install/:0:0","tags":["Beego","Go"],"title":"Beego å®‰è£…åŠé…ç½®","uri":"/posts/beego-install/"},{"categories":["Go"],"content":"å®‰è£… Go å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼šhttps://golang.google.cn/dl/ é€šè¿‡äºŒè¿›åˆ¶æ–‡ä»¶å¿«é€Ÿå®‰è£…ï¼Œé»˜è®¤å®‰è£…ç›®å½•ï¼š/usr/local/go é…ç½®ç¯å¢ƒå˜é‡ vim ~/.bash_profile # golang export GOROOT=/usr/local/go export GOBIN=$GOROOT/bin export PATH=$PATH:$GOBIN export GOPATH=$HOME/go export GOPROXY=https://goproxy.cn # Go work bin export PATH=$PATH:$GOPATH/bin ","date":"2022-08-31","objectID":"/posts/beego-install/:1:0","tags":["Beego","Go"],"title":"Beego å®‰è£…åŠé…ç½®","uri":"/posts/beego-install/"},{"categories":["Go"],"content":"å®‰è£… Beego Beego repository Beego docs Beego new docs Beego çš„å®‰è£…éœ€è¦åœ¨æ–°å»ºé¡¹ç›®ä¸” go mod init \u003cmodule_name\u003eä¹‹åï¼Œåœ¨é¡¹ç›®ä¸‹æ‰§è¡Œï¼Œå…·ä½“å‚è€ƒ beego#quick-startã€‚ ","date":"2022-08-31","objectID":"/posts/beego-install/:2:0","tags":["Beego","Go"],"title":"Beego å®‰è£…åŠé…ç½®","uri":"/posts/beego-install/"},{"categories":["Go"],"content":"å®‰è£… bee bee repository æ³¨æ„ï¼šarm64 æ¶æ„çš„ mac (M1 ï½ç³»åˆ—)ï¼Œä¸‹è½½å®‰è£… bee æ—¶æœ€å¥½ï¼Œä½¿ç”¨ Rosetta æ‰“å¼€ç»ˆç«¯ï¼Œä¸ç„¶æ— æ³•ä¸‹è½½ darwin_arm64 çš„ä¾èµ–ï¼Œå¦‚æœå·²ç»å®‰è£…äº†ï¼Œå¯ä»¥ä½¿ç”¨ Rosetta æ‰“å¼€ç»ˆç«¯åï¼Œè¿è¡Œ bee update å‡çº§ï¼Œå‡çº§å®Œåå°†ç»ˆç«¯å¤åŸã€‚ bee å·¥å…·å®‰è£…ï¼Œgo install å®‰è£æŒ‡å®šç‰ˆæœ¬çš„ bee å·¥å…·ï¼Œä¾‹å¦‚ï¼š go install github.com/beego/bee/v2@latest å®‰è£…æˆåŠŸåï¼Œå¯ä»¥åœ¨ $GOPATH/bin ä¸‹çœ‹åˆ° bee çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ æ£€éªŒ bee å·¥å…·æ˜¯å¦å®‰è£…æˆåŠŸï¼š bee version åˆ›å»ºä¸€ä¸ªæ–°çš„ Beego é¡¹ç›® bee new hello cd hello go mod tidy bee run ","date":"2022-08-31","objectID":"/posts/beego-install/:3:0","tags":["Beego","Go"],"title":"Beego å®‰è£…åŠé…ç½®","uri":"/posts/beego-install/"},{"categories":["Spec"],"content":" æ‘˜è¦ ç‰ˆæœ¬æ ¼å¼ï¼šMAJOR.MINOR.PATCHï¼Œç‰ˆæœ¬å·é€’å¢è§„åˆ™å¦‚ä¸‹ï¼š MAJOR: ä¸»ç‰ˆæœ¬å·ï¼Œå½“ä½ åšäº†ä¸å…¼å®¹çš„ API ä¿®æ”¹ MINOR: æ¬¡ç‰ˆæœ¬å·ï¼Œå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ PATCH: ä¿®è®¢å·ï¼Œå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ å…ˆè¡Œç‰ˆæœ¬å·åŠç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ä»¥åŠ åˆ° MAJOR.MINOR.PATCH çš„åé¢ï¼Œä½œä¸ºå»¶ä¼¸ã€‚ ","date":"2022-08-13","objectID":"/posts/semver/:0:0","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"æ ¼å¼ åŸºæœ¬çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼Œæ›´å¤šè¯·å‚è€ƒ Backusâ€“Naur Form Grammar for Valid SemVer Versions \u003cvalid semver\u003e ::= \u003cversion core\u003e | \u003cversion core\u003e \"-\" \u003cpre-release\u003e | \u003cversion core\u003e \"+\" \u003cbuild\u003e | \u003cversion core\u003e \"-\" \u003cpre-release\u003e \"+\" \u003cbuild\u003e èŒƒä¾‹ï¼š ä»£ç çŠ¶æ€ ç­‰çº§ è§„åˆ™ ç‰ˆæœ¬æ ·ä¾‹ é¦–æ¬¡å‘å¸ƒ æ–°å“å‘å¸ƒ ä»¥ 1.0.0 å¼€å§‹ 1.0.0 bug ä¿®å¤ï¼Œå‘åå…¼å®¹ è¡¥ä¸ç‰ˆæœ¬å‘å¸ƒ å˜æ›´ç¬¬ä¸‰ä½æ•°å­— 1.0.1 æ–°åŠŸèƒ½ï¼Œå‘åå…¼å®¹ æ¬¡ç‰ˆæœ¬å‘å¸ƒ å˜æ›´ç¬¬äºŒä½æ•°å­—ï¼Œå¹¶ä¸”ç¬¬ä¸‰ä½æ•°å­—é‡ç½®ä¸º 0 1.1.0 é‡å¤§å˜æ›´ï¼Œä¸å‘åå…¼å®¹ ä¸»ç‰ˆæœ¬å‘å¸ƒ å˜æ›´ç¬¬ä¸€ä½æ•°å­—ï¼Œå¹¶ä¸”ç¬¬äºŒä½ï¼Œç¬¬ä¸‰ä½æ•°å­—é‡ç½®ä¸º 0 2.0.0 â€œv1.2.3â€ æ˜¯ä¸€ä¸ªè¯­ä¹‰åŒ–ç‰ˆæœ¬å·å—ï¼Ÿ â€œv1.2.3â€ å¹¶ä¸æ˜¯çš„ä¸€ä¸ªè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬å·ã€‚ ä½†æ˜¯ï¼Œåœ¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ä¹‹å‰å¢åŠ å‰ç¼€ â€œvâ€ æ˜¯ç”¨æ¥è¡¨ç¤ºç‰ˆæœ¬å·çš„å¸¸ç”¨åšæ³•ã€‚ åœ¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ï¼Œå°† â€œversionâ€ ç¼©å†™ä¸º â€œvâ€ æ˜¯å¾ˆå¸¸è§çš„ã€‚ æ¯”å¦‚ï¼šgit tag v1.2.3 -m \"Release version 1.2.3\" ä¸­ï¼Œæ ‡ç­¾æ˜¯ â€œv1.2.3â€ï¼Œè¯­ä¹‰åŒ–ç‰ˆæœ¬å·æ˜¯ â€œ1.2.3â€ã€‚ ","date":"2022-08-13","objectID":"/posts/semver/:1:0","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"è§„èŒƒ ä»¥ä¸‹å…³é”®è¯ MUSTã€MUST NOTã€REQUIREDã€SHALLã€SHALL NOTã€SHOULDã€SHOULD NOTã€ RECOMMENDEDã€MAYã€OPTIONAL ä¾ç…§ RFC 2119 çš„å™è¿°è§£è¯»ã€‚ è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒï¼ˆSemVerï¼‰ ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶çš„è½¯ä»¶å¿…é¡»ï¼ˆMUSTï¼‰å®šä¹‰å…¬å…± APIã€‚è¯¥ API å¯ä»¥åœ¨ä»£ç ä¸­è¢«å®šä¹‰æˆ–å‡ºç°äºä¸¥è°¨çš„æ–‡æ¡£å†…ã€‚æ— è®ºä½•ç§å½¢å¼éƒ½åº”è¯¥åŠ›æ±‚ç²¾ç¡®ä¸”å®Œæ•´ã€‚ æ ‡å‡†çš„ç‰ˆæœ¬å·å¿…é¡»ï¼ˆMUSTï¼‰é‡‡ç”¨ X.Y.Z çš„æ ¼å¼ï¼Œå…¶ä¸­ Xã€Y å’Œ Z ä¸ºéè´Ÿçš„æ•´æ•°ï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰åœ¨æ•°å­—å‰æ–¹è¡¥é›¶ã€‚X æ˜¯ä¸»ç‰ˆæœ¬å·ã€Y æ˜¯æ¬¡ç‰ˆæœ¬å·ã€è€Œ Z ä¸ºä¿®è®¢å·ã€‚æ¯ä¸ªå…ƒç´ å¿…é¡»ï¼ˆMUSTï¼‰ä»¥æ•°å€¼æ¥é€’å¢ã€‚ä¾‹å¦‚ï¼š1.9.1 -\u003e 1.10.0 -\u003e 1.11.0ã€‚ æ ‡è®°ç‰ˆæœ¬å·çš„è½¯ä»¶å‘è¡Œåï¼Œç¦æ­¢ï¼ˆMUST NOTï¼‰æ”¹å˜è¯¥ç‰ˆæœ¬è½¯ä»¶çš„å†…å®¹ã€‚ä»»ä½•ä¿®æ”¹éƒ½å¿…é¡»ï¼ˆMUSTï¼‰ä»¥æ–°ç‰ˆæœ¬å‘è¡Œã€‚ ä¸»ç‰ˆæœ¬å·ä¸ºé›¶ï¼ˆ0.y.zï¼‰çš„è½¯ä»¶å¤„äºå¼€å‘åˆå§‹é˜¶æ®µï¼Œä¸€åˆ‡éƒ½å¯èƒ½éšæ—¶è¢«æ”¹å˜ã€‚è¿™æ ·çš„å…¬å…± API ä¸åº”è¯¥è¢«è§†ä¸ºç¨³å®šç‰ˆã€‚ 1.0.0 çš„ç‰ˆæœ¬å·ç”¨äºç•Œå®šå…¬å…± API çš„å½¢æˆã€‚è¿™ä¸€ç‰ˆæœ¬ä¹‹åæ‰€æœ‰çš„ç‰ˆæœ¬å·æ›´æ–°éƒ½åŸºäºå…¬å…± API åŠå…¶ä¿®æ”¹å†…å®¹ã€‚ ä¿®è®¢å· Zï¼ˆx.y.Z | x \u003e 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨åªåšäº†å‘ä¸‹å…¼å®¹çš„ä¿®æ­£æ—¶æ‰é€’å¢ã€‚è¿™é‡Œçš„ä¿®æ­£æŒ‡çš„æ˜¯é’ˆå¯¹ä¸æ­£ç¡®ç»“æœè€Œè¿›è¡Œçš„å†…éƒ¨ä¿®æ”¹ã€‚ æ¬¡ç‰ˆæœ¬å· Yï¼ˆx.Y.z | x \u003e 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨æœ‰å‘ä¸‹å…¼å®¹çš„æ–°åŠŸèƒ½å‡ºç°æ—¶é€’å¢ã€‚åœ¨ä»»ä½•å…¬å…± API çš„åŠŸèƒ½è¢«æ ‡è®°ä¸ºå¼ƒç”¨ï¼ˆdeprecatedï¼‰æ—¶ä¹Ÿå¿…é¡»ï¼ˆMUSTï¼‰é€’å¢ã€‚ä¹Ÿå¯ä»¥ï¼ˆMAYï¼‰åœ¨å†…éƒ¨ç¨‹åºæœ‰å¤§é‡æ–°åŠŸèƒ½æˆ–æ”¹è¿›è¢«åŠ å…¥æ—¶é€’å¢ï¼Œå…¶ä¸­å¯ä»¥ï¼ˆMAYï¼‰åŒ…æ‹¬ä¿®è®¢çº§åˆ«çš„æ”¹å˜ã€‚æ¯å½“æ¬¡ç‰ˆæœ¬å·é€’å¢æ—¶ï¼Œä¿®è®¢å·å¿…é¡»ï¼ˆMUSTï¼‰å½’é›¶ã€‚ ä¸»ç‰ˆæœ¬å· Xï¼ˆX.y.z | X \u003e 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨æœ‰ä»»ä½•ä¸å…¼å®¹çš„ä¿®æ”¹è¢«åŠ å…¥å…¬å…± API æ—¶é€’å¢ã€‚å…¶ä¸­å¯ä»¥ï¼ˆMAYï¼‰åŒ…æ‹¬æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢çº§åˆ«çš„æ”¹å˜ã€‚æ¯å½“ä¸»ç‰ˆæœ¬å·é€’å¢æ—¶ï¼Œæ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·å¿…é¡»ï¼ˆMUSTï¼‰å½’é›¶ã€‚ å…ˆè¡Œç‰ˆæœ¬å·å¯ä»¥ï¼ˆMAYï¼‰è¢«æ ‡æ³¨åœ¨ä¿®è®¢ç‰ˆä¹‹åï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªè¿æ¥å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥ä¿®é¥°ã€‚æ ‡è¯†ç¬¦å¿…é¡»ï¼ˆMUSTï¼‰ç”± ASCII å­—æ¯æ•°å­—å’Œè¿æ¥å· [0-9A-Za-z-] ç»„æˆï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰ç•™ç™½ã€‚æ•°å­—å‹çš„æ ‡è¯†ç¬¦ç¦æ­¢ï¼ˆMUST NOTï¼‰åœ¨å‰æ–¹è¡¥é›¶ã€‚å…ˆè¡Œç‰ˆçš„ä¼˜å…ˆçº§ä½äºç›¸å…³è”çš„æ ‡å‡†ç‰ˆæœ¬ã€‚è¢«æ ‡ä¸Šå…ˆè¡Œç‰ˆæœ¬å·åˆ™è¡¨ç¤ºè¿™ä¸ªç‰ˆæœ¬å¹¶éç¨³å®šè€Œä¸”å¯èƒ½æ— æ³•æ»¡è¶³é¢„æœŸçš„å…¼å®¹æ€§éœ€æ±‚ã€‚èŒƒä¾‹ï¼š1.0.0-alphaã€1.0.0-alpha.1ã€1.0.0-0.3.7ã€1.0.0-x.7.z.92ã€‚ ç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ä»¥ï¼ˆMAYï¼‰è¢«æ ‡æ³¨åœ¨ä¿®è®¢ç‰ˆæˆ–å…ˆè¡Œç‰ˆæœ¬å·ä¹‹åï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªåŠ å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥ä¿®é¥°ã€‚æ ‡è¯†ç¬¦å¿…é¡»ï¼ˆMUSTï¼‰ç”± ASCII å­—æ¯æ•°å­—å’Œè¿æ¥å· [0-9A-Za-z-] ç»„æˆï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰ç•™ç™½ã€‚å½“åˆ¤æ–­ç‰ˆæœ¬çš„ä¼˜å…ˆå±‚çº§æ—¶ï¼Œç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ï¼ˆSHOULDï¼‰è¢«å¿½ç•¥ã€‚å› æ­¤å½“ä¸¤ä¸ªç‰ˆæœ¬åªæœ‰åœ¨ç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯æœ‰å·®åˆ«æ—¶ï¼Œå±äºç›¸åŒçš„ä¼˜å…ˆå±‚çº§ã€‚èŒƒä¾‹ï¼š1.0.0-alpha+001ã€1.0.0+20130313144700ã€1.0.0-beta+exp.sha.5114f85ã€‚ ç‰ˆæœ¬çš„ä¼˜å…ˆå±‚çº§æŒ‡çš„æ˜¯ä¸åŒç‰ˆæœ¬åœ¨æ’åºæ—¶å¦‚ä½•æ¯”è¾ƒã€‚ åˆ¤æ–­ä¼˜å…ˆå±‚çº§æ—¶ï¼Œå¿…é¡»ï¼ˆMUSTï¼‰æŠŠç‰ˆæœ¬ä¾åºæ‹†åˆ†ä¸ºä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·ã€ä¿®è®¢å·åŠå…ˆè¡Œç‰ˆæœ¬å·åè¿›è¡Œæ¯”è¾ƒï¼ˆç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯ä¸åœ¨è¿™ä»½æ¯”è¾ƒçš„åˆ—è¡¨ä¸­ï¼‰ã€‚ ç”±å·¦åˆ°å³ä¾åºæ¯”è¾ƒæ¯ä¸ªæ ‡è¯†ç¬¦ï¼Œç¬¬ä¸€ä¸ªå·®å¼‚å€¼ç”¨æ¥å†³å®šä¼˜å…ˆå±‚çº§ï¼šä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·ä»¥æ•°å€¼æ¯”è¾ƒã€‚ ä¾‹å¦‚ï¼š1.0.0 \u003c 2.0.0 \u003c 2.1.0 \u003c 2.1.1ã€‚ å½“ä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·éƒ½ç›¸åŒæ—¶ï¼Œæ”¹ä»¥ä¼˜å…ˆå±‚çº§æ¯”è¾ƒä½çš„å…ˆè¡Œç‰ˆæœ¬å·å†³å®šã€‚ ä¾‹å¦‚ï¼š1.0.0-alpha \u003c 1.0.0ã€‚ æœ‰ç›¸åŒä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·çš„ä¸¤ä¸ªå…ˆè¡Œç‰ˆæœ¬å·ï¼Œå…¶ä¼˜å…ˆå±‚çº§å¿…é¡»ï¼ˆMUSTï¼‰é€è¿‡ç”±å·¦åˆ°å³çš„æ¯ä¸ªè¢«å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥æ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå·®å¼‚å€¼åå†³å®šï¼š åªæœ‰æ•°å­—çš„æ ‡è¯†ç¬¦ä»¥æ•°å€¼é«˜ä½æ¯”è¾ƒã€‚ æœ‰å­—æ¯æˆ–è¿æ¥å·æ—¶åˆ™é€å­—ä»¥ ASCII çš„æ’åºæ¥æ¯”è¾ƒã€‚ æ•°å­—çš„æ ‡è¯†ç¬¦æ¯”éæ•°å­—çš„æ ‡è¯†ç¬¦ä¼˜å…ˆå±‚çº§ä½ã€‚ è‹¥å¼€å¤´çš„æ ‡è¯†ç¬¦éƒ½ç›¸åŒæ—¶ï¼Œæ ä½æ¯”è¾ƒå¤šçš„å…ˆè¡Œç‰ˆæœ¬å·ä¼˜å…ˆå±‚çº§æ¯”è¾ƒé«˜ã€‚ ä¾‹å¦‚ï¼š1.0.0-alpha \u003c 1.0.0-alpha.1 \u003c 1.0.0-alpha.beta \u003c 1.0.0-beta \u003c 1.0.0-beta.2 \u003c 1.0.0-beta.11 \u003c 1.0.0-rc.1 \u003c 1.0.0 ","date":"2022-08-13","objectID":"/posts/semver/:2:0","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"ç‰ˆæœ¬é˜¶æ®µ Base: è®¾è®¡é˜¶æ®µï¼Œåªæœ‰ç›¸åº”çš„è®¾è®¡æ²¡æœ‰å…·ä½“çš„åŠŸèƒ½å®ç° Alpha: è½¯ä»¶çš„åˆçº§ç‰ˆæœ¬ï¼ŒåŸºæœ¬åŠŸèƒ½å·²ç»å®ç°ï¼Œä½†å­˜åœ¨è¾ƒå¤šçš„ bug Bate: ç›¸å¯¹äº Alpha å·²ç»æœ‰äº†å¾ˆå¤§çš„è¿›æ­¥ï¼Œæ¶ˆé™¤äº†ä¸¥é‡çš„ BUGï¼Œä½†è¿˜å­˜åœ¨ä¸€äº›æ½œåœ¨çš„ BUGï¼Œè¿˜éœ€è¦ä¸æ–­æµ‹è¯• RC: è¯¥ç‰ˆæœ¬å·²ç»ç›¸å½“æˆç†Ÿäº†ï¼ŒåŸºæœ¬ä¸Šä¸å­˜åœ¨å¯¼è‡´é”™è¯¯çš„ Bugï¼Œä¸å³å°†å‘è¡Œçš„æ­£å¼ç‰ˆæœ¬ç›¸å·®æ— å‡  RELEASE: æœ€ç»ˆå‘å¸ƒç‰ˆæœ¬ï¼Œæ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ æœ€ç»ˆå‘å¸ƒç‰ˆæœ¬ï¼ˆRELEASEï¼‰ä¹‹å‰çš„æ‰€æœ‰ç‰ˆæœ¬ï¼Œéƒ½ç§°ä¸ºå…ˆè¡Œç‰ˆæœ¬ï¼ˆpre-releaseï¼‰ã€‚ ","date":"2022-08-13","objectID":"/posts/semver/:3:0","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"FAQ ","date":"2022-08-13","objectID":"/posts/semver/:4:0","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"å…¶ä»–ç›¸å…³ ","date":"2022-08-13","objectID":"/posts/semver/:5:0","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"npm SemVer é€šå¸¸æˆ‘ä»¬å‘å¸ƒä¸€ä¸ªåŒ…åˆ° npm ä»“åº“æ—¶ï¼Œæˆ‘ä»¬çš„åšæ³•æ˜¯å…ˆä¿®æ”¹ package.json ä¸ºæŸä¸ªç‰ˆæœ¬ï¼Œç„¶åæ‰§è¡Œ npm publish å‘½ä»¤ã€‚æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·çš„åšæ³•å»ºç«‹åœ¨ä½ å¯¹ SemVer è§„èŒƒç‰¹åˆ«ç†Ÿæ‚‰çš„åŸºç¡€ä¹‹ä¸Šï¼Œå¦åˆ™å¯èƒ½ä¼šé€ æˆç‰ˆæœ¬æ··ä¹±ã€‚npm å’Œ yarn ä¸¤ä¸ªåŒ…ç®¡ç†éƒ½æä¾›äº† SemVer è§„èŒƒçš„ç‰ˆæœ¬æ§åˆ¶å‘½ä»¤ï¼š npm-version yarn version npm å‘åŒ…åŸºç¡€å‘½ä»¤ï¼š # 1. åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ… npm init # 2. æŸ¥çœ‹æ˜¯å¦å®˜æ–¹æº npm config get registry # 3. ç™»å½• npm login # 4. å‘å¸ƒ npm publish # ç‰ˆæœ¬å˜åŒ– major.minor.patch npm version patch # å‡çº§è¡¥ä¸ç‰ˆæœ¬ npm version minor # å‡çº§å°ç‰ˆå· npm version major # å‡çº§å¤§ç‰ˆå· # ä¸‹æ¶ [-force] npm unpublish å…¨å±€è®¾ç½®ç‰ˆæœ¬å·å‰ç¼€ # https://docs.npmjs.com/cli/v8/using-npm/config#tag-version-prefix npm config set tag-version-prefix \"\" # å…¨å±€è®¾ç½®ç‰ˆæœ¬æ›´æ–° commit æäº¤ä¿¡æ¯ # https://docs.npmjs.com/cli/v8/using-npm/config#message npm config set message \"Chore(release): %s\" æˆ–è€…è®¾ç½®é¡¹ç›®çš„ .npmrc æˆ–è€… .yarnrc # .npmrc tag-version-prefix=\"\" message=\"Chore(release): %s\" # .yarnrc version-tag-prefix \"\" version-git-message \"Chore(release): %s\" package.json ç‰ˆæœ¬æ§åˆ¶è§„åˆ™ä½¿ç”¨äº†ä¸€äº›äº›ç¬¦å·ï¼š ^ ~ \u003e \u003e= \u003c \u003c= = - || è¿™äº›è§„åˆ™çš„è¯¦æƒ…å¦‚ä¸‹ï¼š ^: åªä¼šæ‰§è¡Œä¸æ›´æ”¹æœ€å·¦è¾¹éé›¶æ•°å­—çš„æ›´æ–°ã€‚ å¦‚æœå†™å…¥çš„æ˜¯ ^0.13.0ï¼Œåˆ™å½“è¿è¡Œ npm update æ—¶ï¼Œå¯ä»¥æ›´æ–°åˆ° 0.13.1ã€0.13.2 ç­‰ï¼Œä½†ä¸èƒ½æ›´æ–°åˆ° 0.14.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ å¦‚æœå†™å…¥çš„æ˜¯ ^1.13.0ï¼Œåˆ™å½“è¿è¡Œ npm update æ—¶ï¼Œå¯ä»¥æ›´æ–°åˆ° 1.13.1ã€1.14.0 ç­‰ï¼Œä½†ä¸èƒ½æ›´æ–°åˆ° 2.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ ~: å¦‚æœå†™å…¥çš„æ˜¯ ã€œ0.13.0ï¼Œåˆ™å½“è¿è¡Œ npm update æ—¶ï¼Œä¼šæ›´æ–°åˆ°è¡¥ä¸ç‰ˆæœ¬ï¼šå³ 0.13.1 å¯ä»¥ï¼Œä½† 0.14.0 ä¸å¯ä»¥ã€‚ \u003e: æ¥å—é«˜äºæŒ‡å®šç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬ã€‚ \u003e=: æ¥å—ç­‰äºæˆ–é«˜äºæŒ‡å®šç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬ã€‚ \u003c=: æ¥å—ç­‰äºæˆ–ä½äºæŒ‡å®šç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬ã€‚ \u003c: æ¥å—ä½äºæŒ‡å®šç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬ã€‚ =: æ¥å—ç¡®åˆ‡çš„ç‰ˆæœ¬ã€‚ -: æ¥å—ä¸€å®šèŒƒå›´çš„ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼š2.1.0 - 2.6.2ã€‚ ||: ç»„åˆé›†åˆã€‚ä¾‹å¦‚ \u003c 2.1 || \u003e 2.6ã€‚ å¯ä»¥åˆå¹¶å…¶ä¸­çš„ä¸€äº›ç¬¦å·ï¼Œä¾‹å¦‚ 1.0.0 || \u003e=1.1.0 \u003c1.2.0ï¼Œå³ä½¿ç”¨ 1.0.0 æˆ–ä» 1.1.0 å¼€å§‹ä½†ä½äº 1.2.0 çš„ç‰ˆæœ¬ã€‚ è¿˜æœ‰å…¶ä»–çš„è§„åˆ™ï¼š æ— ç¬¦å·ï¼šä»…æ¥å—æŒ‡å®šçš„ç‰¹å®šç‰ˆæœ¬ï¼ˆä¾‹å¦‚ 1.2.1ï¼‰ã€‚ latest: ä½¿ç”¨å¯ç”¨çš„æœ€æ–°ç‰ˆæœ¬ã€‚ ","date":"2022-08-13","objectID":"/posts/semver/:5:1","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"ç‰ˆæœ¬ä¿ç•™ å¯¹äºå¤§å‹è½¯ä»¶ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ä½¿ç”¨ä»·å€¼æ—¶ï¼Œåº”ä¿ç•™æ‰€æœ‰å†å²ç‰ˆæœ¬ å¯¹äºå§‹ç»ˆä»¥æœ€æ–°ç‰ˆæœ¬ä¸ºå‡†çš„è½¯ä»¶ï¼Œåˆ™å¯ä¿ç•™è‡³å°‘æœ€è¿‘çš„ 10 ä¸ªæ¬¡ç‰ˆæœ¬ ","date":"2022-08-13","objectID":"/posts/semver/:5:2","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec"],"content":"å‚è€ƒ Semantic Versioning 2.0.0 ä½¿ç”¨ npm çš„è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ ","date":"2022-08-13","objectID":"/posts/semver/:6:0","tags":["SemVer"],"title":"è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰","uri":"/posts/semver/"},{"categories":["Spec","Git"],"content":"Commit messages are short descriptions of changes to a repository. We should follow certain standards to effectively describe changes, such as the Conventional Commits specification based on the Angular convention that is most used on GitHub, or each development team can simplify and formulate their own commit specification. This is not only conducive to the automatic generation of Changelog in the later stage, but more importantly, when a bug occurs, the entire warehouse can be quickly checked, the problem point can be accurately located, and the version can be reverted. ","date":"2022-08-12","objectID":"/posts/commit-spec/:0:0","tags":["Git"],"title":"Commit Message Spec","uri":"/posts/commit-spec/"},{"categories":["Spec","Git"],"content":"Format [{emoji} ]{type}[({module})]: {subject within 50 words}[ (#{issue/pull request})] example: ğŸ‰ Feat: add shortcode fixit-encryptor shortcode (#123) â¬†ï¸ Chore(libs): update Artalk from 2.2.12 to 2.3.4 (#150) ","date":"2022-08-12","objectID":"/posts/commit-spec/:1:0","tags":["Git"],"title":"Commit Message Spec","uri":"/posts/commit-spec/"},{"categories":["Spec","Git"],"content":"Emoji https://gitmoji.dev vscode plugin utools plugin GitEmoji ","date":"2022-08-12","objectID":"/posts/commit-spec/:2:0","tags":["Git"],"title":"Commit Message Spec","uri":"/posts/commit-spec/"},{"categories":["Spec","Git"],"content":"Message Emoji Type Example Description (No Ambiguous) ğŸ‰ âœ¨ Feat Feat: add {feature} new feature ğŸšš Feat: adjust/migrate {feature name}, {change details} For the adjustment feature, it is necessary to describe the current situation (before) and after adjustment (after) ğŸ”¥ Feat: delete {feature name}, {deletion reason} If the feature is deleted, the reason for deletion must be explained ğŸ› ğŸš§ ğŸš¨ Fix Fix: fix {bug description} Fix known bugs ğŸ¨ ğŸ’„ âœï¸ Style Style: Typesetting/CSS style {optimizing content} Changes that do not affect code operation, such as code layout and style change â™»ï¸ Refactor Refactor: override {feature name} It is neither a new function nor a code change to fix a bug. Simply rewriting the code of a function does not affect the function result âš¡ Perf Perf: improve performance {function name}, {improve content} Optimize code performance âª Revert Revert: restore version {commit message of restore version} Restore the version of one commit âœ âœï¸ Docs Docs: revise comments/update documents Adjustment of documents and notes ğŸ”§ Chore Chore: update plugin version Changes in the construction process or auxiliary tools ","date":"2022-08-12","objectID":"/posts/commit-spec/:3:0","tags":["Git"],"title":"Commit Message Spec","uri":"/posts/commit-spec/"},{"categories":["JavaScript"],"content":"æ€»ç»“ä¸€ä¸‹æœ€è¿‘ electron å¼€å‘é‡åˆ°çš„é—®é¢˜å’Œä¸€äº›é‡è¦çŸ¥è¯†ç‚¹ã€‚ ","date":"2022-08-12","objectID":"/posts/electron-summary/:0:0","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"ç®€ä»‹ å¦‚æœä½ å¯ä»¥å»ºä¸€ä¸ªç½‘ç«™ï¼Œä½ å°±å¯ä»¥å»ºä¸€ä¸ªæ¡Œé¢åº”ç”¨ç¨‹åºã€‚ Electron æ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScript, HTML å’Œ CSS ç­‰ Web æŠ€æœ¯åˆ›å»ºåŸç”Ÿç¨‹åºçš„å¼€æºæ¡†æ¶ï¼Œå®ƒè´Ÿè´£æ¯”è¾ƒéš¾æçš„éƒ¨åˆ†ï¼Œä½ åªéœ€æŠŠç²¾åŠ›æ”¾åœ¨ä½ çš„åº”ç”¨çš„æ ¸å¿ƒä¸Šå³å¯ã€‚ ","date":"2022-08-12","objectID":"/posts/electron-summary/:1:0","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"çŸ¥è¯†ç‚¹ ","date":"2022-08-12","objectID":"/posts/electron-summary/:2:0","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"è¿›ç¨‹ electron ç”±ä¸¤ç§è¿›ç¨‹ç»„æˆï¼ŒåŒ…æ‹¬ä¸»è¿›ç¨‹å’Œ 0 ä¸ªæˆ– n ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚ ä¸»è¿›ç¨‹ï¼šæ‰¿æ‹…åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåŒ…æ‹¬å¯åŠ¨ï¼Œé€€å‡ºï¼Œå‡†å¤‡ï¼Œæ­£åœ¨åˆ‡æ¢åˆ°åå°ï¼Œæ­£åœ¨åˆ‡æ¢åˆ°å‰å°ç­‰ï¼Œè¿˜è´Ÿè´£ä¸åŸç”Ÿæ“ä½œç³»ç»Ÿ API é€šä¿¡ï¼‰ æ¸²æŸ“è¿›ç¨‹ï¼šåš web é¡µé¢çš„ uiï¼Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´ç‹¬ç«‹åœ¨å„è‡ªçš„å•çº¿ç¨‹ï¼Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œç³»ç»Ÿï¼Œéœ€è¦é€šä¿¡åˆ°ä¸»çº¿ç¨‹ï¼Œåœ¨é€šè¿‡ä¸»çº¿ç¨‹æ“ä½œè®¿é—®æ“ä½œå½¢æ€ï¼Œä¸€ä¸ª BrowserWindow å®ä¾‹å³ä¸ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ ","date":"2022-08-12","objectID":"/posts/electron-summary/:2:1","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"æŠ€æœ¯æ ˆ electron æ•´åˆäº† Node å’Œæµè§ˆå™¨çš„æ‰€æœ‰èƒ½åŠ›ï¼Œå¯ä»¥éšæ„å‘æŒ¥è¿™äº›æŠ€æœ¯æ ˆçš„ç‰¹ç‚¹ã€‚ç”±äºå›ºå®šæµè§ˆå™¨å†…æ ¸ï¼Œå¯ä»¥æ— éœ€è€ƒè™‘å…¼å®¹æ€§åœ°ä½¿ç”¨ html/js/css æ–°ç‰¹æ€§ã€‚ ","date":"2022-08-12","objectID":"/posts/electron-summary/:2:2","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"å®‰è£… å®‰è£… electron æ—¶ï¼Œå¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜å¯¼è‡´ä¸‹è½½å¤±è´¥ï¼Œéœ€è¦ä½¿ç”¨é•œåƒä»“åº“æ¥ä¸‹è½½ã€‚ # è®¾ç½® electron é•œåƒä»“åº“ # https://registry.npmmirror.com/-/binary/electron # 13.1.7 ç‰ˆæœ¬ ä¸‹è½½é“¾æ¥å¯èƒ½ä¼šæ‹¼é”™å¯¼è‡´ 404ï¼Œè¦è®¾ç½®æˆ https://registry.npmmirror.com/-/binary/electron/v npm config set electron_mirror=https://npmmirror.com/mirrors/electron/ M1 Mac å®‰è£…è¾ƒä½ç‰ˆæœ¬ electron æ—¶å¯èƒ½ä¼šæŠ¥é”™ï¼ŒFailed to find Electron v xxx for darwin-arm64ï¼Œå› ä¸ºè¿™äº›ç‰ˆæœ¬çš„ electron ä¸æ”¯æŒ darwin-arm64 æ¶æ„ã€‚Apple é’ˆå¯¹æœªé€‚é…çš„ X64 åº”ç”¨æä¾›äº† Rosetta2 è½¬æ¢å™¨ï¼Œå®‰è£… darwin-x64 ç‰ˆæœ¬çš„ electron åœ¨ Intel æ¨¡å¼ä¸‹è¿è¡Œå³å¯ï¼Œå‚è€ƒã€‚ ","date":"2022-08-12","objectID":"/posts/electron-summary/:2:3","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"remote ä¸è¦é¢‘ç¹ä½¿ç”¨ remote, æ›´å¤šåº”è¯¥æ‰‹åŠ¨è¿›è¡Œå’Œä¸»è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ ä½¿ç”¨æ—¶éœ€åœ¨çª—å£åˆ›å»ºæ—¶è®¾ç½® webPreferences.enableRemoteModule ä¸º trueã€‚ æ—§ç‰ˆæœ¬çš„ electron.remote å·²ç»å¼ƒç”¨ï¼Œåº”è¯¥ä½¿ç”¨ä¾èµ– electron/remote ä»£æ›¿ã€‚ ä½¿ç”¨äº†æ—§ç‰ˆæœ¬çš„ remote æ—¶ä¼šæœ‰æ§åˆ¶å°è­¦å‘Šä¿¡æ¯ï¼š (electron) The remote module is deprecated. Use https://github.com/electron/remote instead. è·å–å½“å‰çª—å£ï¼šremote.getCurrentWindow() ","date":"2022-08-12","objectID":"/posts/electron-summary/:2:4","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"é—®é¢˜ç‚¹ ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:0","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"æ‰“å¼€å¤–éƒ¨æµè§ˆå™¨ electron çš„ shell æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨ shell.openExternal(url) åœ¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€é“¾æ¥ã€‚ ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:1","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"é˜²æŠ–ä¸èŠ‚æµ é˜²æŠ–ï¼šçŸ­æœŸå†…å¤§é‡è§¦å‘äº‹ä»¶æ—¶ï¼Œåªæ‰§è¡Œæœ€åä¸€æ¬¡ã€‚ function debounce(fn) { let timer = null; return function () { clearTimeOut(timer); timer = setTimeOut(() =\u003e { fn.applay(this, arguments); }, 300); }; } èŠ‚æµï¼šçŸ­æœŸå†…å¤§é‡è§¦å‘äº‹ä»¶æ—¶ï¼Œåªæ‰§è¡Œç¬¬ä¸€æ¬¡ã€‚ function throttle(fn) { let timer = null; return function () { if (timer) return; timer = setTimeOut(() =\u003e { fn.applay(this, arguments); timer = null; }, 300); }; } ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:2","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"devTools åˆå§‹åŒ–çª—å£æ—¶è®¾ç½® webPreferences.devTools ä¸º trueï¼Œç„¶åé€šè¿‡ mainWindow.webContents.openDevTools() æ‰“å¼€å¼€å‘è€…å·¥å…·ã€‚ å¦‚æœåªåœ¨å¼€å‘ç¯å¢ƒå¯ç”¨å¼€å‘è€…å·¥å…·ï¼Œåˆ™éœ€è¦è®¾ç½® webPreferences.devTools ä¸º process.env.NODE_ENV === 'development' ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:3","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"å¯åŠ¨ç™½å± åœ¨åˆ›å»ºçª—å£æ—¶è®¾ç½® show: falseï¼Œåœ¨ ready-to-show äº‹ä»¶ä¹‹åæ‰§è¡Œ mainWindow.show()ï¼Œ å¯è§å®˜æ–¹æ–‡æ¡£ ä¼˜é›…åœ°æ˜¾ç¤ºçª—å£ã€‚ å¯åŠ¨å‰ loading é¢å¤–åˆ›å»ºä¸€ä¸ª loading çª—å£ï¼Œè¯¥çª—å£å¯è®¾ç½®ä¸ºé€æ˜åªåŒ…å« loading å›¾æ ‡å’Œæ–‡å­—ï¼Œåœ¨ mainWindow.show() åå…³é—­ã€‚ å¯åŠ¨å loading å¦‚æœä½¿ç”¨äº† Vue æ¡†æ¶ï¼Œåœ¨ Vue åˆå§‹åŒ–ä¹‹å‰çª—å£è™½ç„¶å‡ºç°äº†ï¼Œä½†æ˜¯å†…å®¹æ—¶ç©ºç™½çš„ï¼Œå¯ä»¥åœ¨ Vue å®ä¾‹ #app é‡Œå†™ä¸€ä¸ª loading, Vue åŠ è½½å®Œåä¼šè¦†ç›–æ‰ã€‚ \u003cdiv id=\"app\"\u003e \u003c!-- Display the loading icon and text until Vue initialization is complete --\u003e \u003cstyle type=\"text/css\"\u003e html, body { height: 100%; margin: 0; } body { display: flex; } #app { margin: auto; display: flex; align-items: center; } @media (prefers-color-scheme: dark) { body { color: #fff; background-color: #202124; } } \u003c/style\u003e \u003csvg xmlns=\"http://www.w3.org/2000/svg\" style=\"margin:auto;background:0 0\" width=\"60\" height=\"60\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\" display=\"block\" \u003e \u003ccircle cx=\"50\" cy=\"50\" r=\"20\" stroke-width=\"4\" stroke=\"#a5a5a5\" stroke-dasharray=\"31.416 31.416\" fill=\"none\" stroke-linecap=\"round\" transform=\"rotate(67.21 50 50)\" \u003e \u003canimateTransform attributeName=\"transform\" type=\"rotate\" repeatCount=\"indefinite\" dur=\"1s\" keyTimes=\"0;1\" values=\"0 50 50;360 50 50\" /\u003e \u003c/circle\u003e \u003c/svg\u003e \u003cspan\u003eåŠ è½½ä¸­ ...\u003c/span\u003e \u003c/div\u003e ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:4","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"é˜»æ­¢çª—å£å…³é—­ å¯ä»¥åœ¨å…³é—­å‰ä¸€äº›äº‹ä»¶é‡Œåšæ‹¦æˆªï¼Œæ¯”å¦‚ï¼šonbeforeunload ç­‰ï¼Œè¯¦è§ å®ä¾‹äº‹ä»¶ã€‚ ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:5","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"æ‰‹åŠ¨å…³é—­çª—å£ å½“è‡ªå®šä¹‰å…³é—­æ—¶ï¼Œä½¿ç”¨ mainWindow.destroy() æ¥å…³é—­çª—å£ï¼Œå› ä¸ºä½¿ç”¨ mainWindow.close() æ—¶ï¼Œwindows ç³»ç»Ÿæ‰“å¼€å¼€å‘è€…å·¥å…·æ—¶ä¼šå‡ºç°æ— æ³•å…³é—­çª—å£çš„æƒ…å†µã€‚ ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:6","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"å…¨å±€å¿«æ·é”® å½“ electron ç‰ˆæœ¬è¾ƒä½æ—¶ï¼Œæ¯”å¦‚ 13.1.7ï¼Œä¼šå‡ºç°åœ¨ mac ç³»ç»Ÿä¸Šå¤åˆ¶ç²˜è´´ç­‰å¸¸ç”¨å¿«æ·é”®å¤±æ•ˆçš„é—®é¢˜ã€‚å¯é€šè¿‡è®¾ç½®èœå•å¹¶ç»‘å®šå¿«æ·é”®çš„æ–¹å¼è§£å†³ã€‚ const main = [ { label: '', submenu: [ { label: 'å…³äº', role: 'about' }, { label: 'å…³é—­', role: 'close' }, { label: 'é€€å‡º', role: 'quit' } ] }, { label: 'ç¼–è¾‘', submenu: [ { label: 'æ’¤é”€', role: 'undo' }, { label: 'æ¢å¤', role: 'redo' }, { type: 'separator' }, { label: 'å‰ªåˆ‡', role: 'cut' }, { label: 'å¤åˆ¶', role: 'copy' }, { label: 'ç²˜è´´', role: 'paste' }, { type: 'separator' }, { label: 'å…¨é€‰', role: 'selectAll' } ] } ]; const dev = [ { label: 'å¼€å‘è€…', submenu: [ { label: 'åˆ·æ–°', role: 'reload' }, { label: 'å¼ºåˆ¶åˆ·æ–°', role: 'forcereload' }, { type: 'separator' }, { label: 'å¼€å‘è€…å·¥å…·', role: 'toggledevtools' } ] } ]; if (process.env.NODE_ENV === 'development') { main.push(...dev); } export default main; import memuConfig from './menu'; import { Menu } from 'electron'; if (process.platform === 'darwin') { const menu = Menu.buildFromTemplate(memuConfig); Menu.setApplicationMenu(menu); } ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:7","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"electron-builder ä¸‹è½½æ—¶ï¼Œå¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜å¯¼è‡´ä¸‹è½½å¤±è´¥ï¼Œå¯è®¾ç½® GitHub ä¸‹è½½é•œåƒã€‚ # GitHub ä»“åº“ä¸‹è½½åœ°å€å‰ç¼€é•œåƒ # disturl=https://registry.npmmirror.com/-/binary/ æˆ–è€…å» GitHub æ‰‹åŠ¨ä¸‹è½½ï¼Œç„¶åè§£å‹åˆ°ç¼“å­˜ç›®å½•ï¼š macOS: ~/Library/Caches/electron-builder/ linux: ~/.cache/electron-builder/ windows: %LOCALAPPDATA%\\electron-builder\\cache\\ mac ä¸Šç¼“å­˜ç›®å½•å¦‚ä¸‹ï¼Œå…¶ä»–å¯ å‚è€ƒ â–¸ nsis/ â–¸ nsis-resources-3.4.1/ â–¸ nsis-3.0.4.1/ â–¸ winCodeSign/ â–¸ winCodeSign-2.6.0/ â–¸ wine/ â–¸ wine-4.0.1-mac/ windows æ‰“åŒ… windows ç³»ç»Ÿæ‰“åŒ…é…ç½®ï¼Œå½“æ²¡æœ‰é…ç½®ç­¾åæ—¶ï¼Œsign å­—æ®µåº”åˆ é™¤æˆ–è€…é…ç½®ä¸º nullï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ‰“åŒ…æ—¶æŠ¥é”™ã€‚ { \"win\": { \"icon\": \"static/icons/icon.ico\", \"verifyUpdateCodeSignature\": false, \"target\": \"nsis\", \"sign\": null } } æ³¨ï¼šwin11 æ‰“åŒ…åœ¨ win10 ä¸Šå¯èƒ½è¿è¡Œä¸äº†ï¼Œæœ€å¥½ä½¿ç”¨ win10 æ‰“åŒ…æˆ–è€… mac æ‰“åŒ…æŒ‡å®šç³»ç»Ÿå’Œä½æ•°ã€‚ macOS æ‰“åŒ… é—®é¢˜ï¼šmac å‡çº§ä¹‹å electron æ‰“åŒ…æŠ¥é”™ Exit code: ENOENT. spawn /usr/bin/python ENOENT è§£å†³ï¼šç½‘ä¸Šæœåˆ°çš„ä¸‹è½½ python 2.7 æ˜¯æ²»æ ‡ä¸æ²»æœ¬ï¼Œæ­£ç¡®åšæ³•æ˜¯å‡çº§ electron-builder åˆ° 23.0.2 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå‚è€ƒ electron-builder#6726 å‚è€ƒé“¾æ¥ Electron-Mac åº”ç”¨çš„ç­¾åæ­¥éª¤è¯´æ˜ ","date":"2022-08-12","objectID":"/posts/electron-summary/:3:8","tags":["electron"],"title":"electron è¸©å‘æ€»ç»“","uri":"/posts/electron-summary/"},{"categories":["JavaScript"],"content":"è®°å½•ä¸€ä¸‹å‰ç«¯å®ç°é¡µé¢åŠ å¯†çš„æ€è·¯ã€‚ ","date":"2022-08-08","objectID":"/posts/encryption-fe/:0:0","tags":["JavaScript","åŠ å¯†"],"title":"å‰ç«¯é¡µé¢å†…å®¹åŠ å¯†æ€»ç»“","uri":"/posts/encryption-fe/"},{"categories":["JavaScript"],"content":"åŠ å¯†åŸºç¡€çŸ¥è¯† ","date":"2022-08-08","objectID":"/posts/encryption-fe/:1:0","tags":["JavaScript","åŠ å¯†"],"title":"å‰ç«¯é¡µé¢å†…å®¹åŠ å¯†æ€»ç»“","uri":"/posts/encryption-fe/"},{"categories":["JavaScript"],"content":"åŒå‘åŠ å¯† å¯è¿˜åŸçš„åŠ å¯†ç®—æ³•ï¼Œå¯ä»¥é€†å‘è§£å¯†ã€‚ å¯¹ç§°åŠ å¯†ï¼ˆå•å¯†é’¥åŠ å¯†ï¼‰ é‡‡ç”¨å•é’¥å¯†ç ç³»ç»Ÿçš„åŠ å¯†æ–¹æ³•ï¼ŒåŒä¸€ä¸ªå¯†é’¥åŒæ—¶ç”¨ä½œä¿¡æ¯çš„åŠ å¯†å’Œè§£å¯†ã€‚ å¯†é’¥ç”Ÿæˆç®—æ³•æœ‰ DESã€3DESã€AESã€‚ éå¯¹ç§°åŠ å¯†ï¼ˆå…¬å¼€å¯†é’¥ç³»ç»Ÿï¼‰ ä¸¤ä¸ªå¯†é’¥ï¼šå…¬å¼€å¯†é’¥ï¼ˆpublickeyï¼‰å’Œç§æœ‰å¯†é’¥ï¼ˆprivatekeyï¼‰ã€‚ å…¬é’¥/ç§é’¥åŠ å¯†/ç­¾åï¼Œç”¨ç§é’¥/å…¬é’¥è§£å¯†/éªŒè¯ç­¾åã€‚ å¯†é’¥ç”Ÿæˆç®—æ³•æœ‰ RSAï¼ˆå…¬é’¥ã€ç§é’¥ï¼‰ã€DSAï¼ˆå…¬é’¥ã€ç§é’¥ã€æ•°å­—ç­¾åï¼‰ã€‚ ","date":"2022-08-08","objectID":"/posts/encryption-fe/:1:1","tags":["JavaScript","åŠ å¯†"],"title":"å‰ç«¯é¡µé¢å†…å®¹åŠ å¯†æ€»ç»“","uri":"/posts/encryption-fe/"},{"categories":["JavaScript"],"content":"å•å‘åŠ å¯† ä¸å¯è¿˜åŸçš„åŠ å¯†ç®—æ³•ï¼ˆæš´åŠ›æ’åº“é™¤å¤–ï¼‰ï¼Œå¸¸è§çš„ç®—æ³•æœ‰ï¼šMD5ã€SHA1ã€SHA256ã€SHA512ã€‚ ","date":"2022-08-08","objectID":"/posts/encryption-fe/:1:2","tags":["JavaScript","åŠ å¯†"],"title":"å‰ç«¯é¡µé¢å†…å®¹åŠ å¯†æ€»ç»“","uri":"/posts/encryption-fe/"},{"categories":["JavaScript"],"content":"é¡µé¢å†…å®¹åŠ å¯† å†…å®¹åŠ å¯†ç®—æ³• é€šè¿‡æ¯”å¯¹å¯†ç å’Œè¾“å…¥çš„ md5 å€¼æ¥åˆ¤æ–­å¯†ç æ˜¯å¦è¾“å…¥æ­£ç¡® å¯†ç éªŒè¯é€šè¿‡åï¼Œå¼€å§‹è§£å¯†å†…å®¹ æ‹¿åˆ°æ­£ç¡®çš„è¾“å…¥å€¼çš„ sha256 å€¼çš„éƒ¨åˆ†å†…å®¹ ç„¶åæŒ‰ç…§åŠ å¯†è§„åˆ™è§£ç§˜å†…å®¹ è¿™é‡Œåˆ©ç”¨ Set è¿›è¡Œäº‹ä»¶ç®¡ç†ï¼Œç®€å•æ¨¡æ‹Ÿäº† addEventListener å’Œ removeEventListener çš„æ“ä½œã€‚å¹¶æä¾›äº†ä¸¤ä¸ªäº‹ä»¶ï¼šdecrypted å’Œ resetï¼Œè¯¦è§ fixit-decryptor.jsã€‚ ","date":"2022-08-08","objectID":"/posts/encryption-fe/:2:0","tags":["JavaScript","åŠ å¯†"],"title":"å‰ç«¯é¡µé¢å†…å®¹åŠ å¯†æ€»ç»“","uri":"/posts/encryption-fe/"},{"categories":["Node.js","JavaScript"],"content":" é—®é¢˜ è…¾è®¯äº‘äº‘å‡½æ•°ä» 2022 å¹´ 6 æœˆ 1 æ—¥å¼€å§‹æ”¶è´¹äº†ï¼Œå·®ä¸å¤šæ¯ä¸ªæœˆ 12 å—ï¼Œå¯¹äºå¯èƒ½å‡ ä¸ªæœˆéƒ½ç”¨ä¸ä¸Šä¸€æ¬¡äº‘å‡½æ•°åˆ·æ–°ç¼“å­˜çš„äººæ¥è¯´ï¼Œæœ‰ç‚¹å¤ªè´µäº†ã€‚ ä½¿ç”¨ Node.js å’Œ GitHub Actions åˆ·æ–° CDN çš„æ–¹å¼ï¼Œå¯ä»¥èŠ‚çœä¸å°‘é’±ã€‚ ","date":"2022-08-07","objectID":"/posts/qcloudcdn/:0:0","tags":["CDN","GitHub Actions","Node.js"],"title":"Node.js + GitHub Actions è‡ªåŠ¨åˆ·æ–° CDN","uri":"/posts/qcloudcdn/"},{"categories":["Node.js","JavaScript"],"content":"å®‰è£…ä¾èµ– npm install qcloud-cdn-node-sdk ","date":"2022-08-07","objectID":"/posts/qcloudcdn/:1:0","tags":["CDN","GitHub Actions","Node.js"],"title":"Node.js + GitHub Actions è‡ªåŠ¨åˆ·æ–° CDN","uri":"/posts/qcloudcdn/"},{"categories":["Node.js","JavaScript"],"content":"ç¼–å†™è„šæœ¬ vim .scripts/qcloudcdn.js /** * Refresh Qcloud CDN cache * @command `node qcloudcdn.js $SECRET_ID $SECRET_KEY` */ const qcloudSDK = require('qcloud-cdn-node-sdk'); // Get the config from https://console.qcloud.com/capi qcloudSDK.config({ secretId: process?.argv[2], secretKey: process?.argv[3] }); qcloudSDK.request( 'RefreshCdnDir', { // See https://cloud.tencent.com/document/api/228/3947 'dirs.0': 'https://lruihao.cn/' }, (res) =\u003e { res.code \u0026\u0026 console.log(res); } ); ","date":"2022-08-07","objectID":"/posts/qcloudcdn/:2:0","tags":["CDN","GitHub Actions","Node.js"],"title":"Node.js + GitHub Actions è‡ªåŠ¨åˆ·æ–° CDN","uri":"/posts/qcloudcdn/"},{"categories":["Node.js","JavaScript"],"content":"å¢åŠ å¿«æ·æŒ‡ä»¤ æ‰“å¼€ package.json å¢åŠ  scripts: { \"scripts\": { \"qcloudcdn\": \"node .scripts/qcloudcdn.js $SECRET_ID $SECRET_KEY\" } } è¿è¡Œæ–¹å¼ï¼š SECRET_ID=\u003csecretId\u003e SECRET_KEY=\u003csecretKey\u003e npm run qcloudcdn Mac OS ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¯é€‰ï¼‰ vim ~/.bash_profile # Qcloud secret key-value export SECRET_ID=\u003csecretId\u003e export SECRET_KEY=\u003csecretKey\u003e source ~/.bash_profile ç„¶åï¼Œåœ¨æœ¬åœ°å¯ç®€åŒ–æŒ‡ä»¤ä¸º npm run qcloudcdn æˆ–è€… yarn qcloudcdnã€‚ ç­‰åŒäº SECRET_ID=$SECRET_ID SECRET_KEY=$SECRET_KEY npm run qcloudcdn ","date":"2022-08-07","objectID":"/posts/qcloudcdn/:3:0","tags":["CDN","GitHub Actions","Node.js"],"title":"Node.js + GitHub Actions è‡ªåŠ¨åˆ·æ–° CDN","uri":"/posts/qcloudcdn/"},{"categories":["Node.js","JavaScript"],"content":"é…ç½® GitHub Actions åœ¨åŸæœ‰ GitHub Actions ä¸­éƒ¨ç½²åå¢åŠ ä¸€ä¸ªæ­¥éª¤ï¼š - name: Refresh Qcloud CDN cache env: SECRET_ID: ${{ secrets.SECRET_ID }} SECRET_KEY: ${{ secrets.SECRET_KEY }} run: npm run qcloudcdn åœ¨ä»“åº“ Settings \u003e Secrets \u003e Actions ä¸­å¢åŠ ä¸¤ä¸ª Secret: SECRET_ID å’Œ SECRET_KEYï¼ŒåŸæ¥æœ‰é…ç½®è¿‡çš„å°±ä¸ç”¨äº†ï¼Œæ¯”å¦‚ï¼Œæˆ‘åŸæ¥çš„å« COS_SECRET_ID å’Œ COS_SECRET_IDï¼Œé‚£ä¿®æ”¹ä¸Šé¢é…ç½® env ä¸­çš„å˜é‡åå³å¯ã€‚ æœ€åä¸Šä¼ ä»£ç ï¼Œä»¥åæ›´æ–°ä»“åº“æ—¶å°±ä¼šè‡ªåŠ¨åˆ·æ–° CDN ç¼“å­˜äº†ã€‚ ","date":"2022-08-07","objectID":"/posts/qcloudcdn/:4:0","tags":["CDN","GitHub Actions","Node.js"],"title":"Node.js + GitHub Actions è‡ªåŠ¨åˆ·æ–° CDN","uri":"/posts/qcloudcdn/"},{"categories":["Node.js","JavaScript"],"content":"å‚è€ƒèµ„æ–™ Qcloud_CDN_API/nodejs æœ¬æ–¹æ¡ˆä½¿ç”¨çš„æ—§çš„ API è¯·æ±‚æ–¹å¼ï¼Œå¦‚æœå¤±æ•ˆï¼Œå¯ä»¥å‚è€ƒæ–°çš„ APIï¼Œè§ SDK ä¸­å¿ƒã€‚ ","date":"2022-08-07","objectID":"/posts/qcloudcdn/:5:0","tags":["CDN","GitHub Actions","Node.js"],"title":"Node.js + GitHub Actions è‡ªåŠ¨åˆ·æ–° CDN","uri":"/posts/qcloudcdn/"},{"categories":["OS"],"content":"æ¢è¡Œç¬¦ï¼ˆé€šå¸¸ç§°ä¸ºè¡Œå°¾ã€è¡Œå°¾ (EOL)ã€ä¸‹ä¸€è¡Œ (NEL) æˆ–æ¢è¡Œç¬¦ï¼‰æ˜¯å­—ç¬¦ç¼–ç è§„èŒƒï¼ˆä¾‹å¦‚ï¼ŒASCIIã€EBCDICï¼‰ä¸­çš„æ§åˆ¶å­—ç¬¦æˆ–æ§åˆ¶å­—ç¬¦åºåˆ—ï¼Œç”¨äºè¡¨ç¤ºä¸€è¡Œæ–‡æœ¬çš„ç»“å°¾å’Œæ–°æ–‡æœ¬çš„å¼€å¤´ã€‚ å‘¨äº”ä¸‹ç­çš„æ—¶å€™æƒ³åœ¨ windows ç”µè„‘ä¸Šè·‘ä¸€ä¸‹ FixIt çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆ bug, ç„¶åå°±å‘ç°äº† typyit shortcode å¼€å¤´å¤šå‡ºä¸€è¡Œç©ºè¡Œï¼Œmermaid shortcode åˆ™ç›´æ¥è¯­æ³•æŠ¥é”™äº†ã€‚ çœ‹äº†ä¸€ä¸‹ä»£ç æ˜æ˜æœ‰ trim \\n å¤„ç†ï¼Œè€Œä¸” Vercel æ‰“åŒ…å’Œ Mac ä¸Šè¿è¡Œæ‰“åŒ…éƒ½æ²¡é—®é¢˜ã€‚debug äº†ä¸€ä¸‹æ‰å‘ç° Windows ç³»ç»Ÿä¸Šçš„æ¢è¡Œæ˜¯ \\r\\n, è€Œ Mac ç³»ç»Ÿä¸Šçš„æ¢è¡Œæ˜¯ \\nã€‚äºæ˜¯æŸ¥äº†ä¸€ä¸‹ä¸åŒç³»ç»Ÿçš„æ¢è¡Œç¬¦çš„å·®å¼‚é—®é¢˜ã€‚ ","date":"2022-08-07","objectID":"/posts/newline/:0:0","tags":["newline"],"title":"ä¸åŒç³»ç»Ÿçš„æ¢è¡Œç¬¦çš„å·®å¼‚","uri":"/posts/newline/"},{"categories":["OS"],"content":"å†å² ç®€å•æ¥è¯´ï¼Œå›è½¦æ¢è¡Œè¿™äº›è¯´æ³•æ˜¯ä»æ‰“å­—æœºé‚£ä¸ªæ—¶ä»£å¼€å§‹å«çš„ï¼Œç„¶ååœ¨ä¸åŒçš„æ ‡å‡†ä¸‹æ¢è¡Œç¬¦æœ‰ä¸åŒçš„è¡¨ç°ç¬¦å·ã€‚ Windows ç³»ç»Ÿè®¾è®¡éµå¾ªäº† CR + LF çš„çº¦å®šï¼Œè€Œ Unix ç³»ç»Ÿåˆ™éµå¾ªäº† LF çš„çº¦å®šï¼Œä¹‹åçš„ ç±» Unix (Linux, macOS) ç³»ç»Ÿä¹Ÿéµå¾ªäº† LF çš„çº¦å®šã€‚ å½“ç„¶ä¹Ÿæœ‰å¼‚ç±»ï¼Œè€ç‰ˆçš„ mac ç³»ç»Ÿä½¿ç”¨ CR ä½œä¸ºæ¢è¡Œç¬¦ã€‚ ","date":"2022-08-07","objectID":"/posts/newline/:1:0","tags":["newline"],"title":"ä¸åŒç³»ç»Ÿçš„æ¢è¡Œç¬¦çš„å·®å¼‚","uri":"/posts/newline/"},{"categories":["OS"],"content":"è¡¨ç¤º CR å›è½¦ï¼š\\r LF æ¢è¡Œï¼š\\n æ“ä½œç³»ç»Ÿ æ¢è¡Œç¬¦å· Windows \\r\\n Unixã€Linuxã€MacOS \\n classic Mac OS \\r ","date":"2022-08-07","objectID":"/posts/newline/:2:0","tags":["newline"],"title":"ä¸åŒç³»ç»Ÿçš„æ¢è¡Œç¬¦çš„å·®å¼‚","uri":"/posts/newline/"},{"categories":["OS"],"content":"é—®é¢˜ ç”±äºè¿™ä¸ªå·®å¼‚ï¼Œä¼šå¯¼è‡´æ–‡æœ¬ç±»çš„æ–‡ä»¶åœ¨è·¨ç³»ç»Ÿæµè§ˆæ—¶ä¼šäº§ç”Ÿä¸€äº›å·®å¼‚ï¼Œæ¯”å¦‚è¯´ï¼ŒMac çš„æ–‡æœ¬æ–‡ä»¶åœ¨ Windows æ‰“å¼€ä¼šå…¨éƒ¨æŒ¤åœ¨ä¸€è¡Œç­‰ç­‰ã€‚ å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œè¿™å¾ˆæœ‰å¯èƒ½å¯¼è‡´æŸäº›ç¨‹åºå¤±æ•ˆï¼Œæ¯”å¦‚æ­£åˆ™å»é™¤ç©ºè¡Œç­‰ç­‰ã€‚ ç”šè‡³å› æ­¤ï¼ŒLinux ç³»ç»Ÿä¸‹æä¾›æœ‰ä¸¤ä¸ªå‘½ä»¤ç”¨æ¥è¿›è¡Œ Windows å’Œ Unix æ–‡ä»¶çš„è½¬åŒ–ï¼šdos2unixå’Œ unix2dosã€‚ ","date":"2022-08-07","objectID":"/posts/newline/:3:0","tags":["newline"],"title":"ä¸åŒç³»ç»Ÿçš„æ¢è¡Œç¬¦çš„å·®å¼‚","uri":"/posts/newline/"},{"categories":["OS"],"content":"å‚è€ƒ Newline ","date":"2022-08-07","objectID":"/posts/newline/:4:0","tags":["newline"],"title":"ä¸åŒç³»ç»Ÿçš„æ¢è¡Œç¬¦çš„å·®å¼‚","uri":"/posts/newline/"},{"categories":["Grocery"],"content":"ohmyzsh è‡ªå¸¦äº†å¾ˆå¤šä¸»é¢˜ï¼Œä¹Ÿæœ‰å¾ˆå¤šæ²¡æœ‰æ”¶å½•çš„æ‰©å±•ä¸»é¢˜ï¼Œæˆ‘å°±æƒ³è¦ä¸ªç®€çº¦çš„ä¸»é¢˜ï¼Œä½†æ˜¯æ¯ä¸ªéƒ½å·®ç‚¹æ„æ€ï¼Œå¹²è„†æ”¹ä¸€ä¸ªä¸»é¢˜ã€‚ ","date":"2022-07-31","objectID":"/posts/ohmyzsh-custom/:0:0","tags":null,"title":"è‡ªå®šä¹‰ ohmyzsh ä¸»é¢˜","uri":"/posts/ohmyzsh-custom/"},{"categories":["Grocery"],"content":"è‡ªå®šä¹‰ä¸»é¢˜ å¤åˆ¶é»˜è®¤ä¸»é¢˜ï¼Œå½“ä½œæ¨¡æ¿ï¼š cd ~/.oh-my-zsh cat themes/robbyrussell.zsh-theme \u003e custom/custom.zsh-theme vim custom/custom.zsh-theme ç„¶åä¿®æ”¹é‡Œé¢çš„å†…å®¹ï¼š if [[ -z $ZSH_THEME_CUSTOM_PREFIX ]]; then ZSH_THEME_CUSTOM_PREFIX=\"\u003e\" fi PROMPT=\"%(?:%{$fg_bold[blue]%}$ZSH_THEME_CUSTOM_PREFIX:%{$fg_bold[red]%}$ZSH_THEME_CUSTOM_PREFIX)\" PROMPT+=' %{$fg[blue]%}%c%{$reset_color%} $(git_prompt_info)' ZSH_THEME_GIT_PROMPT_PREFIX=\"%{$fg_bold[green]%}git:(%{$fg[magenta]%}\" ZSH_THEME_GIT_PROMPT_SUFFIX=\"%{$reset_color%} \" ZSH_THEME_GIT_PROMPT_DIRTY=\"%{$fg[green]%}) %{$fg[yellow]%}âœ—\" ZSH_THEME_GIT_PROMPT_CLEAN=\"%{$fg[green]%})\" ","date":"2022-07-31","objectID":"/posts/ohmyzsh-custom/:1:0","tags":null,"title":"è‡ªå®šä¹‰ ohmyzsh ä¸»é¢˜","uri":"/posts/ohmyzsh-custom/"},{"categories":["Grocery"],"content":"é…ç½® vim ~/.zshrc ZSH_THEME=custom ç„¶åé‡å¯ç»ˆç«¯å³å¯ã€‚ ","date":"2022-07-31","objectID":"/posts/ohmyzsh-custom/:2:0","tags":null,"title":"è‡ªå®šä¹‰ ohmyzsh ä¸»é¢˜","uri":"/posts/ohmyzsh-custom/"},{"categories":["OS"],"content":"è®°å½• linux ç³»ç»Ÿä¸‹æ–‡ä»¶æƒé™ç›¸å…³çš„å†…å®¹ï¼ŒMac OS ä¸‹ç±»ä¼¼ã€‚ ","date":"2022-07-30","objectID":"/posts/linux-permission/:0:0","tags":["linux","Mac","ä»–å±±ä¹‹çŸ³"],"title":"linux æ–‡ä»¶æƒé™","uri":"/posts/linux-permission/"},{"categories":["OS"],"content":"æŸ¥çœ‹æ–‡ä»¶æƒé™ æŸ¥çœ‹ linux ç³»ç»Ÿä¸‹çš„æ–‡ä»¶æƒé™ï¼Œå¯ä»¥ä½¿ç”¨ ll å‘½ä»¤æˆ–è€… ls å‘½ä»¤ å¸¦ -lï¼ˆé•¿åˆ—è¡¨é€‰é¡¹ï¼‰ âœ ~ ll total 160 drwx------@ 8 liruihao staff 256B Jul 5 14:47 Applications drwx------@ 10 liruihao staff 320B Jul 27 11:31 Desktop drwx------+ 7 liruihao staff 224B Jun 17 15:01 Documents drwx------@ 22 liruihao staff 704B Jul 29 16:35 Downloads drwx------@ 94 liruihao staff 2.9K Jul 23 19:02 Library drwx------ 4 liruihao staff 128B Nov 13 2021 Movies drwx------+ 6 liruihao staff 192B Nov 18 2021 Music drwx------+ 9 liruihao staff 288B Apr 26 10:25 Pictures drwxr-xr-x+ 5 liruihao staff 160B Nov 14 2021 Public drwxr-xr-x 5 liruihao staff 160B Jul 29 17:48 file-share drwxr-xr-x 3 liruihao staff 96B Jul 26 17:17 node_modules -rw-r--r-- 1 liruihao staff 27B Jun 24 13:47 package-lock.json drwxr-xr-x 20 liruihao staff 640B Jul 29 22:20 workspace -rw-r--r-- 1 liruihao staff 86B Jul 26 17:17 yarn.lock æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯åˆ†ä¸ºï¼šæ–‡ä»¶ç±»å‹ã€æƒé™ã€é“¾æ¥æ•°ã€æ‰€å±ç”¨æˆ·ã€æ‰€å±ç”¨æˆ·ç»„ã€æ–‡ä»¶å¤§å°ã€æœ€åä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶åã€‚ ","date":"2022-07-30","objectID":"/posts/linux-permission/:1:0","tags":["linux","Mac","ä»–å±±ä¹‹çŸ³"],"title":"linux æ–‡ä»¶æƒé™","uri":"/posts/linux-permission/"},{"categories":["OS"],"content":"æ–‡ä»¶ç±»å‹ linux ä¸€å…±æœ‰ 7 ç§æ–‡ä»¶ç±»å‹ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š -: æ™®é€šæ–‡ä»¶ d: ç›®å½•æ–‡ä»¶ l: é“¾æ¥æ–‡ä»¶ b: å—è®¾å¤‡æ–‡ä»¶ p: ç®¡é“æ–‡ä»¶ c: å­—ç¬¦è®¾å¤‡æ–‡ä»¶ s: å¥—æ¥å£æ–‡ä»¶/æ•°æ®æ¥å£æ–‡ä»¶ åå››ç§æ˜¯ç‰¹æ®Šæ–‡ä»¶ ","date":"2022-07-30","objectID":"/posts/linux-permission/:2:0","tags":["linux","Mac","ä»–å±±ä¹‹çŸ³"],"title":"linux æ–‡ä»¶æƒé™","uri":"/posts/linux-permission/"},{"categories":["OS"],"content":"æ–‡ä»¶æƒé™å¯¹åº”å…³ç³» æƒé™ å«ä¹‰ å¯¹åº”æ•°å­— r è¯»æƒé™ 4 w å†™æƒé™ 2 x æ‰§è¡Œæƒé™ 1 è¯»ã€å†™ã€è¿è¡Œä¸‰é¡¹æƒé™ç”¨æ•°å­—è¡¨ç¤ºå°±æ˜¯ r=4,w=2,x=1ã€‚æ‰€ä»¥ï¼Œ-rw-r--r-- ç”¨æ•°å­—è¡¨ç¤ºæˆ 644ã€‚ æƒé™å­—æ®µ -rwxrwxrwx çš„å†…å®¹æ€»å…±ä¼šæœ‰ 10 ä¸ª -ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºæ–‡ä»¶ç±»å‹ï¼Œå¦‚è¯¥æ–‡ä»¶æ˜¯æ–‡ä»¶ (-è¡¨ç¤ºï¼‰ï¼Œæ–‡ä»¶å¤¹ (d è¡¨ç¤ºï¼‰, è¿æ¥æ–‡ä»¶ (l è¡¨ç¤ºï¼‰ï¼Œåé¢ 9 ä¸ªæŒ‰ç…§æ¯ä¸‰ä½ä¸ºä¸€ç»„åˆ†ã€‚ drwxr-xr-x 5 liruihao staff 160B Jul 29 17:48 file-share d: ä»£è¡¨æ–‡ä»¶å¤¹ rwx: ä»£è¡¨æ–‡ä»¶æ‰€æœ‰è€… (u è¡¨ç¤ºï¼‰æƒé™ï¼Œè¿™é‡Œæ˜¯ liruihaoï¼Œliruihao å¯¹è¯¥æ–‡ä»¶æ‹¥æœ‰è¯»å†™æ‰§è¡Œæƒé™ã€‚ r-x: ä»£è¡¨æ‰€å±ï¼ˆg è¡¨ç¤ºï¼‰çš„æƒé™ï¼Œè¿™é‡ŒåŒç»„ç”¨æˆ·æ‹¥æœ‰å¯¹è¯¥æ–‡ä»¶è¯»å’Œæ‰§è¡Œçš„æƒé™ã€‚ r-x: ä»£è¡¨å…¶ä»–ç”¨æˆ·ï¼ˆo è¡¨ç¤ºï¼‰çš„æƒé™ï¼Œè¿™é‡Œå’Œä¸Šé¢æƒé™ä¸€æ ·ã€‚ ","date":"2022-07-30","objectID":"/posts/linux-permission/:3:0","tags":["linux","Mac","ä»–å±±ä¹‹çŸ³"],"title":"linux æ–‡ä»¶æƒé™","uri":"/posts/linux-permission/"},{"categories":["Memo"],"content":"è®°å½•ä¸€ä¸‹ä½¿ç”¨ Mac ä½œä¸ºç”Ÿäº§å·¥å…·å¼€å‘çš„ä¸€äº›åŸºæœ¬é…ç½®å’Œç»éªŒã€‚ ","date":"2022-07-29","objectID":"/posts/config4mac/:0:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"é…ç½®æ–‡ä»¶ Mac ä¸Šæœ‰å¾ˆå¤šé…ç½®æ–‡ä»¶éƒ½å¯ä»¥ç”¨æ¥ä¿å­˜ç¯å¢ƒå˜é‡ç­‰é…ç½®ï¼Œæ ¹æ®è‡ªå·±çš„ç†è§£è®°å½•äº†å››ä¸ªæ–‡ä»¶çš„ç”¨é€”ï¼š # etc/profile ç³»ç»Ÿé…ç½®æ–‡ä»¶ # etc/.bash_profile ç³»ç»Ÿç¯å¢ƒå˜é‡é…ç½® # ~/.bash_profile ä¸ªäººç¯å¢ƒå˜é‡é…ç½® # ~/.zshrc zsh çš„é…ç½®æ–‡ä»¶ # $ZSH_CUSTOM/*.zsh è‡ªå®šä¹‰ zsh è„šæœ¬ï¼Œåœ¨ zsh å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ ç¼–è¾‘æœ€å¤šçš„åº”è¯¥æ˜¯ ~/.bash_profile å’Œ ~/.zshrc, åŸºæœ¬ä¸Šå»ºè®®æ‰€æœ‰çš„ä¸ªäººé…ç½®éƒ½æ”¾åœ¨ ~/.bash_profile ä¸­ï¼Œç„¶ååœ¨ ~/.zshrc æœ€åæ‰§è¡Œ source ~/.bash_profile, è¿™æ ·ä¹Ÿæ–¹ä¾¿å°†è‡ªå·±çš„ä¸ªäººç¯å¢ƒå˜é‡é…ç½®å¤‡ä»½ã€‚ ","date":"2022-07-29","objectID":"/posts/config4mac/:1:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"å¸¸ç”¨å‘½ä»¤ # å®‰è£…/å¸è½½ homebrew install.sh/uninstall.sh /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\" # æ³¨æ„ï¼šå®‰è£… Homebrew ä¼šä¸‹è½½ node, è¯·åšå¥½ node ç¯å¢ƒè¢«ç ´åçš„å‡†å¤‡ # æ˜¾ç¤ºéšè—æ–‡ä»¶ true/false or cmd+shift+. defaults write com.apple.finder AppleShowAllFiles -boolean true ; killall Finder # é‡Šæ”¾ç«¯å£ lsof -i:$your_port # 1. æŸ¥çœ‹ä½¿ç”¨ç«¯å£è¿›ç¨‹ kill -9 $your_PID # 2. é‡Šæ”¾è¿›ç¨‹ ","date":"2022-07-29","objectID":"/posts/config4mac/:2:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"Node # è®¾ç½®é˜¿é‡Œé•œåƒ npm config set registry=https://registry.npmmirror.com # npm config set registry https://registry.npmjs.org # GitHub ä»“åº“ä¸‹è½½åœ°å€å‰ç¼€é•œåƒ # disturl=https://registry.npmmirror.com/-/binary/ # å…¨å±€å®‰è£…çš„ä¾èµ– npm install -g npm@8.13.1 npm install -g cnpm npm install -g @vue/cli npm install -g nvm npm install -g nrm npm install -g yarn npm install -g yrm # npm å‚æ•° --ignore-scripts # å¿½ç•¥è„šæœ¬é”™è¯¯ --force # ä¼šæ— è§†å†²çªï¼Œå¹¶å¼ºåˆ¶è·å–è¿œç«¯ npm åº“èµ„æºï¼Œå³ä½¿æœ¬åœ°æœ‰èµ„æºä¹Ÿä¼šè¦†ç›–æ‰ --legacy-peer-deps # å®‰è£…æ—¶å¿½ç•¥æ‰€æœ‰ peerDependenciesï¼Œå¿½è§†ä¾èµ–å†²çªï¼Œé‡‡ç”¨ npm ç‰ˆæœ¬ 4 åˆ°ç‰ˆæœ¬ 6 çš„æ ·å¼å»å®‰è£…ä¾èµ–ï¼Œå·²æœ‰çš„ä¾èµ–ä¸ä¼šè¦†ç›– # æ¸…é™¤ç¼“å­˜ npm cache clean --force rm -rf node_modules rm -rf package-lock.json npm install # nvm nvm alias default [node_version] # è®¾ç½®é»˜è®¤ç‰ˆæœ¬ # æ£€æŸ¥è¿‡æ—¶ä¾èµ– npm outdated # å®‰å…¨æ›´æ–° npm update # ncu æ›´æ–°æ£€æŸ¥å·¥å…· # https://blog.51cto.com/u_13028258/5115637?b=totalstatistic npm install -g npm-check-updates ## æ£€æŸ¥ ncu ncu vue ## æ›´æ–° ncu -u ncu -u vue electron ç›¸å…³é…ç½® # è®¾ç½® electron é•œåƒä»“åº“ # https://registry.npmmirror.com/-/binary/electron # 13.1.7 ç‰ˆæœ¬ ä¸‹è½½é“¾æ¥å¯èƒ½ä¼šæ‹¼é”™å¯¼è‡´ 404ï¼Œè¦è®¾ç½®æˆ https://registry.npmmirror.com/-/binary/electron/v npm config set electron_mirror=https://npmmirror.com/mirrors/electron/ ","date":"2022-07-29","objectID":"/posts/config4mac/:3:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"SourceTree Custom actions Script target: /bin/bash Parameters: /Users/liruihao/workspace/.shell/sync_tags.sh æŠ€å·§ æ ¹æ®ä¸åŒçš„ shell ç¨‹åºé€‰æ‹©ä¸åŒçš„æ–‡ä»¶åç¼€åï¼Œå¹¶ç»™æ–‡ä»¶å¢åŠ å¯æ‰§è¡Œæƒé™ï¼š zsh: .zsh bash: .sh #! /bin/bash # åŒæ­¥è¿œç¨‹ä»“åº“æ ‡ç­¾åˆ†æ”¯è„šæœ¬ git tag -l | xargs git tag -d # git fetch origin --prune # git fetch origin --tags git fetch origin --prune --prune-tags #! /bin/bash # åŒæ­¥æ‰€æœ‰å­æ¨¡ç»„ git submodule update --remote --merge #! /bin/zsh # ssh é…ç½®ä½†æ— æ³•è¿æ¥æ—¶ ssh-agent -s ssh-add ~/.ssh/Lruihao-Github # ç§é’¥è·¯å¾„ æŠ€å·§ å¼€æœºå¯åŠ¨æ—¶ç³»ç»Ÿä¼šå»è‡ªåŠ¨è¯»å– id_rsa çš„ç§é’¥æ¥å¯åŠ¨ SSH é“¾æ¥ï¼Œè‹¥ä¸æ˜¯é»˜è®¤å‘½ä»¤å°±ä¼šå¤±è´¥éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸Šè¯‰å‘½ä»¤å¯åŠ¨ï¼Œå¯æ·»åŠ åˆ°å¼€æœºè‡ªå¯åŠ¨ã€‚ SourceTree ç›¸å…³æ–‡ç«  è§£å†³ SourceTree æäº¤æ—¶å€™ husky å‘½ä»¤å¤±è´¥é—®é¢˜ ","date":"2022-07-29","objectID":"/posts/config4mac/:4:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"Terminal Terminal: ç³»ç»Ÿè‡ªå¸¦ Shell: zsh ç¾åŒ–: ohmyzsh ä¿®æ”¹å¯åŠ¨è¯­ vim $PREFIX/etc/motd ","date":"2022-07-29","objectID":"/posts/config4mac/:5:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"sublime-text 3 # Terminal å¯ç”¨ sublime åˆ«å subl ## 1.è®¾ç½®è½¯é“¾ï¼ˆæ¨èï¼‰ sudo ln -s \"/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl\" /usr/local/bin/subl ## 2.è®¾ç½®åˆ«å vim ~/.bash_profile alias subl=\"'/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl'\" source ~/.bash_profile # æ¯æ‰“å¼€ä¸€ä¸ªå‘½ä»¤çª—å£ï¼Œéœ€è¦å…ˆè®©å‘½ä»¤ç”Ÿæ•ˆ ","date":"2022-07-29","objectID":"/posts/config4mac/:6:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"å¼€æœºè‡ªå¯åŠ¨ ç³»ç»Ÿåå¥½è®¾ç½® -\u003e ç”¨æˆ·ä¸ç¾¤ç»„ -\u003e ç™»å½•é¡¹ -\u003e å¢åˆ å¯æ‰§è¡Œæ–‡ä»¶ (éœ€é…ç½®é»˜è®¤å¯åŠ¨è½¯ä»¶) å°† shell å‘½ä»¤æ·»åŠ åˆ° /System/Library/StartupItems/ æˆ– /Library/StartupItems/ æ–‡ä»¶å¤¹ï¼ˆæµ‹è¯•æ— æ•ˆï¼‰ ","date":"2022-07-29","objectID":"/posts/config4mac/:7:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"å¤‡ä»½ # ------------------------------------- # This configuration is for Lruihao. # https://lruihao.cn/posts/config4mac/ # ------------------------------------- export LC_ALL=en_US.UTF-8 export LANG=en_US.UTF-8 # workspace export WORKSPACE=\"$HOME/workspace\" # alias alias subl=\"'/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl'\" alias mysql=/usr/local/mysql/bin/mysql alias mysqladmin=/usr/local/mysql/bin/mysqladmin alias incr=\"source $WORKSPACE/.shell/incr*.zsh\" alias typora=\"open -a typora\" # maven export M2_HOME=$HOME/Applications/apache-maven-3.8.5 export PATH=$PATH:$M2_HOME/bin # jenv export PATH=\"$HOME/.jenv/bin:$PATH\" eval \"$(jenv init -)\" # java export JAVA_8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_321.jdk/Contents/Home export JAVA_17_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home export JAVA_HOME=$JAVA_8_HOME # è®¾ç½®ä¸€ä¸ªä¸­é—´å˜é‡ï¼Œä¸ºäº†æ–¹ä¾¿å¤šä¸ª JDK ç‰ˆæœ¬æ—¶æ›´æ¢ JAVA_HOME export PATH=$JAVA_HOME/bin:$PATH:. # å†’å·å‰ä»£è¡¨ JDK ç›®å½•ä¸‹çš„ bin ç›®å½•ï¼Œå†’å·åä»£è¡¨å½“å‰ç›®å½• export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar # jmeter export JMETER_HOME=$HOME/jmeter/apache-jmeter-5.4.1 export PATH=$JAVA_HOME/bin:$PATH:.:$JMETER_HOME/bin:$PATH export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JMETER_HOME/lib/ext/ApacheJMeter_core.jar:$JMETER_HOME/lib/jorphan.jar:$JMETER_HOME/lib/logkit-2.0.jar # platform-tools of Android SDK export PATH=$PATH:$HOME/Applications/platform-tools # Electron-Mac app development export CSC_LINK=$WORKSPACE/mac_app_dev/Mac.p12 export CSC_KEY_PASSWORD=xxxxxxxxx # yarn export PATH=\"$HOME/.yarn/bin:$HOME/.config/yarn/global/node_modules/.bin:$PATH\" # zsh custom plugin # https://mimosa-pudica.net/zsh-incremental.html # source $WORKSPACE/.shell/incr*.zsh # Qcloud secret key-value export SECRET_ID=\"\" export SECRET_KEY=\"\" # golang export GOROOT=/usr/local/go export GOBIN=$GOROOT/bin export PATH=$PATH:$GOBIN export GOPATH=$HOME/go export GOPROXY=https://goproxy.cn # Go work bin export PATH=$PATH:$GOPATH/bin # sass_embedded export PATH=$PATH:$HOME/Applications/sass_embedded # https://github.com/nvm-sh/nvm#manual-install export NVM_DIR=\"$HOME/.nvm\" [ -s \"$NVM_DIR/nvm.sh\" ] \u0026\u0026 \\. \"$NVM_DIR/nvm.sh\" # This loads nvm [ -s \"$NVM_DIR/bash_completion\" ] \u0026\u0026 \\. \"$NVM_DIR/bash_completion\" # This loads nvm bash_completion # https://github.com/nvm-sh/nvm#deeper-shell-integration autoload -U add-zsh-hook load-nvmrc() { local node_version=\"$(nvm version)\" local nvmrc_path=\"$(nvm_find_nvmrc)\" if [ -n \"$nvmrc_path\" ]; then local nvmrc_node_version=$(nvm version \"$(cat \"${nvmrc_path}\")\") if [ \"$nvmrc_node_version\" = \"N/A\" ]; then nvm install elif [ \"$nvmrc_node_version\" != \"$node_version\" ]; then nvm use fi elif [ \"$node_version\" != \"$(nvm version default)\" ]; then echo \"Reverting to nvm default version\" nvm use default fi # fix husky hook # ref: https://github.com/typicode/husky/issues/390#issuecomment-762213421 echo \"export PATH=\\\"$(dirname $(which node)):\\$PATH\\\"\" \u003e ~/.huskyrc } add-zsh-hook chpwd load-nvmrc load-nvmrc # https://github.com/nvm-sh/nvm#use-a-mirror-of-node-binaries export NVM_NODEJS_ORG_MIRROR=https://mirrors.ustc.edu.cn/node/ å…ˆæ·»åŠ ä¸€äº›åŸºç¡€é…ç½® basic.vim \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" =\u003e Custom config for Lruihao \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Enable mouse set mouse=a \" Enable line-number set number ","date":"2022-07-29","objectID":"/posts/config4mac/:8:0","tags":["Git","Mac","Node.js"],"title":"Mac ä¸Šçš„å¼€å‘é…ç½®æ€»ç»“","uri":"/posts/config4mac/"},{"categories":["Memo"],"content":"ä½œä¸ºéå®‰å“ä¸“ä¸šå¼€å‘ï¼Œæ— éœ€ä¸‹è½½ Android SDKï¼Œ ä»…ä¸‹è½½ Android SDK ä¸­çš„ platform-tools å‘½ä»¤è¡Œå·¥å…·å³å¯ï¼Œå¹¶é…ç½®å¥½ç¯å¢ƒå˜é‡ã€‚ ","date":"2022-07-05","objectID":"/posts/adb-for-mac/:0:0","tags":["Android","ADB"],"title":"Mac é…ç½® ADB","uri":"/posts/adb-for-mac/"},{"categories":["Memo"],"content":"å®‰è£… platform-tools ","date":"2022-07-05","objectID":"/posts/adb-for-mac/:1:0","tags":["Android","ADB"],"title":"Mac é…ç½® ADB","uri":"/posts/adb-for-mac/"},{"categories":["Memo"],"content":"é…ç½®ç¯å¢ƒå˜é‡ open .bash_profile å†™å…¥ä»¥ä¸‹å†…å®¹ # platform-tools of Android SDK export PATH=$PATH:$HOME/Applications/platform-tools source .bash_profile Windows ç³»ç»Ÿæ‰“å¼€é«˜çº§è®¾ç½®ï¼Œé…ç½® PATH å˜é‡ï¼Œå¢åŠ ä¸€æ¡è·¯å¾„å³å¯ã€‚ ","date":"2022-07-05","objectID":"/posts/adb-for-mac/:2:0","tags":["Android","ADB"],"title":"Mac é…ç½® ADB","uri":"/posts/adb-for-mac/"},{"categories":["Memo"],"content":"ADB å‘½ä»¤ é€šè¿‡ USB è¿æ¥æ‰‹æœºå’Œç”µè„‘ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ # 1. æ‰“å¼€æ‰‹æœº tcpip 5555 ç«¯å£ adb tcpip 5555 # 2. æŸ¥çœ‹æ‰‹æœºç½‘ç»œ IP adb shell ifconfig # 3. åœ¨ç”µè„‘ä¸Š ping æ‰‹æœºç½‘ç»œ IP # 4. adb connect [Android IP] Android è°ƒè¯•æ¡¥ (adb) awesome-adb ","date":"2022-07-05","objectID":"/posts/adb-for-mac/:3:0","tags":["Android","ADB"],"title":"Mac é…ç½® ADB","uri":"/posts/adb-for-mac/"},{"categories":["Memo"],"content":"æ³¨æ„ windows ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ï¼ˆå¤¹ï¼‰å‘½åæ‰€é‡‡ç”¨çš„æ˜¯ GBK ç¼–ç ï¼Œè€Œ linux æ˜¯é‡‡ç”¨çš„ UTF-8 ç¼–ç ï¼Œä½¿ç”¨ adb çš„ push å’Œ pull å‘½ä»¤æ—¶ç”±äºç¼–ç æ–¹å¼çš„ä¸åŒä¼šäº§ç”Ÿé”™è¯¯ï¼Œå› æ­¤éœ€è¦ä¿®æ”¹ adb çš„æºä»£ç æ¥æ”¯æŒç¼–ç è½¬æ¢ã€‚ ","date":"2022-07-05","objectID":"/posts/adb-for-mac/:4:0","tags":["Android","ADB"],"title":"Mac é…ç½® ADB","uri":"/posts/adb-for-mac/"},{"categories":["JavaScript"],"content":" å‰è¨€ å‰ç«¯æ¡†æ¶è½®æ›¿å˜åŒ–è¶Šæ¥è¶Šå¿«ï¼ŒJavaScript ä¹Ÿåœ¨ä¸æ–­åœ°å‡çº§è¿­ä»£ï¼Œè¶Šæ¥è¶Šå¤šçš„æ–°ç‰¹æ€§è®©æˆ‘ä»¬çš„ä»£ç å†™èµ·æ¥å˜å¾—ç®€æ´æœ‰è¶£ã€‚ æ¯éš”ä¸€æ®µæ—¶é—´å°±è¯¥é‡æ–°è®¤è¯†ä¸€ä¸‹ JSï¼Œè¿™ç¯‡æ–‡ç« ä¼šä»‹ç» 6 ç§æ–°ç‰¹æ€§ï¼Œä¸€èµ·ç ”ç©¶ä¸€ä¸‹å§ã€‚ ","date":"2022-05-01","objectID":"/posts/js-rediscover/:0:0","tags":["JavaScript","ES6"],"title":"é‡æ–°è®¤è¯† JavaScript","uri":"/posts/js-rediscover/"},{"categories":["JavaScript"],"content":"æ•°ç»„æ–¹æ³• some, every, find, filter, map å…±åŒç‚¹ï¼šè¿™å‡ ä¸ªæ–¹æ³•éƒ½ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚ some some() æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯è‡³å°‘æœ‰ 1 ä¸ªå…ƒç´ é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ æ•°ç»„ä¸­æœ‰è‡³å°‘ä¸€ä¸ªå…ƒç´ é€šè¿‡å›è°ƒå‡½æ•°çš„æµ‹è¯•å°±ä¼šè¿”å› trueï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ²¡æœ‰é€šè¿‡å›è°ƒå‡½æ•°çš„æµ‹è¯•è¿”å›å€¼æ‰ä¼šä¸º falseã€‚ arr.some(callback(element[, index[, array]])[, thisArg]) [2, 5, 8, 1, 4].some((x) =\u003e x \u003e 10); // false [12, 5, 8, 1, 4].some((x) =\u003e x \u003e 10); // true æŠ€å·§ some() ä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›è¡Œæ£€æµ‹ï¼Œç©ºæ•°ç»„è¿”å› false every åŠ©è®°ï¼ševery() å’Œ some() åŠŸèƒ½ç›¸å every() æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ å¦‚æœå›è°ƒå‡½æ•°çš„æ¯ä¸€æ¬¡è¿”å›éƒ½ä¸º truthy å€¼ï¼Œè¿”å› true ï¼Œå¦åˆ™è¿”å› falseã€‚ arr.every(callback(element[, index[, array]])[, thisArg]) [12, 5, 8, 130, 44].every((x) =\u003e x \u003e= 10); // false [12, 54, 18, 130, 44].every((x) =\u003e x \u003e= 10); // true æŠ€å·§ every() ä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›è¡Œæ£€æµ‹ï¼Œç©ºæ•°ç»„è¿”å› true Find åŠ©è®°ï¼šåŠŸèƒ½å’Œ some() ç±»ä¼¼ï¼Œsome() è¿”å›å¸ƒå°”å€¼ï¼Œfind() è¿”å›æ‰¾åˆ°çš„å…ƒç´  find() æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå¦åˆ™è¿”å› undefinedã€‚ arr.find(callback[, thisArg]) const array1 = [5, 12, 8, 130, 44]; const found = array1.find((element) =\u003e element \u003e 10); console.log(found); // expected output: 12 å¼•ç”¨ å¦è¯·å‚è§ findIndex() æ–¹æ³•ï¼Œå®ƒè¿”å›æ•°ç»„ä¸­æ‰¾åˆ°çš„å…ƒç´ çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯å…¶å€¼ã€‚ å¦‚æœä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ çš„ä½ç½®æˆ–è€…ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œä½¿ç”¨ Array.prototype.indexOf() æˆ– Array.prototype.includes()ã€‚ filter åŠ©è®°ï¼šå¦‚å­—é¢æ„æ€ï¼Œå®ƒæ˜¯ä¸€ä¸ªç­›å­ï¼Œä¼šç­›é€‰å‡ºæ»¡è¶³æ¡ä»¶çš„å…ƒç´  filter() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚ è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„ã€ç”±é€šè¿‡æµ‹è¯•çš„å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æ•°ç»„å…ƒç´ é€šè¿‡æµ‹è¯•ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚ var newArray = arr.filter(callback(element[, index[, array]])[, thisArg]) const words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present']; const result = words.filter((word) =\u003e word.length \u003e 6); console.log(result); // expected output: Array [\"exuberant\", \"destruction\", \"present\"] map åŠ©è®°ï¼šåŠŸèƒ½å’Œ filter() ç±»ä¼¼ï¼Œfilter() è¿”å›ç­›é€‰çš„å…ƒç´ ï¼Œmap() è¿”å›ç­›é€‰çš„ç»“æœå€¼ map() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¿™ä¸ªæ–°æ•°ç»„ç”±åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ç»„æˆã€‚ è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„ã€ç”±é€šè¿‡æµ‹è¯•çš„å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æ•°ç»„å…ƒç´ é€šè¿‡æµ‹è¯•ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚ var new_array = arr.map(function callback(currentValue[, index[, array]]) { // Return element for new_array }[, thisArg]) const array1 = [1, 4, 9, 16]; // pass a function to map const map1 = array1.map((x) =\u003e x * 2); console.log(map1); // expected output: Array [2, 8, 18, 32] ","date":"2022-05-01","objectID":"/posts/js-rediscover/:1:0","tags":["JavaScript","ES6"],"title":"é‡æ–°è®¤è¯† JavaScript","uri":"/posts/js-rediscover/"},{"categories":["JavaScript"],"content":"ä½¿ç”¨ Object.hasOwn æ›¿ä»£ in æ“ä½œç¬¦ æœ‰æ—¶ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“å¯¹è±¡ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ in æ“ä½œç¬¦æˆ– obj.hasOwnPropertyï¼Œä½†å®ƒä»¬éƒ½æœ‰å„è‡ªçš„ç¼ºé™·ã€‚ in å¦‚æœæŒ‡å®šçš„å±æ€§ä½äºå¯¹è±¡æˆ–å…¶åŸå‹é“¾ä¸­ï¼Œin è¿ç®—ç¬¦å°†è¿”å› trueã€‚ const Person = function (age) { this.age = age; }; Person.prototype.name = 'fatfish'; const p1 = new Person(24); console.log('age' in p1); // true console.log('name' in p1); // true æ³¨æ„è¿™é‡Œ obj.hasOwnProperty hasOwnProperty æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå¯¹è±¡è‡ªèº«å±æ€§ä¸­æ˜¯å¦å…·æœ‰å¯¹åº”çš„å€¼ï¼ˆåŸå‹é“¾ä¸Šçš„å±æ€§ä¸ä¼šè¯»å–ï¼‰ã€‚ const Person = function (age) { this.age = age; }; Person.prototype.name = 'fatfish'; const p1 = new Person(24); console.log(p1.hasOwnProperty('age')); // true console.log(p1.hasOwnProperty('name')); // fasle æ³¨æ„è¿™é‡Œ obj.hasOwnProperty å·²ç»å¯ä»¥è¿‡æ»¤æ‰åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒè¿˜æ˜¯ä¸å®‰å…¨ã€‚ Object.create(null).hasOwnProperty('name'); // Uncaught TypeError: Object.create(...).hasOwnProperty is not a function Object.hasOwn åˆ«æ€¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Object.hasOwn æ¥é¿å…è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œè¿™æ¯” obj.hasOwnProperty æ–¹æ³•æ›´åŠ æ–¹ä¾¿ã€å®‰å…¨ã€‚ let object = { age: 24 }; Object.hasOwn(object, 'age'); // true let object3 = Object.create(null); Object.hasOwn(object3, 'age'); // false ","date":"2022-05-01","objectID":"/posts/js-rediscover/:2:0","tags":["JavaScript","ES6"],"title":"é‡æ–°è®¤è¯† JavaScript","uri":"/posts/js-rediscover/"},{"categories":["JavaScript"],"content":"ä½¿ç”¨ â€œ#â€ å£°æ˜ç§æœ‰å±æ€§ ä»¥å‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨ _ è¡¨ç¤ºç§æœ‰å±æ€§ï¼Œä½†å®ƒå¹¶ä¸é è°±ï¼Œè¿˜æ˜¯ä¼šè¢«å¤–éƒ¨ä¿®æ”¹ã€‚ class Person { constructor(name) { this._money = 1; this.name = name; } get money() { return this._money; } set money(money) { this._money = money; } showMoney() { console.log(this._money); } } const p1 = new Person('fatfish'); console.log(p1.money); // 1 console.log(p1._money); // 1 p1._money = 2; // ä¾æ—§å¯ä»¥ä»å¤–éƒ¨ä¿®æ”¹_money å±æ€§ï¼Œæ‰€ä»¥è¿™ç§åšæ³•å¹¶ä¸å®‰å…¨ console.log(p1.money); // 2 console.log(p1._money); // 2 ä½¿ç”¨ # å®ç°çœŸæ­£ç§æœ‰å±æ€§ class Person { #money = 1; constructor(name) { this.name = name; } get money() { return this.#money; } set money(money) { this.#money = money; } showMoney() { console.log(this.#money); } } const p1 = new Person('fatfish'); console.log(p1.money); // 1 // p1.#money = 2 // æ²¡æ³•ä»å¤–éƒ¨ç›´æ¥ä¿®æ”¹ p1.money = 2; console.log(p1.money); // 2 console.log(p1.#money); // Uncaught SyntaxError: Private field '#money' must be declared in an enclosing class ","date":"2022-05-01","objectID":"/posts/js-rediscover/:3:0","tags":["JavaScript","ES6"],"title":"é‡æ–°è®¤è¯† JavaScript","uri":"/posts/js-rediscover/"},{"categories":["JavaScript"],"content":"æœ‰ç”¨çš„æ•°å­—åˆ†éš”ç¬¦ å¯ä»¥ä½¿ç”¨ _ åˆ†éš”æ•°å­—ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨äºè®¡ç®— // âœ… æ›´åŠ æ˜“äºé˜…è¯» const newSixBillion = 6000_000_000; // âŒ éš¾ä»¥é˜…è¯» const originSixBillion = 6000000000; console.log(newSixBillion === originSixBillion); // expected output: true const sum = 1000 + 6000_000_000; // expected output: 6000001000 æŠ€å·§ å¦å¤–ï¼Œæˆ‘ä»¬å†™æ—¶é—´æ—¶ï¼Œ24*60*60*1000 çš„å¯è¯»æ€§ä¹Ÿæ˜¯è¿œå¤§äº 86400000 çš„ã€‚ ","date":"2022-05-01","objectID":"/posts/js-rediscover/:4:0","tags":["JavaScript","ES6"],"title":"é‡æ–°è®¤è¯† JavaScript","uri":"/posts/js-rediscover/"},{"categories":["JavaScript"],"content":"â€œ?.â€, â€œ??â€, â€œ??=â€ çš„ä½¿ç”¨ å¯é€‰é“¾ ?. ä»¥å‰æˆ‘ä»¬ä¸ºäº†ç®€åŒ– if elseï¼Œé€šå¸¸ä¼šå†™å‡ºè¿™æ ·çš„ä»£ç  const obj = null; console.log(obj \u0026\u0026 obj.name); const $title = document.querySelector('.title'); const title = $title ? title.innerText : undefined; ä½¿ç”¨ ?. ç®€åŒ– \u0026\u0026 å’Œä¸‰å…ƒè¿ç®—ç¬¦ const obj = null; console.log(obj?.name); const $title = document.querySelector('.title'); const title = $title?.innerText; ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ ?? ä¹‹å‰ç»™å˜é‡èµ‹é»˜è®¤å€¼æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨ || æ¥å†™ï¼Œæ¯”å¦‚ let foo = 1; let bar = foo || 2; console.log(bar); // 1 let foo = 0; let bar = foo || 2; console.log(bar); // 2 æ³¨æ„è¿™é‡Œ æ‰€ä»¥ï¼Œ|| æœ‰æ—¶å€™å¹¶ä¸æ˜¯å¾ˆå®‰å…¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¾—ä¸åŠ åˆ¤æ–­ let foo = 0; let bar = foo !== undefined ? foo : 2; console.log(bar); // 0 ç°åœ¨ä½¿ç”¨ ?? å¯ä»¥ä½¿ä»£ç æ›´åŠ ä¼˜é›… let foo = 1; let bar = foo ?? 2; console.log(bar); // 1 let foo = 0; let bar = foo ?? 2; console.log(bar); // 0 ç©ºå€¼èµ‹å€¼è¿ç®—ç¬¦ ??= let foo = 0; foo ??= 2; console.log(foo); // 0 let foo = 1; foo ??= 2; console.log(foo); // 1 å¾ˆå¥½ç†è§£ï¼Œè¿™é‡Œçš„ foo ??= 2 ç­‰ä»·äº foo = foo ?? 2 ","date":"2022-05-01","objectID":"/posts/js-rediscover/:5:0","tags":["JavaScript","ES6"],"title":"é‡æ–°è®¤è¯† JavaScript","uri":"/posts/js-rediscover/"},{"categories":["JavaScript"],"content":"ä½¿ç”¨ BigInt æ”¯æŒå¤§æ•°è®¡ç®— JS ä¸­è¶…è¿‡ Number.MAX_SAFE_INTEGER çš„æ•°å­—è®¡ç®—å°†æ˜¯ä¸å®‰å…¨çš„ã€‚ Example: Math.pow(2, 53) === Math.pow(2, 53) + 1; // true // Math.pow(2, 53) =\u003e 9007199254740992 // Math.pow(2, 53) + 1 =\u003e 9007199254740992 ä½¿ç”¨ BigInt å®Œå…¨å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ BigInt(Math.pow(2, 53)) === BigInt(Math.pow(2, 53)) + BigInt(1); // false // BigInt(Math.pow(2, 53)) =\u003e 9007199254740992n // BigInt(Math.pow(2, 53)) + BigInt(1) =\u003e 9007199254740993n è¦åˆ›å»ºä¸€ä¸ª BigIntï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæ•´æ•°çš„æœ«å°¾æ·»åŠ å­—ç¬¦nï¼Œæˆ–è€…è°ƒç”¨å‡½æ•° BigInt()ã€‚ let foo = BigInt(1); // 1n let bar = BigInt(2); // 2n console.log(foo \u003e bar); // false console.log(1n \u003e 2n); // false å­¦æ— æ­¢å¢ƒï¼Œä¸æœªæ¥çš„è‡ªå·±å…±å‹‰ ","date":"2022-05-01","objectID":"/posts/js-rediscover/:6:0","tags":["JavaScript","ES6"],"title":"é‡æ–°è®¤è¯† JavaScript","uri":"/posts/js-rediscover/"},{"categories":["CSS"],"content":"å…³äº CSS å’Œ Scss å˜é‡è¿ç®—é‚£äº›äº‹","date":"2022-04-30","objectID":"/posts/css-scss-var/","tags":["CSS","Scss"],"title":"å…³äº CSS å’Œ Scss å˜é‡è¿ç®—é‚£äº›äº‹","uri":"/posts/css-scss-var/"},{"categories":["CSS"],"content":"é—®é¢˜åˆ†æ æ˜¨å¤©åœ¨å¼€å‘ FixIt çš„æ—¶å€™ï¼Œåœ¨ Scss ä¸­å†™ max(foo, bar) å‡½æ•°æ¯”è¾ƒä¸åŒçš„å•ä½å˜é‡æ—¶æŠ¥é”™äº†ï¼Œä½†æ˜¯åœ¨ CSS ä¸­ä½¿ç”¨ max æˆ–è€… min å‡½æ•°å‡½æ•°æ¯”è¾ƒä¸åŒçš„å•ä½å˜é‡æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ é€ æˆè¿™ä¸€é—®é¢˜çš„åŸå› æ˜¯ï¼Œåœ¨ Scss ä¸­ï¼Œä¹Ÿå®ç°äº† max å’Œ min å‡½æ•°ï¼Œä½†æ˜¯åœ¨ Scss ä¸­ï¼Œä¸åŒå•ä½çš„å˜é‡æ˜¯ä¸èƒ½è¿›è¡Œè¿ç®—çš„ï¼Œæ‰€ä»¥ä½¿å¾—åœ¨ Scss ä¸­ç›´æ¥ä½¿ç”¨ max æˆ–è€… min å‡½æ•°ä¼šæç¤ºå•ä½ä¸åŒçš„æŠ¥é”™ã€‚ï¼ˆåŒç±» Less ä¸­çš„å˜é‡è¿ç®—æ˜¯æ”¯æŒä¸åŒå•ä½çš„ï¼‰ çŸ¥é“é€ æˆé—®é¢˜çš„åŸå› åï¼Œè§£å†³è¿™ä¸ªé—®é¢˜å°±å¾ˆç®€å•äº†ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæœ‰äº›æ–¹æ³•æ„Ÿè§‰åƒåœ¨å¡ BUGï¼Œæœ‰ç‚¹æ„æ€ï¼Œè®°å½•ä¸€ä¸‹ã€‚ ","date":"2022-04-30","objectID":"/posts/css-scss-var/:1:0","tags":["CSS","Scss"],"title":"å…³äº CSS å’Œ Scss å˜é‡è¿ç®—é‚£äº›äº‹","uri":"/posts/css-scss-var/"},{"categories":["CSS"],"content":"å¥‡æ€æ·«æŠ€ ç”±äº Scss åŒºåˆ†å¤§å°å†™è€Œ CSS ä¸åŒºåˆ†ï¼Œæ‰€ä»¥ä¸ºäº†ä¸è®© Scss ä¸­çš„å‡½æ•°è¦†ç›– CSS çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é™¤äº† max ä»¥å¤–çš„ 23 - 1 ç§å†™æ³•ï¼Œè¿™æ ·å°±èƒ½ä½¿ç”¨åŸç”Ÿ CSS çš„ max å‡½æ•°æ¥æ¯”è¾ƒäº†ï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚ .foo { padding-left: MAX(10vh, 3.5rem); } ä½¿ç”¨ Scss æ²¡æœ‰çš„ CSS å‡½æ•° clamp: clamp(MIN, VAL, MAX) å…¶å®å°±æ˜¯è¡¨ç¤º max(MIN, min(VAL, MAX)) .foo { padding-left: clamp($header-height, 10vh, 10vh); } ä½¿ç”¨ unquote($string) å‡½æ•°è®© Scss åˆ é™¤å­—ç¬¦ä¸²æœ€å‰å’Œæœ€åçš„å•å¼•å·æˆ–åŒå¼•å· .foo { padding-left: unquote('max(10vh, #{$header-height})'); } ","date":"2022-04-30","objectID":"/posts/css-scss-var/:2:0","tags":["CSS","Scss"],"title":"å…³äº CSS å’Œ Scss å˜é‡è¿ç®—é‚£äº›äº‹","uri":"/posts/css-scss-var/"},{"categories":["CSS"],"content":"By the way å¦‚æœéœ€è¦åœ¨ CSS å‡½æ•°å†…éƒ¨æ¢å¤ Scss è§£æï¼ˆå¼•ç”¨ Scss å˜é‡ï¼‰ï¼Œåªéœ€ç”¨ #{...} åŒ…å›´ Scss ä»£ç ã€‚ $header-height: 3.5rem !default; .foo { margin: calc(10vh - $header-height); } ä¸Šé¢çš„ Scss å°†è§£ææˆ ä»¥ä¸‹æ— æ•ˆçš„ CSS ä»£ç ï¼š .foo { margin: calc(10vh - $header-height); } ç”¨ #{...} åŒ…å›´ Scss å˜é‡ $header-height: 3.5rem !default; .foo { margin: calc(10vh - #{$header-height}); } ","date":"2022-04-30","objectID":"/posts/css-scss-var/:3:0","tags":["CSS","Scss"],"title":"å…³äº CSS å’Œ Scss å˜é‡è¿ç®—é‚£äº›äº‹","uri":"/posts/css-scss-var/"},{"categories":["Study"],"content":" quote Getting Things Done (GTD) is a personal productivity system developed by David Allen and published in a book of the same name. GTD is described as a time management system. Allen states â€œthere is an inverse relationship between things on your mind and those things getting doneâ€. Reference #20 ","date":"2021-12-22","objectID":"/posts/gtd/:0:0","tags":["GTD"],"title":"Getting Things Done for ios App Reminders and Github issues","uri":"/posts/gtd/"},{"categories":["Study"],"content":"ç†è§£ ç®€è€Œè¨€ä¹‹åŸåˆ™å°±æ˜¯ï¼š æœé›† (Collections Box) å¤„ç† ç»„ç»‡ Next actions Projects Waiting for Someday æ£€æŸ¥ ","date":"2021-12-22","objectID":"/posts/gtd/:1:0","tags":["GTD"],"title":"Getting Things Done for ios App Reminders and Github issues","uri":"/posts/gtd/"},{"categories":["Study"],"content":"Apple Reminders app æŒ‰ç…§ä»¥ä¸ŠåŸåˆ™å°±å¯ä»¥æŠŠ Apple çš„æé†’äº‹é¡¹å»º 5 ä¸ªå¤§åˆ†ç±»ï¼Œ æ—¥å¸¸å„ç§æƒ³æ³•æ”¶é›†åˆ°æ”¶é›†ç®±ï¼Œ ç©ºé—²ä¸‹æ¥åå†ç»„ç»‡ï¼Œåˆ†åˆ°ä¸åŒæ—¶é—´ç‚¹å»åšï¼Œ ç„¶åå°±è¦è‡ªå¾‹åœ°å»æ‰§è¡Œå¤„ç†ï¼Œåšå®Œå›é¡¾æ£€æŸ¥æ˜¯å¦éƒ½å®Œæˆã€‚ è¿˜å¯ä»¥é€šè¿‡æ ‡ç­¾æ›´åŠ ç»†åˆ†æˆ‘ä»¬çš„ idea, é…åˆæ—¥å†ä½¿ç”¨è®©ç”Ÿæ´»å­¦ä¹ æ›´é«˜æ•ˆã€‚ ","date":"2021-12-22","objectID":"/posts/gtd/:2:0","tags":["GTD"],"title":"Getting Things Done for ios App Reminders and Github issues","uri":"/posts/gtd/"},{"categories":["Study"],"content":"Github æ”¶é›†ï¼šé€‰æ‹© repository -\u003e å»º issue å¤„ç†ï¼šè§£å†³å¹¶å…³é—­ issue ç»„ç»‡ï¼š Labels Projects Milestone Lable Description bug Something isnâ€™t working documentation Improvements or additions to documentation duplicate e or pull request already exists enhancement New feature or request good first issue Good for newcomers help wanted Extra attention is needed invalid This doesnâ€™t seem right priority Something to deal with first question Further information is requested study Self learning plan wontfix This will not be worked on ","date":"2021-12-22","objectID":"/posts/gtd/:3:0","tags":["GTD"],"title":"Getting Things Done for ios App Reminders and Github issues","uri":"/posts/gtd/"},{"categories":["Study"],"content":"æ€»ç»“ ä¹‹å‰åœ¨ Foxconn å·¥ä½œï¼Œå› ä¸ºå·¥ä½œç”µè„‘ã€ä¸ªäººç”µè„‘ã€æ‰‹æœºå¯ä»¥åšåˆ°äº’ä¸å¹²æ‰°ï¼Œæœ¬æ¥æƒ³çš„æ˜¯æŠŠå·¥ä½œã€å­¦ä¹  (Free Code) å’Œ ç”Ÿæ´» çš„è®¡åˆ’å®Œå…¨åˆ†å¼€ã€‚ ä½†æ˜¯æ¢å·¥ä½œåç”¨è‡ªå·±çš„ç”µè„‘ï¼Œå·¥ä½œå’Œ Free Code å°±æœ‰äº†äº¤é›†ï¼Œæ¢ mac åï¼Œç”±äºè‹¹æœç”Ÿæ€çš„åŸå› ï¼Œä¸å¯é¿å…ç”Ÿæ´»è®¡åˆ’ä¹ŸåŠ å…¥å…¶ä¸­ï¼Œå½¢æˆä¸€ä¸ªä¸‰è€…äº’ç›¸äº¤é”™çš„ Venn å›¾ï¼Œæ‰€ä»¥ç®€å•åˆ†ä¸€ä¸‹ï¼š å·¥ä½œã€ç”Ÿæ´» è‹¹æœç”Ÿæ€ï¼šæ—¥å†ã€æé†’ã€å¤‡å¿˜å½• ï¼ˆæ ‡ç­¾åŒºåˆ†ï¼‰ å­¦ä¹  Github (collection, backup), Blog (summarize) ","date":"2021-12-22","objectID":"/posts/gtd/:4:0","tags":["GTD"],"title":"Getting Things Done for ios App Reminders and Github issues","uri":"/posts/gtd/"},{"categories":["Memo"],"content":" æ’ä»¶åœ°å€ https://github.com/robinchenyu/imagepaste ","date":"2021-10-05","objectID":"/posts/subl_imgpaste2/:0:0","tags":["Markdown","Sublime"],"title":"Sublime å‰ªè´´æ¿å›¾ç‰‡ç²˜è´´æ’ä»¶ â€”â€” Markdown å¿…å¤‡","uri":"/posts/subl_imgpaste2/"},{"categories":["Memo"],"content":"åŠŸèƒ½ æ”¯æŒ Windows/Linux ç³»ç»Ÿä¸‹ï¼Œå®ç°å¯¹å‰ªåˆ‡æ¿å›¾åƒçš„å¤„ç†è°ƒç”¨ (Ctrl+Shift+V) é»˜è®¤ä½¿ç”¨ JPG çš„æ–¹å¼ä¿å­˜ï¼Œå¯ä»¥æ˜¾è‘—å‡å°å›¾ç‰‡çš„å­˜å‚¨ä½“ç§¯ã€‚ å¯¹å‰ªåˆ‡æ¿å›¾åƒä¿å­˜åˆ°æœ¬åœ°å¹¶åœ¨ Markdown æ–‡æœ¬ä¸­æ’å…¥é“¾æ¥åœ°å€ å¯¹å‰ªåˆ‡æ¿ä¸­çš„å›¾åƒåœ°å€ï¼Œç›´æ¥æ’å…¥åˆ° Markdown æ–‡æœ¬ä¸­ ","date":"2021-10-05","objectID":"/posts/subl_imgpaste2/:1:0","tags":["Markdown","Sublime"],"title":"Sublime å‰ªè´´æ¿å›¾ç‰‡ç²˜è´´æ’ä»¶ â€”â€” Markdown å¿…å¤‡","uri":"/posts/subl_imgpaste2/"},{"categories":["Memo"],"content":"é£Ÿç”¨è¯´æ˜ é¦–å…ˆä¸‹è½½ zip åˆ°æœ¬åœ°ï¼Œæ”¾åˆ° sublime å®‰è£…ç›®å½•çš„ xxx\\sublime\\Data\\Packages ä¸­ï¼Œæ³¨æ„ä¸æ˜¯ xxx\\sublime\\Packages ä¸‹å“¦ã€‚ è®°å¾—è¦æŠŠ subl_imgpaste2-master çš„ -master åˆ é™¤æ‰ã€‚æ¥ç€é‡æ–°æ‰“å¼€ sublime, é€‰æ‹© Preferences-\u003ePackage Settings-\u003eImaPaste2-\u003esettings-Default è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š { \"caption\": \"ImagePaste: Paste Image From Clipboard\", \"command\": \"image_paste\", \"image_dir_name\": \"images/\" # å›¾ç‰‡ä¿å­˜ç›®å½• } ç„¶åå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨æˆªå›¾ï¼Œç„¶ååœ¨ sublime é‡Œä½¿ç”¨ ctrl+shift+v ç²˜è´´ Markdown æ ¼å¼çš„å›¾ç‰‡ã€‚é»˜è®¤ä¼šè‡ªåŠ¨æ ¹æ® md æ–‡ä»¶ååœ¨åŒçº§ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå›¾ç‰‡å°±é»˜è®¤ä¿å­˜åœ¨é‚£ã€‚å¦‚å›¾ï¼š VScode ä¹Ÿæœ‰æ›´å¥½ç”¨çš„æ’ä»¶ï¼šPast Image \"pasteImage.defaultName\": \"YY_X\", \"pasteImage.path\": \"${currentFileDir}/images/\" ","date":"2021-10-05","objectID":"/posts/subl_imgpaste2/:2:0","tags":["Markdown","Sublime"],"title":"Sublime å‰ªè´´æ¿å›¾ç‰‡ç²˜è´´æ’ä»¶ â€”â€” Markdown å¿…å¤‡","uri":"/posts/subl_imgpaste2/"},{"categories":["Memo"],"content":" å¡ç‰‡å¼é“¾æ¥å·²æ•´åˆåˆ° FixIt ä¸»é¢˜ https://github.com/Lruihao/FixIt å›é¡§ ä¹‹å‰åœ¨ä½¿ç”¨ hexo çš„æ™‚å€™ä¹Ÿæœ‰ç”¨åˆ°ï¼Œæ¨¡ä»¿çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥ å’Œä¹‹å‰çš„ç›¸æ¯”ï¼Œå„ªåŒ–ä¹‹å‰æ˜¯ååŠ è¼‰ï¼Œç”± JS åœ¨ ç€è¦½å™¨è™•ç†ï¼Œ ä½¿ç”¨ shortcodes æ–¹å¼åï¼Œå‰‡æ˜¯åœ¨ GO æ§‹å»ºé é¢çš„æ™‚å€™è™•ç†ï¼Œæ•ˆèƒ½ä¸Šæœƒå¥½å¾ˆå¤šã€‚ ","date":"2021-10-05","objectID":"/posts/hugo-cardlink/:0:0","tags":["Shortcodes","hugo"],"title":"Hugo æ·»åŠ çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥ Shortcodes","uri":"/posts/hugo-cardlink/"},{"categories":["Memo"],"content":"æºç¢¼ åŸºæ–¼ LoveIt ä¸»é¡Œçš„ Link Shortcodes, ä¸»è¦æ”¹åˆ°ä»¥ä¸‹å¹¾å€‹æ–‡ä»¶ï¼Œå®Œæ•´æäº¤è¨˜éŒ„ assets/css/custom.scss assets/css/partial/cardlink.scss # å¡ç‰‡å¼éˆæ¥æ¨£å¼ layouts/partials/plugin/cardlink.html # å¡ç‰‡å¼éˆæ¥æ¨¡æ¿ layouts/shortcodes/cardlink.html static/images/card-link-bg.jpg ","date":"2021-10-05","objectID":"/posts/hugo-cardlink/:1:0","tags":["Shortcodes","hugo"],"title":"Hugo æ·»åŠ çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥ Shortcodes","uri":"/posts/hugo-cardlink/"},{"categories":["Memo"],"content":"ä½¿ç”¨ ä½¿ç”¨åƒæ•¸è§ FixIt æ“´å±• Shortcodes - Link {{\u003c cardlink href=\"https://github.com/Lruihao/hugo-blog/commit/089c303693e806bff855ecf3fee110baa62b870b\" content=\"çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥ Git è¨˜éŒ„\" \u003e}} ğŸ’¡ æ³¨ï¼šFixIt å·²åˆä½µ shortcode cardlink åˆ° shortcode linkï¼Œåªéœ€æ·»åŠ  card=true {{\u003c link href=\"https://github.com/Lruihao/FixIt\" content=\"å¡ç‰‡å¼é“¾æ¥å·²æ•´åˆåˆ° FixIt ä¸»é¢˜\" card=true \u003e}} ä¿¡æ¯ æˆ‘çš„åšå®¢å³å°†åŒæ­¥è‡³è…¾è®¯äº‘+ç¤¾åŒºï¼Œé‚€è¯·å¤§å®¶ä¸€åŒå…¥é©»ï¼š https://cloud.tencent.com/developer/support-plan?invite_code=3o5dmfzf0xkwk ","date":"2021-10-05","objectID":"/posts/hugo-cardlink/:2:0","tags":["Shortcodes","hugo"],"title":"Hugo æ·»åŠ çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥ Shortcodes","uri":"/posts/hugo-cardlink/"},{"categories":["Memo"],"content":" å·¥ä½œä¸Šä¸€ç›´å¸¸ç”¨ç¹é«”ï¼Œæœ€è¿‘è‡¨å¸–ä¹Ÿéƒ½å¯«çš„ç¹é«”ï¼Œæ‰€ä»¥åšå®¢çš„èªè¨€ä¹Ÿæƒ³æ›æˆç¹é«”ï¼Œä½†æ˜¯ LoveIt ä¸»é¡Œæ²’æœ‰æ”¯æŒä¸­æ–‡ç¹é«”ã€‚å°±åªå¥½è‡ªå·±æ·»åŠ äº†ã€‚ ","date":"2021-10-05","objectID":"/posts/hugo-i18n-zh-tw/:0:0","tags":["hugo","i18n"],"title":"Hugo i18n æ·»åŠ ä¸­æ–‡ç¹é«”ç¿»è­¯","uri":"/posts/hugo-i18n-zh-tw/"},{"categories":["Memo"],"content":"ç¿»è­¯ å±¬æ–¼ç›´è­¯ï¼Œæœ‰äº›è©èªå¯èƒ½ä¸¦ä¸ç¬¦åˆç¾åœ¨è‡ºç£æˆ–è€…é¦™æ¸¯é‚£é‚Šçš„èªªæ³•ã€‚æ¯”å¦‚ï¼Œåˆ†é¡å¥½åƒè‡ºç£å¸¸èªªæ­¸é¡å§ æ–°å»º i18n/zh-TW.toml # Translations for Traditional Chinese # ç°¡é«”ä¸­æ–‡çš„ç¿»è­¯ # https://gohugo.io/content-management/multilingual/#translation-of-strings # === baseof == [backToTop] other = \"å›åˆ°é ‚éƒ¨\" [viewComments] other = \"æŸ¥çœ‹è©•è«–\" # === baseof == # === Post === [posts] other = \"æ–‡ç« \" # === Post === # === Taxonomy === [allSome] other = \"æ‰€æœ‰{{ .Some }}\" [tag] other = \"æ¨™ç±¤\" [tags] other = \"æ¨™ç±¤\" [category] other = \"åˆ†é¡\" [categories] other = \"åˆ†é¡\" [years] other = \"å¹´åº¦ç¸½çµ\" # === Taxonomy === # === Pagination === [more] other = \"æ›´å¤š\" # === Pagination === # === partials/header.html === [selectLanguage] other = \"é¸æ“‡èªè¨€\" [switchTheme] other = \"åˆ‡æ›ä¸»é¡Œ\" # === partials/header.html === # === partials/footer.html === [poweredBySome] other = \"ç”± {{ .Hugo }} å¼·åŠ›é©…å‹• | ä¸»é¡Œ - {{ .Theme }}\" # === partials/footer.html === # === partials/comment.html === [valineLang] other = \"zh-TW\" [valinePlaceholder] other = \"ä½ çš„è©•è«– ...\" [facebookLanguageCode] other = \"zh-TW\" # === partials/comment.html === # === partials/assets.html === [search] other = \"æœç´¢\" [searchPlaceholder] other = \"æœç´¢æ–‡ç« æ¨™é¡Œæˆ–å…§å®¹ ...\" [clear] other = \"æ¸…ç©º\" [cancel] other = \"å–æ¶ˆ\" [noResultsFound] other = \"æ²’æœ‰æ‰¾åˆ°çµæœ\" [lunrLanguageCode] other = \"zh\" [lunrLanguageLib] other = \"lib/lunr/lunr.zh.js\" [lunrSegmentitLib] other = \"lib/lunr/lunr.segmentit.js\" [copyToClipboard] other = \"è¤‡è£½åˆ°å‰ªè²¼æ¿\" [cookieconsentMessage] other = \"æœ¬ç¶²ç«™ä½¿ç”¨ Cookies ä¾†æ”¹å–„æ‚¨çš„æµè¦½é«”é©—ã€‚\" [cookieconsentDismiss] other = \"åŒæ„\" [cookieconsentLink] other = \"ç­è§£æ›´å¤š\" # === partials/assets.html === # === partials/plugin/share.html === [shareOn] other = \"åˆ†äº«åˆ°\" # === partials/plugin/share.html === # === posts/single.html === [contents] other = \"ç›®éŒ„\" [publishedOnDate] other = \"ç™¼ä½ˆæ–¼ {{ .Date }}\" [includedInCategories] other = \"æ”¶éŒ„æ–¼ {{ .Categories }}\" [wordCount] other = \"ç´„ {{ .Count }} å­—\" [readingTime] other = \"é è¨ˆé–±è®€ {{ .Count }} åˆ†é˜\" [views] other = \"æ¬¡é–±è®€\" [author] other = \"ä½œè€…\" [updatedOnDate] other = \"æ›´æ–°æ–¼ {{ .Date }}\" [readMarkdown] other = \"é–±è®€åŸå§‹æ–‡æª”\" [back] other = \"è¿”å›\" [home] other = \"ä¸»é \" [readMore] other = \"é–±è®€å…¨æ–‡\" # === posts/single.html === # === 404.html === [pageNotFound] other = \"é é¢æ²’æ‰¾åˆ°\" [pageNotFoundText] other = \"æŠ±æ­‰ï¼Œæ‚¨è¦æŸ¥æ‰¾çš„é é¢ä¸å­˜åœ¨ã€‚\" # === 404.html === # === shortcodes/admonition.html === [note] other = \"æ³¨æ„\" [abstract] other = \"æ‘˜è¦\" [info] other = \"ä¿¡æ¯\" [tip] other = \"æŠ€å·§\" [success] other = \"æˆåŠŸ\" [question] other = \"å•é¡Œ\" [warning] other = \"è­¦å‘Š\" [failure] other = \"å¤±æ•—\" [danger] other = \"å±éšª\" [bug] other = \"Bug\" [example] other = \"ç¤ºä¾‹\" [quote] other = \"å¼•ç”¨\" # === shortcodes/admonition.html === # === shortcodes/version.html === [new] other = \"æ–°å¢\" [changed] other = \"æ›´æ”¹\" [deleted] other = \"åˆªé™¤\" # === shortcodes/version.html === ","date":"2021-10-05","objectID":"/posts/hugo-i18n-zh-tw/:1:0","tags":["hugo","i18n"],"title":"Hugo i18n æ·»åŠ ä¸­æ–‡ç¹é«”ç¿»è­¯","uri":"/posts/hugo-i18n-zh-tw/"},{"categories":["Memo"],"content":"é…ç½® æ‰“é–‹ config.toml defaultContentLanguage = \"zh-tw\" ","date":"2021-10-05","objectID":"/posts/hugo-i18n-zh-tw/:2:0","tags":["hugo","i18n"],"title":"Hugo i18n æ·»åŠ ä¸­æ–‡ç¹é«”ç¿»è­¯","uri":"/posts/hugo-i18n-zh-tw/"},{"categories":["Memo"],"content":" éç¨‹ ä»¥å‰çš„ hexo åšå®¢æ˜¯è‡ªå·±å¯«çš„å‹éˆæ¨¡æ¿ï¼Œæ›åˆ° hugo å¾Œæƒ³è‘—åœ¨ç¶²ä¸Šéš¨ä¾¿æ‰¾ä¸€å€‹ç¯„æœ¬ç”¨è‘—å°±å¥½ï¼Œç„¶è€Œä¸¦æ²’æœ‰è‡ªå·±æƒ³è¦çš„ layout, å¹¾ä¹éƒ½æ˜¯ä½¿ç”¨ shortcodes çš„ï¼Œä»£ç¢¼é¢¨æ ¼æœ‰é»å•é¡Œä¸” shortcodes ä½œç‚ºå‹éˆæ·»åŠ çš„æ–¹å¼æ˜¯çœŸçš„éº»ç…©ã€‚å°±åªå¥½è‡ªå·±å¯«ç¾…ã€‚ å‹æƒ…éˆæ¥æ¨¡æ¿å·²æ•´åˆåˆ° FixIt ä¸»é¡Œ https://github.com/Lruihao/FixIt å‹æƒ…éˆæ¥ç¯„æœ¬ https://lruihao.cn/friends/ ","date":"2021-10-05","objectID":"/posts/hugo-friends/:0:0","tags":["hugo"],"title":"Hugo å‹æƒ…é€£çµæ¨¡æ¿","uri":"/posts/hugo-friends/"},{"categories":["Memo"],"content":"å‰µå»ºæ¨¡æ¿ é–‹å§‹ä¹‹å‰å»çœ‹äº† hugo çš„å®˜ç¶²ï¼Œå†çœ‹äº†ä¸€ä¸‹ go æ¨¡æ¿çš„èªæ³•ã€‚ æ–°å»º layouts/friends/single.html {{- define \"title\" }}{{ .Title }} - {{ .Site.Title }}{{ end -}} {{- define \"content\" -}} {{- $params := .Scratch.Get \"params\" -}} \u003cdiv class=\"page single special\"\u003e {{- /* Title */ -}} \u003ch1 class=\"single-title animated pulse faster\"\u003e{{- .Title -}}\u003c/h1\u003e {{- /* Subtitle */ -}} {{- with $params.subtitle -}} \u003ch2 class=\"single-subtitle\"\u003e{{ . }}\u003c/h2\u003e {{- end -}} {{- /* Friend links */ -}} {{- $loading := resources.Get \"svg/loading.svg\" | minify -}} \u003cscript src=\"//at.alicdn.com/t/font_578712_g26jo2kbzd5qm2t9.js\"\u003e\u003c/script\u003e \u003clink rel=\"stylesheet\" href=\"/friends/css/_friends.css\" /\u003e \u003cdiv class=\"friend-links\"\u003e {{ range $index, $friend := .Site.Data.friends }} \u003ca class=\"friend-link\" title=\"{{ $friend.description }}\" href=\"{{ $friend.url | safeURL }}\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\" \u003e {{ if $friend.avatar }} \u003cimg class=\"friend-avatar lazyload\" src=\"{{ $loading.RelPermalink }}\" data-src=\"{{ $friend.avatar }}\" alt=\"{{ $friend.nickname }}\" /\u003e {{ else }} \u003csvg class=\"friend-avatar\" aria-hidden=\"true\"\u003e \u003cuse xlink:href=\"#icon-{{ add 1 $index }}\"\u003e\u003c/use\u003e \u003c/svg\u003e {{ end }} \u003cspan class=\"friend-nickname\" title=\"{{ $friend.nickname }}\"\u003e@{{ $friend.nickname }}\u003c/span\u003e \u003c/a\u003e {{ end }} \u003c/div\u003e {{- /* Content */ -}} \u003cdiv class=\"content\" id=\"content\"\u003e {{- dict \"Content\" .Content \"Ruby\" $params.ruby \"Fraction\" $params.fraction \"Fontawesome\" $params.fontawesome | partial \"function/content.html\" | safeHTML -}} \u003c/div\u003e {{- /* Comment */ -}} {{- partial \"comment.html\" . -}} \u003c/div\u003e {{- end -}} ","date":"2021-10-05","objectID":"/posts/hugo-friends/:1:0","tags":["hugo"],"title":"Hugo å‹æƒ…é€£çµæ¨¡æ¿","uri":"/posts/hugo-friends/"},{"categories":["Memo"],"content":"æ¨¡æ¿æ¨£å¼ æ–°å»ºæ–‡ä»¶ _friends.css /** * @Description: Style of layout named 'Friend links'. * @Author: lruihao.cn * @Updated: 2021/9/20 19:26 */ .friend-links { margin-top: 1rem; display: flex; flex-direction: row; justify-content: space-between; flex-wrap: wrap; } @media (max-width: 576px) { .friend-links { justify-content: space-around; } } .friend-link { width: 150px; height: 200px; font-size: 1rem; text-align: center; background: rgba(255, 255, 255, 0.3); box-sizing: border-box; box-shadow: 3px 3px 5px #aaa; border-radius: 5px; border: none; transition-duration: 0.3s; margin-bottom: 1rem; display: flex; flex-direction: column; justify-content: space-between; } .friend-link:hover { background: #fff; transform: scale(1.03); box-shadow: 0 0 3px #aaa; } .friend-avatar { object-fit: cover; object-position: center; width: 100% !important; height: 150px !important; border-radius: 5px; margin: 0; padding: 0; } .friend-nickname { display: block; position: relative; color: #2bbc8a; font-weight: bold; max-width: 100%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; line-height: 18px; margin-bottom: 1rem; } .friend-nickname:hover { color: #d480aa; } ","date":"2021-10-05","objectID":"/posts/hugo-friends/:2:0","tags":["hugo"],"title":"Hugo å‹æƒ…é€£çµæ¨¡æ¿","uri":"/posts/hugo-friends/"},{"categories":["Memo"],"content":"å‹éˆé é¢ hugo new friends/index.md å°‡ _friends.css æ”¾åˆ° content/friends/css/ æ‰“é–‹å‹éˆé é¢ content/friends/index.md --- title: 'å‹éˆ' date: 2021-09-19T12:33:48+08:00 type: 'friends' --- ","date":"2021-10-05","objectID":"/posts/hugo-friends/:3:0","tags":["hugo"],"title":"Hugo å‹æƒ…é€£çµæ¨¡æ¿","uri":"/posts/hugo-friends/"},{"categories":["Memo"],"content":"æ•¸æ“š æ–°å»ºæ•¸æ“šæ–‡ä»¶ data/friends.yml, æ•¸æ“šæ ¼å¼ç‚ºï¼š # - nickname: æ ‡é¢˜ # avatar: å¤´åƒ # url: ç«™ç‚¹ # description: æè¿° - nickname: Lruihao avatar: https://gravatar.loli.net/avatar/3f985efb5907ca52944a3cd7edd51606?d=wavatar\u0026v=1.3.10 url: https://lruihao.cn description: ä¸æ€•è¬äººé˜»æ“‹ï¼Œåªæ€•è‡ªå·±æŠ•é™ ","date":"2021-10-05","objectID":"/posts/hugo-friends/:4:0","tags":["hugo"],"title":"Hugo å‹æƒ…é€£çµæ¨¡æ¿","uri":"/posts/hugo-friends/"},{"categories":["Memo"],"content":"çµèª é€™æ¨£æ¯æ¬¡æ·»åŠ å‹éˆæˆ–è€…åˆªé™¤å‹éˆè¡¹è¦æ“ä½œæ•¸æ“šæ–‡ä»¶ friends.yml å°±å¥½ï¼Œä¹¾æ·¨åˆè¡›ç”Ÿï¼ å‹éˆé é¢ content/friends/index.md ç¹¼æ‰¿äº†åŸºç¤é é¢çš„åŠŸèƒ½ï¼Œå…§å®¹è©•è«–ç­‰ ","date":"2021-10-05","objectID":"/posts/hugo-friends/:5:0","tags":["hugo"],"title":"Hugo å‹æƒ…é€£çµæ¨¡æ¿","uri":"/posts/hugo-friends/"},{"categories":["Memo"],"content":"ä½¿ç”¨ Shell è…³æœ¬ç®¡ç† Hugo æœ¬åœ°åšå®¢","date":"2021-10-04","objectID":"/posts/hugo-admin/","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":" æ‘˜è¦ åœ¨ä½¿ç”¨ hugo å¯«åšå®¢çš„éç¨‹ä¸­æœƒä½¿ç”¨åˆ°ä¸€äº›å‘½ä»¤ï¼ŒåŒ…æ‹¬ Git çš„ä½¿ç”¨ä¹Ÿæœƒç”¨åˆ° Git å‘½ä»¤ï¼Œä½†æ˜¯é€™äº›å‘½ä»¤æˆ‘æ„Ÿè¦ºçŸ¥é“å°±å¥½ï¼Œæ²’å¿…è¦å› è¼¸å…¥å‘½ä»¤è€Œå¢åŠ å¯«åšå®¢å’Œéƒ¨ç½²åšå®¢çš„é¡å¤–å·¥ä½œã€‚ è‡ªç„¶è¦æƒ³è¾¦æ³•ç°¡åŒ–é€™äº›éç¨‹ï¼ŒGit é‚„å¥½æœ‰ SourceTree ç­‰å·¥å…·ï¼ŒHugo å»æ²’æœ‰ï¼Œä¹Ÿæ‡¶å¾—å»ç¶²çµ¡ä¸Šæ‰¾é¡ä¼¼ä»¥å‰ hexo æœ‰ hexo-admin çš„æ’ä»¶å¯ä»¥è®“å¤§å®¶åœ¨ç€è¦½å™¨å¯«åšå®¢ï¼Œå› ç‚ºæˆ‘è¦ºå¾—é€™å’Œéœæ…‹åšå®¢åˆè¡·èƒŒé“è€Œé¦³ï¼Œæ–¼æ˜¯æˆ‘å°±æŠ˜ä¸­æ–¹æ¡ˆï¼Œå¯«äº†ä¸€å€‹æ»¿è¶³æ—¥å¸¸éœ€æ±‚çš„ Shell è…³æœ¬ï¼Œç”Ÿæˆç®¡ç†æœ¬åœ°åšå®¢ã€‚ ","date":"2021-10-04","objectID":"/posts/hugo-admin/:0:0","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"å¯¦ç¾ ä¸€å…±å…­å€‹è…³æœ¬ï¼Œæ”¾åœ¨ hugo-site/_localadmin/ ä¸‹ _localadmin/ â”œâ”€â”€ auto_push.sh # è‡ªå‹•åŒ–æäº¤æºç¢¼ â”œâ”€â”€ hugo_builder.sh # æ§‹å»º hugo å‘½ä»¤ â”œâ”€â”€ hugo_main.sh # ä¸»ä»‹é¢å…¥å£ â”œâ”€â”€ hugo_server.sh # å•Ÿå‹•æœ¬åœ°æœå‹™ â”œâ”€â”€ post_generator.sh # å‰µå»ºæ–‡ç«  â””â”€â”€ public_async.sh # åŒæ­¥ public å­æ¨¡çµ„ ","date":"2021-10-04","objectID":"/posts/hugo-admin/:1:0","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"post_generator.sh è¼¸å…¥æ–‡ç« åç¨± ï¼ˆå»ºè­°ä½¿ç”¨è‹±æ–‡ï¼‰ æ–‡ç« æ˜¯å¦æœƒæ’å…¥åœ–ç‰‡ç­‰è³‡æº ï¼ˆé»˜èªï¼šå¦ï¼‰ #!/bin/bash #author: Lruihao cd .. read -p \"Please enter the article name: \" postName if [ -z $postName ];then echo \"The article name is required!\" else read -p \"Will there be pictures in this article? [y/n]...\" choice if [ $choice = \"y\" ];then hugo new posts/$postName/index.md else hugo new posts/$postName.md fi fi ","date":"2021-10-04","objectID":"/posts/hugo-admin/:1:1","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"hugo_server.sh cd .. hugo server --disableFastRender ","date":"2021-10-04","objectID":"/posts/hugo-admin/:1:2","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"hugo_builder.sh cd .. hugo --minify ","date":"2021-10-04","objectID":"/posts/hugo-admin/:1:3","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"public_async.sh cd .. git submodule update --remote git add public git commit -m \"Feat: Update public module commit id\" ","date":"2021-10-04","objectID":"/posts/hugo-admin/:1:4","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"auto_push.sh ä¸è¼¸å…¥ Git æäº¤è¨Šæ¯æœƒä½¿ç”¨è…³æœ¬ä¸­é»˜èªè¨Šæ¯ Docs: ã€è èœçœ¾é•·ã€å†…å®¹æ›´æ–° YYYY-MM-DD week hh:mm::ss #!/bin/bash #author: Lruihao cd .. # æ˜¯å¦éœ€è¦æ¯æ¬¡æäº¤è‡ªå‹•æ›´æ–°å­æ¨¡çµ„ # git submodule update --remote # git add public # git commit -m \"Feat: Update public module commit id\" git add . read -p \"Please enter commit message: \" commitMsg if [ -z $commitMsg ];then commitMsg=\"Docs: ã€è èœçœ¾é•·ã€å†…å®¹æ›´æ–° $(date +'%F %a %T')\" fi git commit -m \"$commitMsg\" git push ","date":"2021-10-04","objectID":"/posts/hugo-admin/:1:5","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"hugo_main.sh å¯å–®ç¨åŸ·è¡Œå­è…³æœ¬ä¹Ÿå¯ä»¥é€šéä¸»ä»‹é¢ä¾†é¸æ“‡åºè™ŸåŸ·è¡Œ #!/bin/bash #author: Lruihao echo \"Please enter the serial number to work\" echo \"--------------------------------------\" echo \"1. post generator\" echo \"2. hugo server\" echo \"3. hugo build\" echo \"4. public async\" echo \"5. auto push\" echo \"--------------------------------------\" echo \"Press Ctrl+C to stop\" read num case $num in 1) sh post_generator.sh ;; 2) sh hugo_server.sh ;; 3) sh hugo_builder.sh ;; 4) sh public_async.sh ;; 5) sh auto_push.sh ;; *) echo \"There is no such serial number\" ;; esac echo \"Press any key to continue...\" read x clear sh hugo_main.sh ","date":"2021-10-04","objectID":"/posts/hugo-admin/:1:6","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo"],"content":"ä½¿ç”¨ å°‡ hugo_main.sh å»ºç«‹æ¡Œé¢å¿«æ·éµ é›™æ“Š hugo_main.sh é€²å…¥æ ¹æ“šæç¤ºä½¿ç”¨å³å¯ ç”±æ–¼ä¸€èˆ¬å¯«åšå®¢æœƒä¾¿é‚Šå¯«é‚Šé è¦½ï¼Œæ‰€ä»¥ä¸€èˆ¬é–‹å…©å€‹ä¸»ä»‹é¢çª—å£ï¼Œå¦‚ä¸‹åœ–ï¼š ä¸€å€‹é¸æ“‡ 2 å•Ÿå‹•æœ¬åœ°æœå‹™ ä¸€å€‹ç”¨æ–¼ç”Ÿæˆæ–‡ç« ï¼Œéƒ¨ç½²æ–‡ç« ç­‰ Hugo Admin ","date":"2021-10-04","objectID":"/posts/hugo-admin/:2:0","tags":["shell","hugo"],"title":"Hugo æœ¬åœ°ç®¡ç† Shell è…³æœ¬","uri":"/posts/hugo-admin/"},{"categories":["Memo","Git"],"content":" è§£æ±ºç—›é» Github Actions çœŸæ˜¯éœæ…‹åšå®¢çš„ç¦éŸ³ï¼Œæœ‰äº†å®ƒ hugo, hexo ç­‰åšå®¢æ§‹å»ºéç¨‹å¯ä»¥ä¸Ÿçµ¦ Github çš„æœå‹™å™¨å¹«æˆ‘å€‘åšäº†ã€‚ ä¹Ÿå°±æ˜¯èª¬å¯¦ç¾äº†åœ¨ç·šå¯«éœæ…‹åšå®¢çš„éœ€æ±‚ã€‚ ","date":"2021-10-04","objectID":"/posts/github-actions/:0:0","tags":["hugo","GitHub Actions","Git","è…¾è®¯äº‘ cos æ¡¶"],"title":"Hugo ä½¿ç”¨ GitHub Actions éƒ¨ç½²åˆ° GithHb Pages å’Œ è…¾è®¯äº‘ cos æ¡¶","uri":"/posts/github-actions/"},{"categories":["Memo","Git"],"content":"æº–å‚™ å·¥ä½œæµç¨‹æ¶‰åŠåˆ°å…©å€‹å€‰åº«å’Œä¸€å€‹ cos æ¡¶ï¼Œä¾‹å¦‚ï¼š Lruihao/hugo-blog # Blog source repository Lruihao/lruihao.github.io # GitHub pages repository blog-1256932288 # COS bucket ","date":"2021-10-04","objectID":"/posts/github-actions/:1:0","tags":["hugo","GitHub Actions","Git","è…¾è®¯äº‘ cos æ¡¶"],"title":"Hugo ä½¿ç”¨ GitHub Actions éƒ¨ç½²åˆ° GithHb Pages å’Œ è…¾è®¯äº‘ cos æ¡¶","uri":"/posts/github-actions/"},{"categories":["Memo","Git"],"content":"Github Actions ","date":"2021-10-04","objectID":"/posts/github-actions/:2:0","tags":["hugo","GitHub Actions","Git","è…¾è®¯äº‘ cos æ¡¶"],"title":"Hugo ä½¿ç”¨ GitHub Actions éƒ¨ç½²åˆ° GithHb Pages å’Œ è…¾è®¯äº‘ cos æ¡¶","uri":"/posts/github-actions/"},{"categories":["Memo","Git"],"content":"å‰µå»º workflows ä»»å‹™ å‰µå»º hugo-site/.github/workflows/deploy.yml, é€™å€‹æ–‡ä»¶æœƒå¯«ä¸€äº›å‘½ä»¤å‘Šè¨´ Github åœ¨æˆ‘å€‘æäº¤æºç¢¼çš„æ™‚å€™ï¼Œå®ƒè¦å¹«æˆ‘å€‘åšå“ªäº›äº‹æƒ…ã€‚ name: Auto Deploy hugo on: [push] jobs: Explore-GitHub-Actions: runs-on: ubuntu-latest steps: - name: Check out repository code uses: actions/checkout@v2 with: submodules: recursive # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: latest extended: true - name: Build Hugo static files run: hugo --minify - name: Deploy to Github Pages uses: peaceiris/actions-gh-pages@v3 with: deploy_key: ${{ secrets.GP_DEPLOY_KEY }} external_repository: Lruihao/lruihao.github.io publish_branch: main publish_dir: ./public commit_message: ${{ github.event.head_commit.message }} - name: Install coscmd run: sudo pip install coscmd - name: Configure coscmd env: COS_SECRET_ID: ${{ secrets.COS_SECRET_ID }} COS_SECRET_KEY: ${{ secrets.COS_SECRET_KEY }} COS_BUCKET_NAME: blog-1256932288 # Change for yourself COS_BUCKET_REGION: ap-chengdu # Change for yourself run: coscmd config -a $COS_SECRET_ID -s $COS_SECRET_KEY -b $COS_BUCKET_NAME -r $COS_BUCKET_REGION - name: Deploy to COS Bucket run: coscmd upload -r -s --delete -f public/ / ","date":"2021-10-04","objectID":"/posts/github-actions/:2:1","tags":["hugo","GitHub Actions","Git","è…¾è®¯äº‘ cos æ¡¶"],"title":"Hugo ä½¿ç”¨ GitHub Actions éƒ¨ç½²åˆ° GithHb Pages å’Œ è…¾è®¯äº‘ cos æ¡¶","uri":"/posts/github-actions/"},{"categories":["Memo","Git"],"content":"é…ç½® Github Pages å¯†é‘° ç‚ºäº†è®“ Lruihao/hugo-blog æäº¤ä»£ç¢¼åè‡ªå‹•éƒ¨ç½²åˆ° Lruihao/lruihao.github.io, éœ€è¦ç”Ÿæˆä¸€å° ssh key. ssh-keygen -t rsa -b 4096 -C \"$(git config user.email)\" -f gh-pages -N \"\" # You will get 2 files: # gh-pages.pub (public key) # gh-pages (private key) æ‰“é–‹ Lruihao/hugo-blog å€‰åº«çš„ settings, å†ç‚¹å‡» Secrets, ç„¶å¾Œæ·»åŠ  private key, name ä¸º GP_DEPLOY_KEY æ‰“é–‹ Lruihao/lruihao.github.io, ç‚¹å‡» Deploy keys, æ·»åŠ  public key, name éš¨æ„ï¼ŒAllow write access ä¸€å®šè¦å‹¾ä¸Šï¼Œå¦å‰‡ç„¡æ³•æäº¤ ","date":"2021-10-04","objectID":"/posts/github-actions/:2:2","tags":["hugo","GitHub Actions","Git","è…¾è®¯äº‘ cos æ¡¶"],"title":"Hugo ä½¿ç”¨ GitHub Actions éƒ¨ç½²åˆ° GithHb Pages å’Œ è…¾è®¯äº‘ cos æ¡¶","uri":"/posts/github-actions/"},{"categories":["Memo","Git"],"content":"é…ç½® COS å¯†é‘° æ‰“é–‹ Lruihao/hugo-blog å€‰åº«çš„ settings, å†ç‚¹å‡» Secrets, ç„¶å¾Œæ·»åŠ  COS æ¡¶çš„ secret_id å’Œ secret_key: COS_SECRET_ID COS_SECRET_KEY è‡³æ­¤ï¼ŒGithub Pages å’Œ COS éƒ½å·²ç¶“å¯ä»¥é€šé Github Actions è‡ªå‹•éƒ¨ç½²äº†ï¼Œæœ‰éƒ¨ç½²è¨˜éŒ„åï¼Œ æ‰“é–‹ Lruihao/hugo-blog -\u003e Actions å¯ä»¥çœ‹åˆ°æ§‹å»ºéç¨‹å’Œçµæœï¼Œæ§‹å»ºå¤±æ•—ä¹Ÿæœƒæ”¶åˆ° Github ç™¼çµ¦ä½ çš„éƒµä»¶ã€‚ ","date":"2021-10-04","objectID":"/posts/github-actions/:2:3","tags":["hugo","GitHub Actions","Git","è…¾è®¯äº‘ cos æ¡¶"],"title":"Hugo ä½¿ç”¨ GitHub Actions éƒ¨ç½²åˆ° GithHb Pages å’Œ è…¾è®¯äº‘ cos æ¡¶","uri":"/posts/github-actions/"},{"categories":["Memo","Git"],"content":"COS è‡ªå‹•åŒæ­¥ ï¼ˆå‚™ç”¨ï¼‰ æœ¬å°ç¯€å…§å®¹å’Œ Github Actions ç„¡é—œï¼Œåƒ…ä½œç‚º COS å‚™ç”¨ä¸Šå‚³æ–¹å¼ã€‚ COSBrowser ä¸‹è¼‰ COS å®˜æ–¹è»Ÿä»¶ COSBrowser é»é–‹å³ä¸Šè§’ å·¥å…·ç®± é¸æ“‡ æ–‡ä»¶åŒæ­¥ é¸æ“‡ æœ¬åœ°æ–‡ä»¶å¤¹ eg. hugo-site/public é¸æ“‡ å­˜å‚¨æ¡¶ç›®å½• åŒæ­¥ç±»å‹ï¼šå–®æ¬¡åŒæ­¥ã€è‡ªå‹•åŒæ­¥ã€å®šæ™‚åŒæ­¥ åŒæ­¥å‰å…ˆåŸ·è¡Œ hugo æ§‹å»ºå‘½ä»¤ï¼Œeg. hugo --minify æœ‰ Github actions é¸å–®æ¬¡åŒæ­¥å°±å¥½ï¼Œåœ¨ Github ä¸å¥½ç”¨æ™‚å¯ç”¨ã€‚ ","date":"2021-10-04","objectID":"/posts/github-actions/:3:0","tags":["hugo","GitHub Actions","Git","è…¾è®¯äº‘ cos æ¡¶"],"title":"Hugo ä½¿ç”¨ GitHub Actions éƒ¨ç½²åˆ° GithHb Pages å’Œ è…¾è®¯äº‘ cos æ¡¶","uri":"/posts/github-actions/"},{"categories":["Memo"],"content":" ç”µè„‘å‡çº§ win 11 åï¼Œåˆ†ç›˜æ“ä½œå­˜åœ¨ bug, ç„¶ååˆä¸å°å¿ƒæŠŠè£…ä»£ç çš„ç›˜æ ¼å¼åŒ–äº†ï¼Œè™½ç„¶éƒ½æœ‰å¤‡ä»½åˆ° github, ä½†æ˜¯å½“æ—¶ä¸ºäº†çœäº‹ï¼Œhexo Node å®‰è£…çš„å¾ˆå¤šä»¥æ¥æ’ä»¶éƒ½æ²¡æœ‰å¤‡ä»½ï¼Œç°åœ¨åˆä¸‹è½½ä¸åˆ°äº†ï¼Œæ‰€ä»¥ hexo åšå®¢æ²¡åŠæ³•å®Œæ•´å¤åŸï¼Œå¦å¤–ï¼Œæ—©å°±è§‰å¾—åŸºäº Node çš„ hexo å®åœ¨æœ‰äº›è‡ƒè‚¿ï¼Œä¸”åšå®¢å†…å®¹å¤šäº†ä»¥åéƒ¨ç½²å¤ªæ…¢ï¼Œå°±å¹²è„†ä¹˜æœºæ¢äº†å¥½äº†ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´å¯»æ‰¾ï¼Œæœ€ç»ˆé€‰æ‹©äº†åŸºäº Go çš„ hugo, è®°å½•ä¸€ä¸‹è¿ç§»è¿‡ç¨‹åŠå¾…åŠäº‹é¡¹ã€‚ ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:0:0","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"Hugo å‡†å¤‡ ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:0","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"æ¦‚å¿µ Hugo is a fast and modern static site generator written in Go, and designed to make website creation fun again. é‚£ hugo åŸºäºç¼–è¯‘è¯­è¨€ GO æ„å»ºï¼Œå¯¹äºé™æ€é¡µé¢çš„æ„å»ºè‚¯å®šæ˜¯ç¢¾å‹ hexo çš„å­˜åœ¨ï¼Œå…¶å®˜æ–¹æ ‡è¯­ä¹Ÿæ˜¯å¾ˆç›´ç™½ \"The worldâ€™s fastest framework for building websites\", ä½œä¸ºå…ˆåä½¿ç”¨è¿‡ hexo å’Œ hugo çš„æˆ‘æ¥è¯´ï¼Œè¿™ç¡®å®åå‰¯å…¶å®ã€‚ gohugo ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:1","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"å®‰è£… hugo æä¾›äº†å¾ˆå¤šç§å®‰è£…æ–¹å¼ï¼ŒGit, Docker, Binary. ä¸ªäººç”µè„‘ä½¿ç”¨äºŒè¿›åˆ¶å®‰è£…æ˜¯æœ€æ–¹ä¾¿å¿«æ·çš„ï¼Œæ— éœ€å®‰è£…å…¶ä»–ä¾èµ–ã€‚ åˆ° Hugo Releases ä¸‹è½½å¯¹åº”çš„ windows æ“ä½œç³»ç»Ÿç‰ˆæœ¬çš„ Hugo äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç©å°±è¦ç©å…¨çš„ï¼Œæ‰€ä»¥æˆ‘å°±é€‰æ‹©äº†æ‰©å±•ç‰ˆæœ¬ï¼Œæ­¤æ¬¡é€‰æ‹©çš„æœ€æ–°ç‰ˆä¸º hugo_extended_0.88.1_Windows-64bit.zip, ç„¶åè‡ªè¡Œè§£å‹å®‰è£…å³å¯ã€‚ ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:2","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"ç”Ÿæˆç«™ç‚¹ ä½¿ç”¨ Hugo å¿«é€Ÿç”Ÿæˆç«™ç‚¹ï¼Œæ¯”å¦‚å¸Œæœ›ç”Ÿæˆåˆ° /path/to/site è·¯å¾„ï¼š hugo new site /path/to/site ç«™ç‚¹ç›®å½•ç»“æ„ï¼š â–¸ archetypes/ # é…ç½®æ–‡ç« æ¨¡æ¿ï¼Œç›¸å½“äº hexo çš„ scaffolds â–¸ content/ # æ–‡ç« é¡µé¢å†…å®¹ï¼Œç›¸å½“äº hexo çš„ source â–¸ data/ # å¯å­˜æ”¾ä¸€äº› yaml, json, toml æ ¼å¼çš„æ•°æ® â–¸ layouts/ # é¡µé¢å¸ƒå±€æºç ï¼Œæ”¹é€ ä¸»é¢˜å¯ä¸åŠ¨ä¸»é¢˜æºç  â–¸ static/ # é™æ€æ–‡ä»¶å­˜æ”¾ config.toml # ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œç›¸å½“äº hexo çš„ _config.yml ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:3","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"åˆ›å»ºæ–‡ç«  æ³¨ï¼š è·¯å¾„è¦å†™ä»¥ content/ ä¸ºæ ¹ç›®å½•çš„ç›¸å¯¹è·¯å¾„ hugo new path/fileName ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:4","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"æ·»åŠ ä¸»é¢˜ æ·»åŠ ä¸»é¢˜çš„æ–¹å¼é€‰ç”¨ Git å­æ¨¡ç»„çš„å½¢å¼ï¼Œä¸ºäº†æ—¥åå¿«é€Ÿå‡çº§ï¼Œé¿å…åœ¨ä½¿ç”¨ hexo ä¸­å› å¤§é‡é­”æ”¹ next ä¸»é¢˜è€Œå¯¼è‡´éš¾ä»¥å‡çº§çš„å›°æ‰°ã€‚ ç²¾æŒ‘ç»†é€‰æœ€ç»ˆé€‰æ‹©äº† LoveIt =\u003e FixIt git init git submodule add https://github.com/Lruihao/FixIt.git themes/FixIt åœ¨ config.toml æ·»åŠ  theme = â€œLoveItâ€ theme = \"FixIt\" ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:5","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"åœ¨æœ¬åœ°å¯åŠ¨ç½‘ç«™ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ç½‘ç«™ï¼š hugo serve --disableFastRender å»æŸ¥çœ‹ http://localhost:1313 ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:6","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"hugo build ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œç„¶åè‡ªå·±å¯æ‰‹åŠ¨é€‰æ‹©éƒ¨ç½²åˆ° github pages æˆ– COS ç­‰æœåŠ¡å™¨ hugo --minify ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:1:7","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"å†™ä½œæŒ‡åŒ— FixIt ä¸»é¢˜æ–‡æ¡£ - åŸºæœ¬æ¦‚å¿µ FixIt ä¸»é¢˜æ–‡æ¡£ - å†…å®¹ FixIt ä¸»é¢˜æ–‡æ¡£ - å†…ç½® Shortcodes FixIt ä¸»é¢˜æ–‡æ¡£ - æ‰©å±• Shortcodes ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:2:0","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"Todo list æœ¬ç«™æºç å¤‡ä»½ https://github.com/Lruihao/hugo-blog åŸæ¥ hexo åšäº†å¤§é‡çš„ç¾åŒ–å’Œæ‰©å±•åŠŸèƒ½ï¼Œè¿ç§»åˆ° hugo æƒ³å°½å¯èƒ½å¤šçš„ä¿ç•™ã€‚å–ä¹‹ç²¾åï¼Œå»å…¶ç³Ÿç²•ã€‚ ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:3:0","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"Base è¿ç§» hexo æ‰€æœ‰æ–‡ç« å†…å®¹ è¿ç§» hexo æ‰€æœ‰é¡µé¢å†…å®¹ ç•™è¨€é¡µé¢ ç½‘å‹æ‰“èµæ”¯æŒé¡µé¢ï¼Œæ•´åˆåˆ°ç•™è¨€é¡µé¢ é‡å†™å…³äºé¡µé¢ï¼Œä¸€åˆ‡ä»ç®€ å‹æƒ…é“¾æ¥é¡µé¢ é‡å†™ 404 é¡µé¢ ç«™ç‚¹æ—¶é—´å’Œä¸è’œå­è®¡æ•°æ”¹åˆ° hello-world é¡µé¢ cos-album å’Œ ğŸš é¥­é†‰å›¢ä¼™ ğŸ· æ•´åˆåˆ°åšå®¢ cos-album/ #7 (wontfix) æ–°å¢ demo/, ä»¥å­æ¨¡ç»„çš„å½¢å¼å­˜æ”¾å‰ç«¯ demo, serverless è®°è´¦æœ¬ç­‰ ï¼ˆä¿æŒåŸæœ¬åšå®¢çš„çº¯ç²¹æ€§ï¼‰ åšå®¢ valine è¯„è®ºï¼Œé˜…è¯»æ•°è¿ç§»ï¼Œå¯ç”¨ leancloud API å†™ä»£ç è½¬åŒ–ï¼ˆä½†ä¼¼ä¹æ²¡å¿…è¦ï¼‰ åšå®¢ SEO ä¼˜åŒ–è¿ç§» baidu_urls.txt Github actions è‡ªåŠ¨éƒ¨ç½²åˆ° Github pages å’Œ COS è„šæœ¬ç¼–å†™ hugo æœ¬åœ°ç®¡ç† shell è„šæœ¬å·¥å…·ç¼–å†™ çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥ æ”¹æˆ hugo shortcodes, å–å cardlink zxm/æ²ç›®ä½“ å½’æ¡£ :( #6 å®‰è£… æ²ç›®ä½“ å‹ç¼© æ²ç›®ä½“ fontspider æ²ç›®ä½“ post ä¿®è®¢ typyit é…åˆ éšæœºè¯—è¯å’Œç½‘æ˜“äº‘çƒ­è¯„ API å®æ—¶é¢„è§ˆåŠŸèƒ½ base on Vuejs [æ‹çˆ±å™äº‹ä½“] love å½’æ¡£ [å…‰] å½’æ¡£ hugo å†…å®¹åŠ å¯†ç ”ç©¶ #3 Lruihao/hugo-blog/README.md æ’°å†™ï¼ŒMIT, å‘å¸ƒ 1.0.0 ç‰ˆæœ¬åšå®Œæ•´å¤‡ä»½ï¼Œbase on theme version æ›´æ¢ gravatar å¤´åƒ #4 åšå®¢åœ¨çº¿ç¼–è¾‘å™¨ç ”ç©¶ github1s ç­‰ #5 [baidu_urls.txt]:â†©ï¸ ç”Ÿæˆç™¾åº¦é“¾æ¥é›†åˆå°æŠ€å·§ï¼Œå…³æ‰å½’æ¡£åˆ†é¡µï¼Œåœ¨å½’æ¡£é¡µé¢æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹ä»£ç å³å¯è·å¾—æ‰€æœ‰æ–‡ç« é“¾æ¥ let urls = []; for (let a of document.querySelectorAll('.archive-item a')) { urls.push(a.href); } console.log(urls.join('\\n')); FixIt ä¸»é¢˜å·²æ”¯æŒè‡ªåŠ¨è¾“å‡º baidu_urls.txt æ–‡ä»¶ ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:3:1","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":["Memo"],"content":"Theme FixIt hugo LoveIt ä¸»é¢˜æ•´ä½“ä¼˜åŒ–ï¼Œå¿…è¦æ—¶å»º PR æˆ– issue åˆ° LoveIt ä»“åº“ (LoveIt å·²åœæ›´ä¸€å¹´å¤šï¼‰ å…ˆæŠŠè‡ªå·±å‘ç°å’Œ LoveIt åŸ repo çš„ issue å°½å¯èƒ½çš„ä¿®å¤ï¼Œä¿®æ”¹çš„åŸåˆ™æ˜¯ï¼šä¸æ”¹åŠ¨åŸé¡¹ç›®ä»£ç ï¼Œ å”¯ä¸€é€”å¾„å°±æ˜¯åœ¨ç«™ç‚¹ç›¸åŒçš„ç›®å½•ç”¨æ–°å¢çš„æ–¹å¼æ›¿ä»£ä¿®æ”¹ã€åˆ é™¤æ“ä½œã€‚ ä¹‹åå†ç­‰ç­‰çœ‹ä½œè€…æ˜¯å¦è¿˜ä¼šæ›´æ–°ï¼Œå¦‚å·²åšå¤§é‡çš„æ›´æ”¹ï¼Œå†åšè€ƒè™‘æ•´åˆä¸ºä¸€ä¸ªæ–°çš„ä¸»é¢˜ã€‚ ä¸ºäº†æ›´å¥½çš„å®Œå–„åšå®¢åŠŸèƒ½ä»¥åŠä¿®å¤ BUG å·²åˆ›å»ºæ–°çš„ä¸»é¢˜ FixIt (fork from LoveIt) Hugo theme FixIt https://github.com/Lruihao/FixIt è¿›åº¦æ›´æ–°è‡³ #8 CSS ä¼˜åŒ–ï¼ŒèƒŒæ™¯ï¼Œå…ƒç´ åœ†è§’åŒ–ï¼Œå¤–åœ†å†…æ–¹ï¼Œå±…ä¸­å¯¹é½ç­‰ æ²ç›®ä½“å¼•å…¥ TOC åºå·ç”Ÿæˆ Fix: æ— æ ‡é¢˜æ—¶ä¹Ÿä¼šç”Ÿæˆç›®å½•çš„ BUG subtitle ç­‰ç»†èŠ‚ä¼˜åŒ– Fix: typeit æ‰“å°ä»£ç æ—¶è·‘ç‰ˆçš„é—®é¢˜ Fix: æ–‡ç«  h1 æ ‡é¢˜å¤šè¡Œè·‘ç‰ˆ Code Review ","date":"2021-10-03","objectID":"/posts/hexo-to-hugo/:3:2","tags":["hugo","hexo"],"title":"ä¸ªäººåšå®¢ä» Hexo è¿ç§»è‡³ Hugo","uri":"/posts/hexo-to-hugo/"},{"categories":null,"content":"Lruihao's friends","date":"2021-09-19","objectID":"/friends/","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":" Â Subscribe ours https://lruihao.cn/friends/opml.xml ","date":"2021-09-19","objectID":"/friends/:0:0","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":"åŸºæœ¬è³‡è¨Š - nickname: è èœçœ¾é•· avatar: https://lruihao.cn/images/avatar.jpg url: https://lruihao.cn description: ä¸æ€•è¬äººé˜»æ“‹ï¼Œåªæ€•è‡ªå·±æŠ•é™ ","date":"2021-09-19","objectID":"/friends/:1:0","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":"å‹æƒ…æé†’ Notice äº’æ›å‹éˆè«‹æŒ‰ä»¥ä¸Šæ ¼å¼åœ¨è©•è«–ç•™è¨€ã€‚ï¼ˆåƒ…é™å€‹äººéå•†æ¥­éƒ¨è½æ ¼/ç¶²ç«™ï¼‰ Â ç¶²ç«™å¤±æ•ˆã€åœæ­¢ç¶­è­·ã€å…§å®¹ä¸ç•¶éƒ½å¯èƒ½è¢«å–æ¶ˆé€£çµï¼ é‚£äº›ä¸å°Šé‡ä»–äººå‹å‹•æˆæœï¼Œè½‰è¼‰ä¸åŠ å‡ºè™•çš„ï¼Œæˆ–æƒ¡æ„è¡Œç‚ºçš„ç¶²ç«™ï¼Œé‚„è«‹æ‚¨ä¸è¦ä¾†é€²è¡Œäº¤æ›äº†ã€‚ ","date":"2021-09-19","objectID":"/friends/:2:0","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":"äº’è”ç½‘çš„å¹¿å¤§æœ‹å‹ä»¬ï¼Œæ¬¢è¿å…‰ä¸´æˆ‘çš„å°åšå®¢ï¼æ¬¢è¿ç•™è¨€ï¼","date":"2021-09-13","objectID":"/guestbook/","tags":null,"title":"ç•™è¨€","uri":"/guestbook/"},{"categories":null,"content":" Welcome å…³äº FixIt ä¸»é¢˜ çš„é—®é¢˜ï¼Œè¯·ç§»æ­¥ FixIt å®˜ç½‘ ç›¸å…³æ–‡ç« å“¦ï½ æ¸©é¦¨æç¤ºï¼ŒéŸ³ä¹è‡ªåŠ¨æ’­æ”¾ï¼Œè¯·å¸¦å¥½è€³æœºï½ From playlist, Powered By mmt-netease ç»™åšä¸»ä¹°æ¯å¡å¸ƒå¥‡è¯ºï½ èµèµ æ”¯ä»˜å® å¾®ä¿¡ ","date":"2021-09-13","objectID":"/guestbook/:0:0","tags":null,"title":"ç•™è¨€","uri":"/guestbook/"},{"categories":null,"content":"å…³äºæˆ‘ ä¸å‘ä¸äº¢ï¼Œä¸çŸœä¸ä¼ï¼Œæˆ’éª„æˆ’èº ä¸å—”ä¸æ€’ï¼Œä¸çˆ­ä¸å¼ƒï¼Œç‹¬å–„å…¶èº« è‡ªæˆ‘æœŸè¨±ï¼š ç”¨æˆ‘æ‰€å­¸ï¼Œå­¸æˆ‘æ‰€ç”¨ã€‚ä¿æŒè¬™éœï¼Œä¿æŒæ¢ç´¢æ¬²ï¼Œç ¥ç¤ªå‰è¡Œã€‚ ","date":"2021-09-07","objectID":"/about/:1:0","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"è¨‚é–± ","date":"2021-09-07","objectID":"/about/:2:0","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"è‡´è¬ æ„Ÿè¬å¤§å®¶çš„æ”¯æŒ ğŸ™ ç»™åšä¸»ä¹°æ¯å¡å¸ƒå¥‡è¯ºï½ èµèµ æ”¯ä»˜å® å¾®ä¿¡ francs é€šè¿‡ æ”¯ä»˜å® æ‰“èµäº† Â¥50.00å¤§å­¦ç”Ÿæ—¶æœŸï¼Œç¬¬ä¸€æ¬¡æ”¶åˆ°åˆ«äººçš„æ”¯æŒï¼Œå†…å¿ƒè¡¨ç¤ºå—å® è‹¥æƒŠåˆéå¸¸å¼€å¿ƒã€‚éå¸¸æ„Ÿè°¢è€å“¥çš„æ”¯æŒï¼2018-09-28 francs é€šè¿‡ QQ æ‰“èµäº† Â¥8.80ä»Šå¤©å­¦æ ¡è¿åŠ¨ä¼šæ²¡è¯¾ï¼Œç¡åˆ° 9 ç‚¹å¤šèµ·æ¥çœ‹åˆ° QQ æ”¶åˆ°ä¸€ä¸ªçº¢åŒ…ï¼Œæ„Ÿè°¢æ”¯æŒï¼2018-10-26 francs é€šè¿‡ QQ æ‰“èµäº† Â¥8.802018-11 âœ˜æ˜Œå‡ é€šè¿‡ æ”¯ä»˜å® æ‰“èµäº† Â¥10.00ä¸Šè¯¾çš„æ—¶å€™å¬åˆ°äº†æ”¯ä»˜å®æ¸…è„†çš„æ”¯ä»˜å®åˆ°è´¦ 10 å…ƒçš„å£°éŸ³ï¼2018-12-04 âœ˜æ˜Œå‡ é€šè¿‡ æ”¯ä»˜å® æ‰“èµäº† Â¥18.002018-12-04 âœ˜æ˜Œå‡ é€šè¿‡ å¾®ä¿¡ æ‰“èµäº† Â¥2.00æ¥è‡ª 231****047#qq.com2019-03-19 âœ˜å–œæ´² é€šè¿‡ QQ æ‰“èµäº† Â¥20.20æ¥è‡ª 101****0732020-01-17 âœ˜âœ˜æ¾ é€šè¿‡ æ”¯ä»˜å® æ‰“èµäº† Â¥2.002022-12-02 13:01:48 âœ˜âœ˜æ³¢ é€šè¿‡ æ”¯ä»˜å® æ‰“èµäº† Â¥20.00ç•™è¨€ï¼šâ€œæ„Ÿè°¢å¸®å¿™è§£å†³ FixIt çš„é—®é¢˜â€2023-02-13 10:01:58 K*n é€šè¿‡ å¾®ä¿¡ æ‰“èµäº† Â¥50.002023-03-17 14:05:49 D*n é€šè¿‡ å¾®ä¿¡ æ‰“èµäº† Â¥11.11ç•™è¨€ï¼šâ€œåŠ æ²¹â€2023-03-17 14:57:41 ä¹è¯­ é€šè¿‡ å¾®ä¿¡ æ‰“èµäº† Â¥5.00ç•™è¨€ï¼šâ€œå¾ˆå¥½ç”¨çš„ä¸»é¢˜ï¼Œè°¢è°¢ä½œè€…ğŸ’ªâ€2023-04-03 17:49:12 å»ºè®®å»ä¸– é€šè¿‡ å¾®ä¿¡ æ‰“èµäº† Â¥20.00ç•™è¨€ï¼šâ€œä¸»é¢˜ä¸é”™â€2023-04-17 10:35:26 ğŸŸ é€šè¿‡ å¾®ä¿¡ æ‰“èµäº† Â¥1.00ç•™è¨€ï¼šâ€œæ„Ÿè°¢fixitä½œè€…â€2023-05-24 15:49:46 ","date":"2021-09-07","objectID":"/about/:3:0","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":["CSS"],"content":" Sass å’Œ Less éƒ½å±¬æ–¼ CSS å‰ç½®è™•ç†å™¨ï¼ŒCSS å‰ç½®è™•ç†å™¨å®šç¾©äº†ä¸€ç¨®æ–°çš„èªè¨€ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œç”¨ä¸€ç¨®å°ˆé–€çš„ç¨‹å¼è¨­è¨ˆèªè¨€ï¼Œç‚º CSS å¢åŠ äº†ä¸€äº›ç¨‹å¼è¨­è¨ˆçš„ç‰¹æ€§ï¼Œå°‡ CSS ä½œç‚ºç›®æ¨™ç”Ÿæˆæª”ï¼Œç„¶å¾Œé–‹ç™¼è€…å°±åªè¦ä½¿ç”¨é€™ç¨®èªè¨€é€²è¡Œ CSS çš„ç·¨ç¢¼å·¥ä½œã€‚ è½‰åŒ–æˆé€šä¿—æ˜“æ‡‚çš„è©±ä¾†èªªå°±æ˜¯ â€œç”¨ä¸€ç¨®å°ˆé–€çš„ç¨‹å¼è¨­è¨ˆèªè¨€ï¼Œé€²è¡Œ Web é é¢æ¨£å¼è¨­è¨ˆï¼Œå†é€šéç·¨è­¯å™¨è½‰åŒ–ç‚ºæ­£å¸¸çš„ CSS æª”ï¼Œä»¥ä¾›å°ˆæ¡ˆä½¿ç”¨â€ã€‚ ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:0:0","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"ç‚ºä»€éº¼ï¼Œä»€éº¼æ™‚å€™è¦ä½¿ç”¨ CSS å‰ç½®è™•ç†å™¨ï¼Ÿ (Why, When) CSS æœ‰å…·é«”ä»¥ä¸‹å¹¾å€‹ç¼ºé»ï¼š èªæ³•ä¸å¤ å¼·å¤§ï¼Œæ¯”å¦‚ç„¡æ³•åµŒå¥—æ›¸å¯«ï¼Œå°è‡´æ¨¡çµ„åŒ–é–‹ç™¼ä¸­éœ€è¦æ›¸å¯«å¾ˆå¤šé‡è¤‡çš„é¸æ“‡å™¨ æ²’æœ‰è®Šæ•¸å’Œåˆç†çš„æ¨£å¼è¤‡ç”¨æ©Ÿåˆ¶ï¼Œä½¿å¾—é‚è¼¯ä¸Šç›¸é—œçš„å±¬æ€§å€¼å¿…é ˆä»¥å­—é¢é‡çš„å½¢å¼é‡è¤‡è¼¸å‡ºï¼Œå°è‡´é›£ä»¥ç¶­è­· é€™å°±å°è‡´äº†æˆ‘å€‘åœ¨å·¥ä½œä¸­ç„¡ç«¯å¢åŠ äº†è¨±å¤šå·¥ä½œé‡ã€‚è€Œä½¿ç”¨ CSS å‰ç½®è™•ç†å™¨å¯å¤§å¤§æé«˜äº†æˆ‘å€‘çš„é–‹ç™¼æ•ˆç‡ï¼š æä¾› CSS ç¼ºå¤±çš„æ¨£å¼å±¤è¤‡ç”¨æ©Ÿåˆ¶ æ¸›å°‘å†—é¤˜ç¢¼ æé«˜æ¨£å¼ä»£ç¢¼çš„å¯ç¶­è­·æ€§ã€‚ ä½†æ˜¯ï¼ŒCSS çš„å¥½è™•åœ¨æ–¼ç°¡ä¾¿ã€éš¨æ™‚éš¨åœ°è¢«ä½¿ç”¨å’Œèª¿è©¦ã€‚é€™å°±ä½¿å¾—é ç·¨è­¯ CSS æ­¥é©Ÿçš„åŠ å…¥å…·æœ‰ä»¥ä¸‹ç¼ºé»ï¼š é–‹ç™¼å·¥ä½œæµä¸­å¤šäº†ä¸€å€‹ç’°ç¯€ï¼Œèª¿è©¦ä¹Ÿè®Šå¾—æ›´éº»ç…© é ç·¨è­¯å¾ˆå®¹æ˜“é€ æˆå¾Œä»£é¸æ“‡å™¨çš„æ¿«ç”¨ æ‰€ä»¥æˆ‘å€‘åœ¨å¯¦éš›é …ç›®ä¸­è¡¡é‡é ç·¨è­¯æ–¹æ¡ˆæ™‚ï¼Œé‚„æ˜¯å¾—æƒ³æƒ³ï¼Œæ¯”èµ·å¸¶ä¾†çš„é¡å¤–ç¶­è­·é–‹éŠ·ï¼ŒCSS å‰ç½®è™•ç†å™¨æœ‰æ²’æœ‰è§£æ±ºæ›´å¤§çš„éº»ç…©ã€‚ ç³»çµ±ç´šæ¡†æ¶é–‹ç™¼ ï¼ˆå¤§å‹è¤‡é›œçš„æ¨£å¼è¨­è¨ˆï¼‰ æŒçºŒç¶­è­· ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:1:0","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"Lessã€Sass/Scss æ˜¯ä»€éº¼ï¼Ÿ (What) ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:2:0","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"Less æ˜¯ä¸€ç¨®å‹•æ…‹æ¨£å¼èªè¨€ã€‚å° CSS è³¦äºˆäº†å‹•æ…‹èªè¨€çš„ç‰¹æ€§ï¼Œå¦‚è®Šæ•¸ã€ç¹¼æ‰¿ã€é‹ç®—ã€å‡½æ•¸ã€‚ Less æ—¢å¯ä»¥åœ¨ç”¨æˆ¶ç«¯ä¸Šé‹è¡Œ ï¼ˆæ”¯æ´ IE 6+, Webkit, Firefox)ï¼Œä¹Ÿå¯åœ¨æœå‹™ç«¯é‹è¡Œã€‚ ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:2:1","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"Sass æ˜¯ä¸€ç¨®å‹•æ…‹æ¨£å¼èªè¨€ï¼ŒSass èªæ³•å±¬æ–¼ç¸®æ’èªæ³•ï¼Œ æ¯” CSS æ¯”å¤šå‡ºå¥½äº›åŠŸèƒ½ï¼ˆå¦‚è®Šæ•¸ã€åµŒå¥—ã€é‹ç®—ï¼Œæ··å…¥ (Mixin)ã€ç¹¼æ‰¿ã€é¡è‰²è™•ç†ï¼Œå‡½æ•¸ç­‰ï¼‰ï¼Œæ›´å®¹æ˜“é–±è®€ã€‚ ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:2:2","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"Sass èˆ‡ Scss çš„é—œä¿‚ Sass çš„ç¸®æ’èªæ³•ï¼Œå°æ–¼å¯«æ…£ CSS çš„å‰ç«¯é–‹ç™¼è€…ä¾†èªªå¾ˆä¸ç›´è§€ï¼Œä¹Ÿä¸èƒ½å°‡ CSS ä»£ç¢¼åŠ å…¥åˆ° Sass è£¡é¢ï¼Œå› æ­¤ Sass èªæ³•é€²è¡Œäº†æ”¹è‰¯ï¼ŒSass 3 å°±è®Šæˆäº† Scss(Sassy CSS)ã€‚èˆ‡åŸä¾†çš„èªæ³•ç›¸å®¹ï¼Œåªæ˜¯ç”¨{}å–ä»£äº†åŸä¾†çš„ç¸®é€²ã€‚Sass ç›¸ç•¶æ–¼ Scss çš„åš´æ ¼æ¨¡å¼ã€‚ ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:2:3","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"Sass å’Œ Less çš„æ¯”è¼ƒ ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:3:0","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"ç›¸åŒé» Less å’Œ Sass åœ¨èªæ³•ä¸Šæœ‰äº›å…±æ€§ï¼Œæ¯”å¦‚ä¸‹é¢é€™äº›ï¼š æ··å…¥ (Mixins)â€”â€”class ä¸­çš„ class åƒæ•¸æ··å…¥â€”â€”å¯ä»¥å‚³éåƒæ•¸çš„ classï¼Œå°±åƒå‡½æ•¸ä¸€æ¨£ åµŒå¥—è¦å‰‡â€”â€”Class ä¸­åµŒå¥— classï¼Œå¾è€Œæ¸›å°‘é‡è¤‡çš„ä»£ç¢¼ é‹ç®—â€”â€”CSS ä¸­ç”¨ä¸Šæ•¸å­¸ é¡è‰²åŠŸèƒ½â€”â€”å¯ä»¥ç·¨è¼¯é¡è‰² åå­—ç©ºé–“ (namespace)â€”â€”åˆ†çµ„æ¨£å¼ï¼Œå¾è€Œå¯ä»¥è¢«èª¿ç”¨ ä½œç”¨åŸŸâ€”â€”å±€éƒ¨ä¿®æ”¹æ¨£å¼ JavaScript è³¦å€¼â€”â€”åœ¨ CSS ä¸­ä½¿ç”¨ JavaScript é‹ç®—å¼è³¦å€¼ ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:3:1","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"ä¸åŒé» å¯¦ç¾æ–¹å¼ Less æ˜¯åŸºæ–¼ JavaScriptï¼Œæ˜¯åœ¨ç”¨æˆ¶ç«¯è™•ç†çš„ Sass æ˜¯åŸºæ–¼ Ruby çš„ï¼Œæ˜¯åœ¨ä¼ºæœå™¨ç«¯è™•ç†çš„ é—œæ–¼è®Šæ•¸åœ¨ Less å’Œ Sass ä¸­çš„å”¯ä¸€å€åˆ¥å°±æ˜¯ Less ç”¨@ï¼ŒSass ç”¨$ less ä¸­çš„è®Šé‡é‹ç®—å¯å¸¶ã€å¯ä¸å¸¶å–®ä½ï¼ŒSass éœ€è¦å¸¶å–®ä½å…ƒ èªæ³•ä¸åŒï¼Œè«‹è©³è¦‹ Lessã€Sass å®˜ç¶² ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:3:2","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["CSS"],"content":"é¸ç”¨ Less é‚„æ˜¯ Sass ? ç„¡è«–æ˜¯å­¸ç¿’è³‡æ–™ï¼Œè¨è«–æƒ…æ³ï¼Œä»¥åŠé …ç›®ä½¿ç”¨æƒ…æ³ Sass/Scss éƒ½å„ªæ–¼ Lessï¼Œæ¯”å¦‚ Bootstrap 4 å°±ä½¿ç”¨çš„ Sass, ä½†æ˜¯ Less çš„ä½¿ç”¨æ›´åŠ ç°¡å–®ï¼Œä½¿ç”¨é–€æª»ä¹Ÿè¼ƒä½ï¼Œå…§ç¶²é–‹ç™¼çš„æƒ…æ³ï¼ŒLess å‰‡æ›´åŠ é©åˆã€‚ ","date":"2021-06-22","objectID":"/posts/less-sass-scss/:4:0","tags":["Less","Sass","Scss"],"title":"less\u0026sass\u0026scss","uri":"/posts/less-sass-scss/"},{"categories":["JavaScript"],"content":"ç°¡ä»‹ Lightbox ï¼ˆç‡ˆç®±ï¼‰ï¼Œç”¨æ¥æ”¾å¤§æ˜¾ç¤ºå›¾ç‰‡è¦†ç›–äºå½“å‰é¡µé¢ä¹‹ä¸Šã€‚å…¶æ˜¯ç”¨ CSS æ¥å®šä¹‰å›¾ç‰‡å®¹å™¨ï¼Œç”¨ä¸€å¹…åŠé€æ˜çš„ png å›¾ç‰‡å®ç°æ¸å˜é˜´æš—çš„æ•ˆæœã€‚ ä¸€èˆ¬çš„ç¶²é ï¼Œåœ–ç‰‡æ˜¯ä½¿ç”¨ img æ¨™ç±¤å¯«åœ¨ HTML é é¢ä¸­ï¼Œåœ–ç‰‡é»æ“Šå¹¶ä¸æœƒæ”¾å¤§ï¼Œæƒ³æ”¾å¤§çœ‹åœ–ç‰‡è¦éº¼æ–¹æ³•æ•´å€‹ç¶²é ï¼Œè¦éº¼è¤‡è£½åœ–ç‰‡éˆæ¥æ–°é–‹çª—å£ï¼Œæ“ä½œç¹ç‘£ï¼Œè€Œä½¿ç”¨ Lightbox çš„ç¶²ç«™å¯ä»¥ç‚¹å‡»ç¼©ç•¥å›¾æµ®å±‚æ˜¾ç¤ºå¤§å›¾ï¼Œæ”¾å¤§å¾Œå¯ç‚¹å‡»é”®ç›˜ â†ã€â†’ é”®åˆ‡æ¢å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥é¼ æ ‡ç‚¹å‡»å·¦å³ç®­å¤´åˆ‡æ¢ã€‚æŒ‰ä¸‹é”®ç›˜ Esc é”®æˆ–è€…ç‚¹å‡»å…³é—­æŒ‰é’®å¯è¼•é¬†é—œé–‰åœ–å±¤ï¼Œåœ–ç‰‡æµè¦½çš„é«”é©—åº¦æ˜¯é é å¤§æ–¼æœªä½¿ç”¨çš„ Lightbox çš„ç¶²ç«™ã€‚ ","date":"2021-06-21","objectID":"/posts/lightbox/:1:0","tags":["Lightbox","JavaScript"],"title":"Lightbox","uri":"/posts/lightbox/"},{"categories":["JavaScript"],"content":"å¯¦ç¾æ€è·¯ å¤§æ¦‚æ€è·¯å°±åœ¨æ¯ä¸ªå›¾ç‰‡çš„ç‚¹å‡»äº‹ä»¶ä¸­æ·»åŠ å›¾å±‚ä¸å›¾ç‰‡å‰¯æœ¬ã€‚ /** * @author github.com@flymysql */ let container = document.documentElement || document.body; let img, div, src, btnleft, btnright; var imgid = 0; let x, y, w, h, tx, ty, tw, th, ww, wh; let closeMove = function () { if (div == undefined) { return false; } div.style.opacity = 0; img.style.height = h + 'px'; img.style.width = w + 'px'; img.style.left = x + 'px'; img.style.top = y - container.scrollTop + 'px'; // å»¶è¿Ÿç§»é™¤ dom setTimeout(function () { div.remove(); img.remove(); btnright.remove(); btnleft.remove(); }, 100); }; let closeFade = function () { if (div == undefined) { return false; } div.style.opacity = 0; img.style.opacity = 0; // å»¶è¿Ÿç§»é™¤ dom setTimeout(function () { div.remove(); img.remove(); btnright.remove(); btnleft.remove(); }, 100); }; let style = function () { btnleft.style.cssText = ` position:fixed; border-radius: 50%;; left:${x - 20}px; top:${y - container.scrollTop + h / 2}px; width:50px; height:50px; border: 0px; background-color: rgba(200,200,200,0.8); font-size: 20px; z-index: 999999999; transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1); `; btnright.style.cssText = ` position:fixed; border-radius: 50%; left:${x + w + 20}px; top:${y - container.scrollTop + h / 2}px; width:50px; border: 0px; height:50px; font-size: 20px; background-color: rgba(200,200,200,0.8); z-index: 999999999; transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1); `; btnleft.innerText = '\u003c'; btnright.innerText = '\u003e'; img.style.cssText = ` position:fixed; border-radius: 12px; left:${x}px; top:${y - container.scrollTop}px; width:${w}px; height:${h}px; z-index: 999999999; transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1); opacity:0; `; }; // ç›‘å¬æ»šåŠ¨å…³é—­å±‚ document.addEventListener('scroll', function () { closeFade(); }); document.querySelectorAll('img').forEach((v) =\u003e { if (v.parentNode.localName != 'a') { v.id = imgid; imgid++; v.addEventListener('click', function (e) { // æ³¨å†Œäº‹ä»¶ // è®°å½•å°å›¾çš„ä½ç½®ä¸ªå¤§å° x = e.target.offsetLeft; y = e.target.offsetTop; w = e.target.offsetWidth; h = e.target.offsetHeight; src = e.target.src; id = e.target.id; // åˆ›å»ºé®ç½©å±‚ div = document.createElement('div'); div.style.cssText = ` position:fixed; left:0; top:0; bottom:0; right:0; background-color: rgba(25,25,25,0.8); z-index:99999999; transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1); `; document.body.appendChild(div); setTimeout(function () { div.style.opacity = 1; }, 0); // ï¼ˆæ­¤å¤„å¯ä»¥åŠ  loading) // åˆ›å»ºå‰¯æœ¬ img = new Image(); btnright = document.createElement('button'); btnleft = document.createElement('button'); img.src = src; style(); btnleft.onclick = function () { if (id === 0) { alert('å·²ç»æ˜¯ç¬¬ä¸€å¼ äº†ï¼'); return; } var left = document.getElementById(id - 1); img.src = left.src; x = left.offsetLeft; y = left.offsetTop; w = left.offsetWidth; h = left.offsetHeight; style(); id--; }; btnright.onclick = function () { id++; if (id \u003e= imgid) { alert('å·²ç»æ˜¯æœ€åä¸€å¼ äº†ï¼'); return; } var right = document.getElementById(id); img.src = right.src; x = right.offsetLeft; y = right.offsetTop; w = right.offsetWidth; h = right.offsetHeight; style(); }; img.onload = function () { document.body.appendChild(img); document.body.appendChild(btnright); document.body.appendChild(btnleft); // æµè§ˆå™¨å®½é«˜ wh = window.innerHeight; ww = window.innerWidth; // ç›®æ ‡å®½é«˜å’Œåæ ‡ if (w / h \u003c ww / wh) { th = wh - 80; tw = ((w / h) * th) \u003e\u003e 0; tx = (ww - tw) / 2; ty = 40; } else { tw = ww * 0.8; th = ((h / w) * tw) \u003e\u003e 0; tx = ww * 0.1; ty = (wh - th) / 2; } // å»¶è¿Ÿå†™å…¥å¦åˆ™ä¸ä¼šæœ‰åŠ¨ç”» setTimeout(function () { img.style.opacity = 1; img.style.height = th + 'px'; img.style.width = tw + 'px'; img.style.left = tx + 'px'; img.style.top = ty + 'px'; btnleft.style.left = tx - 90 + 'px'; btnleft.style.top = ty + th / 2 + 'px'; btnright.style.left = tx + tw + 40 + 'px'; btnright.style.top = ty + th / 2 + 'px'; // ç‚¹å‡»éšè— div.onclick = img.onclick = closeMove; }, 10); }; }); //end event } }); //end forEach ","date":"2021-06-21","objectID":"/posts/lightbox/:2:0","tags":["Lightbox","JavaScript"],"title":"Lightbox","uri":"/posts/lightbox/"},{"categories":["JavaScript"],"content":"fancybox fancybox æ˜¯ä¸€å€‹å®Œå–„çš„ lightbox æ’ä»¶ jQuery lightbox script for displaying images, videos and more. Touch enabled, responsive and fully customizable. ","date":"2021-06-21","objectID":"/posts/lightbox/:3:0","tags":["Lightbox","JavaScript"],"title":"Lightbox","uri":"/posts/lightbox/"},{"categories":["JavaScript"],"content":"Quick start Add latest jQuery and fancyBox files \u003cscript src=\"https://code.jquery.com/jquery-3.3.1.min.js\"\u003e\u003c/script\u003e \u003clink href=\"/path/to/jquery.fancybox.min.css\" rel=\"stylesheet\" /\u003e \u003cscript src=\"/path/to/jquery.fancybox.min.js\"\u003e\u003c/script\u003e Create links \u003ca data-fancybox=\"gallery\" href=\"big_1.jpg\"\u003e \u003cimg src=\"small_1.jpg\" /\u003e \u003c/a\u003e \u003ca data-fancybox=\"gallery\" href=\"big_2.jpg\"\u003e \u003cimg src=\"small_2.jpg\" /\u003e \u003c/a\u003e Enjoy! ","date":"2021-06-21","objectID":"/posts/lightbox/:3:1","tags":["Lightbox","JavaScript"],"title":"Lightbox","uri":"/posts/lightbox/"},{"categories":["Projects","JavaScript"],"content":"Usage ","date":"2021-05-23","objectID":"/projects/cell-watermark/:0:0","tags":["watermark","JavaScript"],"title":"Cell Watermark","uri":"/projects/cell-watermark/"},{"categories":["Projects","JavaScript"],"content":"Browser Clone source git clone git@github.com:Lruihao/watermark.git Load Watermark \u003cscript type=\"text/javascript\" src=\"./src/watermark.js\"\u003e\u003c/script\u003e \u003cscript type=\"text/javascript\" src=\"./src/watermark.min.js\"\u003e\u003c/script\u003e \u003c!-- Or CDN --\u003e \u003cscript type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/cell-watermark@1.0.3/src/watermark.js\"\u003e\u003c/script\u003e \u003cscript type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/cell-watermark@1.0.3/src/watermark.min.js\"\u003e\u003c/script\u003e Initialization document.addEventListener('DOMContentLoaded', function () { new Watermark({ content: \"cell-watermark\" }) }); ","date":"2021-05-23","objectID":"/projects/cell-watermark/:1:0","tags":["watermark","JavaScript"],"title":"Cell Watermark","uri":"/projects/cell-watermark/"},{"categories":["Projects","JavaScript"],"content":"NPM Install npm i cell-watermark Import import Watermark from 'cell-watermark' /* Or */ var Watermark = require(\"cell-watermark\") Class: Watermark ","date":"2021-05-23","objectID":"/projects/cell-watermark/:2:0","tags":["watermark","JavaScript"],"title":"Cell Watermark","uri":"/projects/cell-watermark/"},{"categories":["Projects","JavaScript"],"content":"Watermark(options) new Watermark(options) Parameters: Name Type Description options Object The options of watermarkï¼ˆPropertiesï¼‰ Properties: Name Type Attributes Default Description content String \u003coptional\u003e watermarkâ€™s text appendTo String \u003coptional\u003e â€˜bodyâ€™ parent of watermarkâ€™s container width Number \u003coptional\u003e 150 watermarkâ€™s width. unit: px height Number \u003coptional\u003e 20 watermarkâ€™s height. unit: px rowSpacing Number \u003coptional\u003e 60 row spacing of watermarks. unit: px colSpacing Number \u003coptional\u003e 30 col spacing of watermarks. unit: px rotate Number \u003coptional\u003e 15 watermarkâ€™s tangent angle. unit: deg opacity Number \u003coptional\u003e 0.1 watermarkâ€™s transparency fontSize Number \u003coptional\u003e 0.85 watermarkâ€™s fontSize. unit: rem fontFamily String \u003coptional\u003e â€˜inheritâ€™ watermarkâ€™s fontFamily Author: Lruihao ","date":"2021-05-23","objectID":"/projects/cell-watermark/:3:0","tags":["watermark","JavaScript"],"title":"Cell Watermark","uri":"/projects/cell-watermark/"},{"categories":["Projects","JavaScript"],"content":"Methods upload(content) Upload watermarkâ€™s text content Parameters: Name Type Description content String watermarkâ€™s text render(options) Rerender watermark Parameters: Name Type Description options Object The options of watermarkï¼ˆPropertiesï¼‰ destroy() Force destroy watermark ","date":"2021-05-23","objectID":"/projects/cell-watermark/:3:1","tags":["watermark","JavaScript"],"title":"Cell Watermark","uri":"/projects/cell-watermark/"},{"categories":["Memo"],"content":"ç¨‹å¼ç¢¼çš„æŒçºŒå„ªåŒ– å°ä¸€å€‹å…¥é–€çš„å·¥ç¨‹å¸«ä¾†èªªï¼ŒæŒæ¡ç¨‹å¼èªæ³•èˆ‡æ¨¡ä»¿ç¯„ä¾‹å¯¦ä½œæ˜¯åŸºæœ¬çš„èƒ½åŠ›ã€‚é‚£æœ‰äº†é€™æ¨£çš„åŸºæœ¬èƒ½ä¹‹å¾Œï¼Œè¦å¦‚ä½•å¯«å‡ºæ›´å¥½çš„ç¨‹å¼å‘¢ï¼Ÿæ€æ¨£æ‰èƒ½å¤ æˆç‚ºä¸€å€‹ã€Œå„ªç§€ã€çš„æ–°æ‰‹å·¥ç¨‹å¸«å‘¢ï¼Ÿäº‹å¯¦ä¸Šï¼Œå¯«å‡ºæœƒå‹•çš„ç¨‹å¼ä¸é›£ï¼Œä½†æƒ³å¯«å‡ºå¥½çš„ç¨‹å¼å…¶å¯¦æ˜¯éœ€è¦åˆ»æ„ç·´ç¿’çš„ã€‚å¤§éƒ¨åˆ†çš„äººæœƒå»ºè­°è¦ã€Œå¤šç·´ç¿’ã€å¤šå¯¦ä½œã€ï¼Œä½†æˆ‘èªç‚ºåœ¨å¤§é‡ç·´ç¿’ä¹‹å¤–ï¼Œé©æ™‚çš„ã€Œå„ªåŒ–ç¨‹å¼ã€ä¹Ÿæ˜¯æå‡ã€Œç¨‹å¼ç¢¼å“è³ªã€é‡è¦çš„é—œéµã€‚è€Œåœ¨ã€Œå„ªåŒ–ç¨‹å¼ã€å¯ä»¥åˆ†æˆå…©å€‹è§’åº¦ï¼š ç¨‹å¼åŸ·è¡Œæ•ˆèƒ½æ›´å¥½ ç¨‹å¼ç¢¼çµæ§‹æ›´ç²¾ç°¡ ç¨‹å¼åŸ·è¡Œæ•ˆèƒ½å°±æ˜¯å¾é€Ÿåº¦è·Ÿç©ºé–“ä¾†æ€è€ƒï¼ŒåŸ·è¡Œæ™‚é–“è¶ŠçŸ­ã€è®Šæ•¸ä½”ç”¨ç©ºé–“è¶Šå°ã€‚è€Œç¨‹å¼ç¢¼çµæ§‹å‰‡æœƒå¾å¯è®€æ€§å’Œç²¾ç°¡ä¾†è¡¡é‡ï¼Œä¾‹å¦‚ï¼šè®Šæ•¸çš„å‘½åæœ‰æ²’æœ‰æ„ç¾©ã€ç¨‹å¼ç¢¼æœ‰æ²’æœ‰å†—ä½™ã€ç¹ç‘£çš„éƒ¨åˆ†ç­‰ç­‰ã€‚åªä¸éæ–°æ‰‹å¾ˆå®¹æ˜“åœç•™åœ¨å¯«å‡ºç¨‹å¼çš„å–œæ‚…ä»¥åŠå—åˆ°å›ºæœ‰çš„è§£é¡Œæ€è€ƒï¼Œè€Œå¿½ç•¥å„ªåŒ–çš„éç¨‹ã€‚ é€éã€ŒCode Reviewã€æ˜¯æ¨è–¦æ–°æ‰‹çš„æ–¹æ³•ï¼Œç¶“ç”±åé¥‹èˆ‡è¨è«–ä¾†æ‰¾å‡ºç¨‹å¼ä¸­å¯å„ªåŒ–çš„ç©ºé–“ã€‚ ","date":"2021-03-04","objectID":"/posts/codereview/:1:0","tags":["codereview"],"title":"Code Review æ€éº¼åšï¼Ÿæ–°æ‰‹å·¥ç¨‹å¸«å¦‚ä½•æå‡ã€Œç¨‹å¼ç¢¼å“è³ªã€","uri":"/posts/codereview/"},{"categories":["Memo"],"content":"Code Review çš„é—œæ³¨é» ä»¥æˆ‘è‡ªå·±çš„ç¶“é©—ä¾†èªªï¼ŒReview ä¸€ä»½å°ˆæ¡ˆçš„æ™‚å€™æœƒé—œæ³¨ï¼š ç¨‹å¼èƒ½ä¸èƒ½æ­£å¸¸æ“ä½œï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ˜æ˜¾çš„é”™è¯¯ï¼Ÿï¼ˆä½æ¨™ï¼‰ ç¨‹å¼ç¢¼ç•¶ä¸­æœ‰æ²’æœ‰å¥‡æ€ªçš„åœ°æ–¹ï¼Ÿï¼ˆå„ªåŒ–ï¼‰ ç¬¬ä¸€å€‹é—œæ³¨é»æ˜¯ç¨‹å¼ç¢¼çš„ä½æ¨™ï¼Œçµæœæ­£ç¢ºèˆ‡å¯æ­£å¸¸é‹è¡Œä¸€å®šæ˜¯æœ€é‡è¦çš„ã€‚å¦‚æœç¨‹å¼ç„¡æ³•é‹è¡Œå‹•æˆ–å­˜åœ¨å¾ˆæ˜é¡¯çš„å•é¡Œï¼Œé‚£å†å¤šçš„å„ªåŒ–éƒ½æ²’æœ‰æ„ç¾©ã€‚é™¤äº†ç¢ºä¿åŸ·è¡Œä¹‹å¤–ï¼ŒåŒæ™‚ä¹Ÿæœƒæª¢æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰ä½ç´šçš„é‚è¼¯å¤±èª¤æˆ–æ˜¯å®‰å…¨æ€§çš„ç–‘æ…®ï¼Œåƒæ˜¯è³‡æ–™åº«æ²’æœ‰æ­£ç¢ºé—œé–‰æˆ–å¯†ç¢¼æ˜ç¢¼æ²’æœ‰åŠ å¯†ä¹‹é¡çš„å•é¡Œã€‚ ç¬¬äºŒå€‹é—œæ³¨é»æ˜¯ã€Œç¨‹å¼ç¢¼å“è³ªæå‡ã€çš„éƒ¨åˆ†ï¼Œæˆ‘æœƒæŠŠå®ƒå®šç¾©æˆç¨‹å¼é‹ä½œä¸Šæ²’æœ‰å•é¡Œï¼Œä½†çœ‹èµ·ä¾†å¾ˆä¸èˆ’æœæˆ–åŸ·è¡Œæ•ˆç‡å¾ˆå·®çš„éƒ¨åˆ†ã€‚å¤§è‡´ä¸Šå¯ä»¥å¾ä»¥ä¸‹å¹¾é»ä¸‹æ‰‹ï¼š å‘½åæœ‰æ²’æœ‰æ„ç¾©/ä¸ä¸€è‡´ è³‡æ–™åº«çš„æ­£è¦åŒ–æƒ…æ³ æ˜¯å¦å­˜åœ¨ç‰¹åˆ¥è¤‡é›œçš„ç¨‹å¼ç‰‡æ®µï¼ˆä¾‹å¦‚å¤šæ¬¡çš„è³‡æ–™åº«æŸ¥è©¢ã€å¤šå±¤çš„è¿´åœˆä½¿ç”¨ï¼‰ é‡è¤‡çš„ç¨‹å¼ç¢¼æœ‰æ²’æœ‰å®šç¾©æˆ function å†—é•·çš„ç¨‹å¼ç¢¼èƒ½ä¸èƒ½æ‹†åˆ†æˆ function ä¸éä¸€æ¬¡çš„ Code Review å»ºè­°è‘—é‡åœ¨ 3 - 5 å€‹å„ªåŒ–åœ°æ–¹ï¼Œæ¯”è¼ƒå®¹æ˜“èšç„¦åœ¨å„ªåŒ–çš„å“è³ªã€‚æ ¹æ“šæ™‚ç¨‹çš„å£“åŠ›ï¼Œæ±ºå®š Code Review è¿­ä»£çš„æ¬¡æ•¸ã€‚ ","date":"2021-03-04","objectID":"/posts/codereview/:2:0","tags":["codereview"],"title":"Code Review æ€éº¼åšï¼Ÿæ–°æ‰‹å·¥ç¨‹å¸«å¦‚ä½•æå‡ã€Œç¨‹å¼ç¢¼å“è³ªã€","uri":"/posts/codereview/"},{"categories":["Memo"],"content":"å¾æ¶æ§‹çš„è¦åŠƒåˆ°ç´°ç¯€çš„å„ªåŒ– åœ¨æ‹¿åˆ°ä¸€ä»½ç¨‹å¼ç¢¼æ™‚ï¼Œé€šå¸¸æœƒå…ˆæƒéä¸€çœ¼ç¨‹å¼çš„æª”æ¡ˆçµæ§‹ï¼Œæ˜¯å¦æœ‰ä¸è©²ä¸Šå‚³çš„æª”æ¡ˆæˆ–ç¼ºæ¼ã€‚ ä»¥é€™å€‹ä¾‹å­ä¾†èªªï¼Œç¬¬ä¸€çœ¼æœƒè¦ºå¾—æª”æ¡ˆé…ç½®è »çµæ§‹åŒ–çš„ã€‚ä½†å†å¤šçœ‹ä¸€é»æœƒç™¼ç¾å­˜åœ¨å¹¾å€‹å†—é¤˜çš„æª”æ¡ˆï¼Œä¾‹å¦‚ï¼š-filesqqqqã€diffï¼Œç”šè‡³ /icon è³‡æ–™å¤¾ä¹Ÿä¸è©²æ”¾åœ¨æœ€ä¸Šå±¤ã€‚ é€²å…¥ç¨‹å¼çš„ç¬¬ä¸€æ­¥å…ˆå¾ package.json æª”æ¡ˆé–‹å§‹ï¼Œç¢ºèªä¸€ä¸‹å°ˆæ¡ˆçš„åŸºæœ¬è³‡è¨Šæ˜¯å¦å®Œæ•´ã€ä½¿ç”¨åˆ°çš„å¥—ä»¶èˆ‡ç‰ˆæœ¬ï¼Œä»¥åŠç¨‹å¼çš„é€²å…¥é»æ˜¯ä»€éº¼ã€‚ç„¶å¾Œæ‰“é–‹é€²å…¥é»çš„æª”æ¡ˆï¼ˆé€šå¸¸æœƒå‘½åæˆ app æˆ– mainï¼‰ï¼Œé€šå¸¸æœ‰å¹¾å€‹é»éœ€è¦æ³¨æ„ï¼šã€Œå¥—ä»¶çš„è¼‰å…¥é †åºã€æœƒå»ºè­°å¾ç¬¬ä¸‰æ–¹å¥—ä»¶ â†’ è‡ªå®šç¾©çš„æ¨¡çµ„ â†’ ç¨‹å¼å…§çš„è®Šæ•¸é€™æ¨£é †åºå®šç¾©ï¼›ã€Œå–„ç”¨ MVC çš„æ¶æ§‹ã€å°‡éä¸»ç¨‹å¼çš„éƒ¨åˆ†ä¾ç…§åŠŸèƒ½æ‹†åˆ†æ¨¡çµ„ï¼Œé¿å…æª”æ¡ˆè³‡è¨Šé‡å¤ªé›œäº‚ã€‚æ¥è‘—å°±æœƒå¾ Router â†’ Controller â†’ Service â†’ View çš„æµç¨‹ä¸€å€‹ä¸€å€‹åŠŸèƒ½ï¼Œä»¥ä¸‹åˆ†äº«ä¸€äº›å­˜åœ¨å„ªåŒ–ç©ºé–“çš„ç¨‹å¼ç¢¼ï¼š å–„ç”¨å·¥å…·ï¼Œå·²æœ‰çš„å·¥å…·ï¼Œä¸ç”¨è‡ªå·±æ‰‹åˆ» è®Šæ•¸åç¨±ä¸å»ºè­°ç”¨å¤§å¯«é–‹é ­ï¼ˆé€šå¸¸æ˜¯ç”¨åœ¨ Class çš„å‘½åï¼‰ ä¿æŒå„ªåŒ–çš„ç©ºé–“èˆ‡å½ˆæ€§ ã€Œå„ªåŒ–å…¶å¯¦æ˜¯ä¸€ç¨®å–æ¨ã€ï¼Œä¸éœ€è¦ä¹Ÿä¸æ‡‰è©²è¿½æ±‚ä¸€æ­¥åˆ°ä½ã€‚é–‹ç™¼å¾€å¾€éƒ½æ˜¯åœ¨å“è³ªè·Ÿç”¢å‡ºåšå–æ¨ï¼ŒåˆæœŸå¯ä»¥æŠŠé–‹ç™¼ç›®æ¨™æ”¾åœ¨ã€Œå…ˆæ±‚å¯ä»¥å‹•ï¼Œå†æ±‚æŒçºŒå„ªåŒ–ã€çš„ç¯€å¥ä¸Šã€‚æ–°æ‰‹éœ€è¦åœ¨æ„çš„é»æœ‰å¹¾ä¸‹å…©é»ï¼š å¾ˆå®¹æ˜“æŠŠé‡é»å…¨éƒ¨æ”¾åœ¨ç¨‹å¼ç¢¼çš„ç”¢å‡ºä¸Šè€Œå¿½ç•¥çš„ç¨‹å¼ç¢¼çš„å“è³ªã€‚ åœç•™åœ¨åšå‡ºæˆæœçš„å–œæ‚…ï¼Œè€Œåœæ»¯äº†å„ªåŒ–çš„æ­¥èª¿ã€‚ å› æ­¤ï¼Œæœƒå»ºè­°åœ¨é–‹ç™¼ç•¶ä¸‹å°±ã€Œå¤šæƒ³ã€å…©ç§’é˜ï¼Œæ„Ÿè¦ºå¯å„ªåŒ–ä½†ä¾†ä¸åŠçš„éƒ¨åˆ†å…ˆåœ¨æ—é‚ŠåŠ å€‹è¨»è§£æé†’è‡ªå·±ã€‚å¦å¤–ä¹Ÿé¤Šæˆä¸€æ®µæ™‚é–“å›é ­çœ‹ä¹‹å‰çš„ç¨‹å¼ç¢¼çš„ç¿’æ…£ï¼Œè©¦è‘—åˆ»æ„æ‰¾å‡ºå¯ä»¥å„ªåŒ–æ”¹é€²çš„éƒ¨åˆ†ã€‚å°ˆæ¡ˆçš„æäº¤å¯èƒ½æœƒæœ‰æœŸé™ï¼Œä½†ç¨‹å¼ç¢¼çš„å„ªåŒ–æ²’æœ‰ç›¡é ­ã€‚é¢å°ç›¸åŒçš„å°ˆæ¡ˆèˆ‡ç¨‹å¼ç¢¼ï¼Œå”¯æœ‰é€éä¸åœçš„è¿­ä»£å„ªåŒ–æ‰èƒ½æ‰“é€ æ›´å¥½çš„ç¨‹å¼ï¼ŒåŒæ™‚ä¹Ÿè¦‹è­‰äº†ä½ å’Œç¨‹å¼ä¸€èµ·è®Šå¾—æ›´å¥½çš„éç¨‹ã€‚æ‰€ä»¥å»ºç«‹é€æ­¥å„ªåŒ–çš„ç©ºé–“ï¼Œé¤ŠæˆæŒçºŒæå‡ç¨‹å¼ç¢¼å“è³ªçš„ç¿’æ…£ï¼Œæ‰æ˜¯ä¸€å€‹æ–°æ‰‹å·¥ç¨‹å¸«éœ€è¦ä¿®ç…‰çš„å¿ƒæ³•ã€‚ ","date":"2021-03-04","objectID":"/posts/codereview/:3:0","tags":["codereview"],"title":"Code Review æ€éº¼åšï¼Ÿæ–°æ‰‹å·¥ç¨‹å¸«å¦‚ä½•æå‡ã€Œç¨‹å¼ç¢¼å“è³ªã€","uri":"/posts/codereview/"},{"categories":["Projects","çæŠ˜è…¾"],"content":"èµ·å›  èµ·å›  äº‹æƒ…æ˜¯é€™æ¨£ï¼Œå¹´å‰å’Œæœ‹å‹ä¸€èµ·åˆç§Ÿäº†ä¸€å€‹æˆ¿å­ï¼Œç„¶å¾Œæï¼Œç”Ÿæ´»å˜›ï¼Œé™¤äº†é–‹å¿ƒï¼Œç•¶ç„¶æ˜¯ä¹¾é£¯æœ€å¤§å•¦ï¼ è‡ªç„¶å°±æœƒæœ‰è³¼ç‰©ï¼Œè²·èœç­‰æ—¥å¸¸æ¶ˆè²»ï¼Œé‚£å°±è¦è¨˜è³¬ï¼Œä¸€é–‹å§‹æ˜¯å„è‡ªè¨˜åœ¨æ‰‹æ©Ÿçš„ä¾¿ç°½ä¸Šï¼Œæœ€å¾Œå†ç®—ä¸€ä¸‹ï¼› ä¸‰å€‹äººï¼Œä¸€å…±ä¸ƒç§çµ„åˆæ¶ˆè²»ï¼Œæ’é™¤å„è‡ªæ¶ˆè²»çš„ä¸‰ç¨®æƒ…æ³ï¼Œä¹Ÿæœ‰å››ç¨® (AB, AC, BC, ABC)ã€‚å¥½éº»ç…©å•Šï¼ï¼ï¼ ","date":"2021-03-02","objectID":"/projects/bill-note/:1:0","tags":["JavaScript","leancloud","Vue"],"title":"åŸºäº leancloud-storage å®ç°çš„æ— åç«¯è®°è´¦æœ¬","uri":"/projects/bill-note/"},{"categories":["Projects","çæŠ˜è…¾"],"content":"ç¶“é ä½œç‚ºä¸€å€‹ç¨‹åºçŒ¿ï¼Œæ€éº¼èƒ½æ¥å—é€™éº¼éº»ç…©çš„è¨˜è³¬æ–¹å¼å‘¢ï¼Œæ‹¿èµ·ç­†å°±é–‹å§‹ç•«ï¼Œæ–¼æ˜¯æœ‰äº†ä¸‹é¢é€™å¼µåœ–çš„å…¬å¼ã€‚ç°¡å–®èªªæ˜ä¸€ä¸‹å°±æ˜¯ï¼š è¨­å‰é¢èªªçš„å››ç¨®çµ„åˆç‚ºï¼šX1, X2, X3, X4ï¼Œå€‹äººå¯¦éš›ä»˜æ¬¾ç¸½é¡ç‚ºï¼šY1, Y2, Y3ï¼Œé‚£éº¼å¸¶å…¥æœªçŸ¥æ•¸ï¼Œæˆ‘å€‘å°±å¯ä»¥ç®—å‡ºæ¯å€‹äººæœ€å¾Œçµç®—æ™‚çš„éŒ¢ï¼šS1, S2, S3ï¼Œ ç¶œä¸Šæ‰€è¿°ï¼Œå¾ˆå¥½ç†è§£ï¼Œç•¶ S \u003e= 0 æ™‚ï¼Œæ”¶ç´…åŒ…ï¼Œç•¶ S \u003c 0 æ™‚ï¼Œç™¼ç´…åŒ…ã€‚ OKï¼Œä¸€å€‹ç°¡å–®çš„åˆä¸­æ–¹ç¨‹å¼å·²ç¶“åˆ°ä½äº†ï¼Œä¸‹ä¸€æ­¥ï¼Œæ€è€ƒä¸€ä¸‹ï¼Œç”¨ä»€éº¼ä¾†é‹ä½œé€™å€‹é€™å€‹æ–¹ç¨‹ã€‚ä¾†ï¼Œå…ˆè·‘å€‹é¡Œï¼Œæ˜¥ç¯€æœŸé–“ï¼Œä¸æ˜¯æ¯å¤©éƒ½è¦åœ¨é¨°è¨Šæ–‡æª”ä¸Šå¡«è¡¨è¨˜éŒ„æ´»å‹•è»Œè·¡å—ï¼Ÿ å†å›ä¾†ï¼Œé‚£ä¸å¦‚å°±ç”¨ excel å¯¦ç¾å§ï¼Œä¸‰å€‹äººéƒ½å¯ä»¥åœ¨æ‰‹æ©Ÿä¸Šç·¨è¼¯ã€‚å¥½çš„ï¼Œèªªåšå°±åšã€‚ ä¸€é “æ“ä½œï¼Œ10 minutes laterâ€¦ åªæ–°å»ºäº†ä¸€å€‹ excel æ–‡ä»¶ï¼ŒO.o! ä¸æœƒ excelï¼Œæœæ–·æ”¾æ£„ï¼Œå¦å°‹ä»–è·¯ã€‚ ","date":"2021-03-02","objectID":"/projects/bill-note/:2:0","tags":["JavaScript","leancloud","Vue"],"title":"åŸºäº leancloud-storage å®ç°çš„æ— åç«¯è®°è´¦æœ¬","uri":"/projects/bill-note/"},{"categories":["Projects","çæŠ˜è…¾"],"content":"çµæœ å›åˆ°æœ¬è·ï¼Œé‚£ä¸å¦‚å¯«å€‹ç¶²ç«™å§ï¼Œå¯æ˜¯ç•¢æ¥­å¾Œï¼Œå­¸ç”Ÿæ©Ÿæœå‹™å™¨ä¹ŸéæœŸäº†ï¼Œæ€éº¼æï¼Ÿé‚£å°±å¯«å€‹ç´”å‰ç«¯çš„ï¼Œæ•¸æ“šå‘¢å­˜å“ªè£¡ï¼Ÿ åˆ¥æ€¥ï¼Œé‡æ–°æ“¼ä¸€æ“¼éœ€æ±‚å…ˆï¼š å­˜å–æ¶ˆè²»æ•¸æ“š è¨ˆç®—æ¯æœˆï¼Œå¯¦ä»˜ï¼ˆç¸½åˆ†ï¼‰ï¼Œæ‡‰ä»˜ä»¥åŠæœ€å¾Œè¨ˆç®—çµç®—é‡‘é¡ æŒ‰æœˆæŸ¥è©¢ï¼Œæœˆçµè³¬å–® ä¸‰äººçš†å¯ç·¨è¼¯ ä¸»è¦å°±æ˜¯å­˜å–æ•¸æ“šé€™é»ï¼Œæ²’æœ‰æœå‹™å™¨ï¼Œæ•¸æ“šåº«æ€éº¼å¯¦ç¾ï¼Ÿ valine å¯ä»¥å¯¦ç¾ç„¡å¾Œç«¯ï¼Œé‚£æˆ‘æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ï¼Œleancloud æ–‡æª”èµ°ä¸€æ³¢ï¼Œç„¶å¾Œâ€œæ•¸æ“šè¡¨â€è¨­è¨ˆä¸€ä¸‹ï¼Œå…¶å¯¦æ˜¯ leancloud-storage Object ï¼Œæ–¼æ˜¯æœ‰äº†ä»¥ä¸‹æ±è¥¿ï¼Œæºç¢¼æ”¾åœ¨ Github bill-note http://github.com/Lruihao/bill-note ","date":"2021-03-02","objectID":"/projects/bill-note/:3:0","tags":["JavaScript","leancloud","Vue"],"title":"åŸºäº leancloud-storage å®ç°çš„æ— åç«¯è®°è´¦æœ¬","uri":"/projects/bill-note/"},{"categories":["Projects","çæŠ˜è…¾"],"content":"æ•¸æ“šè¨­è¨ˆ å» leancloud åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œå†æ–°å¢ä¸€ä¸ª Bill Class, è¡¥å……ä¸€ä¸‹å­—æ®µï¼š name type description pay Number æ¶ˆè´¹é‡‘é¢ pay_description String æ¶ˆè´¹æè¿° pay_type String æ¶ˆè´¹ç±»å‹ pay_user String ä»˜æ¬¾äºº ","date":"2021-03-02","objectID":"/projects/bill-note/:3:1","tags":["JavaScript","leancloud","Vue"],"title":"åŸºäº leancloud-storage å®ç°çš„æ— åç«¯è®°è´¦æœ¬","uri":"/projects/bill-note/"},{"categories":["Projects","çæŠ˜è…¾"],"content":"ä¸»è¦é‚è¼¯ åˆå§‹åŒ– set for yourself. AV.init({ appId: '', appKey: '', serverURL: '' }); å­˜æ•¸æ“š //è¨˜è³¬æäº¤æŒ‰éˆ•äº‹ä»¶ç›£è½ document.querySelector('.submit').addEventListener('click', function (event) { event.preventDefault(); let formPay = document.querySelector('#form-pay'); let bill = new AV.Object('Bill'); bill.set('pay', Number(formPay.pay.value)); bill.set('pay_type', Number(formPay.pay_type.value)); bill.set('pay_user', Number(formPay.pay_user.value)); bill.set('pay_description', formPay.pay_description.value); bill.save().then( (object) =\u003e { formPay.reset(); }, function (error) { console.log(JSON.stringify(error)); alert('ä¿å­˜å¤±æ•—'); } ); }); å–æ•¸æ“š /** * ç²å–æ­·å²æ¶ˆè²»è¨˜éŒ„æ•¸æ“š * @param [start=0] é–‹å§‹ä½ç½® * @param [count=15] æ¯æ¬¡æŸ¥è©¢ç­†æ•¸ */ function getBillData(start = 0, count = 15) { queryBill .descending('createdAt') .skip(start * count) .limit(count) .find() .then(function (response) { let billLength = response.length; if (billLength \u003e 0) { billVm.noMore = billLength !== count ? true : false; for (bill of response) { billVm.bills.push({ pay: bill.attributes.pay, payType: payType[bill.attributes.pay_type], payUser: payUser[bill.attributes.pay_user], payDescription: bill.attributes.pay_description, payDt: new Date(bill.createdAt).toLocaleString() }); } } else { billVm.noMore = true; } }); } /** * ç²å–æœˆè³¬å–®æ•¸æ“š * @param month å¹´æœˆä»½ fmt: yyyy-MM */ function getMonthBill(month) { let dateTime = `${month} 00:00:00`; let startMonth = new Date(dateTime); let nextMonth = new Date(new Date(dateTime).setMonth(startMonth.getMonth() + 1)); let startDateQuery = new AV.Query('Bill'); startDateQuery.greaterThanOrEqualTo('createdAt', startMonth); let endDateQuery = new AV.Query('Bill'); endDateQuery.lessThan('createdAt', nextMonth); let MonthBillQuery = AV.Query.and(startDateQuery, endDateQuery); MonthBillQuery.find().then(function (response) { billVm.monthBill = { payType0: 0, payType1: 0, payType2: 0, payType3: 0, payUser0: 0, payUser1: 0, payUser2: 0 }; for (bill of response) { let { pay, pay_type, pay_user } = bill.attributes; billVm.monthBill[`payType${pay_type}`] += pay; billVm.monthBill[`payUser${pay_user}`] += pay; } }); } ","date":"2021-03-02","objectID":"/projects/bill-note/:3:2","tags":["JavaScript","leancloud","Vue"],"title":"åŸºäº leancloud-storage å®ç°çš„æ— åç«¯è®°è´¦æœ¬","uri":"/projects/bill-note/"},{"categories":["Projects","çæŠ˜è…¾"],"content":"æŠ€è¡“æ£§ leancloud-storage Vue.js HTML,CSS,JS ","date":"2021-03-02","objectID":"/projects/bill-note/:3:3","tags":["JavaScript","leancloud","Vue"],"title":"åŸºäº leancloud-storage å®ç°çš„æ— åç«¯è®°è´¦æœ¬","uri":"/projects/bill-note/"},{"categories":["Projects","çæŠ˜è…¾"],"content":"ç¸½çµ ç°¡å–®ç¸½çµä¸€ä¸‹ï¼Œç™»å½•åŠŸèƒ½ä¸åšï¼Œå®‰ä¸å®‰å…¨è‡ªå·±è¯´äº†ç®—ã€‚åˆ é™¤ä¿®æ”¹åŠŸèƒ½ä¹Ÿä¸åšï¼Œç›´æ¥ä¸Š leancloud æ“ä½œï¼Œcss ç¾åŒ–çš„æ ·å¼ä¹Ÿä¸å†™ï¼Œå¹²å‡€åˆå«ç”Ÿï¼ ç„¶åè¡ç”Ÿä¸€ä¸‹ï¼Œä»€ä¹ˆè¿‡å¹´æ–—åœ°ä¸»ï¼Œå¤©ç‚¸ï¼Œéº»å°†ï¼Œå­—ç‰Œè®°è´¦ç³»ç»Ÿé‚£ä¸ä¹Ÿæ˜¯åŒç†å¯å¾—å˜›ï¼ over! æ•ˆæœ ","date":"2021-03-02","objectID":"/projects/bill-note/:4:0","tags":["JavaScript","leancloud","Vue"],"title":"åŸºäº leancloud-storage å®ç°çš„æ— åç«¯è®°è´¦æœ¬","uri":"/projects/bill-note/"},{"categories":["Projects"],"content":" åŸºäº Laravel7 å¼€å‘ï¼ŒMarkdown è¯­æ³•çš„ä¸ªäººç‹¬ç«‹åšå®¢ã€‚Cell Blog, ä¹Ÿæ˜¯æˆ‘çš„æ¯•ä¸šè®¾è®¡ä½œå“ï¼Œç›®å‰å·²é–‹æºã€‚ ","date":"2020-07-25","objectID":"/projects/cell-blog/:0:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog åŠŸèƒ½ä»‹ç»ä¸å®‰è£…","uri":"/projects/cell-blog/"},{"categories":["Projects"],"content":"åŠŸèƒ½ æ”¯æŒ Markdown, æ–‡ç« å®æ—¶é¢„è§ˆæ•ˆæœ æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ä»£ç é«˜äº® ç¼–è¾‘å™¨å›¾ç‰‡ä¸Šä¼  åå°ä¸Šä¼ æ–‡ä»¶ç®¡ç† æ–‡ç« æœç´¢ æ–‡ç« åˆ†ç±» æ–‡ç« æ ‡ç­¾ çƒ­é—¨æ–‡ç«  éšæœºæ ¼è¨€ æ–‡ç« ç®¡ç†ï¼ˆå‘å¸ƒï¼Œè¯„è®ºå¼€å…³ï¼Œæ’åºï¼‰ è‡ªå®šä¹‰å¯¼èˆªï¼ˆæ˜¾ç¤ºå¼€å…³ï¼Œæ’åºï¼‰ è‡ªå®šä¹‰é¡µé¢ï¼ˆå‘å¸ƒå¼€å…³ï¼‰ å‹æƒ…é“¾æ¥ï¼ˆæ˜¾ç¤ºå¼€å…³ï¼Œæ’åºï¼‰ COS æ¡¶ç›¸å†Œ ä¸°å¯Œçš„åšå®¢é…ç½®ï¼ˆæ–¹ä¾¿æ‰©å±•ï¼Œæ”¯æŒè‡ªå®šä¹‰ JS è„šæœ¬ï¼‰ ä¸è’œå­è®¡æ•° Leancloud è®¡æ•° Valine è¯„è®ºæ’ä»¶ æ–‡ç« åˆ†äº«æ’ä»¶ ","date":"2020-07-25","objectID":"/projects/cell-blog/:1:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog åŠŸèƒ½ä»‹ç»ä¸å®‰è£…","uri":"/projects/cell-blog/"},{"categories":["Projects"],"content":"æˆªå›¾ ","date":"2020-07-25","objectID":"/projects/cell-blog/:2:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog åŠŸèƒ½ä»‹ç»ä¸å®‰è£…","uri":"/projects/cell-blog/"},{"categories":["Projects"],"content":"å®‰è£… æ³¨æ„äº‹é¡¹ï¼šPHP å–æ¶ˆç¦ç”¨å‡½æ•°putenv()å’Œsymlink()ï¼Œå®‰è£…fileinfoæ‰©å±•ã€‚ ä¸‹è½½ git clone https://github.com/Lruihao/cell-blog.git è¿›å…¥ç«™ç‚¹ cd cell-blog ç”Ÿæˆã€‚env cp .env.example .env ç¼–è¾‘ã€‚env ç¯å¢ƒé…ç½® APP_URL=http://localhost #ä½¿ç”¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨æ–‡ä»¶æ—¶ï¼Œå¿…é¡»å¡«å†™æ­£ç¡®åœ°å€ APP_DEBUG=false #å…³é—­è°ƒè¯• DB_HOST= #æ•°æ®åº“åœ°å€ DB_PORT=3306 #æ•°æ®åº“ç«¯å£ DB_DATABASE= #æ•°æ®åº“åç§° DB_USERNAME= #æ•°æ®åº“ç”¨æˆ· DB_PASSWORD= #æ•°æ®åº“å¯†ç  æ‰“å¼€app\\Providers\\AppServiceProvider.php, æ³¨é‡ŠSystemController:load() é˜²æ­¢åç»­æ­¥éª¤æŠ¥é”™ public function boot() { Schema::defaultStringLength(191); //SystemController::load(); } å®‰è£…é¡¹ç›®ä¾èµ– composer install ç”Ÿæˆ key php artisan key:generate è¿è¡Œæ•°æ®è¿ç§»å’Œåå°æ•°æ®å¡«å…… php artisan admin:installå·²åŒ…å«æ•°æ®è¿ç§»å‘½ä»¤php artisan migrate G:\\cell-blog\\app\\Admin directory already exists !æ— éœ€ç†ä¼šï¼Œç»§ç»­æ‰§è¡Œå‰©ä¸‹å‘½ä»¤å³å¯ã€‚ php artisan admin:install php artisan admin:import media-manager php artisan db:seed é»˜è®¤ä¸‹ä½¿ç”¨äº†æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ›å»º storage ç›®å½•åœ¨ public çš„è½¯é“¾æ¥ php artisan storage:link æ‰“å¼€app\\Providers\\AppServiceProvider.php, å–æ¶ˆæ³¨é‡ŠSystemController:load() public function boot() { Schema::defaultStringLength(191); SystemController::load(); } å°†åšå®¢ç½‘ç«™æ ¹ç›®å½•æŒ‡å‘å…¥å£ public ç›®å½• å¦‚æœä½¿ç”¨ Nginxï¼Œè¦è®¾ç½®ä¼ªé™æ€ location / { try_files $uri $uri/ /index.php?$query_string; } å¯åŠ¨æœåŠ¡åï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€http://localhost/admin/, ä½¿ç”¨ç”¨æˆ·åadminå’Œå¯†ç adminç™»å½•ã€‚ ","date":"2020-07-25","objectID":"/projects/cell-blog/:3:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog åŠŸèƒ½ä»‹ç»ä¸å®‰è£…","uri":"/projects/cell-blog/"},{"categories":["Projects"],"content":"License Cell Blog is open-sourced software licensed under the MIT license. ","date":"2020-07-25","objectID":"/projects/cell-blog/:4:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog åŠŸèƒ½ä»‹ç»ä¸å®‰è£…","uri":"/projects/cell-blog/"},{"categories":["Memo"],"content":" Cell Blog å¼€å‘è®°å½•ï¼Œé¡¹ç›®åœ°å€ ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:0:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"æ­å»º php ç¯å¢ƒ å®‰è£… wampserver å®‰è£… composer æ›´æ¢ aliyun æº composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/ ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:1:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"æ–°å»º laravel é¡¹ç›® composer create-project --prefer-dist laravel/laravel cell-blog \"7.*\" æˆ–è€… composer global require laravel/installer laravel new blog ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:2:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"ä¸‹è½½ debugbar composer require barryvdh/laravel-debugbar --dev ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:3:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"ä¿®æ”¹è¯­è¨€æ—¶åŒº ä¿®æ”¹ config/app.phpï¼Œå°† local çš„å€¼ en æ”¹æˆ zh-CN(laravel-admin è‡ªå¸¦ zh-CN)ï¼š ## æ—¶åŒº 'timezone' =\u003e 'Asia/Shanghai', ## è¯­è¨€ 'locale' =\u003e 'zh-CN', ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:4:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"é…ç½®æ•°æ®åº“ é¦–å…ˆç¡®ä¿å®‰è£…å¥½äº† laravelï¼Œå¹¶ä¸”æ•°æ®åº“è¿æ¥è®¾ç½®æ­£ç¡®ã€‚ APP_URL=http://cell.blog DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3307 DB_DATABASE=cell_blog DB_USERNAME=root DB_PASSWORD=123456 ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:5:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"ä¸‹è½½ laravel-admin cd cell-blog composer require encore/laravel-admin å¸è½½å‘½ä»¤composer remove xxx ç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å‘å¸ƒèµ„æºï¼š php artisan vendor:publish --provider=\"Encore\\Admin\\AdminServiceProvider\" åœ¨è¯¥å‘½ä»¤ä¼šç”Ÿæˆé…ç½®æ–‡ä»¶config/admin.phpï¼Œå¯ä»¥åœ¨é‡Œé¢ä¿®æ”¹å®‰è£…çš„åœ°å€ã€æ•°æ®åº“è¿æ¥ã€ä»¥åŠè¡¨åï¼Œå»ºè®®éƒ½æ˜¯ç”¨é»˜è®¤é…ç½®ä¸ä¿®æ”¹ã€‚ ç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤å®Œæˆå®‰è£…ï¼š php artisan admin:install è¿è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°äº†ä¸‹é¢çš„é”™è¯¯ï¼š SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was too long; max key length is 1000 bytes (SQL: alter tableusersadd uniqueusers_email_unique(email)) å‚è€ƒè¿™ä¸ª issue æ¥è§£å†³ https://github.com/z-song/laravel-admin/issues/1541 åœ¨app\\Providers\\AppServiceProvider.phpæ·»åŠ é»˜è®¤å€¼ \u003c?php namespace App\\Providers; use Illuminate\\Support\\ServiceProvider; use Illuminate\\Support\\Facades\\Schema; //add fixed sql class AppServiceProvider extends ServiceProvider { /** * Bootstrap any application services. * * @return void */ public function boot() { Schema::defaultStringLength(191); //add fixed sql } /** * Register any application services. * * @return void */ public function register() { // } } å¯åŠ¨æœåŠ¡åï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ http://localhost/admin/ , ä½¿ç”¨ç”¨æˆ·å admin å’Œå¯†ç  admin ç™»å½•ã€‚ æŠ¥é”™Disk [admin] not configured, please add a disk config in config/filesystems.php åœ¨config/filesystems.phpä¸­ disks å¤„æ·»åŠ ä»¥ä¸‹é…ç½®åæ‰§è¡Œphp artisan storage:linkæ¥åˆ›å»ºè½¯é“¾æ¥ï¼ˆwindows å’Œ linux çš„è½¯é“¾æ¥ä¸ä¸€æ ·ä¸èƒ½ç›´æ¥å¤åˆ¶ï¼ï¼‰ å®å¡”æ‰§è¡Œæ—¶åˆ é™¤ç¦ç”¨å‡½æ•° putenv(),symlink() 'admin' =\u003e [ 'driver' =\u003e 'local', 'root' =\u003e storage_path('app/public/system'), 'url' =\u003e env('APP_URL').'/storage/system', 'visibility' =\u003e 'public', ], æˆ– 'admin' =\u003e [ 'driver' =\u003e 'local', 'root' =\u003e public_path('uploads'), 'url' =\u003e env('APP_URL').'/public/uploads/', 'visibility' =\u003e 'public', ], ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:6:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"ä¸‹è½½ dcat-admin composer require dcat/laravel-admin ç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å‘å¸ƒèµ„æºï¼š php artisan admin:publish åœ¨è¯¥å‘½ä»¤ä¼šç”Ÿæˆé…ç½®æ–‡ä»¶config/admin.phpï¼Œå¯ä»¥åœ¨é‡Œé¢ä¿®æ”¹å®‰è£…çš„åœ°å€ã€æ•°æ®åº“è¿æ¥ã€ä»¥åŠè¡¨åï¼Œå»ºè®®éƒ½æ˜¯ç”¨é»˜è®¤é…ç½®ä¸ä¿®æ”¹ã€‚ ç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤å®Œæˆå®‰è£…ï¼š php artisan admin:install ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:7:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"è¿ç§»æ–‡ä»¶åˆ›å»ºè¡¨ php artisan make:migration create_articles_table php artisan make:migration create_tags_table php artisan make:migration create_categories_table php artisan make:migration create_article_tags_table php artisan make:migration create_navigations_table php artisan make:migration create_friendship_links_table php artisan make:migration create_pages_table php artisan make:migration create_systems_table php artisan make:migration create_mottoes_table è¿è¡Œè¿ç§» php artisan migrate ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:8:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"åˆ›å»ºæ¨¡å‹ model php artisan make:model Models/Article php artisan make:model Models/Category php artisan make:model Models/Tag php artisan make:model Models/Navigation php artisan make:model Models/FriendshipLink php artisan make:model Models/Page php artisan make:model Models/System php artisan make:model Models/Motto ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:9:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"åˆ›å»ºæ§åˆ¶å™¨ php artisan admin:make ArticleController --model=App\\Models\\Article php artisan admin:make CategoryController --model=App\\Models\\Category php artisan admin:make TagController --model=App\\Models\\Tag php artisan admin:make NavigationController --model=App\\Models\\Navigation php artisan admin:make FriendshipLinkController --model=App\\Models\\FriendshipLink php artisan admin:make PageController --model=App\\Models\\Page php artisan admin:make SystemController --model=App\\Models\\System php artisan admin:make MottoController --model=App\\Models\\Motto ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:10:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"æ·»åŠ åå°è·¯ç”± app/Admin/routes.php $router-\u003eresource('articles', ArticleController::class); $router-\u003eresource('categories', CategoryController::class); $router-\u003eresource('tags', TagController::class); $router-\u003eresource('navigations', NavigationController::class); $router-\u003eresource('friendship-links', FriendshipLinkController::class); $router-\u003eresource('pages', PageController::class); $router-\u003eresource('systems', SystemController::class); $router-\u003eresource('mottoes', MottoController::class); ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:11:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"editormd å®‰è£… editormd github å›¾åƒé—®é¢˜ ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:12:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"å­˜æ”¾æœ¬åœ°è¡¨æƒ… public\\vendor\\laravel-admin-ext\\editormd\\editormd-1.5.0\\images\\emojis ä¿®æ”¹ editormd.js åŠ editormd.min.js // Emoji graphics files url path editormd.emoji = { path : \"/iamges/emojis/\", ext : \".png\" }; ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:12:1","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"å›¾ç‰‡ä¸Šä¼  csrf 419 é”™è¯¯ å¯ä»¥åœ¨VerifyCsrfToken.phpä¸­æ·»åŠ ç™½åå•è·³è¿‡éªŒè¯ï¼Œæˆ–è€…æ‰‹åŠ¨æ·»åŠ  csrf éªŒè¯å™¨ï¼š ä¿®æ”¹ image-dialog.js çš„var dialogContent å‚è€ƒ if (settings.crossDomainUpload) { action += \"\u0026callback=\" + settings.uploadCallbackURL + \"\u0026dialog_id=editormd-image-dialog-\" + guid; } //æ·»åŠ  csrf éªŒè¯ var csrfToken = $('meta[name=\"csrf-token\"]').attr('content'); var csrfField = \"\"; if (csrfToken) { csrfField = \"\u003cinput type='hidden' name='_token' value='\" + csrfToken + \"' /\u003e\"; } ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:12:2","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"markdown è½¬ HTML https://www.zhiqiexing.com/119.html Laravel Markdown å®‰è£… composer require graham-campbell/markdown php artisan vendor:publish æ‰©å±•è¡¨æ ¼ composer require league/commonmark config/markdown.php 'extensions' =\u003e [ League\\CommonMark\\Extension\\TaskList\\TaskListExtension::class, ], ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:13:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"Eloquent æ¨¡å‹äº‹ä»¶ Eloquent æ¨¡å‹å¯ä»¥è§¦å‘äº‹ä»¶ï¼Œå…è®¸ä½ åœ¨æ¨¡å‹ç”Ÿå‘½å‘¨æœŸä¸­çš„å¤šä¸ªæ—¶é—´ç‚¹è°ƒç”¨å¦‚ä¸‹è¿™äº›æ–¹æ³•ï¼šretrieved, creating, created, updating, updated, saving, saved, deleting, deleted, restoring, restoredã€‚äº‹ä»¶å…è®¸ä½ åœ¨ä¸€ä¸ªæŒ‡å®šæ¨¡å‹ç±»æ¯æ¬¡ä¿å­˜æˆ–æ›´æ–°çš„æ—¶å€™æ‰§è¡Œä»£ç ã€‚ retrieved äº‹ä»¶ä¼šåœ¨ä»æ•°æ®åº“ä¸­è·å–å·²å­˜åœ¨æ¨¡å‹æ—¶è§¦å‘ã€‚å½“ä¸€ä¸ªæ–°æ¨¡å‹è¢«é¦–æ¬¡ä¿å­˜çš„æ—¶å€™ï¼Œcreating å’Œ created äº‹ä»¶ä¼šè¢«è§¦å‘ã€‚å¦‚æœä¸€ä¸ªæ¨¡å‹å·²ç»åœ¨æ•°æ®åº“ä¸­å­˜åœ¨å¹¶è°ƒç”¨ save æ–¹æ³•ï¼Œupdating/updated äº‹ä»¶ä¼šè¢«è§¦å‘ï¼Œæ— è®ºæ˜¯åˆ›å»ºè¿˜æ˜¯æ›´æ–°ï¼Œsaving/saved äº‹ä»¶éƒ½ä¼šè¢«è§¦å‘ã€‚ ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:14:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"æ·»åŠ åå°éªŒè¯ç  ä¾èµ– php æ‰©å±•fileinfo æ·»åŠ éªŒè¯ç  ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:15:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"Media manager composer require laravel-admin-ext/media-manager php artisan admin:import media-manager â€™extensionsâ€™ =\u003e [ â€˜media-managerâ€™ =\u003e [ // Select a local disk that you configured in config/filesystem.php â€˜diskâ€™ =\u003e â€˜publicâ€™ ], ], ## ç»™ laravel-admin å¢åŠ é”å±åŠŸèƒ½ composer require laravel-admin-ext/lock-screen 'route' =\u003e [ 'prefix' =\u003e 'demo', 'namespace' =\u003e 'App\\\\Admin\\\\Controllers', // åœ¨ä¸­é—´ä»¶æ•°ç»„ä¸­åŠ ä¸Š'admin.lock' 'middleware' =\u003e ['web', 'admin', 'admin.lock'], ], ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:16:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"å‰å°è®¾è®¡ åˆ›å»ºæ§åˆ¶å™¨ php artisan make:controller HomeController php artisan make:controller ArticleController php artisan make:controller CategoryController php artisan make:controller TagController php artisan make:controller PageController ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:17:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["Memo"],"content":"åå° img ç¯ç®± https://github.com/laravel-admin-extensions/grid-lightbox composer require laravel-admin-ext/grid-lightbox php artisan vendor:publish --tag=laravel-admin-grid-lightbox ","date":"2020-07-25","objectID":"/posts/cell-blog-dev/:18:0","tags":["PHP","Laravel","Markdown"],"title":"cell-blog å¼€å‘è®°å½•","uri":"/posts/cell-blog-dev/"},{"categories":["çæŠ˜è…¾","Python"],"content":" ä½¿ç”¨ python æ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸ºåˆ· csdn è®¿é—®é‡ï¼Œè„šæœ¬ä»…åšå­¦ä¹ ï¼Œè¯·å‹¿æ»¥ç”¨~ ç›´æ¥ä¸¢ä»£ç ï¼ŒæŠŠä»£ç æŒ‚åˆ°æœåŠ¡å™¨ä¸Šå¯ä»¥ç­–é©¬å¥”è…¾~ï¼Œä¹Ÿå¯ä»¥ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶æ”¾åˆ° Windows æ¡Œé¢ä¸Šéšæ—¶ä½¿ç”¨~ æ‰“åŒ… exe å‚è€ƒ #!/usr/bin/python # -*- coding: utf-8 -*- __author__ = 'lruihao.cn' import urllib.request import re import time from bs4 import BeautifulSoup opener = urllib.request.build_opener() opener.addheaders = [('User-agent', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 UBrowser/4.0.3214.0 Safari/537.36')] def get_article_url(page,name): endurl = \"/\"+name+\"/article/details/........\" print(name) p = re.compile(endurl) url = \"http://blog.csdn.net/\"+name+\"/article/list/\"+str(page) # ä½¿ç”¨ build_opener() æ˜¯ä¸ºäº†è®© python ç¨‹åºæ¨¡ä»¿æµè§ˆå™¨è¿›è¡Œè®¿é—® html = opener.open(url).read().decode('utf-8') allfinds = p.findall(html) return allfinds #print('allfinds',allfinds) def start_do(allfinds): urlBase = \"http://blog.csdn.net\" # éœ€è¦å°†ç½‘å€åˆå¹¶çš„éƒ¨åˆ† # é¡µé¢ä¸­çš„ç½‘å€æœ‰é‡å¤çš„ï¼Œéœ€è¦ä½¿ç”¨ set è¿›è¡Œå»é‡å¤ mypages = list(set(allfinds)) for i in range(len(mypages)): mypages[i] = urlBase + mypages[i] print('è¦åˆ·çš„ç½‘é¡µæœ‰ï¼š') for index, page in enumerate(mypages): print(str(index), page) # è®¾ç½®æ¯ä¸ªç½‘é¡µè¦åˆ·çš„æ¬¡æ•° brushNum = 1 # æ‰€æœ‰çš„é¡µé¢éƒ½åˆ· print('ä¸‹é¢å¼€å§‹åˆ·äº†å“¦ï¼š') for index, page in enumerate(mypages): for j in range(brushNum): try: pageContent = opener.open(page).read().decode('utf-8') # ä½¿ç”¨ BeautifulSoup è§£ææ¯ç¯‡åšå®¢çš„æ ‡é¢˜ soup = BeautifulSoup(pageContent) blogTitle = str(soup.title.string) blogTitle = blogTitle[0:blogTitle.find('-')] print(str(j), blogTitle) except urllib.error.HTTPError: print('urllib.error.HTTPError') time.sleep(3) # å‡ºç°é”™è¯¯ï¼Œåœå‡ ç§’å…ˆ except urllib.error.URLError: print('urllib.error.URLError') time.sleep(3) # å‡ºç°é”™è¯¯ï¼Œåœå‡ ç§’å…ˆ time.sleep(0.5) # æ­£å¸¸åœé¡¿ï¼Œä»¥å…æœåŠ¡å™¨æ‹’ç»è®¿é—® def main(name): for page in range(1,5): print(\"************ç¬¬\"+str(page)+\"é¡µ*************\") endurl = get_article_url(page,name) start_do(endurl) if __name__ == '__main__': name = input(\"è¾“å…¥ä½ çš„ csdn ç”¨æˆ·åï¼š\") if name==\"\": name = \"qq_39520417\" #cheung99857 while 1: main(name) print(\"å¼€å§‹ä¼‘æ¯ ...\") time.sleep(40) ä¸»å‡½æ•°ä¹Ÿå¯ä»¥è¿™æ ·å†™å®ç°åŒæ—¶åˆ·å¤šäººçš„è®¿é—®é‡ï¼Œäººå¤šå¯ä»¥é€‚å½“å‡å°‘ä¼‘çœ æ—¶é—´ï¼Œå½“ç„¶æœ‰å…´è¶£çš„å¯ä»¥å°è¯•ä¸€ä¸‹å¤šçº¿ç¨‹~ if __name__ == '__main__': # å¤šç”¨æˆ· names = [\"qq_39520417\",\"cheung99857\"] while 1: for name in names: main(name) print(\"å¼€å§‹ä¼‘æ¯ ...\") # æ§åˆ¶ä¼‘çœ æ—¶é—´ç›¸å½“äºæ§åˆ¶åˆ·æ–°çš„é€Ÿåº¦ time.sleep(30) ","date":"2020-03-26","objectID":"/posts/csdnvisiter/:0:0","tags":["Python"],"title":"ä½¿ç”¨ Python åˆ· csdn è®¿é—®é‡","uri":"/posts/csdnvisiter/"},{"categories":["OS"],"content":"åŸºæœ¬è¯­æ³• \u003cç§’\u003e \u003cåˆ†é’Ÿ\u003e \u003cå°æ—¶\u003e \u003cæ—¥æœŸ day-of-month\u003e \u003cæœˆä»½\u003e \u003cæ˜ŸæœŸ day-of-week\u003e Cron è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå…·æœ‰æ—¶é—´å«ä¹‰çš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä»¥ 5 ä¸ªç©ºæ ¼éš”å¼€ï¼Œåˆ†ä¸º 6 ä¸ªåŸŸï¼Œæ ¼å¼ä¸º X X X X X Xã€‚å…¶ä¸­ X æ˜¯ä¸€ä¸ªåŸŸçš„å ä½ç¬¦ã€‚å•ä¸ªåŸŸæœ‰å¤šä¸ªå–å€¼æ—¶ï¼Œä½¿ç”¨åŠè§’é€—å·ï¼Œéš”å¼€å–å€¼ã€‚æ¯ä¸ªåŸŸå¯ä»¥æ˜¯ç¡®å®šçš„å–å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·æœ‰é€»è¾‘æ„ä¹‰çš„ç‰¹æ®Šå­—ç¬¦ã€‚ ","date":"2020-03-25","objectID":"/posts/cron/:1:0","tags":["linux","shell","Cron"],"title":"Cron è¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³•","uri":"/posts/cron/"},{"categories":["OS"],"content":"åŸŸå–å€¼ ä½ç½® å­—æ®µ çº¦æŸ å–å€¼ å¯ä½¿ç”¨çš„ç‰¹æ®Šç¬¦å· 1 ç§’ å¿…é¡» 0-59 , - * / 2 åˆ†é’Ÿ å¿…é¡» 0-59 , - * / 3 å°æ—¶ å¿…é¡» 0-23ï¼ˆ0 ä¸ºåˆå¤œï¼‰ , - * / 4 æ—¥æœŸ å¿…é¡» 1-31 , - * ? / L W 5 æœˆä»½ å¿…é¡» 1-12 æˆ–è€… JAN-DEC , - * / 6 æ˜ŸæœŸ å¿…é¡» 1-7 æˆ–è€… SUN-SAT (1 ä»£è¡¨æ˜ŸæœŸä¸€ï¼‰ , - ? / L # ","date":"2020-03-25","objectID":"/posts/cron/:2:0","tags":["linux","shell","Cron"],"title":"Cron è¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³•","uri":"/posts/cron/"},{"categories":["OS"],"content":"ç‰¹æ®Šç¬¦å· ç¬¦å· å«ä¹‰ ç¤ºä¾‹ * æ‰€æœ‰å¯èƒ½çš„å€¼ã€‚ åœ¨æœˆåŸŸä¸­ï¼Œ*è¡¨ç¤ºæ¯ä¸ªæœˆï¼›åœ¨æ˜ŸæœŸåŸŸä¸­ï¼Œ*è¡¨ç¤ºæ˜ŸæœŸçš„æ¯ä¸€å¤©ã€‚ , åˆ—å‡ºæšä¸¾å€¼ã€‚ åœ¨åˆ†é’ŸåŸŸä¸­ï¼Œ5,20è¡¨ç¤ºåˆ†åˆ«åœ¨ 5 åˆ†é’Ÿå’Œ 20 åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ã€‚ - èŒƒå›´ã€‚ åœ¨åˆ†é’ŸåŸŸä¸­ï¼Œ5-20è¡¨ç¤ºä» 5 åˆ†é’Ÿåˆ° 20 åˆ†é’Ÿä¹‹é—´æ¯éš”ä¸€åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ã€‚ / æŒ‡å®šæ•°å€¼çš„å¢é‡ã€‚ åœ¨åˆ†é’ŸåŸŸä¸­ï¼Œ0/15è¡¨ç¤ºä»ç¬¬ 0 åˆ†é’Ÿå¼€å§‹ï¼Œæ¯ 15 åˆ†é’Ÿã€‚åœ¨åˆ†é’ŸåŸŸä¸­3/20è¡¨ç¤ºä»ç¬¬ 3 åˆ†é’Ÿå¼€å§‹ï¼Œæ¯ 20 åˆ†é’Ÿã€‚*/ å’Œ 0/ ç›¸åŒ ? ä¸æŒ‡å®šå€¼ï¼Œä»…æ—¥æœŸå’Œæ˜ŸæœŸåŸŸæ”¯æŒè¯¥å­—ç¬¦ã€‚ å½“æ—¥æœŸæˆ–æ˜ŸæœŸåŸŸå…¶ä¸­ä¹‹ä¸€è¢«æŒ‡å®šäº†å€¼ä»¥åï¼Œä¸ºäº†é¿å…å†²çªï¼Œéœ€è¦å°†å¦ä¸€ä¸ªåŸŸçš„å€¼è®¾ä¸º?ã€‚ L å•è¯ Last çš„é¦–å­—æ¯ï¼Œè¡¨ç¤ºæœ€åä¸€å¤©ï¼Œä»…æ—¥æœŸå’Œæ˜ŸæœŸåŸŸæ”¯æŒè¯¥å­—ç¬¦ã€‚è¯´æ˜ æŒ‡å®šLå­—ç¬¦æ—¶ï¼Œé¿å…æŒ‡å®šåˆ—è¡¨æˆ–è€…èŒƒå›´ï¼Œå¦åˆ™ï¼Œä¼šå¯¼è‡´é€»è¾‘é—®é¢˜ã€‚ åœ¨æ—¥æœŸåŸŸä¸­ï¼ŒLè¡¨ç¤ºæŸä¸ªæœˆçš„æœ€åä¸€å¤©ã€‚åœ¨æ˜ŸæœŸåŸŸä¸­ï¼ŒLè¡¨ç¤ºä¸€ä¸ªæ˜ŸæœŸçš„æœ€åä¸€å¤©ï¼Œä¹Ÿå°±æ˜¯æ˜ŸæœŸæ—¥ï¼ˆSUNï¼‰ã€‚å¦‚æœåœ¨Lå‰æœ‰å…·ä½“çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼Œåœ¨æ˜ŸæœŸåŸŸä¸­çš„6Lè¡¨ç¤ºè¿™ä¸ªæœˆçš„æœ€åä¸€ä¸ªæ˜ŸæœŸå…­ã€‚ W é™¤å‘¨æœ«ä»¥å¤–çš„æœ‰æ•ˆå·¥ä½œæ—¥ï¼Œåœ¨ç¦»æŒ‡å®šæ—¥æœŸçš„æœ€è¿‘çš„æœ‰æ•ˆå·¥ä½œæ—¥è§¦å‘äº‹ä»¶ã€‚Wå­—ç¬¦å¯»æ‰¾æœ€è¿‘æœ‰æ•ˆå·¥ä½œæ—¥æ—¶ä¸ä¼šè·¨è¿‡å½“å‰æœˆä»½ï¼Œè¿ç”¨å­—ç¬¦LWæ—¶è¡¨ç¤ºä¸ºæŒ‡å®šæœˆä»½çš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥ã€‚ åœ¨æ—¥æœŸåŸŸä¸­5Wï¼Œå¦‚æœ 5 æ—¥æ˜¯æ˜ŸæœŸå…­ï¼Œåˆ™å°†åœ¨æœ€è¿‘çš„å·¥ä½œæ—¥æ˜ŸæœŸäº”ï¼Œå³ 4 æ—¥è§¦å‘ã€‚å¦‚æœ 5 æ—¥æ˜¯æ˜ŸæœŸå¤©ï¼Œåˆ™å°†åœ¨æœ€è¿‘çš„å·¥ä½œæ—¥æ˜ŸæœŸä¸€ï¼Œå³ 6 æ—¥è§¦å‘ï¼›å¦‚æœ 5 æ—¥åœ¨æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸäº”ä¸­çš„ä¸€å¤©ï¼Œåˆ™å°±åœ¨ 5 æ—¥è§¦å‘ã€‚ # ç¡®å®šæ¯ä¸ªæœˆç¬¬å‡ ä¸ªæ˜ŸæœŸå‡ ï¼Œä»…æ˜ŸæœŸåŸŸæ”¯æŒè¯¥å­—ç¬¦ã€‚ åœ¨æ˜ŸæœŸåŸŸä¸­ï¼Œ4#2è¡¨ç¤ºæŸæœˆçš„ç¬¬äºŒä¸ªæ˜ŸæœŸå››ã€‚ ","date":"2020-03-25","objectID":"/posts/cron/:3:0","tags":["linux","shell","Cron"],"title":"Cron è¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³•","uri":"/posts/cron/"},{"categories":["OS"],"content":"ä¸¾ä¸ªæ —å­ ğŸŒ° è¡¨è¾¾å¼ è¯´æ˜ 0 0/5 * * * ? æ¯éš” 5 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ 10 0/5 * * * ? æ¯éš” 5 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½åœ¨åˆ†é’Ÿå¼€å§‹çš„ 10 ç§’ï¼Œä¾‹å¦‚ 10:00:10ã€10:05:10 ç­‰ç­‰ã€‚ 0 30 10-13 ? * WED,FRI æ¯å‘¨ä¸‰å’Œæ¯å‘¨äº”çš„ 10:30ã€11:30ã€12:30ã€13:30 æ‰§è¡Œã€‚ 0 0/30 8-9 5,20 * ? æ¯ä¸ªæœˆçš„ 5 å·å’Œ 20 å·çš„ 8 ç‚¹å’Œ 10 ç‚¹ä¹‹é—´æ¯éš” 30 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯ 8:00ã€8:30ã€9:00 å’Œ 9:30ã€‚ 0 15 10 ? * * æ¯å¤©ä¸Šåˆ 10:15 æ‰§è¡Œä»»åŠ¡ 0 15 10 * * ? æ¯å¤©ä¸Šåˆ 10:15 æ‰§è¡Œä»»åŠ¡ 0 0 12 * * ? æ¯å¤©ä¸­åˆ 12:00 æ‰§è¡Œä»»åŠ¡ 0 0 10,14,16 * * ? æ¯å¤©ä¸Šåˆ 10:00 ç‚¹ã€ä¸‹åˆ 14:00 ä»¥åŠä¸‹åˆ 16:00 æ‰§è¡Œä»»åŠ¡ 0 0/30 9-17 * * ? æ¯å¤©ä¸Šåˆ 09:00 åˆ°ä¸‹åˆ 17:00 æ—¶é—´æ®µå†…æ¯éš”åŠå°æ—¶æ‰§è¡Œä»»åŠ¡ 0 * 14 * * ? æ¯å¤©ä¸‹åˆ 14:00 åˆ°ä¸‹åˆ 14:59 æ—¶é—´æ®µå†…æ¯éš” 1 åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡ 0 0-5 14 * * ? æ¯å¤©ä¸‹åˆ 14:00 åˆ°ä¸‹åˆ 14:05 æ—¶é—´æ®µå†…æ¯éš” 1 åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡ 0 0/5 14 * * ? æ¯å¤©ä¸‹åˆ 14:00 åˆ°ä¸‹åˆ 14:55 æ—¶é—´æ®µå†…æ¯éš” 5 åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡ 0 0/5 14,18 * * ? æ¯å¤©ä¸‹åˆ 14:00 åˆ°ä¸‹åˆ 14:55ã€ä¸‹åˆ 18:00 åˆ°ä¸‹åˆ 18:55 æ—¶é—´æ®µå†…æ¯éš” 5 åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡ 0 0 12 ? * WED æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸­åˆ 12:00 æ‰§è¡Œä»»åŠ¡ 0 15 10 15 * ? æ¯æœˆ 15 æ—¥ä¸Šåˆ 10:15 æ‰§è¡Œä»»åŠ¡ 0 15 10 L * ? æ¯æœˆæœ€åä¸€æ—¥ä¸Šåˆ 10:15 æ‰§è¡Œä»»åŠ¡ 0 15 10 ? * 6L æ¯æœˆæœ€åä¸€ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ 10:15 æ‰§è¡Œä»»åŠ¡ 0 15 10 ? * 6#3 æ¯æœˆç¬¬ä¸‰ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ 10:15 æ‰§è¡Œä»»åŠ¡ 0 10,44 14 ? 3 WED æ¯å¹´ 3 æœˆçš„æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸‹åˆ 14:10 å’Œ 14:44 æ‰§è¡Œä»»åŠ¡ ","date":"2020-03-25","objectID":"/posts/cron/:4:0","tags":["linux","shell","Cron"],"title":"Cron è¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³•","uri":"/posts/cron/"},{"categories":["çæŠ˜è…¾","Python"],"content":" ä¿¡æ¯ è¿™ä»¶äº‹è¿˜å¾—ä»ä¸€åªè™è è¯´èµ· â€¦ ç®—äº†ï¼Œæ˜¨å¤©ä¸‹åˆ 3 ç‚¹åŠï¼Œæˆ‘è¿˜åœ¨ç‹è€…å³¡è°· Timing, çªç„¶æ½‡ X å·´å“¥æ‰“äº†ä¸ªç”µè¯ç»™æˆ‘è¯´å…³äºè‡ªåŠ¨æ‰“å¡çš„æƒ³æ³• â€¦ å“ï¼Œåæ­£å°±æ˜¯ç”±äºç–«æƒ…éœ€è¦æ¯å¤©å¥åº·æ‰“å¡æ±‡æŠ¥ç»™å­¦æ ¡ï¼Œç„¶åæ¯å¤©æäº¤ä¸€æ ·çš„å¤ªéº»çƒ¦äº†ï¼Œå°±æƒ³å†™ä¸ªç¨‹åºè‡ªåŠ¨æ‰“å¡ â€¦ æˆ‘å’Œæ½‡ X å·´å“¥ç¡®å®šæ€è·¯åå…µåˆ†ä¸¤è·¯ï¼š ä»–ç”¨ java å†™ä¸ªåå°è‡ªåŠ¨åˆ·å¤šäººçš„ï¼Œå†å¼„ä¸ªç½‘é¡µç»™ç”¨æˆ·å¡«å†™è´¦å·å¯†ç ä¿å­˜åœ¨æ•°æ®åº“ï¼› æˆ‘æƒ³çš„å°±å¾ˆç›´æ¥ï¼Œåªåˆ·ä¸€ä¸ªäººçš„ï¼Œpython æ¨¡æ‹Ÿæµè§ˆå™¨ç™»å½•åæ‰“å¡ï¼Œå†è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆå¤šäººåˆ™è®¾å®šå¤šä¸ªï¼‰ï¼› ","date":"2020-03-25","objectID":"/posts/daka/:0:0","tags":["Python","HTTP"],"title":"æ–°å† ç–«æƒ…æœªè¿”æ ¡æœªè¿”å·¥ç¬¬ N å¤©ä¹‹â€œè‡ªåŠ¨æ‰“å¡â€","uri":"/posts/daka/"},{"categories":["çæŠ˜è…¾","Python"],"content":"Windows è¿è¡Œæ•ˆæœ æ‰“å¡æˆåŠŸ é‡å¤æ‰“å¡ å®šæ—¶ä»»åŠ¡æ—¥å¿— ","date":"2020-03-25","objectID":"/posts/daka/:1:0","tags":["Python","HTTP"],"title":"æ–°å† ç–«æƒ…æœªè¿”æ ¡æœªè¿”å·¥ç¬¬ N å¤©ä¹‹â€œè‡ªåŠ¨æ‰“å¡â€","uri":"/posts/daka/"},{"categories":["çæŠ˜è…¾","Python"],"content":"æ ¸å¿ƒä»£ç  é€‚ç”¨æ¹–å—å·¥ç¨‹å­¦é™¢çš„æ‰“å¡ç³»ç»Ÿã€‚ è¯·å‹¿æ»¥ç”¨ä»£ç æäº¤ä¸å®å¥åº·ä¿¡æ¯ï¼Œéšç’ç–«æƒ…å°†å—åˆ°ç›¸å…³æ³•å¾‹å¤„ç†ï¼ å®Œæ•´ä»£ç  def lajaDaka(): # ç™»å½• r1 = requests.post(login_url, data=login,headers=headers,verify=False) if r1.status_code == 200: print(time.strftime(\"%Y:%m:%d:%H:%M\", time.localtime())) print(login[\"username\"] + \" ç™»å½•æˆåŠŸï¼\") # æ‹¿åˆ°ç™»å½•åçš„ cookie å¹¶æ·»åŠ åˆ° header ä¸­ header1 = r1.headers headers[\"Cookie\"] = header1[\"Set-Cookie\"] else: return # æ‰“å¡ r2 = requests.post(daka_url, data=daka,headers=headers,verify=False) response2=r2.json() if r2.status_code != 200: print(\"æ‰“å¡å¤±è´¥ï¼\") return if response2[\"result\"] == True: print(\"æ‰“å¡æˆåŠŸï¼\") else: print(response2[\"errorInfoList\"][0][\"message\"]) if __name__==\"__main__\": lajaDaka() ","date":"2020-03-25","objectID":"/posts/daka/:2:0","tags":["Python","HTTP"],"title":"æ–°å† ç–«æƒ…æœªè¿”æ ¡æœªè¿”å·¥ç¬¬ N å¤©ä¹‹â€œè‡ªåŠ¨æ‰“å¡â€","uri":"/posts/daka/"},{"categories":["çæŠ˜è…¾","Python"],"content":"è‡ªåŠ¨è¿è¡Œ ","date":"2020-03-25","objectID":"/posts/daka/:3:0","tags":["Python","HTTP"],"title":"æ–°å† ç–«æƒ…æœªè¿”æ ¡æœªè¿”å·¥ç¬¬ N å¤©ä¹‹â€œè‡ªåŠ¨æ‰“å¡â€","uri":"/posts/daka/"},{"categories":["çæŠ˜è…¾","Python"],"content":"Windows é€‚ç”¨ python ä»£ç æ§åˆ¶ä¼‘çœ æ—¶é—´ if __name__==\"__main__\": while True: now_hour = time.strftime(\"%H\", time.localtime()) now_min = time.strftime(\"%M\", time.localtime()) # è®¾ç½®æ¯å¤© 8 ç‚¹å‘é€ if now_hour \u003c \"08\": rest = 8 - int(now_hour) sleeptime = (rest-1)*3600 + (60-int(now_min))*60 print(\"å¯åŠ¨æ—¶åŒ—äº¬æ—¶é—´ä¸ºï¼š\"+time.strftime(\"%H:%M\", time.localtime()),\"\\t è„šæœ¬å°†åœ¨\",rest-1,\"å°æ—¶\",int((sleeptime-(rest-1)*3600)/60),\"åˆ†é’Ÿåæ‰“å¡\") time.sleep(sleeptime) elif now_hour \u003e \"08\": rest = 8 - int(now_hour) + 24 sleeptime = (rest-1)*3600 + (60-int(now_min))*60 print(\"å¯åŠ¨æ—¶åŒ—äº¬æ—¶é—´ä¸ºï¼š\"+time.strftime(\"%H:%M\", time.localtime()),\"\\t è„šæœ¬å°†åœ¨\",rest-1,\"å°æ—¶\",int((sleeptime-(rest-1)*3600)/60),\"åˆ†é’Ÿåæ‰“å¡\") time.sleep(sleeptime) elif now_hour == \"08\": print(\"è½¯ä»¶æ˜å¤©å¼€å§‹å°†åœ¨æ¯å¤© 8 ç‚¹å‘é€æ•°æ®ï¼\") lajaDaka() time.sleep(24*60*60-int(now_min)*60) ","date":"2020-03-25","objectID":"/posts/daka/:3:1","tags":["Python","HTTP"],"title":"æ–°å† ç–«æƒ…æœªè¿”æ ¡æœªè¿”å·¥ç¬¬ N å¤©ä¹‹â€œè‡ªåŠ¨æ‰“å¡â€","uri":"/posts/daka/"},{"categories":["çæŠ˜è…¾","Python"],"content":"linuxï¼ˆäº‘æœåŠ¡å™¨ï¼‰ æ­å»º python ç¯å¢ƒä¸‹è½½ä¾èµ–åï¼Œä½¿ç”¨ shell è„šæœ¬å®šæ—¶æ‰§è¡Œã€‚ python /home/python/yiban_daka/daka.py CRON è¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³• ","date":"2020-03-25","objectID":"/posts/daka/:3:2","tags":["Python","HTTP"],"title":"æ–°å† ç–«æƒ…æœªè¿”æ ¡æœªè¿”å·¥ç¬¬ N å¤©ä¹‹â€œè‡ªåŠ¨æ‰“å¡â€","uri":"/posts/daka/"},{"categories":["çæŠ˜è…¾","Python"],"content":"æ½‡ x å·´å“¥çš„ java web ç‰ˆæœ¬ ç¬¦åˆç¨‹åºå‘˜çš„åº”è¯¥æœ‰çš„ç®€æ´å’Œæ–¹ä¾¿ï¼Œå¹²å‡€åˆå«ç”Ÿï¼ http://39.105.174.214/index.html java web ç‰ˆ ","date":"2020-03-25","objectID":"/posts/daka/:4:0","tags":["Python","HTTP"],"title":"æ–°å† ç–«æƒ…æœªè¿”æ ¡æœªè¿”å·¥ç¬¬ N å¤©ä¹‹â€œè‡ªåŠ¨æ‰“å¡â€","uri":"/posts/daka/"},{"categories":["MySQL"],"content":" SQL å¢åˆ æ”¹æŸ¥ (CRUD) è¯­å¥ä¸å¸¸ç”¨å‡½æ•°æ€»ç»“ã€‚ ","date":"2020-01-16","objectID":"/posts/sql/:0:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"SQL Introduction ä¸€èˆ¬æˆ‘ä»¬å¯¹æ•°æ®åº“çš„æ“ä½œä¸»è¦åˆ†ä¸ºå››ç§ï¼Œå¢** C**(CREATE)ã€åˆ ** D**(DELETE)ã€æ”¹** U**(UPDATE)ã€æŸ¥** R**(READ)ï¼Œæ‰€ä»¥ï¼Œæˆ‘å°±ä»** CRUD **è¿™å››ä¸ªæ–¹é¢æ¥åˆ¶ä½œæŸ¥è¯¢è¡¨ã€‚ å¼€å‘è§„åˆ™ï¼š å°½é‡å‡å°‘å¯¹æ•°æ®åº“çš„è®¿é—®æ¬¡æ•°ï¼Œä¸”ä¸èƒ½æŸ¥è¯¢æ— ç”¨çš„æ•°æ®ï¼Œæµªè´¹æ•ˆèƒ½ï¼ˆä¾‹å¦‚ï¼šæˆ‘åªè¦ç”·ç”Ÿçš„æ•°æ®ï¼Œä½ æŠŠæ‰€æœ‰äººçš„æ•°æ®éƒ½æŸ¥è¯¢å‡ºæ¥ï¼‰ã€‚ å±äºSQLè¯­æ³•çš„è¦ä½¿ç”¨å¤§å†™ ï¼ˆSELECT, WHERE, INSERT etcâ€¦ï¼‰ã€‚ å±äºä½¿ç”¨è€…è‡ªå·±å®šä¹‰çš„è¦ä½¿ç”¨å°å†™ï¼ˆè¡¨åã€åˆ—å etcâ€¦ï¼‰ã€‚ è¡¨åä¸åˆ—åå‰åä½¿ç”¨ ` åŒ…èµ·æ¥ï¼Œé˜²æ­¢ä¸å…³é”®å­—å†²çªï¼ˆä¾‹å¦‚ï¼š INSERT INTO `user` VALUES(â€˜aâ€™,â€˜bâ€™); ï¼‰ã€‚ ç¦æ­¢ä½¿ç”¨ Table Joinã€‚ ç¦æ­¢ä½¿ç”¨ Oracle Triggerã€‚ ç¦æ­¢ä½¿ç”¨ SELECT * ï¼ˆä¸ºäº†åŠ å¼ºä»£ç å¯è¯»æ€§ï¼‰ã€‚ ä¸èƒ½å°†æŸ¥è¯¢æ•°æ®åº“çš„ SQL æ”¾åœ¨å¾ªç¯ä¸­æŸ¥è¯¢ã€‚ ","date":"2020-01-16","objectID":"/posts/sql/:1:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"æ–°å¢ï¼ˆCREATEï¼‰ åŠŸèƒ½ è¯­å¥ åˆ›å»ºæ•°æ®åº“ CREATE DATABASE \u003cæ•°æ®åº“å\u003e; åˆ›å»ºæ•°æ®è¡¨ CREATE TABLE \u003cè¡¨å\u003e (\u003cåˆ—å 1\u003e \u003cæ•°æ®ç±»å‹\u003e \u003cçº¦æŸæ¡ä»¶\u003e,\u003cåˆ—å 2\u003e \u003cæ•°æ®ç±»å‹\u003e \u003cçº¦æŸæ¡ä»¶\u003e,\u003cåˆ—å 3\u003e \u003cæ•°æ®ç±»å‹\u003e \u003cçº¦æŸæ¡ä»¶\u003e,......\u003cè¯¥è¡¨çš„çš„çº¦æŸæ¡ä»¶ 1\u003e \u003cè¯¥è¡¨çš„çš„çº¦æŸæ¡ä»¶ 2\u003e...); æ’å…¥æ•°æ® INSERT INTO \u003cè¡¨å\u003e ï¼ˆåˆ—å 1, åˆ—å 2,...) VALUES ï¼ˆå€¼ 1, å€¼ 2,...);ï¼ˆæ¯åˆ—éƒ½æœ‰æ•°æ®æ’å…¥æ—¶ï¼Œå¯çœç•¥åˆ—åã€‚ä½†æ˜¯ä¸ºäº†ä»£ç çš„å¯è¯»æ€§ï¼Œä¸å»ºè®®å¦‚æ­¤æ“ä½œã€‚ï¼‰ å¢åŠ åˆ— ALTER TABLE \u003cè¡¨å\u003e ADD \u003cåˆ—å\u003e \u003cæ•°æ®ç±»å‹\u003e \u003cçº¦æŸæ¡ä»¶\u003e AFTER \u003cå‰ä¸€åˆ—åˆ—å\u003e;ï¼ˆé»˜è®¤æ’å…¥åˆ°æœ€åä¸€åˆ—ï¼‰ ","date":"2020-01-16","objectID":"/posts/sql/:2:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"åˆ é™¤ï¼ˆDELETEï¼‰ åŠŸèƒ½ è¯­å¥ åˆ é™¤æ•°æ®åº“ DROP DATABASE \u003cæ•°æ®åº“å\u003e; åˆ é™¤æ•°æ®è¡¨ DROP TABLE \u003cè¡¨å\u003e; æ¸…ç©ºè¡¨æ•°æ® DELETE FROM \u003cè¡¨å\u003e; æˆ–è€… TRUNCATE TABLE \u003cè¡¨å\u003e; åˆ é™¤è¡Œæ•°æ® DELETE FROM \u003cè¡¨å\u003e WHERE \u003cæ¡ä»¶\u003e; åˆ é™¤åˆ—æ•°æ® ALTER TABLE \u003cè¡¨å\u003e DROP \u003cåˆ—å\u003e; ","date":"2020-01-16","objectID":"/posts/sql/:3:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"ä¿®æ”¹ï¼ˆUPDATEï¼‰ åŠŸèƒ½ è¯­å¥ ä¿®æ”¹æ•°æ®åº“å RENAME DATABASE \u003cæ—§åç§°\u003e TO \u003cæ–°åç§°\u003e; ä¿®æ”¹è¡¨å RENAME TABLE \u003cæ—§åç§°\u003e TO \u003cæ–°åç§°\u003e; ä¿®æ”¹æ•°æ® UPDATE \u003cè¡¨å\u003e SET \u003cåˆ—å 1\u003e = \u003cæ–°å€¼ 1\u003e,\u003cåˆ—å 2\u003e = \u003cæ–°å€¼ 2\u003e WHERE \u003cæ¡ä»¶\u003e; ä¿®æ”¹åˆ—å ALTER TABLE \u003cè¡¨å\u003e CHANGE \u003cæ—§åˆ—å\u003e \u003cæ–°åˆ—å\u003e \u003cæ•°æ®ç±»å‹\u003e \u003cçº¦æŸæ¡ä»¶\u003e; æ³¨æ„ï¼šé‡å‘½åæ•°æ®åº“ä¸æ•°æ®è¡¨ä¸€èˆ¬ä¸æ¨èä½¿ç”¨ï¼Œè‹¥æƒ³æµ‹è¯•ï¼Œè¯·å…ˆå¤‡ä»½å¥½è‡ªå·±çš„æ•°æ®åº“~ ","date":"2020-01-16","objectID":"/posts/sql/:4:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"æŸ¥è¯¢ï¼ˆÂ RÂ EÂ AÂ DÂ ï¼‰ åŠŸèƒ½ è¯­å¥ æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“ SHOW DATABASES; æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“ä¸­æ‰€æœ‰è¡¨å USE \u003cæ•°æ®åº“å\u003e; ç„¶å SHOW TABLES;æˆ–è€… SHOW TABLES FROM \u003cæ•°æ®åº“å\u003e; æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰åˆ—ä¿¡æ¯ SHOW COLUMNS FROM \u003cè¡¨å\u003e; æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰æ•°æ® SELECT \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,... FROM \u003cè¡¨å\u003e; æŸ¥è¯¢è¡¨ä¸­æŸä¸ªæ•°æ® SELECT \u003cåˆ—å\u003e FROM \u003cè¡¨å\u003e; æŸ¥è¯¢è¡¨ä¸­æŒ‡å®šå¤šä¸ªæ•°æ® SELECT \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,... FROM \u003cè¡¨å\u003e WHERE \u003cæ¡ä»¶\u003e; æŸ¥è¯¢è¡¨ä¸­æŒ‡å®šä¸€ä¸ªæ•°æ® SELECT \u003cåˆ—å\u003e FROM \u003cè¡¨å\u003e WHERE \u003cæ¡ä»¶\u003e; æŸ¥è¯¢æŒ‡å®šèŒƒå›´æ•°æ® SELECT \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,... FROM \u003cè¡¨å\u003e WHERE \u003cæŸåˆ—å\u003e BETWEEN \u003cæŸåˆ—åèŒƒå›´å€¼-å°\u003e AND \u003cæŸåˆ—åèŒƒå›´å€¼-å¤§\u003e; å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…æŸ¥è¯¢ SELECT \u003cåˆ—å\u003e FROM \u003cè¡¨å\u003e WHERE name LIKE 'Y%';ï¼ˆæŸ¥è¯¢ä»¥ Y å¼€å¤´çš„ï¼Œæ›´å¤šåŒ¹é…æ–¹å¼è‡ªè¡Œç™¾åº¦å“¦~ã€‚ï¼‰ æŒ‡å®šå¤šä¸ªå€¼æ•°æ®æŸ¥è¯¢ SELECT \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,... FROM \u003cè¡¨å\u003e WHERE \u003cæŸåˆ—å\u003e IN ('\u003cæŸåˆ—åå€¼ 1\u003e','\u003cæŸåˆ—åå€¼ 2\u003e','\u003cæŸåˆ—åå€¼ 3\u003e',...); æŸ¥è¯¢ç»“æœæ’åº SELECT \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,... FROM \u003cè¡¨å\u003e ORDER BY \u003cæŸåˆ—å\u003e DESC;ï¼ˆæ­¤å¤„ä¸ºé€’å‡æ’åˆ—ï¼Œé»˜è®¤ä¸ºé€’å¢ASCï¼‰ æŸ¥è¯¢æŒ‡å®šå‡ ç¬”æ•°æ® SELECT \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,... FROM \u003cè¡¨å\u003e LIMIT n,m;ï¼ˆä»nåˆ°mç¬”æ•°æ®ï¼‰ åˆ†ç¾¤æŸ¥è¯¢ SELECT \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,...,\u003cå‡½æ•°\u003e FROM \u003cè¡¨å\u003e GROUP BY \u003cåˆ—å 1\u003e,\u003cåˆ—å 2\u003e,\u003cåˆ—å 3\u003e,...;ï¼ˆå¸¸æ­é…å‡½æ•°æœ‰ï¼šSUM()ã€AVG()ã€COUNT()ã€MAX()ã€MIN()ï¼‰ ","date":"2020-01-16","objectID":"/posts/sql/:5:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"å¸¸ç”¨å‡½æ•° å‡½æ•°å ç”¨é€” ABSï¼ˆæ•°å€¼ï¼‰ ABS å‡½æ•°ï¼ˆæ±‚ç»å¯¹å€¼ï¼‰ MODï¼ˆè¢«é™¤æ•°ï¼Œé™¤æ•°ï¼‰ MOD å‡½æ•°ï¼ˆæ±‚ä½™ï¼‰ ROUNDï¼ˆå¯¹è±¡æ•°å€¼ï¼Œä¿ç•™å°æ•°çš„ä½æ•°ï¼‰ ROUND å‡½æ•°ï¼ˆå››èˆäº”å…¥ï¼‰ å­—ç¬¦ä¸² 1 Î™Î™ å­—ç¬¦ä¸² 2 Î™Î™ å‡½æ•°ï¼ˆæ‹¼æ¥ï¼‰ LENGTHï¼ˆå­—ç¬¦ä¸²ï¼‰ LENGTH å‡½æ•°ï¼ˆæ±‚å­—ç¬¦ä¸²é•¿åº¦ï¼‰ LOWERï¼ˆå­—ç¬¦ä¸²ï¼‰ LOWER å‡½æ•°ï¼ˆå°å†™è½¬æ¢ï¼‰ UPPERï¼ˆå­—ç¬¦ä¸²ï¼‰ UPPER å‡½æ•°ï¼ˆå¤§å†™è½¬æ¢ï¼‰ REPLACEï¼ˆå¯¹è±¡å­—ç¬¦ä¸²ï¼Œæ›¿æ¢å‰çš„å­—ç¬¦ä¸²ï¼Œæ›¿æ¢åçš„å­—ç¬¦ä¸²ï¼‰ REPLACE å‡½æ•°ï¼ˆå­—ç¬¦ä¸²çš„æ›¿æ¢ï¼‰ SUBSTRING ï¼ˆå¯¹è±¡å­—ç¬¦ä¸²ï¼Œæˆªå–çš„èµ·å§‹ä½ç½®ï¼Œæˆªå–çš„å­—ç¬¦æ•°ï¼‰ SUBSTRING å‡½æ•°ï¼ˆå­—ç¬¦ä¸²çš„æˆªå–ï¼‰ CURRENT_DATE CURRENT_DATE å‡½æ•°ï¼ˆå½“å‰æ—¥æœŸï¼‰ CURRENT_TIME CURRENT_TIME å‡½æ•°ï¼ˆå½“å‰æ—¶é—´ï¼‰ CURRENT_TIMESTAMP CURRENT_TIMESTAMP å‡½æ•°ï¼ˆå½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼‰ EXTRACTï¼ˆæ—¥æœŸå…ƒç´  FROM æ—¥æœŸï¼‰ EXTRACT å‡½æ•°ï¼ˆæˆªå–æ—¥æœŸå…ƒç´ ï¼‰ CASTï¼ˆè½¬æ¢å‰çš„å€¼ AS æƒ³è¦è½¬æ¢çš„æ•°æ®ç±»å‹ï¼‰ CAST å‡½æ•°ï¼ˆç±»å‹è½¬æ¢ï¼‰ COALESCEï¼ˆæ•°æ® 1, æ•°æ® 2, æ•°æ® 3â€¦.) COALESCE å‡½æ•°ï¼ˆå°† NULL è½¬æ¢ä¸ºå…¶ä»–å€¼ï¼‰ è¡¥å……ï¼šCASE è¡¨è¾¾å¼ã€‚ CASE WHEN \u003cæ±‚å€¼è¡¨è¾¾å¼\u003e THEN \u003cè¡¨è¾¾å¼\u003e WHEN \u003cæ±‚å€¼è¡¨è¾¾å¼\u003e THEN \u003cè¡¨è¾¾å¼\u003e WHEN \u003cæ±‚å€¼è¡¨è¾¾å¼\u003e THEN \u003cè¡¨è¾¾å¼\u003e ...... ELSE \u003cè¡¨è¾¾å¼\u003e END ","date":"2020-01-16","objectID":"/posts/sql/:6:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"å…¶ä»–çŸ¥è¯† ","date":"2020-01-16","objectID":"/posts/sql/:7:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"å¸¸è§æ•°æ®ç±»å‹ ","date":"2020-01-16","objectID":"/posts/sql/:7:1","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"åˆ«å ç»™è¡¨è®¾ç½®åˆ«åï¼Œè®© SQL æ›´ç®€æ´ã€‚ä¾‹å¦‚ï¼š SELECT \u003ccol-1\u003e,\u003ccol-2\u003e,\u003ccol-3\u003e,... FROM \u003ctable1\u003e \u003calias-a\u003e,\u003ctable2\u003e \u003calias-b\u003e WHERE \u003calias-a\u003e.\u003cid\u003e = \u003calias-b\u003e.\u003cid\u003e; åˆ—åä¹Ÿå¯ä»¥è®¾ç½®åˆ«åã€‚ä¾‹å¦‚ï¼š SELECT \u003ccol-1\u003e \u003calias-a\u003e,\u003ccol-2\u003e \u003calias-b\u003e,\u003ccol-3\u003e \u003calias-c\u003e,... FROM \u003ctable\u003e; æˆ–è€… SELECT \u003ccol-1\u003e AS \u003calias-a\u003e,\u003ccol-2\u003e AS \u003calias-b\u003e,\u003ccol-3\u003e AS \u003calias-c\u003e,... FROM \u003ctable\u003e; ","date":"2020-01-16","objectID":"/posts/sql/:7:2","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["MySQL"],"content":"æ€»ç»“ ä»¥ä¸Šæ•´ç†çš„å†…å®¹å‡ä¸ºåŸºç¡€å†…å®¹ï¼Œæ›´å¤šè¿›é˜¶çŸ¥è¯†è¿˜éœ€å„ä½è‡ªè¡Œ Googleã€‚ ","date":"2020-01-16","objectID":"/posts/sql/:8:0","tags":["MySQL"],"title":"SQL æ€»ç»“","uri":"/posts/sql/"},{"categories":["Projects","JavaScript"],"content":" ä¿¡æ¯ cos æ¡¶ç›¸å†Œï¼Œç»ˆäºï¼ï¼ç»ˆäºæ¥äº†ï¼ï¼ï¼Œidea æ¥è‡ª [å…°å·å°çº¢é¸¡ - ç»™ hexo é™æ€åšå®¢æ·»åŠ åŠ¨æ€ç›¸å†ŒåŠŸèƒ½]ï¼Œ åŠŸèƒ½è™½å¥½ï¼Œä½†æ˜¯è¿˜æ˜¯å…ˆå‹æƒ…æç¤ºï¼ å¼€æ”¾ API æ˜¯ä¸€ä¸ªå¾ˆå±é™©çš„æ“ä½œï¼Œæ„å‘³ç€ä½ çš„ cos æ¡¶é‡Œé¢çš„æ‰€æœ‰èµ„æºåŒ…æ‹¬ç›®å½•ç»“æ„éƒ½æš´éœ²çš„æ•´ä¸ªä¸–ç•Œä¸­ï¼Œæ‰€ä»¥å»ºè®®ä¸è¦æ”¾ä¸€äº›æ¯”è¾ƒç§å¯†çš„ç…§ç‰‡ï¼Œä¿æŠ¤è‡ªå·±çš„éšç§ï¼Œæé˜²ä¸è‰¯ç”¨å¿ƒä¹‹äººã€‚ä¸‹é¢å°±å¼€å§‹å§ï¼ ","date":"2019-11-24","objectID":"/projects/cos-album/:0:0","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"åˆ›å»ºè…¾è®¯äº‘ cos å­˜å‚¨æ¡¶ å°±åˆ›å»ºä¸€ä¸ª COS å°±å¥½äº†ï¼æœ‰å‡ ç‚¹æ³¨æ„äº‹é¡¹ï¼š æƒé™è®¾ç½®ä¸ºå…±æœ‰è¯»ç§æœ‰å†™ policy æƒé™è®¾ç½®æ•´ä¸ªæ¡¶çš„è¯»æ“ä½œ è·¨åŸŸè®¿é—® CORS è®¾ç½®ï¼Œè‡ªå·±éšæ„ ","date":"2019-11-24","objectID":"/projects/cos-album/:1:0","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"ä¸Šä¼ ç…§ç‰‡ é¦–å…ˆæˆ‘è¿™ä¸ª cos ç›¸å†Œï¼Œç›¸å†Œåˆ†ç±»å°±æ˜¯æ–‡ä»¶å¤¹åˆ†ç±»ï¼Œæ‰€ä»¥ cos æ¡¶é‡Œé¢å…ˆæ–°å»ºä¸åŒçš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åç§°å°±æ˜¯ç›¸å†Œåç§°ï¼Œ æ¯ä¸ªç›¸å†Œé‡Œé¢éœ€è¦æ”¾ç½®ä¸€å¼ åç§°ä¸º**â€œå°é¢.jpgâ€**çš„å›¾ç‰‡ä½œä¸ºè¯¥ç›¸å†Œçš„å°é¢ã€‚ ","date":"2019-11-24","objectID":"/projects/cos-album/:2:0","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"ä¸Šä¼ å·¥å…· COSBrowser GUI å·¥å…·ï¼Œæ¡Œé¢/ç§»åŠ¨ç‰ˆ ã€å®˜æ–¹ã€æ¨èã€‘ COSCMD å‘½ä»¤è¡Œå·¥å…· ã€å®˜æ–¹ã€‘ PicGo å›¾åºŠä¸Šä¼ å·¥å…· ã€ç¬¬ä¸‰æ–¹ã€æ¨èã€‘ ","date":"2019-11-24","objectID":"/projects/cos-album/:2:1","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"é£Ÿç”¨æ–¹å¼ cos album ç›¸å†Œæºç ä¸‹è½½åœ°å€ï¼Œåˆ«å¿˜ç‚¹èµå“ˆ http://github.com/Lruihao/cos-album é¦–å…ˆï¼Œä¸‹è½½æºç ï¼Œå¼•å…¥ cos-album.css å’Œ cos-album.js ç„¶åï¼Œåœ¨ä½ çš„ js ä¸­ new ä¸€ä¸ª Cosalbum å¯¹è±¡ ( xmlLink åä¸éœ€è¦æ·»åŠ /) ","date":"2019-11-24","objectID":"/projects/cos-album/:3:0","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"Step1 \u003clink rel=\"stylesheet\" type=\"text/css\" href=\"cos-album.min.css?v=1.1.2\"\u003e \u003cscript type=\"text/javascript\" src=\"cos-album.min.js?v=1.1.2\"\u003e\u003c/script\u003e ","date":"2019-11-24","objectID":"/projects/cos-album/:3:1","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"Step2 \u003cscript type=\"text/javascript\"\u003e new Cosalbum({ 'xmlLink': 'https://img-xxxxxxxxxx.cos.ap-chengdu.myqcloud.com', 'prependTo': '.cos-album', 'viewNum': 8, 'imgUrl': '//img.lruihao.cn' }); \u003c/script\u003e ","date":"2019-11-24","objectID":"/projects/cos-album/:3:2","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"Params param type default description xmlLink String éœ€è¦è§£æçš„é¨°è¨Šäº‘ COS æ¡¶ XML éˆæ¥ prependTo String â€˜bodyâ€™ å¯é¸è§£æç›¸å†Šåˆ°æŸå€‹ç¯€é» viewNum Number 4 æ¯å€‹ç›¸å†Šé¡¯ç¤ºçš„ç…§ç‰‡æ•¸ç›® copyUrl String href CDN é“¾æ¥ï¼Œé›™æ“Šè¤‡è£½ URL Since: 1.1.6 imgType String [â€˜jpgâ€™, â€˜jpegâ€™, â€˜pngâ€™, â€˜gifâ€™, â€˜svgâ€™] å›¾ç‰‡é¡å‹ Since: 1.1.6 videoType String [â€˜mp4â€™, â€˜mp3â€™, â€˜aviâ€™, â€˜movâ€™, â€˜qtâ€™] è¦–é »é¡å‹ Since: 1.1.6 viewport è§†ä¸ªäººæƒ…å†µæ·»åŠ ã€‚ hexo ä¸­ä½¿ç”¨æ—¶ css å’Œ js éƒ½éœ€è¦åšé€‚å½“è°ƒæ•´ï¼Œé…åˆåŠ å¯†åŠŸèƒ½ä½¿ç”¨ç­‰ç­‰ï¼Œè¿™é‡Œä¸å†å±•å¼€ã€‚ æ³¨ï¼šä»£ç è®¾å®šä¸åŠ è½½æ ¹ç›®å½•æ–‡ä»¶ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨é™æ€æœåŠ¡æŠŠæºç éƒ¨ç½²åœ¨æ ¹ç›®å½•ï¼Œé…åˆ PicGoã€COSBrowser ä¸Šä¼ æ¥æ­å»ºä¸ªäººå›¾åºŠã€‚ \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\" /\u003e \u003ctitle\u003ecos-album\u003c/title\u003e \u003c!-- \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e --\u003e \u003clink rel=\"stylesheet\" type=\"text/css\" href=\"cos-album.css\" /\u003e \u003cscript type=\"text/javascript\" src=\"cos-album.js\" defer\u003e\u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cscript type=\"text/javascript\"\u003e new Cosalbum({ xmlLink: 'https://img-xxxxxxxxxx.cos.ap-chengdu.myqcloud.com', prependTo: '.cos-album', viewNum: 8, copyUrl: '//img.lruihao.cn' }); \u003c/script\u003e \u003c!-- ä½ çš„å…¶ä»–å†…å®¹ï¼Œå¦‚è¯„è®ºç­‰ --\u003e \u003c/body\u003e \u003c/html\u003e cos-album demo ","date":"2019-11-24","objectID":"/projects/cos-album/:3:3","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Projects","JavaScript"],"content":"changelog 2020-9-28 22:46 å‡ç´šï¼šç›¸å†Šå°è£æˆé¡ï¼Œå¯ä»¥æ›´æ–¹ä¾¿ new å‡ºä¾† å„ªåŒ–ï¼šç›¸å†Šåœ–ç‰‡æ¨£å¼å„ªåŒ– 2019-11-24 10:52:34 ä¿®æ”¹æ•´ç†äº†ä¸€ä¸‹ä»£ç ï¼Œåˆ†å‰²åŠŸèƒ½ä¸ºå‡½æ•°ï¼Œå¹¶å†™äº†æ³¨é‡Šï¼Œæ›´åŠ æ–¹ä¾¿ ä¼¸æ‰‹å…š! ","date":"2019-11-24","objectID":"/projects/cos-album/:4:0","tags":["CosAlbum","è…¾è®¯äº‘ cos æ¡¶","JavaScript"],"title":"åˆ©ç”¨è…¾è®¯äº‘ä¸ºé™æ€é¡µé¢æ·»åŠ â€œåŠ¨æ€â€ç›¸å†Œ","uri":"/projects/cos-album/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":" RESTful æ˜¯ä¸€ç§ç³»ç»Ÿå¼€å‘è®¾è®¡é£æ ¼ã€åŸåˆ™ã€‚å¯è§†æƒ…å†µè°ƒæ•´ï¼Œä»¥ä¸‹å‚è€ƒæ¥æº RFC5789 ","date":"2019-11-14","objectID":"/posts/restful/:0:0","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"Noun ä¸€èˆ¬èµ„æº é€šç”¨äºä¸€å¾‹ä½¿ç”¨å¤æ•°åè¯ ä¾‹å¦‚ï¼š/books æˆ– /books/123ã€‚ä½†æœ‰éƒ¨åˆ†äººè®¤ä¸ºåº”è¯¥ä½¿ç”¨å•æ•°åè¯ï¼Œå› ä¸ºï¼š /book/123 çœ‹ä¼¼æ¯” /books/123 åˆç†ã€‚ä½†æƒ³æƒ³æ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•å‘½åï¼ˆä¾‹å¦‚ /Users æˆ– /Documents)ï¼Œå…¶å®ç”¨å¤æ•°ä¹Ÿæ²¡é—®é¢˜ã€‚å¤æ•°å¯ä»¥ä¿æŒ API endpoint çš„ä¸€è‡´æ€§ï¼Œæ‰€ä»¥ä¸€èˆ¬èµ„æºå»ºè®®ç”¨å¤æ•°ã€‚ å”¯ä¸€èµ„æºï¼šå¯¹ client è€Œè¨€åªæœ‰ä¸€ä»½çš„èµ„æº é€šç”¨äºå•æ•°åè¯ ä¾‹å¦‚ï¼šuser æ˜¯æŒ‡ç›®å‰éªŒè¯çš„ä½¿ç”¨è€…ï¼Œä½¿ç”¨è€…æ°¸è¿œåªèƒ½åŒæ—¶ç™»å…¥ä¸€ä¸ªä½¿ç”¨è€… ","date":"2019-11-14","objectID":"/posts/restful/:1:0","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"Http Method MethodIdempotentSafeCRUDOOç”Ÿæ´»åŠ¨è¯ç”¨é€”GETYYReadgetgetå–å¾—èµ„æ–™liståˆ—å‡ºèµ„æ–™POSTCreateaddcreateå»ºç«‹ä¸€ä¸ªå¯ä»¥å®Œå…¨ç‹¬ç«‹å­˜åœ¨çš„å®ä½“addå¢åŠ ä¸€ä¸ªå¿…é¡»ä¾èµ–äºæŸä¸ªå®ä½“çš„å®ä½“PUTYUpdatesetreplaceå–ä»£ä¸€ä¸ªå…³ç³»ï¼Œå·²å­˜åœ¨æ—¶å…ˆåˆ é™¤åå»ºç«‹ï¼Œä¸å­˜åœ¨æ—¶ç›´æ¥å»ºç«‹addé™„åŠ å”¯ä¸€å…³ç³»ï¼Œä¸¤ä¸ªå…³ç³»å®ä½“å¯ä»¥äº’ç›¸ç‹¬ç«‹å­˜åœ¨ï¼Œä¸”å·²ç»å­˜åœ¨PATCHeditç¼–è¾‘æŸä¸ªå®ä½“DELETEDeleteremoveremove deleteåˆ é™¤æŸä¸ªå®ä½“ Safeï¼šè¯¥æ“ä½œä¸ä¼šæ”¹å˜ä¼ºæœå™¨ç«¯çš„èµ„æºçŠ¶æ€ï¼ˆè€Œä¸”ç»“æœå¯ä»¥è¢« cacheï¼‰ï¼Œå±äº Safe çš„æ“ä½œå¿…å®šå±äº Idempotent Idempotent (å¹‚ç­‰æ€§)ï¼šè¯¥æ“ä½œä¸ç®¡åš 1 éæˆ–åš n éï¼Œéƒ½ä¼šå¾—åˆ°åŒæ ·çš„èµ„æºçŠ¶æ€ç»“æœï¼ˆä½†ä¸ä¸€å®šå¾—åˆ°åŒæ ·çš„è¿”å›å€¼ï¼Œä¾‹å¦‚ç¬¬ 2 æ¬¡ DELETE è¯·æ±‚å¯èƒ½å›ä¼  404ï¼‰ï¼Œå› æ­¤ client ç«¯å¯ä»¥æ”¾å¿ƒ retry ","date":"2019-11-14","objectID":"/posts/restful/:2:0","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"GET Safeï¼šæ¯æ¬¡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒGET åªæœ‰è¯»å– Resourceï¼Œä¸ä¼šæ”¹å˜åˆ°ä»»ä½•çš„ Resource ï¼ˆèµ„æºï¼Œèµ„æ–™ï¼‰ Idempotentï¼šæ¯æ¬¡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒGET åªæœ‰è¯»å– Resourceï¼Œä¸ä¼šæ”¹å˜åˆ°ä»»ä½•çš„ Resource ï¼ˆèµ„æºï¼Œèµ„æ–™ï¼‰ï¼Œæ‰€ä»¥ä»»ä½•èµ„æºçš„ä»»ä½•çŠ¶æ€éƒ½æ˜¯ä¸€æ ·çš„ ","date":"2019-11-14","objectID":"/posts/restful/:2:1","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"POST æ¯æ¬¡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒPOST éƒ½ä¼šå»ºç«‹ä¸€ä¸ª Resource ï¼ˆèµ„æºï¼Œèµ„æ–™ï¼‰ Createï¼šå»ºç«‹ä¸€ä¸ªå¯ä»¥å®Œå…¨ç‹¬ç«‹å­˜åœ¨çš„å®ä½“ èŒƒä¾‹ï¼šå»ºç«‹ä½¿ç”¨è€… æ‰§è¡Œç¬¬ä¸€æ¬¡æ—¶ï¼šå»ºç«‹ä¸€ä¸ª name = â€œæå››â€ çš„ userï¼Œä½†å…¶ id = 1ï¼Œæ‰§è¡Œç¬¬äºŒæ¬¡æ—¶ï¼šå»ºç«‹ä¸€ä¸ª name = â€œæå››â€ çš„ userï¼Œä½†å…¶ id = 2ï¼Œå‘é€åŒæ ·çš„è¯·æ±‚ï¼Œå¯æ¯æ¬¡éƒ½æ˜¯ä¸åŒçš„ Resource å»ºç«‹ä½¿ç”¨è€…å‰ä¸éœ€è¦å»ºç«‹ä»»ä½•çš„ä¸œè¥¿ï¼Œå°±å¯ä»¥å»ºç«‹ä½¿ç”¨è€…äº†ï¼Œä½¿ç”¨è€…æ˜¯å¯ä»¥å®Œå…¨ç‹¬ç«‹çš„å­˜åœ¨ POST /users HTTP/1.1 Host: 127.0.0.1 { \"name\": \"æå››\" } Addï¼šå¢åŠ ä¸€ä¸ªå¿…é¡»ä¾èµ–äºæŸä¸ªå®ä½“çš„å®ä½“ èµ„æ–™ç»“æ„ï¼šä¸€å¯¹å¤šçš„å…³ç³» èŒƒä¾‹ï¼šAdd a public key on behalf of a user å¢åŠ ä¸€ä¸ªä»£è¡¨ä½¿ç”¨è€…çš„å…¬é’¥ (Gitea API) å¢åŠ è¿™ä¸ªå…¬é’¥ä¹‹å‰ï¼Œä½¿ç”¨è€…å¿…é¡»å­˜åœ¨ï¼Œå…¬é’¥å¿…é¡»å½’å±äºæŸä¸ªä½¿ç”¨è€…ä¹‹ä¸‹ï¼Œå…¬é’¥è·Ÿå§“åä¸€æ ·ï¼Œä½¿ç”¨ç›¸åŒç”µè„‘çš„å…¬é’¥å°±ä¼šç›¸åŒï¼Œä½†ä¸è¡¨ç¤ºæ˜¯åŒä¸€ä¸ªä½¿ç”¨è€…ï¼Œæ•…å…¬é’¥ä¹Ÿä¼šæœ‰è‡ªå·±çš„ ID æˆ‘æ¯æ¬¡å¢åŠ å…¬é’¥æ—¶ï¼Œéƒ½å°†ç”Ÿæˆä¸åŒçš„å…¬é’¥ ID POST /api/v1/admin/users/{username}/keys HTTP/1.1 Host: gitea.com { \"key\": \"string\", \"read_only\": true, \"title\": \"string\" } ","date":"2019-11-14","objectID":"/posts/restful/:2:2","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"PUT Idempotentï¼šæ¯æ¬¡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒPUT éƒ½ä¼šå–ä»£ Resourceï¼Œä¸ç®¡æ“ä½œå‡ æ¬¡ï¼Œä½¿ç”¨è€…è·å–å¾— Resource ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ Replaceï¼šä¸è®ºèµ„æºå¦‚ä½•ï¼Œæœ€ç»ˆçš„èµ„æºçŠ¶æ€éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒResource å·²å­˜åœ¨æ—¶ï¼Œæˆ–è®¸ä¸ç†ä¼šã€æˆ–è®¸å…ˆåˆ é™¤åå»ºç«‹ï¼ˆå–ä»£ï¼‰Resource ä¸å­˜åœ¨æ—¶ï¼Œç›´æ¥å»ºç«‹ Addï¼šæ·»åŠ å”¯ä¸€å…³ç³»ï¼Œå»ºç«‹è¿™ä¸ªå”¯ä¸€å…³ç³»å‰ï¼Œä¸¤ä¸ªå…³è¿å®ä½“éƒ½å¿…é¡»å­˜åœ¨ã€‚åœ¨æ²¡æœ‰å»ºç«‹å…³ç³»å‰ï¼Œä¸¤ä¸ªå…³è¿å®ä½“éƒ½å¯ä»¥äº’ç›¸ç‹¬ç«‹å­˜åœ¨ èµ„æ–™ç»“æ„ï¼šå¤šå¯¹å¤šï¼Œä¸”ä¸¤ä¸ªå…³è¿å®ä½“çš„ PKï¼ŒåŒæ—¶ä¹Ÿæ˜¯å…³ç³»å®ä½“çš„ PKã€FK èŒƒä¾‹ï¼šå¢åŠ ä½¿ç”¨è€…ä¸è§’è‰²çš„å…³ç³» å¢åŠ ä½¿ç”¨è€…è·Ÿè§’è‰²çš„å…³ç³»å‰ï¼Œä½¿ç”¨è€…è·Ÿè§’è‰²éƒ½å¿…é¡»å­˜åœ¨ï¼›å¢åŠ ä½¿ç”¨è€…è·Ÿè§’è‰²çš„å…³ç³»å‰ï¼Œä½¿ç”¨è€…è·Ÿè§’è‰²å¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼Œ ä½¿ç”¨è€… 12262 è·Ÿ è§’è‰² 2 çš„å…³ç³»æœ€å¤šåªèƒ½æœ‰ä¸€æ¡å…³ç³»ï¼ˆ ä½¿ç”¨è€… 12262 æœ‰ è§’è‰² 2)ï¼Œæœ€å°‘æ²¡æœ‰å…³ç³»ï¼ˆä½¿ç”¨è€… 12262 æ²¡æœ‰ è§’è‰² 2 ) ï¼Œæ‰§è¡Œç¬¬äºŒæ¬¡æ“ä½œæ—¶ï¼Œä½¿ç”¨è€… 12262 è·Ÿ è§’è‰² 2 çš„ä»å±å…³ç³»ä»ç„¶å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šè·‘å‡ºç¬¬äºŒæ¡ ä½¿ç”¨è€… 12262 è·Ÿ è§’è‰² 2 çš„ä»å±å…³ç³» PUT user/{account}/roles HTTP/1.1 Host: 127.0.0.1 { \"role_id\": \"2\" } èŒƒä¾‹ï¼šFollow a user å…³æ³¨ä¸€ä¸ªä½¿ç”¨è€… (Gitea API) å¢åŠ å…³æ³¨å…³ç³»æ—¶ï¼Œå…³æ³¨è€…ä¸è¢«å…³æ³¨è€…ï¼ˆéƒ½æ˜¯ä½¿ç”¨è€…ï¼‰ éƒ½å¿…é¡»å­˜åœ¨ï¼›å…³æ³¨è€… 12262 è·Ÿè¢«å…³æ³¨è€… 12231 çš„å…³ç³»æœ€å¤šåªèƒ½æœ‰ä¸€æ¡å…³ç³»ï¼ˆ12262 å…³æ³¨ 12231ï¼‰ï¼Œæœ€å°‘æ²¡æœ‰å…³ç³»ï¼ˆ12262 ä¸å…³æ³¨ 12231ï¼‰ï¼Œæ‰§è¡Œç¬¬äºŒæ¬¡æ“ä½œæ—¶ï¼Œå…³æ³¨è€… 12262 è·Ÿè¢«å…³æ³¨è€… 12231 çš„å…³æ³¨å…³ç³»ä»ç„¶å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šè·‘å‡ºç¬¬äºŒæ¡å…³æ³¨è€… 12262 è·Ÿè¢«å…³æ³¨è€… 12231 çš„å…³æ³¨å…³ç³» PUT /api/v1/user/following/{username} HTTP/1.1 Host: gitea.com ","date":"2019-11-14","objectID":"/posts/restful/:2:3","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"PATCH Editï¼šç¼–è¾‘å¯ç‹¬ç«‹å­˜åœ¨ã€ä¸”å·²ç»å­˜åœ¨çš„å®ä½“ï¼Œä¹Ÿå°±æ˜¯äº§ç”Ÿæ–°ç‰ˆæœ¬çš„å®ä½“ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»– Resource èŒƒä¾‹ï¼šç¼–è¾‘ä½¿ç”¨è€… ç¼–è¾‘ä½¿ç”¨è€…ï¼Œä½¿ç”¨è€…å·²ç»å­˜åœ¨ï¼Œä¸”æˆ‘ä»¬å¯èƒ½æœ‰çºªå½•ç¼–è¾‘æ—¶é—´ã€ç¼–è¾‘äººã€ç¼–è¾‘ IPï¼Œæ‰€ä»¥æ¯æ¬¡çš„ç¼–è¾‘éƒ½ä¼šé€ æˆä¸ä¸€æ ·çš„ç»“æœ ç¬¬ä¸€æ¬¡ç¼–è¾‘ä½¿ç”¨è€…ï¼Œæ›´æ–°æ—¶é—´å˜ä¸º 08:00ï¼Œç¼–è¾‘äºº 12262ï¼ŒIP 172.18.0.66 ç¬¬äºŒæ¬¡ç¼–è¾‘ä½¿ç”¨è€…ï¼Œæ›´æ–°æ—¶é—´å˜ä¸º 09:00ï¼Œç¼–è¾‘äºº 12263ï¼ŒIP 172.18.0.67 PATCH /users/{account} HTTP/1.1 Host: 127.0.0.1 { \"username\": \"æå››\", \"age\": \"18\", \"gender\": \"male\" } ","date":"2019-11-14","objectID":"/posts/restful/:2:4","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"DELETE Idempotentï¼šæ¯æ¬¡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒDELETE éƒ½ä¼šåˆ é™¤ç›¸åŒçš„ä¸œè¥¿ èŒƒä¾‹ï¼šåˆ é™¤ä½¿ç”¨è€… ç¬¬ä¸€æ¬¡åˆ é™¤ä½¿ç”¨è€… 12262ï¼Œåˆ é™¤ä½¿ç”¨è€… 12262, ç¬¬äºŒæ¬¡åˆ é™¤ä½¿ç”¨è€… 12262ï¼Œè¿˜æ˜¯åˆ é™¤ä½¿ç”¨è€… 12262ï¼Œåªä¸è¿‡ä½¿ç”¨è€… 12262 ä¸å­˜åœ¨äº† DELETE /users/{account} HTTP/1.1 Host: 127.0.0.1 ","date":"2019-11-14","objectID":"/posts/restful/:2:5","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"HTTP Status Code HTTP çŠ¶æ€ç ï¼ˆHTTP Status Codeï¼‰æ˜¯ç”¨ä»¥è¡¨ç¤ºç½‘é¡µæœåŠ¡å™¨ HTTP å“åº”çŠ¶æ€çš„ 3 ä½æ•°å­—ä»£ç ã€‚æ‰€æœ‰çŠ¶æ€ç çš„ç¬¬ä¸€ä¸ªæ•°å­—ä»£è¡¨äº†å“åº”çš„äº”ç§çŠ¶æ€ä¹‹ä¸€ã€‚é™¤éå¦æœ‰è¯´æ˜ï¼ŒçŠ¶æ€ç æ˜¯ HTTP/1.1 æ ‡å‡†ï¼ˆRFC 7231ï¼‰çš„ä¸€éƒ¨åˆ†ã€‚ è€Œå…³äº RESTful API çš„è¯·æ±‚çŠ¶æ€ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹ä¸¤ç§è®¾è®¡æ–¹æ¡ˆï¼š æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ HTTP çŠ¶æ€ç æ¥è¡¨ç¤ºè¯·æ±‚çŠ¶æ€ï¼Œ200 æ—¶è¿”å›çš„å†…å®¹å°±æ˜¯æ•°æ® æ–¹æ¡ˆäºŒï¼šæ‰€æœ‰æ¥å£éƒ½è¿”å› 200 ï¼Œåœ¨å“åº”å†…å®¹é‡Œçº¦å®šé”™è¯¯ç æˆ–é”™è¯¯ä¿¡æ¯ åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”æ®å…·ä½“æƒ…æ™¯åŠéœ€è¦è¿›è¡Œé€‰æ‹©ä¸è°ƒæ•´ã€‚ æ–¹æ¡ˆä¼˜åŠ£æ¯”è¾ƒæ–¹æ¡ˆä¸€ä¼˜ç‚¹å¯¹æœåŠ¡ç«¯æ¥è¯´è¾ƒä¸ºç®€å•æ–¹ä¾¿ç¼ºç‚¹å®¢æˆ·ç«¯éš¾ä»¥æ ¹æ®çŠ¶æ€ç å¤„ç†å¤æ‚é—®é¢˜æ–¹æ¡ˆäºŒä¼˜ç‚¹æ–¹ä¾¿å¯¹è¿”å›èµ„æ–™è¿›è¡Œç»Ÿä¸€å¤„ç†å’Œç»†å¾®æ€§çš„æ§åˆ¶ç¼ºç‚¹ç›¸å½“äºæ”¾å¼ƒäº† HTTP çŠ¶æ€ç çš„è¯­ä¹‰ ","date":"2019-11-14","objectID":"/posts/restful/:3:0","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["Spec","è®¡ç®—æœºç½‘ç»œ"],"content":"å¸¸ç”¨ HTTP çŠ¶æ€ç  Code Message ç”¨é€” 1XX Informational response æ­¤ç±»çŠ¶æ€ç é€šå¸¸ä»£è¡¨çš„å“åº”éƒ½æ˜¯ä¿¡æ¯æ€§çš„ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ 100 Continue è¡¨ç¤ºæœåŠ¡ç«¯å·²æ¥æ”¶åˆ°è¯·æ±‚å¤´ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­å‘é€è¯·æ±‚ä½“ï¼ˆå¦‚ POST è¯·æ±‚ï¼‰ã€‚ 101 Switching Protocols è¡¨ç¤ºæœåŠ¡ç«¯æ”¯æŒæ›´ä¼˜åè®®ï¼Œè®©å®¢æˆ·ç«¯åœ¨æœåŠ¡ç«¯æ›´æ¢åè®®åé‡æ–°è®¿é—®ã€‚ 2XX Successful æ­¤ç±»çŠ¶æ€ç é€šå¸¸ä»£è¡¨è¯·æ±‚å·²æˆåŠŸè¢«æœåŠ¡ç«¯æ¥æ”¶ã€ç†è§£å¹¶æ¥å—ã€‚ 200 OK è¡¨ç¤ºè¯·æ±‚æˆåŠŸã€‚ 201 Created è¡¨ç¤ºè¯·æ±‚å·²è¢«å®ç°ï¼Œé€šå¸¸æ˜¯åœ¨æˆåŠŸåˆ›å»ºäº†æŸä¸ªèµ„æºã€‚ 202 Accepted è¡¨ç¤ºè¯·æ±‚å·²è¢«æœåŠ¡ç«¯æ¥æ”¶ï¼Œä½†å°šæœªè¿›è¡Œå¤„ç†ã€‚ 204 No Content è¡¨ç¤ºè¯·æ±‚æˆåŠŸï¼Œä½†ä¸ä¼šè¿”å›ä»»ä½•å†…å®¹ã€‚ 205 Reset Content è¡¨ç¤ºè¯·æ±‚æˆåŠŸï¼Œä½†ä¸ä¼šè¿”å›ä»»ä½•å†…å®¹ï¼Œå¹¶ä¸”è¦æ±‚å®¢æˆ·ç«¯é‡ç½®è¡¨å•ã€‚ 3XX Redirect æ­¤ç±»çŠ¶æ€ç é€šå¸¸ä»£è¡¨æœ¬æ¬¡è¯·æ±‚éœ€è¦å®¢æˆ·ç«¯é‡‡å–è¿›ä¸€æ­¥æ“ä½œæ‰èƒ½å®Œæˆã€‚é€šå¸¸ç”¨äºé‡å®šå‘ã€‚ 300 Multiple Choices è¡¨ç¤ºè¯·æ±‚çš„èµ„æºæœ‰å¤šä¸ªä¾›å¯é€‰æ‹©ï¼Œå®¢æˆ·ç«¯å¯è‡ªè¡Œé€‰æ‹©ä¸€ä¸ªè¿›è¡Œè¯·æ±‚çš„é‡å®šå‘ã€‚ 301 Moved Permanently è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²ç»æ°¸ä¹…åœ°ç§»åŠ¨åˆ°äº†æ–°ä½ç½®ï¼Œå¹¶ä¸”å°†åœ¨ Location åŸŸä¸­æºå¸¦è¯¥èµ„æºæ–°çš„ URIã€‚ 304 Not Modified è¡¨ç¤ºè¯·æ±‚çš„èµ„æºæ— å‘ç”Ÿä¿®æ”¹ï¼Œå°†ä¸ä¼šè¿”å›ä»»ä½•èµ„æºã€‚ 4XX Client Error æ­¤ç±»çŠ¶æ€ç é€šå¸¸ä»£è¡¨å®¢æˆ·ç«¯å¯èƒ½å‡ºç°äº†é”™è¯¯ã€‚ 400 Bad Request è¡¨ç¤ºå®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚æœ‰è¯¯ï¼ˆæ ¼å¼ã€å¤§å°ã€æ— æ•ˆçš„â€¦)ï¼ŒæœåŠ¡ç«¯ä¸èƒ½/ ä¸ä¼šå¤„ç†è¯¥è¯·æ±‚ã€‚ 401 Unauthorized è¡¨ç¤ºå®¢æˆ·ç«¯æœªèƒ½æä¾›å¿…è¦çš„éªŒè¯ï¼ŒæœåŠ¡ç«¯æ‹’ç»æä¾›èµ„æºã€‚ 403 Forbidden è¡¨ç¤ºæœåŠ¡ç«¯ç†è§£äº†è¯¥è¯·æ±‚ï¼Œä½†å®¢æˆ·ç«¯æ²¡æœ‰è¶³å¤Ÿæƒé™ä»¥è®¿é—®ï¼Œé‚æ‹’ç»æä¾›è¯¥èµ„æºã€‚ 404 Not Found è¡¨ç¤ºæœåŠ¡ç«¯æ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼Œå…¶å¯èƒ½å·²ç»æš‚æ—¶ï¼ˆæ°¸ä¹…ï¼‰å¤±æ•ˆã€‚ 408 Request Timeout è¡¨ç¤ºè¯·æ±‚è¶…æ—¶ã€‚ 409 Conflict è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå‘é€äº†å†²çªï¼Œé€šå¸¸æ˜¯ PUT è¯·æ±‚ã€‚ 410 Gone è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²ç»æ°¸ä¹…å¤±æ•ˆï¼Œå®¢æˆ·ç«¯ä¸åº”å†æ¬¡è¯·æ±‚ã€‚ 411 Length Required è¡¨ç¤ºæœåŠ¡ç«¯æ‹’ç»åœ¨æ²¡æœ‰å®šä¹‰ Content-Length å¤´çš„æƒ…å†µä¸‹æ¥æ”¶è¯¥è¯·æ±‚ã€‚ 5XX Server Error æ­¤ç±»çŠ¶æ€ç é€šå¸¸ä»£è¡¨ç”±äºæœåŠ¡ç«¯çš„åŸå› ï¼Œå¯¼è‡´æ— æ³•å®Œæˆè¯·æ±‚ã€‚ 500 Internal Server Error è¡¨ç¤ºç”±äºæœåŠ¡ç«¯é‡åˆ°æ„æ–™ä¹‹å¤–çš„å˜æ•…ï¼Œå¯¼è‡´æ— æ³•å®Œæˆè¯·æ±‚ã€‚ 501 Not Implemented è¡¨ç¤ºæœåŠ¡ç«¯ä¸æ”¯æŒå®Œæˆè¯·æ±‚æ‰€éœ€çš„åŠŸèƒ½ï¼Œå¯¼è‡´æ— æ³•å®Œæˆè¯·æ±‚ã€‚ 502 Bad Gateway è¡¨ç¤ºä½œä¸ºç½‘å…³æˆ–ä»£ç†çš„æœåŠ¡æ®µåœ¨æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨è·å¾—äº†æ— æ•ˆçš„å“åº”ã€‚ 503 Service Unavailable è¡¨ç¤ºç”±äºæŸäº›åŸå› ï¼ˆæœåŠ¡å™¨è¶…è½½æˆ–ç³»ç»Ÿç»´æŠ¤ç­‰ï¼‰ï¼Œå¯¼è‡´æš‚æ—¶æ— æ³•å®Œæˆè¯·æ±‚ã€‚ 504 Gatewy Timeout è¡¨ç¤ºä½œä¸ºç½‘å…³æˆ–ä»£ç†çš„æœåŠ¡æ®µåœ¨æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œæœªèƒ½åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨è·å¾—å“åº”ã€‚ 505 HTTP Version Not Supported è¡¨ç¤ºæœåŠ¡ç«¯ä¸æ”¯æŒè¯·æ±‚çš„ HTTP åè®®ç‰ˆæœ¬ï¼Œå¯¼è‡´æ— æ³•å®Œæˆè¯·æ±‚ã€‚ ä»¥ä¸Šå†…å®¹å‚è€ƒè‡ªhttps://zh.wikipedia.org/zh-cn/HTTPçŠ¶æ€ç ï¼Œ éœ€è¦æŸ¥çœ‹å®Œæ•´ HTTP çŠ¶æ€ç è¯·ç‚¹å‡» https://www.rfc-editor.org/rfc/rfc9110.html#name-status-codes ","date":"2019-11-14","objectID":"/posts/restful/:3:1","tags":["REST","HTTP"],"title":"RESTful","uri":"/posts/restful/"},{"categories":["PHP"],"content":" php ä¸»åŠ¨æ¨é€ç«™ç‚¹é“¾æ¥åˆ°ç™¾åº¦ç«™é•¿ï¼Œç¥é©¬ç«™é•¿è¿›è¡Œ SEOã€‚ ","date":"2019-09-28","objectID":"/posts/phppushurl/:0:0","tags":["PHP"],"title":"php åŒæ—¶ä¸»åŠ¨æ¨é€é“¾æ¥åˆ°ç™¾åº¦ï¼Œç¥é©¬ç­‰ç«™é•¿å¹³å°","uri":"/posts/phppushurl/"},{"categories":["PHP"],"content":"ä»£ç  æŠŠéœ€è¦æäº¤çš„é“¾æ¥å’Œå„ç«™é•¿ api åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ª txt æ–‡ä»¶é‡Œé¢ï¼Œç„¶åè¿è¡Œ php æ–‡ä»¶è¿›è¡Œæäº¤ï¼Œä¸åŒç«™é•¿æäº¤æˆåŠŸä¸€èˆ¬è¿”å›çš„éƒ½æ˜¯ 200 çŠ¶æ€ç ã€‚ \u003c?php //é“¾æ¥å­˜æ”¾è·¯å¾„å’Œç«™é•¿ api æ–‡ä»¶å­˜æ”¾è·¯å¾„ $urls_path = \"H:\\\\lruihao.cn\\\\public\\\\baidu_urls.txt\"; $apis_path = \"G:\\\\Demo\\\\lrh01\\\\zhanzhang_api.txt\"; //å°†æ–‡ä»¶æ¯ä¸€è¡Œè¯»åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢å» $urls = file($urls_path, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES); $apis = file($apis_path, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES); for($x=0;$x\u003ccount($apis);$x++){ $ch = curl_init(); $options = array( CURLOPT_URL =\u003e $apis[$x], CURLOPT_POST =\u003e true, CURLOPT_RETURNTRANSFER =\u003e true, CURLOPT_POSTFIELDS =\u003e implode(\"\\n\", $urls), CURLOPT_HTTPHEADER =\u003e array('Content-Type: text/plain'), ); curl_setopt_array($ch, $options); $result = curl_exec($ch); echo \"API: \u003cbr/\u003e\u0026emsp;\".$apis[$x].\"\u003cbr/\u003e\"; echo \"result: \u003cbr/\u003e\u0026emsp;\".$result.\"\u003chr/\u003e\"; } ?\u003e ","date":"2019-09-28","objectID":"/posts/phppushurl/:1:0","tags":["PHP"],"title":"php åŒæ—¶ä¸»åŠ¨æ¨é€é“¾æ¥åˆ°ç™¾åº¦ï¼Œç¥é©¬ç­‰ç«™é•¿å¹³å°","uri":"/posts/phppushurl/"},{"categories":["PHP"],"content":"æäº¤ç»“æœ ","date":"2019-09-28","objectID":"/posts/phppushurl/:2:0","tags":["PHP"],"title":"php åŒæ—¶ä¸»åŠ¨æ¨é€é“¾æ¥åˆ°ç™¾åº¦ï¼Œç¥é©¬ç­‰ç«™é•¿å¹³å°","uri":"/posts/phppushurl/"},{"categories":["PHP"],"content":"æ™®é€šæ–¹æ³• é¦–å…ˆé‡‡ç”¨fopen()å‡½æ•°æ‰“å¼€æ–‡ä»¶ï¼Œå¾—åˆ°è¿”å›å€¼çš„å°±æ˜¯èµ„æºç±»å‹ã€‚æ¥ç€é‡‡ç”¨ while å¾ªç¯ä¸€è¡Œè¡Œåœ°è¯»å–æ–‡ä»¶ï¼Œç„¶åè¾“å‡ºæ¯è¡Œçš„æ–‡å­—ã€‚feof()åˆ¤æ–­æ˜¯å¦åˆ°æœ€åä¸€è¡Œï¼Œfgets()è¯»å–ä¸€è¡Œæ–‡æœ¬ã€‚ \u003c?php //é¦–å…ˆé‡‡ç”¨â€œfopenâ€å‡½æ•°æ‰“å¼€æ–‡ä»¶ï¼Œå¾—åˆ°è¿”å›å€¼çš„å°±æ˜¯èµ„æºç±»å‹ã€‚ $file_handle = fopen(\"C:\\\\Users\\\\æç‘è±ªã€\\Desktop\\\\å¤‡å¿˜å½•ã€‚txt\",\"r\"); if ($file_handle){ //æ¥ç€é‡‡ç”¨ while å¾ªç¯ä¸€è¡Œè¡Œåœ°è¯»å–æ–‡ä»¶ï¼Œç„¶åè¾“å‡ºæ¯è¡Œçš„æ–‡å­— while (!feof($file_handle)) { //åˆ¤æ–­æ˜¯å¦åˆ°æœ€åä¸€è¡Œ $line = fgets($file_handle); //è¯»å–ä¸€è¡Œæ–‡æœ¬ echo $line; //è¾“å‡ºä¸€è¡Œæ–‡æœ¬ echo \"\u003cbr /\u003e\"; //æ¢è¡Œ } } fclose($file_handle);//å…³é—­æ–‡ä»¶ ?\u003e readfileï¼ˆï¼‰å‡½æ•°ï¼Œè¿”å›ä¸€æ•´ä¸ª String echo readfile(\"C:\\\\Users\\\\æç‘è±ªã€\\Desktop\\\\å¤‡å¿˜å½•ã€‚txt\"); ","date":"2019-09-28","objectID":"/posts/phpfile/:1:0","tags":["PHP"],"title":"php æŒ‰è¡Œè¯»å–æ–‡ä»¶ä¿¡æ¯","uri":"/posts/phpfile/"},{"categories":["PHP"],"content":"å¿«é€Ÿæ–¹æ³• file()å‡½æ•°æŠŠæ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯æ–‡ä»¶ä¸­ç›¸åº”çš„ä¸€è¡Œï¼ŒåŒ…æ‹¬æ¢è¡Œç¬¦åœ¨å†…ã€‚ è¯­æ³• file(path,include_path,context) å‚æ•° æè¿° path å¿…éœ€ã€‚è§„å®šè¦è¯»å–çš„æ–‡ä»¶ã€‚ include_path å¯é€‰å‚æ•°include_path å¯ä»¥æ˜¯ä»¥ä¸‹ä¸€ä¸ªæˆ–å¤šä¸ªå¸¸é‡ï¼š**FILE_USE_INCLUDE_PATHåœ¨ include_path ä¸­æŸ¥æ‰¾æ–‡ä»¶ã€‚FILE_IGNORE_NEW_LINESåœ¨æ•°ç»„æ¯ä¸ªå…ƒç´ çš„æœ«å°¾ä¸è¦æ·»åŠ æ¢è¡Œç¬¦FILE_SKIP_EMPTY_LINES**è·³è¿‡ç©ºè¡Œ context å¯é€‰ã€‚è§„å®šæ–‡ä»¶å¥æŸ„çš„ç¯å¢ƒã€‚context æ˜¯ä¸€å¥—å¯ä»¥ä¿®æ”¹æµçš„è¡Œä¸ºçš„é€‰é¡¹ã€‚è‹¥ä½¿ç”¨ NULLï¼Œåˆ™å¿½ç•¥ã€‚ \u003c?php $filepath=\"H:\\\\lruihao.cn\\\\public\\\\baidu_urls.txt\"; echo \"\u003chr/\u003e\"; //å°†æ–‡ä»¶æ¯ä¸€è¡Œè¯»åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢å» $texts = file($filepath, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES); var_dump($texts); ?\u003e ","date":"2019-09-28","objectID":"/posts/phpfile/:2:0","tags":["PHP"],"title":"php æŒ‰è¡Œè¯»å–æ–‡ä»¶ä¿¡æ¯","uri":"/posts/phpfile/"},{"categories":["PHP"],"content":"ç»“æœ ","date":"2019-09-28","objectID":"/posts/phpfile/:3:0","tags":["PHP"],"title":"php æŒ‰è¡Œè¯»å–æ–‡ä»¶ä¿¡æ¯","uri":"/posts/phpfile/"},{"categories":["JavaScript"],"content":" ä½¿ç”¨javascriptè®¡ç®—åšå®¢ç­‰ç½‘ç«™çš„è¿è¡Œæ—¶é—´ã€‚ è¯ä¸å¤šè¯´ï¼Œç›´æ¥è´´ç ï¼ function createTime() { var now = new Date(); var run = new Date('05/28/2018 20:01:01'); //ç¸½çš„ç§’æ•¸ var runTime = (now - run) / 1000, days = Math.floor(runTime / 60 / 60 / 24), hours = Math.floor(runTime / 60 / 60 - 24 * days), minutes = Math.floor(runTime / 60 - 24 * 60 * days - 60 * hours), seconds = Math.floor((now - run) / 1000 - 24 * 60 * 60 * days - 60 * 60 * hours - 60 * minutes); //å‰ç½®é›¶ if (String(hours).length === 1) { hours = '0' + hours; } if (String(minutes).length === 1) { minutes = '0' + minutes; } if (String(seconds).length === 1) { seconds = '0' + seconds; } /*document.querySelector(\".run-times\").innerHTML = days + \"\u0026thinsp; å¤©\u0026thinsp;\" + hours + \"\u0026thinsp; æ—¶\u0026thinsp;\" + minutes + \"\u0026thinsp; åˆ†\u0026thinsp;\" + seconds + \"\u0026thinsp; ç§’\"; */ document.querySelector('.run-times').innerHTML = 'RunTime: ' + days + ',' + hours + ':' + minutes + ':' + seconds + ''; } //setInterval(\"createTime()\", 500); if (!document.hidden) { var siteTime = setInterval('createTime()', 500); } else { clearInterval(siteTime); } /** * HTML å†™æ³• \u003cspan class=\"run-times\" title=\"ç½‘ç«™è¿è¡Œæ—¶é—´\"\u003eè½½å…¥æ—¶åˆ†ç§’ ...\u003c/span\u003e \u003cp class=\"run-times\" title=\"ä¸»é è¿è¡Œæ—¶é—´\"\u003eRunTime Loading...\u003c/p\u003e */ ","date":"2019-09-19","objectID":"/posts/site-time/:0:0","tags":["JavaScript"],"title":"è®¾ç½®ç½‘ç«™è¿è¡Œæ—¶é—´","uri":"/posts/site-time/"},{"categories":["JavaScript"],"content":" æ³¨æ„ JS çš„åŠ è½½åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸‹è½½å’Œæ‰§è¡Œã€‚ æµè§ˆå™¨åœ¨æ‰§è¡Œ HTML çš„æ—¶å€™å¦‚æœé‡åˆ°\u003cscript\u003eæ—¶ä¼šåœæ­¢é¡µé¢çš„æ¸²æŸ“ï¼Œå»ä¸‹è½½å’Œæ‰§è¡Œ js çš„æ–‡ä»¶ç›´æ¥é‡è§\u003c/scirpt\u003eä¼šç»§ç»­æ¸²æŸ“é¡µé¢ã€‚æ•…æµè§ˆå™¨åœ¨æ‰§è¡Œ js æ–‡ä»¶çš„æ—¶å€™æµè§ˆå™¨è¡¨ç°ä¸ºä¸€ç‰‡ç©ºç™½ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ ECMAScript å®šä¹‰äº† defer å’Œ async ä¸¤ä¸ªå±æ€§ç”¨äºæ§åˆ¶ JS çš„ä¸‹è½½å’Œæ‰§è¡Œã€‚ ","date":"2019-09-08","objectID":"/posts/async-defer/:0:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"ä¸å¸¦ä»»ä½•å±æ€§ åŒæ­¥æ¨¡å¼ï¼Œåˆç§°é˜»å¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„æœ€å¤šçš„ä¸€ç§æ–¹å¼ã€‚å½“æµè§ˆå™¨è§£æåˆ°\u003cscript\u003eæ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨ä¼šåœæ­¢è§£æå…¶åçš„å†…å®¹ï¼Œè€Œä¼˜å…ˆä¸‹è½½è„šæœ¬æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œå…¶ä¸­çš„ä»£ç ï¼Œæ˜¯ä¸ªåŒæ­¥é˜»å¡çš„è¿‡ç¨‹ã€‚ ä¸€èˆ¬å»ºè®®æŠŠ\u003cscript\u003eæ ‡ç­¾æ”¾åœ¨\u003cbody\u003eç»“å°¾å¤„ï¼Œè¿™æ ·å°½å¯èƒ½å‡å°‘é¡µé¢é˜»å¡ã€‚ è€Œå¦‚æœæƒ³è¦å¼‚æ­¥æ‰§è¡Œ scriptï¼Œåˆ™å¯ä»¥ç»™å…¶åŠ ä¸Š async æˆ– defer å±æ€§ã€‚ \u003cscript\u003e ","date":"2019-09-08","objectID":"/posts/async-defer/:1:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"defer defer å±æ€§åœ¨ HTML è§£ææœŸé—´å¼‚æ­¥ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶ä¸”åªåœ¨ HTML è§£æå®Œæˆåæ‰æ‰§è¡Œå®ƒã€‚å¯¹äº deferï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£æ˜¯å°†å¤–é“¾çš„ js æ”¾åœ¨äº†é¡µé¢åº•éƒ¨ã€‚js çš„åŠ è½½ä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“å’Œèµ„æºçš„åŠ è½½ã€‚ä¸è¿‡ defer ä¼šæŒ‰ç…§åŸæœ¬çš„ js çš„é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥å¦‚æœå‰åæœ‰ä¾èµ–å…³ç³»çš„ js å¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚ \u003cscript defer\u003e ","date":"2019-09-08","objectID":"/posts/async-defer/:2:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"async async å±æ€§ä¼šåœ¨ HTML è§£ææœŸé—´å¼‚æ­¥ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶åœ¨å®Œæˆä¸‹è½½åç«‹å³æš‚åœ HTML è§£æå™¨å»æ‰§è¡Œ script ä¸­çš„ä»£ç ã€‚åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æµè§ˆå™¨å¤„äºé˜»å¡çŠ¶æ€ï¼Œå“åº”ä¸äº†ä»»ä½•éœ€æ±‚ã€‚å¦‚æœ js å‰åæœ‰ä¾èµ–æ€§ï¼Œç”¨ asyncï¼Œå°±å¾ˆæœ‰å¯èƒ½å‡ºé”™ã€‚ \u003cscript async\u003e ","date":"2019-09-08","objectID":"/posts/async-defer/:3:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"åŒºåˆ« ","date":"2019-09-08","objectID":"/posts/async-defer/:4:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"ç›¸åŒç‚¹ åŠ è½½æ–‡ä»¶æ—¶ä¸é˜»å¡é¡µé¢æ¸²æŸ“ å¯¹äº inline çš„ script æ— æ•ˆï¼ˆåªé€‚ç”¨æœ‰srcçš„å¤–éƒ¨ jsï¼‰ ä½¿ç”¨è¿™ä¸¤ä¸ªå±æ€§çš„è„šæœ¬ä¸­ä¸èƒ½è°ƒç”¨ document.write æ–¹æ³• æœ‰è„šæœ¬çš„ onload çš„äº‹ä»¶å›è°ƒ ","date":"2019-09-08","objectID":"/posts/async-defer/:4:1","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"åŒºåˆ«ç‚¹ html4.0 ä¸­å®šä¹‰äº† deferï¼›html5.0 ä¸­å®šä¹‰äº† async æµè§ˆå™¨æ”¯æŒä¸åŒ æ¯ä¸€ä¸ª async å±æ€§çš„è„šæœ¬éƒ½åœ¨å®ƒä¸‹è½½ç»“æŸä¹‹åç«‹åˆ»æ‰§è¡Œï¼ŒåŒæ—¶ä¼šåœ¨ window çš„ load äº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚æ‰€ä»¥å°±æœ‰å¯èƒ½å‡ºç°è„šæœ¬æ‰§è¡Œé¡ºåºè¢«æ‰“ä¹±çš„æƒ…å†µï¼›æ¯ä¸€ä¸ª defer å±æ€§çš„è„šæœ¬éƒ½æ˜¯åœ¨é¡µé¢è§£æå®Œæ¯•ä¹‹åï¼ŒæŒ‰ç…§åŸæœ¬çš„é¡ºåºæ‰§è¡Œï¼ŒåŒæ—¶ä¼šåœ¨ document çš„ DOMContentLoaded ä¹‹å‰æ‰§è¡Œã€‚ ","date":"2019-09-08","objectID":"/posts/async-defer/:4:2","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"é‚£ä¹ˆè¿™ä¸‰ç§æ–¹å¼å„åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨å‘¢ï¼Ÿ é€šå¸¸æ¥è¯´ï¼Œå°½å¯èƒ½ä½¿ç”¨asyncï¼Œç„¶åæ˜¯deferï¼Œæœ€åä¸ä½¿ç”¨å±æ€§ã€‚ å¹¶éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š å¦‚æœè„šæœ¬æ˜¯æ¨¡å—åŒ–çš„ï¼Œå¹¶ä¸”ä¸ä¾èµ–äºä»»ä½•è„šæœ¬ï¼Œåˆ™ä½¿ç”¨asyncã€‚ å¦‚æœè„šæœ¬ä¾èµ–äºæˆ–ä¾èµ–äºå¦ä¸€ä¸ªè„šæœ¬ï¼Œåˆ™ä½¿ç”¨deferã€‚ å¦‚æœè„šæœ¬å¾ˆå°å¹¶ä¸”æœ‰asyncè„šæœ¬ä¾èµ–è¯¥è„šæœ¬ï¼Œåˆ™ä¸åŠ å±æ€§ã€‚ ","date":"2019-09-08","objectID":"/posts/async-defer/:5:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"å…¼å®¹æ€§ Internet Explorer 10ã€Firefoxã€Operaã€Chrome å’Œ Safari æ”¯æŒ async å±æ€§ã€‚ æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒ defer å±æ€§ã€‚ ","date":"2019-09-08","objectID":"/posts/async-defer/:6:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["JavaScript"],"content":"å‚è€ƒ https://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html https://www.jianshu.com/p/17dc82bf08f1 ","date":"2019-09-08","objectID":"/posts/async-defer/:7:0","tags":["JavaScript","defer","async"],"title":"script çš„ä¸‰ç§åŠ è½½æ–¹å¼ (async, defer)","uri":"/posts/async-defer/"},{"categories":["Memo"],"content":"Sublime Text3 å¿«æ·é”®ä¸€è§ˆè¡¨ ","date":"2019-08-15","objectID":"/posts/sublime-text3/:0:0","tags":["Sublime","ä»–å±±ä¹‹çŸ³"],"title":"Sublime Text3 å¿«æ·é”®å¤§å…¨","uri":"/posts/sublime-text3/"},{"categories":["Memo"],"content":"tab è½¬ space æ‰“å¼€ Settings, åŠ å…¥å‡ è¡Œé…ç½® { \"color_scheme\": \"Packages/Color Scheme - Default/Monokai.sublime-color-scheme\", \"font_size\": 14, \"ignored_packages\": [ \"Vintage\" ], \"theme\": \"Adaptive.sublime-theme\", + \"expand_tabs_on_save\": true, + \"tab_size\": 2, + \"translate_tabs_to_spaces\": true } ","date":"2019-08-15","objectID":"/posts/sublime-text3/:1:0","tags":["Sublime","ä»–å±±ä¹‹çŸ³"],"title":"Sublime Text3 å¿«æ·é”®å¤§å…¨","uri":"/posts/sublime-text3/"},{"categories":["Memo"],"content":"é€‰æ‹©ç±» Ctrl+D é€‰ä¸­å…‰æ ‡æ‰€å çš„æ–‡æœ¬ï¼Œç»§ç»­æ“ä½œåˆ™ä¼šé€‰ä¸­ä¸‹ä¸€ä¸ªç›¸åŒçš„æ–‡æœ¬ã€‚ Alt+F3 é€‰ä¸­æ–‡æœ¬æŒ‰ä¸‹å¿«æ·é”®ï¼Œå³å¯ä¸€æ¬¡æ€§é€‰æ‹©å…¨éƒ¨çš„ç›¸åŒæ–‡æœ¬è¿›è¡ŒåŒæ—¶ç¼–è¾‘ã€‚ä¸¾ä¸ªæ —å­ï¼šå¿«é€Ÿé€‰ä¸­å¹¶æ›´æ”¹æ‰€æœ‰ç›¸åŒçš„å˜é‡åã€å‡½æ•°åç­‰ã€‚ Ctrl+L é€‰ä¸­æ•´è¡Œï¼Œç»§ç»­æ“ä½œåˆ™ç»§ç»­é€‰æ‹©ä¸‹ä¸€è¡Œï¼Œæ•ˆæœå’Œ Shift+â†“ æ•ˆæœä¸€æ ·ã€‚ Ctrl+Shift+L å…ˆé€‰ä¸­å¤šè¡Œï¼Œå†æŒ‰ä¸‹å¿«æ·é”®ï¼Œä¼šåœ¨æ¯è¡Œè¡Œå°¾æ’å…¥å…‰æ ‡ï¼Œå³å¯åŒæ—¶ç¼–è¾‘è¿™äº›è¡Œã€‚ Ctrl+Shift+M é€‰æ‹©æ‹¬å·å†…çš„å†…å®¹ï¼ˆç»§ç»­é€‰æ‹©çˆ¶æ‹¬å·ï¼‰ã€‚ä¸¾ä¸ªæ —å­ï¼šå¿«é€Ÿé€‰ä¸­åˆ é™¤å‡½æ•°ä¸­çš„ä»£ç ï¼Œé‡å†™å‡½æ•°ä½“ä»£ç æˆ–é‡å†™æ‹¬å·å†…é‡Œçš„å†…å®¹ã€‚ Ctrl+M å…‰æ ‡ç§»åŠ¨è‡³æ‹¬å·å†…ç»“æŸæˆ–å¼€å§‹çš„ä½ç½®ã€‚ Ctrl+Enter åœ¨ä¸‹ä¸€è¡Œæ’å…¥æ–°è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå³ä½¿å…‰æ ‡ä¸åœ¨è¡Œå°¾ï¼Œä¹Ÿèƒ½å¿«é€Ÿå‘ä¸‹æ’å…¥ä¸€è¡Œã€‚ Ctrl+Shift+Enter åœ¨ä¸Šä¸€è¡Œæ’å…¥æ–°è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå³ä½¿å…‰æ ‡ä¸åœ¨è¡Œé¦–ï¼Œä¹Ÿèƒ½å¿«é€Ÿå‘ä¸Šæ’å…¥ä¸€è¡Œã€‚ Ctrl+Shift+[ é€‰ä¸­ä»£ç ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼ŒæŠ˜å ä»£ç ã€‚ Ctrl+Shift+] é€‰ä¸­ä»£ç ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼Œå±•å¼€ä»£ç ã€‚ Ctrl+K+0 å±•å¼€æ‰€æœ‰æŠ˜å ä»£ç ã€‚ Ctrl+â† å‘å·¦å•ä½æ€§åœ°ç§»åŠ¨å…‰æ ‡ï¼Œå¿«é€Ÿç§»åŠ¨å…‰æ ‡ã€‚ Ctrl+â†’ å‘å³å•ä½æ€§åœ°ç§»åŠ¨å…‰æ ‡ï¼Œå¿«é€Ÿç§»åŠ¨å…‰æ ‡ã€‚ shift+â†‘ å‘ä¸Šé€‰ä¸­å¤šè¡Œã€‚ shift+â†“ å‘ä¸‹é€‰ä¸­å¤šè¡Œã€‚ Shift+â† å‘å·¦é€‰ä¸­æ–‡æœ¬ã€‚ Shift+â†’ å‘å³é€‰ä¸­æ–‡æœ¬ã€‚ Ctrl+Shift+â† å‘å·¦å•ä½æ€§åœ°é€‰ä¸­æ–‡æœ¬ã€‚ Ctrl+Shift+â†’ å‘å³å•ä½æ€§åœ°é€‰ä¸­æ–‡æœ¬ã€‚ Ctrl+Shift+â†‘ å°†å…‰æ ‡æ‰€åœ¨è¡Œå’Œä¸Šä¸€è¡Œä»£ç äº’æ¢ï¼ˆå°†å…‰æ ‡æ‰€åœ¨è¡Œæ’å…¥åˆ°ä¸Šä¸€è¡Œä¹‹å‰ï¼‰ã€‚ Ctrl+Shift+â†“ å°†å…‰æ ‡æ‰€åœ¨è¡Œå’Œä¸‹ä¸€è¡Œä»£ç äº’æ¢ï¼ˆå°†å…‰æ ‡æ‰€åœ¨è¡Œæ’å…¥åˆ°ä¸‹ä¸€è¡Œä¹‹åï¼‰ã€‚ Ctrl+Alt+â†‘ å‘ä¸Šæ·»åŠ å¤šè¡Œå…‰æ ‡ï¼Œå¯åŒæ—¶ç¼–è¾‘å¤šè¡Œã€‚ Ctrl+Alt+â†“ å‘ä¸‹æ·»åŠ å¤šè¡Œå…‰æ ‡ï¼Œå¯åŒæ—¶ç¼–è¾‘å¤šè¡Œã€‚ ","date":"2019-08-15","objectID":"/posts/sublime-text3/:2:0","tags":["Sublime","ä»–å±±ä¹‹çŸ³"],"title":"Sublime Text3 å¿«æ·é”®å¤§å…¨","uri":"/posts/sublime-text3/"},{"categories":["Memo"],"content":"ç¼–è¾‘ç±» Ctrl+J åˆå¹¶é€‰ä¸­çš„å¤šè¡Œä»£ç ä¸ºä¸€è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå°†å¤šè¡Œæ ¼å¼çš„ CSS å±æ€§åˆå¹¶ä¸ºä¸€è¡Œã€‚ Ctrl+Shift+D å¤åˆ¶å…‰æ ‡æ‰€åœ¨æ•´è¡Œï¼Œæ’å…¥åˆ°ä¸‹ä¸€è¡Œã€‚ Tab å‘å³ç¼©è¿›ã€‚ Shift+Tab å‘å·¦ç¼©è¿›ã€‚ Ctrl+K+K ä»å…‰æ ‡å¤„å¼€å§‹åˆ é™¤ä»£ç è‡³è¡Œå°¾ã€‚ Ctrl+Shift+K åˆ é™¤æ•´è¡Œã€‚ Ctrl+/ æ³¨é‡Šå•è¡Œã€‚ Ctrl+Shift+/ æ³¨é‡Šå¤šè¡Œã€‚ Ctrl+K+U è½¬æ¢å¤§å†™ã€‚ Ctrl+K+L è½¬æ¢å°å†™ã€‚ Ctrl+Z æ’¤é”€ã€‚ Ctrl+Y æ¢å¤æ’¤é”€ã€‚ Ctrl+U è½¯æ’¤é”€ï¼Œæ„Ÿè§‰å’Œ Gtrl+Z ä¸€æ ·ã€‚ Ctrl+F2 è®¾ç½®ä¹¦ç­¾ Ctrl+T å·¦å³å­—æ¯äº’æ¢ã€‚ F6 å•è¯æ£€æµ‹æ‹¼å†™ ","date":"2019-08-15","objectID":"/posts/sublime-text3/:3:0","tags":["Sublime","ä»–å±±ä¹‹çŸ³"],"title":"Sublime Text3 å¿«æ·é”®å¤§å…¨","uri":"/posts/sublime-text3/"},{"categories":["Memo"],"content":"æœç´¢ç±» Ctrl+F æ‰“å¼€åº•éƒ¨æœç´¢æ¡†ï¼ŒæŸ¥æ‰¾å…³é”®å­—ã€‚ Ctrl+shift+F åœ¨æ–‡ä»¶å¤¹å†…æŸ¥æ‰¾ï¼Œä¸æ™®é€šç¼–è¾‘å™¨ä¸åŒçš„åœ°æ–¹æ˜¯ sublime å…è®¸æ·»åŠ å¤šä¸ªæ–‡ä»¶å¤¹è¿›è¡ŒæŸ¥æ‰¾ï¼Œç•¥é«˜ç«¯ï¼Œæœªç ”ç©¶ã€‚ Ctrl+P æ‰“å¼€æœç´¢æ¡†ã€‚ä¸¾ä¸ªæ —å­ï¼š1ã€è¾“å…¥å½“å‰é¡¹ç›®ä¸­çš„æ–‡ä»¶åï¼Œå¿«é€Ÿæœç´¢æ–‡ä»¶ï¼Œ2ã€è¾“å…¥@å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­å‡½æ•°åï¼Œ3ã€è¾“å…¥ï¼šå’Œæ•°å­—ï¼Œè·³è½¬åˆ°æ–‡ä»¶ä¸­è¯¥è¡Œä»£ç ï¼Œ4ã€è¾“å…¥#å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾å˜é‡åã€‚ Ctrl+G æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦ï¼šï¼Œè¾“å…¥æ•°å­—è·³è½¬åˆ°è¯¥è¡Œä»£ç ã€‚ä¸¾ä¸ªæ —å­ï¼šåœ¨é¡µé¢ä»£ç æ¯”è¾ƒé•¿çš„æ–‡ä»¶ä¸­å¿«é€Ÿå®šä½ã€‚ Ctrl+R æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦@ï¼Œè¾“å…¥å…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­çš„å‡½æ•°åã€‚ä¸¾ä¸ªæ —å­ï¼šåœ¨å‡½æ•°è¾ƒå¤šçš„é¡µé¢å¿«é€ŸæŸ¥æ‰¾æŸä¸ªå‡½æ•°ã€‚ Ctrl+ï¼š æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦#ï¼Œè¾“å…¥å…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­çš„å˜é‡åã€å±æ€§åç­‰ã€‚ Ctrl+Shift+P æ‰“å¼€å‘½ä»¤æ¡†ã€‚åœºæ™¯æ —å­ï¼šæ‰“å¼€å‘½åæ¡†ï¼Œè¾“å…¥å…³é”®å­—ï¼Œè°ƒç”¨ sublime text æˆ–æ’ä»¶çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨ package å®‰è£…æ’ä»¶ã€‚ Esc é€€å‡ºå…‰æ ‡å¤šè¡Œé€‰æ‹©ï¼Œé€€å‡ºæœç´¢æ¡†ï¼Œå‘½ä»¤æ¡†ç­‰ã€‚ ","date":"2019-08-15","objectID":"/posts/sublime-text3/:4:0","tags":["Sublime","ä»–å±±ä¹‹çŸ³"],"title":"Sublime Text3 å¿«æ·é”®å¤§å…¨","uri":"/posts/sublime-text3/"},{"categories":["Memo"],"content":"æ˜¾ç¤ºç±» Ctrl+Tab æŒ‰æ–‡ä»¶æµè§ˆè¿‡çš„é¡ºåºï¼Œåˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚ Ctrl+PageDown å‘å·¦åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚ Ctrl+PageUp å‘å³åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚ Alt+Shift+1 çª—å£åˆ†å±ï¼Œæ¢å¤é»˜è®¤ 1 å±ï¼ˆéå°é”®ç›˜çš„æ•°å­—ï¼‰ Alt+Shift+2 å·¦å³åˆ†å±-2 åˆ— Alt+Shift+3 å·¦å³åˆ†å±-3 åˆ— Alt+Shift+4 å·¦å³åˆ†å±-4 åˆ— Alt+Shift+5 ç­‰åˆ† 4 å± Alt+Shift+8 å‚ç›´åˆ†å±-2 å± Alt+Shift+9 å‚ç›´åˆ†å±-3 å± Ctrl+K+B å¼€å¯/å…³é—­ä¾§è¾¹æ ã€‚ F11 å…¨å±æ¨¡å¼ Shift+F11 å…æ‰“æ‰°æ¨¡å¼ ","date":"2019-08-15","objectID":"/posts/sublime-text3/:5:0","tags":["Sublime","ä»–å±±ä¹‹çŸ³"],"title":"Sublime Text3 å¿«æ·é”®å¤§å…¨","uri":"/posts/sublime-text3/"},{"categories":["Memo"],"content":"å®‰è£ å®˜æ–¹ä¸‹è¼‰é» ","date":"2019-08-15","objectID":"/posts/netbeans/:1:0","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"æ“´å……åŠŸèƒ½ ","date":"2019-08-15","objectID":"/posts/netbeans/:2:0","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"å®‰è£æ“´å……åŠŸèƒ½ ä¸‹è¼‰æ“´å……å¥—ä»¶åŒ… å®˜æ–¹å¥—ä»¶åº« æˆ–è€…åœ¨ NetBeans IDE è£é¢ä¸‹è¼‰æ’ä»¶ï¼ˆæ–¹ä¾¿ï¼‰ é–‹å•Ÿ NetBeansâ†’Toolsâ†’Pluginsâ†’Downloadedâ†’Add Plugins é¸æ“‡è¦å®‰è£çš„æ“´å……å¥—ä»¶åŒ… ","date":"2019-08-15","objectID":"/posts/netbeans/:2:1","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"å•Ÿç”¨å·²å®‰è£çš„æ“´å……åŠŸèƒ½ é–‹å•Ÿ NetBeansâ†’Toolsâ†’Pluginsâ†’Installed é¸æ“‡è¦å•Ÿç”¨çš„å¥—ä»¶ (*.npm) é»æ“Š Activate ","date":"2019-08-15","objectID":"/posts/netbeans/:2:2","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"åŒ¯å…¥è¨­å®š é–‹å•Ÿ NetBeansâ†’Toolsâ†’Options é»æ“Š Import åŒ¯å…¥è¨­å®š é¸æ“‡è¦åŒ¯å…¥çš„å¥—ä»¶åŒ… (*.zip) ","date":"2019-08-15","objectID":"/posts/netbeans/:2:3","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"å¸¸ç”¨è¨­å®š ","date":"2019-08-15","objectID":"/posts/netbeans/:3:0","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"ç¨‹å¼ç¢¼æ’ç‰ˆ åœ¨ç¨‹å¼é–‹ç™¼ä¸­ï¼Œç¨‹å¼ç¢¼æ’ç‰ˆå¾ˆé‡è¦ã€‚ä¸€å€‹å¥½çš„æ’ç‰ˆåˆ©æ–¼é–‹ç™¼äººå“¡ç¨‹å¼é–±è®€ï¼Œä¹Ÿä¾¿æ–¼å¾ŒæœŸç¶­è­·äººå“¡é–±è®€ã€‚ åœ¨ NetBeans ä¸­è¨­ç½®ç¨‹å¼ç¢¼æ’ç‰ˆ æ‰“é–‹ NetBeans-\u003eTools-\u003eOptions-\u003eEditor-\u003eFormattingï¼› Language é¸æ“‡ All Languagesï¼Œå‹¾é¸\"Expand Tabs to Spaces\", ç”¨å…©å€‹ç©ºæ ¼éµä»£æ›¿ Tab éµï¼Œé¦–è¡Œç•™å…©å€‹ Tab éµã€‚ é»æ“Š Apply æˆ– Ok å®Œæˆè¨­ç½®ã€‚å…·é«”è¨­ç½®åŠæ•ˆæœå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š ","date":"2019-08-15","objectID":"/posts/netbeans/:3:1","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"ç¨‹å¼ç¢¼æ¨£æ¿ ç¨‹å¼ç¢¼æ¨£æ¿å¯ä»¥å¹«åŠ©ä½ å¿«é€Ÿæ›¸å¯«ç¨‹åºï¼Œä¸å¿…ç¹ç‘£åœ°è²æ˜å‡½æ•¸æˆ–å…¶ä»–ä»£ç¢¼å¡Šï¼Œæ›´å°ˆæ³¨èˆ‡é‚è¼¯çš„æ›¸å¯«ã€‚ åœ¨ NetBeans ä¸­è¨­ç½®ç¨‹å¼ç¢¼æ¨£æ¿ æ‰“é–‹ NetBeansâ†’Toolsâ†’Optionsâ†’Editorâ†’Code Templatesï¼› é¸æ“‡ä½ æ‰€ç”¨çš„èªè¨€ï¼ˆé€™è£¡ä»¥ JavaScript ç‚ºä¾‹ï¼‰ï¼› é»æ“Š\"New\"æ–°å»ºå±¬æ–¼ä½ çš„æˆ–ä¿®æ”¹åŸæœ‰çš„ç¨‹å¼ç¢¼æ¨£æ¿ï¼ˆä¾‹å­åƒ…ç‚ºæ¼”ç¤ºï¼‰ï¼› åœ¨ç·¨ç¨‹ä¸­æ‡‰ç”¨å®ƒã€‚ ","date":"2019-08-15","objectID":"/posts/netbeans/:3:2","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"å‰ç«¯å£“ç¸® ä¸‹è¼‰æ“´å……å¥—ä»¶netbeans minify æˆ–è€… minifierBeans é–‹å•Ÿ NetBeansâ†’Toolsâ†’Pluginsâ†’Downloadedâ†’Add Plugins é¸æ“‡ä½ ä¸‹è¼‰çš„æ“´å……å¥—ä»¶é–‹å•Ÿ é–‹å•Ÿ NetBeansâ†’Toolsâ†’options ","date":"2019-08-15","objectID":"/posts/netbeans/:3:3","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"å¿«æ·éµ é”®ä½ ä½œç”¨ Ctrl+/ æ³¨é‡Šä¸€è¡Œï¼ˆæˆ–é€‰ä¸­éƒ¨åˆ†ï¼‰ Ctrl+X å‰ªåˆ‡ä¸€è¡Œï¼ˆæˆ–é€‰ä¸­éƒ¨åˆ†ï¼‰ Ctrl+E åˆ é™¤ä¸€è¡Œï¼ˆæˆ–é€‰ä¸­éƒ¨åˆ†ï¼‰ Shift+Alt+ä¸Šä¸‹æ–¹å‘é”® ç§»åŠ¨å½“å‰è¡Œ Ctrl+Shift+ä¸Šä¸‹æ–¹å‘é”® å¤åˆ¶å½“å‰è¡Œï¼ˆè¯¥æ“ä½œå¹¶éå¤åˆ¶åˆ°ç²˜è´´æ¿ï¼‰ Shift+Alt+F æ•´ç†ä»£ç  TAB ä»£ç¢¼è‡ªå‹•è£œå…¨/ç¼©è¿›/é¸ä¸­æ–‡å­—åŒæ™‚ç¼©è¿› Shift+TAB é¸ä¸­æ–‡å­—åŒæ™‚å–æ¶ˆç¼©è¿› Ctrl+F æŸ¥æ‰¾æŸä¸ªå­— Ctrl+Shift+F æ•´ä¸ªé¡¹ç›®ä¸­æŸ¥æ‰¾æŸä¸ªå­— Ctrl+H æ›¿æ¢æŸä¸ªå­— Ctrl+Enter å¢åŠ ç©ºç™½è¡Œï¼Œå…‰æ ‡ä¸åŠ¨ã€‚ Ctrl+(0~7) æ‰“å¼€å„ç§å°çª—å£ Shift+æ–¹å‘é”® é¸ä¸­æ–‡å­— Ctrl+Alt+Space ä»£ç è¾“å…¥æç¤ºï¼Œä¸ä¹ æƒ¯çš„å¯ä»¥è®¾ç½®ä¸º (Alt+/)ï¼Œè¶…çº§å¥½ç”¨ï¼ï¼ï¼ Ctrl+Shift+F5 è°ƒè¯•å½“å‰ç¨‹åº Shift+F6 è¿è¡Œå½“å‰ç¨‹åº F6 è¿è¡Œä¸»ç¨‹åº Alt+Enter æ˜¾ç¤ºç¨‹å¼ bug å»ºè®®æˆ–è€…è­¦ç¤ºç­‰ NetBeans ä¸­å¸¸ç”¨çš„å¿«æ·éµ â†‘ï¼š ä¸‰ç¨®è¤‡è£½è¡Œæ–¹æ³• å¤åˆ¶ä¸€è¡Œï¼šCtrl + Shift + ä¸Šä¸‹æ–¹å‘é”®ï¼ˆè¯¥æ“ä½œå¹¶éå¤åˆ¶åˆ°ç²˜è´´æ¿ï¼‰ï¼› å¤åˆ¶ä¸€è¡Œï¼šåœ¨è¯¥è¡Œä»»ä½•åœ°æ–¹è¿ç»­ä¸‰å‡»é€‰ä¸­ä¸€æ ·ï¼Œç„¶å Ctrl + C å³å¯å¤åˆ¶ä¸€è¡Œã€‚ï¼› å¤åˆ¶ä¸€è¡Œï¼ˆä½¿ç”¨å®ï¼‰: ç¼–è¾‘-å¼€å§‹å½•åˆ¶å® (Home,Shift + End,Ctrl + C)-åœæ­¢å½•åˆ¶å®-è®¾ç½®å®åç§°ï¼ˆå¦‚ select-entire-line)-è®¾ç½®å¿«æ·é”®ï¼ˆå¦‚ Ctrl + Alt + C)ï¼› ä¹Ÿå¯è‡ªå·±ä¿®æ”¹å¿«æ·éµ (Toolsâ†’Optionsâ†’Keympa), å¦‚ä¸‹åœ– {% asset_img quickkey.png quickkey %} ","date":"2019-08-15","objectID":"/posts/netbeans/:3:4","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"é ç¨‹é–‹ç™¼ (FTP) å·¥ä½œä¸ºä¾‹ æ–°å»ºé¡¹ç›® æ‰“å¼€è½¯ä»¶ï¼Œè¿›å…¥æ–°å»ºé¡¹ç›®é¡µé¢ï¼ˆFile-New Projectï¼‰ï¼Œæ–°å»º php é¡¹ç›®ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªï¼ˆPHP-PHP Applicationï¼‰ é¡¹ç›®åå’Œåœ°å€è‡ªå·±é€‰æ‹©ï¼ˆæ³¨æ„ï¼Œé€‰æ‹©åœ°å€åéœ€åœ¨åœ°å€æœ€åé¢åŠ ä¸Š\"/é¡¹ç›®å\"ï¼‰ FTP è®¾ç½® ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè¿›å…¥ FTP è®¾ç½®ï¼ŒRun As é€‰æ‹© Remote Web Site(FTP,SFTP) Project URL å¡«å†™http://127.0.0.1/training/å·¥å· Manage è®¾ç½® ç‚¹å‡» Manage, è¿›å…¥é¡µé¢ã€‚åå­—è‡ªå–ã€‚Host Name å¡«å†™ï¼š127.0.0.1 Encryption é€‰æ‹© Pure FTP,User Name å’Œ Passwordï¼ˆå¡«å†™å·¥å·/è¯¾åŠ¡ç³»ç»Ÿç™»å½•å¯†ç ï¼‰ Initial Directory å¡«å†™_training ç‚¹å‡» Test Connection æµ‹è¯•æ˜¯å¦è¿æ¥æˆåŠŸ å…¶ä»–è®¾ç½® Upload Directory, ä¸Šä¼ ç›®å½•ä¸å¡«ï¼Œç›´æ¥ä¸Šä¼ è‡³ä¸ªäººæ ¹ç›®å½• Upload File æ”¹ä¸ºä¿å­˜æ—¶ä¸Šä¼ æ–‡ä»¶ï¼ˆOn Saveï¼‰ ","date":"2019-08-15","objectID":"/posts/netbeans/:3:5","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Memo"],"content":"Chrome with NetNeans Connector æ‰“é–‹ chrome ä¸­çš„æ‡‰ç”¨ç¨‹å¼å•†åº—ï¼ˆä½¿ç”¨ chrome ç€è¦½å™¨é»æ“Šä¸‹æ–¹éˆæ¥å³å¯ï¼‰ chrome æ‡‰ç”¨ç¨‹å¼å•†åº— åœ¨æœç´¢æ¡†ä¸­è¼¸å…¥ NetNeans Connector åæœç´¢ï¼Œç„¶å¾Œé»æ“Šå³é‚Šçš„åŠ åˆ° Chrome å³å¯ï¼Œå®‰è£æˆåŠŸåå³ä¸Šè§’æœƒé¡¯ç¤º NetBeans åœ–æ¨™ã€‚ é–‹å•Ÿ netbeans é¸æ“‡ Runâ†’Set Project Browserâ†’ é¸ä¸­ Chrome with NetBeans Connector é¸æ“‡ default ä¸‹çš„ Customize â†’ é¸æ“‡ Browser â†’ é¸æ“‡ Browser ä¸‹ Chrome with NetBeans Connector å³å¯ ","date":"2019-08-15","objectID":"/posts/netbeans/:3:6","tags":["NetBeans","PHP"],"title":"NetBeans IDE å¼€å‘è®¾ç½®","uri":"/posts/netbeans/"},{"categories":["Spec"],"content":"ç²¾ç¥ ç»ä¸å†™æ­»ä»£ç ï¼Œç¡¬ç¼–ç  ä¸ç•™ä¸è¦ç”¨çš„ã€åƒåœ¾ä»£ç  ","date":"2019-08-15","objectID":"/posts/dev-rules/:1:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"Git Master çš„ BUG å¿…é¡»æœ€å°‘ä¸”è¶‹è¿‘äºé›¶ï¼Œä¸ºæœ€ç¨³å®šçš„ç‰ˆæœ¬ æ¯æ¬¡ Commit ä¿¡æ¯åº”è¯¥å‡†ç¡®å¡«å†™ã€‚ä¸å¯æ¨¡æ£±ä¸¤å¯ï¼Œeg: ä¿®å¤ BUGã€å¢åŠ åŠŸèƒ½ ç¦æ­¢ Commit IDE çš„ project dataï¼Œe.g: .vscode ç¦æ­¢ä¸Šä¼ åƒåœ¾ä»£ç  æ›´å¤šè§„åˆ™è¯¦è§æ–‡æ¡£ Commit è§„èŒƒ ","date":"2019-08-15","objectID":"/posts/dev-rules/:2:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"åˆ†æ”¯ï¼ˆBranchï¼‰ å‘½åè§„åˆ™ï¼šåº”ä»¥æ­¤åˆ†æ”¯ä¸»è¦ç›®çš„å‘½åï¼ˆä¿®å¤ä»€ä¹ˆ BUGï¼Œæ–°å¢ç‰¹å®šåŠŸèƒ½ï¼‰ åˆå¹¶åçš„åˆ†æ”¯åº”è¯¥åˆ é™¤ ","date":"2019-08-15","objectID":"/posts/dev-rules/:2:1","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"commit éµå¾ªä¸€ä¸ªåŠŸèƒ½ä¸€ä¸ª commit çš„åŸåˆ™ ","date":"2019-08-15","objectID":"/posts/dev-rules/:2:2","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"Restful èµ„æºåè¯ç«™åœ¨ API çš„è§’åº¦æ€è€ƒ å¤æ•°åè¯ï¼šå¯ä»¥å¤æ•°ç¬”æ•°æ®ï¼Œå›ä¼ ç»“æœä¸º Array ä¸¾ä¾‹ï¼šGET/users å–å¾—å¤šç¬”ä½¿ç”¨è€…èµ„æ–™ åˆªé™¤ï¼Œæ”¾åœ¨å¤æ•°åè¯å…§ï¼Œè®© Router ä¿æŒä¸€è‡´æ€§ å¢åŠ ï¼Œæ”¾åœ¨å¤æ•°åè©å…§ï¼Œè®© Router ä¿æŒä¸€è‡´æ€§ å•æ•°åè¯ï¼šä»…å–å¾—å•ç¬”æ•°æ®ï¼Œå¿…é¡»æŒ‡å®š PKï¼Œä¸¤ä¸¤ä¸€ç»„ï¼Œå›ä¼ ç»“æœä¸º Object ä¸¾ä¾‹ï¼šGET/user/{accont} å–å¾—å•ç¬”ä½¿ç”¨è€…èµ„æ–™ï¼Œå¿…é¡»æŒ‡å®š PK URL ä¸­ä¸€å¾‹ä¸å¸¦ id å‚æ•° æ­£ç¡®èŒƒä¾‹ï¼š calendar_manager/calendar/29 é”™è¯¯èŒƒä¾‹ï¼š calendar_manager/calendar/29?id=29 æ›´å¤šè§„åˆ™è¯¦è§æ–‡æ¡£ RESTful ","date":"2019-08-15","objectID":"/posts/dev-rules/:3:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"å‘½å å‘½ååº”æ ¹æ®å†…å®¹åšæœ‰æ„ä¹‰çš„å‘½åï¼Œè®©åç»­ç»´æŠ¤äººå‘˜å¯ä»¥é¡¾åæ€ä¹‰ï¼ å³ä½¿ä¸ä¼šå‘ç”Ÿé”™è¯¯ï¼Œä»£ç è‹±æ–‡å¤§å°å†™ä¹Ÿéœ€æ˜ç¡®åŒºåˆ†ã€‚ ","date":"2019-08-15","objectID":"/posts/dev-rules/:4:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"è¯­æ„ ç±»å‹ å‘½åè§„åˆ™ è¯´æ˜ å±æ€§ (Attribute, Property) åè¯ user_nameã€userName æ–¹æ³• (Method, Function) åŠ¨è¯ + åè¯ getUserNameã€get_user_name å¸¸è¦‹çš„åŠ¨è¯æœ‰ï¼šgetã€setã€updateã€deleteã€remove ","date":"2019-08-15","objectID":"/posts/dev-rules/:4:1","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"å­—æ¯ä¸åˆ†éš” è¯­è¨€ å˜é‡ (Variable, Parameter, Argument) å¸¸é‡ (Constant) é¢å‘å¯¹è±¡ - ç±»å (Class Name) é¢å‘å¯¹è±¡ - æˆå‘˜ (mebmer) HTML å…¨éƒ¨å°å†™ï¼Œä¸åŒå•è¯ä»¥ã€Œ-ã€åˆ†éš” e.g: user-id CSSã€SCSS å…¨éƒ¨å°å†™ï¼Œä¸åŒå•è¯ä»¥ã€Œ-ã€åˆ†éš”ï¼ŒCSS å˜é‡ä»¥ã€Œâ€“ã€å¼€å¤´ï¼ŒSCSS å˜é‡ä»¥ã€Œ$ã€å¼€å¤´ e.g: .user-idã€â€“header-heightã€$header-height JavaScript é©¼å³°å¼å‘½åæ³• é¦–å­—å°å†™ï¼Œä¸åŒå•å­—ã€Œé¦–å­—ä»¥å¤§å†™ã€åˆ†éš” e.g: userId å…¨éƒ¨å¤§å†™ï¼Œä¸åŒå•å­—ä»¥ã€Œ_ã€åˆ†éš” MAX_COUNT é©¼å³°å¼å‘½åæ³• é¦–å­—å¤§å†™ï¼Œä¸åŒå•å­—ã€Œé¦–å­—ä»¥å¤§å†™ã€åˆ†éš” ä¸€ä¸ªæ–‡ä»¶æ”¾ä¸€ä¸ª Class, æ–‡ä»¶åå³ä¸º Class Name e.g: User é©¼å³°å¼å‘½åæ³• å…¬æœ‰ (public) : é¦–å­—å°å†™ï¼Œä¸åŒå•è¯ã€Œé¦–å­—ä»¥å¤§å†™ã€åˆ†éš” e.g: name, getName ç§æœ‰ (private): _å…¬æœ‰å‘½åè§„åˆ™ e.g: _name,_getName Vue Java PHP å…¨éƒ¨å°å†™ï¼Œä¸åŒå•è¯ä»¥ã€Œ_ã€åˆ†éš” e.g: user_id Python SQL ç”±ä½¿ç”¨è€…å®šä¹‰çš„ï¼šè¡¨åã€å­—æ®µå å…¨éƒ¨å°å†™ï¼Œä¸åŒå•è¯ä»¥ã€Œ_ã€åˆ†éš” SQL è¯­æ³•ã€å‡½æ•°å…¨éƒ¨å¤§å†™ e.g: SELECTã€INSERT INTO ","date":"2019-08-15","objectID":"/posts/dev-rules/:4:2","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"é€šç”¨ ä»£ç ç¼–å†™ æ¯ä¸ªå‡½æ•°åº”è¯¥ä½¿ç”¨å—æ³¨é‡Šï¼Œæ³¨é‡Šåº”åŒ…å«å‡½æ•°åŠŸèƒ½è¯´æ˜ã€å‚æ•°è¯´æ˜ã€‚è§„åˆ™è§ï¼šJSDocã€JavaDoc ä¸å¿…è¦çš„ä»£ç ä¸è¦å†™ï¼Œä¹Ÿåº”ç¦æ­¢æ”¾åˆ°æ³¨é‡Šé‡Œé¢ï¼ if-else çš„ {} ä¸¥ç¦çœç•¥ ä»£ç è§„èŒƒã€ä»£ç æ’ç‰ˆç­‰å¯é€šè¿‡ eslint ç­‰å·¥å…·åšç»Ÿä¸€å¤„ç† ","date":"2019-08-15","objectID":"/posts/dev-rules/:5:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"æ­£ç¡®å†™æ³• public function test () { // do something if (a === b) { // do something } } ","date":"2019-08-15","objectID":"/posts/dev-rules/:5:1","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"é”™è¯¯å†™æ³• public function test () { // do something if (a === b) { // do something } } ä»£ç æ’ç‰ˆ ä»»ä½•ä»£ç åº”è¯¥ä»¥ 2 ä¸ª space ä¸ºä¸€ä¸ªç¼©è¿›åšå¥½æ’ç‰ˆã€ä¸å¯ä½¿ç”¨ tab å‡½æ•° (Function, Methd) å‡½æ•°å£°æ˜æ—¶éœ€åœ¨å‡½æ•°ä¸Šæ–¹åŠ ä¸Šå‡½æ•°æ³¨é‡Šï¼Œæ³¨é‡Šåº”åŒ…å«å‡½æ•°è¯´æ˜ã€å‚æ•°å†…å®¹ï¼ˆå‚æ•°ç±»å‹ã€å‚æ•°è‹±æ–‡åç§°ã€å‚æ•°è¯´æ˜ï¼‰ã€è¿”å›å€¼å†…å®¹ï¼ˆè¿”å›å€¼ç±»å‹ã€è¿”å›å€¼è¯´æ˜ï¼‰ ç±» (Class) ä¸€ä¸ªç±»ï¼ˆClassï¼‰çš„å£°æ˜åªèƒ½å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ ç±»ï¼ˆClassï¼‰çš„å£°æ˜æ–‡ä»¶ï¼Œæ–‡ä»¶åå¿…é¡»ä¸ºç±»å å…¶ä»– è¿æ¥æœ¬åœ°ä»»ä½•å…¶ä»–èµ„æºï¼ˆå›¾ç‰‡ã€æ–‡ä»¶ã€ç½‘ç«™ï¼‰çš†ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œç¦æ­¢ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œéæœ¬åœ°èµ„æºé™¤å¤– ","date":"2019-08-15","objectID":"/posts/dev-rules/:6:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"HTML ","date":"2019-08-15","objectID":"/posts/dev-rules/:7:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"ä»£ç ç¼–å†™ ç¦æ­¢åœ¨ HTML ä½¿ç”¨ \u003cstyle\u003eã€\u003cscript\u003eï¼Œä¸€å¾‹ä½¿ç”¨å¤–éƒ¨æ¡£æ¡ˆå¼•ç”¨æ–¹å¼å¼•ç”¨ CSSã€JavaScript æ–‡ä»¶ HTML æ ‡ç­¾éœ€æˆåŒæˆå¯¹ï¼Œæœ‰å¤´æœ‰å°¾ å—çº§æ ‡ç­¾ï¼š\u003ctag\u003e\u003c/tag\u003e å•æ ‡ç­¾ï¼š\u003ctag /\u003e ç¦æ­¢ä½¿ç”¨å·²è¢« HTML èˆå¼ƒçš„æ—§æ ‡ç­¾ã€å±æ€§ï¼Œå¦‚ï¼š \u003c!-- html tag --\u003e \u003ccenter\u003e \u003cfont\u003e \u003cbasefont\u003e \u003cs\u003e \u003cstrike\u003e \u003cu\u003e \u003clisting\u003e \u003cplaintext\u003e \u003cxmp\u003e \u003c!-- html attribute --\u003e align bgcolor color ","date":"2019-08-15","objectID":"/posts/dev-rules/:7:1","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"CSS CSS çš„å®šä¹‰åº”è¯¥ç‹¬ç«‹ä¸€ä¸ª CSS æ–‡ä»¶ï¼Œç¦æ­¢ä½¿ç”¨ \u003cstyle\u003e æˆ– style å±æ€§ç›´æ¥åœ¨ HTML ä¸­å®šä¹‰æ ·å¼ã€‚ ","date":"2019-08-15","objectID":"/posts/dev-rules/:8:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"JavaScript ç¦æ­¢ä½¿ç”¨ HTML å­—ä¸²ï¼Œä¸€å¾‹ä½¿ç”¨ Dom äº§ç”Ÿ HTML, e.g: document.createDocumentFragment() ","date":"2019-08-15","objectID":"/posts/dev-rules/:9:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"æ³¨é‡Š JavaScript æ³¨é‡Šåº”è¯¥éµå¾ª JSDoc çš„æ ‡å‡†æ’°å†™ å…¨å±€å˜é‡ (Global) /* global ZT */ å¸¸é‡ (Constant) /** * å¸¸é‡èªªæ˜ * @type {å¸¸é‡ç±»å‹} */ Example /** * è¯·æ±‚åœ°å€ * @type {String} */ const REQUEST_URL = 'http://localhost:8080'; å‡½æ•¸ã€æ–¹æ³• (Function, Method) /** * å‡½æ•°ç”¨é€”è¯´æ˜ * @param {å‚æ•°ç±»å‹} å‚æ•°åç§°å‚æ•°è¯´æ˜ * @param {å‚æ•°ç±»å‹} [é€‰æ‹©æ€§å‚æ•°åç§°] å‚æ•°è¯´æ˜ * @param {å‚æ•°ç±»å‹} [é€‰æ‹©æ€§å‚æ•°åç§°=å‚æ•°é¢„è®¾å€¼] å‚æ•°è¯´æ˜ * @returns {è¿”å›å€¼ç±»å‹} è¿”å›å€¼è¯´æ˜ */ Example /** * å–å¾—ä½¿ç”¨è€… * @param {Int} userId ä½¿ç”¨è€… ID * @param {Object} [options] å…¶ä»–é€‰é¡¹ * @param {String} [options.query='a'] æŸ¥è¯¢å…³é”®è¯ é»˜è®¤ä¸º 'a' * @returns {Object} ä½¿ç”¨è€…èµ„æ–™ */ function getUser(userId, options) { // do something return user; } ","date":"2019-08-15","objectID":"/posts/dev-rules/:9:1","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"Vue å¾…è¡¥å…… ","date":"2019-08-15","objectID":"/posts/dev-rules/:10:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"Java Java æ³¨é‡Šåº”è¯¥éµå¾ª JavaDoc çš„æ ‡å‡†æ’°å†™ å¾…è¡¥å…… ","date":"2019-08-15","objectID":"/posts/dev-rules/:11:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"PHP ","date":"2019-08-15","objectID":"/posts/dev-rules/:12:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"å‰ç«¯å‚æ•°å–å¾— å‚æ•°å–å¾—éœ€é€šè¿‡ filter_input å‡½æ•°å–å¾—ï¼Œä¸å¾—ä½¿ç”¨ _GET ã€_POST ","date":"2019-08-15","objectID":"/posts/dev-rules/:12:1","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"è¾“å‡ºåˆ°å‰å° å‚æ•°å‘½åå¿…é¡»ä¸ºï¼šå…¨éƒ¨å°å†™ï¼Œä¸åŒå•å­—ä»¥ã€Œ_ã€åˆ†éš” ","date":"2019-08-15","objectID":"/posts/dev-rules/:12:2","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"æ³¨è§£ PHP æ³¨è§£åº”è¯¥éµå¾ª PHPDoc çš„æ ‡å‡†æ’°å†™ ","date":"2019-08-15","objectID":"/posts/dev-rules/:12:3","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"æˆå‘˜å˜é‡ (Member) æˆå‘˜å˜é‡åªçš„æ˜¯ Class å†…çš„æˆå‘˜å˜æ•°ï¼Œæˆ‘ä»¬éƒ½ä¼šè¦æ±‚æ›¿æˆå‘˜å˜é‡å¢åŠ æ³¨è§£è¯´æ˜ã€‚é€šå¸¸ Function çš„å˜é‡é™¤éå¤ªç‰¹åˆ«å¦åˆ™éƒ½ä¸éœ€è¦ç‰¹åˆ«æ³¨è§£è¯´æ˜ã€‚ /** * æˆå‘˜å˜é‡èªªæ˜ * @type {ç±»å‹} */ Example /** * ä½¿ç”¨è€… ID * @type {String} */ $userId = 'Hello'; ","date":"2019-08-15","objectID":"/posts/dev-rules/:12:4","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"å‡½æ•°ã€æ–¹æ³• (Function, Method) /** * å‡½æ•°ç”¨é€”è¯´æ˜ * @param å‚æ•°å‹æ€ å‚æ•°åç§° å‚æ•°è¯´æ˜ * @option å‚æ•°é€‰é¡¹ç±»å‹ å‚æ•°é€‰é¡¹åç§° å‚æ•°é€‰é¡¹è¯´æ˜ * @uses å…¨å±€å˜é‡ å…¨åŸŸå˜æ•°è¯´æ˜ * @returns è¿”å›å€¼ç±»å‹ è¿”å›å€¼è¯´æ˜ */ Example /** * å–å¾—ä½¿ç”¨è€… * @param int userId ä½¿ç”¨è€… ID * @param object options å…¶ä»–é€‰é¡¹ * @option string options['query'] æŸ¥è¯¢å…³é”®å­— * @uses $_POST['role_id'] ä»å‰ç«¯ä»¥ POST å–å¾—è§’è‰² ID * @returns object ä½¿ç”¨è€…èµ„æ–™ */ function getUser ($userId, $options) { // do something return $user; }; ","date":"2019-08-15","objectID":"/posts/dev-rules/:12:5","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"Python å¾…è¡¥å…… ","date":"2019-08-15","objectID":"/posts/dev-rules/:13:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"Database ç¦æ­¢ä½¿ç”¨ Table Joinã€‚ ç¦æ­¢ä½¿ç”¨ Oracle Triggerã€‚ ç¦æ­¢å°†æŸ¥è¯¢æ•°æ®åº“çš„ SQL æ”¾åœ¨å¾ªç¯ä¸­æŸ¥è¯¢ ","date":"2019-08-15","objectID":"/posts/dev-rules/:14:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"SQL æ’°å†™ å±äº SQL è¯­æ³•ä½¿ç”¨å¤§å†™ï¼ˆSELECTï¼ŒWHEREï¼ŒINSERT etc..ï¼‰ å±äºä½¿ç”¨è€…è‡ªå·±å®šä¹‰çš„ä½¿ç”¨å°å†™ï¼ˆè¡¨å table nameï¼Œå­—æ®µå column name etc..ï¼‰ è¡¨åã€å­—æ®µåå‰åéœ€åŠ ä¸Š ` Example INSERT INTO `user` VALUES('a', 'b'); ","date":"2019-08-15","objectID":"/posts/dev-rules/:14:1","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["Spec"],"content":"ç»Ÿä¸€ç”¨è¯ ç³»ç»Ÿä¸­å¸¸ç”¨è¯ï¼Œä¾‹å¦‚å¼¹å‡ºæ¡†æŒ‰é’®ã€æœç´¢æ¡†ç­‰ï¼Œä»…ä¸ºä¸¾ä¾‹ï¼Œä¸é™ä¸æ­¤ã€‚ ç”¨è¯ ç»Ÿä¸€ æœ€åã€æœ€ç»ˆ æœ€å å…³é—­ã€Cancelã€å–æ¶ˆ å–æ¶ˆ å­˜å‚¨ã€ä¿å­˜ã€ä¿®æ”¹ã€OKã€ç¡®å®š ç¡®å®š æœå¯»ã€æŸ¥è¯¢ã€æŸ¥æ‰¾ã€æœç´¢ æœç´¢ ","date":"2019-08-15","objectID":"/posts/dev-rules/:15:0","tags":["Git","REST","HTML","CSS","Scss","JavaScript","Vue","Java","PHP","Python"],"title":"Web å¼€å‘è§„åˆ™ï¼Œä»£ç è§„èŒƒ","uri":"/posts/dev-rules/"},{"categories":["PHP"],"content":" ç®€å•æ¨¡ä»¿äº†ä¸€ä¸ªè¯„è®ºæ¨¡æ¿ï¼Œå½“ç„¶è‚¯å®šæ˜¯æ²¡æœ‰åšå®¢çš„ valine è¿™ä¹ˆå¼ºå¤§çš„ hhhhï¼Œ PHP è¡¨å•å®‰å…¨æ€§çš„é‡è¦æç¤º $_SERVER[\"PHP_SELF\"]å˜é‡èƒ½å¤Ÿè¢«é»‘å®¢åˆ©ç”¨ï¼ å¦‚æœé¡µé¢ä¸­ä½¿ç”¨äº†PHP_SELFï¼Œç”¨æˆ·èƒ½å¤Ÿè¾“å…¥ä¸‹åˆ’çº¿ç„¶åæ‰§è¡Œè·¨ç«™ç‚¹è„šæœ¬ï¼ˆXSSï¼‰ã€‚ æ¯”å¦‚è¯´æ³¨å…¥ js è„šæœ¬ç­‰ï¼Œvaline ä»¥å‰çš„ç‰ˆæœ¬ä¹Ÿæœ‰è¿‡è¿™æ ·çš„æ¼æ´ã€‚ è·¨ç«™ç‚¹è„šæœ¬ï¼ˆCross-site scriptingï¼ŒXSSï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºå®‰å…¨æ¼æ´ç±»å‹ï¼Œå¸¸è§äº Web åº”ç”¨ç¨‹åºã€‚XSS èƒ½å¤Ÿä½¿æ”»å‡»è€…å‘å…¶ä»–ç”¨æˆ·æµè§ˆçš„ç½‘é¡µä¸­è¾“å…¥å®¢æˆ·ç«¯è„šæœ¬ã€‚ å¯ä»¥åƒ valine ä¸€æ ·åœ¨ç”¨æˆ·è¾“å…¥å®Œåä¿ç•™è¾“å…¥ï¼Œè¿˜æœ‰ä¸€äº›æ­£åˆ™æ§åˆ¶è¾“å…¥æç¤ºç­‰ç®€å•åŠŸèƒ½ã€‚UI å°±ä¸‘çˆ†äº†ç®—äº†ã€‚ \u003c!DOCTYPE HTML\u003e \u003chtml\u003e \u003chead\u003e \u003cstyle\u003e .error {color: #FF0000;} .main{ width: 20%; height: 100%; border: 1px #000 solid; padding: 20px; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003c?php // å®šä¹‰å˜é‡å¹¶è®¾ç½®ä¸ºç©ºå€¼ $nameErr = $emailErr = $genderErr = $websiteErr = \"\"; $name = $email = $gender = $comment = $website = \"\"; if ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") { if (empty($_POST[\"name\"])) { $nameErr = \"Name is required\"; } else { $name = test_input($_POST[\"name\"]); // æ£€æŸ¥åå­—æ˜¯å¦åŒ…å«å­—æ¯å’Œç©ºæ ¼ if (!preg_match(\"/^[a-zA-Z ]*$/\",$name)) { $nameErr = \"Only letters and white space allowed\"; } } if (empty($_POST[\"email\"])) { $emailErr = \"Email is required\"; } else { $email = test_input($_POST[\"email\"]); // æ£€æŸ¥ç”µé‚®åœ°å€è¯­æ³•æ˜¯å¦æœ‰æ•ˆ if (!preg_match(\"/([\\w\\-]+\\@[\\w\\-]+\\.[\\w\\-]+)/\",$email)) { $emailErr = \"Invalid email format\"; } } if (empty($_POST[\"website\"])) { $website = \"\"; } else { $website = test_input($_POST[\"website\"]); // æ£€æŸ¥ URL åœ°å€è¯­è¨€æ˜¯å¦æœ‰æ•ˆï¼ˆæ­¤æ­£åˆ™è¡¨è¾¾å¼åŒæ ·å…è®¸ URL ä¸­çš„ä¸‹åˆ’çº¿ï¼‰ if (!preg_match(\"/\\b(?:(?:https?|ftp):\\/\\/|www\\.)[-a-z0-9+\u0026@#\\/%?=~_|!:,.;]*[-a-z0-9+\u0026@#\\/% =~_|]/i\",$website)) { $websiteErr = \"Invalid URL\"; } } if (empty($_POST[\"comment\"])) { $comment = \"\"; } else { $comment = test_input($_POST[\"comment\"]); } if (empty($_POST[\"gender\"])) { $genderErr = \"Gender is required\"; } else { $gender = test_input($_POST[\"gender\"]); } } function test_input($data) { $data = trim($data); $data = stripslashes($data); $data = htmlspecialchars($data); return $data; } ?\u003e \u003cdiv class=\"main\"\u003e \u003ch2\u003ePHP éªŒè¯å®ä¾‹\u003c/h2\u003e \u003cform method=\"post\" action=\"\u003c?php echo htmlspecialchars($_SERVER['PHP_SELF']);?\u003e\"\u003e å§“åï¼š\u003cinput type=\"text\" name=\"name\" value=\"\u003c?php echo $name;?\u003e\"\u003e \u003cspan class=\"error\"\u003e* \u003c?php echo $nameErr;?\u003e\u003c/span\u003e \u003cbr\u003e\u003cbr\u003e æ€§åˆ«ï¼š \u003cinput type=\"radio\" name=\"gender\" \u003c?php if (isset($gender) \u0026\u0026 $gender==\"å¥³æ€§\") echo \"checked\";?\u003e value=\"å¥³æ€§\"\u003eå¥³æ€§ \u003cinput type=\"radio\" name=\"gender\" \u003c?php if (isset($gender) \u0026\u0026 $gender==\"ç”·æ€§\") echo \"checked\";?\u003e value=\"ç”·æ€§\"\u003eç”·æ€§ \u003cspan class=\"error\"\u003e* \u003c?php echo $genderErr;?\u003e\u003c/span\u003e \u003cbr\u003e\u003cbr\u003e ç”µé‚®ï¼š\u003cinput type=\"text\" name=\"email\" value=\"\u003c?php echo $email;?\u003e\"\u003e \u003cspan class=\"error\"\u003e* \u003c?php echo $emailErr;?\u003e\u003c/span\u003e \u003cbr\u003e\u003cbr\u003e ç½‘å€ï¼š\u003cinput type=\"text\" name=\"website\" value=\"\u003c?php echo $website;?\u003e\"\u003e \u003cspan class=\"error\"\u003e\u003c?php echo $websiteErr;?\u003e\u003c/span\u003e \u003cbr\u003e\u003cbr\u003e è¯„è®ºï¼š\u003ctextarea name=\"comment\" rows=\"5\" cols=\"40\"\u003e\u003c?php echo $comment;?\u003e\u003c/textarea\u003e \u003cbr\u003e\u003cbr\u003e \u003cinput type=\"submit\" name=\"submit\" value=\"æäº¤\"\u003e \u003ch2\u003eä½ çš„è¾“å…¥æ˜¯ï¼š\u003c/h2\u003e \u003c?php echo $name.\"\u003cbr/\u003e\"; echo $gender.\"\u003cbr/\u003e\"; echo $email.\"\u003cbr/\u003e\"; echo $website.\"\u003cbr/\u003e\"; echo $comment.\"\u003cbr/\u003e\"; ?\u003e \u003cbr/\u003e \u003c/form\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2019-07-19","objectID":"/posts/phpform/:0:0","tags":["PHP"],"title":"ç®€å•è¯„è®ºæ¨¡å—--php è¡¨å•ç»ƒä¹ ","uri":"/posts/phpform/"},{"categories":["PHP"],"content":" ç»ƒä¹  php å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨ã€‚ æ³¨ï¼š å¿…é€‰å‚æ•°åœ¨å¯é€‰å‚æ•°çš„å‰é¢ã€‚ å¯åœ¨å‡½æ•°ä¸­å®šä¹‰å‡½æ•°ï¼Œéœ€è¦å…ˆè°ƒç”¨å¤–å±‚å‡½æ•°æ‰èƒ½è°ƒç”¨å†…å±‚å‡½æ•°ã€‚ \u003c?php /* åˆ›å»ºè¡¨æ ¼ */ function createTable($rows,$cols,$bgcolor='pink',$content='x'){ $table = \"\u003ctable border='1' bgcolor='{$bgcolor}' cellpadding='10' cellspacing='0' width='50%' \u003e\"; for($i=1;$i\u003c=$rows;$i++){ $table.=\"\u003ctr\u003e\"; for($j=1;$j\u003c=$cols;$j++){ $table.=\"\u003ctd\u003e{$content}\u003c/td\u003e\"; } $table .=\"\u003c/tr\u003e\"; } $table.=\"\u003c/table\u003e\"; return $table; } echo createTable(5,5,'pink','hello lruihao'); ?\u003e ","date":"2019-07-15","objectID":"/posts/phpfunc/:0:0","tags":["PHP"],"title":"php å‡½æ•°å­¦ä¹ ","uri":"/posts/phpfunc/"},{"categories":["Memo"],"content":" ä½¿ç”¨ WAMPServer æ—¶è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ã€‚ ","date":"2019-07-12","objectID":"/posts/wamproot/:0:0","tags":["WAMP","PHP","windows","server"],"title":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ç­‰è®¾ç½®","uri":"/posts/wamproot/"},{"categories":["Memo"],"content":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½• ","date":"2019-07-12","objectID":"/posts/wamproot/:1:0","tags":["WAMP","PHP","windows","server"],"title":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ç­‰è®¾ç½®","uri":"/posts/wamproot/"},{"categories":["Memo"],"content":"ä¿®æ”¹ apache é…ç½®æ–‡ä»¶ æ‰“å¼€httpd.confæ–‡ä»¶æœç´¢documentrootåï¼Œæ‰¾åˆ°è·¯å¾„ä¿®æ”¹ä¸ºè‡ªå®šä¹‰çš„ã€‚ å†æ‰“å¼€httpd-vhost.confæ–‡ä»¶ä¿®æ”¹å¯¹åº”çš„è·¯å¾„ã€‚ ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶éœ€è¦é‡å¯æ‰€æœ‰æœåŠ¡ï¼ ","date":"2019-07-12","objectID":"/posts/wamproot/:1:1","tags":["WAMP","PHP","windows","server"],"title":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ç­‰è®¾ç½®","uri":"/posts/wamproot/"},{"categories":["Memo"],"content":"ä¿®æ”¹ wampmanager æ–‡ä»¶ åœ¨ wampserver å®‰è£…è·¯å¾„æ ¹ç›®å½•çŸ¥é“wampmanager.iniå’Œwampmanager.tplä¸¤ä¸ªæ–‡ä»¶ã€‚æœç´¢menu.left, ç„¶åä¹Ÿä¿®æ”¹ä¸ºè‡ªå®šä¹‰çš„è·¯å¾„ã€‚ ç„¶åé€€å‡ºï¼Œé‡å¯è½¯ä»¶ï¼ ","date":"2019-07-12","objectID":"/posts/wamproot/:1:2","tags":["WAMP","PHP","windows","server"],"title":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ç­‰è®¾ç½®","uri":"/posts/wamproot/"},{"categories":["Memo"],"content":"ç¼–å†™ php æ–‡ä»¶æµ‹è¯• \u003c?php echo \"hello world\"; ?\u003e ","date":"2019-07-12","objectID":"/posts/wamproot/:1:3","tags":["WAMP","PHP","windows","server"],"title":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ç­‰è®¾ç½®","uri":"/posts/wamproot/"},{"categories":["Memo"],"content":"WAMPServer å¤šç«™ç‚¹é…ç½® æ‰“å¼€httpd-vhost.confæ–‡ä»¶ï¼Œå¤åˆ¶åŸæœ‰çš„å‡ è¡Œé…ç½®æ–‡ä»¶ï¼Œç²˜è´´ä¿®æ”¹è·¯å¾„å’ŒåŸŸåç­‰é…ç½®ã€‚æ¯”å¦‚ ## Virtual Hosts # \u003cVirtualHost *:80\u003e ServerName localhost ServerAlias localhost DocumentRoot \"g:/Demo\" \u003cDirectory \"g:/Demo\"\u003e Options +Indexes +Includes +FollowSymLinks +MultiViews AllowOverride All Require local \u003c/Directory\u003e \u003c/VirtualHost\u003e \u003cVirtualHost *:80\u003e ServerName test01.com DocumentRoot \"g:/Demo/test01\" \u003c/VirtualHost\u003e \u003cVirtualHost *:80\u003e ServerName test02.com DocumentRoot \"g:/Demo/test02\" \u003c/VirtualHost\u003e å†æ‰“å¼€C:\\Windows\\System32\\drivers\\etc\\hostsæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ€åæ·»åŠ ç±»ä¼¼äºäº‘æœåŠ¡å™¨çš„åŸŸåè§£æï¼Œè¿›è¡Œæœ¬åœ°åŸŸåè§£æï¼Œå½“è¾“å…¥åŸŸåæ—¶ä¼˜å…ˆä»æœ¬åœ°ç”³è¯·èµ„æºã€‚ ... ## For example: # ## 102.54.94.97 rhino.acme.com ## source server ## 38.25.63.10 x.acme.com ## x client host ## localhost name resolution is handled within DNS itself. # 127.0.0.1 localhost # ::1 localhost 127.0.0.1 steamcommunity.com 192.168.28.1 windows10.microdone.cn 127.0.0.1 localhost ::1 localhost 127.0.0.1 test01.com 127.0.0.1 test02.com ","date":"2019-07-12","objectID":"/posts/wamproot/:2:0","tags":["WAMP","PHP","windows","server"],"title":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ç­‰è®¾ç½®","uri":"/posts/wamproot/"},{"categories":["Memo"],"content":"WAMPServer è‡ªæ‹Ÿå®šç«¯å£ WAMP æœåŠ¡æˆ‘å®‰è£…äº†å¥½å‡ æ¬¡ï¼Œæ¯æ¬¡å› ä¸ºä¿®æ”¹é…ç½®æ–‡ä»¶æå´©äº†ã€‚ç¬¬ä¸€æ¬¡è£…çš„æ—¶å€™å‘ç° 80 ç«¯å£è¢«å ç”¨äº†ï¼Œå› ä¸ºä»¥å‰ç©äº†ä¸€ä¸‹ Windows çš„ IISï¼Œæš‚åœ IIS çš„ç½‘ç«™ï¼Œå†ä½¿ç”¨å‘½ä»¤æˆ–è€…ç›´æ¥åœ¨æ§åˆ¶é¢æ¿å…³æ‰å°±å¥½äº†ã€‚ å¦‚æœä¸ä½¿ç”¨ 80 å¤šä¸ºé»˜è®¤ç«¯å£ï¼Œæ¯”å¦‚ä¿®æ”¹ä¸º 8080ï¼Œè¿˜æ˜¯åœ¨httpd.confæ–‡ä»¶é‡Œä¿®æ”¹ã€‚æœç´¢80éƒ½æ”¹æˆ8080ç„¶åï¼ŒCtrl+S ä¿å­˜ï¼Œé‡æ–°å¯åŠ¨ WampServer åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥localhost:8000 #ç›‘å¬ç«¯å£ Listen 0.0.0.0:8080 Listen [::0]:8080 ServerName localhost:8080 ä½¿ç”¨ Notepad++æ‰“å¼€ C:\\wamp ç›®å½•ä¸‹çš„ wampmanager.ini å’Œ wampmanager.tpl Ctrl+F æŸ¥æ‰¾ localhost å°†å…¶å…¨éƒ¨æ›¿æ¢ä¸ºlocalhost:8000 ç„¶åï¼ŒCtrl+S ä¿å­˜ï¼Œé‡æ–°å¯åŠ¨ WampServer ","date":"2019-07-12","objectID":"/posts/wamproot/:3:0","tags":["WAMP","PHP","windows","server"],"title":"WAMPServer è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ç­‰è®¾ç½®","uri":"/posts/wamproot/"},{"categories":["Python"],"content":" åé¢å‡ å¤©è®²çš„æœ‰ç‚¹æ‚ï¼Œç®€å•è®°å½•ä¸€ä¸‹çŸ¥è¯†ç‚¹ã€‚ ","date":"2019-06-21","objectID":"/posts/pysx2/:0:0","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"6.19 è¿™äº›çŸ¥è¯†ç‚¹åœ¨è¯¾ä¸Šéƒ½åªæ˜¯ç®€å•çš„æåˆ°äº†ä¸€ä¸‹ã€‚ æ¯”å¦‚ä¸€äº›åº“çš„ä½¿ç”¨ä¸å®‰è£…éƒ½ä¸ä¼šå†è¯¾ä¸Šè¯¦ç»†è®²è§£ï¼Œéœ€è¦è¯¾åå†å»ç ”ç©¶ã€‚ ","date":"2019-06-21","objectID":"/posts/pysx2/:1:0","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"åˆ‡ç‰‡æ“ä½œ åˆ—è¡¨åˆ‡ç‰‡æ“ä½œ ","date":"2019-06-21","objectID":"/posts/pysx2/:1:1","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"å­—ç¬¦ä¸² python åŸå§‹å­—ç¬¦ä¸² print(r\"D:\\three\\two\") é•¿å­—ç¬¦ä¸² ç”¨ä¸‰ä¸ªå•å¼•å·æˆ–è€…åŒå¼•å·åŒ…è£¹ï¼Œå‰åå‘¼åº”ï¼ŒæˆåŒæˆå¯¹ã€‚ ç”¨ã€æ¢è¡Œå­—ç¬¦è¡¨ç¤ºå­—ç¬¦æœªç»“æŸ ","date":"2019-06-21","objectID":"/posts/pysx2/:1:2","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"æ ¼å¼åŒ–è¾“å‡º format \"=={}==\"ï¼Œ{}è¡¨ç¤ºå ä½ç¬¦ï¼Œå…¶å‰åå­—ç¬¦ä¿æŒåŸæ ·è¾“å‡ºã€‚ #TempConvert.py TempStr = input(\"è¯·è¾“å…¥å¸¦æœ‰ç¬¦å·çš„æ¸©åº¦å€¼ï¼š\") if TempStr[-1] in ['F','f']: C = (eval(TempStr[0:-1]) - 32)/1.8 print(\"è½¬æ¢åçš„æ¸©åº¦æ˜¯{:.2f}C\".format(C)) elif TempStr[-1] in ['C','c']: F = 1.8*eval(TempStr[0:-1]) + 32 print(\"è½¬æ¢åçš„æ¸©åº¦æ˜¯{:.2f}F\".format(F)) else: print(\"è¾“å…¥æ ¼å¼é”™è¯¯\") ","date":"2019-06-21","objectID":"/posts/pysx2/:1:3","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"å¤šå˜é‡èµ‹å€¼ä¸äº¤æ¢ï¼ˆæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰ python 3.x ç‰ˆæœ¬ end=\"\" å¯ä½¿è¾“å‡ºä¸æ¢è¡Œ print(x, end=\"\") #æ–æ³¢é‚£å¥‘æ•°åˆ— a, b = 1,1 while a \u003c 500: ## è¾“å‡ºä¸å¤§äº 500 çš„åºåˆ— print(a,end=\",\") a,b = b,a + b #äº¤æ¢å˜é‡ ","date":"2019-06-21","objectID":"/posts/pysx2/:1:4","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"ç¬‘å‚²æ±Ÿæ¹–ç»Ÿè®¡å­—ç¬¦ (dict, æ–‡ä»¶æµï¼‰ ç»Ÿè®¡ã€Šç¬‘å‚²æ±Ÿæ¹–ã€‹å°è¯´ä¸­å‡ºç°çš„æ‰€æœ‰ä¸­æ–‡å­—ç¬¦åŠæ ‡ç‚¹ç¬¦å·çš„æ•°é‡ï¼Œæ¯ä¸ªå­—ç¬¦åŠæ•°ç›®é—´ç”¨å†’å·:éš”å¼€ï¼Œä¾‹å¦‚\"ç¬‘ï¼š1024\"ï¼Œå°†æ‰€æœ‰å­—ç¬¦åŠæ•°é‡çš„å¯¹åº”é‡‡ç”¨é€—å·åˆ†éš”ï¼Œä»¥ CSV æ–‡ä»¶æ ¼å¼ä¿å­˜åˆ°â€œç¬‘å‚²æ±Ÿæ¹–--å­—ç¬¦ç»Ÿè®¡ã€‚txtâ€æ–‡ä»¶ä¸­ã€‚æ³¨æ„ï¼Œç»Ÿè®¡å­—ç¬¦ä¸åŒ…æ‹¬ç©ºæ ¼å’Œå›è½¦ã€‚ csv æ–‡ä»¶æ ¼å¼ï¼š â€˜,â€™é€—å·è¿æ¥å…ƒç´  fi = open(\"data/ç¬‘å‚²æ±Ÿæ¹–-ç½‘ç»œç‰ˆã€‚txt\",\"r\",encoding=\"utf-8\") fo = open(\"data/ç¬‘å‚²æ±Ÿæ¹–-å­—ç¬¦ç»Ÿè®¡ã€‚txt\",\"w\",encoding=\"utf-8\") txt = fi.read() #æ‰“å¼€æ–‡ä»¶ #txt d = {} for c in txt: d[c] = d.get(c,0)+1 del d[' '] #åˆ é™¤å­—å…¸ä¸­çš„ç©ºæ ¼å’Œå›è½¦çš„é”®å€¼å¯¹ del d['\\n'] ls = [] for key in d: ls.append(\"{}:{}\".format(key,d[key])) fo.write(\",\".join(ls)) fi.close() fo.close() ","date":"2019-06-21","objectID":"/posts/pysx2/:1:5","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"numpy æ¨¡å— â€¦ ","date":"2019-06-21","objectID":"/posts/pysx2/:1:6","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"pandas æ¨¡å— â€¦ ","date":"2019-06-21","objectID":"/posts/pysx2/:1:7","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"6.20 ","date":"2019-06-21","objectID":"/posts/pysx2/:2:0","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"matplotlib ç»˜å›¾ import matplotlib.pyplot as plt import numpy as np x = np.arange(-5,5,0.01) y = 2**x+1 plt.plot(x,y) plt.title(\"y=2^x+1\",fontsize=24) plt.xlabel(\"X\",fontsize=14) plt.ylabel(\"Y\",fontsize=14) plt.tick_params(axis=\"both\",labelsize=14) plt.show() ","date":"2019-06-21","objectID":"/posts/pysx2/:2:1","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"çˆ¬è™« ä¸¾äº†ä¸€ä¸ªé‡‘èç•Œï¼Œç‚’è‚¡ï¼Œè·å–æ•°æ®çš„çˆ¬è™« ï¼ˆä»Šå¤©æ²¡ä»”ç»†å¬è¯¾ï¼Œè¿™æ•°æ®çˆ¬è¿‡ä»€ä¹ˆæ„æ€ï¼Œå’±ä¸æ‡‚ï¼Œå’±ä¹Ÿä¸æ•¢é—®ï¼ï¼‰ #! /usr/bin/env python #-*- encoding: utf-8 -*- #author pythontab.com import numpy as np import matplotlib.pyplot as plt import pandas as pd import pandas_datareader.data as web import datetime #import tushare as ts df_stockload = web.DataReader(\"000001.SS\", \"yahoo\", datetime.datetime(2017,1,1), datetime.date.today()) #print(type(datetime.datetime.now().strftime('%Y-%m-%d'))) #df_stockload = ts.get_hist_data('sh',start='2017-01-01',end=datetime.datetime.now().strftime('%Y-%m-%d')) print (df_stockload.columns)#æŸ¥çœ‹åˆ—å print (df_stockload.index)#æŸ¥çœ‹ç´¢å¼• print (df_stockload.describe())#æŸ¥çœ‹å„åˆ—æ•°æ®æè¿°æ€§ç»Ÿè®¡ #ç»˜åˆ¶ç§»åŠ¨å¹³å‡çº¿ df_stockload.Close.plot(c='b') df_stockload.Close.rolling(window=30).mean().plot(c='r') #pd.rolling_mean(df_stockload.Close,window=30).plot(c='r') df_stockload.Close.rolling(window=60).mean().plot(c='g') #pd.rolling_mean(df_stockload.Close,window=60).plot(c='g') plt.legend(['Close','30ave','60ave'],loc='best') plt.show() Index(['High', 'Low', 'Open', 'Close', 'Volume', 'Adj Close'], dtype='object') DatetimeIndex(['2017-01-03', '2017-01-04', '2017-01-05', '2017-01-06', '2017-01-09', '2017-01-10', '2017-01-11', '2017-01-12', '2017-01-13', '2017-01-16', ... '2019-06-05', '2019-06-06', '2019-06-10', '2019-06-11', '2019-06-12', '2019-06-13', '2019-06-14', '2019-06-19', '2019-06-20', '2019-06-21'], dtype='datetime64[ns]', name='Date', length=596, freq=None) High Low Open Close Volume \\ count 596.000000 596.000000 596.000000 596.000000 5.960000e+02 mean 3076.147753 3039.201569 3056.960338 3060.169056 5.098201e+06 std 269.276147 273.757358 271.612122 272.072346 1.199107e+08 min 2488.479004 2440.906982 2446.019043 2464.363037 8.820000e+04 25% 2845.308228 2800.168762 2825.239502 2827.754822 1.375250e+05 50% 3153.184937 3118.613525 3134.300537 3139.085449 1.666500e+05 75% 3280.115234 3244.825256 3265.322021 3268.600342 2.091250e+05 max 3587.031982 3534.195068 3563.639893 3559.465088 2.927580e+09 Adj Close count 596.000000 mean 3060.169056 std 272.072346 min 2464.363037 25% 2827.754822 50% 3139.085449 75% 3268.600342 max 3559.465088 ","date":"2019-06-21","objectID":"/posts/pysx2/:2:2","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"6.21 ","date":"2019-06-21","objectID":"/posts/pysx2/:3:0","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"ç±» æ¯”ç¬¬ä¸€å¤©ç¨å¾®ä»”ç»†ä¸€ç‚¹è®²äº†ä¸€ä¸‹ç±»ï¼Œæœ‰ç‚¹éœ€è¦æ³¨æ„ï¼š selfç›¸å½“äºthisè¡¨ç¤ºå½“å‰å¯¹è±¡ python ç±»çš„æ‰€æœ‰å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½è¦å†™selfå‚æ•°ï¼Œself ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„æ¯”å¦‚lrhç­‰å­—ç¬¦æ›¿ä»£ï¼Œä½†æ˜¯å¿…é¡»ä¿æŒä¸€è‡´ã€‚ __è¡¨ç¤ºç§æœ‰çš„ class çš„å®šä¹‰å¯ä»¥ä¸åŠ  (),() å†…å¯å†™ç»§æ‰¿çš„çˆ¶ç±» ","date":"2019-06-21","objectID":"/posts/pysx2/:3:1","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"GUI è®¾è®¡ wxPython pip install wxPython import wx import wx #å¯¼å…¥ wxPython åº“ class Panel(wx.Panel): def __init__(self,parent): wx.Panel.__init__(self,parent=parent, id=-1) pass class Frame(wx.Frame): def __init__(self): wx.Frame.__init__(self, parent = None, title = u'é‡åŒ–è½¯ä»¶', size=(1000,600), style=wx.DEFAULT_FRAME_STYLE^wx.MAXIMIZE_BOX) self.DispPanel= Panel(self) pass class App(wx.App): def OnInit(self): self.frame = Frame() self.frame.Show() self.SetTopWindow(self.frame) return True if __name__ == '__main__': app = App() app.MainLoop() import wx app = wx.App() window = wx.Frame(None, title=\"wxPython ä½ å¥½ï¼\", size=(400, 300)) panel = wx.Panel(window) label = wx.StaticText(panel, label=\"Hello World\", pos=(100, 100)) window.Show(True) app.MainLoop() ","date":"2019-06-21","objectID":"/posts/pysx2/:3:2","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"talib åº“çš„å®‰è£… ä¸‹è½½ whl æ–‡ä»¶ pip install TA_Lib-0.4.17-cp37-cp37m-win_amd64.whl pip install TA-Lib ","date":"2019-06-21","objectID":"/posts/pysx2/:3:3","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"é€‰æ‹©æ’åºé€’å½’ç‰ˆ def SelectSort(L): L=L[:] if len(L)\u003c=1: return L min = 0 for i in range(1,len(L)): if L[i]\u003cL[min]: min = i L[min],L[0] = L[0],L[min] return [L[0]]+SelectSort(L[1:]) L = [5,2,3,6,1,9,8,10,0] print(SelectSort(L)) [0, 1, 2, 3, 5, 6, 8, 9, 10] ","date":"2019-06-21","objectID":"/posts/pysx2/:3:4","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"æœºæˆ¿ä¸Šæœºç³»ç»Ÿï¼ˆè‡ªæˆ‘å®è·µï¼‰ import time class student(): def __init__(self,stu_no=\"\",stu_name=\"\",stu_xi=\"\",stu_time=\"\"): self.stu_no = stu_no self.stu_name = stu_name self.stu_xi = stu_xi self.stu_time = stu_time def print(self): print(\"å­¦å·ï¼š\"+self.stu_no+\"\\t å§“åï¼š\"+self.stu_name+\"\\t ç³»åˆ«ï¼š\"+self.stu_xi+\"\\t æœºæ—¶ (h)ï¼š\"+self.stu_time) def get_stu_name(self): return self.stu_name def get_stu_time(self): return int(self.stu_time) def set_stu_time(self,add_time): self.stu_time = add_time def menu(): print(\"\\t æœºæˆ¿ä¸Šæœºç³»ç»Ÿ V0.1\") print(\"********************************\") print(\"\\tâ€”\u003e1. å½•å…¥å­¦ç”Ÿä¿¡æ¯\") print(\"\\tâ€”\u003e2. ä¸Šæœº\") print(\"\\tâ€”\u003e3. ä¸‹æœº\") print(\"\\tâ€”\u003e4. ç¼´è´¹\") print(\"\\tâ€”\u003e5. é€€å‡º\") print(\"********************************\") select = eval(input(\"è¯·è¾“å…¥åºå·ï¼š\")) while select not in [1,2,3,4,5]: print(\"è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼\") select = eval(input(\"è¯·è¾“å…¥åºå·ï¼š\")) return select def get_time(): #è·å–å½“å‰æ—¶é—´ return time.strftime(\"%H:%M:%S\", time.localtime()) def main(): ## å…¨å±€å˜é‡ text = [] ## ä¸Šæœºè®°å½•åˆ—è¡¨ start_time = \"\" end_time = \"\" sum = 0 ## æœ¬ç³»ç»ŸæŒ‰å°æ—¶è®¡è´¹ï¼Œä¸è¶³ä¸€å°æ—¶æŒ‰ä¸€å°æ—¶ç®— people = student() online_flag = False down_flag = False input_flag = False while True: select = menu() ## å¯ç”¨èœå• if select == 1: if input_flag: print(\"å·²å½•å…¥ï¼Œæ— éœ€é‡å¤æ“ä½œï¼Œç¼´è´¹è¯·è¾“å…¥ 4:\") continue else: input_flag = True stu_no = input(\"è¯·è¾“å…¥å­¦å·ï¼š\") stu_name = input(\"è¯·è¾“å…¥å§“åï¼š\") stu_xi = input(\"è¯·è¾“å…¥ç³»åˆ«ï¼š\") stu_time = input(\"è¯·è¾“å…¥æœºæ—¶ï¼š\") people = student(stu_no,stu_name,stu_xi,stu_time) people.print() continue elif select == 2: if not input_flag: print(\"æœªå½•å…¥å­¦ç”Ÿä¿¡æ¯ï¼Œè¯·å½•å…¥ï¼\") continue if not online_flag: online_flag = True start_time = get_time() start_num = int(start_time[0:2]) #print(start_num) text.append(\"ä¸Šæœºæ—¶é—´ï¼š\"+start_time) print(\"å·²ä¸Šæœºï¼ä¸Šæœºæ—¶é—´ä¸ºï¼š\"+start_time) continue else: print(\"å·²ä¸Šæœºï¼ä¸Šæœºæ—¶é—´ä¸ºï¼š\"+start_time) continue elif select == 3: if not online_flag: print(\"è¿˜æœªä¸Šæœºï¼Œè¯·ä¸Šæœºï¼\") continue else: end_time = get_time() end_num = int(end_time[0:2]) sum = end_num - start_num sum = sum if(sum\u003e=0) else sum+24 sum = sum+1 if(sum==0) else sum print(\"å·²ä¸‹æœºï¼ä¸‹æœºæ—¶é—´ä¸ºï¼š\"+end_time+\"\\n ä¸Šæœºæ—¶é•¿ (h)ï¼š\"+str(sum)+\"\\t å‰©ä½™æœºæ—¶ (h)ï¼š\"+str(people.get_stu_time()-sum)) text.append(\"ä¸‹æœºæ—¶é—´ï¼š\"+end_time+\"\\n ä¸Šæœºæ—¶é•¿ (h)ï¼š\"+str(sum)+\"\\t\"+people.get_stu_name()+\"å‰©ä½™æœºæ—¶ (h)ï¼š\"+str(people.get_stu_time()-sum)) people.set_stu_time(str(people.get_stu_time()-sum)) down_flag = True continue elif select == 4: if not input_flag: print(\"æœªå½•å…¥å­¦ç”Ÿä¿¡æ¯ï¼Œè¯·å½•å…¥ï¼\") continue else: people.print() add_time = eval(input(\"è¯·è¾“å…¥æœºæ—¶ï¼š\")) people.set_stu_time(str(add_time+people.get_stu_time())) people.print() else: if down_flag: print(\"3s åé€€å‡ºç³»ç»Ÿï¼Œæ„Ÿè°¢ä½¿ç”¨ï¼\") time.sleep(3) ## å»¶è¿Ÿ 3sï¼Œæ˜¾ç¤ºæç¤ºæ–‡å­— break ## é€€å‡ºç³»ç»Ÿ å†™å…¥æ–‡ä»¶ else: print(\"è¯·ä¸‹æœºï¼\") continue #å†™å…¥ computer.txt æ–‡ä»¶ fo = open(\"D:\\\\computer.txt\",\"w\",encoding=\"utf-8\") fo.write(\"\\n\".join(text)) fo.close() if __name__==\"__main__\": main() ","date":"2019-06-21","objectID":"/posts/pysx2/:3:5","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":"é‡åŒ–äº¤æ˜“ä»£ç åˆ†æä¸è°ƒè¯• ç”±äº python çš„ç‰ˆæœ¬é—®é¢˜å’Œä¸€äº›åº“çš„å¯¼å…¥é—®é¢˜æ‰€ä»¥è¿˜æœªè°ƒè¯•æˆåŠŸï¼Œå…ˆæŒ‚ä¸Šä»£ç ã€‚ä»¥åæ”¹ç¯‡å†è®ºã€‚ #! /usr/bin/env python #-*- encoding: utf-8 -*- #author pythontab.com import wx import wx.adv import numpy as np import pandas as pd import pandas_datareader.data as web import matplotlib import matplotlib.pyplot as plt from matplotlib.figure import Figure import matplotlib.dates as mdates import mpl_finance as mpf from matplotlib.backends.backend_wxagg import FigureCanvasWxAgg as FigureCanvas import matplotlib.gridspec as gridspec#åˆ†å‰²å­å›¾ import datetime import talib import csv,os import codecs from RedefPanelMod import MPL_Panel_Base,Loop_Panel_Base from StockDataMod import GetStockDatPro from IndicatStrateMod import Excave_Indic_Base, QuantPickTimeSys,FactorPickStockAng plt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾ plt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå· class UserDialog(wx.Dialog):## user-defined def __init__(self,parent,text): wx.Dialog.__init__(self,parent,-1,u\"é€‰è‚¡æç¤º\",size=(400,500),style=wx.CAPTION|wx.CLOSE_BOX|wx.MAXIMIZE_BOX|wx.MINIMIZE_BOX) sizer = wx.BoxSizer(wx.VERTICAL) pstock_Text = wx.StaticText(self, -1, u'é€‰è‚¡ç­–ç•¥ç­›é€‰ç»“æœ') pstock_Text.SetFont(wx.Font(18,wx.DEFAULT,wx.NORMAL,wx.BOLD)) pstock_sure = wx.TextCtrl(self, -1, \"è§’åº¦å€¼ï¼š\\n\",size=(350,300),style = wx.TE_MULTILINE|wx.TE_READONLY)#å¤šè¡Œ|åªè¯» pstock_sure.SetFont(wx.Font(10,wx.DEFAULT,wx.NORMAL,wx.BOLD)) okbtn = wx.Button(self,wx.ID_OK,u\"ç¡®è®¤\") okbtn.SetDefault() sizer.Add(pstock_Text,flag=wx.ALIGN_CENTER) sizer.Add(pstock_sure,flag=wx.ALIGN_CENTER) sizer.Add(okbtn,flag=wx.ALIGN_CENTER) self.SetSizer(sizer) for i in text:pstock_sure.AppendText(i) class Frame(wx.Frame): def __init__(self): wx.Frame.__init__(self, parent = None, title = u'é‡åŒ–è½¯ä»¶', size=(1500,800), style=wx.DEFAULT_FRAME_STYLE^wx.MAXIMIZE_BOX) #åˆ›å»ºæ˜¾ç¤ºåŒºé¢æ¿ self.DispPanel = MPL_Panel_Base(self) self.BackPanel = Loop_Panel_Base(self) self.am = self.DispPanel.am self.vol = self.DispPanel.vol self.devol = self.DispPanel.devol self.macd = self.DispPanel.macd #åˆ›å»ºå‚æ•°åŒºé¢æ¿ self.ParaPanel = wx.Panel(self,-1) paraInput_Box = wx.StaticBox(self.ParaPanel, -1, u'å‚æ•°è¾“å…¥') paraInput_Sizer = wx.StaticBoxSizer(paraInput_Box, wx.VERTICAL) self.StNameCodedict = {u\"å¼€å±±è‚¡ä»½\":\"300257.SZ\",u\"æµ™å¤§ç½‘æ–°\":\"600797.SS\",u\"æ°´æ™¶å…‰ç”µ\":\"002273.SZ\", u\"é«˜é¸¿è‚¡ä»½\":\"000851.SZ\"} #åˆå§‹åŒ–è‚¡ç¥¨ä»£ç å˜é‡ self.stockName_Val = u\"å¼€å±±è‚¡ä»½\" self.stockCode_Val = self.StNameCodedict[self.stockName_Val] self.stockName_CMBO = wx.ComboBox(self.ParaPanel, -1,self.stockName_Val, choices = list(self.StNameCodedict.keys()), style = wx.CB_READONLY|wx.CB_DROPDOWN) #è‚¡ç¥¨åç§° stockCode_Text = wx.StaticText(self.ParaPanel, -1, u'è‚¡ç¥¨åç§°') #ç­–ç•¥é€‰å– strate_Text = wx.StaticText(self.ParaPanel, -1, u'ç­–ç•¥åç§°') strate_Combo_Val = [u\"åŒè¶‹åŠ¿èåˆ\", u\"é˜¿å°”æ³•\", u\"å¸ƒæ—å¸¦\"] self.pickstrate_Val = u\"åŒè¶‹åŠ¿èåˆ\" self.pickstrate_CMBO = wx.ComboBox(self.ParaPanel, -1, self.pickstrate_Val, choices = strate_Combo_Val, style = wx.CB_READONLY|wx.CB_DROPDOWN) #ç­–ç•¥åç§° #æ—¥å†æ§ä»¶é€‰æ‹©æ•°æ®å‘¨æœŸ self.dpcEndTime = wx.adv.DatePickerCtrl(self.ParaPanel, -1,style = wx.adv.DP_DROPDOWN|wx.adv.DP_SHOWCENTURY|wx.adv.DP_ALLOWNONE)#ç»“æŸæ—¶é—´ self.dpcStartTime = wx.adv.DatePickerCtrl(self.ParaPanel, -1,style = wx.adv.DP_DROPDOWN|wx.adv.DP_SHOWCENTURY|wx.adv.DP_ALLOWNONE)#èµ·å§‹æ—¶é—´ DateTimeNow = wx.DateTime.Now()#wx.DateTime æ ¼å¼\"03/03/18 00:00:00\" #DateTimeNow = datetime.datetime.fromtimestamp(wx.DateTime.Now().GetTicks()) #DateTimeNow = datetime.datetime.fromtimestamp(DateTimeNow) self.dpcEndTime.SetValue(DateTimeNow) DateTimeNow.SetYear(DateTimeNow.year-1) self.dpcStartTime.SetValue(DateTimeNow) stockData_Text = wx.StaticText(self.ParaPanel, -1, u'æ—¥æœŸ (Start-End)') #åˆå§‹åŒ–æ—¶é—´å˜é‡ dateVal = self.dpcStartTime.GetValue() self.stockSdate_Val = datetime.datetime(dateVal.year,dateVal.month+1,dateVal.day) dateVal = self.dpcEndTime.GetValue() self.stockEdate_Val = datetime.datetime(dateVal.year,dateVal.month+1,dateVal.day) paraInput_Sizer.Add(stockCode_Text,proportion=0,flag=wx.EXPAND|wx.ALL,border=2) paraInput_Sizer.Add(self.stockName_CMBO, 0, wx.EXPAND|wx.ALL|wx.CENTER, 2) paraInput_Sizer.Add(stockData_Text,proportion=0,flag=wx.EXPAND|wx.ALL","date":"2019-06-21","objectID":"/posts/pysx2/:3:6","tags":["Python"],"title":"python å®è®­æ€»ç»“â…¡","uri":"/posts/pysx2/"},{"categories":["Python"],"content":" ä»¥å‰å’Œå‰ä¸€æ®µæ—¶é—´è‡ªå·±ä¹Ÿå­¦ä¹ äº†ä¸€ä¸‹ pythonï¼Œä¹Ÿå†™äº†å‡ ä¸ªå°çˆ¬è™«ï¼› è¿™æ¬¡æ­£å¥½åˆè¯¾ç¨‹å®‰æ’äº†ä¸ºæœŸä¸¤å‘¨çš„ç»¼åˆå®è®­ï¼Œä¸»è¦æ˜¯â€œç”¨ python åšé‡åŒ–äº¤æ˜“â€ è¿›è¡Œäº†ä¸¤å¤©ï¼Œè®²çš„éƒ½æ˜¯ä¸€äº›åŸºæœ¬çš„ä¸œè¥¿ï¼Œä»¥å‰ä¹Ÿæ¥è§¦è¿‡ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“ç†è§£ã€‚è¿˜è®²äº†ä¸€äº›è½¯ä»¶ï¼Œpycharmï¼Œanaconda,sublime ç­‰å¤§éƒ½ä¹Ÿéƒ½ç”¨è¿‡ã€‚anaconda å€’æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ã€‚ ","date":"2019-06-18","objectID":"/posts/pysx1/:0:0","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Python"],"content":"6.17 print(\"Hello World!\") è®²äº†ä¸€ä¸‹å˜é‡å’Œ python çš„ç‰¹è‰²ä»€ä¹ˆçš„ã€‚ è¿˜è®²äº†æ¨¡å—å®šä¹‰defå’Œç±»å®šä¹‰ class zxm(): def __init__(self): self.x=0 self.y=0 def move_up(self): self.y +=1 my_zxm=zxm() print(my_zxm) \u003c__main__.zxm object at 0x000001D99CFEF668\u003e ","date":"2019-06-18","objectID":"/posts/pysx1/:1:0","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Python"],"content":"6.18 ","date":"2019-06-18","objectID":"/posts/pysx1/:2:0","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Python"],"content":"è¾“å…¥è¾“å‡º print è¾“å‡º input è¾“å…¥ eval æ‰§è¡Œä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œå¹¶è¿”å›è¡¨è¾¾å¼çš„å€¼ x=eval(input(\"è¯·è¾“å…¥ x çš„å€¼ï¼š\")) y=eval(input(\"è¯·è¾“å…¥ y çš„å€¼ï¼š\")) z=(x**2+y**2)**0.5 print(z) # å¯¼å…¥å¤æ•°æ•°å­¦æ¨¡å— import cmath num = int(input(\"è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š\")) num_sqrt = cmath.sqrt(num) print('{0} çš„å¹³æ–¹æ ¹ä¸º {1:0.3f}+{2:0.3f}j'.format(num ,num_sqrt.real,num_sqrt.imag)) ","date":"2019-06-18","objectID":"/posts/pysx1/:2:1","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Python"],"content":"æ•°æ®ç±»å‹ ä»Šå¤©è¿˜è®²äº†ä¸€ä¸‹æ•°æ®ç±»å‹ å­—ç¬¦ä¸²ï¼š \"\" '' å…ƒç»„ tuple(2,3) åˆ—è¡¨ list[2,3] å­—å…¸ dict{Key:Value} é›†åˆ{} x=[1,10] type(x)#åˆ¤æ–­å…ƒç´ ç±»å‹ list ","date":"2019-06-18","objectID":"/posts/pysx1/:2:2","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Python"],"content":"å¾ªç¯åˆ¤æ–­ for x in range(1,10,2): # (start,stop,step) pass # pass ä¸åšä»»ä½•äº‹æƒ…ï¼Œä¸€èˆ¬ç”¨åšå ä½è¯­å¥ for letter in 'Python': if letter == 'h': pass print('è¿™æ˜¯ pass å—') print('å½“å‰å­—æ¯ :'+ letter) print(\"Good bye!\") å½“å‰å­—æ¯ :P å½“å‰å­—æ¯ :y å½“å‰å­—æ¯ :t è¿™æ˜¯ pass å— å½“å‰å­—æ¯ :h å½“å‰å­—æ¯ :o å½“å‰å­—æ¯ :n Good bye! ","date":"2019-06-18","objectID":"/posts/pysx1/:2:3","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Python"],"content":"str() ã€ import å¯¼åº“ x=10 print(\"æ•´æ•°è½¬å­—ç¬¦ä¸²\"+str(x)) import this The Zen of Python, by Tim Peters Beautiful is better than ugly. Explicit is better than implicit. Simple is better than complex. Complex is better than complicated. Flat is better than nested. Sparse is better than dense. Readability counts. Special cases aren't special enough to break the rules. Although practicality beats purity. Errors should never pass silently. Unless explicitly silenced. In the face of ambiguity, refuse the temptation to guess. There should be one-- and preferably only one --obvious way to do it. Although that way may not be obvious at first unless you're Dutch. Now is better than never. Although never is often better than *right* now. If the implementation is hard to explain, it's a bad idea. If the implementation is easy to explain, it may be a good idea. Namespaces are one honking great idea -- let's do more of those! Google ç¿»è¯‘æ„æ€æ˜¯ï¼š ç¾ä¸½èƒœè¿‡ä¸‘é™‹ã€‚æ˜¾å¼ä¼˜äºéšå¼ã€‚ç®€å•æ¯”å¤æ‚æ›´å¥½ã€‚å¤æ‚æ¯”å¤æ‚æ›´å¥½ã€‚Flat ä¼˜äºåµŒå¥—ã€‚ç¨€ç–ä¼˜äºå¯†é›†ã€‚å¯è¯»æ€§å¾ˆé‡è¦ã€‚ç‰¹æ®Šæƒ…å†µä¸è¶³ä»¥æ‰“ç ´è§„åˆ™ã€‚è™½ç„¶å®ç”¨æ€§èƒœè¿‡çº¯æ´ã€‚é”™è¯¯ä¸åº”è¯¥é»˜é»˜åœ°ä¼ é€’ã€‚é™¤éæ˜ç¡®æ²‰é»˜ã€‚é¢å¯¹æ¨¡æ£±ä¸¤å¯ï¼Œæ‹’ç»çŒœæµ‹çš„è¯±æƒ‘ã€‚åº”è¯¥æœ‰ä¸€ä¸ªæœ€å¥½åªæœ‰ä¸€ä¸ªæ˜æ˜¾çš„æ–¹æ³•æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚è™½ç„¶è¿™ç§æ–¹å¼èµ·åˆå¯èƒ½å¹¶ä¸æ˜æ˜¾ï¼Œé™¤éä½ æ˜¯è·å…°äººã€‚ç°åœ¨æ¯”æ°¸è¿œå¥½ã€‚è™½ç„¶ç°åœ¨æ°¸è¿œä¸ä¼šæ¯”æ­£ç¡®å¥½ã€‚å¦‚æœå®æ–½å¾ˆéš¾è§£é‡Šï¼Œè¿™æ˜¯ä¸€ä¸ªåä¸»æ„ã€‚å¦‚æœå®ç°å¾ˆå®¹æ˜“è§£é‡Šï¼Œé‚£å¯èƒ½æ˜¯ä¸ªå¥½ä¸»æ„ã€‚å‘½åç©ºé—´æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ä¸»æ„ï¼Œè®©æˆ‘ä»¬åšæ›´å¤šçš„äº‹æƒ…å§ï¼ ","date":"2019-06-18","objectID":"/posts/pysx1/:2:4","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Python"],"content":"turtle ç»˜å›¾åº“ï¼ˆå†…ç½®æ¨¡å—ï¼‰","date":"2019-06-18","objectID":"/posts/pysx1/:2:5","tags":["Python","turtle"],"title":"python å®è®­æ€»ç»“â… ","uri":"/posts/pysx1/"},{"categories":["Grocery"],"content":" é»‘ç›’æµ‹è¯•ç€é‡æµ‹è¯•è½¯ä»¶åŠŸèƒ½ï¼Œå®ƒå¹¶ä¸æ¶‰åŠç¨‹åºçš„å†…éƒ¨ç»“æ„å’Œå†…å®¹ç‰¹æ€§ï¼Œä¸»è¦æ ¹æ®è§„æ ¼è¯´æ˜ï¼Œåªä¾é è¢«æµ‹è¯•ç¨‹åºçš„è¾“å…¥å’Œè¾“å‡ºä¹‹é—´å…³ç³»æˆ–ç¨‹åºçš„åŠŸèƒ½æ¥è®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€‚ ç™½ç›’æµ‹è¯•åˆ™æ¸…æ¥šç¨‹åºå†…éƒ¨çš„ç»“æ„ä»¥åŠæ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œå› æ­¤ç™½ç›’æµ‹è¯•éœ€è¦å¯¹ç³»ç»Ÿå†…éƒ¨çš„ç»“æ„å’Œå·¥ä½œåŸç†æœ‰ä¸€ä¸ªæ¸…æ¥šçš„äº†è§£ã€‚ ","date":"2019-05-26","objectID":"/posts/judgetriangle/:0:0","tags":["é»‘ç›’æµ‹è¯•","C"],"title":"åˆ¤æ–­ä¸‰è§’å½¢çš„é»‘ç›’æµ‹è¯•","uri":"/posts/judgetriangle/"},{"categories":["Grocery"],"content":"ç¨‹åº #include\u003cstdio.h\u003e #include\u003cstdlib.h\u003e #define N 2\u003c\u003c25 int a=N,b=N,c=N,d=N; void shuru(); void panduan(int a1,int b1,int c1); int main() { char se; shuru(); panduan(a,b,c); while(1) { printf(\"æ˜¯å¦è¦ç»§ç»­ y or n :\"); scanf(\"%c\",\u0026se); if(se=='\\n') scanf(\"%c\",\u0026se); switch(se) { case 'y': shuru(); panduan(a,b,c); break; case 'n': return 0; } } } void shuru() { printf(\"Please enter ä¸‰è§’å½¢ä¸‰è¾¹ (a,b,c)\\n\"); while(!scanf(\"%d,%d,%d,%d\",\u0026a,\u0026b,\u0026c,\u0026d)){//åˆ¤æ–­éæ•°å­—å­—ç¬¦ fflush(stdin);//æ¸…ç†ç¼“å­˜ a=N;b=N;c=N;d=N; printf(\"è¾“å…¥é”™è¯¯ã€n\"); } fflush(stdin); while((a\u003c1||a\u003e100)||(b\u003c1||b\u003e100)||(c\u003c1||c\u003e100)||d!=N) { if(b==N||c==N||d!=N) printf(\"è¾“å…¥é”™è¯¯ã€n\");//è¾¹æ•°ä¸º 1ã€2ã€4 æ¡ else if(a==0||b==0||c==0) printf(\"è¾¹é•¿ä¸èƒ½ä¸º 0\\n\"); else if(a\u003c0||b\u003c0||c\u003c0) printf(\"è¾¹é•¿ä¸èƒ½ä¸ºè´Ÿã€n\"); else printf(\"Please enter 1-100 ä¹‹é—´çš„æ•´æ•°ã€n\"); a=N;b=N;c=N;d=N; while(!scanf(\"%d,%d,%d,%d\",\u0026a,\u0026b,\u0026c,\u0026d)){//åˆ¤æ–­éæ•°å­—å­—ç¬¦ fflush(stdin);//æ¸…ç†ç¼“å­˜ a=N;b=N;c=N;d=N; printf(\"è¾“å…¥é”™è¯¯ã€n\"); } fflush(stdin); } } void panduan(int a1,int b1,int c1) { if(a1+b1\u003ec1\u0026\u0026b1+c1\u003ea1\u0026\u0026a1+c1\u003eb1) { if(a1==b1\u0026\u0026a1==c1) printf(\"ç­‰è¾¹ä¸‰è§’å½¢ã€n\"); else if(a1==b1||a1==c1||b1==c1) printf(\"ç­‰è…°ä¸‰è§’å½¢ã€n\"); else printf(\"ä¸€èˆ¬ä¸‰è§’å½¢ã€n\"); } else printf(\"éä¸‰è§’å½¢ã€n\"); } ","date":"2019-05-26","objectID":"/posts/judgetriangle/:1:0","tags":["é»‘ç›’æµ‹è¯•","C"],"title":"åˆ¤æ–­ä¸‰è§’å½¢çš„é»‘ç›’æµ‹è¯•","uri":"/posts/judgetriangle/"},{"categories":["Grocery"],"content":"æµ‹è¯• æµ‹è¯• 1 æµ‹è¯• 2 æµ‹è¯• 3 ","date":"2019-05-26","objectID":"/posts/judgetriangle/:2:0","tags":["é»‘ç›’æµ‹è¯•","C"],"title":"åˆ¤æ–­ä¸‰è§’å½¢çš„é»‘ç›’æµ‹è¯•","uri":"/posts/judgetriangle/"},{"categories":["Memo"],"content":" ç›®å‰ HustOj åœ¨ GitHUb åœ°å€æ˜¯ï¼šhttps://github.com/zhblue/hustoj å®‰è£…æ—¶æ³¨æ„ ubuntu ç‰ˆæœ¬ï¼Œæ²¡æ¡ä»¶çš„å¯ä»¥åœ¨è‡ªå·± ubuntu ä¸Šå°è¯•ï¼Œæˆ–è€…è™šæ‹Ÿæœºä¸Šï¼ˆå…³æ³¨å…¬ä¼—å·å›å¤ubuntu16.04è·å– iso é•œåƒæ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨äº‘å®éªŒå®¤çš„äº‘æœåŠ¡å™¨ä¸Šåšåšå®éªŒã€‚ æ›´å¤šè¯´æ˜åŠ ACM/NOIP é¢˜åº“ä¸‹è½½è§å®˜ç½‘åšå®¢ ä»£ç çš„é‚£äº›äº‹|ç¨‹åºå‘˜å›å¿†å½• ","date":"2019-05-17","objectID":"/posts/hustoj/:0:0","tags":["hustoj","ACM","ubuntu","linux"],"title":"HustOJ åŸºç¡€æ­å»ºæ•™ç¨‹","uri":"/posts/hustoj/"},{"categories":["Memo"],"content":"å¿«é€Ÿå®‰è£… OJ ä¸‹è½½ wget https://raw.githubusercontent.com/zhblue/hustoj/master/trunk/install/install-ubuntu16+.sh å®‰è£… sudo bash install-ubuntu16+.sh ç­‰å¾…ä¸­ä¸€è·¯å›è½¦ï¼Œå½“æç¤º doneï¼ åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š ","date":"2019-05-17","objectID":"/posts/hustoj/:1:0","tags":["hustoj","ACM","ubuntu","linux"],"title":"HustOJ åŸºç¡€æ­å»ºæ•™ç¨‹","uri":"/posts/hustoj/"},{"categories":["Memo"],"content":"ä½¿ç”¨ HustOJ æ‰“å¼€ç½‘é¡µ/IP åœ°å€ æ³¨å†Œ admin ç”¨ admin ä½œä¸ºç”¨æˆ·åæ³¨å†Œä¸€ä¸ªç”¨æˆ·ï¼Œå°†ä¼šè‡ªåŠ¨æˆä¸ºç®¡ç†å‘˜ã€‚ æ³¨å†ŒæˆåŠŸï¼Œä¼šæç¤ºï¼š ç™»å½•åå° ç™»å½•è´¦å·ï¼Œå¹¶ç‚¹å‡»å³ä¸Šè§’çš„ç®¡ç†ï¼š æ·»åŠ æµ‹è¯•é¢˜ç›® åœ¨åå°é€‰æ‹©æ·»åŠ é¢˜ç›®ï¼Œæ·»åŠ æˆåŠŸï¼š ç„¶åå†æäº¤ä»£ç æµ‹è¯•åˆ¤é¢˜æœºã€‚ ","date":"2019-05-17","objectID":"/posts/hustoj/:2:0","tags":["hustoj","ACM","ubuntu","linux"],"title":"HustOJ åŸºç¡€æ­å»ºæ•™ç¨‹","uri":"/posts/hustoj/"},{"categories":["Memo"],"content":"è¯´æ˜ å®‰è£…åå‡ ä¸ªé‡è¦é…ç½®æ–‡ä»¶çš„ä½ç½® /home/judge/etc/judge.conf /home/judge/src/web/include/db_info.inc.php /etc/php5/fpm/php.ini æˆ– /etc/php7.0/fpm/php.ini /etc/nginx/sites-enabled/default ","date":"2019-05-17","objectID":"/posts/hustoj/:3:0","tags":["hustoj","ACM","ubuntu","linux"],"title":"HustOJ åŸºç¡€æ­å»ºæ•™ç¨‹","uri":"/posts/hustoj/"},{"categories":["ACM"],"content":" äºŒè¿›åˆ¶æœ€å¤§å…¬çº¦æ•°ç®—æ³•é¿å…äº†æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆè¾—è½¬ç›¸é™¤æ³•ï¼‰çš„å¤§é‡å–æ¨¡æ“ä½œï¼Œæœ‰æ•ˆå‡å°‘äº†æ—¶é—´æ¶ˆè€—ï¼Œä¸”æ›´ä¸ºæ–¹ä¾¿ã€‚ ","date":"2019-05-17","objectID":"/posts/gcd-bit/:0:0","tags":["æ¬§å‡ é‡Œå¾—","æ•°å­¦","æ•°è®º","C"],"title":"æœ€å¤§å…¬çº¦æ•°ï¼ˆäºŒè¿›åˆ¶ç®—æ³•ï¼‰","uri":"/posts/gcd-bit/"},{"categories":["ACM"],"content":"åŸç† æœ¬ç®—æ³•åŸºäºä»¥ä¸‹äº‹å®ï¼š å¯¹äºä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•° gcd(m, n)ï¼Œæœ‰ m\u003cn æ—¶ï¼Œgcd(m, n)=gcd(n, m) m å¶ n å¶æ—¶ï¼Œgcd(m, n)=2*gcd(m/2, n/2) m å¶ n å¥‡æ—¶ï¼Œgcd(m, n)=gcd(m/2, n) m å¥‡ n å¶æ—¶ï¼Œgcd(m, n)=gcd(m, n/2) m å¥‡ n å¥‡æ—¶ï¼Œgcd(m, n)=gcd(n, m-n) é‡‡ç”¨é€’å½’å³å¯ã€‚ ","date":"2019-05-17","objectID":"/posts/gcd-bit/:1:0","tags":["æ¬§å‡ é‡Œå¾—","æ•°å­¦","æ•°è®º","C"],"title":"æœ€å¤§å…¬çº¦æ•°ï¼ˆäºŒè¿›åˆ¶ç®—æ³•ï¼‰","uri":"/posts/gcd-bit/"},{"categories":["ACM"],"content":"å®ç° inline int GCD(int x,int y) { int i,j; if(x==0) return y; if(y==0) return x; for(i=0;0==(x\u00261);++i)x\u003e\u003e=1; // å»æ‰æ‰€æœ‰çš„ 2 for(j=0;0==(y\u00261);++j)y\u003e\u003e=1; // å»æ‰æ‰€æœ‰çš„ 2 if(j\u003ci) i=j; while(1){ if(x\u003cy)x^=y,y^=x,x^=y; // è‹¥ x \u003c y äº¤æ¢ x, y if(0==(x-=y)) return y\u003c\u003ci; // è‹¥ x == yï¼Œ gcd == x == y ï¼ˆå°±æ˜¯åœ¨è¾—è½¬å‡ï¼Œwhile(1) æ§åˆ¶ï¼‰ while(0==(x\u00261))x\u003e\u003e=1; // å»æ‰æ‰€æœ‰çš„ 2 } } int get_lcm(int a,int b)///è·å¾—æœ€å°å…¬å€æ•° { int x=a; int y=b; while(b) { int t=a; a=b; b=t%b; } return x/a*y; } ","date":"2019-05-17","objectID":"/posts/gcd-bit/:2:0","tags":["æ¬§å‡ é‡Œå¾—","æ•°å­¦","æ•°è®º","C"],"title":"æœ€å¤§å…¬çº¦æ•°ï¼ˆäºŒè¿›åˆ¶ç®—æ³•ï¼‰","uri":"/posts/gcd-bit/"},{"categories":["Grocery"],"content":" ImgURL æ˜¯ä¸€ä¸ªå¼€æºã€å…è´¹çš„å›¾åºŠç¨‹åºï¼ŒImgURL 2.x ä¹‹åå¯¹ç¯å¢ƒè¦æ±‚æ›´é«˜ï¼Œå°¤å…¶æ˜¯ ImageMagick ç»„ä»¶çš„æ”¯æŒï¼Œå¾ˆå¤šæœ‹å‹ä¸æ¸…æ¥šæ€æ ·å®‰è£…è¿™ä¸ªç»„ä»¶ï¼Œè¿™ç¯‡æ–‡ç« åˆ†äº«å®å¡”é¢æ¿å®‰è£… ImgURL 2.x å›¾åºŠçš„è¿‡ç¨‹ï¼ˆåŒ…æ‹¬ ImgURL 2.x éœ€è¦çš„å„ç§ç»„ä»¶ï¼‰ é˜…è¯»åŸæ–‡ ","date":"2019-05-16","objectID":"/posts/imgurl/:0:0","tags":["ImgURL","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£… ImgURL å›¾åºŠ","uri":"/posts/imgurl/"},{"categories":["Grocery"],"content":"å‡†å¤‡å·¥ä½œ å·²ç»å®‰è£…å®å¡”é¢æ¿ åœ¨å®å¡”åå°åˆ›å»ºä¸€ä¸ªç«™ç‚¹ ä¸‹è½½ ImgURL 2.x ä¸Šä¼ åˆ°ç«™ç‚¹æ ¹ç›®å½•å¹¶è§£å‹ ","date":"2019-05-16","objectID":"/posts/imgurl/:1:0","tags":["ImgURL","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£… ImgURL å›¾åºŠ","uri":"/posts/imgurl/"},{"categories":["Grocery"],"content":"è®¾ç½®ä¼ªé™æ€ å¦‚æœæ‚¨å®å¡”é¢æ¿å®‰è£…çš„ Apache åˆ™ä¸éœ€è¦å†è®¾ç½®ä¼ªé™æ€ï¼Œç›´æ¥è·³è¿‡è¿™ä¸ªæ­¥éª¤ï¼Œå¦‚æœä½¿ç”¨çš„ Nginx ç¯å¢ƒï¼Œè¯·ç»§ç»­å¾€ä¸‹çœ‹ã€‚ æ‰¾åˆ°å¯¹åº”çš„ç«™ç‚¹ - ç‚¹å‡»åé¢è®¾ç½®æŒ‰é’® - ä¼ªé™æ€ - æ·»åŠ ä¸‹é¢çš„ä¼ªé™æ€è§„åˆ™ location / { try_files $uri $uri/ /index.php?$query_string; } location ~* \\.(db3|json)$ { deny all; } location ~* ^/(temp|upload|imgs|data|application|static|system)/.*.(php|php5)$ { return 403; } ","date":"2019-05-16","objectID":"/posts/imgurl/:2:0","tags":["ImgURL","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£… ImgURL å›¾åºŠ","uri":"/posts/imgurl/"},{"categories":["Grocery"],"content":"å®‰è£… fileinfo \u0026 imagemagick åœ¨å®å¡”åå° - è½¯ä»¶ç®¡ç† - æ‰¾åˆ°æ‚¨ç«™ç‚¹å¯¹åº”çš„ PHP ç‰ˆæœ¬ - è®¾ç½® PHP - å®‰è£…æ‰©å±• - å‹¾é€‰fileinfoå’Œimagemagickï¼Œå¦‚ä¸‹æˆªå›¾ã€‚ ","date":"2019-05-16","objectID":"/posts/imgurl/:3:0","tags":["ImgURL","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£… ImgURL å›¾åºŠ","uri":"/posts/imgurl/"},{"categories":["Grocery"],"content":"å®‰è£… ImgURL 2.x å…¶å®ƒæ‰€éœ€æ‰©å±•å®å¡”é»˜è®¤å·²ç»æ”¯æŒï¼Œé‡ç‚¹æ˜¯å®‰è£…fileinfoå’Œimagemagickï¼Œæ‰©å±•å®‰è£…å®Œæ¯•åå°±å¯ä»¥è®¿é—®æ‚¨è‡ªå·±çš„åŸŸåå®‰è£… ImgURL äº†ï¼Œå¦‚æœæ­£å¸¸ä¼šçœ‹åˆ° ImgURL å®‰è£…ç•Œé¢ã€‚ ","date":"2019-05-16","objectID":"/posts/imgurl/:4:0","tags":["ImgURL","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£… ImgURL å›¾åºŠ","uri":"/posts/imgurl/"},{"categories":["Grocery"],"content":"å…¶å®ƒè¯´æ˜ å¦‚æœå®‰è£…é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·ç•™è¨€åé¦ˆæˆ–åˆ° 3T å®˜æ–¹ç¤¾åŒº è¿›è¡Œåé¦ˆ ImgURL æ›´å¤šä½¿ç”¨è¯´æ˜è¯·å‚è€ƒå¸®åŠ©æ–‡æ¡£ï¼šhttps://dwz.ovh/imgurldoc ","date":"2019-05-16","objectID":"/posts/imgurl/:5:0","tags":["ImgURL","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£… ImgURL å›¾åºŠ","uri":"/posts/imgurl/"},{"categories":["Python"],"content":" ç”¨ python æ¨¡æ‹Ÿ post è¯·æ±‚è·å–â€œéº»å°ç§‘æŠ€â€ç¤ºä¾‹é…’åº—åå°çš„æ•°æ®ï¼Œå†æ‰“åŒ…å‘é€è‡³æŒ‡å®šçš„å¾®ä¿¡ç¾¤æˆ–è€…å¥½å‹ã€‚ è¦æ±‚æ¯å¤©æ—©ä¸Š 8 ç‚¹å®šæ—¶æŠŠæ¯ä¸ªé…’åº—çš„æ•°æ®å‘é€è‡³æ¯ä¸ªé…’åº—çš„å¾®ä¿¡å·¥ä½œç¾¤ã€‚ ","date":"2019-05-11","objectID":"/posts/mx2wx/:0:0","tags":["Python","wxpy","pyinstaller","HTTP","JSON","Cron"],"title":"python å®æˆ˜ï¼šæ¨¡æ‹Ÿ post è¯·æ±‚å®šæ—¶è·å–åå°æ•°æ®å¹¶æ‰“åŒ…å‘é€è‡³å¾®ä¿¡","uri":"/posts/mx2wx/"},{"categories":["Python"],"content":"èƒŒæ™¯ éº»å°ç§‘æŠ€ï¼š éº»å°ç§‘æŠ€å…¨åæ·±åœ³å¸‚éº»å°ç§‘æŠ€æœ‰é™å…¬å¸ï¼Œæˆç«‹äº 2017 å¹´ 1 æœˆã€‚æ˜¯æˆ‘é«˜ä¸€çš„æ—¶å€™å‚åŠ Peer å¤ä»¤è¥å¸¦æˆ‘ä»¬ä¸€ä¸ªç©çš„â€œè€å¸ˆâ€å’Œä»–çš„æœ‹å‹çš„åˆ›ä¸šå…¬å¸ï¼Œè¯´è€å¸ˆæœ‰ç‚¹å¥‡æ€ªï¼Œæˆ‘ä»¬éƒ½æ˜¯ç›´æ¥å«åå­—çš„ï¼Œæ¯”å¦‚å¤§å®¶éƒ½å«æˆ‘ç‘è±ªï¼Œæˆ‘ä¹Ÿå°±å«ä»–æ–‡æ·å“¥ï¼Œç®€ç§°æ·å“¥å§ã€‚ä»–ä»¬å…¬å¸ä¸»è¦çš„å¼€å‘æ¨¡å¼æ˜¯ï¼Œå°ç¨‹åºå‰ç«¯+php åç«¯ï¼Œç„¶ååšçš„æ˜¯é…’åº—å°ç¨‹åºï¼Œä¸ºæ¯ä¸ªé…’åº—å®šåˆ¶å°ç¨‹åºã€‚è¿™äº›å°ç¨‹åºå¯ä»¥è´´åœ¨å®¢æˆ¿ä¸­ç»™è®¿å®¢æä¾›ä¸€äº›æœåŠ¡ï¼Œå¤§å¤§èŠ‚çœäº†æˆæœ¬ä¹Ÿæé«˜äº†æ•ˆç‡ã€‚ ç„¶åæ¯ä¸ªé…’åº—å°ç¨‹åºéƒ½æœ‰ç‹¬ç«‹çš„åå°ï¼Œåå°ä¼šè®°å½•ä¸€äº›ç‚¹å‡»éœ€æ±‚çš„æ•°æ®ã€‚ç°åœ¨ä»–ä»¬æœ‰ä¸€ä¸ªéœ€æ±‚éœ€è¦æŠŠæ¯ä¸ªé…’åº—å°ç¨‹åºåå°çš„æ•°æ®åœ¨æ¯å¤©æ—©ä¸Š 9 ç‚¹å‘é€è‡³å¯¹åº”é…’åº—çš„å¾®ä¿¡ç¾¤ã€‚ ","date":"2019-05-11","objectID":"/posts/mx2wx/:1:0","tags":["Python","wxpy","pyinstaller","HTTP","JSON","Cron"],"title":"python å®æˆ˜ï¼šæ¨¡æ‹Ÿ post è¯·æ±‚å®šæ—¶è·å–åå°æ•°æ®å¹¶æ‰“åŒ…å‘é€è‡³å¾®ä¿¡","uri":"/posts/mx2wx/"},{"categories":["Python"],"content":"å®ç°ä»£ç  ç¼“å­˜ç™»å½•ä¿¡æ¯ï¼ŒçŸ­æ—¶é—´ç±»æ— éœ€é‡å¤ç™»å½•ï¼Œä»…ç¬¬ä¸€æ¬¡éœ€è¦æ‰«ç ç™»å½•ï¼ˆç›¸å½“äºå¾®ä¿¡ç½‘é¡µç‰ˆï¼‰ï¼Œåé¢çš„ç™»å½•åªéœ€åœ¨æ‰‹æœºä¸Šç¡®è®¤ç™»å½•ä¿¡æ¯ã€‚ #!/usr/bin/python import requests import json import time from wxpy import * ## åŸºæœ¬ä¿¡æ¯å¡«å†™ï¼š ## é…’åº— idï¼Œé…’åº—åç§°åŠç¾¤ååˆ—è¡¨æ•°æ®ï¼Œæ ¼å¼ï¼š[\"xxx\",\"xxx\",\"xxx\"] ## ä½¿ç”¨æ—¶è¯·å°†ä»¥ä¸‹ä¸‰ä¸ªåˆ—è¡¨ä¸€ä¸€å¯¹åº” hotel=[\"xxxx\",\"xxxx\"] ## é…’åº—åå°æ•°æ®æ¥å£äºŒçº§åŸŸåï¼Œå·²åŒ¿å hotel_name=[\"å¢åŸå®¾é¦†\",\"ç™¾ä¸½é…’åº—\"] grouplist = [\"éº»å°\",\"å¯Œå¼ºæ°‘ä¸»æ–‡æ˜å’Œè°è‡ªç”±å¹³ç­‰å…¬æ­£æ³•æ²»\"] ## post è¯·æ±‚å‘é€çš„æ•°æ® postData = { ## 'username':'test', ## 'password':'123456', } def get_data(): result = [] #ç»“æœåˆ—è¡¨ i = 0 #è®¡æ•°å™¨ for each in hotel: url=\"http://\"+each+\".maxiaokeji.com/xxx/xxxxxxx/xxx\" ## ä¸ºä¿æŠ¤éšç§åŠæƒç›Šï¼Œè¿™é‡Œä¸æä¾›æ¥å£ r = requests.post(url,data=postData) ## print(r.text) ## æŠŠç»“æœè½¬åŒ–ä¸º json å­—ç¬¦ä¸² response=json.dumps(r.json(),indent=4,ensure_ascii=False) #sort_keys=True ## æŠŠ json è½¬æ¢ä¸º dict å­—å…¸ä½œä¸ºä¸­é—´ç»“æœï¼Œå†å–å‡ºæ˜¨æ—¥æ•°æ® midresult=json.loads(response) result.append(\"æ—©ä¸Šå¥½ï¼\"+hotel_name[i]+\"å°ç¨‹åºæ˜¨æ—¥æ•°æ®å¦‚ä¸‹ï¼š\\n è®¿é—®æ•°ï¼š\"+str(midresult[\"data\"][\"yesterday_data\"][\"type1\"])+\"\\n æˆ¿é—´æ•°ï¼š\"+str(midresult[\"data\"][\"yesterday_data\"][\"type2\"])+\"\\n éœ€æ±‚é‡ï¼š\"+str(midresult[\"data\"][\"yesterday_data\"][\"type3\"])+\"\\n å•†å“ç‚¹å‡»é‡ï¼š\"+str(midresult[\"data\"][\"yesterday_data\"][\"type4\"])) i+=1 ## print(result) return result def wechat_send(bot,result): ## my_friend = bot.friends().search('lrh')[0] ## my_friend.send(result) i = 0 ## è®¡æ•°å™¨ for group in grouplist: my_group = bot.groups().search(group)[0] #ä¾æ¬¡æœç´¢æ¯ä¸€ä¸ªç¾¤åç§°ï¼Œæ¯æ¬¡ä¸€ä¸ª my_group.send(result[i]) print(result[i]) print(\"å·²å‘é€è‡³ç¾¤ï¼š\"+group) i+=1 def main(bot): ## è®¾ç½®æœ€å¤§ä¼‘çœ æ—¶é—´ï¼Œé˜²æ­¢ç¨‹åºé•¿æ—¶é—´å ç”¨ç³»ç»Ÿèµ„æº while True: now_hour = time.strftime(\"%H\", time.localtime()) now_min = time.strftime(\"%M\", time.localtime()) ## è®¾ç½®æ¯å¤© 8 ç‚¹å‘é€ if now_hour \u003c \"08\": rest = 8 - int(now_hour) sleeptime = (rest-1)*3600 + (60-int(now_min))*60 print(\"å¯åŠ¨æ—¶åŒ—äº¬æ—¶é—´ä¸ºï¼š\"+time.strftime(\"%H:%M\", time.localtime()),\"\\t è½¯ä»¶å°†åœ¨\",rest-1,\"å°æ—¶\",int((sleeptime-(rest-1)*3600)/60),\"åˆ†é’Ÿåå‘é€æ•°æ®\") time.sleep(sleeptime) elif now_hour \u003e \"08\": rest = 8 - int(now_hour) + 24 sleeptime = (rest-1)*3600 + (60-int(now_min))*60 print(\"å¯åŠ¨æ—¶åŒ—äº¬æ—¶é—´ä¸ºï¼š\"+time.strftime(\"%H:%M\", time.localtime()),\"\\t è½¯ä»¶å°†åœ¨\",rest-1,\"å°æ—¶\",int((sleeptime-(rest-1)*3600)/60),\"åˆ†é’Ÿåå‘é€æ•°æ®\") time.sleep(sleeptime) elif now_hour == \"08\": print(\"è½¯ä»¶æ˜å¤©å¼€å§‹å°†åœ¨æ¯å¤© 8 ç‚¹å‘é€æ•°æ®ï¼\") result=get_data() ## è·å–æ•°æ® wechat_send(bot,result) ## å‘é€æ•°æ® time.sleep(86400-int(now_min)*60) if __name__==\"__main__\": bot = Bot(cache_path=True) ## åˆå§‹åŒ–æœºå™¨äººï¼Œæ‰«ç ç™»é™† main(bot); ","date":"2019-05-11","objectID":"/posts/mx2wx/:2:0","tags":["Python","wxpy","pyinstaller","HTTP","JSON","Cron"],"title":"python å®æˆ˜ï¼šæ¨¡æ‹Ÿ post è¯·æ±‚å®šæ—¶è·å–åå°æ•°æ®å¹¶æ‰“åŒ…å‘é€è‡³å¾®ä¿¡","uri":"/posts/mx2wx/"},{"categories":["Python"],"content":"æµ‹è¯•ç»“æœ ","date":"2019-05-11","objectID":"/posts/mx2wx/:3:0","tags":["Python","wxpy","pyinstaller","HTTP","JSON","Cron"],"title":"python å®æˆ˜ï¼šæ¨¡æ‹Ÿ post è¯·æ±‚å®šæ—¶è·å–åå°æ•°æ®å¹¶æ‰“åŒ…å‘é€è‡³å¾®ä¿¡","uri":"/posts/mx2wx/"},{"categories":["Python"],"content":"ç¨‹åºæ‰“åŒ… ä½¿ç”¨ pyinstaller å·¥å…·æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶å³å¯ã€‚ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶ä¸å¯è·¨å¹³å°è¿è¡Œï¼Œåˆ†å¹³å°æ‰“åŒ…ï¼‰ ç›®å‰è¯¥ç¨‹åºå·²ç»ä¸Šçº¿æµ‹è¯•ä¸­ â€¦ æš‚æœªåé¦ˆé—®é¢˜ ","date":"2019-05-11","objectID":"/posts/mx2wx/:4:0","tags":["Python","wxpy","pyinstaller","HTTP","JSON","Cron"],"title":"python å®æˆ˜ï¼šæ¨¡æ‹Ÿ post è¯·æ±‚å®šæ—¶è·å–åå°æ•°æ®å¹¶æ‰“åŒ…å‘é€è‡³å¾®ä¿¡","uri":"/posts/mx2wx/"},{"categories":["Python"],"content":"æ”¶è· ç¬¬ä¸€æ¬¡å‚ä¸å®é™…å…¬å¸çš„é¡¹ç›®å¼€å‘ï¼Œè™½ç„¶åªæ˜¯ä¸€ä¸ªå°çš„éœ€æ±‚è®¾è®¡ï¼Œä½†æ˜¯æˆ‘åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿå­¦åˆ°äº†å¾ˆå¤šï¼Œæ¯”å¦‚é€šè¿‡å®é™…ä¸€ä¸¤å‘¨çš„ç¼–ç¨‹å¯¹ Python çš„ç†Ÿæ‚‰åº¦è¿œè¿œå¥½è¿‡ä»¥å‰åœ¨å®éªŒå®¤çœ‹çš„ä¸€ä¸ªæœˆè§†é¢‘ã€‚ è¿˜æœ‰å°±æ˜¯åœ¨æ­¤æ¬¡å¼€å‘ä¸­ï¼Œä¹Ÿæ„Ÿå—åˆ°äº†å®é™…é¡¹ç›®å¼€å‘çš„å›¢é˜Ÿåˆä½œé‡è¦æ€§ï¼Œåˆšå¼€å§‹æ‹¿åˆ°è¿™ä¸ªéœ€æ±‚ï¼Œç”±äºæˆ‘å¯¹ python å’Œåå°ï¼Œä»¥åŠæ•°æ®æ¥å£è¿™äº›åŸºæœ¬çš„æ“ä½œéƒ½ä¸æ‡‚ï¼Œå°±æ‹¿æ•°æ®è·å–æ¥è¯´ï¼Œæˆ‘ä¸€å¼€å§‹ä¸€ä½è¦è‡ªå·±æ¨¡æ‹Ÿç™»é™†åå°ï¼ˆå·²çŸ¥å¯†ç ï¼‰ï¼Œä¸€é¡¿æ“ä½œã€ç™¾åº¦ç­‰ç­‰å¤±è´¥å‘Šç»ˆï¼Œåæ¥æ¶›å“¥ç»™äº†ä¸€ä¸ªæ•°æ®æ¥å£ï¼ŒåŠ ä¸Šæ¶›å“¥è€å¿ƒæŒ‡ç‚¹ï¼Œæˆ‘æ‰ç»ˆäºæ‹¿åˆ°äº†æ•°æ®ã€‚ è¿˜æœ‰åœ¨å¤šäººåˆä½œçš„é¡¹ç›®ä¸­ï¼Œä¸ºä¿æŒä»£ç çš„å¯è¯»æ€§ï¼Œè¦å°½é‡çš„å¤šäº›æ³¨é‡Šï¼Œè¿˜æœ‰å‡½æ•°æ–¹æ³•çš„å‘½åå°½é‡å…·å¤‡å¯è¯»æ€§ã€‚æ¯”å¦‚æˆ‘ä»£ç ä¸­çš„wechat_send()ï¼Œä¸€å¼€å§‹çš„å‘½åæ˜¯wxfs()ï¼Œç»æ·å“¥æŒ‡æ­£æˆ‘æ‰æ”¹è¿‡æ¥çš„ã€‚ ","date":"2019-05-11","objectID":"/posts/mx2wx/:5:0","tags":["Python","wxpy","pyinstaller","HTTP","JSON","Cron"],"title":"python å®æˆ˜ï¼šæ¨¡æ‹Ÿ post è¯·æ±‚å®šæ—¶è·å–åå°æ•°æ®å¹¶æ‰“åŒ…å‘é€è‡³å¾®ä¿¡","uri":"/posts/mx2wx/"},{"categories":["Grocery"],"content":" \u003c!--[if !IE]\u003e\u003c!--\u003e é™¤ IE å¤–éƒ½å¯è¯†åˆ« \u003c!--\u003c![endif]--\u003e \u003c!--[if IE]\u003e æ‰€æœ‰çš„ IE å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if IE 6]\u003e ä»… IE6 å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if lt IE 6]\u003e IE6 ä»¥åŠ IE6 ä»¥ä¸‹ç‰ˆæœ¬å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if gte IE 6]\u003e IE6 ä»¥åŠ IE6 ä»¥ä¸Šç‰ˆæœ¬å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if IE 7]\u003e ä»… IE7 å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if lt IE 7]\u003e IE7 ä»¥åŠ IE7 ä»¥ä¸‹ç‰ˆæœ¬å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if gte IE 7]\u003e IE7 ä»¥åŠ IE7 ä»¥ä¸Šç‰ˆæœ¬å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if IE 8]\u003e ä»… IE8 å¯è¯†åˆ« \u003c![endif]--\u003e \u003c!--[if IE 9]\u003e ä»… IE9 å¯è¯†åˆ« \u003c![endif]--\u003e é¡¹ç›®èŒƒä¾‹è¯´æ˜ ![if !IE]The NOT operator. This is placed immediately in front of theÂ feature,Â operator, orÂ subexpressionÂ to reverse the Boolean meaning of the expression. NOT è¿ç®—ç¬¦ã€‚è¿™æ˜¯æ‘†ç«‹å³åœ¨å‰é¢çš„åŠŸèƒ½ï¼Œæ“ä½œå‘˜ï¼Œæˆ–å­è¡¨è¾¾å¼æ‰­è½¬å¸ƒå°”è¡¨è¾¾å¼çš„æ„ä¹‰ã€‚lt [if lt IE 5.5] The less-than operator. Returns true if the first argument is less than the second argument. å°äºè¿ç®—ç¬¦ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å°äºç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™è¿”å› trueã€‚ lte[if lte IE 6]The less-than or equal operator. Returns true if the first argument is less than or equal to the second argument. å°äºæˆ–ç­‰äºè¿ç®—ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å°äºæˆ–ç­‰äºç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™è¿”å› trueã€‚ gt[if gt IE 5]The greater-than operator. Returns true if the first argument is greater than the second argument. å¤§äºè¿ç®—ç¬¦ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å¤§äºç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™è¿”å› trueã€‚ gte [if gte IE 7]The greater-than or equal operator. Returns true if the first argument is greater than or equal to the second argument. å¤§äºæˆ–ç­‰äºè¿ç®—ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤§äºæˆ–ç­‰äºç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™è¿”å› trueã€‚ ( )[if !(IE 7)]Subexpression operators. Used in conjunction with boolean operators to create more complex expressions. å­è¡¨è¾¾å¼è¿è¥å•†ã€‚åœ¨ä¸å¸ƒå°”è¿ç®—ç¬¦ç”¨äºåˆ›å»ºæ›´å¤æ‚çš„è¡¨è¾¾å¼ã€‚\u0026[if (gt IE 5)\u0026(lt IE 7)]The AND operator. Returns true if all subexpressions evaluate to true AND è¿ç®—ç¬¦ã€‚å¦‚æœæ‰€æœ‰çš„å­è¡¨è¾¾å¼è®¡ç®—ç»“æœä¸º trueï¼Œè¿”å› true|[if (IE 6)|(IE 7)]The OR operator. Returns true if any of the subexpressions evaluates to true. OR è¿ç®—ç¬¦ã€‚è¿”å› trueï¼Œå¦‚æœå­è¡¨è¾¾å¼è®¡ç®—ç»“æœä¸º trueã€‚ \u003c!--[if lt IE 9]\u003e åŠ è½½ CSS1 \u003c!--[else]\u003e åŠ è½½ CSS2 \u003c![endif]--\u003e è¿™æ ·æœ‰æ•ˆæ˜¯æœ‰æ•ˆï¼Œä½†æ˜¯ç”¨ HTML VALIDATOR é‡Œï¼ŒæŠ¥é”™ï¼Œå› ä¸ºè¿™ä¸ªä¸ç¬¦åˆ XHTML 1.1 çš„è§„èŒƒï¼Œ å¦‚æœæŠŠ ELSE è¯­å¥å»æ‰ï¼Œåˆ™æ­£ç¡®ã€‚ åŠ è½½ CSS2 \u003c!--[if lt IE 9]\u003e åŠ è½½ CSS1ï¼ˆå¯ä»¥æŠŠè¦é‡å†™çš„å†™åœ¨è¿™é‡Œï¼‰. \u003c![endif]--\u003e ","date":"2019-05-10","objectID":"/posts/ifzhushi/:0:0","tags":["HTML","ä»–å±±ä¹‹çŸ³"],"title":"æ¡ä»¶æ³¨é‡Šåˆ¤æ–­æµè§ˆå™¨ç‰ˆæœ¬\u003c!--[if lt IE 9]\u003e;","uri":"/posts/ifzhushi/"},{"categories":["Python"],"content":" ç¬¬ä¸€æ¬¡è¿è¡Œæ ¹æ®ç¨‹åºæ‰§è¡Œæ—¶é—´ï¼Œåˆ¤æ–­ç¨‹åºä¼‘çœ çš„æ—¶é—´ï¼Œå°½æœ€å¤§å¯èƒ½ä¼‘çœ ï¼ŒèŠ‚çœç³»ç»Ÿèµ„æºã€‚ ç¬¬äºŒæ¬¡è¿è¡Œåç›´æ¥ä¼‘çœ ä¸€å¤©ï¼Œåˆ°æ¯å¤©æ—©ä¸Š 8 ç‚¹æ‰§è¡Œä»»åŠ¡ã€‚ ï¼ˆè¯¥ç¨‹åºéœ€è¦ä¸€ç›´æŒ‚ç€ï¼Œä¿æŒç½‘ç»œä¸æ–­ï¼‰ import time while True: now_hour = time.strftime(\"%H\", time.localtime()) now_min = time.strftime(\"%M\", time.localtime()) if now_hour \u003c \"08\": rest = 8 - int(now_hour) sleeptime = (rest-1)*3600 + (60-int(now_min))*60 print(\"å¯åŠ¨æ—¶åŒ—äº¬æ—¶é—´ä¸ºï¼š\"+time.strftime(\"%H:%M\", time.localtime()),\"\\t è½¯ä»¶å°†åœ¨\",rest-1,\"å°æ—¶\",int((sleeptime-(rest-1)*3600)/60),\"åˆ†é’Ÿåå‘é€æ•°æ®\") time.sleep(sleeptime) elif now_hour \u003e \"08\": rest = 8 - int(now_hour) + 24 sleeptime = (rest-1)*3600 + (60-int(now_min))*60 print(\"å¯åŠ¨æ—¶åŒ—äº¬æ—¶é—´ä¸ºï¼š\"+time.strftime(\"%H:%M\", time.localtime()),\"\\t è½¯ä»¶å°†åœ¨\",rest-1,\"å°æ—¶\",int((sleeptime-(rest-1)*3600)/60),\"åˆ†é’Ÿåå‘é€æ•°æ®\") time.sleep(sleeptime) elif now_hour == \"08\": print(\"å¯åŠ¨æ—¶åŒ—äº¬æ—¶é—´ä¸ºï¼š\" + time.strftime(\"%H:%M\", time.localtime()), \"\\t è½¯ä»¶å°†åœ¨æ¯å¤© 8 ç‚¹å‘é€æ•°æ®ï¼\") # ä»¥ä¸‹ä¸ºå®šæ—¶ä»»åŠ¡ print(\"æ•°æ®\") time.sleep(86400-int(now_min)*60) ","date":"2019-05-09","objectID":"/posts/pysettime/:0:0","tags":["Python","Cron"],"title":"python è®¾ç½®ç¨‹åºæ¯å¤© 8 ç‚¹å®šæ—¶æ‰§è¡Œä»»åŠ¡","uri":"/posts/pysettime/"},{"categories":["Python"],"content":" ç”¨è¿‡å‘½ä»¤pip install pyinstallerå®‰è£…å¤±è´¥ï¼Œæ­¤åŒ…ä¾èµ–äº pywin32ï¼Œå®‰è£…å‰éœ€è¦å…ˆpip install pywin32, æˆ‘å®‰è£…äº†è¿˜æ˜¯å‡ºé”™ï¼Œç¨å¾®ç™¾åº¦äº†ä¸€ä¸‹ä¹Ÿæ²¡æœ‰çœ‹åˆ°è§£å†³åŠæ³•ã€‚ è¿™é‡Œé€šè¿‡æ‰‹åŠ¨ä¸‹è½½å®‰è£…è§£å†³çš„ï¼Œè®°å½•ä¸€ä¸‹ã€‚ ","date":"2019-05-09","objectID":"/posts/pyinstallererror/:0:0","tags":["Python","pyinstaller"],"title":"å®‰è£… pyinstaller å‡ºé”™çš„è§£å†³åŠæ³•åŠ csdn å·¥å…·å®ä¾‹æ‰“åŒ…","uri":"/posts/pyinstallererror/"},{"categories":["Python"],"content":"ä¸‹è½½ å»å®˜ç½‘ä¸‹è½½ pyinstaller å®‰è£…åŒ…ï¼šhttps://pypi.org/project/PyInstaller/#files ","date":"2019-05-09","objectID":"/posts/pyinstallererror/:1:0","tags":["Python","pyinstaller"],"title":"å®‰è£… pyinstaller å‡ºé”™çš„è§£å†³åŠæ³•åŠ csdn å·¥å…·å®ä¾‹æ‰“åŒ…","uri":"/posts/pyinstallererror/"},{"categories":["Python"],"content":"è§£å‹ æˆ‘è¿™é‡Œè§£å‹åˆ°E:\\åº”ç”¨ã€Python37\\Lib\\site-packages\\PyInstaller-3.4 ","date":"2019-05-09","objectID":"/posts/pyinstallererror/:2:0","tags":["Python","pyinstaller"],"title":"å®‰è£… pyinstaller å‡ºé”™çš„è§£å†³åŠæ³•åŠ csdn å·¥å…·å®ä¾‹æ‰“åŒ…","uri":"/posts/pyinstallererror/"},{"categories":["Python"],"content":"å®‰è£… cmd ä¹Ÿè¿›å…¥åˆ°ä¸Šé¢çš„è·¯å¾„ä¸‹ï¼Œç„¶åæ‰§è¡ŒPython setup.py installï¼Œç­‰å¾…å®‰è£…å®Œæ¯• ","date":"2019-05-09","objectID":"/posts/pyinstallererror/:3:0","tags":["Python","pyinstaller"],"title":"å®‰è£… pyinstaller å‡ºé”™çš„è§£å†³åŠæ³•åŠ csdn å·¥å…·å®ä¾‹æ‰“åŒ…","uri":"/posts/pyinstallererror/"},{"categories":["Python"],"content":"pyinstaller ç®€ä»‹ pyinstaller å°† Python è„šæœ¬æ‰“åŒ…æˆå¯æ‰§è¡Œç¨‹åºï¼Œä½¿åœ¨æ²¡æœ‰ Python ç¯å¢ƒçš„æœºå™¨ä¸Šè¿è¡Œã€‚ æœ€æ–°ç‰ˆæ˜¯ pyinstaller 3.4ï¼Œå¯è¿è¡Œåœ¨ Windowsï¼ŒMac å’Œ Linux æ“ä½œç³»ç»Ÿä¸‹ã€‚ ä½†å®ƒä¸æ˜¯è·¨ç¼–è¯‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ Windows ä¸‹ç”¨ PyInstaller ç”Ÿæˆçš„ exe åªèƒ½è¿è¡Œåœ¨ Windows ä¸‹ï¼Œåœ¨ Linux ä¸‹ç”Ÿæˆçš„åªèƒ½è¿è¡Œåœ¨ Linux ä¸‹ã€‚ ","date":"2019-05-09","objectID":"/posts/pyinstallererror/:4:0","tags":["Python","pyinstaller"],"title":"å®‰è£… pyinstaller å‡ºé”™çš„è§£å†³åŠæ³•åŠ csdn å·¥å…·å®ä¾‹æ‰“åŒ…","uri":"/posts/pyinstallererror/"},{"categories":["Python"],"content":"æ‰“åŒ… æ‰“åŒ…çš„ app é‡Œå¹¶ä¸åŒ…å«ä»»ä½•æºç ï¼Œä½†å°†è„šæœ¬çš„ .pyc æ–‡ä»¶æ‰“åŒ…äº†ã€‚ åŸºæœ¬è¯­æ³•ï¼š pyinstaller options myscript.py å¸¸ç”¨çš„å¯é€‰å‚æ•°å¦‚ä¸‹ï¼š --onefile å°†ç»“æœæ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ --onedir å°†æ‰€æœ‰ç»“æœæ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œè¯¥æ–‡ä»¶å¤¹åŒ…æ‹¬ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶æ‰§è¡Œæ—¶éœ€è¦çš„ä¾èµ–æ–‡ä»¶ï¼ˆé»˜è®¤ï¼‰ --paths=DIR è®¾ç½®å¯¼å…¥è·¯å¾„ --distpath=DIR è®¾ç½®å°†æ‰“åŒ…çš„ç»“æœæ–‡ä»¶æ”¾ç½®çš„è·¯å¾„ --specpath=DIR è®¾ç½®å°† spec æ–‡ä»¶æ”¾ç½®çš„è·¯å¾„ --windowed ä½¿ç”¨ windows å­ç³»ç»Ÿæ‰§è¡Œï¼Œä¸ä¼šæ‰“å¼€å‘½ä»¤è¡Œï¼ˆåªå¯¹ windows æœ‰æ•ˆï¼‰ --nowindowed ä½¿ç”¨æ§åˆ¶å°å­ç³»ç»Ÿæ‰§è¡Œï¼ˆé»˜è®¤ï¼‰ï¼ˆåªå¯¹ windows æœ‰æ•ˆï¼‰ --icon=\u003cFILE.ICO\u003e å°† file.ico æ·»åŠ ä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„èµ„æºï¼ˆåªå¯¹ windows æœ‰æ•ˆï¼‰ å¦‚pyinstaller --paths=\"D:\\\" test.py ","date":"2019-05-09","objectID":"/posts/pyinstallererror/:5:0","tags":["Python","pyinstaller"],"title":"å®‰è£… pyinstaller å‡ºé”™çš„è§£å†³åŠæ³•åŠ csdn å·¥å…·å®ä¾‹æ‰“åŒ…","uri":"/posts/pyinstallererror/"},{"categories":["Python"],"content":"CSDN è®¿é—®é‡è„šæœ¬å®ä¾‹ æ¯”å¦‚ï¼Œæ‹¿ä»¥å‰å†™çš„ä¸€ä¸ªåˆ· csdn è®¿é—®é‡å·¥å…· csdn.pyï¼ˆæ”¾åœ¨æ¡Œé¢ä¸Šï¼‰ï¼Œä»£ç è¯¦è§ åœ¨ cmd è¿›å…¥æ¡Œé¢è·¯å¾„ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ pyinstaller --onefile --nowindowed csdn.py ","date":"2019-05-09","objectID":"/posts/pyinstallererror/:6:0","tags":["Python","pyinstaller"],"title":"å®‰è£… pyinstaller å‡ºé”™çš„è§£å†³åŠæ³•åŠ csdn å·¥å…·å®ä¾‹æ‰“åŒ…","uri":"/posts/pyinstallererror/"},{"categories":["Java"],"content":" å®ç°ä¸€ä¸ªç®€å•çš„åŸºäºå•çº¿ç¨‹çš„èµ„æºä¸‹è½½å™¨ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œç”¨æˆ·å¯ä»¥ä»»æ„æŒ‡å®šä¸‹è½½èµ„æºçš„é“¾æ¥åœ°å€ï¼Œç³»ç»Ÿæ ¹æ®è¯¥åœ°å€åˆ¤æ–­èµ„æºæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™å°†è¯¥èµ„æºä¸‹è½½åˆ°æœ¬åœ°ã€‚ ","date":"2019-05-08","objectID":"/posts/singlethreaddown/:0:0","tags":["GUI","URLConnection","HTTP","Java"],"title":"java å®ç°ä¸€ä¸ªå•çº¿ç¨‹çš„èµ„æºä¸‹è½½å™¨","uri":"/posts/singlethreaddown/"},{"categories":["Java"],"content":"GUI è®¾è®¡åŸºæœ¬æµç¨‹ å…ˆè®°å½•ä¸€ä¸‹ GUI è®¾è®¡çš„åŸºæœ¬æµç¨‹ï¼š æ ¹æ®éœ€è¦ä»ç›¸åº”çš„é¡¶å±‚å®¹å™¨ç»§æ‰¿ï¼ˆå¦‚æœåˆ›å»ºçª—ä½“å°±ç»§æ‰¿ JFrameï¼Œå¯¹è¯æ¡†å°±ç»§æ‰¿ JDialogï¼‰ï¼Œæ–°å»ºä¸€ä¸ªå­ç±»ã€‚ ç„¶åè®¾ç½®é¡¶å±‚å®¹å™¨çš„å±æ€§ï¼ŒåŒ…æ‹¬å¤§å°ã€ä½ç½®ã€æ ‡é¢˜å’Œå…³é—­äº‹ä»¶ç­‰ã€‚ è®¾ç½®ç•Œé¢ä¸Š GUI ç»„ä»¶çš„äº‹ä»¶å“åº”ã€‚ public void actionPerformed(ActionEvent e) {} å‘é¡¶å±‚å®¹å™¨ä¸Šæ·»åŠ  GUI ç»„ä»¶ï¼Œå¹¶è®¾ç½®å¸ƒå±€ã€‚ï¼ˆé€šå¸¸åˆ©ç”¨ JPanel ç»„ä»¶å…ˆä½œä¸ºå¾®å‹å®¹å™¨ï¼‰ åˆ›å»ºæ–°å»ºå­ç±»çš„å®ä¾‹ï¼Œè°ƒç”¨ setVisible(true) æ–¹æ³•æ˜¾ç¤ºé¡µé¢ã€‚ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥åœ¨å­ç±»ä¸­è®¾ç½® setVisible(true)ï¼‰ ","date":"2019-05-08","objectID":"/posts/singlethreaddown/:1:0","tags":["GUI","URLConnection","HTTP","Java"],"title":"java å®ç°ä¸€ä¸ªå•çº¿ç¨‹çš„èµ„æºä¸‹è½½å™¨","uri":"/posts/singlethreaddown/"},{"categories":["Java"],"content":"å®ç°ä»£ç  package cn.lruihao.base; import java.awt.FlowLayout; import java.awt.Font; import java.awt.HeadlessException; import java.awt.event.ActionEvent; import java.awt.event.ActionListener; import java.io.FileOutputStream; import java.io.InputStream; import java.net.URL; import java.net.URLConnection; import javax.swing.JButton; import javax.swing.JFrame; import javax.swing.JLabel; import javax.swing.JOptionPane; import javax.swing.JPanel; import javax.swing.JTextField; public class SingleThreadDown extends JFrame implements ActionListener { private final JPanel panel=new JPanel(); private final JLabel label1=new JLabel(\"ç½‘ç»œèµ„æºçš„å•çº¿ç¨‹ä¸‹è½½ï¼š\"); private final JLabel label2=new JLabel(\"ç½‘ç»œèµ„æºçš„ç½‘å€ï¼š\"); JButton StartButton = new JButton(\"å•å‡»å¼€å§‹ä¸‹è½½\"); JButton resetButton = new JButton(\"æ¸…ç©º\"); JButton exitButton = new JButton(\"é€€å‡º\"); JTextField urlField = new JTextField(20); public SingleThreadDown() { panel.setLayout(new FlowLayout()); //å¸ƒå±€ç®¡ç†å™¨ label1.setFont(new Font(\"é›…é»‘\",Font.BOLD,15)); panel.add(label1); panel.add(label2); panel.add(urlField); panel.add(StartButton); panel.add(resetButton); panel.add(exitButton); setContentPane(panel); setSize(400,200); setLocation(400,400); setVisible(true); //é¢æ¿å¯è§†åŒ–ï¼Œä¹Ÿå¯ä»¥åœ¨ main ä¸­é€šè¿‡ JFrame å­ç±»å¯¹è±¡è°ƒç”¨æ–¹æ³•è®¾ç½® setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //é»˜è®¤å…³é—­äº‹ä»¶ StartButton.addActionListener(this);//æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œä¼ å…¥ ActionListener å¯¹è±¡ï¼Œç”±äºå­ç±»ç»§æ‰¿äº† ActionListener æ¥å£ï¼Œæ‰€ä»¥ this resetButton.addActionListener(this); exitButton.addActionListener(this); } public void download(String address) throws Exception { URL url = new URL(address); URLConnection urlcon = url.openConnection(); urlcon.connect(); InputStream in=urlcon.getInputStream();//è·å–çš„å­—èŠ‚æµå¯¹è±¡ String filePath = url.getFile(); int pos=filePath.lastIndexOf(\"/\"); //\"/\"åˆ†å‰²çš„æœ€åä¸€ä¸ªä¸²çš„ä¸‹æ ‡ String fileName = filePath.substring(pos+1); FileOutputStream out = new FileOutputStream(\"C:\\\\Users\\\\æç‘è±ªã€\\Desktop\\\\\"+fileName); byte[] b = new byte[1024]; int len=0; while((len=in.read(b,0,1024))!=-1) { out.write(b,0,len); } out.close(); in.close(); JOptionPane.showMessageDialog(this, \"ä¸‹è½½å®Œæ¯•\"); } @Override public void actionPerformed(ActionEvent e) { if(e.getSource()==StartButton) { if(\"\".equals(urlField.getText())){ JOptionPane.showMessageDialog(this, \"è¯·è¾“å…¥èµ„æºåœ°å€\"); } String url = urlField.getText(); try { download(url); } catch (Exception e1) { JOptionPane.showMessageDialog(this, \"èµ„æºåœ°å€æœ‰è¯¯ï¼Œè¯·æ£€æŸ¥~\"); e1.printStackTrace(); } }else if(e.getSource()==resetButton) { urlField.setText(\"\"); }else { System.exit(0); } } public static void main(String[] args) { new SingleThreadDown(); } } ","date":"2019-05-08","objectID":"/posts/singlethreaddown/:2:0","tags":["GUI","URLConnection","HTTP","Java"],"title":"java å®ç°ä¸€ä¸ªå•çº¿ç¨‹çš„èµ„æºä¸‹è½½å™¨","uri":"/posts/singlethreaddown/"},{"categories":["Java"],"content":"è¿è¡Œç»“æœæµ‹è¯• é€šè¿‡https://github.com/Lruihao/Grocery/raw/master/fonts/MMT_last.ttfä¸‹è½½æ²ç›®ä½“ ttf å­—ä½“æ–‡ä»¶ï¼Œç¨å¾®ç­‰å¾…ä¸€ä¸‹å¼¹å‡ºå¯¹è¯æ¡†â€œä¸‹è½½å®Œæ¯•â€ï¼Œç»æ£€æŸ¥ä¸‹è½½å†…å®¹æ­£å¸¸ã€‚ ","date":"2019-05-08","objectID":"/posts/singlethreaddown/:3:0","tags":["GUI","URLConnection","HTTP","Java"],"title":"java å®ç°ä¸€ä¸ªå•çº¿ç¨‹çš„èµ„æºä¸‹è½½å™¨","uri":"/posts/singlethreaddown/"},{"categories":["Python"],"content":" Jsonï¼ˆJavaScript Object Notationï¼‰å®ƒæ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œå…·æœ‰æ•°æ®æ ¼å¼ç®€å•ï¼Œè¯»å†™æ–¹ä¾¿æ˜“æ‡‚ç­‰å¾ˆå¤šä¼˜ç‚¹ã€‚è®¸å¤šä¸»æµçš„ç¼–ç¨‹è¯­è¨€éƒ½åœ¨ç”¨å®ƒæ¥è¿›è¡Œå‰åç«¯çš„æ•°æ®ä¼ è¾“ï¼Œå¤§å¤§çš„ç®€åŒ–äº†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„å¼€å‘å·¥ä½œé‡ã€‚ç›¸å¯¹äº XML æ¥è¯´ï¼Œæ›´åŠ çš„è½»é‡çº§ï¼Œæ›´æ–¹ä¾¿è§£æï¼Œå› æ­¤è®¸å¤šå¼€å‘è€…éƒ½éµå¾ª Json æ ¼å¼æ¥è¿›è¡Œæ•°æ®çš„ä¼ è¾“å’Œäº¤æ¢ã€‚ä»Šå¤©æˆ‘ä»¬è¯¦ç»†ä»‹ç»ä¸€ä¸‹ Python åœ¨ Json çš„ç¼–è§£ç æ–¹é¢çš„çŸ¥è¯†ã€‚ ","date":"2019-05-07","objectID":"/posts/jsoninfo/:0:0","tags":["Python","JSON","ä»–å±±ä¹‹çŸ³"],"title":"Python å¦‚ä½•æ“ä½œ Jsonï¼Ÿ","uri":"/posts/jsoninfo/"},{"categories":["Python"],"content":"json çš„æ•°æ®æ ¼å¼ åœ¨ json ä¸­ï¼Œéµå¾ªâ€œé”®å€¼å¯¹â€çš„è¿™æ ·ä¸€ç§æ–¹å¼ï¼Œæ¯”å¦‚ï¼šâ€œ{â€œnameâ€:â€œtomâ€}â€, å°±æ˜¯ä¸€ä¸ª json æ ¼å¼çš„æ•°æ®ï¼Œjson çš„æ ¼å¼å½’çº³ä¸‹æ¥ï¼Œä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š å¯¹è±¡é€šè¿‡é”®å€¼å¯¹è¡¨ç°ï¼› é”®é€šè¿‡åŒå¼•å·åŒ…è£¹ï¼Œåé¢è·Ÿå†’å·â€œ:â€ï¼Œç„¶åè·Ÿè¯¥é”®çš„å€¼ï¼› å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€æ•°ç»„ç­‰æ•°æ®ç±»å‹ï¼› å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼› â€œ{}â€ç”¨æ¥è¡¨è¾¾å¯¹è±¡ï¼› â€œ[]â€ç”¨æ¥è¡¨è¾¾æ•°ç»„ï¼› æˆ‘ä»¬çœ‹ä¸€ä¸ªç•¥ä¸ºå¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼š ä¸Šä¾‹åˆ™æ˜¯ä¸€ä¸ªå…¸å‹çš„ json æ ¼å¼çš„æ•°æ®ï¼Œå¼ºå¤§çš„ Python æä¾›äº†ä¸€ä¸ªâ€œjsonâ€æ¨¡å—ï¼Œå¯ä»¥æ–¹ä¾¿çš„å°†å„ç§é›¶æ•£çš„æ•°æ®é€šè¿‡æ¨¡å—çš„å†…ç½®å‡½æ•°ç¼–ç å½¢æˆä¸€ä¸ª json æ ¼å¼çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥å°†ä¸€ä¸ª json æ ¼å¼çš„æ•°æ®è§£ç å½¢æˆè‡ªå·±éœ€è¦çš„æ•°æ®ï¼Œéå¸¸å¥½ç”¨ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹ã€‚ ","date":"2019-05-07","objectID":"/posts/jsoninfo/:1:0","tags":["Python","JSON","ä»–å±±ä¹‹çŸ³"],"title":"Python å¦‚ä½•æ“ä½œ Jsonï¼Ÿ","uri":"/posts/jsoninfo/"},{"categories":["Python"],"content":"json.dumps() json æ¨¡å—é‡Œçš„ dumps å‡½æ•°æ˜¯å¯¹æ•°æ®è¿›è¡Œç¼–ç ï¼Œå½¢æˆ json æ ¼å¼çš„æ•°æ®ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼š é€šè¿‡è¾“å‡ºçš„ç»“æœå¾ˆå®¹æ˜“çœ‹å‡ºï¼Œé€šè¿‡ dumps æ–¹æ³•ä½¿å­—å…¸è½¬æ¢æˆä¸ºäº† json æ ¼å¼ï¼Œè™½ç„¶å®ƒä»¬éå¸¸ç›¸ä¼¼ã€‚å…¶ä¸­ï¼Œåœ¨ dumps é‡Œçš„å‚æ•°â€œsort_keys=Trueâ€ï¼Œä½¿å¾—è¾“å‡º json åå¯¹ key å’Œ value è¿›è¡Œ 0~9ã€a~ z çš„é¡ºåºæ’åºï¼Œå¦‚æœä¸å¡«ï¼Œåˆ™æŒ‰ç…§æ— åºæ’åˆ—ã€‚æœ‰æ—¶å€™ï¼Œé€šè¿‡æ’åºå¯ä»¥æ–¹ä¾¿åœ°æ¯”è¾ƒ json ä¸­çš„æ•°æ®ï¼Œå› æ­¤ï¼Œé€‚å½“çš„æ’åºæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ æ­¤å¤–ï¼Œâ€œIndentâ€å‚æ•°è¡¨ç¤ºç¼©è¿›çš„æ„æ€ï¼Œå®ƒå¯ä»¥ä½¿å¾—è¾“å‡ºçš„ Json çœ‹èµ·æ¥æ›´åŠ æ•´é½å¥½çœ‹ï¼Œå¯è¯»æ€§æ›´å¼ºï¼Œä¾‹å¦‚ï¼š ä¸‹é¢åˆ—ä¸¾ä¸€ä¸‹ dumpsï¼ˆï¼‰çš„å¯å¡«å‚æ•°ï¼š skipkeyï¼šé»˜è®¤ä¸º Falseï¼Œå½“ dict å¯¹è±¡é‡Œçš„æ•°æ®ä¸æ˜¯ Python çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼›ï¼ˆstr,unicode,int,long,float,bool,Noneï¼‰æ—¶ï¼Œå½“ skipkey ä¸º Falseï¼Œå°±ä¼šæŠ¥é”™ï¼Œå¦‚æœ skipkey ä¸º Trueï¼Œåˆ™å¯ä»¥è·³è¿‡è¿™ç±» keyï¼› indentï¼šå¦‚æœå¡« 0 æˆ–è€…ä¸å¡«ï¼Œåˆ™æŒ‰ç…§ä¸€è¡Œè¿›è¡Œæ‰“å°ï¼Œå¦åˆ™æŒ‰ç…§ indent çš„æ•°å€¼æ˜¾ç¤ºå‰é¢çš„ç©ºæ ¼ï¼ˆæ­£æ•´æ•°å½¢å¼ï¼‰ï¼› separatorsï¼šåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºâ€œ(â€™,â€™,â€™:â€™)â€ï¼Œå®ƒè¡¨ç¤º key ä¹‹é—´ç”¨â€œ,â€éš”å¼€ï¼Œkey å’Œ value ä¹‹é—´ç”¨â€œ:â€éš”å¼€ï¼› encodingï¼šç¼–ç æ ¼å¼ï¼Œé»˜è®¤å€¼æ˜¯ UTF-8ï¼› sort_keysï¼šå¯¹ keyã€value è¿›è¡Œæ’åºï¼Œé»˜è®¤å€¼æ˜¯ Falseï¼Œå³ä¸æ’åºï¼› ensure_asciiï¼šé»˜è®¤ä¸º Trueï¼Œå¦‚æœ dict å¯¹è±¡é‡Œå«æœ‰ none-ASCII çš„å­—ç¬¦ï¼Œåˆ™æ˜¾ç¤ºã€uXX çš„æ ¼å¼ï¼Œå¦‚æœä¸º Falseï¼Œåˆ™èƒ½æ­£å¸¸æ˜¾ç¤ºå‡ºæ¥ï¼› ","date":"2019-05-07","objectID":"/posts/jsoninfo/:2:0","tags":["Python","JSON","ä»–å±±ä¹‹çŸ³"],"title":"Python å¦‚ä½•æ“ä½œ Jsonï¼Ÿ","uri":"/posts/jsoninfo/"},{"categories":["Python"],"content":"json.loads() å’Œ dumps ç›¸åï¼Œloads å‡½æ•°åˆ™æ˜¯å°† json æ ¼å¼çš„æ•°æ®è§£ç ï¼Œè½¬æ¢ä¸º Python å­—å…¸ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼š æœ‰æ—¶å€™ï¼Œè¾“å‡ºç»“æœé‡åˆ°ä¸­æ–‡çš„æ—¶å€™ï¼Œä¼šå‡ºç°ç¼–ç æ ¼å¼ä¸ä¸€æ ·çš„æƒ…å†µï¼Œæ˜¾ç¤ºå‡ºä¸º Unicode çš„ç¼–ç æ ¼å¼ï¼Œä½¿å¾—ä¸æ˜“è¯»æ‡‚ï¼Œè§£å†³åŠæ³•æ˜¯æ·»åŠ å‚æ•°â€œencodingâ€å‚æ•°ï¼Œå³ä¸Šé¢çš„æ”¹å†™æˆè¿™æ ·ï¼šd1 = json.loads(data1,encoding=â€˜utf-8â€™) å³å¯ã€‚ ","date":"2019-05-07","objectID":"/posts/jsoninfo/:3:0","tags":["Python","JSON","ä»–å±±ä¹‹çŸ³"],"title":"Python å¦‚ä½•æ“ä½œ Jsonï¼Ÿ","uri":"/posts/jsoninfo/"},{"categories":["Python"],"content":"json.dump() å’Œ json.load() ç›¸å¯¹äºä¸Šé¢æ‰€è®²çš„ dumps å’Œ loads æ¥è¯´ï¼Œdump å’Œ load å‡½æ•°çš„åŠŸèƒ½ç±»ä¼¼ï¼Œåªä¸è¿‡å‰è€…æ˜¯ç”¨æ¥å¤„ç†å­—ç¬¦ä¸²ç±»å‹çš„ï¼Œè€Œåè€…æ˜¯ç”¨äºå¤„ç†æ–‡ä»¶ç±»å‹çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä¸Šä¾‹åˆ—ä¸¾å‡ºäº† json çš„å››ä¸ªæ–¹æ³•ï¼šdumpsï¼ˆï¼‰å’Œ dumpï¼ˆï¼‰ã€loadsï¼ˆï¼‰å’Œ loadï¼ˆï¼‰çš„ç®€å•ä½¿ç”¨æ–¹æ³•ï¼Œå¯è§ï¼ŒPython å¯¹äº json çš„å¤„ç†ç›¸å½“æ–¹ä¾¿ï¼Œä¸åƒ c++é‚£æ ·ï¼ˆè°ç”¨è°çŸ¥é“ï¼‰ã€‚ ","date":"2019-05-07","objectID":"/posts/jsoninfo/:4:0","tags":["Python","JSON","ä»–å±±ä¹‹çŸ³"],"title":"Python å¦‚ä½•æ“ä½œ Jsonï¼Ÿ","uri":"/posts/jsoninfo/"},{"categories":["Python"],"content":" é€šè¿‡ requests å¯ä»¥å‘æŸä¸ªåœ°å€å‘é€è¯·æ±‚ï¼Œå¯ä»¥ç”¨æ¥åšä¸€äº›æ¥å£çš„æµ‹è¯•ï¼›ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š requests.get() requests.post() æœ€è¿‘å¸®æœ‹å‹çš„é¡¹ç›®åšä¸€ä¸ªå°éœ€æ±‚ï¼Œéœ€è¦æŠŠåå°æ•°æ®å®šæœŸæ‰“åŒ…å‘é€åˆ°å¾®ä¿¡ç¾¤ï¼Œéº»å°ç§‘æŠ€æ¶›å“¥ç»™äº†æˆ‘ä¸€ä¸ªæ¥å£ï¼Œpost è®¿é—®ã€‚ #!/usr/bin/python import requests \"\"\" é€šè¿‡ requests å¯ä»¥å‘æŸä¸ªåœ°å€å‘é€è¯·æ±‚ requests.post(url,json date) post æ–¹æ³•è¿˜æœ‰å…¶ä»–å‚æ•°ï¼Œå¦‚ header ç­‰ \"\"\" # post å‘é€çš„æ•°æ® postData = { # 'username':'test', # 'password':'123456', # 'salary':2000, } # æ¥å£è¿™é‡Œä¸ä¾¿å…¬å¼€ r = requests.post('http://demo.maxiaokeji.com/xx/xxxxx/xxxx',data=postData) # print(r.text) response=r.json() print(response) è¿è¡Œåä¼šåœ¨å±å¹•æ‰“å°å‡ºè¿”å›çš„ json æ•°æ® ","date":"2019-05-07","objectID":"/posts/posttest/:0:0","tags":["Python","HTTP"],"title":"python å‘é€ post è¯·æ±‚è¿›è¡Œç®€å•çš„æ¥å£æµ‹è¯•","uri":"/posts/posttest/"},{"categories":["Java"],"content":" è¯¥ä¾‹ä¸­é¦–å…ˆç”Ÿæˆä¸€ä¸ª URL å¯¹è±¡ lrhï¼ŒæŒ‡å‘ RUI è±ªå°æ ˆï¼Œç„¶åå†è°ƒç”¨ lrh.openStream() æ–¹æ³•ç”Ÿæˆè¯¥ URL çš„ä¸€ä¸ªè¾“å…¥æµï¼Œè¿™æ˜¯ä¸€ä¸ªå­—èŠ‚æµï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿›ä¸€æ­¥é€šè¿‡ InputStreamReader å’Œ BufferedReader æ„é€ ä¸€ä¸ªå¸¦ç¼“å†²åŠŸèƒ½çš„å­—ç¬¦æµï¼Œå¹¶é€šè¿‡è¿™ä¸ªå­—ç¬¦æµå¯¹è±¡è¯»å–è¯¥ URL çš„ html å†…å®¹ï¼Œè¿›è€Œè¾“å‡ºåˆ°æ¡Œé¢æ–‡ä»¶å’Œæ§åˆ¶å°å±å¹•ã€‚URLConnection ç±»ä¹Ÿå¯ä»¥ç”¨æ¥å¯¹ç”± URL å¼•ç”¨çš„èµ„æºè¿›è¡Œè¯»å†™æ“ä½œï¼Œå‰ææ˜¯å…ˆé€šè¿‡ connect() æ–¹æ³•å»ºç«‹è¿æ¥ï¼Œç„¶åå†å»è·å–å“åº”å¤´ä¿¡æ¯æˆ–å“åº”å†…å®¹ã€‚ package cn.lruihao.base; import java.io.BufferedReader; import java.io.File; import java.io.FileWriter; import java.io.InputStreamReader; import java.net.URL; import java.net.URLConnection; public class URLReader { public static void main(String[] args) throws Exception{ try { URL lrh=new URL(\"https://www.lruihao.cn\"); File file=new File(\"C:\\\\Users\\\\æç‘è±ªã€\\Desktop\\\\lrh.html\"); FileWriter fout=new FileWriter(file); BufferedReader in =new BufferedReader(new InputStreamReader(lrh.openStream()));//å­—èŠ‚æµè½¬åŒ–æˆå­—ç¬¦æµï¼Œå†æ„å»ºç¼“å†²å­—ç¬¦æµ String inputLine; while((inputLine=in.readLine())!=null) { System.out.println(inputLine); fout.write(inputLine); } in.close(); fout.close(); //è·å–å“åº” header ä¿¡æ¯ URLConnection conn=lrh.openConnection(); conn.connect(); System.out.println(\"è·å–åˆ°çš„å“åº”é•¿åº¦ï¼š\"+conn.getContentLength()); System.out.println(\"å“åº”ç±»å‹ï¼š\"+conn.getContentType()); //ç”¨ BufferedReader è¯»å– URL çš„å“åº” in =new BufferedReader(new InputStreamReader(conn.getInputStream())); String line; String result=null; while((line=in.readLine())!=null) { result+=line; } System.out.println(result); } catch (Exception e) { e.printStackTrace(); } } } ","date":"2019-05-06","objectID":"/posts/java-urlreader/:0:0","tags":["URLConnection","Java"],"title":"java é€šè¿‡ URL å’Œ URLConnection è®¿é—®ç½‘é¡µèµ„æº","uri":"/posts/java-urlreader/"},{"categories":["Java"],"content":" åŸºæœ¬åŠŸèƒ½ï¼š ç»™å®šä¸€ä¸ªå¯†é’¥ï¼Œè¯»å–æ–‡ä»¶å†…å®¹ï¼ŒåŠ å¯†åï¼Œè¾“å‡ºåˆ°å¦å¤–ä¸€ä¸ªæ–‡ä»¶ã€‚ è¿™é‡Œä½¿ç”¨æ–‡ä»¶è¾“å…¥æµè¯»å–æ–‡ä»¶å†…å®¹ï¼Œç„¶åæ¯ä¸ªå­—èŠ‚å’Œå¯†ç è¿›è¡Œå¼‚æˆ–ç®€å•åŠ å¯†ã€‚åŠ å¯†å®Œæˆï¼Œä½¿ç”¨æ–‡ä»¶è¾“å‡ºæµå†™å…¥å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚è§£å¯†å’ŒåŠ å¯†æ–¹æ³•ä¸€æ ·ã€‚åˆ©ç”¨çš„æ˜¯å¯¹åŒä¸€ä¸ªæ•°å¼‚æˆ–ä¸¤éå…¶å€¼ä¸å˜çš„æ€§è´¨ã€‚å› æ­¤ä¸€ä¸ªç¨‹åºå¯ä»¥å®ŒæˆåŠ å¯†å’Œè§£å¯†åŠŸèƒ½ã€‚åªéœ€ä¿®æ”¹æ–‡ä»¶åå³å¯ã€‚ ","date":"2019-05-02","objectID":"/posts/byteio/:0:0","tags":["Java"],"title":"æ–‡ä»¶åŠ å¯†è§£å¯†ï¼ˆå­—èŠ‚æµï¼‰","uri":"/posts/byteio/"},{"categories":["Java"],"content":"æ–‡ä»¶åŠ å¯†è§£å¯† package cn.lruihao.base; import java.io.FileInputStream; import java.io.FileOutputStream; import java.io.IOException; public class EncryptFile { public static void main(String[] args) throws IOException { byte pwd=123;//åŠ å¯†/è§£å¯†å¯†ç  FileInputStream f=new FileInputStream(\"src/cn/lruihao/base/EncryptFile.java\");//å¾…åŠ å¯†æ–‡ä»¶ FileOutputStream fout=new FileOutputStream(\"encrypted.txt\");//å·²åŠ å¯†æ–‡ä»¶ System.out.println(\"å¼€å§‹åŠ å¯†ã€‚\"); int n=f.available()/5; byte[] b=new byte[n];//ä»¥ä¸€ä¸ªå­—èŠ‚æ•°ç»„çš„é•¿åº¦è¯»å–å’Œå¤åˆ¶ int count=0; while((count=f.read(b,0,n))!=-1) { //å†™å…¥ä¹‹å‰å…ˆåŠ å¯†/è§£å¯† for(int i=0;i\u003ccount;i++) { b[i]=(byte)(b[i]^pwd);// } fout.write(b,0,count); } System.out.println(\"å®ŒæˆåŠ å¯†\"); f.close(); fout.close(); // f=new FileInputStream(\"encrypted.txt\"); // fout=new FileOutputStream(\"unencrypted.txt\"); // System.out.println(\"å¼€å§‹è§£å¯†ã€‚\"); // n=f.available()/5; // b=new byte[n];//ä»¥ä¸€ä¸ªå­—èŠ‚æ•°ç»„çš„é•¿åº¦è¯»å–å’Œå¤åˆ¶ // count=0; // while((count=f.read(b,0,n))!=-1) { // //å†™å…¥ä¹‹å‰å…ˆåŠ å¯†/è§£å¯† // for(int i=0;i\u003ccount;i++) { // b[i]=(byte)(b[i]^pwd); // } // fout.write(b,0,count); // } // System.out.println(\"å®Œæˆè§£å¯†\"); // f.close(); // fout.close(); } } ","date":"2019-05-02","objectID":"/posts/byteio/:1:0","tags":["Java"],"title":"æ–‡ä»¶åŠ å¯†è§£å¯†ï¼ˆå­—èŠ‚æµï¼‰","uri":"/posts/byteio/"},{"categories":["Java"],"content":"æ–‡ä»¶å¤åˆ¶ package cn.lruihao.base; import java.io.FileInputStream; import java.io.FileOutputStream; import java.io.IOException; public class FileStreamCopy { public static void main(String[] args) throws IOException { int size; FileInputStream f=new FileInputStream(\"src/cn/lruihao/base/FileStreamCopy.java\"); FileOutputStream fout=new FileOutputStream(\"copy-of-file.txt\"); System.out.println(\"æ€»é•¿åº¦ï¼š\"+(size=f.available())); int n=size/10; System.out.print(\"ä½¿ç”¨å•å­—èŠ‚æ–¹æ³•è¯»å–åï¼š\"); for(int i=0;i\u003cn;i++) { fout.write(f.read()); } System.out.println(\"å‰©ä½™é•¿åº¦ï¼š\"+f.available()); System.out.println(\"è¯»å–ä¸€ä¸ªå­—èŠ‚æ•°ç»„åï¼š\"); byte b[]=new byte[n]; f.read(b); fout.write(b); System.out.println(\"å‰©ä½™é•¿åº¦ï¼š\"+f.available()); System.out.println(\"è¯»å–ä½™ä¸‹æ•°æ®ï¼š\"); int count=0; while((count=f.read(b,0,n))!=-1) { //System.out.println(count); fout.write(b,0,count); } System.out.println(\"å‰©ä½™é•¿åº¦ï¼š\"+f.available()); f.close(); fout.flush(); fout.close(); } } package cn.lruihao.base; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.FileInputStream; import java.io.FileOutputStream; import java.io.IOException; public class BufferedStreamCopy { public static void main(String[] args) throws IOException { FileInputStream f=new FileInputStream(\"src/cn/lruihao/base/BufferedStreamCopy.java\"); FileOutputStream fout=new FileOutputStream(\"copy-of-file.txt\"); BufferedInputStream bis=new BufferedInputStream(f); BufferedOutputStream bos=new BufferedOutputStream(fout); System.out.println(\"å¼€å§‹å¤åˆ¶ã€‚\"); int n=f.available()/5; byte[] b=new byte[n]; int count=0; while((count=bis.read(b,0,n))!=-1) { bos.write(b,0,count); } System.out.println(\"å¤åˆ¶å®Œæˆ\"); bis.close(); bos.flush(); bos.close(); f.close(); fout.flush(); fout.close(); } } ","date":"2019-05-02","objectID":"/posts/byteio/:2:0","tags":["Java"],"title":"æ–‡ä»¶åŠ å¯†è§£å¯†ï¼ˆå­—èŠ‚æµï¼‰","uri":"/posts/byteio/"},{"categories":["Java"],"content":"å®ç°ä»£ç  è¿™é‡Œçš„å¼‚å¸¸ä¸»è¦æ˜¯InputMismatchException, å¯ä»¥ç›´æ¥æ•è·è¯¥å¼‚å¸¸ï¼Œæˆ‘ç›´æ¥æ•è·äº†çˆ¶ç±»å¼‚å¸¸ã€‚ package cn.lruihao.Exception; import java.util.Scanner; /** * @author æç‘è±ª * å€Ÿä¹¦ç³»ç»Ÿï¼ˆå¼‚å¸¸ç»ƒä¹ ï¼‰ */ public class ExceptionDemo { private final Book[] books = { new Book(\"æ•°æ®ç»“æ„\"), new Book(\"Java\"), new Book(\"php\"), new Book(\"c\") }; public static void main(String[] args) { System.out.println(\"æ¬¢è¿æ¥åˆ°å€Ÿä¹¦ç³»ç»Ÿï¼\"); ExceptionDemo jieshu= new ExceptionDemo(); jieshu.menu(); } public void menu() { System.out.println(\"è¾“å…¥å‘½ä»¤ï¼š1. ä¹¦åæŸ¥æ‰¾ï¼›\\t2. åºå·æŸ¥æ‰¾ï¼›\"); //åˆå§‹åŒ–å¹¶æ•è·ç”¨æˆ·è¾“å…¥ Scanner sc = new Scanner(System.in); // æ•è·å¼‚å¸¸ try { int id =sc.nextInt(); if(id==1||id==2) { inquire(id); }else { System.out.println(\"è¾“å…¥é”™è¯¯ï¼è¯·æ ¹æ®æç¤ºè¾“å…¥~~\");//è¾“å…¥é 1ï¼Œ2 çš„æ•°å­—æƒ…å†µ menu(); } }catch (Exception e) {//è¾“å…¥å­—ç¬¦ä¸ºéæ•°å­— e.printStackTrace(); System.out.println(\"è¾“å…¥é”™è¯¯ï¼Œè¯·è¾“å…¥æ•°å­—å‘½ä»¤~~\"); menu(); }finally{ sc.close(); } } private void inquire(int id) { Scanner sc = new Scanner(System.in); if(id==1) { System.out.println(\"è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„ä¹¦åï¼\"); String name=sc.nextLine(); int num=FindName(name); if(num==0?false:true) {//éªŒè¯ä¹¦åæ˜¯å¦å­˜åœ¨ å­˜åœ¨åˆ™æ‰“å° System.out.println(\"bookï¼š\"+name+\"\\t åºå·ï¼š\"+num); //menu();//å›åˆ°è®¿é—®èµ·ç‚¹ ä¹Ÿå¯ä»¥å»æ‰ç»ˆæ­¢ç¨‹åº }else{ System.out.println(\"å›¾ä¹¦ä¸å­˜åœ¨\"); menu(); } sc.close(); }else if(id == 2) { System.out.println(\"è¯·è¾“å…¥æ‚¨è¦æŸ¥æ‰¾çš„åºå·ï¼š\"); int id2=sc.nextInt(); FindNum(id2); sc.close(); } } private void FindNum(int num) { try { if(num\u003e=0\u0026\u0026num\u003cbooks.length) { System.out.println(books[num].getName()); //menu();//å›åˆ°è®¿é—®èµ·ç‚¹ ä¹Ÿå¯ä»¥å»æ‰ç»ˆæ­¢ç¨‹åº }else{ System.out.println(\"å›¾ä¹¦ä¸å­˜åœ¨\"); menu(); } }catch (Exception e) { e.printStackTrace(); System.out.println(\"è¾“å…¥æœ‰è¯¯ï¼~~\"); } } private int FindName(String name) { int num=0; for(Book i:books) { String name1=i.getName(); if(name1.equals(name)) { return num; } num++; } return 0; } } package cn.lruihao.Exception; public class Book { private String name; public String getName() { return name; } public void setName(String name) { this.name = name; } public Book(String name) { this.name = name; } } ","date":"2019-05-01","objectID":"/posts/javaexception/:1:0","tags":["Java"],"title":"æ¨¡æ‹Ÿå€Ÿä¹¦ç³»ç»Ÿï¼ˆjava å¼‚å¸¸ç»ƒä¹ ï¼‰","uri":"/posts/javaexception/"},{"categories":["Java"],"content":"å¤§è‡´è¿è¡Œæ•ˆæœ ","date":"2019-05-01","objectID":"/posts/javaexception/:2:0","tags":["Java"],"title":"æ¨¡æ‹Ÿå€Ÿä¹¦ç³»ç»Ÿï¼ˆjava å¼‚å¸¸ç»ƒä¹ ï¼‰","uri":"/posts/javaexception/"},{"categories":["çæŠ˜è…¾","Python"],"content":" Python äºŒç»´ç ç”Ÿæˆå™¨æ˜¯ github ä¸Š@sylnsfar å¼€æºçš„ä¸€ä¸ª python ç”ŸæˆäºŒç»´ç å·¥å…·ã€‚æœ‰ python, ç½‘é¡µåŠ exe ç‰ˆæœ¬ï¼Œè¯¦è§ sylnsfar/qrcodeï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»è®°å½•ä¸€ä¸‹ python ç‰ˆæœ¬ä½¿ç”¨ã€‚exe å¯ä»¥å» é¡¹ç›®å¼€æºåœ°å€ ä¸‹è½½ï¼Œå…¬ä¼—å·æ–‡ç« åå°å›å¤å…³é”®è¯â€œqrcodeâ€è·å–é“¾æ¥ã€‚ å¯ç”Ÿæˆæ™®é€šäºŒç»´ç ã€å¸¦å›¾ç‰‡çš„è‰ºæœ¯äºŒç»´ç ï¼ˆé»‘ç™½ä¸å½©è‰²ï¼‰ã€åŠ¨æ€äºŒç»´ç ï¼ˆé»‘ç™½ä¸å½©è‰²ï¼‰ã€‚ ","date":"2019-04-27","objectID":"/posts/qrcode/:0:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ç¤ºä¾‹ from MyQR import myqr import os version, level, qr_name = myqr.run( words='https://lruihao.cn', version=1, level='H', picture='2.jpg', colorized=True, contrast=1.0, brightness=1.0, save_name=None, save_dir=os.getcwd() ) # help(myqr) # https://github.com/sylnsfar/qrcode/ ''' Positional parameter words: str # é“¾æ¥æˆ–è€…æ–‡å­— Optional parameters version: int, from 1 to 40 # æ§åˆ¶è¾¹é•¿ level: str, just one of ('L','M','Q','H') # æ§åˆ¶çº é”™æ°´å¹³ï¼Œä»å·¦åˆ°å³ä¾æ¬¡å‡é«˜ã€‚ picutre: str, a filename of a image # å›¾ç‰‡ï¼Œéœ€åœ¨åŒè·¯å¾„ï¼Œé»˜è®¤ None colorized: bool # æ˜¯å¦å½©è‰² é»˜è®¤ False constrast: float # å¯¹æ¯”åº¦ é»˜è®¤ 1.0 brightness: float # äº®åº¦ é»˜è®¤ 1.0 save_name: str, the output filename like 'example.png' #æ§åˆ¶æ–‡ä»¶åï¼Œé»˜è®¤ None,'qrcode.png' save_dir: str, the output directory # å‚¨å­˜è·¯å¾„ ''' ","date":"2019-04-27","objectID":"/posts/qrcode/:1:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"å®‰è£… # é€šè¿‡ pip pip(3) install myqr(or MyQR) ","date":"2019-04-27","objectID":"/posts/qrcode/:2:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ä½¿ç”¨æ–¹æ³• ","date":"2019-04-27","objectID":"/posts/qrcode/:3:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"å‘½ä»¤è¡Œæ–¹å¼ ï¼ˆæç¤ºï¼šå¦‚æœä½ å°šæœªå®‰è£… MyQR ï¼Œä»¥ä¸‹å†…å®¹è¯·ä½¿ç”¨python(3) myqr.py è€Œémyqr ã€‚ï¼‰ # æ¦‚æ‹¬ myqr Words [-v {1,2,3,...,40}] [-l {L,M,Q,H}] [-n output-filename] [-d output-directory] [-p picture_file] [-c] [-con contrast] [-bri brightness] æ™®é€šäºŒç»´ç  ä»‹ç»äº† Words, -v, -l, -n, -d è‰ºæœ¯äºŒç»´ç  ä»‹ç»äº† -p, -c, -con, -bri åŠ¨æ€ GIF äºŒç»´ç  ä»‹ç»äº†åŠ¨æ€çš„ç”Ÿæˆæ–¹æ³•å’Œæ³¨æ„ç‚¹ æ™®é€šäºŒç»´ç  #1 Words myqr https://github.com åœ¨å‘½ä»¤åè¾“å…¥é“¾æ¥æˆ–è€…å¥å­ä½œä¸ºå‚æ•°ï¼Œç„¶ååœ¨ç¨‹åºçš„å½“å‰ç›®å½•ä¸­äº§ç”Ÿç›¸åº”çš„äºŒç»´ç å›¾ç‰‡æ–‡ä»¶ï¼Œé»˜è®¤å‘½åä¸º â€œqrcode.pngâ€ã€‚ #2 -v, -l myqr https://github.com -v 10 -l Q é»˜è®¤è¾¹é•¿æ˜¯å–å†³äºä½ è¾“å…¥çš„ä¿¡æ¯çš„é•¿åº¦å’Œä½¿ç”¨çš„çº é”™ç­‰çº§ï¼› è€Œé»˜è®¤çº é”™ç­‰çº§æ˜¯æœ€é«˜çº§çš„ Hã€‚ è‡ªå®šä¹‰ï¼šå¦‚æœæƒ³è¦æ§åˆ¶è¾¹é•¿å’Œçº é”™æ°´å¹³å°±ä½¿ç”¨ -v å’Œ -l å‚æ•°ã€‚ -v æ§åˆ¶è¾¹é•¿ï¼ŒèŒƒå›´æ˜¯** 1 è‡³ 40**ï¼Œæ•°å­—è¶Šå¤§è¾¹é•¿è¶Šå¤§ï¼› -l æ§åˆ¶çº é”™æ°´å¹³ï¼ŒèŒƒå›´æ˜¯** Lã€Mã€Qã€H**ï¼Œä»å·¦åˆ°å³ä¾æ¬¡å‡é«˜ã€‚ #3 -n, -d myqr https://github.com -n github_qr.jpg -d .../paths/ é»˜è®¤è¾“å‡ºæ–‡ä»¶åæ˜¯â€œ qrcode.png â€œï¼Œè€Œé»˜è®¤å­˜å‚¨ä½ç½®æ˜¯å½“å‰ç›®å½•ã€‚ è‡ªå®šä¹‰ï¼šå¯ä»¥è‡ªå·±å®šä¹‰è¾“å‡ºåç§°å’Œä½ç½®ã€‚æ³¨æ„åŒåæ–‡ä»¶ä¼šè¦†ç›–æ—§çš„ã€‚ -n æ§åˆ¶æ–‡ä»¶åï¼Œæ ¼å¼å¯ä»¥æ˜¯ .jpgï¼Œ .png ï¼Œ.bmp ï¼Œ.gif ï¼› -d æ§åˆ¶ä½ç½®ã€‚ è‰ºæœ¯äºŒç»´ç  #1 -p myqr https://github.com -p github.jpg å‚æ•°-p ç”¨æ¥å°† QR äºŒç»´ç å›¾åƒä¸ä¸€å¼ åŒç›®å½•ä¸‹çš„å›¾ç‰‡ç›¸ç»“åˆï¼Œäº§ç”Ÿä¸€å¼ é»‘ç™½å›¾ç‰‡ã€‚ #2 -c myqr https://github.com -p github.jpg -c åŠ ä¸Šå‚æ•° -c å¯ä»¥ä½¿äº§ç”Ÿçš„å›¾ç‰‡ç”±é»‘ç™½å˜ä¸ºå½©è‰²çš„ã€‚ #3 -con, -bri myqr https://github.com -p github.jpg [-c] -con 1.5 -bri 1.6 å‚æ•°-con ç”¨ä»¥è°ƒèŠ‚å›¾ç‰‡çš„å¯¹æ¯”åº¦ï¼Œ1.0 è¡¨ç¤ºåŸå§‹å›¾ç‰‡ï¼Œæ›´å°çš„å€¼è¡¨ç¤ºæ›´ä½å¯¹æ¯”åº¦ï¼Œæ›´å¤§åä¹‹ã€‚é»˜è®¤ä¸º 1.0ã€‚ å‚æ•° -bri ç”¨æ¥è°ƒèŠ‚å›¾ç‰‡çš„äº®åº¦ï¼Œå…¶ä½™ç”¨æ³•å’Œå–å€¼ä¸ -con ç›¸åŒã€‚ åŠ¨æ€ GIF äºŒç»´ç  åŠ¨æ€äºŒç»´ç ä¸ä¸Šè¿°çš„å¸¦å›¾ç‰‡çš„äºŒç»´ç çš„ç”Ÿæˆæ–¹æ³•æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½ åªè¦é‡‡ç”¨ .gif æ ¼å¼çš„å›¾ç‰‡å³å¯ç”Ÿæˆé»‘ç™½æˆ–è€…å½©è‰²çš„åŠ¨æ€äºŒç»´ç ã€‚ä½†æ³¨æ„å¦‚æœä½¿ç”¨äº† -n å‚æ•°è‡ªå®šä¹‰è¾“å‡ºçš„æ–‡ä»¶åï¼Œåˆ‡è®°å…¶æ ¼å¼ä¹Ÿå¿…é¡»æ˜¯ .gif æ ¼å¼ã€‚ ","date":"2019-04-27","objectID":"/posts/qrcode/:3:1","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ä½œä¸ºå¯¼å…¥æ–‡ä»¶ # å®‰è£…æ¨¡å—å from MyQR import myqr version, level, qr_name = myqr.run( words, version=1, level='H', picture=None, colorized=False, contrast=1.0, brightness=1.0, save_name=None, save_dir=os.getcwd() ) ä»¥ä¸‹å„ä¸ªå‚æ•°å·²ç»åœ¨ä¸Šæ–‡å‘½ä»¤è¡Œæ–¹å¼æœ‰æ‰€ä»‹ç» # help(myqr) Positional parameter words: str Optional parameters version: int, from 1 to 40 level: str, just one of ('L','M','Q','H') picutre: str, a filename of a image colorized: bool constrast: float brightness: float save_name: str, the output filename like 'example.png' save_dir: str, the output directory ","date":"2019-04-27","objectID":"/posts/qrcode/:3:2","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ä½¿ç”¨æç¤º è¯·é‡‡ç”¨æ­£æ–¹å½¢æˆ–è¿‘ä¼¼æ­£æ–¹å½¢çš„å›¾ç‰‡ å»ºè®®åœ¨å›¾ç‰‡å°ºå¯¸å¤§çš„æ—¶å€™ä½¿ç”¨ -v çš„å€¼ä¹Ÿåº”è¯¥é€‚å½“å˜å¤§ã€‚ ","date":"2019-04-27","objectID":"/posts/qrcode/:4:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"å¯ç”¨å­—ç¬¦ æ•°å­— 0 åˆ° 9 å¤§å°å†™çš„è‹±æ–‡å­—æ¯ å¸¸ç”¨è‹±æ–‡æ ‡ç‚¹ç¬¦å·å’Œç©ºæ ¼ Â· , . : ; + - * / \\ ~ ! @ # $ % ^ \u0026 ` ' = \u003c \u003e [ ] ( ) ? _ { } | and (space) ","date":"2019-04-27","objectID":"/posts/qrcode/:5:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ä¾èµ–åº“ pillow numpy imageio ","date":"2019-04-27","objectID":"/posts/qrcode/:6:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["çæŠ˜è…¾","Python"],"content":"è¿è¡Œç¯å¢ƒ Linux, Python 3 Windows, Python 3 Mac, Python 3 ","date":"2019-04-27","objectID":"/posts/qrcode/:7:0","tags":["pillow","numpy","imageio","Python"],"title":"ç”¨ MyQR åˆ¶ä½œä¸“å±åŠ¨æ€äºŒç»´ç  (py å’Œ exe ç‰ˆæœ¬ï¼‰","uri":"/posts/qrcode/"},{"categories":["éšç¬”"],"content":" æ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œä¸€ä¸‹ä»å¤§ä¸€åˆ°äº†å¤§ä¸‰ï¼Œé©¬ä¸Šå°±è¦å®ä¹ æ¯•ä¸šç­‰ç­‰äº†ã€‚ Success å¯Œå£«åº·åœ¨å­¦æ ¡æœ‰ä¸€ä¸ªæ˜¥æ‹›çš„æœºä¼šï¼Œæˆ‘å’Œæœ‹å‹æŠ±ç€ä¾¥å¹¸çš„å¿ƒç†å»è¯•äº†è¯•ã€‚ è™½ç„¶æ·±çŸ¥è‡ªå·±è¿˜èº«æœ‰å¾ˆå¤šç¼ºç‚¹ï¼Œä½†æ˜¯ä¸é¢è¯•ä¸çŸ¥é“ï¼Œä¸€é¢è¯•éƒ½æš´éœ²å‡ºæ¥äº†ï¼Œä»¥ä¸‹è®°å½•ä¸€ä¸‹è‡ªå·±çš„ä¸è¶³ä¹‹å¤„ï¼š php å’Œ sql çš„ç»å…¸ç»„åˆè™½ç„¶æœ‰æ‰€æ¥è§¦äº†è§£ï¼Œä½†æ˜¯ç¡®å®ä»€ä¹ˆéƒ½ä¼šï¼Œå¾—èŠ±æ—¶é—´å­¦ html/css ç­‰è™½ç„¶å¹³æ—¶æŠ˜è…¾åšå®¢è¿™äº›åº”ç”¨çš„æ¯”è¾ƒå¤šï¼Œä½†æ˜¯ä»Šå¤©ç«Ÿç„¶ç´§å¼ åœ°å¿˜è®°äº† margin å’Œ padding éƒ½ä¸ä¼šå†™äº† å¦‚ä¸Šä¸€æ¡ï¼Œå…¬ä¼—è¡¨ç°èƒ½åŠ›æœ‰å¾…åŠ å¼ºã€‚æ­£å¦‚å½“ä»Šâ€œé…’é¦™ä¹Ÿæ€•å··å­æ·±â€ï¼Œä½•å†µâ€œä¸é¦™â€ã€‚ æƒŠå–œçš„äº‹è¯´æ¥å°±æ¥ï¼Œæœ¬æ¥çŸ¥é“è‡ªå·±è¿™ä¹ˆå¤šç¼ºç‚¹ï¼Œè¿™ä¹ˆèœåï¼Œè§‰å¾—è¿™ä¸ªå®ä¹ çš„ offer æ˜¯æ²¡æˆäº†ï¼Œæ²¡æƒ³åˆ°ä¸‹åˆæŠ€æœ¯ä¸»ç®¡å¾®ä¿¡å‘æ¥æ¶ˆæ¯ï¼Œè¯´å½•ç”¨äº†ã€‚å½“åœºæ‡µé€¼ï¼Œå—å® è‹¥æƒŠçš„æ„Ÿè§‰ï¼éå¸¸è°¢è°¢é¢è¯•å®˜è€å¸ˆï¼ æ— è®ºç”Ÿæ´»è¿˜æ˜¯å­¦ä¹ ï¼Œå¸Œæœ›ä»¥åçš„è‡ªå·±ä¸€å®šè¦ä¿æŒä¸€é¢—è°¦é€Šçˆ±å­¦çš„å¿ƒï¼Œæ—©æ—¥å®ç°å…¨æ ˆå·¥ç¨‹å¸ˆçš„æ¢¦æƒ³ï¼Œè¿˜æœ‰æ—©ç‚¹å­˜é’±æŠŠå¤§å­¦å­¦è´¹çš„è´·æ¬¾è¿˜æ‰ï¼ ","date":"2019-04-24","objectID":"/posts/1thintervivew/:0:0","tags":["é¢è¯•"],"title":"ç¬¬ä¸€æ¬¡é¢è¯•ç»å†","uri":"/posts/1thintervivew/"},{"categories":["çæŠ˜è…¾","Python"],"content":" ä»¥ä¸‹ç¨‹åºå¯¹ è¯¥ç½‘å€ å†…çš„æ‰‹å†™ä½“å›¾ç‰‡è¿›è¡Œçˆ¬å–ï¼è¿™ä¸ªæ‰‹å†™ä½“æ˜¯æˆ‘åœ¨æ‰‹æœºä¸Šé€šè¿‡ã€Šæ‰‹è¿¹é€ å­—ã€‹app ä¹¦å†™çš„ï¼Œå¤§æ¦‚ 6886 ä¸ªå­—ç¬¦ï¼Œå†æ—¶ä¸¤å¹´å¤šï¼Œç›®å‰ä»åœ¨ä¿®æ”¹ä¸­ã€‚å­—ä½“æ•ˆæœæŸ¥çœ‹ ","date":"2019-04-22","objectID":"/posts/mmtimgpy/:0:0","tags":["Python"],"title":"python çˆ¬å–ç½‘ç«™å›¾ç‰‡ï¼ˆå›¾ç‰‡é“¾æ¥ç›¸ä¼¼ï¼‰","uri":"/posts/mmtimgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"æ€è·¯è®¾è®¡ é€šè¿‡è§‚å¯Ÿç›®æ ‡ç½‘é¡µä¸­å­—ç¬¦å›¾ç‰‡çš„é“¾æ¥ï¼Œå¾ˆå®¹æ˜“å‘ç°æ¯ä¸ªå­—ç¬¦å›¾ç‰‡çš„ç›´é“¾æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚ å›ºå®šé“¾æ¥ å›¾ç‰‡æ–‡ä»¶ç¼–å· å…¶ä¸­å›ºå®šè¿æ¥ä¸ºhttps://image.xiezixiansheng.com/users/2010/700/unzip/579767/, å›¾ç‰‡æ–‡ä»¶ä¸ºxxxxx.png@50qï¼Œå¦‚æœå»æ‰@50qï¼Œè·å–åˆ°çš„å›¾ç‰‡å°±æ˜¯é€æ˜èƒŒæ™¯çš„ä¸ç„¶å°±æ˜¯ç™½è‰²èƒŒæ™¯ã€‚ç„¶åå‘ç°ç¼–å·å¤§å¤šæ˜¯ 5 ä½æ•°çš„å½¢å¼ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›æ˜¯ 4 ä½çš„ï¼Œç”šè‡³è¿˜æœ‰ 2-3 ä½çš„æ•°å­—ã€‚ä»”ç»†çœ‹çœ‹ 127 å‰çš„ç¼–å·éƒ½æ˜¯ä¸€äº›å›½é™…ç¬¦å·è¯¸å¦‚è‹±æ–‡å’Œæ•°å­—ç­‰ã€‚æ¯”å¯¹ä¸€ä¸‹å‘ç°æ­£æ˜¯ ASCII ç å¯¹åº”çš„å‘½åæ–¹å¼ã€‚å¯æƒ³è€ŒçŸ¥ä¸­æ–‡è‡ªç„¶ä¹Ÿæ˜¯é€šè¿‡ç¼–ç æ¥å‘½åçš„ã€‚ä¸€ä¸ªæ ‡å‡†çš„å­—åº“æ–‡ä»¶è‡³å°‘åŒ…å« 6763 ä¸ªæ±‰å­—ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä¹¦å†™çš„è¿™ä¸ªGB2312-80, èŒƒå›´ï¼š 0xA1A1 - 0xFEFEï¼Œå…¶ä¸­æ±‰å­—èŒƒå›´ï¼š 0xB0A1 - 0xF7FEã€‚ä¸¤ä¸ª 16 è¿›åˆ¶ä½å¯¹åº”ä¸€ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªæ±‰å­—è‡³å°‘ç”±ä¸¤ä¸ªå­—èŠ‚ç»„æˆï¼Œè¿™æ ·ç†è§£ï¼ŒèŒƒå›´è‡ªç„¶æ˜¯ 4 ä¸ª 16 è¿›åˆ¶ä½ã€‚æ‰€ä»¥è½¬æ¢æˆ 10 è¿›åˆ¶ï¼ŒèŒƒå›´å¤§è‡´åœ¨ 65278 ä»¥ä¸‹ã€‚è¦äº†è§£æ›´åŠ å…·ä½“ä¸€ç‚¹çš„èŒƒå›´è¿˜éœ€è¦å»æŸ¥ä¸€ä¸‹æ±‰å­—ç¼–ç çš„åˆ†åŒºç­‰ã€‚è¿™é‡Œæš‚æ—¶ä¸å¿…äº†è§£ï¼Œå› ä¸ºæœ¬æ¥å°±æ‰“ç®—æš´åŠ›ä¸‹è½½ã€‚ è¯´äº†è¿™ä¹ˆå¤šï¼Œæ—¢ç„¶å›¾ç‰‡é“¾æ¥è¿™ä¹ˆç®€å•ï¼Œæ‰€ä»¥æˆ‘æ˜¯æƒ³æš´åŠ›éå†ï¼Œæœç´¢å›¾ç‰‡ï¼Œåˆ¤æ–­é“¾æ¥çŠ¶æ€ç ï¼Œç„¶åä¸‹è½½å›¾ç‰‡ã€‚ ","date":"2019-04-22","objectID":"/posts/mmtimgpy/:1:0","tags":["Python"],"title":"python çˆ¬å–ç½‘ç«™å›¾ç‰‡ï¼ˆå›¾ç‰‡é“¾æ¥ç›¸ä¼¼ï¼‰","uri":"/posts/mmtimgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"æºç è®¾è®¡ å¤§è‡´åˆ†ä¸ºä¸‰ä¸ªèŒƒå›´å§ è‹±æ–‡å­—ç¬¦ ä¸­æ–‡ç¬¦å· æ±‰å­—èŒƒå›´ æˆ‘ä¸»è¦åˆ†è¿™å‡ ä¸ªåŒºé—´æŸ¥æ‰¾ 33 ~ 126 8212 ~ 8243 12289 ~ 12305 19968 ~ 40864 65281 ~ 65509 ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼Œåˆ†æè§‚å¯Ÿäº†è¿™ä¹ˆä¹…ï¼Œç»ˆäºå¯ä»¥è¿è¡Œç¨‹åºäº†ï¼ŒF5 åå°±é™é™ç­‰å¾…å§ï¼Œå¯ä»¥å»çœ‹çœ‹ javaï¼Œæˆ–è€…æ‰“ä¸€æŠŠç‹è€… hhhhh! import os import requests path=\"C:\\\\Users\\\\æç‘è±ªã€\\Desktop\\\\MMT_images\\\\\" #ä¸‹è½½è·¯å¾„ï¼š ç»å¯¹æˆ–è€…ç›¸å¯¹è·¯å¾„æ¯”å¦‚ã€‚/image/ os.makedirs(path+\"0\\\\\", exist_ok=True) ## åˆ›å»ºæ–‡ä»¶å¤¹ os.makedirs(path+\"1\\\\\", exist_ok=True) ## ä¸‹è½½å›¾ç‰‡ def urllib_download(url,num): ## ï¼ˆä¸‹è½½é“¾æ¥ï¼Œå›¾ç‰‡ç¼–å·ï¼‰ from urllib.request import urlretrieve urlretrieve(url,path+num+\".png\") ## åˆ¤æ–­çŠ¶æ€ç  def get_status(url): r = requests.get(url, allow_redirects = False) return r.status_code def main(): BASE_URL = \"https://image.xiezixiansheng.com/users/2010/700/unzip/579767/\" n=33 total=0 print(\"æ­£åœ¨çˆ¬å–ç¬¬ 1 å¼ å›¾ç‰‡ï¼\") while n \u003c 65510: #åˆ†æ®µçˆ¬å–ï¼Œä¸ç„¶ä¼šè¶…æ—¶ï¼ï¼ï¼## 33 ~ 126 ## 8212 ~ 8243 ## 12289 ~ 12305 ## 19968 ~ 40864 ## 65281 ~ 65509 if n == 127: n = 8212 continue elif n == 8244: n = 12289 continue elif n ==12306: n = 19968 continue elif n == 40865: n = 65281 continue ## for n in range(37341,40865): num = str(n) IMAGE_URL = BASE_URL+num+\".png\" ## xxx.png æ˜¯é€æ˜èƒŒæ™¯ï¼Œxxx.png@50q æ˜¯ç™½è‰²èƒŒæ™¯ï¼Œåˆ†åˆ«å­˜æ”¾åœ¨ 0ï¼Œ1 æ–‡ä»¶å¤¹ p æ˜¯ä¸­å° w æ˜¯å°å›¾ if(get_status(IMAGE_URL)==200): ## åŒæ—¶ä¸‹è½½é€æ˜å’Œç™½è‰²èƒŒæ™¯çš„å›¾ç‰‡ total+=1 urllib_download(IMAGE_URL,\"0\\\\\"+num) IMAGE_URL += \"@50q\" urllib_download(IMAGE_URL,\"1\\\\\"+num) print(\"Downloaded \"+num+\".png\") print(\"æ­£åœ¨çˆ¬å–ç¬¬\",total+1,\"å¼ å›¾ç‰‡ï¼\") n+=1 print(\"\\n çˆ¬å–å®Œæ¯•ï¼å…±çˆ¬å–\",total,\"å¼ å›¾ç‰‡ï¼\") print(\"å›¾ç‰‡å­˜æ”¾è·¯å¾„ï¼š\"+path) print(\"ä½œè€…åšå®¢ï¼šlruihao.cn\") if __name__==\"__main__\": main(); ","date":"2019-04-22","objectID":"/posts/mmtimgpy/:2:0","tags":["Python"],"title":"python çˆ¬å–ç½‘ç«™å›¾ç‰‡ï¼ˆå›¾ç‰‡é“¾æ¥ç›¸ä¼¼ï¼‰","uri":"/posts/mmtimgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"çˆ¬å–è¿‡ç¨‹åŠç»“æœ æ–‡ä»¶å¤¹å·¦ä¸‹è§’æ•°ç›®å˜åŒ– çˆ¬å–è¿‡ç¨‹ å±é™© è¯´å®è¯çœ‹ç€æ§åˆ¶å°ä¸åœåœ°è¾“å‡ºæç¤ºä¿¡æ¯æœ‰æ²¡æœ‰å¾ˆçˆ½ï¼Œå¯¹äºå¼ºè¿«ç—‡æ¥è¯´çœŸçš„æ˜¯å¾ˆæ²»æ„ˆäº†ï¼ä½†æ˜¯çˆ¬å–ç¬¬ 6042 å¼ å›¾ç‰‡çš„æ—¶å€™ï¼Œæˆ‘æ‰“å¼€äº†ä¸€ä¸‹ç›®æ ‡ç½‘é¡µå‘ç°æ— æ³•åŠ è½½å›¾ç‰‡äº†ï¼Œå°±æƒ³è¿™åº”è¯¥ä¹Ÿç®—æ˜¯ä¸€æ¬¡ Dos æ”»å‡»äº†å§ï¼æ‰“å¼€æ§åˆ¶å°æœç„¶åœäº†ï¼Œç›¸å½“äºè®¿é—®äº†è¿‘ä¸¤ä¸‡æ¬¡ï¼å”‰ï¼Œè¿˜æ˜¯å¤ªæš´åŠ›äº†ï¼ï¼è¿˜å·® 800 å¤šå¼ ï¼Œåªå¥½åˆé‡æ–°æ¥ç€å†™ä¸Šæ¬¡çš„ä½ç½®çˆ¬ï¼ä¸æ…é€ æˆç›®æ ‡ç½‘ç«™æœåŠ¡å™¨å‹åŠ›ï¼Œå®åœ¨å¯¹ä¸èµ·ï¼ é”™è¯¯æç¤º ä¸€ä¸ªåŠå°æ—¶å·¦å³åç»ˆäºä¸‹è½½å®Œäº†ï¼Œä¸€å…±æ˜¯ 6886 å¼ ï¼›ç¨‹åºæ˜¯åŒæ—¶ä¸‹è½½äº†é€æ˜å’Œç™½è‰²èƒŒæ™¯çš„å›¾ç‰‡çš„ï¼åˆ†åˆ«åœ¨ 0,1 å­æ–‡ä»¶å¤¹ï¼ çˆ¬å–å®Œæ¯• ","date":"2019-04-22","objectID":"/posts/mmtimgpy/:3:0","tags":["Python"],"title":"python çˆ¬å–ç½‘ç«™å›¾ç‰‡ï¼ˆå›¾ç‰‡é“¾æ¥ç›¸ä¼¼ï¼‰","uri":"/posts/mmtimgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"å…¶ä»–æ€è·¯ æ¨¡æ‹Ÿæµè§ˆå™¨è½½å…¥ html æ–‡ä»¶ï¼Œè·å–æºç ï¼ŒæŸ¥æ‰¾åˆ°æ‰€æœ‰\u003cimg\u003eæ ‡ç­¾å†…é“¾æ¥ï¼Œå¿…è¦æ—¶é…åˆæ­£åˆ™è¡¨è¾¾å¼ï¼Œç„¶åä¸‹è½½å›¾ç‰‡ã€‚ ","date":"2019-04-22","objectID":"/posts/mmtimgpy/:4:0","tags":["Python"],"title":"python çˆ¬å–ç½‘ç«™å›¾ç‰‡ï¼ˆå›¾ç‰‡é“¾æ¥ç›¸ä¼¼ï¼‰","uri":"/posts/mmtimgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":" æ–‡ä¸­æ¶‰åŠçš„å›¾ç‰‡æ¶‰åŠä¸ªäººéšç§ï¼Œä»…åšä¸¾ä¾‹ï¼Œè¯·å‹¿ä¼ æ’­ æŸ¥çœ‹å¾®ä¿¡å¥½å‹ç”·å¥³æ¯”ä¾‹ æŸ¥çœ‹å¥½å‹åœ°åŒºåˆ†å¸ƒ ç¾¤æ€§åˆ«ç»Ÿè®¡ ","date":"2019-04-20","objectID":"/posts/wxpy1/:0:0","tags":["Python","wxpy","pyecharts","jieba","ä»–å±±ä¹‹çŸ³"],"title":"python ç©å¾®ä¿¡ï¼šåˆæ¢ wxpy","uri":"/posts/wxpy1/"},{"categories":["çæŠ˜è…¾","Python"],"content":"å‰æœŸå‡†å¤‡ wxpy pyechartsï¼ˆç™¾åº¦ echartsï¼‰ ","date":"2019-04-20","objectID":"/posts/wxpy1/:1:0","tags":["Python","wxpy","pyecharts","jieba","ä»–å±±ä¹‹çŸ³"],"title":"python ç©å¾®ä¿¡ï¼šåˆæ¢ wxpy","uri":"/posts/wxpy1/"},{"categories":["çæŠ˜è…¾","Python"],"content":"æŸ¥çœ‹å¾®ä¿¡å¥½å‹ç”·å¥³æ¯”ä¾‹ from wxpy import * from pyecharts import Pie bot = Bot(cache_path = True) #å®šä¹‰ä¸€ä¸ªå¾®ä¿¡æœºå™¨äºº friends = bot.friends(update=False) #è·å–æ›´æ–°å¥½å‹åˆ—è¡¨ male = female = other = 0 for i in friends[1:]: #[1:] è‡ªå·±æ˜¯ç¬¬ä¸€ä¸ªï¼Œæ’é™¤æ‰ sex = i.sex if sex == 1: male += 1 elif sex == 2: female += 1 else: other += 1 total = len(friends[1:]) #è®¡ç®—æ€»æ•° #ä¸‹é¢ä¸ºåˆ†æ attr = [\"ç”·æ€§\",\"å¥³æ€§\",\"å…¶ä»–\"] v1 = [float(male),float(female),float(other)] pie = Pie(\"é¥¼å›¾-åœ†ç¯å›¾ç¤ºä¾‹\", title_pos='center') pie.add(\"\", attr, v1, radius=[40, 75], label_text_color=None, is_label_show=True, legend_orient='vertical', legend_pos='left') pie.render(\"sex.html\") ","date":"2019-04-20","objectID":"/posts/wxpy1/:2:0","tags":["Python","wxpy","pyecharts","jieba","ä»–å±±ä¹‹çŸ³"],"title":"python ç©å¾®ä¿¡ï¼šåˆæ¢ wxpy","uri":"/posts/wxpy1/"},{"categories":["çæŠ˜è…¾","Python"],"content":"æŸ¥çœ‹å¥½å‹åœ°åŒºåˆ†å¸ƒ from wxpy import * from pyecharts import Map #å› ä¸ºè·å–çš„åˆ—è¡¨åŸå¸‚éƒ½æ²¡æœ‰å¸¦å¸‚å­—ï¼Œè€Œ pyecharts éœ€è¦å¸¦ä¸ªå¸‚å­— b = 'å¸‚' def s(x): return x+b #åªæå–æ¹–å—çš„ bot = Bot(cache_path = True) friends = bot.friends(update=False).search(province = 'æ¹–å—') citys = [] for f in friends : city = f.city citys.append(city) r = map(s,citys) cityss = list(r) #ä¸ºåŸå¸‚è®¡æ•° a = {} for i in cityss: a[i] = cityss.count(i) a.pop('å¸‚') #æŠŠå­—å…¸è¿›è¡Œæœ‰åºæ‹†åˆ†ä¸º 2 ä¸ªåˆ—è¡¨ attrs = [] values = [] for value, attr in a.items(): values.append(attr) attrs.append(value) #å¼€å§‹ç»˜å›¾ map = Map(\"æ¹–å—åœ°å›¾ç¤ºä¾‹\", width=1200, height=600) map.add(\"\", attrs, values, maptype='æ¹–å—', is_visualmap=True, visual_text_color='#000') map.render(\"city.html\") ä»¥ä¸Šå‚è€ƒç®€ä¹¦ é™ˆæ€ç…œ ","date":"2019-04-20","objectID":"/posts/wxpy1/:3:0","tags":["Python","wxpy","pyecharts","jieba","ä»–å±±ä¹‹çŸ³"],"title":"python ç©å¾®ä¿¡ï¼šåˆæ¢ wxpy","uri":"/posts/wxpy1/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ç»Ÿè®¡æ‰€æœ‰ç¾¤ç”·å¥³æ•°ç›® ç»Ÿè®¡ç»“æœä¼šè‡ªåŠ¨å‘é€åˆ°æ‰€æœ‰ç¾¤èŠ ç”·å¥³äººæ•°å’Œä¸ä¸€å®šç­‰äºæ€»æ•°ï¼ˆæœ‰äº›äººä¸æ˜¾ç¤ºæ€§åˆ«ï¼‰ #encoding=utf-8 from wxpy import * import numpy def removeAll(the_list, val): return [value for value in the_list if value != val] def stats_text(target_group, group_name): print(group_name + \"ç¾¤å…±æœ‰ï¼š\" + str(len(target_group)) + \"äººï¼Œå…¶ä¸­ï¼š\") all_stats_text = [] all_dict = {} ## ä¹±åºå…ˆæ•´ç†ä¸€ä»½çœä»½ + åœ°ç‚¹çš„åˆ—è¡¨ for user in target_group.members: trimed_data = user.province.replace(' ', '') + user.city.replace(' ', '') if trimed_data != '': all_stats_text.append(trimed_data) ## è®¡æ•° for data in all_stats_text: if all_stats_text.count(data) != 0: all_dict[data] = all_stats_text.count(data) all_stats_text = removeAll(all_stats_text, data) final_dict = {} for i in sorted(all_dict.keys()): final_dict[i] = all_dict[i] return final_dict def stats_sex(target_group): male = 0 female = 0 other = 0 for user in target_group.members: if user.sex == 1: male = male + 1 if user.sex == 2: female = female + 1 else: other = other + 1 print(\"ç”·çš„æœ‰ï¼š\" + str(male) + \"äºº\") print(\"å¥³çš„æœ‰ï¼š\" + str(female) + \"äºº\") msg = \"ç”·çš„æœ‰ï¼š\" + str(male) + \"äººã€n\" + \"å¥³çš„æœ‰ï¼š\" + str(female) + \"äººã€n\" return msg bot = Bot() target_group = bot.groups(update=True, contact_only=False) for curr_group in target_group: ## å°äº 10 äººçš„ç¾¤è¿‡æ»¤æ‰ if len(curr_group) \u003c 10: continue curr_group.update_group(members_details=True) print(curr_group.name + \"ä¸€å…±æœ‰ï¼š\" + str(len(curr_group)) + \"äººã€n\") msg = stats_sex(curr_group) curr_group.send(curr_group.name + \"ç¾¤ï¼Œä¸€å…±æœ‰ï¼š\" + str(len(curr_group)) + \"äººã€n\" + msg) ","date":"2019-04-20","objectID":"/posts/wxpy1/:4:0","tags":["Python","wxpy","pyecharts","jieba","ä»–å±±ä¹‹çŸ³"],"title":"python ç©å¾®ä¿¡ï¼šåˆæ¢ wxpy","uri":"/posts/wxpy1/"},{"categories":["çæŠ˜è…¾","Python"],"content":" Python é€šè¿‡ wxpy ç™»å½•å¾®ä¿¡ç½‘é¡µç‰ˆï¼Œçˆ¬å–å¥½å‹æ‰€æœ‰å¤´åƒå¹¶æ‹¼æ¥æˆä¸€å¼ å¤§å›¾ã€‚ç„¶ååˆ é™¤æ‰€æœ‰å­å›¾ã€‚ï¼ˆæ³¨é‡Šç›¸å…³ä»£ç å¯ä»¥ä¸åˆ é™¤ï¼‰ æ–‡ä¸­æ¶‰åŠçš„å›¾ç‰‡æ¶‰åŠä¸ªäººéšç§ï¼Œä»…åšä¸¾ä¾‹ï¼Œè¯·å‹¿ä¼ æ’­ æ–‡ä¸­ç¼–ç ç”± Sunbelife æä¾›ï¼Œæ¥è‡ªä»–çš„åŒåå¾®ä¿¡å…¬ä¼—å·ï¼Œæœ¬åšä»…ç”¨äºå­¦ä¹ ï¼Œä¾µåˆ  ","date":"2019-04-20","objectID":"/posts/wximgpy/:0:0","tags":["wxpy","pillow","Python"],"title":"åŸºæœ¬ python å®ç°çš„çˆ¬å–å¾®ä¿¡å¥½å‹å¤´åƒï¼Œå¹¶æ‹¼æ¥æˆå¤§å›¾","uri":"/posts/wximgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ä¾èµ– wxpyï¼ˆPythone ç™»å½•å¾®ä¿¡ï¼‰ pillowï¼ˆæ‹¼æ¥å¤´åƒï¼‰ osï¼ˆæ–‡ä»¶å¤¹æ“ä½œï¼‰ mathï¼ˆæ•°å­¦è®¡ç®—ï¼‰ wxpy: wxpy åœ¨ itchat çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¤§é‡æ¥å£ä¼˜åŒ–æå‡äº†æ¨¡å—çš„æ˜“ç”¨æ€§ï¼Œå¹¶è¿›è¡Œä¸°å¯Œçš„åŠŸèƒ½æ‰©å±•ã€‚ PILï¼š Python Imaging Libraryï¼Œå·²ç»æ˜¯ Python å¹³å°äº‹å®ä¸Šçš„å›¾åƒå¤„ç†æ ‡å‡†åº“äº†ã€‚PIL åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä½† API å´éå¸¸ç®€å•æ˜“ç”¨ã€‚ç”±äº PIL ä»…æ”¯æŒåˆ° Python 2.7ï¼ŒåŠ ä¸Šå¹´ä¹…å¤±ä¿®ï¼Œäºæ˜¯ä¸€ç¾¤å¿—æ„¿è€…åœ¨ PIL çš„åŸºç¡€ä¸Šåˆ›å»ºäº†å…¼å®¹çš„ç‰ˆæœ¬ï¼Œåå­—å« Pillowï¼Œæ”¯æŒæœ€æ–° Python 3.xï¼ŒåˆåŠ å…¥äº†è®¸å¤šæ–°ç‰¹æ€§ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®‰è£…ä½¿ç”¨ Pillowã€‚ ","date":"2019-04-20","objectID":"/posts/wximgpy/:1:0","tags":["wxpy","pillow","Python"],"title":"åŸºæœ¬ python å®ç°çš„çˆ¬å–å¾®ä¿¡å¥½å‹å¤´åƒï¼Œå¹¶æ‹¼æ¥æˆå¤§å›¾","uri":"/posts/wximgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"å®‰è£… pip install -U wxpy -i \"https://pypi.doubanio.com/simple/\" pip install pillow ","date":"2019-04-20","objectID":"/posts/wximgpy/:2:0","tags":["wxpy","pillow","Python"],"title":"åŸºæœ¬ python å®ç°çš„çˆ¬å–å¾®ä¿¡å¥½å‹å¤´åƒï¼Œå¹¶æ‹¼æ¥æˆå¤§å›¾","uri":"/posts/wximgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"è¿è¡Œ å¦‚æœåœ¨ Python IDE è¿è¡Œå‡ºé”™ï¼Œå¯èƒ½æ˜¯å› ä¸ºå¾®ä¿¡å¥½å‹çš„ id æ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œåœ¨ IDE æ‰“å°å‡ºé”™ï¼Œæ³¨é‡Šæ‰ä»£ç  36 è¡Œå³å¯ã€‚ from wxpy import * import math import PIL.Image as Image import os import sys import shutil # ### è·å–æ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„ def get_dir(sys_arg): sys_arg = sys_arg.split(\"/\") dir_str = \"\" count = 0 for cur_dir in sys_arg: if count == 0: count = count + 1 if count == len(sys_arg): break dir_str = dir_str + cur_dir + \"/\" count = count + 1 return dir_str curr_dir = get_dir(sys.argv[0]) bot = Bot() ## æœºå™¨äººè´¦å·è‡ªèº« myself = bot.self my_friends = bot.friends(update=True) if not os.path.exists(curr_dir + \"group-images/\"): os.mkdir(curr_dir + \"group-images/\") count = 0 for friend in my_friends: print(friend.nick_name) friend.get_avatar(curr_dir + \"group-images/\" + str(count) + \".jpg\") count = count + 1 ## è·å–ä¸‹è½½çš„å¤´åƒæ–‡ä»¶ ls = os.listdir(curr_dir + 'group-images') ## å»é™¤é .jpg æ–‡ä»¶ for filter_ls in ls: if \".jpg\" in filter_ls: continue else: ls.remove(filter_ls) ## æ’åº ls.sort(key=lambda x:int(x[:-4])) ## å¤´åƒå¢™å°ºå¯¸ image_size = 2560 each_size = math.floor(image_size/math.floor(math.sqrt(len(ls)))) x_lines = math.ceil(math.sqrt(len(ls))) y_lines = math.ceil(math.sqrt(len(ls))) image = Image.new('RGB', (each_size * x_lines, each_size * y_lines)) x = 0 y = 0 for file_names in ls: try: img = Image.open(curr_dir + \"group-images/\" + file_names) print(\"æ­£åœ¨å¤„ç†\" + file_names.split('.jpg')[0] + \"/\" + str(len(ls))) except IOError: continue else: img = img.resize((each_size, each_size)) image.paste(img, (x * each_size, y * each_size)) x += 1 if x == x_lines: x = 0 y += 1 img = image.save(curr_dir + \"all.jpg\") try: shutil.rmtree(curr_dir + \"group-images/\") print(\"æ”¶å°¾ï¼Œæ¸…ç†ä¸´æ—¶æ–‡ä»¶\") except FileNotFoundError: print(\"æ²¡ä»€ä¹ˆå¥½åˆ çš„\") print(\"ï¼ï¼ï¼\\n ç”Ÿæˆå®Œæ¯•äº†ï¼Œæ”¾åœ¨äº†ç›®å½•\" + curr_dir + \"ï¼Œå»çœ‹çœ‹å§ã€‚\") print(\"å·¥å…·ä½œè€…ï¼š@Sunbelifeï¼ˆæ–°æµªå¾®åšï¼‰\") print(\"å…¬ä¼—å·ï¼šSunbelife\") print(\"æ„Ÿè°¢ä½¿ç”¨\") print(\"v1.2\") print(\"2019.4.18\") ","date":"2019-04-20","objectID":"/posts/wximgpy/:3:0","tags":["wxpy","pillow","Python"],"title":"åŸºæœ¬ python å®ç°çš„çˆ¬å–å¾®ä¿¡å¥½å‹å¤´åƒï¼Œå¹¶æ‹¼æ¥æˆå¤§å›¾","uri":"/posts/wximgpy/"},{"categories":["çæŠ˜è…¾","Python"],"content":"ç¾¤å‹å…¨å®¶ç¦ ä¿®æ”¹ 11 è¡Œç¾¤åç§° import itchat import math import PIL.Image as Image import os import shutil ## å˜é‡ itchat.auto_login(hotReload=True,enableCmdQR=False) roomslist = itchat.get_chatrooms(update=True)[0:] itchat.dump_login_status() ## æ˜¾ç¤ºæ‰€æœ‰çš„ç¾¤èŠä¿¡æ¯ï¼Œé»˜è®¤æ˜¯è¿”å›ä¿å­˜åˆ°é€šè®¯å½•ä¸­çš„ç¾¤èŠ myroom=itchat.search_chatrooms(name=u'ç»¥å®ä¸€ä¸­é«˜ 396 ç­') #ç¾¤èŠåç§° gsq=itchat.update_chatroom(myroom[0]['UserName'], detailedMember=True) num = 0 if not os.path.exists(\"./group-images/\"): os.mkdir(\"./group-images/\") for i in gsq['MemberList']: print(i[\"UserName\"]) img = itchat.get_head_img(userName=i[\"UserName\"],chatroomUserName=myroom[0]['UserName']) fileImage = open(\"./group-images/\" + str(num) + \".jpg\",'wb') fileImage.write(img) fileImage.close() num += 1 ls = os.listdir('./group-images') each_size = int(math.sqrt(float(640*640)/len(ls))) lines = int(640/each_size) image = Image.new('RGBA', (640, 640)) x = 0 y = 0 for i in range(0,len(ls)+1): try: img = Image.open(\"./group-images/\" + str(i) + \".jpg\") except IOError: print(\"Error\") else: img = img.resize((each_size, each_size), Image.ANTIALIAS) image.paste(img, (x * each_size, y * each_size)) x += 1 if x == lines: x = 0 y += 1 image.save(\"all.png\") shutil.rmtree(\"./group-images\") ç»¥å®ä¸€ä¸­é«˜ 396 ç­ åŠ ä¸ªåˆ—è¡¨ï¼ŒåŠ ä¸ªå¾ªç¯å®ç°è‡ªåŠ¨çˆ¬å–æ‰€æœ‰ç¾¤èŠå¤´åƒå¹¶å‘é€ import itchat import math import PIL.Image as Image import os import shutil ## å˜é‡ itchat.auto_login(hotReload=True,enableCmdQR=False) roomslist = itchat.get_chatrooms(update=True)[0:] itchat.dump_login_status() ## æ˜¾ç¤ºæ‰€æœ‰çš„ç¾¤èŠä¿¡æ¯ï¼Œé»˜è®¤æ˜¯è¿”å›ä¿å­˜åˆ°é€šè®¯å½•ä¸­çš„ç¾¤èŠ for room in roomslist: print(room['UserName']) gsq=itchat.update_chatroom(room['UserName'], detailedMember=True) num = 0 if not os.path.exists(\"./group-images/\"): os.mkdir(\"./group-images/\") for i in gsq['MemberList']: print(i[\"UserName\"]) img = itchat.get_head_img(userName=i[\"UserName\"],chatroomUserName=room['UserName']) fileImage = open(\"./group-images/\" + str(num) + \".jpg\",'wb') fileImage.write(img) fileImage.close() num += 1 ls = os.listdir('./group-images') each_size = int(math.sqrt(float(640*640)/len(ls))) lines = int(640/each_size) image = Image.new('RGB', (640, 640)) x = 0 y = 0 for i in range(0,len(ls)+1): try: img = Image.open(\"./group-images/\" + str(i) + \".jpg\") except IOError: print(\"Error\") else: img = img.resize((each_size, each_size), Image.ANTIALIAS) image.paste(img, (x * each_size, y * each_size)) x += 1 if x == lines: x = 0 y += 1 image.save(\"all.jpg\") itchat.send(\"å†™äº†ä¸ªå¥½ç©çš„â€¦ æµ‹è¯•ä¸€ä¸‹\", room['UserName']) itchat.send_image(\"all.jpg\", room['UserName']) shutil.rmtree(\"./group-images\") ","date":"2019-04-20","objectID":"/posts/wximgpy/:4:0","tags":["wxpy","pillow","Python"],"title":"åŸºæœ¬ python å®ç°çš„çˆ¬å–å¾®ä¿¡å¥½å‹å¤´åƒï¼Œå¹¶æ‹¼æ¥æˆå¤§å›¾","uri":"/posts/wximgpy/"},{"categories":["Java"],"content":" ä¹‹æ‰€ä»¥ç”¨è®°äº‹æœ¬æ¥å†™ä¸æ˜¯ä¸ºäº†è£… X æˆ–è€…ä»€ä¹ˆçš„ã€‚åè€Œæ°æ°æ˜¯è¿”ç’å½’çœŸï¼Œå› ä¸ºåœ¨ç”¨ java è¯­è¨€è¿›è¡Œç¨‹åºå¼€å‘æ—¶ï¼Œé¦–å…ˆæ˜¯ä»¥çº¯æ–‡æœ¬çš„æ–¹å¼ç¼–å†™æ‰€æœ‰çš„ java æºç¨‹åºï¼Œå¹¶ä¿å­˜æˆä»¥.javaä¸ºåç¼€çš„æ–‡ä»¶ï¼›ç„¶åå°†è¿™äº›æºç¨‹åºç”¨javacç¼–è¯‘æˆ.classåç¼€åçš„å­—èŠ‚ä»£ç æ–‡ä»¶ï¼›å­—èŠ‚ä»£ç ä¸æ˜¯è¢«æœ¬åœ°å¤„ç†å™¨æ‰§è¡Œçš„ä»£ç ï¼Œè€Œæ˜¯èƒ½å¤Ÿè¢« java è™šæ‹Ÿæœºï¼ˆJVMï¼‰æ‰§è¡Œçš„ä»£ç ã€‚æœ€åç”¨ java è¿è¡Œå·¥å…·åœ¨ JVM æ‰§è¡Œ java åº”ç”¨ç¨‹åºã€‚ ç”±äº JVM å¯ä»¥è¿è¡Œåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œå› æ­¤åŒä¸€ä¸ªå­—èŠ‚ä»£ç æ–‡ä»¶å¯ä»¥è·¨å¹³å°è¿è¡Œã€‚ javac java ","date":"2019-04-19","objectID":"/posts/hellojava/:0:0","tags":["Java"],"title":"ç”¨è®°äº‹æœ¬ç¼–å†™ç¬¬ä¸€ä¸ª java ç¨‹åº","uri":"/posts/hellojava/"},{"categories":["Java"],"content":"ç¼–å†™ java ç”¨è®°äº‹æœ¬ç¼–è¾‘ java æ–‡ä»¶ï¼Œå¹¶ä¸”æŠŠåç¼€æ”¹æˆ.javaï¼Œæ–‡ä»¶åå’Œç±»åè¦ä¸€æ ·ã€‚ public class HelloWorld{ public static void main(String[] args){ System.out.println(\"Hello World!\"); } } ","date":"2019-04-19","objectID":"/posts/hellojava/:1:0","tags":["Java"],"title":"ç”¨è®°äº‹æœ¬ç¼–å†™ç¬¬ä¸€ä¸ª java ç¨‹åº","uri":"/posts/hellojava/"},{"categories":["Java"],"content":"æ‰“å¼€ cmd ","date":"2019-04-19","objectID":"/posts/hellojava/:2:0","tags":["Java"],"title":"ç”¨è®°äº‹æœ¬ç¼–å†™ç¬¬ä¸€ä¸ª java ç¨‹åº","uri":"/posts/hellojava/"},{"categories":["Java"],"content":"é‚®ç®± import java.util.regex.Matcher; import java.util.regex.Pattern; public class RegexDemo { public static void main(String[] args) { // Pattern ç±» æ­£åˆ™è¡¨è¾¾å¼çš„ç¼–è¯‘è¡¨ç¤ºã€‚ Pattern pattern = Pattern.compile(\"^[a-zA-Z0-9_!#$%\u0026'*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$\"); String[] emails = {\"admin@lruihao.cn\", \"lruihao.cn\"}; for (String email : emails) { //Matcher é€šè¿‡è§£é‡Š Pattern å¯¹å­—ç¬¦åºåˆ—æ‰§è¡ŒåŒ¹é…æ“ä½œçš„å¼•æ“ Matcher matcher = pattern.matcher(email); System.out.println(email + \"åŒ¹é…ç»“æœï¼š\" + matcher.matches()); } } } admin@lruihao.cn åŒ¹é…ç»“æœï¼štrue lruihao.cn åŒ¹é…ç»“æœï¼šfalse ","date":"2019-04-18","objectID":"/posts/java-regex/:1:0","tags":["regex","Java"],"title":"java æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ ","uri":"/posts/java-regex/"},{"categories":["Java"],"content":"ç”µè¯ package base; import java.util.Scanner; import java.util.regex.Matcher; import java.util.regex.Pattern; public class RegexTest { public static void main(String[] args) { Pattern patter=Pattern.compile(\"^[1][3,4,5,7,8][0-9]{9}$\"); Scanner sc=new Scanner(System.in); String telnum=sc.nextLine(); sc.close(); Matcher matcher=patter.matcher(telnum); System.out.println(telnum+\"åŒ¹é…ç»“æœï¼š \"+matcher.matches()); } } /** * è·å–å½“å‰çš„ httpSession * @return */ public static HttpSession getSession() { return getRequest().getSession(); } /** * æ‰‹æœºå·éªŒè¯ * @param str * @return éªŒè¯é€šè¿‡è¿”å› true */ public static boolean isMobile(final String str) { Pattern p = null; Matcher m = null; boolean b = false; p = Pattern.compile(\"^[1][3,4,5,7,8][0-9]{9}$\"); // éªŒè¯æ‰‹æœºå· m = p.matcher(str); b = m.matches(); return b; } /** * ç”µè¯å·ç éªŒè¯ * @param str * @return éªŒè¯é€šè¿‡è¿”å› true */ public static boolean isPhone(final String str) { Pattern p1 = null, p2 = null; Matcher m = null; boolean b = false; p1 = Pattern.compile(\"^[0][1-9]{2,3}-[0-9]{5,10}$\"); // éªŒè¯å¸¦åŒºå·çš„ p2 = Pattern.compile(\"^[1-9]{1}[0-9]{5,8}$\"); // éªŒè¯æ²¡æœ‰åŒºå·çš„ if (str.length() \u003e 9) { m = p1.matcher(str); b = m.matches(); } else { m = p2.matcher(str); b = m.matches(); } return b; } ","date":"2019-04-18","objectID":"/posts/java-regex/:2:0","tags":["regex","Java"],"title":"java æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ ","uri":"/posts/java-regex/"},{"categories":["Java"],"content":"èº«ä»½è¯ /* èº«ä»½è¯æ­£åˆ™è¡¨è¾¾å¼ 16 æˆ– 18 */ public static final String IDCARD=\"((11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65)[0-9]{4})\" + \"(([1|2][0-9]{3}[0|1][0-9][0-3][0-9][0-9]{3}\" + \"[Xx0-9])|([0-9]{2}[0|1][0-9][0-3][0-9][0-9]{3}))\"; ","date":"2019-04-18","objectID":"/posts/java-regex/:3:0","tags":["regex","Java"],"title":"java æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ ","uri":"/posts/java-regex/"},{"categories":["Java"],"content":"StringBuffer/StringBuilderï¼ˆæŒæ¡ï¼‰ ","date":"2019-04-14","objectID":"/posts/stringbuffer/:1:0","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"StringBuffer æ˜¯çº¿ç¨‹å®‰å…¨çš„å¯å˜å­—ç¬¦ä¸²ã€‚ StringBuilder æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„å¯å˜å­—ç¬¦ä¸²ã€‚ å’Œ StringBuffer çš„åŠŸèƒ½ä¸€æ ·ã€‚å°±æ˜¯æ•ˆç‡é«˜ä¸€äº›ï¼Œä½†æ˜¯ä¸å®‰å…¨ã€‚ ","date":"2019-04-14","objectID":"/posts/stringbuffer/:1:1","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æ„é€ æ–¹æ³•ï¼š StringBuffer sb = new StringBuffer(); StringBuffer sb = new StringBuffer(50); StringBuffer sb = new StringBuffer(â€œhelloâ€); ","date":"2019-04-14","objectID":"/posts/stringbuffer/:1:2","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æˆå‘˜æ–¹æ³•ï¼šï¼ˆè‡ªå·±è¡¥é½æ–¹æ³•å’Œæ„æ€ï¼‰ æ·»åŠ åŠŸèƒ½ public StringBuffer append(String str): è¿½åŠ å­—ç¬¦ä¸² public StringBuffer insert(int offset,String str): åœ¨æŒ‡å®šä½ç½®æ’å…¥å­—ç¬¦ä¸² åˆ é™¤åŠŸèƒ½ public StringBuffer deleteCharAt(int index): åˆ é™¤æŒ‡å®šä½ç½®å­—ç¬¦ public StringBuffer delete(int start,int end): åˆ é™¤ä»æŒ‡å®šå¼€å§‹åˆ°ç»“æŸçš„å­—ç¬¦ï¼Œå·¦é—­å³å¼€ æ›¿æ¢åŠŸèƒ½ public StringBuffer replace(int start,int end,String str): ä»¥å­—ç¬¦ä¸²æ›¿ä»£ä»æŒ‡å®šå¼€å§‹åˆ°ç»“æŸçš„å­—ç¬¦ åè½¬åŠŸèƒ½ public StringBuffer reverse(): åè½¬ æˆªå–åŠŸèƒ½ public String substring(int start): ä»æŒ‡å®šç´¢å¼•åˆ°æœ«å°¾çš„å­—ç¬¦ä¸² public String substring(int start,int end): ä»æŒ‡å®šç´¢å¼•å¼€å§‹åˆ°æŒ‡å®šç´¢å¼•ç»“æŸçš„å­—ç¬¦ä¸² ","date":"2019-04-14","objectID":"/posts/stringbuffer/:1:3","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æ¡ˆä¾‹ï¼š String å’Œ StringBuffer çš„ç›¸äº’è½¬æ¢ï¼Œé€šè¿‡æ„é€ å³å¯ã€‚ æŠŠæ•°ç»„è½¬æˆæŒ‡å®šçš„å­—ç¬¦ä¸²æ ¼å¼ æŠŠå­—ç¬¦ä¸²åè½¬ åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å¯¹ç§°å­—ç¬¦ä¸² ","date":"2019-04-14","objectID":"/posts/stringbuffer/:1:4","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æ•°ç»„é«˜çº§éƒ¨åˆ†ï¼ˆç†è§£ï¼‰ ","date":"2019-04-14","objectID":"/posts/stringbuffer/:2:0","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æ’åº å†’æ³¡æ’åº ç›¸é‚»å…ƒç´ ï¼Œä¸¤ä¸¤æ¯”è¾ƒï¼Œå¤§çš„å¾€åæ”¾ã€‚ public static void bubbleSort(int[] arr) { for(int x=0; x\u003carr.length-1; x++) { for(int y=0; y\u003carr.length-1-x; y++) { if(arr[y]\u003earr[y+1]) { int temp = arr[y]; arr[y] = arr[y+1]; arr[y+1] = temp; } } } } é€‰æ‹©æ’åº ä» 0 å¼€å§‹ï¼Œä¾æ¬¡å’Œåé¢çš„æ¯”è¾ƒï¼Œå°çš„å¾€å‰æ”¾ã€‚ public static void selectSort(int[] arr) { for(int x=0; x\u003carr.length-1; x++) { for(int y=x+1; y\u003carr.length; y++) { if(arr[y] \u003c arr[x]) { int temp = arr[x]; arr[x] = arr[y]; arr[y] = temp; } } } } public static void selectSort(int[] a) { int min=0; int temp=0; if((a==null)||(a.length==0)) return; for(int i=0;i\u003ca.length-1;i++) { min=i;//æ— åºåŒºçš„æœ€å°æ•°æ®æ•°ç»„ä¸‹æ ‡ for(int j=i+1;j\u003ca.length;j++) { //åœ¨æ— åºåŒºä¸­æ‰¾åˆ°æœ€å°æ•°æ®å¹¶ä¿å­˜å…¶æ•°ç»„ä¸‹æ ‡ if(a[j]\u003ca[min]) { min=j; } } //å°†æœ€å°å…ƒç´ æ”¾åˆ°æœ¬æ¬¡å¾ªç¯çš„å‰ç«¯ temp=a[i]; a[i]=a[min]; a[min]=temp; } } ","date":"2019-04-14","objectID":"/posts/stringbuffer/:2:1","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æŸ¥æ‰¾ åŸºæœ¬æŸ¥æ‰¾ æ•°ç»„æ— åº äºŒåˆ†æŸ¥æ‰¾ æ•°ç»„æœ‰åº public static int getIndex(int[] arr,int value) { int max = arr.length-1; int min = 0; int mid = (max+min)/2; while(arr[mid] != value) { if(arr[mid] \u003e value) { max = mid - 1; }else if(arr[mid] \u003c value) { min = mid + 1; } if(max \u003c min) { return -1; } mid = (max+min)/2; } return mid; } ","date":"2019-04-14","objectID":"/posts/stringbuffer/:2:2","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"Arrays å·¥å…·ç±»ï¼ˆæŒæ¡ï¼‰ ","date":"2019-04-14","objectID":"/posts/stringbuffer/:3:0","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"Arrays æ˜¯é’ˆå¯¹æ•°ç»„è¿›è¡Œæ“ä½œçš„å·¥å…·ç±»ï¼Œæä¾›äº†æ’åºå’ŒæŸ¥æ‰¾ç­‰åŠŸèƒ½ ","date":"2019-04-14","objectID":"/posts/stringbuffer/:3:1","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æˆå‘˜æ–¹æ³•ï¼šï¼ˆè‡ªå·±è¡¥é½æ–¹æ³•å’Œæ„æ€ï¼‰ æŠŠæ•°ç»„è½¬æˆå­—ç¬¦ä¸² public static String toString(): å°†ä»»æ„ç±»å‹æ•°æ®è½¬æ¢æˆå­—ç¬¦ä¸² æ’åº public static void sort()ï¼š äºŒåˆ†æŸ¥æ‰¾ public static int binarySearch(int[] arr,int key) ","date":"2019-04-14","objectID":"/posts/stringbuffer/:3:2","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"æ¡ˆä¾‹ï¼š æŠŠå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦è¿›è¡Œæ’åº ","date":"2019-04-14","objectID":"/posts/stringbuffer/:3:3","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"åŸºæœ¬ç±»å‹åŒ…è£…ç±»ï¼ˆæŒæ¡ï¼‰ ","date":"2019-04-14","objectID":"/posts/stringbuffer/:4:0","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"ä¸ºäº†è®©æˆ‘ä»¬å¯¹åŸºæœ¬ç±»å‹è¿›è¡Œæ›´å¤šçš„æ“ä½œï¼Œjava é’ˆå¯¹æ¯ç§åŸºæœ¬ç±»å‹æä¾›äº†å¯¹åº”çš„åŒ…è£…ç±»ç±»å‹ã€‚ ","date":"2019-04-14","objectID":"/posts/stringbuffer/:4:1","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"åˆ†åˆ«æ˜¯å“ªäº›å‘¢ï¼Ÿ byte Byte short Short int Integer long Long float Float double Double char Character boolean Boolean ç‰¹æ®Šï¼š void Void ","date":"2019-04-14","objectID":"/posts/stringbuffer/:4:2","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"Integer æ„é€ æ–¹æ³• Integer i = new Integer(100); Integer i = new Integer(â€œ100â€); æˆå‘˜æ–¹æ³•ï¼ˆè‡ªå·±è¡¥é½æ–¹æ³•å’Œæ„æ€ï¼‰ æŠŠå­—ç¬¦ä¸²è½¬æˆ int ç±»å‹ String-\u003eint: Integer.parseInt() int-\u003eString: String.valueOf() æˆ– Integer.toString() JDK5 çš„æ–°ç‰¹æ€§ è‡ªåŠ¨è£…ç®±ï¼š int --\u003e Integer //Integer.valueOf() è‡ªåŠ¨æ‹†ç®±ï¼š Integer --\u003e int //Integer.intValue() è¯·è§£é‡Šï¼š Integer i = 100; i+=200; System.out.println(i); byte ç¼“å­˜æ± é¢è¯•é¢˜ byte,short,charâ€”\u003eå°äº 127ï¼Œå¦åˆ™æŠ¥-6 çš„é”™è¯¯ï¼ˆæŸ¥çœ‹ JDK) ","date":"2019-04-14","objectID":"/posts/stringbuffer/:4:3","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["Java"],"content":"Character æ„é€ æ–¹æ³• Character ch = new Character(â€˜aâ€™); æˆå‘˜æ–¹æ³•ï¼ˆè‡ªå·±è¡¥é½æ–¹æ³•å’Œæ„æ€ï¼‰ åˆ¤æ–­å­—ç¬¦æ˜¯å¦æ˜¯å¤§å†™å­—æ¯ public boolean isUpperCase(char ch) åˆ¤æ–­å­—ç¬¦æ˜¯å¦æ˜¯å°å†™å­—æ¯ public boolean isLowerCase(Char ch) åˆ¤æ–­å­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—å­—ç¬¦ public boolean isDigit(Char ch) æŠŠå­—ç¬¦è½¬æˆå¤§å†™ public Char toUpperCase(Char ch) æŠŠå­—ç¬¦è½¬æˆå°å†™ public Char toLowerCase(Char ch) ","date":"2019-04-14","objectID":"/posts/stringbuffer/:4:4","tags":["StringBuffer","sort","Java"],"title":"java å¸¸ç”¨ç±»","uri":"/posts/stringbuffer/"},{"categories":["ACM"],"content":"é¢˜ç›®å¤§æ„ï¼š é¢˜ç›®é“¾æ¥ è€é¼ æœ‰ M ç£…çŒ«é£Ÿ , æœ‰ N ä¸ªæˆ¿é—´ , æ¯ä¸ªæˆ¿é—´å‰æœ‰ä¸€åªçŒ« , æˆ¿é—´é‡Œæœ‰è€é¼ æœ€å–œæ¬¢çš„é£Ÿå“ J[i] , è‹¥è¦å¾—åˆ°æˆ¿é—´çš„é£Ÿç‰© , å¿…é¡»ä»˜å‡ºç›¸åº”çš„çŒ«é£Ÿ F[i] , å½“ç„¶è¿™åªè€é¼ æ²¡å¿…è¦æ¯æ¬¡éƒ½ä»˜å‡ºæ‰€æœ‰çš„ F[i]ï¼Œè‹¥å®ƒä»˜å‡º F[i] çš„ a%ï¼Œ åˆ™å¾—åˆ° J[i] çš„ a%ï¼Œæ±‚è€é¼ èƒ½åƒåˆ°çš„æœ€å¤šçš„é£Ÿç‰©ã€‚ ","date":"2019-04-12","objectID":"/posts/hdu1009/:1:0","tags":["ACM","è´ªå¿ƒ","HDU"],"title":"HDU 1009 FatMouse' Tradeï¼ˆè´ªå¿ƒï¼‰","uri":"/posts/hdu1009/"},{"categories":["ACM"],"content":"Sample Input 5 3 7 2 4 3 5 2 20 3 25 18 24 15 15 10 -1 -1 ","date":"2019-04-12","objectID":"/posts/hdu1009/:1:1","tags":["ACM","è´ªå¿ƒ","HDU"],"title":"HDU 1009 FatMouse' Tradeï¼ˆè´ªå¿ƒï¼‰","uri":"/posts/hdu1009/"},{"categories":["ACM"],"content":"Sample Output 13.333 31.500 ","date":"2019-04-12","objectID":"/posts/hdu1009/:1:2","tags":["ACM","è´ªå¿ƒ","HDU"],"title":"HDU 1009 FatMouse' Tradeï¼ˆè´ªå¿ƒï¼‰","uri":"/posts/hdu1009/"},{"categories":["ACM"],"content":"åˆ†æ è€é¼ è¦ç”¨æœ€å°‘çš„çŒ«ç²®æ¥æ¢å–æœ€å¤šçš„é£Ÿç‰© , ä¹Ÿå°±æ˜¯ J[i]/F[i] è¶Šå¤§è¶Šå¥½ , æ‰€ä»¥æŒ‰ç…§ J[i]/F[i] è¿›è¡Œé™åºæ’åˆ— , ç„¶åä¾æ¬¡ç”¨çŒ«ç²®æ¥æ¢å–é£Ÿç‰© , å½“æ‰€å‰©ä¸‹çš„çŒ«ç²®ä¸è¶³ä»¥å®Œå…¨æ¢å–é£Ÿç‰© , èƒ½æ¢å¤šå°‘æ˜¯å¤šå°‘ã€‚ #include\u003cstdio.h\u003e #include\u003calgorithm\u003e using namespace std; struct node{ double j; double f; double s; }a[1005]; int cmp(node x,node y){ return x.s\u003ey.s; } int main(){ int m,n,i; while(scanf(\"%d%d\",\u0026m,\u0026n)\u0026\u0026(m!=-1\u0026\u0026n!=-1)){ memset(a,0,sizeof(a)); for(i=0;i\u003cn;i++){ scanf(\"%lf%lf\",\u0026a[i].j,\u0026a[i].f); a[i].s=a[i].j/a[i].f; } sort(a,a+n,cmp); double sum=0; for(i=0;i\u003cn;i++){ if(m\u003e=a[i].f){ sum+=a[i].j; m-=a[i].f; }else{ sum+=a[i].s*m; m=0; } if(m\u003c=0) break; } printf(\"%.3lf\\n\",sum); } return 0; } ","date":"2019-04-12","objectID":"/posts/hdu1009/:2:0","tags":["ACM","è´ªå¿ƒ","HDU"],"title":"HDU 1009 FatMouse' Tradeï¼ˆè´ªå¿ƒï¼‰","uri":"/posts/hdu1009/"},{"categories":["OS"],"content":" ä¸€ç›´éƒ½æƒ³åœ¨è‡ªå·±ç”µè„‘ä¸Šæ­å»ºä¸€ä¸ªç½‘ç«™æˆ–è€…æŠŠè‡ªå·±çš„ç”µè„‘åšæˆæœåŠ¡å™¨ï¼Œä»Šå¤©ç»ˆäºç®€å•å®ç°äº†ã€‚è¿˜æœ‰å¾ˆå¤šçŸ¥è¯†éœ€è¦å­¦ä¹ ï¼Œç®€å•è®°å½•ä¸€ä¸‹ã€‚ ","date":"2019-04-03","objectID":"/posts/ngrok/:0:0","tags":["ngrok","linux","å®å¡”é¢æ¿","server","ubuntu"],"title":"æœ¬åœ°æ­å»ºç½‘ç«™æœåŠ¡å™¨å¹¶ç©¿é€å†…ç½‘","uri":"/posts/ngrok/"},{"categories":["OS"],"content":"æ­å»ºç¯å¢ƒ æˆ‘çš„ç”µè„‘æ˜¯ubuntu+windowsåŒç³»ç»Ÿçš„ï¼Œæ‰€ä»¥æˆ‘å…ˆåœ¨ ubuntu ä¸Šé¢è£…äº†ä¸€ä¸ªå®å¡”é¢æ¿ï¼Œæ–¹ä¾¿é€šè¿‡ web ç®¡ç†ç”µè„‘ï¼Œå®å¡”å®‰è£…å¥½åå®‰è£…ç›¸å…³çš„ç¯å¢ƒmysql,php,nginxç­‰ã€‚æˆ‘ä»¬ç°åœ¨åªèƒ½é€šè¿‡æœ¬åœ° ip127.0.0.1:8888è®¿é—®é¢æ¿ã€‚ ","date":"2019-04-03","objectID":"/posts/ngrok/:1:0","tags":["ngrok","linux","å®å¡”é¢æ¿","server","ubuntu"],"title":"æœ¬åœ°æ­å»ºç½‘ç«™æœåŠ¡å™¨å¹¶ç©¿é€å†…ç½‘","uri":"/posts/ngrok/"},{"categories":["OS"],"content":"ngrok ç©¿é€ å» ngrok æ³¨å†Œç™»å½•ï¼Œè´­ä¹°éš§é“ï¼ˆæœ‰å…è´¹çš„ï¼‰ï¼Œç„¶åç»‘å®šç«¯å£ï¼Œç»‘å®šåŸŸåï¼Œè¿™é‡Œæˆ‘ä»¬æ‹¿ç«¯å£8888å’ŒåŸŸåtest.lruihao.cnåšå®éªŒï¼Œä¹Ÿå°±æ˜¯å®å¡”é¢æ¿çš„ç«¯å£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€è¿‡åŸŸåè¿œç¨‹è®¿é—®æœ¬åœ°æœåŠ¡å™¨ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å¼€å§‹æœ‰äº‘æœåŠ¡å™¨çš„æ„Ÿè§‰äº†ã€‚ç„¶åå®å¡”é¢æ¿è®¾ç½®ä¹Ÿç»‘å®šå¥½åŸŸåtest.lruihao.cn,dns æœåŠ¡å•†é‚£é‡Œåšå¥½ç›¸åº”çš„è§£æã€‚ ç„¶ååœ¨ ngrok é‚£é‡Œä¸‹è½½ sunny å®¢æˆ·ç«¯æ–‡ä»¶ï¼Œæˆ‘ä»¬æ˜¯ ubuntu é€‰æ‹©linux-64bitsç‰ˆæœ¬ã€‚è§£å‹ååœ¨ ubuntu æ‰“å¼€ç»ˆç«¯è¿›å…¥ sunny æ–‡ä»¶ç›®å½•ï¼Œæƒé™ç»™åˆ° 755ï¼Œè¿è¡Œå‘½ä»¤./sunny clientid xxxxxxx åé¢çš„ä½ çš„éš§é“è®¢å•çš„ idã€‚ ç°åœ¨å°±å¯ä»¥é€šè¿‡äº’è”ç½‘è®¿é—®æˆ‘çš„ ubuntu æœåŠ¡å™¨äº†ã€‚ ","date":"2019-04-03","objectID":"/posts/ngrok/:2:0","tags":["ngrok","linux","å®å¡”é¢æ¿","server","ubuntu"],"title":"æœ¬åœ°æ­å»ºç½‘ç«™æœåŠ¡å™¨å¹¶ç©¿é€å†…ç½‘","uri":"/posts/ngrok/"},{"categories":["OS"],"content":"æ­å»ºç½‘ç«™ å‰é¢ä¸¤æ­¥æå®šï¼Œæ­å»ºç½‘ç«™å°±æ²¡é—®é¢˜äº†ã€‚ æˆ‘ä»¬åªè¦æŠŠç½‘ç«™çš„ç«¯å£æŒ‰ç¬¬äºŒæ­¥çš„åœ¨ ngrok è®¾ç½®å¥½å°±å¯ä»¥ç©¿é€äº†ã€‚ ","date":"2019-04-03","objectID":"/posts/ngrok/:3:0","tags":["ngrok","linux","å®å¡”é¢æ¿","server","ubuntu"],"title":"æœ¬åœ°æ­å»ºç½‘ç«™æœåŠ¡å™¨å¹¶ç©¿é€å†…ç½‘","uri":"/posts/ngrok/"},{"categories":["OS"],"content":"æ³¨æ„ è®¿é—®æœ¬åœ°ç½‘ç«™çš„å¿…è¦æ¡ä»¶æ˜¯ä½ çš„ç”µè„‘å¾—æ˜¯å¼€æœºçŠ¶æ€è€Œä¸”æœ‰ç½‘ç»œã€‚ ","date":"2019-04-03","objectID":"/posts/ngrok/:4:0","tags":["ngrok","linux","å®å¡”é¢æ¿","server","ubuntu"],"title":"æœ¬åœ°æ­å»ºç½‘ç«™æœåŠ¡å™¨å¹¶ç©¿é€å†…ç½‘","uri":"/posts/ngrok/"},{"categories":["Memo"],"content":" åŸæ–‡é“¾æ¥ â€œå“è¶Šç­â€åˆ°äº†å¤§ä¸‰çªç„¶æ€èµ·ä¸€è‚¡æ¯•ä¸šæ…Œï¼Œä¸€éƒ¨åˆ†äººæŠ•èº«äºè€ƒç ”çš„çƒ­æ½®ä¸­ï¼Œä¸€éƒ¨åˆ†äººé€‰æ‹©äº†åŸ¹è®­æœºæ„å­¦ä¹ æŠ€æœ¯ã€‚è€Œæˆ‘å‡ºäºç§ç§åŸå› æ—¢ä¸è€ƒç ”ä¹Ÿä¸åŸ¹è®­ï¼Œé€‰æ‹©è‡ªå­¦ java å’Œ web ç›¸å…³çš„çŸ¥è¯†ï¼Œä¹Ÿå¸Œæœ›å› æ­¤èƒ½åœ¨ä»¥åè°‹å¾—ä¸€ä»½å¿ƒä»ªçš„å·¥ä½œã€‚ å¦‚æœæ–‡ç« ä¸­æœ‰å‡ºç°çº°æ¼ã€é”™è¯¯ä¹‹å¤„ï¼Œè¿˜è¯·çœ‹åˆ°çš„å°ä¼™ä¼´å¤šå¤šæŒ‡æ•™ï¼Œå…ˆè¡Œè°¢è¿‡ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:0:0","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"HTML ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:0","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"1. Doctype ä½œç”¨ï¼ŒHTML5 ä¸ºä»€ä¹ˆåªéœ€è¦å†™ \u003c!DOCTYPE HTML\u003e doctype æ˜¯ä¸€ç§æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„æ–‡æ¡£ç±»å‹å£°æ˜ï¼Œç›®çš„æ˜¯å‘Šè¯‰æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€è§£æå™¨è¦ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆDTDï¼‰æ¥è§£ææ–‡æ¡£ã€‚\u003c!DOCTYPE\u003eå£°æ˜å¿…é¡»æ˜¯ HTML æ–‡æ¡£çš„ç¬¬ä¸€è¡Œï¼Œä½äº html æ ‡ç­¾ä¹‹å‰ HTML5 ä¸åŸºäº SGMLï¼Œæ‰€ä»¥ä¸éœ€è¦å¼•ç”¨ DTDã€‚åœ¨ HTML5 ä¸­\u003c!DOCTYPE\u003eåªæœ‰ä¸€ç§ SGML: æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ï¼Œæ˜¯ç°æ—¶å¸¸ç”¨çš„è¶…æ–‡æœ¬æ ¼å¼çš„æœ€é«˜å±‚æ¬¡æ ‡å‡† ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:1","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"2. è¡Œå†…å…ƒç´ æœ‰å“ªäº›ï¼Œå—çº§å…ƒç´ æœ‰å“ªäº›ï¼Œç©º (void) å…ƒç´ æœ‰é‚£äº› è¡Œå†…å…ƒç´ ï¼ša span i img input select b ç­‰ å—çº§å…ƒç´ ï¼šdiv ul ol li h1~h6 p table ç­‰ ç©ºå…ƒç´ ï¼šbr hr link ç­‰ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:2","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"3. ç®€è¿°ä¸€ä¸‹ä½ å¯¹ HTML è¯­ä¹‰åŒ–çš„ç†è§£ ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åˆé€‚çš„æ ‡ç­¾åšåˆé€‚çš„äº‹æƒ…ï¼Œè¿™æ ·å…·æœ‰ä»¥ä¸‹å¥½å¤„ï¼š æœ‰åŠ©äºæ„æ¶è‰¯å¥½çš„ HTML ç»“æ„ï¼Œæœ‰åˆ©äºæœç´¢å¼•æ“çš„å»ºç«‹ç´¢å¼•ã€æŠ“å–ï¼Œåˆ©äº SEO æœ‰åˆ©äºä¸åŒè®¾å¤‡çš„è§£æ æœ‰åˆ©äºæ„å»ºæ¸…æ™°çš„æœºæ„ï¼Œæœ‰åˆ©äºå›¢é˜Ÿçš„å¼€å‘ã€ç»´æŠ¤ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:3","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"4. å¸¸è§çš„æµè§ˆå™¨å†…æ ¸æœ‰å“ªäº›ï¼Œä»‹ç»ä¸€ä¸‹ä½ å¯¹æµè§ˆå™¨å†…æ ¸çš„ç†è§£ Trident å†…æ ¸ï¼šIE Gecko å†…æ ¸ï¼šNETSCAPE6 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œç«ç‹ Presto å†…æ ¸ï¼šOpera7 åŠä»¥ä¸Šã€‚[Opera å†…æ ¸åŸä¸ºï¼šPrestoï¼Œç°ä¸ºï¼šBlink;] Webkit å†…æ ¸ï¼šSafariï¼ŒChrome ç­‰ã€‚[Chrome çš„ï¼šBlinkï¼ˆWebKit çš„åˆ†æ”¯ï¼‰] æµè§ˆå™¨å†…æ ¸åˆå¯ä»¥åˆ†æˆä¸¤éƒ¨åˆ†ï¼šæ¸²æŸ“å¼•æ“å’Œ JS å¼•æ“ã€‚ æ¸²æŸ“å¼•æ“ä¸»è¦è´Ÿè´£å–å¾—ç½‘é¡µçš„å†…å®¹ã€æ•´ç†è®¯æ¯ã€è®¡ç®—ç½‘é¡µçš„æ˜¾ç¤ºæ–¹å¼ç­‰ï¼ŒJS å¼•æ“åˆ™æ˜¯è§£æ Javascript è¯­è¨€ï¼Œæ‰§è¡Œ javascript è¯­è¨€æ¥å®ç°ç½‘é¡µçš„åŠ¨æ€æ•ˆæœã€‚ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:4","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"5. html5 æœ‰å“ªäº›æ–°ç‰¹æ€§ è¯­ä¹‰åŒ–æ ‡ç­¾ï¼šheader footer nav section article aside ç­‰ å¢å¼ºå‹è¡¨å•ï¼šdateï¼ˆä»ä¸€ä¸ªæ—¥æœŸé€‰æ‹©å™¨é€‰æ‹©ä¸€ä¸ªæ—¥æœŸï¼‰ emailï¼ˆåŒ…å« e-mail åœ°å€çš„è¾“å…¥åŸŸï¼‰ numberï¼ˆæ•°å€¼çš„è¾“å…¥åŸŸï¼‰ rangeï¼ˆä¸€å®šèŒƒå›´å†…æ•°å­—å€¼çš„è¾“å…¥åŸŸï¼‰ searchï¼ˆç”¨äºæœç´¢åŸŸï¼‰ telï¼ˆå®šä¹‰è¾“å…¥ç”µè¯å·ç å­—æ®µï¼‰ ç­‰ è§†é¢‘å’ŒéŸ³é¢‘ï¼šaudio video Canvas ç»˜å›¾ SVG ç»˜å›¾ åœ°ç†å®šä½ï¼šGeolocation æ‹–æ”¾ APIï¼šdrag web workerï¼šæ˜¯è¿è¡Œåœ¨åå°çš„ JavaScriptï¼Œç‹¬ç«‹äºå…¶ä»–è„šæœ¬ï¼Œä¸ä¼šå½±å“é¡µé¢çš„æ€§èƒ½ web storage: localStorage sessionStorage WebSocket: HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®® ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:5","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"6. æè¿°ä¸€ä¸‹ cookieï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ« ç‰¹æ€§ Cookie localStorage sessionStorage ç”Ÿå‘½å‘¨æœŸ å¯è®¾ç½®å¤±æ•ˆæ—¶é—´ï¼Œæ²¡æœ‰è®¾ç½®çš„è¯ï¼Œé»˜è®¤æ˜¯å…³é—­æµè§ˆå™¨åå¤±æ•ˆ é™¤éè¢«æ‰‹åŠ¨æ¸…é™¤ï¼Œå¦åˆ™å°†ä¼šæ°¸ä¹…ä¿å­˜ ä»…åœ¨å½“å‰ç½‘é¡µä¼šè¯ä¸‹æœ‰æ•ˆï¼Œå…³é—­é¡µé¢æˆ–æµè§ˆå™¨åå°±ä¼šè¢«æ¸…é™¤ å­˜æ”¾æ•°æ®å¤§å° 4KB å·¦å³ å¯ä»¥ä¿å­˜ 5MB çš„ä¿¡æ¯ å¯ä»¥ä¿å­˜ 5MB çš„ä¿¡æ¯ http è¯·æ±‚ æ¯æ¬¡éƒ½ä¼šæºå¸¦åœ¨ HTTP å¤´ä¸­ï¼Œå¦‚æœä½¿ç”¨ cookie ä¿å­˜è¿‡å¤šæ•°æ®ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ ä»…åœ¨å®¢æˆ·ç«¯ï¼ˆå³æµè§ˆå™¨ï¼‰ä¸­ä¿å­˜ï¼Œä¸å‚ä¸å’ŒæœåŠ¡å™¨çš„é€šä¿¡ ä»…åœ¨å®¢æˆ·ç«¯ï¼ˆå³æµè§ˆå™¨ï¼‰ä¸­ä¿å­˜ï¼Œä¸å‚ä¸å’ŒæœåŠ¡å™¨çš„é€šä¿¡ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:6","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"7. å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡ ä½¿ç”¨ localStorage: localStorage.setItem(key,value)ã€localStorage.getItem(key) websocket åè®® webworker å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:7","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"8. HTML5 çš„ç¦»çº¿å­˜å‚¨æ€ä¹ˆä½¿ç”¨ï¼Œè§£é‡Šä¸€ä¸‹å·¥ä½œåŸç† HTML5 çš„ç¦»çº¿å­˜å‚¨ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:8","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"9. src ä¸ href çš„åŒºåˆ« åŒºåˆ«ï¼šsrc ç”¨äºæ›¿ä»£è¿™ä¸ªå…ƒç´ ï¼Œè€Œ href ç”¨äºå»ºç«‹è¿™ä¸ªæ ‡ç­¾ä¸å¤–éƒ¨èµ„æºä¹‹é—´çš„å…³ç³» \u003clink href=\"style.css\" rel=\"stylesheet\" /\u003eæµè§ˆå™¨åŠ è½½åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œhtml çš„æ¸²æŸ“å’Œè§£æä¸ä¼šæš‚åœï¼Œcss æ–‡ä»¶çš„åŠ è½½æ˜¯åŒæ—¶è¿›è¡Œçš„ \u003cscript src=\"script.js\"\u003e\u003c/script\u003eå½“æµè§ˆå™¨è§£æåˆ°è¿™å¥ä»£ç æ—¶ï¼Œé¡µé¢çš„åŠ è½½å’Œè§£æéƒ½ä¼šæš‚åœç›´åˆ°æµè§ˆå™¨æ‹¿åˆ°å¹¶æ‰§è¡Œå®Œè¿™ä¸ª js æ–‡ä»¶ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:9","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"10. è¡¨å•æäº¤ä¸­ Get å’Œ Post æ–¹å¼çš„åŒºåˆ« Get ä¸€èˆ¬ç”¨äºä»æœåŠ¡å™¨ä¸Šè·å–æ•°æ®ï¼ŒPost å‘æœåŠ¡å™¨ä¼ é€æ•°æ® Get ä¼ è¾“çš„æ•°æ®æ˜¯æ‹¼æ¥åœ¨ Url ä¹‹åçš„ï¼Œå¯¹ç”¨æˆ·æ˜¯å¯è§çš„ï¼›Post çš„ä¼ è¾“æ•°æ®å¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ Get ä¼ é€çš„æ•°æ®é‡è¾ƒå°ï¼Œä¸èƒ½å¤§äº 2KBã€‚Post ä¼ é€çš„æ•°æ®é‡è¾ƒå¤§ï¼Œä¸€èˆ¬è¢«é»˜è®¤ä¸ºä¸å—é™åˆ¶ Get å®‰å…¨æ€§éå¸¸ä½ï¼ŒPost å®‰å…¨æ€§è¾ƒé«˜ åœ¨ FORM æäº¤çš„æ—¶å€™ï¼Œå¦‚æœä¸æŒ‡å®š Methodï¼Œåˆ™é»˜è®¤ä¸º Get è¯·æ±‚ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:1:10","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"CSS ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:0","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"1. css ç›’å­æ¨¡å‹ï¼Œbox-sizing å±æ€§çš„ç†è§£ css çš„ç›’æ¨¡å‹ç”± contentï¼ˆå†…å®¹ï¼‰ã€paddingï¼ˆå†…è¾¹è·ï¼‰ã€borderï¼ˆè¾¹æ¡†ï¼‰ã€marginï¼ˆå¤–è¾¹è·ï¼‰ç»„æˆã€‚ä½†ç›’å­çš„å¤§å°ç”± content+padding+border è¿™å‡ éƒ¨åˆ†å†³å®š box-sizing æ˜¯ä¸€ä¸ª CSS3 å±æ€§ï¼Œä¸ç›’å­æ¨¡å‹æœ‰ç€å¯†åˆ‡è”ç³»ã€‚å³å†³å®šå…ƒç´ çš„å®½é«˜å¦‚ä½•è®¡ç®—ï¼Œbox-sizing æœ‰ä¸‰ä¸ªå±æ€§ï¼š box-sizing: content-box|border-box|inherit: content-box ä½¿å¾—å…ƒç´ çš„å®½é«˜å³ä¸ºå†…å®¹åŒºçš„å®½é«˜ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰ border-box: è®¡ç®—æ–¹å¼ content + padding + border = æœ¬èº«å…ƒç´ å¤§å°ï¼Œå³ç¼©å°äº† content å¤§å° inherit æŒ‡å®š box-sizing å±æ€§çš„å€¼ï¼Œåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:1","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"2. æ¸…é™¤æµ®åŠ¨ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Œæ¸…é™¤æµ®åŠ¨éƒ½æœ‰å“ªäº›æ–¹æ³• æµ®åŠ¨çš„å…ƒç´ æ˜¯è„±ç¦»æ–‡æ¡£æ ‡å‡†æµçš„ï¼Œå¦‚æœæˆ‘ä»¬ä¸æ¸…æ¥šæµ®åŠ¨ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆçˆ¶å…ƒç´ é«˜åº¦å¡Œé™·ï¼Œå½±å“é¡µé¢å¸ƒå±€ã€‚ æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼ï¼š ä¸ºçˆ¶å…ƒç´ è®¾ç½®é«˜åº¦ ä¸ºçˆ¶å…ƒç´ æ·»åŠ overflow:hidden ä¼ªå…ƒç´  .fix::after { content: ''; display: block; clear: both; } ä½¿ç”¨ä¼ªå…ƒç´ çš„å¥½å¤„ï¼šä¸å¢åŠ å†—ä½™çš„ DOM èŠ‚ç‚¹ï¼Œç¬¦åˆè¯­ä¹‰åŒ– overflow:hidden å¯ä»¥è§¦å‘ BFC æœºåˆ¶ã€‚BFCï¼šå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œåˆ›å»ºäº† BFC çš„å…ƒç´ å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç›’å­ï¼Œå®ƒè§„å®šäº†å†…éƒ¨å¦‚ä½•å¸ƒå±€ï¼Œå¹¶ä¸”ä¸è¿™ä¸ªç‹¬ç«‹ç›’å­é‡Œçš„å¸ƒå±€ä¸å—å¤–éƒ¨å½±å“ï¼Œå½“ç„¶å®ƒä¹Ÿä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œè®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®— ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:2","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"3. å¦‚ä½•è®©ä¸€ä¸ªä¸å®šå®½é«˜çš„ç›’å­æ°´å¹³å‚ç›´å±…ä¸­ å®šä½çš„æ–¹å¼ .father { position: relative; } .son { position: absolute; top: 0; right: 0; bottom: 0; left: 0; margin: auto; } css3 å±æ€§ .father { position: relative; } .son { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); } flex å¸ƒå±€ .father { display: flex; justify-content: center; align-items: center; } ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:3","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"4. px å’Œ em å’Œ rem çš„åŒºåˆ« px: åƒç´ ï¼Œç›¸å¯¹é•¿åº¦å•ä½ã€‚åƒç´ pxæ˜¯ç›¸å¯¹äºæ˜¾ç¤ºå™¨å±å¹•åˆ†è¾¨ç‡è€Œè¨€çš„ emçš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œä»£è¡¨å€æ•° remçš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œå§‹ç»ˆæ˜¯åŸºäºæ ¹å…ƒç´  \u003chtml\u003e çš„ï¼Œä¹Ÿä»£è¡¨å€æ•° ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:4","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"5. position çš„å€¼æœ‰å“ªäº› staticï¼š é»˜è®¤å€¼ã€‚æ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æµä¸­ relativeï¼ˆç›¸å¯¹å®šä½ï¼‰ï¼šç”Ÿæˆç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå…¶æ­£å¸¸ï¼ˆåŸå…ˆæœ¬èº«ï¼‰ä½ç½®è¿›è¡Œå®šä½ absoluteï¼ˆç»å¯¹å®šä½ï¼‰ï¼šç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äº static å®šä½ä»¥å¤–çš„ç¬¬ä¸€ä¸ªçˆ¶å…ƒç´ è¿›è¡Œå®šä½ fixedï¼ˆå›ºå®šå®šä½ï¼‰ï¼šç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œå®šä½ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:5","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"6. display:none ä¸ visibilityï¼šhidden çš„åŒºåˆ« åŒºåˆ« display:none visibilityï¼šhidden çš„ æ˜¯å¦å æ®ç©ºé—´ ä¸å æ®ä»»ä½•ç©ºé—´ï¼Œåœ¨æ–‡æ¡£æ¸²æŸ“æ—¶ï¼Œè¯¥å…ƒç´ å¦‚åŒä¸å­˜åœ¨ï¼ˆä½†ä¾ç„¶å­˜åœ¨æ–‡æ¡£å¯¹è±¡æ¨¡å‹æ ‘ä¸­ï¼‰ è¯¥å…ƒç´ ç©ºé—´ä¾æ—§å­˜åœ¨ æ˜¯å¦æ¸²æŸ“ ä¼šè§¦å‘ reflowï¼ˆå›æµï¼‰ï¼Œè¿›è¡Œæ¸²æŸ“ åªä¼šè§¦å‘ repaintï¼ˆé‡ç»˜ï¼‰ï¼Œå› ä¸ºæ²¡æœ‰å‘ç°ä½ç½®å˜åŒ–ï¼Œä¸è¿›è¡Œæ¸²æŸ“ æ˜¯å¦æ˜¯ç»§æ‰¿å±æ€§ ä¸æ˜¯ç»§æ‰¿å±æ€§ï¼Œå…ƒç´ åŠå…¶å­å…ƒç´ éƒ½ä¼šæ¶ˆå¤± æ˜¯ç»§æ‰¿å±æ€§ï¼Œè‹¥å­å…ƒç´ ä½¿ç”¨äº† visibility:visibleï¼Œåˆ™ä¸ç»§æ‰¿ï¼Œè¿™ä¸ªå­å­™å…ƒç´ åˆä¼šæ˜¾ç°å‡º ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:6","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"7. CSS ä¸­ link å’Œ@import çš„åŒºåˆ« link å±äº XHTML æ ‡ç­¾ï¼Œ@import å®Œå…¨æ˜¯ CSS æä¾›çš„ä¸€ç§æ–¹å¼ï¼Œåªèƒ½åŠ è½½ CSS åŠ è½½é¡ºåºçš„å·®åˆ«ï¼Œå½“ä¸€ä¸ªé¡µé¢è¢«åŠ è½½çš„æ—¶å€™ï¼Œlink å¼•ç”¨çš„ CSS ä¼šåŒæ—¶è¢«åŠ è½½ï¼Œè€Œ@import å¼•ç”¨çš„ CSS ä¼šç­‰åˆ°é¡µé¢å…¨éƒ¨è¢«ä¸‹è½½å®Œå†è¢«åŠ è½½ å…¼å®¹æ€§çš„å·®åˆ«ã€‚ç”±äº@import æ˜¯ CSS2.1 æå‡ºçš„æ‰€ä»¥è€çš„æµè§ˆå™¨ä¸æ”¯æŒï¼Œè€Œ link æ ‡ç­¾æ— æ­¤é—®é¢˜ å½“ä½¿ç”¨ javascript æ§åˆ¶ dom å»æ”¹å˜æ ·å¼çš„æ—¶å€™ï¼Œåªèƒ½ä½¿ç”¨ link æ ‡ç­¾ï¼Œå› ä¸º@import ä¸æ˜¯ dom å¯ä»¥æ§åˆ¶çš„ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:7","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"8. ä»€ä¹ˆæ˜¯å“åº”å¼è®¾è®¡ï¼Œå“åº”å¼è®¾è®¡çš„åŸºæœ¬åŸç†æ˜¯ä»€ä¹ˆ å“åº”å¼ç½‘ç«™è®¾è®¡æ˜¯ä¸€ä¸ªç½‘ç«™èƒ½å¤Ÿå…¼å®¹å¤šä¸ªç»ˆç«¯ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸€ä¸ªç»ˆç«¯åšä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬ã€‚åŸºæœ¬åŸç†æ˜¯é€šè¿‡åª’ä½“æŸ¥è¯¢æ£€æµ‹ä¸åŒçš„è®¾å¤‡å±å¹•å°ºå¯¸åšå¤„ç† ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:8","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"9. ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ– CSS æ ·å¼ å› ä¸ºæµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ï¼Œä¸åŒæµè§ˆå™¨å¯¹æœ‰äº›æ ‡ç­¾çš„é»˜è®¤å€¼æ˜¯ä¸åŒçš„ï¼Œå¦‚æœæ²¡å¯¹ CSS åˆå§‹åŒ–å¾€å¾€ä¼šå‡ºç°æµè§ˆå™¨ä¹‹é—´çš„é¡µé¢æ˜¾ç¤ºå·®å¼‚ åˆå§‹åŒ–æ ·å¼ä¼šå¯¹ SEO æœ‰ä¸€å®šçš„å½±å“ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:9","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"10. CSS3 æœ‰å“ªäº›æ–°ç‰¹æ€§ å®ç°åœ†è§’border-radiusï¼Œé˜´å½±box-shadowï¼Œè¾¹æ¡†å›¾ç‰‡border-image å¯¹æ–‡å­—åŠ ç‰¹æ•ˆtext-shadowï¼Œå¼ºåˆ¶æ–‡æœ¬æ¢è¡Œword-wrapï¼Œçº¿æ€§æ¸å˜linear-gradient å®ç°æ—‹è½¬transform:rotate(90deg), ç¼©æ”¾scale(0.85,0.90),translate(0px,-30px)å®šä½ï¼Œå€¾æ–œskew(-9deg,0deg); å¢åŠ äº†æ›´å¤šçš„ CSS é€‰æ‹©å™¨ã€å¤šèƒŒæ™¯ã€rgba() å”¯ä¸€å¼•å…¥çš„ä¼ªå…ƒç´ æ˜¯::selectionï¼› å®ç°åª’ä½“æŸ¥è¯¢@mediaï¼Œå¤šæ å¸ƒå±€flex è¿‡æ¸¡transition åŠ¨ç”»animation ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:10","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"11. ::before å’Œ :after ä¸­åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè§£é‡Šä¸€ä¸‹è¿™ 2 ä¸ªä¼ªå…ƒç´ çš„ä½œç”¨ å•å†’å· (:) ç”¨äº CSS3 ä¼ªç±»ï¼ŒåŒå†’å· (::) ç”¨äº CSS3 ä¼ªå…ƒç´ ã€‚ï¼ˆä¼ªå…ƒç´ ç”±åŒå†’å·å’Œä¼ªå…ƒç´ åç§°ç»„æˆï¼‰, åŒå†’å·æ˜¯åœ¨å½“å‰è§„èŒƒä¸­å¼•å…¥çš„ï¼Œç”¨äºåŒºåˆ†ä¼ªç±»å’Œä¼ªå…ƒç´  ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:11","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"12. CSS ä¼˜åŒ–ã€æé«˜æ€§èƒ½çš„æ–¹æ³•æœ‰å“ªäº› ç§»é™¤ç©ºçš„ css è§„åˆ™ï¼ˆRemove empty rulesï¼‰ æ­£ç¡®ä½¿ç”¨ display çš„å±æ€§ ä¸æ»¥ç”¨æµ®åŠ¨ã€web å­—ä½“ ä¸å£°æ˜è¿‡å¤šçš„ font-size ä¸åœ¨é€‰æ‹©ç¬¦ä¸­ä½¿ç”¨ ID æ ‡è¯†ç¬¦ éµå®ˆç›’æ¨¡å‹è§„åˆ™ å°½é‡å‡å°‘é¡µé¢é‡æ’ã€é‡ç»˜ æŠ½è±¡æå–å…¬å…±æ ·å¼ï¼Œå‡å°‘ä»£ç é‡ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:12","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"13. é‡ç»˜å’Œå›æµ é‡ç»˜å’Œå›æµ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:13","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"14. flex å¸ƒå±€ flex å¸ƒå±€æ•™ç¨‹â€“é˜®ä¸€å³° ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:14","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["Memo"],"content":"15. css é¢„å¤„ç†å™¨ æä¾›äº†ä¸€ç§ css çš„ä¹¦å†™æ–¹å¼ï¼Œå¸¸è§çš„å°±æ˜¯ SAAS æ–‡æ¡£ å’Œ LESS æ–‡æ¡£ ","date":"2019-03-30","objectID":"/posts/ms-html-css/:2:15","tags":["HTML","CSS"],"title":"å‰ç«¯é¢è¯•é¢˜ - HTML+CSS","uri":"/posts/ms-html-css/"},{"categories":["ACM"],"content":" æˆ‘å›½å¤ä»£æ•°å­¦å®¶å¼ ä¸˜å»ºåœ¨ã€Šç®—ç»ã€‹ä¸€ä¹¦ä¸­æå‡ºçš„æ•°å­¦é—®é¢˜ï¼šé¸¡ç¿ä¸€å€¼é’±äº”ï¼Œé¸¡æ¯ä¸€å€¼é’±ä¸‰ï¼Œé¸¡é›ä¸‰å€¼é’±ä¸€ã€‚ç™¾é’±ä¹°ç™¾é¸¡ï¼Œé—®é¸¡ç¿ã€é¸¡æ¯ã€é¸¡é›å„å‡ ä½•ï¼Ÿ è®¾å…¬é¸¡ï¼Œæ¯é¸¡ï¼Œå°é¸¡æ•°ç›®åˆ†åˆ«ä¸º x,y,z(x\u003c=20,y\u003c=33,z\u003c=100) ","date":"2019-03-30","objectID":"/posts/bqbj/:0:0","tags":["ACM"],"title":"ç™¾é’±ç™¾é¸¡ï¼ˆæšä¸¾æ³•ï¼‰","uri":"/posts/bqbj/"},{"categories":["ACM"],"content":"çº¦æŸæ¡ä»¶ x+y+z=100 5x+3y+z/3=100 ","date":"2019-03-30","objectID":"/posts/bqbj/:1:0","tags":["ACM"],"title":"ç™¾é’±ç™¾é¸¡ï¼ˆæšä¸¾æ³•ï¼‰","uri":"/posts/bqbj/"},{"categories":["ACM"],"content":"ç®—æ³•åˆ†æ è‹¥ä¾æ¬¡æšä¸¾ x,y,x, åˆ™è‡³å°‘å°è¯• 21*34*100=71400 æ¬¡ï¼Œæ˜¾ç„¶æ•ˆç‡å¤ªä½ã€‚ åœ¨ x,y çš„æ•°ç›®ç¡®å®šåï¼Œz çš„æ•°ç›®ä¹Ÿå°±ç¡®å®šä¸‹æ¥äº† 100-x-yï¼Œæ— é¡»å†è¿›è¡Œæšä¸¾ï¼Œæ­¤æ—¶çº¦æŸæ¡ä»¶åªæœ‰ä¸€ä¸ª 5x+3y+z/3=100. åªéœ€æšä¸¾ x,yï¼Œå…± 21*34=714 æ¬¡ã€‚ ","date":"2019-03-30","objectID":"/posts/bqbj/:2:0","tags":["ACM"],"title":"ç™¾é’±ç™¾é¸¡ï¼ˆæšä¸¾æ³•ï¼‰","uri":"/posts/bqbj/"},{"categories":["ACM"],"content":"ç®—æ³•è®¾è®¡ #include\u003cstdio.h\u003e int main(){ int x,y,z; for(x=0;x\u003c=20;x++) //21*34=714 for(y=0;y\u003c=33;y++){ z=100-y-x; if(z%3==0 \u0026\u0026 (5*x+3*y+z/3)==100){//é™å®š z èƒ½è¢« 3 æ•´é™¤ï¼Œè¿›ä¸€æ­¥æé«˜æ•ˆç‡ printf(\"cock number:%d\\t\",x); printf(\"hen number:%d\\t\",y); printf(\"chick number:%d\\n\",z); } } return 0; } è¿è¡Œè§£ cock number:0 hen number:25 chick number:75 cock number:4 hen number:18 chick number:78 cock number:8 hen number:11 chick number:81 cock number:12 hen number:4 chick number:84 ","date":"2019-03-30","objectID":"/posts/bqbj/:3:0","tags":["ACM"],"title":"ç™¾é’±ç™¾é¸¡ï¼ˆæšä¸¾æ³•ï¼‰","uri":"/posts/bqbj/"},{"categories":["ACM"],"content":" å¤§æ•°ä¹˜æ³• c ç‰ˆ(åŸºç¡€å†™æ³•) #include\u003cstdio.h\u003e #include\u003cstring.h\u003e #define N 202 int main() { int a[N] = {0}, b[N] = {0}, c[404] = {0}, la, lb, i, j,k, d = 0, n1, n2;//202ä½æ•°ç›¸ä¹˜ï¼Œæœ€é•¿404ä½æ•° int get(int *p); void change(int *a, int *b, int n); la = get(a); lb = get(b); n1 = la \u003e lb ? la : lb;//è¾ƒé•¿çš„æ•°é•¿ n2 = la \u003c lb ? la : lb;//è¾ƒçŸ­çš„æ•°é•¿ if (la \u003c lb) change(a, b, lb); //æ¨¡æ‹Ÿä¹˜æ³•è¿ç®—è¿‡ç¨‹ï¼ˆè¿›ä½ç­‰è€ƒè™‘ï¼‰ for (i = 0; i \u003c n2; i++) { for (j = 0; j \u003c n1; j++) { c[j + i] += (b[i] * a[j] + d)%10; d = (b[i] * a[j] + d) / 10; if (c[j+i]\u003e9){ d++; c[j+i]%=10; } if (a[j+1]==0\u0026\u0026d!=0){ k=j+i+1; c[k]=d; } } d=0; } k=k\u003e(j+i-2)?k:j+i-2; for (i = k; i \u003e= 0; i--)//å°†å€’åºè£…å…¥çš„ç»“æœæ‰“å° printf(\"%d\", c[i]); return 0; } //è¾“å…¥å­—ç¬¦ä¸²ä½œä¸ºæ•°å­—ï¼Œå¹¶è¿”å›æ•°å­—å»é™¤å‰å¯¼0åçš„é•¿åº¦ int get(int *p) { char x[N]; int l, i, ex = 0; scanf(\"%s\", x); l = strlen(x); while (x[ex] == '0') ex++; for (i = ex; i \u003c l; i++) //æå–å­—ç¬¦ä¸²æ•°å­—åˆ°intæ•°ç»„ï¼Œå€’åºæ’åˆ— *(p + l - i - 1) = x[i] - '0'; return l - ex; } void change(int *a, int *b, int n) { int i, t; for (i = 0; i \u003c n; i++) { t = a[i]; a[i] = b[i]; b[i] = t; } } ç¨‹åºè¿è¡Œç»“æœ 1234567890123456789 98765432109876543210 121932631124517831023715309991126352690 ","date":"2019-03-28","objectID":"/posts/dacheng/:0:0","tags":["æ•°å­¦","å¤§æ•°è¿ç®—","ACM","C"],"title":"å¤§æ•°ä¹˜æ³•","uri":"/posts/dacheng/"},{"categories":["Grocery"],"content":" è®°å½•è‡ªå·±åœ¨é…ç½® vps åŠåšå®¢ SSL è¯ä¹¦æ—¶é‡åˆ°çš„é—®é¢˜ã€‚ ","date":"2019-03-28","objectID":"/posts/http2https/:0:0","tags":["SSL","redirect","CDN","JavaScript","server"],"title":"vps é…ç½® ssl åŠ https é‡å®šå‘","uri":"/posts/http2https/"},{"categories":["Grocery"],"content":"å¼ºåˆ¶é‡å®šå‘ https æœ‰ä¸€ç§æƒ…å†µç›¸ä¿¡å¾ˆå¤šäººéƒ½é‡åˆ°è¿‡ï¼Œå°±æ˜¯è™½ç„¶æˆ‘ä»¬é…ç½®äº† ssl è¯ä¹¦ï¼Œä½†æ˜¯ https å’Œ http åœ°å€éƒ½æ˜¯å„è‡ªéƒ½å¯ä»¥å•ç‹¬è®¿é—®ã€‚æˆ‘ä»¬åº”è¯¥ä¹Ÿè§è¿‡ç±»ä¼¼äº github çš„ä»£ç æ‰˜ç®¡ç½‘ç«™æœ‰å¼ºåˆ¶ https çš„å¼€å…³ã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ js è¿›è¡Œ 301 å®šå‘ã€‚ \u003cscript\u003e var targetProtocol = \"https:\"; var host = \"lruihao.cn\"; if (window.location.host == host \u0026\u0026 window.location.protocol != targetProtocol){ window.location.href = targetProtocol + window.location.href.substring(window.location.protocol.length); } \u003c/script\u003e ","date":"2019-03-28","objectID":"/posts/http2https/:1:0","tags":["SSL","redirect","CDN","JavaScript","server"],"title":"vps é…ç½® ssl åŠ https é‡å®šå‘","uri":"/posts/http2https/"},{"categories":["Grocery"],"content":"è…¾è®¯äº‘ CDN é…ç½® è¿™ä¸ªåšå®¢åæ¥æ˜¯è½¬åˆ°äº†è…¾è®¯äº‘çš„ cos æ¡¶å­˜å‚¨ã€‚å½“æ—¶åœ¨æ¡¶å†…é™æ€ç½‘ç«™è®¾ç½®çš„æ—¶å€™ï¼Œè®¾ç½®å¼ºåˆ¶ https å‘ç°ä¼šå‡ºé”™ã€‚è€Œä¸”è¿˜æ¥å…¥äº† CDNï¼Œæ‰€ä»¥ä»Šå¤©åœ¨ CDN è®¾ç½®é‚£é‡Œä¹Ÿçœ‹åˆ°äº† https çš„è®¾ç½®ï¼Œæ‰“å¼€å¼ºåˆ¶ https å°± OK äº†ã€‚è¿™å¤©åœ¨ä¸‰ä¸°äº‘æ’¸äº†ä¸€ä¸ªå…è´¹çš„ä¸»æœºï¼Œæ­äº†ä¸€ä¸ª WordPressï¼ˆæƒ³è¯•è¯• wp çš„æ„Ÿè§‰ï¼‰ï¼Œç„¶å vps çš„ SSL é—®é¢˜ç°åœ¨ä¹Ÿå¾ˆç®€å•äº†ï¼Œç¬¬ä¸€æ­¥ï¼Œåˆ°è…¾è®¯äº‘ç”³è¯·å…è´¹è¯ä¹¦ï¼›ç¬¬äºŒæ­¥ï¼Œé…ç½® CDNï¼ŒæŒ‰æ­¥éª¤æ¥ï¼Œå…¶ä¸­æ¥å…¥æ–¹å¼é€‰æ‹©è‡ªæœ‰æºç«™ï¼›ç¬¬ä¸‰æ­¥ï¼Œå¼ºåˆ¶ httpsï¼ˆå¯é€‰ï¼‰ã€‚ ","date":"2019-03-28","objectID":"/posts/http2https/:2:0","tags":["SSL","redirect","CDN","JavaScript","server"],"title":"vps é…ç½® ssl åŠ https é‡å®šå‘","uri":"/posts/http2https/"},{"categories":["Memo"],"content":"åŸºäº hexo-theme-next 6.0+çš„ Pisces æ¨¡æ¿åšçš„ DIY æ‰©å±•æ€§è®¾è®¡","date":"2019-03-21","objectID":"/posts/hexo-theme-next/","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":" å±é™© å¦‚æ— å¿…è¦ï¼Œä¸å†æ›´æ–°ï¼ï¼ˆ2019.09.13ï¼‰ ä»Šæ™šæˆ‘åšå‡ºäº†ä¸€ä¸ªæ…é‡çš„å†³å®šï¼Œç”±äºåšä¸»æ—¶é—´ç²¾åŠ›æœ‰é™ï¼Œéœ€è¦æ›´å¤šçš„æ—¶é—´æ¥å·¥ä½œå’Œå­¦ä¹ ã€‚æ‰€ä»¥æˆ‘å°†æ”¾å¼ƒå¯¹ next çš„ä¸»é¢˜çš„è‡ªå®šä¹‰ä¿®æ”¹ï¼Œnext ä¸»é¢˜å®˜æ–¹å·²ç»æ›´æ–°åˆ°äº† 7.0+çš„ç‰ˆæœ¬ï¼Œå–œæ¬¢ next ä¸»é¢˜é£æ ¼çš„æœ‹å‹å¯ä»¥åœ¨ github æ›´æ–°ã€‚ æˆ‘è¿™ä¹Ÿç®—æ˜¯ä¸Šå¤ç‰ˆæœ¬äº†ï¼Œç‰ˆæœ¬å·®è·å®åœ¨è¿‡å¤§ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå°†æ”¾å¼ƒåšå®¢ä½¿ç”¨ä¸»é¢˜çš„æ›´æ–°ã€‚ ä»¥ä¸‹ä»ä¸ºå½“å‰åšå®¢ä½¿ç”¨ä¸»é¢˜ï¼Œlib èµ„æºå·²æ‰“åŒ… githubã€‚ next åŸºäº hexo-theme-next 6.0+ çš„ Pisces æ¨¡æ¿åšçš„ DIY æ‰©å±•æ€§è®¾è®¡ï¼ˆéƒ¨åˆ†å…¼å®¹ next å…¶ä»–å‡ ç§æ¨¡æ¿ï¼‰ã€‚ä¸»è¦æ˜¯ä¸€äº› custom style è¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹çš„ jsã€‚ä¿®æ”¹çš„åœ°æ–¹å¤ªå¤šä¹Ÿæœ‰ç‚¹å°ä¹±å°±ä¸æ PR äº†ã€‚ modifiedâ€ƒå®˜æ–¹ Demo =\u003e https://theme-next.org è®°å½•ä¸€ä¸‹æŠ˜è…¾è¿‡ç¨‹ï¼Œä»¥åå¤‡ä»½æ¢å¤åšå®¢ä¹Ÿå¥½æ–¹ä¾¿è‡ªå·±ã€‚æœ¬æ–‡ä¹‹å‰çš„ç¾åŒ–ä¿®æ”¹è¯·è§ hexo æ ‡ç­¾ã€‚ ä¸»é¢˜ä¸­è‹¥æœ‰é—æ¼ç¬¬ä¸‰æ–¹æ’ä»¶æˆ–åº”ç”¨çš„ key åŠ id å€¼ç­‰è¯·ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”çš„å€¼ ä¸»è¦çš„å‡ ä¸ªè‡ªå®šä¹‰æ–‡ä»¶ _config.swig #ä¸»é¢˜é…ç½®æ–‡ä»¶ ç›¸å…³è´¦æˆ·ä¿¡æ¯è‡ªå·±æ³¨å†Œæ›¿æ¢ \\layout\\custom\\head.swig #åœ¨å¤´éƒ¨è‡ªå®šä¹‰åŠ å…¥æ ‡ç­¾ \\layout\\custom\\google_adsense.swig #è°·æ­Œå¹¿å‘Šæ¨¡å—ï¼Œå†…æœ‰æ³¨é‡Šæš‚æ—¶å¼ƒç”¨ \\layout\\_layout.swig #ä¸»å¸ƒå±€ \\layout\\_macro\\post.swig #æ–‡ç« å¸ƒå±€ \\layout\\_macro\\post-copyright.swig #æ–‡ç« ç‰ˆæƒ \\layout\\_macro\\siderbar.swig #ä¾§æ æ¨¡æ¿ \\layout\\_third-party\\copy-code.swig #å¤åˆ¶æŒ‰é’® \\layout\\_partials\\comments.swig #è¯„è®ºä¸»æ¨¡æ¿ \\layout\\_partials\\footer.swig #åº•éƒ¨æ¨¡æ¿#è¯¥æ¨¡å—åœ¨ layout.swig å¼•å…¥ï¼Œç”¨äºåœ¨ body è‡ªå®šä¹‰æ ‡ç­¾ \\layout\\_partials\\footer_custom.swig #footer è‡ªå®šä¹‰æ–‡ä»¶ \\layout\\_third-party\\custom.swig #è¯¥æ¨¡å—åœ¨ layout.swig å¼•å…¥ç”¨äºåœ¨ body è‡ªå®šä¹‰æ ‡ç­¾ \\source\\css\\_custom\\customs.styl #ä¸»è¦ç”¨æˆ·è‡ªå®šä¹‰æ ·å¼è¡¨ \\source\\fonts\\ #å¼•å…¥äº†ä¸€äº›æˆ‘çš„æ‰‹å†™ä½“åŠå¤–éƒ¨å­—ä½“ \\scripts\\qcloudcdn.js #è…¾è®¯äº‘ cos æ¡¶åˆ·æ–°ç¼“å­˜çš„è„šæœ¬ï¼Œä¸éœ€è¦å¯åˆ æ‰ [^1] ^1 ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:0:0","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"åˆæ­¥å®‰è£… å®‰è£…æ•´ä¸ªæ”¹è¿‡çš„ä¸»é¢˜ï¼Œç„¶åä¸‹è½½ç›¸åº”çš„ lib èµ„æºè§£å‹æ”¾å…¥ source æ–‡ä»¶å¤¹ cd hexo git clone https://github.com/Lruihao/hexo-theme-next themes/next ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml, é€‰æ‹©ä¸»é¢˜ theme: next lib ä¸‹è½½ http://github.com/Lruihao/hexo-theme-next/releases/tag/v6.9.1 ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:1:0","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"æ›´æ–°å†…å®¹ æ›´å¤šè‡ªå®šä¹‰è¯¦è§æºç  ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:0","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"links æ¨¡æ¿ è‡ªå®šä¹‰å‹é“¾æ¨¡æ¿ï¼Œæ‰“å¼€hexo\\themes\\next\\layout\\æ–°å»ºlinks.swigæ–‡ä»¶ï¼Œå†™ä¸‹ä»¥ä¸‹å†…å®¹åä¿å­˜ã€‚ {% extends '_layout.swig' %} {% import '_macro/sidebar.swig' as sidebar_template %} {% block title %}{# #}{% set page_title_suffix = ' | ' + title %}{# #}{% if page.type === \"categories\" and not page.title %}{# #}{{ __('title.category') + page_title_suffix }}{# #}{% elif page.type === \"tags\" and not page.title %}{# #}{{ __('title.tag') + page_title_suffix }}{# #}{% elif page.type === \"photos\" and not page.title %}{# #}{{ __('title.photos') + page_title_suffix }}{# #}{% else %}{# #}{{ page.title + page_title_suffix }}{# #}{% endif %}{# #}{% endblock %} {% block page_class %}page-post-detail{% endblock %} {% block content %} \u003cdiv id=\"posts\" class=\"posts-expand\"\u003e {##################} {#### PAGE BLOCK ###} {##################} \u003cdiv class=\"post-block page\"\u003e {% include '_partials/page-header.swig' %} {#################} {#### PAGE BODY ###} {#################} \u003cscript src=\"//at.alicdn.com/t/font_578712_g26jo2kbzd5qm2t9.js\"\u003e\u003c/script\u003e \u003cdiv class=\"post-body{% if theme.han %} han-init-context{% endif %}{% if page.direction \u0026\u0026 page.direction.toLowerCase() === 'rtl' %} rtl{% endif %}\"\u003e \u003cdiv class=\"links-list\"\u003e {% for svg,link in site.data.links %} \u003cdiv class=\"card-box\" title=\"{{ link.info }}\"\u003e \u003ca href=\"{{ link.site }}\" target=\"_blank\"\u003e {% if link.avatar %} \u003cimg class=\"card-avatar\" data-original=\"{{ link.avatar }}\" alt=\"{{ link.nickname }}\"/\u003e {% else %} \u003csvg class=\"card-avatar\" aria-hidden=\"true\"\u003e \u003cuse xlink:href=\"#icon-{{svg+1}}\"\u003e\u003c/use\u003e \u003c/svg\u003e {% endif %} \u003cspan title=\"{{ link.nickname }}\"\u003e@{{ link.nickname }}\u003c/span\u003e \u003c/a\u003e \u003c/div\u003e {% endfor %} \u003c/div\u003e {{ page.content }} \u003c/div\u003e \u003cstyle\u003e /* @Author: lruihao.cn */ .links-list { margin-top: 1rem; display: flex; flex-direction: row; justify-content: space-between; flex-wrap: wrap; } .card-box { width: 150px; height: 200px; font-size: 1rem; text-align: center; background: rgba(255,255,255,0.3); box-sizing: border-box; box-shadow: 3px 3px 5px #aaa; border-radius: 5px; transition-duration: 0.3s; margin-bottom: 1rem; display: flex; flex-direction: column; } .card-box:hover { background: #fff; transform: scale(1.03); box-shadow: 0 0 3px #aaa; } .card-box a { border:none; } .card-avatar { width: 100%!important; height: 150px!important; border-radius: 5px; margin: 0; padding: 0; } .card-box span{ display: block; position: relative; bottom: 1rem; align-self: flex-end; color: #2bbc8a; font-weight: bold; max-width: 100%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; margin-top: 15px; } .card-box span:hover { color: #d480aa; } \u003c/style\u003e {#####################} {#### END PAGE BODY ###} {#####################} \u003c/div\u003e {% include '_partials/breadcrumb.swig' %} {######################} {#### END PAGE BLOCK ###} {######################} \u003c/div\u003e {% endblock %} {% block sidebar %} {{ sidebar_template.render(false) }} {% endblock %} {% block script_extra %} {% include '_scripts/pages/post-details.swig' %} {% endblock %} è‹¥æœªä½¿ç”¨æ‡’åŠ è½½è¯·å°†æ¨¡æ¿ä¸­çš„data-originalå±æ€§æ”¹ä¸ºsrc è‹¥æ‡’åŠ è½½æ— æ³•åŠ è½½é¢„è§ˆå›¾è¯·æ‰‹åŠ¨æ·»åŠ src=\"/images/loading.gif\" è‹¥ fancybox æ˜¾ç¤º alt å†…å®¹è¯·æ›´æ¢ fancybox2 æˆ–è€…å°† alt å±å€¼åˆ é™¤ \u003cimg class=\"card-avatar\" data-original=\"{{ link.avatar }}\" alt=\"{{ link.nickname }}\"/\u003e ç„¶åhexo n page linksæ–°å»ºä¸€ä¸ªé¡µé¢æ–‡ç« é…ç½®å†™ä¸‹å¦‚ä¸‹å†…å®¹ï¼š --- title: å‹æƒ…é“¾æ¥ layout: links --- ç„¶ååœ¨linksé¡µé¢æ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºæ–‡ä»¶å¤¹_dataï¼Œå†åœ¨é‡Œé¢æ–°å»ºlinks.ymlï¼Œå†…å®¹å¦‚ä¸‹ - nickname: åšæ¡çœ¾é•· avatar: http://lruihao.cn/images/avatar.png site: http://lruihao.cn info: ä¸€ä¸ªèœé¸Ÿçš„åšå®¢ - nickname: #å‹é“¾åç§° avatar: #å‹é“¾å¤´åƒ site: #å‹é“¾åœ°å€ info: #å‹é“¾è¯´æ˜ ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:1","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"å¤‡æ¡ˆä¿¡æ¯è‡ªå®šä¹‰ ## ------------------------------------------------------------- ## footer_custom Settings ## ------------------------------------------------------------- beian: enable: true gov: æ¹˜å…¬ç½‘å®‰å¤‡ 43030402000254 å· recordcode: 43030402000254 icp: æ¹˜ ICP å¤‡ 18020535 å· ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:2","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"æ–‡å­—æŠ–åŠ¨ç‰¹æ•ˆ \u003cdiv class=\"shaky\"\u003eï¼ˆã¥â—'â—¡'â—) ã¥ â¥å†…å®¹åŒº\u003c/div\u003e ï¼ˆã¥â—'â—¡'â—) ã¥ â¥å†…å®¹åŒº ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:3","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"å·¦ä¸‹è§’å¾®ä¿¡å…¬ä¼—å· \\source\\css\\_custom\\customs.styl ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:4","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"ç›¸å…³æ–‡ç« æ”¶çº³ åŠ å…¥ H5 æ ‡ç­¾ï¼Œå®ç°å¯æ”¶çº³åŠŸèƒ½ï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ã€‚ ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:5","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"Chat Services å…± chatra,tidio,daovoice ä¸‰ä¸ªé€‰é¡¹ï¼Œä¸‰é€‰ä¸€ ## Chatra Support ## See: https://chatra.io ## Dashboard: https://app.chatra.io/settings/general chatra: enable: false async: true id: ## visit Dashboard to get your ChatraID #embed: ## unfinished experimental feature for developers, See: https://chatra.io/help/api/#injectto ## Tidio Support ## See: https://www.tidiochat.com ## Dashboard: https://www.tidiochat.com/panel/dashboard tidio: enable: false key: ## Public Key, get it from Dashboard, See: https://www.tidiochat.com/panel/settings/developer #åœ¨çº¿å®¢æœ daovoice: true daovoice_app_id: xxxx ## http://www.daovoice.io/ ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:6","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"pdf å’Œ Mermaid è§£ææ¨¡å— pdf ä¼ é€é—¨ pdf: enable: false ## Default height height: 500px pdfobject: cdn: //cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js #cdn: //cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js ## Mermaid tag mermaid: enable: false ## Available themes: default | dark | forest | neutral theme: forest cdn: //cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js #cdn: //cdnjs.cloudflare.com/ajax/libs/mermaid/8.0.0/mermaid.min.js ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:7","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"æ¨¡ä»¿ csdn è½¬å‘æ ·å¼ ... \u003ca class=\"post-title-link\" href=\"{{ url_for(post.path) }}\" itemprop=\"url\"\u003e + {% if post.repost %} + \u003cspan class=\"repost\"\u003eè½¬\u003c/span\u003e + {% endif %} {{ post.title | default(__('post.untitled'))}} \u003c/a\u003e {% else -%} + {% if post.repost %} + \u003cspan class=\"repost\"\u003eè½¬\u003c/span\u003e + {% endif %} {{- post.title -}} ... .repost { color: #5acc79; border: 1px solid #e7f4df; border-radius: 20px; padding: 2px 5px; font-size: 15px; font-weight: 500; } --- title: xxxx repost: true --- é¢„è§ˆ ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:8","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"çƒ­åº¦é¡µé¢ æ‰“å¼€hexo\\themes\\next\\layoutæ–°å»º top.swig æ–‡ä»¶ï¼Œå†™ä¸‹å¦‚ä¸‹å†…å®¹ä¿å­˜ï¼š {% extends '_layout.swig' %} {% import '_macro/sidebar.swig' as sidebar_template %} {% block title %}{# #}{% set page_title_suffix = ' | ' + title %}{# #}{% if page.type === \"categories\" and not page.title %}{# #}{{ __('title.category') + page_title_suffix }}{# #}{% elif page.type === \"tags\" and not page.title %}{# #}{{ __('title.tag') + page_title_suffix }}{# #}{% elif page.type === \"photos\" and not page.title %}{# #}{{ __('title.photos') + page_title_suffix }}{# #}{% else %}{# #}{{ page.title + page_title_suffix }}{# #}{% endif %}{# #}{% endblock %} {% block page_class %}page-post-detail{% endblock %} {% block content %} \u003cdiv id=\"posts\" class=\"posts-expand\"\u003e {##################} {#### PAGE BLOCK ###} {##################} \u003cdiv class=\"post-block page\"\u003e {% include '_partials/page-header.swig' %} {#################} {#### PAGE BODY ###} {#################} \u003cdiv class=\"post-body{% if theme.han %} han-init-context{% endif %}{% if page.direction \u0026\u0026 page.direction.toLowerCase() === 'rtl' %} rtl{% endif %}\"\u003e {{ page.content }} \u003cdiv id=\"top\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cstyle\u003e #top{ display: flex; flex-direction: row; justify-content: space-between; flex-wrap: wrap; width: 100%; min-height: calc({{ page.limit }} * 20px); } #top div{ width: 400px; height: 40px; max-width: 400px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } #top a{ color: #555; text-decoration: none; outline: 0; border-bottom: 1px solid #999; word-wrap: break-word; } \u003c/style\u003e \u003cscript src=\"https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js\"\u003e\u003c/script\u003e \u003cscript\u003eAV.initialize(\"{{ theme.valine.appid }}\", \"{{ theme.valine.appkey }}\");\u003c/script\u003e \u003cscript type=\"text/javascript\"\u003e setTimeout(function(){ var time=0 var title=\"\" var url=\"\" var query = new AV.Query('Counter'); query.notEqualTo('id',0); query.descending('time'); query.limit({{ page.limit }}); //è®¾ç½®ç¯‡æ•° query.find().then(function (todo) { for (var i=0;i\u003c{{ page.limit }};i++){ var result=todo[i].attributes; time=result.time; title=result.title; category=result.categories url=result.url; var content=\"\u003cdiv\u003e\"+\"ã€æ–‡ç« çƒ­åº¦ï¼š\"+time+\"â„ƒã€‘\"+\"\u003ca href='\"+\"{{ config.url }}\"+\"\"+url+\"'\u003e\"+title+\"\u003c/a\u003e\"+\"\u003c/div\u003e\"; document.getElementById(\"top\").innerHTML+=content; } }, function (error) { console.log(\"error\"); }); },1000) \u003c/script\u003e {#####################} {#### END PAGE BODY ###} {#####################} \u003c/div\u003e {% include '_partials/breadcrumb.swig' %} {######################} {#### END PAGE BLOCK ###} {######################} \u003c/div\u003e {% endblock %} {% block sidebar %} {{ sidebar_template.render(false) }} {% endblock %} {% block script_extra %} {% include '_scripts/pages/post-details.swig' %} {% endblock %} å…¶ä¸­ç¬¬ 36 è¡Œæ”¹æˆä½ è‡ªå·±çš„ leancloud çš„ appid å’Œ appkey, æ¯”å¦‚æˆ‘çš„æ˜¯åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œé¢çš„ valine é…ç½®ä¸‹ï¼Œæ‰€ä»¥æˆ‘å°±å†™æˆtheme.valine.appidã€‚å’Œæˆ‘ä¸€æ ·å°±ä¸éœ€è¦ä¿®æ”¹ï¼Œå…¶ä»–è‡ªè¡Œé…ç½®ã€‚ ç„¶åhexo n page topæ–°å»ºä¸€ä¸ªé¡µé¢æ–‡ç« é…ç½®å†™ä¸‹å¦‚ä¸‹å†…å®¹ï¼Œlimit è¡¨ç¤ºæ˜¾ç¤ºç¯‡æ•°ï¼š --- title: çƒ­åº¦ layout: top limit: 20 --- ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:9","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Memo"],"content":"å¤åˆ¶æŒ‰é’®æ ·å¼ æœ¬æ¥åªæƒ³ç®€å•ç¾åŒ–ä¸€ä¸‹å˜æˆ night æ ·å¼çš„ï¼Œåæ¥å†™å®Œå‘ç° 3dbtn ä¹ŸæŒºå–œæ¬¢çš„ã€‚ codeblock: ## Manual define the border radius in codeblock ## Leave it empty for the default 1 border_radius: 5 ## Add copy button on codeblock copy_button: enable: true ## Show text copy result show_result: true ## Style: 'light,night,flat,3dbtn' is currently available, leave it empty or light is default theme style: night ","date":"2019-03-21","objectID":"/posts/hexo-theme-next/:2:10","tags":["hexo"],"title":"hexo-theme-next @modified LRH","uri":"/posts/hexo-theme-next/"},{"categories":["Java"],"content":" æ‘˜è¦ï¼šJava åŸºæœ¬çš„å¯¹è±¡åˆå§‹åŒ–è¿‡ç¨‹ï¼Œå­ç±»çš„åˆå§‹åŒ–ï¼Œä»¥åŠæ¶‰åŠåˆ°çˆ¶ç±»å’Œå­ç±»çš„è½¬åŒ–æ—¶å¯èƒ½å¼•èµ·æ··ä¹±çš„æƒ…å†µã€‚ ","date":"2019-03-21","objectID":"/posts/substatus/:0:0","tags":["Java"],"title":"Java çˆ¶ç±»å­ç±»çš„å¯¹è±¡åˆå§‹åŒ–è¿‡ç¨‹","uri":"/posts/substatus/"},{"categories":["Java"],"content":"åŸºæœ¬åˆå§‹åŒ–è¿‡ç¨‹ å¯¹äºä¸€ä¸ªç®€å•ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹æ˜¯ï¼š static ä¿®é¥°çš„æ¨¡å—ï¼ˆstatic å˜é‡å’Œ static å—ï¼‰ =\u003e æŒ‰ç…§ä»£ç é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚ â†“ å®ä¾‹å˜é‡ åŠé static æ¨¡å— =\u003e æŒ‰ç…§ä»£ç é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚ â†“ æ„é€ å‡½æ•° =\u003e æ‰§è¡Œå¯¹åº”çš„æ„é€ å‡½æ•°ã€‚ ","date":"2019-03-21","objectID":"/posts/substatus/:1:0","tags":["Java"],"title":"Java çˆ¶ç±»å­ç±»çš„å¯¹è±¡åˆå§‹åŒ–è¿‡ç¨‹","uri":"/posts/substatus/"},{"categories":["Java"],"content":"å­ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ çˆ¶ç±» static ä¿®é¥°çš„æ¨¡å— â†“ å­ç±» static ä¿®é¥°æ¨¡å— â†“ çˆ¶ç±»å®ä¾‹å˜é‡å’Œé static å— â†“ çˆ¶ç±»å¯¹åº”æ„é€ å‡½æ•°ã€‚å½“å­ç±»å¯¹åº”æ„é€ å‡½æ•°ä¸­æ²¡æœ‰æ˜¾ç¤ºè°ƒç”¨æ—¶è°ƒç”¨çš„æ˜¯çˆ¶ç±»é»˜è®¤çš„æ„é€ å‡½æ•°ã€‚ â†“ å­ç±»å®ä¾‹å˜é‡å’Œé static å— â†“ å­ç±»æ„é€ å‡½æ•° package code0507; public class Demo { public static void main(String[] args) { Sub sub = new Sub(); System.out.println(sub); } } class Super { int a = 6; public Super() { test(); //è¢«å­ç±»åŒåå‡½æ•°è¦†ç›–ï¼Œä¼˜å…ˆè®¿é—®å­ç±» test } int b=9; public void test() { System.out.println(a); } } class Sub extends Super { int a = 8; public Sub() { test(); } public void test() { System.out.println(a); } } è¿è¡Œç»“æœ 0 8 ","date":"2019-03-21","objectID":"/posts/substatus/:2:0","tags":["Java"],"title":"Java çˆ¶ç±»å­ç±»çš„å¯¹è±¡åˆå§‹åŒ–è¿‡ç¨‹","uri":"/posts/substatus/"},{"categories":["OS"],"content":" åŒç³»ç»Ÿé»˜è®¤å¯åŠ¨é¡¹æ˜¯ Ubuntuï¼Œè€Œæ—¥å¸¸ä½¿ç”¨æœ€å¤šçš„è¿˜æ˜¯ Windowsï¼Œæ‰€ä»¥è¯´å¾ˆä¸æ–¹ä¾¿ï¼Œä¸€ä¸å°å¿ƒå°±å¼€æœºåˆ° Ubuntu å»äº†ã€‚ä»Šå¤©æ¥è®¾ç½®ä¸€ä¸‹ã€‚ ","date":"2019-03-21","objectID":"/posts/windefault/:0:0","tags":["linux","windows","ubuntu"],"title":"ubuntu + windows åŒç³»ç»Ÿé»˜è®¤å¯åŠ¨é¡¹è®¾ç½®","uri":"/posts/windefault/"},{"categories":["OS"],"content":"ä¿®æ”¹/etc/default/grubæ–‡ä»¶ åŒæ—¶æŒ‰ä½é”®ç›˜ä¸Šçš„â€œCtrl Alt Tâ€ä¸‰ä¸ªé”®ï¼ˆå³å¿«æ·é”®â€œCtrl+Alt+Tâ€ï¼‰ï¼Œæ‰“å¼€ç»ˆç«¯çª—å£ã€‚åœ¨ç»ˆç«¯å†…è¾“å…¥ sudo gedit /etc/default/grub æŒ‰ Enter é”®ç¡®è®¤ï¼Œæç¤ºè¾“å…¥ç”¨æˆ·å¯†ç ï¼Œè¾“å…¥çš„ç”¨æˆ·å¯†ç æ˜¯çœ‹ä¸è§çš„ï¼Œä¸è¦ç®¡å®ƒï¼Œè¾“å…¥å®Œæˆç¡®è®¤å³å¯æ‰“å¼€ grub æ–‡ä»¶ã€‚ æŠŠ grub æ–‡ä»¶ä¸­çš„ GRUB_DEFAULT=0 ä¸­çš„ 0 æ”¹ä¸º saved, æŠŠ GRUB_TIMEOUT=10 ä¸­çš„ 10 æ”¹ä¸º 5ã€‚ï¼ˆè¿™é‡Œçš„ 5 è¡¨ç¤ºå¼€æœºæ—¶ç­‰å¾…é€‰æ‹©æ“ä½œç³»ç»Ÿæ˜¯æ—¶é—´æ˜¯ 5 ç§’ï¼‰ åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ  GRUB_SAVEDEFAULT=trueåä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºã€‚ ","date":"2019-03-21","objectID":"/posts/windefault/:1:0","tags":["linux","windows","ubuntu"],"title":"ubuntu + windows åŒç³»ç»Ÿé»˜è®¤å¯åŠ¨é¡¹è®¾ç½®","uri":"/posts/windefault/"},{"categories":["OS"],"content":"æ›´æ–°å¯åŠ¨é…ç½®æ–‡ä»¶ åœ¨ç»ˆç«¯è¾“å…¥ sudo update-grub æŒ‰ Enter é”®ç¡®è®¤ ","date":"2019-03-21","objectID":"/posts/windefault/:2:0","tags":["linux","windows","ubuntu"],"title":"ubuntu + windows åŒç³»ç»Ÿé»˜è®¤å¯åŠ¨é¡¹è®¾ç½®","uri":"/posts/windefault/"},{"categories":["OS"],"content":"é‡å¯ sudo rebootæˆ–è€…ç‚¹å‡»é‡å¯ï¼Œé‡å¯åˆ°å¯åŠ¨èœå•æ—¶ï¼Œé€‰æ‹©ä½ è¦æ›´æ”¹ä¸ºé»˜è®¤å¯åŠ¨é¡¹çš„ç³»ç»Ÿï¼ŒæŒ‰ Enter é”®ç¡®è®¤å¯åŠ¨å³å¯ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶åˆšåˆšé€‰æ‹©çš„ç³»ç»Ÿå³ä¸ºé»˜è®¤å¯åŠ¨ç³»ç»Ÿï¼Œç›´åˆ°ä½ æ‰‹åŠ¨é€‰æ‹©å¯åŠ¨å…¶ä»–çš„ç³»ç»Ÿä¸ºæ­¢ã€‚ä»¥åå¯ä»¥è½»æ¾çš„æ¥å›åˆ‡æ¢é»˜è®¤ç³»ç»Ÿäº†ã€‚ ","date":"2019-03-21","objectID":"/posts/windefault/:3:0","tags":["linux","windows","ubuntu"],"title":"ubuntu + windows åŒç³»ç»Ÿé»˜è®¤å¯åŠ¨é¡¹è®¾ç½®","uri":"/posts/windefault/"},{"categories":["çæŠ˜è…¾","PHP"],"content":" å®…éŸ³ä¹æ’­æ”¾å™¨ï¼ŒHTML5 ç½‘é¡µæ’­æ”¾å™¨ï¼Œé›†æˆåå°ç®¡ç†åŠ API è°ƒç”¨ï¼Œç›®å‰æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·å…³æ³¨~ åŸé¡¹ç›® ç”± IT æŠ€æœ¯å®… å¼€æºï¼Œä½¿ç”¨ thinkPHP å¼€å‘åå°ã€‚ fork åœ°å€ æ˜¯æˆ‘ä¸ªäººå­¦ä¹ æ¨¡ä»¿çš„åº“ï¼Œä¹Ÿæ˜¯ç›¸å½“äºå¤‡ä»½æºç ã€‚ æ³¨ï¼š æ’ä»¶ä¿®æ”¹äºæ˜æœˆæµ©ç©ºå…è´¹ç‰ˆï¼Œä»…ç”¨äºå­¦ä¹ äº¤æµï¼Œæ— å•†ä¸šä»·å€¼ï¼Œå¦‚å‘ç°å•†ä¸šä¼ æ’­ï¼Œå°†ç¦æ­¢è½¯ä»¶çš„å…è´¹ä½¿ç”¨ã€‚ ","date":"2019-03-19","objectID":"/posts/player/:0:0","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"æŠ€æœ¯æ ˆ åç«¯ï¼šthinkphp 5.1 å‰ç«¯ï¼šlayui æ•°æ®åº“ï¼šmysql ","date":"2019-03-19","objectID":"/posts/player/:1:0","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"æ¼”ç¤ºç«™ å·²å…¼å®¹ç§»åŠ¨ç«¯ï¼Œæµ‹è¯•è´¦å·ä»…ä¾›æµ‹è¯•è¯·å‹¿ä¿®æ”¹å¯†ç ï¼ test test123 https://player.ilt.me/ https://player.lruihao.cn/ ","date":"2019-03-19","objectID":"/posts/player/:2:0","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"å®‰è£… ","date":"2019-03-19","objectID":"/posts/player/:3:0","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"è§†é¢‘å®‰è£…æ•™ç¨‹ https://www.bilibili.com/video/av46476706 ","date":"2019-03-19","objectID":"/posts/player/:3:1","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"ä¾èµ– composer php 5.6+ mysql 5.5+ ","date":"2019-03-19","objectID":"/posts/player/:3:2","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"æ­¥éª¤ å®‰è£… php ä¾èµ–åŒ… composer install é…ç½®æ•°æ®åº“ï¼Œé…ç½®é“¾æ¥æ•°æ®åº“åä»¥åŠç”¨æˆ·åå¯†ç  /config/database.php åˆ›å»ºæ•°æ®åº“ å­—ç¬¦ç¼–ç ï¼šutf8 -- UTF-8 Unicode å¯¼å…¥æ•°æ®åº“è„šæœ¬ï¼Œè„šæœ¬ä½ç½® extend/database ","date":"2019-03-19","objectID":"/posts/player/:3:3","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"ä¼ªé™æ€é…ç½® nginx location / { index index.htm index.html index.php; #è®¿é—®è·¯å¾„çš„æ–‡ä»¶ä¸å­˜åœ¨åˆ™é‡å†™ URL è½¬äº¤ç»™ ThinkPHP å¤„ç† if (!-e $request_filename) { rewrite ^/(.*)$ /index.php?s=$1 last; break; } } apache é¡¹ç›®è‡ªå¸¦ apache é™æ€åŒ–æ— éœ€é…ç½® ","date":"2019-03-19","objectID":"/posts/player/:3:4","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"å¯åŠ¨é¡¹ç›® æ·»åŠ  public ä¸º web æ ¹ç›®å½• è‹¥ä¸º apache æœåŠ¡å™¨åˆ™é»˜è®¤ä¼ªé™æ€ï¼Œnginx å¯è‡ªè¡Œé…ç½®ä¼ªé™æ€ ","date":"2019-03-19","objectID":"/posts/player/:3:5","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"é¢„è§ˆ ","date":"2019-03-19","objectID":"/posts/player/:4:0","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"é¦–é¡µ ","date":"2019-03-19","objectID":"/posts/player/:4:1","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"ç™»é™†é¡µé¢ ","date":"2019-03-19","objectID":"/posts/player/:4:2","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"åå°é¦–é¡µ ","date":"2019-03-19","objectID":"/posts/player/:4:3","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"åå°æ’­æ”¾å™¨ç®¡ç†é¡µé¢ ","date":"2019-03-19","objectID":"/posts/player/:4:4","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["çæŠ˜è…¾","PHP"],"content":"åå°æ­Œå•ç®¡ç†é¡µé¢ ","date":"2019-03-19","objectID":"/posts/player/:4:5","tags":["PHP","ThinkPHP","Layui","MySQL"],"title":"å®…éŸ³ä¹æ’­æ”¾å™¨","uri":"/posts/player/"},{"categories":["OS"],"content":"æé€Ÿæ–¹ä¾¿çš„ä¸€é”®é…ç½®ä¸ç®¡ç†ï¼Œå…é™¤ç¹ççš„å‘½ä»¤è¡Œæ“ä½œï¼Œé€šè¿‡ Web é¢æ¿ä¸€é”®å³å¯æ“ä½œå®ç°ã€‚å¯é€‰æ‹©å®‰è£… lamp æˆ–è€… lnmp ç¯å¢ƒï¼Œå¯åˆ›å»ºåŠç®¡ç†ç½‘ç«™ï¼Œå¯åˆ›å»ºåŠç®¡ç†æ•°æ®åº“ï¼Œå¯åˆ›å»ºåŠç®¡ç† FTP ç­‰ç­‰ã€‚å®å¡”å®˜ç½‘ä»‹ç» ","date":"2019-03-18","objectID":"/posts/bt/:0:0","tags":["linux","server","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£…","uri":"/posts/bt/"},{"categories":["OS"],"content":"ç³»ç»Ÿè¦æ±‚ æ“ä½œç³»ç»Ÿï¼šå…¨æ–°ç³»ç»Ÿï¼ˆæ”¯æŒ CentOSã€Ubuntuã€Debianã€Fedoraã€Deepin)ï¼Œ ç¡®ä¿æ˜¯å¹²å‡€çš„æ“ä½œç³»ç»Ÿï¼Œæ²¡æœ‰å®‰è£…è¿‡å…¶å®ƒç¯å¢ƒå¸¦çš„ Apache/Nginx/php/MySQL å®å¡” Linux6.0 ç‰ˆæœ¬æ˜¯åŸºäº centos7 å¼€å‘çš„ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ centos7.x ç³»ç»Ÿ å†…å­˜è¦æ±‚ï¼šå†…å­˜è¦æ±‚æœ€ä½ 512MBï¼Œæ¨è 768MB ä»¥ä¸Šï¼Œçº¯é¢æ¿çº¦å ç³»ç»Ÿ 60MB å†…å­˜. ","date":"2019-03-18","objectID":"/posts/bt/:1:0","tags":["linux","server","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£…","uri":"/posts/bt/"},{"categories":["OS"],"content":"å®‰è£…æ–¹æ³• å®˜æ–¹å·ç§° 2 åˆ†é’Ÿè£…å¥½é¢æ¿ï¼Œä¸€é”®ç®¡ç†æœåŠ¡å™¨ã€‚ ä½¿ç”¨ SSH è¿æ¥å·¥å…·ï¼Œå¦‚å®å¡”è¿œç¨‹æ¡Œé¢åŠ©æ‰‹è¿æ¥åˆ°æ‚¨çš„ Linux æœåŠ¡å™¨åï¼ŒæŒ‚è½½ç£ç›˜ï¼Œæ ¹æ®ç³»ç»Ÿæ‰§è¡Œç›¸åº”å‘½ä»¤å¼€å§‹å®‰è£…ï¼ˆå¤§çº¦ 2 åˆ†é’Ÿå®Œæˆé¢æ¿å®‰è£…ï¼‰ï¼š yum install -y wget \u0026\u0026 wget -O install.sh http://download.bt.cn/install/install_6.0.sh \u0026\u0026 sh install.sh wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh \u0026\u0026 sudo bash install.sh wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh \u0026\u0026 bash install.sh wget -O install.sh http://download.bt.cn/install/install_6.0.sh \u0026\u0026 bash install.sh ","date":"2019-03-18","objectID":"/posts/bt/:2:0","tags":["linux","server","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£…","uri":"/posts/bt/"},{"categories":["OS"],"content":"æ­å»º ftp å’Œäº‘ç›˜æœåŠ¡å™¨ å¯ä»¥å¾ˆå‚»ç“œå¼çš„æ­å»ºè‡ªå·±çš„äº‘ç›˜ï¼Œå’Œå¹³æ—¶ç”¨çš„æ¯”è¾ƒå¤šçš„ ftp æœåŠ¡å™¨ã€‚æ­å»ºé™æ€ç½‘ç«™ä¹Ÿå¯ä»¥ç”¨ ftp æ¥ä¸Šä¼ æ–‡ä»¶ã€‚ ","date":"2019-03-18","objectID":"/posts/bt/:3:0","tags":["linux","server","å®å¡”é¢æ¿"],"title":"å®å¡”é¢æ¿å®‰è£…","uri":"/posts/bt/"},{"categories":["Memo"],"content":" ä¸‹é¢ä¸€äº› web å¼€å‘çš„ä¸€äº›æ€»ç»“ï¼Œè¿˜æœ‰ä¸€äº›å¸¸ç”¨åˆ°çš„ä»£ç ï¼Œè„šæœ¬ç­‰ï¼ ","date":"2019-03-18","objectID":"/posts/webbiji/:0:0","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"front-end ","date":"2019-03-18","objectID":"/posts/webbiji/:1:0","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"html HTML+CSS oblique å’Œ intalic çš„åŒºåˆ« è¿™ä¸¤ä¸ªéƒ½æ˜¯font-styleå±æ€§çš„å€¼ï¼Œè¿™ä¸¤ä¸ªå€¼éƒ½èƒ½å®ç°å€¾æ–œçš„æ•ˆæœï¼Œä½†æ˜¯æœ‰åŒºåˆ«çš„ã€‚ intalic: è¿™ä¸ªæ˜¯å­—ä½“çš„å€¾æ–œï¼Œç›¸å½“äºæ–œä½“ï¼Œå­—ä½“å¿…é¡»æœ‰å€¾æ–œå±æ€§ã€‚ oblique: è¿™ä¸ªå‡†ç¡®åœ°è¯´æ˜¯è®©æ–‡å­—å€¾æ–œã€‚ç›¸å½“äºæ–œå­—ï¼Œå­—ä½“ä¸ä¸€å®šè¦æœ‰å€¾æ–œå±æ€§ã€‚ title æ˜¾ç¤ºæ¢è¡Œ ä½¿ç”¨\u0026#10;æˆ–ä½¿ç”¨\u0026#13; \u003ca href=\"#\" title=\"ç¬¬ä¸€è¡Œ\u0026#10; ç¬¬äºŒè¡Œ\u0026#10; ç¬¬ä¸‰è¡Œ\"\u003eä½¿ç”¨`\u0026#10;`\u003c/a\u003e \u003ca href=\"#\" title=\"ç¬¬ä¸€æ’\u0026#13; ç¬¬äºŒæ’\u0026#13; ç¬¬ä¸‰æ’\"\u003eä½¿ç”¨`\u0026#13;`\u003c/a\u003e å›¾ç‰‡ç±»å‹é€‰æ‹© å›¾ç‰‡ç±»å‹é€‰æ‹© ","date":"2019-03-18","objectID":"/posts/webbiji/:1:1","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"css flexbox Flex å¸ƒå±€å°†æˆä¸ºæœªæ¥å¸ƒå±€çš„é¦–é€‰æ–¹æ¡ˆï¼Œæ¯”å¦‚è¯´å¸¸è§çš„ bootstrap4 çš„ç‰ˆæœ¬å°±ç”¨ flex æ›¿ä»£äº† float æ¥è¿›è¡Œæ’ç‰ˆã€‚ æˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°å‡ ä¸ªå¾ˆå¥½çš„æ•™ç¨‹ï¼Œå›¾æ–‡å¹¶èŒ‚ï¼Œä¸€ç›®äº†ç„¶ã€‚ A Complete Guide to Flexbox Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡ å®åœ¨æ‡’ç™Œå‘ä½œï¼Œç¬”è®°æœ¬ä¸Šæ‰‹æŠ„äº†ç¬”è®°æˆ‘å°±ä¸å†™å­¦ä¹ æ€»ç»“äº†ï¼Œè¿˜æœ‰ç½‘å‹ Demo ä¹Ÿå†™äº†ã€‚ ","date":"2019-03-18","objectID":"/posts/webbiji/:1:2","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"javascript keydown å’Œ keypress keydownï¼šæŒ‰ä¸‹é”®ç›˜é”® keypressï¼šç´§æ¥ç€keydownäº‹ä»¶è§¦å‘ï¼ˆåªæœ‰æŒ‰ä¸‹å­—ç¬¦é”®æ—¶è§¦å‘ï¼‰ å¦‚æœç”¨æˆ·æŒ‰ä¸‹äº†ä¸€ä¸ªå­—ç¬¦é”®ä¸æ”¾ï¼Œå°±ä¼šé‡å¤è§¦å‘keydownå’Œkeypressäº‹ä»¶ï¼Œç›´åˆ°ç”¨æˆ·æ¾å¼€è¯¥é”®ä¸ºæ­¢ã€‚ å¦‚æœç”¨æˆ·æŒ‰ä¸‹äº†ä¸€ä¸ªéå­—ç¬¦é”®ä¸æ”¾ï¼Œå°±ä¼šé‡å¤è§¦å‘keydownäº‹ä»¶ï¼Œç›´åˆ°ç”¨æˆ·æ¾å¼€è¯¥é”®ä¸ºæ­¢ã€‚ è¯¦è§£é”®ç›˜äº‹ä»¶ (keydownï¼Œkeypressï¼Œkeyup) textContentã€innerText å’Œ innerHTML çš„åŒºåˆ« è®¾ç½®æ ‡ç­¾ä¸­çš„æ–‡æœ¬å†…å®¹ï¼Œåº”è¯¥ä½¿ç”¨textContentæˆ–innerTextï¼ˆæ›´è€ï¼‰å±æ€§ï¼ŒåŒºåˆ«åœ¨äºæµè§ˆå™¨æ”¯æ´ç¨‹åº¦ innerHTMLèƒ½å¤Ÿè·å¾—å…ƒç´ å†…çš„æ‰€æœ‰æ ‡ç­¾å†…å®¹ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æ ‡ç­¾ä½¿ä¹‹ç”Ÿæ•ˆã€‚ï¼ˆæ³¨æ„é˜²æ­¢ XSS æ³¨å…¥ï¼‰ å¦‚æœæŸä¸ªå±æ€§åœ¨æµè§ˆå™¨ä¸­ä¸æ”¯æŒï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§çš„ç±»å‹æ˜¯undefinedï¼Œåˆ¤æ–­è¿™ä¸ªå±æ€§çš„ç±»å‹æ˜¯ä¸æ˜¯undefinedï¼Œå°±çŸ¥é“æµè§ˆå™¨æ˜¯å¦æ”¯æŒã€‚ \u003cscript\u003e // è®¾ç½®ä»»æ„çš„æ ‡ç­¾ä¸­é—´çš„ä»»æ„æ–‡æœ¬å†…å®¹ function setInnerText(element, text) { //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¿™ä¸ªå±æ€§ if (typeof element.textContent == \"undefined\") {//ä¸æ”¯æŒ element.innerText = text; } else {//æ”¯æŒè¿™ä¸ªå±æ€§ element.textContent = text; } }; \u003c/script\u003e ","date":"2019-03-18","objectID":"/posts/webbiji/:1:3","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"å›¾åºŠæ–¹æ¡ˆ è‡ªè¡Œæ­å»º æ¯”å¦‚ä½¿ç”¨å¼€æºå›¾åºŠ ImgURL æ­å»ºçš„img.lruihao.cnï¼ˆéœ€è¦æœåŠ¡å™¨ï¼‰ ä½¿ç”¨ä¸Šä¼ å·¥å…·åŠ ç¬¬ä¸‰æ–¹å…è´¹ç©ºé—´ï¼Œæ¯”å¦‚PicGo + è…¾è®¯äº‘ COSï¼ˆæ— éœ€æœåŠ¡å™¨ï¼‰ ä½¿ç”¨å„å¤§å›¾åºŠ è¯¸å¦‚ sm.msï¼Œè…¾è®¯äº‘ COSï¼Œé˜¿é‡Œäº‘ OSSï¼Œä¸ƒç‰›äº‘ï¼Œåˆæ‹äº‘ï¼ŒGithubï¼Œå¾®åšå›¾åºŠï¼ŒImgURL å›¾åºŠç­‰ç­‰ ","date":"2019-03-18","objectID":"/posts/webbiji/:1:4","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"font-awesome ç°åœ¨ä½¿ç”¨ 5 çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨webfont+cssæˆ–svg+js \u003clink rel=\"stylesheet\" href=\"https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css\"\u003e å…¶ä»–çš„å›¾æ ‡ js \u003cscript src=\"//at.alicdn.com/t/font_578712_g26jo2kbzd5qm2t9.js\"\u003e\u003c/script\u003e \u003csvg class=\"card-avatar\" aria-hidden=\"true\"\u003e \u003cuse xlink:href=\"#icon-{{n+1}}\"\u003e\u003c/use\u003e \u003c!--n ä¸ºä¸€ä¸ªæ•°å­—--\u003e \u003c/svg\u003e ","date":"2019-03-18","objectID":"/posts/webbiji/:1:5","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"å“åº”å¼ï¼ˆè‡ªé€‚åº”ï¼‰ \u003clink rel=\"stylesheet\" href=\"https://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css\"\u003e \u003cscript src=\"https://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=0\"\u003e .col-xs- è¶…å°å±å¹• æ‰‹æœº \u003c768px .col-sm- å°å±å¹• å¹³æ¿ \u003e=768px .col-md- ä¸­ç­‰å±å¹• \u003e=992px .col-lg- å¤§å±å¹• \u003e1200px css3 å†™æ³• @media ï¼ˆå®½åº¦å…·ä½“è°ƒæ•´ï¼‰ /* æ‰‹æœºç­‰å°å±å¹•æ‰‹æŒè®¾å¤‡ */ @media screen and (min-width: 320px) and (max-width: 480px) { /*æ‰‹æœºç«¯ css æ ·å¼è¡¨*/ } /* å¹³æ¿ä¹‹ç±»çš„å®½åº¦ 1024 ä»¥ä¸‹è®¾å¤‡ */ @media only screen and (min-width: 321px) and (max-width: 1024px) { /*ç”µè„‘ç«¯ css æ ·å¼è¡¨*/ } link å¼•å…¥ä¸åŒ css \u003c!--æ‰‹æœºç«¯--\u003e \u003clink rel=\"stylesheet\" type=\"text/css\" href=\"style_phone.css\" media=\"screen and (max-width: 960px)\"/\u003e \u003c!--ç”µè„‘ç«¯--\u003e \u003clink rel=\"stylesheet\" type=\"text/css\" href=\"style_PC.css\" media=\"screen and (min-width: 960px)\"/\u003e ","date":"2019-03-18","objectID":"/posts/webbiji/:1:6","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"jquery \u003cscript src=\"https://code.jquery.com/jquery-3.3.1.min.js\"\u003e\u003c/script\u003e \u003cscript src=\"https://lib.sinaapp.com/js/jquery/2.0.2/jquery-2.0.2.min.js\"\u003e\u003c/script\u003e \u003cscript src=\"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js\"\u003e\u003c/script\u003e \u003cscript src=\"http://cdn.bootcss.com/jquery/1.11.0/jquery.min.js\"\u003e\u003c/script\u003e //è¿˜æœ‰å…¶ä»–çš„æº ... ","date":"2019-03-18","objectID":"/posts/webbiji/:1:7","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"QQ æ¨å¹¿é“¾æ¥ QQ æ¨å¹¿ QQ ç¾¤ \u003ca target=\"_blank\" href=\"https://wpa.qq.com/msgrd?v=3\u0026uin=1074627678\u0026site=qq\u0026menu=yes\"\u003e\u003cimg border=\"0\" src=\"http://wpa.qq.com/pa?p=2:1074627678:51\" alt=\"ç‚¹å‡»è¿™é‡Œç»™æˆ‘å‘æ¶ˆæ¯\" title=\"ç‚¹å‡»è¿™é‡Œç»™æˆ‘å‘æ¶ˆæ¯\"/\u003e\u003c/a\u003e ","date":"2019-03-18","objectID":"/posts/webbiji/:1:8","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"Google fonts https://fonts.google.com/ ä¸€èˆ¬é€‰ç”¨å›½å†…æºé•œåƒæ›¿ä»£ï¼ˆå¾…è¡¥å…… ...ï¼‰ + https://fonts.loli.net + //fonts.lug.ustc.edu.cn ","date":"2019-03-18","objectID":"/posts/webbiji/:1:9","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"fancybox github ä»‹ç»â€ƒfancybox æº \u003clink href=\"https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css\" rel=\"stylesheet\"\u003e \u003cscript src=\"https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.js\"\u003e\u003c/script\u003e ","date":"2019-03-18","objectID":"/posts/webbiji/:1:10","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Memo"],"content":"back-end æ›´å¤šå­¦ä¹ å†…å®¹è§ å­¦ä¹ è¯¾ä»¶ ç»ƒä¹ ä½œä¸š æºç +Demo ","date":"2019-03-18","objectID":"/posts/webbiji/:2:0","tags":["JavaScript"],"title":"web æ±‡æ€»","uri":"/posts/webbiji/"},{"categories":["Java"],"content":" æ³›å‹æ–¹æ³•ï¼Œå®ƒåœ¨ä¿®é¥°ç¬¦åï¼Œè¿”å›å€¼ç±»å‹å‰å¢åŠ äº†ç±»å‹å‚æ•° (\u003c\u003e) ç±»å‹é€šé…ç¬¦ä¸€èˆ¬ä½¿ç”¨é—®å·?ä»£æ›¿å…·ä½“çš„ç±»å‹å®å‚ï¼Œæ³¨æ„ä¸æ˜¯ç±»å‹å½¢å‚ã€‚ ","date":"2019-03-16","objectID":"/posts/fanxing/:0:0","tags":["æ³›å‹","Java"],"title":"java æ³›å‹ test","uri":"/posts/fanxing/"},{"categories":["Java"],"content":"ä»£ç  package code0507; public class WildCardTest { public static void main(String[] args) { Box\u003cString\u003ename=new Box\u003cString\u003e(\"hello\"); Box\u003cInteger\u003eage=new Box\u003cInteger\u003e(12); Box\u003cDouble\u003enumber=new Box\u003cDouble\u003e(210.50); Box\u003cInteger\u003epoint=new Box\u003cInteger\u003e(); getData(name); getData(age); getData(number); point.printpoint(520, 1314); point.printpoint(\"me\", \"too\"); } public static void getData(Box\u003c?\u003edata){//ç±»å‹é€šé…ç¬¦ System.out.println(\"data:\"+data.getData()); } } class Box\u003cT\u003e{ private T data; public Box() {}//æ„é€ æ–¹æ³•é‡è½½ public Box(T data) { setData(data); } public T getData() { return data; } public void setData(T data) { this.data = data; } //å®šä¹‰æ³›å‹æ–¹æ³• public\u003cT1,T2\u003evoid printpoint(T1 x,T2 y){ T1 m=x; T2 n=y; System.out.println(\"This point is:\"+m+\",\"+n); } } ","date":"2019-03-16","objectID":"/posts/fanxing/:1:0","tags":["æ³›å‹","Java"],"title":"java æ³›å‹ test","uri":"/posts/fanxing/"},{"categories":["Java"],"content":"è¿è¡Œç»“æœ data:hello data:12 data:210.5 This point is:520,1314 This point is:me,too ","date":"2019-03-16","objectID":"/posts/fanxing/:2:0","tags":["æ³›å‹","Java"],"title":"java æ³›å‹ test","uri":"/posts/fanxing/"},{"categories":["Memo"],"content":"åŸºæœ¬ä½¿ç”¨ A: é€‰æ‹©ä¸€ä¸ªå·¥ä½œç©ºé—´ D:\\develop\\eclipse-SDK-3.7.2-win64\\workspace B: å¦‚ä½•å†™ä¸€ä¸ª HelloWorld æ¡ˆä¾‹ï¼ˆä»£ç ä»¥é¡¹ç›®ä¸ºåŸºæœ¬å•ä½ï¼‰ a: åˆ›å»ºé¡¹ç›®ï¼ˆå·¥ç¨‹ï¼‰ *File -- New -- Java Project *åœ¨å·¦è¾¹ç©ºç™½å¤„ï¼Œç›´æ¥å³é”® -- New -- Java Project é”®å…¥é¡¹ç›®åç§°åç›´æ¥ Finishã€‚ b: æ‰€æœ‰çš„ java æ–‡ä»¶å¿…é¡»å†™åˆ° src ä¸‹é¢æ‰æœ‰æ•ˆ c: åˆ›å»ºä¸€ä¸ªåŒ… cn.lruihao d: åœ¨åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªç±» HelloWorld åŒæ—¶è®©å®ƒå¸®æˆ‘ä»¬å†™å¥½äº† main æ–¹æ³•ã€‚ e: åœ¨ main æ–¹æ³•ä¸­å†™å†…å®¹å³å¯ f: ç¼–è¯‘ç¨‹åº è‡ªåŠ¨ç¼–è¯‘ï¼Œåœ¨ä¿å­˜çš„é‚£ä¸€åˆ»å¸®ä½ åšå¥½äº† g: è¿è¡Œç¨‹åº é€‰æ‹©è¦è¿è¡Œçš„æ–‡ä»¶æˆ–è€…åœ¨è¦è¿è¡Œçš„æ–‡ä»¶å†…å®¹ä¸­ å³é”® -- Run as - Java Application å³å¯ h: å†…å®¹æ˜¾ç¤º åœ¨ Console æ§åˆ¶å°æ˜¾ç¤ºå†…å®¹ ","date":"2019-03-15","objectID":"/posts/eclipseuse/:1:0","tags":["eclipse","Java"],"title":"eclipse çš„åŸºæœ¬ä½¿ç”¨","uri":"/posts/eclipseuse/"},{"categories":["Memo"],"content":"Eclipse çš„åŸºæœ¬è®¾ç½® A: ç¨‹åºçš„ç¼–è¯‘å’Œè¿è¡Œçš„ç¯å¢ƒé…ç½®ï¼ˆå¦‚æœä½ çš„ Eclipse å¯åŠ¨æ²¡æœ‰é—®é¢˜ï¼Œå°±ä¸è¦é…ç½®äº†ï¼‰ B: å»æ‰é»˜è®¤æ³¨é‡Šï¼ˆå¯ä»¥ä¸ç”¨æ”¹ï¼‰ C: è¡Œå·çš„æ˜¾ç¤ºå’Œéšè— æ˜¾ç¤ºï¼šåœ¨ä»£ç åŒºåŸŸçš„æœ€å·¦è¾¹çš„ç©ºç™½åŒºåŸŸï¼Œå³é”® -- Show Line Numbers å³å¯ã€‚ éšè—ï¼šæŠŠä¸Šé¢çš„åŠ¨ä½œå†åšä¸€æ¬¡ã€‚ D: å­—ä½“å¤§å°åŠé¢œè‰² a:Java ä»£ç åŒºåŸŸçš„å­—ä½“å¤§å°å’Œé¢œè‰²ï¼š window -- Preferences -- General -- Appearance -- Colors And Fonts -- Java ä¿®æ”¹ -- Java Edit Text Font b: æ§åˆ¶å° window -- Preferences -- General -- Appearance -- Colors And Fonts -- Debug -- Console font c: å…¶ä»–æ–‡ä»¶ window -- Preferences -- General -- Appearance -- Colors And Fonts -- Basic -- Text Font E: çª—ä½“ç»™å¼„ä¹±äº†ï¼Œæ€ä¹ˆåŠ window -- Reset Perspective F: æ§åˆ¶å°æ‰¾ä¸åˆ°äº† Window--Show Viewâ€”Console ","date":"2019-03-15","objectID":"/posts/eclipseuse/:2:0","tags":["eclipse","Java"],"title":"eclipse çš„åŸºæœ¬ä½¿ç”¨","uri":"/posts/eclipseuse/"},{"categories":["Memo"],"content":"å¿«æ·é”®çš„ä½¿ç”¨ A: å†…å®¹è¾…åŠ©é”® Alt+/ èµ·æç¤ºä½œç”¨ main+alt+/,syso+alt+/, ç»™å‡ºå…¶ä»–æç¤º B: å¿«æ·é”® æ ¼å¼åŒ– ctrl+shift+f å¯¼å…¥åŒ… ctrl+shift+o æ³¨é‡Š ctrl+/ ctrl+shift+/,ctrl+shift+\\ ä»£ç ä¸Šä¸‹ç§»åŠ¨ é€‰ä¸­ä»£ç  alt+ä¸Š/ä¸‹ç®­å¤´ æŸ¥çœ‹æºç  é€‰ä¸­ç±»å (F3 æˆ–è€… Ctrl+é¼ æ ‡ç‚¹å‡»ï¼‰ ","date":"2019-03-15","objectID":"/posts/eclipseuse/:3:0","tags":["eclipse","Java"],"title":"eclipse çš„åŸºæœ¬ä½¿ç”¨","uri":"/posts/eclipseuse/"},{"categories":["Memo"],"content":"Eclipse ä¸­å¦‚ä½•æé«˜å¼€å‘æ•ˆç‡ A: è‡ªåŠ¨ç”Ÿæˆæ„é€ æ–¹æ³• a: æ— å‚æ„é€ æ–¹æ³• åœ¨ä»£ç åŒºåŸŸå³é”®--source--Generate Constructors from Superclass b: å¸¦å‚æ„é€ æ–¹æ³• åœ¨ä»£ç åŒºåŸŸå³é”®--source--Generate Constructors using fields.. -- finish B: è‡ªåŠ¨ç”Ÿæˆ get/set æ–¹æ³• åœ¨ä»£ç åŒºåŸŸå³é”®--source--Generate Getters and Setters... ","date":"2019-03-15","objectID":"/posts/eclipseuse/:4:0","tags":["eclipse","Java"],"title":"eclipse çš„åŸºæœ¬ä½¿ç”¨","uri":"/posts/eclipseuse/"},{"categories":["Java"],"content":" java ä¸­åŒ¿åç±»ç”¨çš„æœ€å¤šçš„åœ°æ–¹å°±æ˜¯å¯è§†åŒ–ç•Œé¢è®¾è®¡ä¸­ï¼Œç‰¹åˆ«æ˜¯å°†äº‹ä»¶ç›‘å¬å™¨æ³¨å†Œåˆ°æŸä¸ªç»„ä»¶ä¸Šçš„æ—¶å€™ã€‚ ","date":"2019-03-15","objectID":"/posts/qframe/:0:0","tags":["GUI","Java"],"title":"åŒ¿åç±»åœ¨å¯è§†åŒ–ç•Œé¢ä¸­çš„åº”ç”¨","uri":"/posts/qframe/"},{"categories":["Java"],"content":"ä»£ç  package cn.lruihao; import java.awt.event.*; import javax.swing.*; public class QFrame extends JFrame { public QFrame() { JButton jbtnew=new JButton(\"New\");//æ–°å»ºæŒ‰é’® JPanel panel=new JPanel();//é¢æ¿å®¹å™¨ panel.add(jbtnew);//æ·»åŠ ç»„ä»¶ add(panel); jbtnew.addActionListener(new ActionListener() { //æ–°å»ºä¸€åŒ¿åç±»ï¼Œå¹¶å°†è¯¥å¯¹åº”çš„äº‹ä»¶ç›‘å¬å™¨æ³¨å†Œåˆ°â€œæ–°å»ºâ€æŒ‰é’® å°± jbtnew ä¸Š @Override public void actionPerformed(ActionEvent e) { JOptionPane.showMessageDialog(null, \"å•å‡»äº†æ–°å»ºæŒ‰é’®\"); System.out.println(\"lruihao.cn\"); } }); } public static void main(String[] args) { JFrame frame=new QFrame(); frame.setTitle(\"QFrame\"); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.setLocationRelativeTo(null); frame.pack(); frame.setVisible(true); } } åˆ›å»ºä¸€ä¸ªå¯è§†åŒ–ç•Œé¢ï¼Œç•Œé¢ä¸­æœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œå•å‡»æŒ‰é’®æ˜¾ç¤ºâ€œå•å‡»äº†æ–°å»ºæŒ‰é’®â€ã€‚ ","date":"2019-03-15","objectID":"/posts/qframe/:1:0","tags":["GUI","Java"],"title":"åŒ¿åç±»åœ¨å¯è§†åŒ–ç•Œé¢ä¸­çš„åº”ç”¨","uri":"/posts/qframe/"},{"categories":["Java"],"content":"ç»“æœ ","date":"2019-03-15","objectID":"/posts/qframe/:2:0","tags":["GUI","Java"],"title":"åŒ¿åç±»åœ¨å¯è§†åŒ–ç•Œé¢ä¸­çš„åº”ç”¨","uri":"/posts/qframe/"},{"categories":["Java"],"content":"å‚è€ƒ JOptionPane çš„ä½¿ç”¨ ","date":"2019-03-15","objectID":"/posts/qframe/:3:0","tags":["GUI","Java"],"title":"åŒ¿åç±»åœ¨å¯è§†åŒ–ç•Œé¢ä¸­çš„åº”ç”¨","uri":"/posts/qframe/"},{"categories":["JavaScript"],"content":" æ¨¡ä»¿çŸ¥ä¹çš„å¡ç‰‡å¼é“¾æ¥ï¼Œidea æ¥è‡ª [å…°å·å°çº¢é¸¡] ","date":"2019-03-15","objectID":"/posts/linkcard/:0:0","tags":["JavaScript","hexo"],"title":"æ¨¡ä»¿çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥","uri":"/posts/linkcard/"},{"categories":["JavaScript"],"content":"æºç  2021/10/2 1:29 æ›´æ–° è¿™æ˜¯ä¸€ç§ååŠ è½½ï¼Œåˆ›å»ºlinkcard.jsæ”¾åˆ°source/js/src/ï¼Œç„¶ååœ¨next\\layout\\_macro\\post.swigä¸­å¼•ç”¨ function cardLink() { let $cardLinks = document.querySelectorAll('.card-link'); if ($cardLinks.length === 0) { return; } //æ’å…¥æ ·å¼ let $linkStyle = document.createElement('style'); $linkStyle.innerHTML = '.card-link,.card-link:hover{text-decoration:none;border:none!important;color:inherit!important}.card-link{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;color:inherit;text-decoration:none}.ztext{word-break:break-word;line-height:1.6}.card-link-backdrop{position:absolute;top:0;left:0;right:0;bottom:0;background-image:url(/images/card-link-bg.jpg);background-repeat:no-repeat;-webkit-filter:blur(20px);filter:blur(20px);background-size:cover;background-position:center}.card-link,.card-link:hover{text-decoration:none;border:none!important;color:inherit!important}.card-link-content{position:relative;display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:inherit;background-color:rgba(246,246,246,0.88)}.card-link-text{overflow:hidden}.card-link-title{display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;max-height:calc(16px * 1.25 * 2);font-size:16px;font-weight:500;line-height:1.25;color:#1a1a1a}.card-link-meta{display:flex;margin-top:4px;font-size:14px;line-height:20px;color:#999;white-space:nowrap}.card-link-url{display: inline-flex;align-items: center;}.card-link-imageCell{margin-left:8px;border-radius:6px}.card-link-image{display:block;width:60px;height:60px;border-radius:inherit}'; document.querySelector('body').appendChild($linkStyle); //æ¸²æŸ“ DOM for (let $cardLink of $cardLinks) { $cardLink.innerHTML = `\u003cspan class='card-link-backdrop'\u003e\u003c/span\u003e\u003cspan class='card-link-content'\u003e\u003cspan class='card-link-text'\u003e\u003cspan class='card-link-title'\u003e${$cardLink.innerText}\u003c/span\u003e\u003cspan class='card-link-meta'\u003e\u003cspan class='card-link-url'\u003e\u003csvg class='Zi Zi--InsertLink' fill='currentColor' viewBox='0 0 24 24' width='17' height='17'\u003e\u003cpath d='M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z' fill-rule='evenodd'\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e${$cardLink.href}\u003c/span\u003e\u003c/span\u003e\u003cspan class='card-link-imageCell'\u003e\u003cimg class='card-link-image' alt='card-link icon' src='/images/linkicon.png'\u003e\u003c/span\u003e\u003c/span\u003e`; } } window.onload = () =\u003e { cardLink(); }; ","date":"2019-03-15","objectID":"/posts/linkcard/:1:0","tags":["JavaScript","hexo"],"title":"æ¨¡ä»¿çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥","uri":"/posts/linkcard/"},{"categories":["JavaScript"],"content":"ä½¿ç”¨ \u003c!--çŸ¥ä¹å¡ç‰‡é“¾æ¥--\u003e \u003cscript type=\"text/javascript\" src=\"/js/src/card-link.js\"\u003e\u003c/script\u003e html é“¾æ¥å†™æ³•ï¼Œa æ ‡ç­¾åŠ ä¸Šclass=\"card-link\" \u003ca href=\"https://github.com/Lruihao/lruihao.github.io\" target=\"_blank\" class=\"card-link\"\u003eLruihao åšå®¢\u003c/a\u003e Lruihao åšå®¢ https://github.com/Lruihao/lruihao.github.io ","date":"2019-03-15","objectID":"/posts/linkcard/:2:0","tags":["JavaScript","hexo"],"title":"æ¨¡ä»¿çŸ¥ä¹å¡ç‰‡å¼é“¾æ¥","uri":"/posts/linkcard/"},{"categories":["OS"],"content":" æˆ‘çš„ Ubuntu å’Œ Windows åŒç³»ç»Ÿæ˜¯ Ubuntu æ˜¯ç¬¬ä¸€å¯åŠ¨é¡¹ï¼Œæ‰€ä»¥æ€»æ˜¯å¼€æœºå¿˜è®°ç‚¹ä¸‹é”®ï¼Œä¸€è¿› Ubuntu ç³»ç»Ÿæ—¶é—´å°±ä¸å¯¹äº†ï¼ˆæ€»æ˜¯å°‘äº† 8 å°æ—¶ï¼‰ï¼Œå›åˆ° Windows æ—¶é—´ä¹Ÿæ˜¯é”™çš„ã€‚çŸ¥é“æ˜¯é”™çš„è°ƒæ•´ä¸€ä¸‹è¿˜å¥½ã€‚å¿˜è®°è°ƒäº†æœ‰æ—¶å€™çœŸçš„ä¼šè¯¯äº‹ã€‚æ¯”å¦‚è¯´ git ç‰ˆæœ¬æ§åˆ¶æäº¤ä¼šé‡åˆ°é—®é¢˜ç§ç§ç­‰ã€‚ ","date":"2019-03-15","objectID":"/posts/ubuntutime/:0:0","tags":["ubuntu","linux","windows"],"title":"win10,ubuntu åŒç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´","uri":"/posts/ubuntutime/"},{"categories":["OS"],"content":"åŸå›  åœ¨å®‰è£… Ubuntu å’Œ Windows åŒç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼ŒUbuntu çš„æ—¶é—´æ€»ä¼šå’Œ Windows çš„æ—¶é—´ç›¸å·® 8 å°æ—¶ï¼ŒåŸå› åœ¨äº widows è®¤ä¸º BIOS æ—¶é—´æ˜¯æœ¬åœ°æ—¶é—´ï¼ŒUbuntu è®¤ä¸º BIOS æ—¶é—´æ˜¯ UTC æ—¶é—´ï¼Œå³åè°ƒä¸–ç•Œæ—¶ï¼Œ(Universal Time Coordinated) è‹±æ–‡ç¼©å†™ï¼Œæ˜¯ç”±å›½é™…æ— çº¿ç”µå’¨è¯¢å§”å‘˜ä¼šè§„å®šå’Œæ¨èï¼Œå¹¶ç”±å›½é™…æ—¶é—´å±€ (BIH) è´Ÿè´£ä¿æŒçš„ä»¥ç§’ä¸ºåŸºç¡€çš„æ—¶é—´æ ‡åº¦ã€‚UTC ç›¸å½“äºæœ¬åˆå­åˆçº¿ï¼ˆå³ç»åº¦ 0 åº¦ï¼‰ä¸Šçš„å¹³å‡å¤ªé˜³æ—¶ï¼Œè¿‡å»æ›¾ç”¨æ ¼æ—å¨æ²»å¹³å‡æ—¶ (GMT) æ¥è¡¨ç¤ºã€‚åŒ—äº¬æ—¶é—´æ¯” UTC æ—¶é—´æ—© 8 å°æ—¶ï¼Œä»¥ 1999 å¹´ 1 æœˆ 1 æ—¥ 00:00 UTC ä¸ºä¾‹ï¼ŒUTC æ—¶é—´æ˜¯é›¶ç‚¹ï¼ŒåŒ—äº¬æ—¶é—´ä¸º 1999 å¹´ 1 æœˆ 1 æ—¥æ—©ä¸Š 8 ç‚¹æ•´ã€‚)ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ—¶é—´ä¸Šé¢ç›¸éš”äº† 8 ä¸ªå°æ—¶ã€‚è¿™ä¸ªæ—¶å€™ bios çš„æ—¶é—´å’Œç³»ç»Ÿçš„æ—¶é—´å½“ç„¶æ˜¯ä¸ä¸€è‡´ï¼Œä¸€ä¸ªä»£è¡¨ utc æ—¶é—´ï¼Œä¸€ä¸ªä»£è¡¨ cstï¼ˆï¼‹ 8 æ—¶åŒºï¼‰ï¼Œå³æˆ‘ä»¬å¸¸ç”¨çš„æ—¶é—´ã€‚ ","date":"2019-03-15","objectID":"/posts/ubuntutime/:1:0","tags":["ubuntu","linux","windows"],"title":"win10,ubuntu åŒç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´","uri":"/posts/ubuntutime/"},{"categories":["OS"],"content":"æ–¹æ³•ä¸€ åœ¨ Windows ä¸‹ è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼šï¼ˆåšä¸» win10,win7 è‡ªæµ‹ï¼‰ ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ CMDï¼ˆwin+x åé€‰æ‹© Windows Powershellï¼ˆç®¡ç†å‘˜ï¼‰ Reg add HKLM\\SYSTEM\\CurrentControlSet\\Control\\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1 é‡å¯çœ‹çœ‹æ—¶é—´å‘ç° ok äº†ã€‚ ","date":"2019-03-15","objectID":"/posts/ubuntutime/:2:0","tags":["ubuntu","linux","windows"],"title":"win10,ubuntu åŒç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´","uri":"/posts/ubuntutime/"},{"categories":["OS"],"content":"æ–¹æ³•äºŒ è€ç‰ˆ Ubuntuï¼ˆUbuntu10 å·¦å³ï¼‰ï¼š ä¿®æ”¹ /etc/default/rcS æ–‡ä»¶ ç¼–è¾‘ /etc/default/rcS å°† UTC=yesæ”¹æˆ UTC=no ã€‚ æ–°ç‰ˆ Ubuntuï¼ˆUbuntu16.04ï¼‰ï¼š æ–°ç‰ˆæœ¬çš„ Ubuntu ä½¿ç”¨ systemd å¯åŠ¨ä¹‹åï¼Œæ—¶é—´ä¹Ÿæ”¹æˆäº†ç”± timedatectl æ¥ç®¡ç†ï¼Œæ­¤æ–¹æ³•å°±ä¸é€‚ç”¨äº†ã€‚ $sudo timedatectl set-local-rtc 1 å…ˆåœ¨ ubuntu ä¸‹æ›´æ–°ä¸€ä¸‹æ—¶é—´ï¼Œç¡®ä¿æ—¶é—´æ— è¯¯ï¼š $sudo apt-get install ntpdate $sudo ntpdate time.windows.com ç„¶åå°†æ—¶é—´æ›´æ–°åˆ°ç¡¬ä»¶ä¸Šï¼š $sudo hwclock --localtime --systohc é‡æ–°è¿›å…¥ windows10ï¼Œå‘ç°æ—¶é—´æ¢å¤æ­£å¸¸äº†ï¼ ","date":"2019-03-15","objectID":"/posts/ubuntutime/:3:0","tags":["ubuntu","linux","windows"],"title":"win10,ubuntu åŒç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´","uri":"/posts/ubuntutime/"},{"categories":["JavaScript"],"content":" ä»¥å‰åœ¨ QQ é‡Œé¢èŠå¤©çš„æ—¶å€™å‘ç°ï¼Œæœ‰äº›é“¾æ¥æ˜¯å¡ç‰‡å¼çš„é“¾æ¥ï¼ŒåƒçŸ¥ä¹é‡Œé‚£äº›ä¸€æ ·ï¼Œå°±å¥½å¥‡ä¸ºå•¥æˆ‘çš„åŸŸåæ²¡æœ‰ç”Ÿæˆå¡ç‰‡ã€‚ æŸ¥äº†ä¸€ä¸‹ç™¾åº¦çŸ¥é“äº†å¤§æ¦‚å°±æ˜¯ qq æ²¡æœ‰æŠ“å–åˆ°ä½ çš„ç½‘ç«™çš„ xmlã€‚å¹¶åœ¨å…¶ä»–æ•™ç¨‹ä¸­å¾—åˆ°äº†ä¸€ä¸ªå¼ºåˆ¶æäº¤æŠ“å–çš„ url https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshareget_urlinfo?url= äºæ˜¯å°±æœ‰äº†è„šæœ¬åˆ·æ–°çš„æƒ³æ³•ã€‚ç®€é™‹çš„å†™äº†ä¸€ä¸‹ã€‚ ","date":"2019-03-08","objectID":"/posts/qqxml/:0:0","tags":["JavaScript"],"title":"QQ å¼ºåˆ¶ç”Ÿæˆå¡ç‰‡å¼é“¾æ¥","uri":"/posts/qqxml/"},{"categories":["JavaScript"],"content":"æ‰¹é‡å¼åˆ·æ–° //è®¾ç½®åˆ·æ–°å‰ç¼€ url=é¦–é¡µåœ°å€ï¼ˆæœ€å¥½ä½¿ç”¨ httpsï¼‰ var base_src = 'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshareget_urlinfo?url=https://lruihao.cn'; //ç”¨æˆ·åœ°å€ //var custom_src = \"https://lruihao.cn\"; //åˆå§‹åŒ–å·¥ä½œåœ°å€ var new_src = ''; function createArrayAndOpenWindow() { //alert(\"number function\"); //å®šä¹‰æ•°ç»„å­˜å‚¨åç¼€ var numberArray = new Array(4); //å­˜å‚¨åç¼€ numberArray[0] = '/about/'; numberArray[1] = '/categories/'; numberArray[2] = '/tags/'; numberArray[3] = '/archives/'; //numberArray[4] = \"/guestbook/\"; //éå† for (var i = 0; i \u003c numberArray.length; i++) { new_src = base_src + numberArray[i]; //æ‰“å¼€è¯¥åœ°å€ open_new(); //æ¸…ç©ºåç¼€ new_src = ''; } } //è´Ÿè´£æ‰“å¼€çª—å£ï¼Œå¹¶å…³é—­ function open_new() { var new_window = window.open(new_src, '', 'width=400,height=200'); setTimeout(function () { //å¼€å¯å 200msï¼ˆå•é¡µï¼‰å…³é—­ï¼Œé€Ÿåº¦è‡ªè¡ŒæŠŠæ¡æ•°ç»„è¶Šå¤§æ—¶é—´è¶Šå¤š new_window.close(); }, 2000); } window.onload = function () { createArrayAndOpenWindow(); //è®¾ç½®å®šæ—¶å‡½æ•°ï¼Œç–¯ç‹‚åˆ·æ–°ç›´åˆ° xml å‡ºç°å†…å®¹ var timer = setInterval('createArrayAndOpenWindow()', 2000); }; ","date":"2019-03-08","objectID":"/posts/qqxml/:1:0","tags":["JavaScript"],"title":"QQ å¼ºåˆ¶ç”Ÿæˆå¡ç‰‡å¼é“¾æ¥","uri":"/posts/qqxml/"},{"categories":["JavaScript"],"content":"å•é“¾æ¥åˆ·æ–° \u003cdiv style=\"text-align: center;\"\u003e \u003cinput type=\"text\" id=\"input\" value=\"\" /\u003e \u003cinput type=\"button\" value=\"ç–¯ç‹‚åˆ·æ–°\" onclick=\"yanzheng()\" /\u003e \u003c/div\u003e //è®¾ç½®åˆ·æ–°å‰ç¼€ url=é¦–é¡µåœ°å€ï¼ˆæœ€å¥½ä½¿ç”¨ httpsï¼‰https://lruihao.cn var base_src = 'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshareget_urlinfo?url='; //ç”¨æˆ·åœ°å€ var custom_src = ''; //åˆå§‹åŒ–å·¥ä½œåœ°å€ var new_src = ''; //è´Ÿè´£æ‰“å¼€çª—å£ï¼Œå¹¶å…³é—­ function open_new() { var new_window = window.open(new_src, '', 'width=400,height=200'); setTimeout(function () { //å¼€å¯å 200ms å…³é—­ new_window.close(); }, 200); } // è·å–éªŒè¯ç”¨æˆ·è¾“å…¥ function yanzheng() { var Input = document.getElementById('input'); var oValue = Input.value; custom_src = oValue; new_src = base_src + custom_src; if (oValue == 0) { alert('è¯·è¾“å…¥åœ°å€'); } else { var timer = setInterval('open_new()', 200); } } ","date":"2019-03-08","objectID":"/posts/qqxml/:2:0","tags":["JavaScript"],"title":"QQ å¼ºåˆ¶ç”Ÿæˆå¡ç‰‡å¼é“¾æ¥","uri":"/posts/qqxml/"},{"categories":["JavaScript"],"content":"demo çº¿ä¸Š demo ä»…åšå‚è€ƒè¯·è‡ªè¡Œä¸‹è½½ æ•ˆæœ ","date":"2019-03-08","objectID":"/posts/qqxml/:3:0","tags":["JavaScript"],"title":"QQ å¼ºåˆ¶ç”Ÿæˆå¡ç‰‡å¼é“¾æ¥","uri":"/posts/qqxml/"},{"categories":["OS"],"content":"å¤–å­˜çš„ç»„ç»‡æ–¹å¼ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:1:0","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"è¿ç»­ç»„ç»‡æ–¹å¼ è¿ç»­ç»„ç»‡æ–¹å¼çš„ä¼˜ç‚¹ é¡ºåºè®¿é—®å®¹æ˜“ é¡ºåºè®¿é—®é€Ÿåº¦å¿« è¿ç»­ç»„ç»‡æ–¹å¼çš„ç¼ºç‚¹ åˆ†é…è¿ç»­çš„å­˜å‚¨ç©ºé—´ å¿…é¡»çŸ¥é“æ–‡ä»¶é•¿åº¦ åˆ é™¤ä¸æ’å…¥æ•°æ®ä¸çµæ´» åŠ¨æ€å¢é•¿çš„æ–‡ä»¶åˆ†é…ç©ºé—´é—®é¢˜ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:1:1","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"é“¾æ¥ç»„ç»‡æ–¹å¼ éšå¼é“¾æ¥ æ˜¾å¼é“¾æ¥ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:1:2","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"FAT æŠ€æœ¯ FAT12 æ—©æœŸçš„ FAT12 æ–‡ä»¶ç³»ç»Ÿ ä»¥ç°‡ä¸ºå•ä½çš„ FAT12 æ–‡ä»¶ç³»ç»Ÿ FAT16 FAT32 ","date":"2019-03-04","objectID":"/posts/cipanadmin/:1:3","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"NTFS çš„æ–‡ä»¶ç»„ç»‡æ–¹å¼ NTFS æ–°ç‰¹å¾ ç£ç›˜ç»„ç»‡ æ–‡ä»¶çš„ç»„ç»‡ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:1:4","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"ç´¢å¼•ç»„ç»‡æ–¹å¼ å•çº§ç´¢å¼•ç»„ç»‡æ–¹å¼ å¤šçº§ç´¢å¼•ç»„ç»‡æ–¹å¼ å¢é‡å¼ç´¢å¼•ç»„ç»‡æ–¹å¼ å¢é‡å¼ç´¢å¼•ç»„ç»‡æ–¹å¼çš„åŸºæœ¬æ€æƒ³ UNIX System V çš„ç»„ç»‡æ–¹å¼ ç›´æ¥åœ°å€ ä¸€æ¬¡é—´æ¥åœ°å€ å¤šæ¬¡é—´æ¥åœ°å€ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:1:5","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç† ","date":"2019-03-04","objectID":"/posts/cipanadmin/:2:0","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"ç©ºé—²è¡¨æ³•å’Œç©ºé—²é“¾è¡¨æ³• ç©ºé—²è¡¨æ³• ç©ºé—²è¡¨ å­˜å‚¨ç©ºé—´çš„åˆ†é…ä¸å›æ”¶ ç©ºé—²é“¾è¡¨æ³• ç©ºé—²ç›˜å—é“¾ ç©ºé—²ç›˜åŒºé“¾ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:2:1","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"ä½ç¤ºå›¾æ³• ä½ç¤ºå›¾ ç›˜å—çš„åˆ†é…ï¼ˆæ­¥éª¤ï¼‰ é¡ºåºæ‰«æç¤ºå›¾ è½¬æ¢ç›˜å—å· ä¿®æ”¹ä½ç¤ºå›¾ ç›˜å—çš„å›æ”¶ï¼ˆæ­¥éª¤ï¼‰ ç›˜å—å·è½¬æ¢æˆè¡Œåˆ—å· ä¿®æ”¹ä½ç¤ºå›¾ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:2:2","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"æˆç»„é“¾æ¥æ³• ç©ºé—²ç›˜å—çš„ç»„ç»‡ ç©ºé—²ç›˜å—çš„åˆ†é…ä¸å›æ”¶ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:2:3","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"æé«˜ç£ç›˜ I/O é€Ÿåº¦çš„é€”å¾„ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:3:0","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"ç£ç›˜é«˜é€Ÿç¼“å­˜ æ•°æ®äº¤ä»˜æ–¹å¼ æ•°æ®äº¤ä»˜ æŒ‡é’ˆäº¤ä»˜ ç½®æ¢ç®—æ³• å‘¨æœŸæ€§åœ°å†™å›ç£ç›˜ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:3:1","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"æé«˜ç£ç›˜ I/O é€Ÿåº¦çš„å…¶ä»–æ–¹æ³• æå‰è¯» å»¶è¿Ÿå†™ ä¼˜åŒ–ç‰©ç†å—çš„åˆ†å¸ƒ è™šæ‹Ÿç›˜ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:3:2","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"å»‰ä»·ç£ç›˜å†—ä½™é˜µåˆ— (RAID) å¹¶è¡Œäº¤å‰å­˜å– RAID çš„åˆ†çº§ RAID 0 çº§ RAID 1 çº§ RAID 2 çº§ RAID 3 çº§ RAID 4 çº§ RAID 5 çº§ RAID 6 çº§å’Œ RAID 7 çº§ RAID çš„ä¼˜ç‚¹ å¯é æ€§é«˜ ç£ç›˜ I/O é€Ÿåº¦é«˜ æ€§ä»·æ¯”é«˜ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:3:3","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"æé«˜ç£ç›˜å¯é æ€§çš„æŠ€æœ¯ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:4:0","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"ç¬¬ä¸€çº§å®¹é”™æŠ€æœ¯ SFT-â…  åŒä»½ç›®å½•å’ŒåŒä»½æ–‡ä»¶åˆ†é…è¡¨ çƒ­ä¿®å¤é‡å®šå‘å’Œå†™åè¯»æ ¡éªŒ çƒ­ä¿®å¤é‡å®šå‘ å†™åè¯»æ ¡éªŒæ–¹å¼ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:4:1","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"ç¬¬äºŒçº§å®¹é”™æŠ€æœ¯ SFT-â…¡ ç£ç›˜é•œåƒ ç£ç›˜åŒå·¥ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:4:2","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"åŸºäºé›†ç¾¤æŠ€æœ¯çš„å®¹é”™åŠŸèƒ½ åŒæœºçƒ­å¤‡ä»½æ¨¡å¼ åŒæœºäº’ä¸ºå¤‡ä»½æ¨¡å¼ å…¬ç”¨ç£ç›˜æ¨¡å¼ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:4:3","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"åå¤‡ç³»ç»Ÿ ç£å¸¦æœº ç¡¬ç›˜ ç§»åŠ¨ç£ç›˜ å›ºå®šç¡¬ç›˜é©±åŠ¨å™¨ å…‰ç›˜é©±åŠ¨å™¨ CD-ROM å’Œ DVD-ROM åˆ»å½•æœº ","date":"2019-03-04","objectID":"/posts/cipanadmin/:4:4","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"æ•°æ®ä¸€è‡´æ€§æ§åˆ¶ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:5:0","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"äº‹åŠ¡ äº‹åŠ¡çš„å®šä¹‰ äº‹åŠ¡è®°å½• æ¢å¤ç®—æ³• undo \u003cTi\u003e redo \u003cTi\u003e ","date":"2019-03-04","objectID":"/posts/cipanadmin/:5:1","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"æ£€æŸ¥ç‚¹ æ£€æŸ¥ç‚¹çš„ä½œç”¨ æ–°çš„æ¢å¤ç®—æ³• ","date":"2019-03-04","objectID":"/posts/cipanadmin/:5:2","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"å¹¶å‘æ§åˆ¶ åˆ©ç”¨äº’æ–¥é”å®ç°â€œé¡ºåºæ€§â€ åˆ©ç”¨äº’æ–¥é”å’Œå…±äº«é”å®ç°é¡ºåºæ€§ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:5:3","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["OS"],"content":"é‡å¤æ•°æ®çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ é‡å¤æ–‡ä»¶çš„ä¸€è‡´æ€§ é“¾æ¥æ•°ä¸€è‡´æ€§æ£€æŸ¥ ","date":"2019-03-04","objectID":"/posts/cipanadmin/:5:4","tags":["OS","ç£ç›˜"],"title":"ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†","uri":"/posts/cipanadmin/"},{"categories":["JavaScript"],"content":" è¯·ç‚¹å‡»éªŒè¯ç å¤„ï¼šâ†‘ ","date":"2019-03-04","objectID":"/posts/js-vcode/:0:0","tags":["JavaScript"],"title":"JS éªŒè¯ç ","uri":"/posts/js-vcode/"},{"categories":["JavaScript"],"content":" éªŒè¯ç  JS æ¥æºäº’è”ç½‘ \u003cscript type=\"text/javascript\"\u003e //è®¾ç½®ä¸€ä¸ªå…¨å±€çš„å˜é‡ï¼Œä¾¿äºä¿å­˜éªŒè¯ç  var code; function createCode(){ //é¦–å…ˆé»˜è®¤ code ä¸ºç©ºå­—ç¬¦ä¸² code = ''; //è®¾ç½®é•¿åº¦ï¼Œè¿™é‡Œçœ‹éœ€æ±‚ï¼Œæˆ‘è¿™é‡Œè®¾ç½®äº† 4 var codeLength = 4; var codeV = document.getElementById('code'); //è®¾ç½®éšæœºå­—ç¬¦ var random = new Array(0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R', 'S','T','U','V','W','X','Y','Z'); //å¾ªç¯ codeLength æˆ‘è®¾ç½®çš„ 4 å°±æ˜¯å¾ªç¯ 4 æ¬¡ for(var i = 0; i \u003c codeLength; i++){ //è®¾ç½®éšæœºæ•°èŒƒå›´ï¼Œè¿™è®¾ç½®ä¸º 0 ~ 36 var index = Math.floor(Math.random()*36); //å­—ç¬¦ä¸²æ‹¼æ¥ å°†æ¯æ¬¡éšæœºçš„å­—ç¬¦ è¿›è¡Œæ‹¼æ¥ code += random[index]; } //å°†æ‹¼æ¥å¥½çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™å±•ç¤ºçš„ Value codeV.value = code; } //ä¸‹é¢å°±æ˜¯åˆ¤æ–­æ˜¯å¦== çš„ä»£ç ï¼Œæ— éœ€è§£é‡Šï¼Œä¹Ÿå¯ä»¥ç»“åˆ ajax åœ¨åå°åšåˆ¤æ–­ function validate(){ var Input = document.getElementById('input'); var oValue = Input.value.toUpperCase(); if(oValue ==0){ alert('è¯·è¾“å…¥éªŒè¯ç '); }else if(oValue != code){ Input.value = ''; alert('éªŒè¯ç ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°è¾“å…¥'); createCode(); }else{ Input.value = ''; alert('éªŒè¯ç æ­£ç¡®ï¼');//window.open('http://lruihao.cn','_self'); } } //è®¾ç½®æ­¤å¤„çš„åŸå› æ˜¯æ¯æ¬¡è¿›å…¥ç•Œé¢å±•ç¤ºä¸€ä¸ªéšæœºçš„éªŒè¯ç ï¼Œä¸è®¾ç½®åˆ™ä¸ºç©º window.onload = function (){ createCode(); } \u003c/script\u003e ","date":"2019-03-04","objectID":"/posts/js-vcode/:1:0","tags":["JavaScript"],"title":"JS éªŒè¯ç ","uri":"/posts/js-vcode/"},{"categories":["Java"],"content":" å¼•ç”¨ ç»§æ‰¿çš„å¥½å¤„ï¼š æé«˜äº†ä»£ç çš„å¤ç”¨æ€§ æé«˜äº†ä»£ç çš„ç»´æŠ¤æ€§ è®©ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿäº†å…³ç³»ï¼Œæ˜¯å¤šæ€çš„å‰æ ç»§æ‰¿çš„å¼Šç«¯ï¼šç±»çš„è€¦åˆæ€§å¾ˆå¼º è®¾è®¡åŸåˆ™ï¼šä½è€¦åˆï¼Œé«˜å†…èšã€‚ è€¦åˆï¼šç±»ä¸ç±»çš„å…³ç³»ã€‚ å†…èšï¼šè‡ªå·±å®Œæˆäº‹æƒ…çš„èƒ½åŠ›ã€‚ ","date":"2019-01-24","objectID":"/posts/jicheng/:0:0","tags":["Java"],"title":"java ç»§æ‰¿ test","uri":"/posts/jicheng/"},{"categories":["Java"],"content":"java ä¸­çš„ç»§æ‰¿ç‰¹ç‚¹ Java åªæ”¯æŒå•ç»§æ‰¿ï¼Œä¸æ”¯æŒå¤šç»§æ‰¿ã€‚Java æ”¯æŒå¤šå±‚ç»§æ‰¿ï¼ˆç»§æ‰¿ä½“ç³»ï¼‰ class A { } class B extends A { } /* class C extends A,B { } */ class C extends B { } class ExtendsDemo { public static void main(String[] args) { } } ","date":"2019-01-24","objectID":"/posts/jicheng/:0:1","tags":["Java"],"title":"java ç»§æ‰¿ test","uri":"/posts/jicheng/"},{"categories":["Java"],"content":"java ä¸­çš„ç»§æ‰¿æ³¨æ„äº‹é¡¹ å­ç±»åªèƒ½ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰éç§æœ‰çš„æˆå‘˜ï¼ˆæˆå‘˜æ–¹æ³•å’Œæˆå‘˜å˜é‡ï¼‰ å­ç±»ä¸èƒ½ç»§æ‰¿çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ super å…³é”®å­—å»è®¿é—®çˆ¶ç±»æ„é€ æ–¹æ³•ã€‚ ä¸è¦ä¸ºäº†éƒ¨åˆ†åŠŸèƒ½è€Œå»ç»§æ‰¿ é‚£ä¹ˆï¼Œæˆ‘ä»¬ä»€ä¹ˆæ—¶å€™è€ƒè™‘ä½¿ç”¨ç»§æ‰¿å‘¢ï¼Ÿ ç»§æ‰¿ä¸­ç±»ä¹‹é—´ä½“ç°çš„æ˜¯ï¼šâ€is aâ€çš„å…³ç³»ã€‚ å¦‚æœä¸¤ä¸ªç±»æ»¡è¶³è¿™ä¸ªå…³ç³»ï¼šxxx is a yyyï¼Œé‚£ä¹ˆä»–ä»¬å°±å¯ä»¥ä½¿ç”¨ç»§æ‰¿ã€‚ Student,Person å¯¹ Dog,Animal å¯¹ Dog,Pig é”™ ","date":"2019-01-24","objectID":"/posts/jicheng/:0:2","tags":["Java"],"title":"java ç»§æ‰¿ test","uri":"/posts/jicheng/"},{"categories":["Java"],"content":"ç»§æ‰¿ ç»§æ‰¿é—´çš„æ„é€ æ–¹æ³•å…³ç³»ï¼šåˆ›å»ºå­ç±»å¯¹è±¡ï¼Œä¼šå…ˆå»è®¿é—®çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚å¯¹çˆ¶ç±»çš„æ•°æ®è¿›è¡Œåˆå§‹åŒ–ã€‚ package jicheng; class Fu{ public int num = 10; public Fu(){ System.out.println(\"çˆ¶ç±»\"); } } class Zi extends Fu{ public int num = 20; public Zi(){ System.out.println(\"å­ç±»\"); } public void show(){ int num = 30; System.out.println(num);//30 System.out.println(this.num);//20 System.out.println(super.num);//10 } } public class test { public static void main(String[] args) { Zi z = new Zi(); z.show(); } } ç¨‹åºè¿è¡Œç»“æœ çˆ¶ç±» å­ç±» 30 20 10 ","date":"2019-01-24","objectID":"/posts/jicheng/:0:3","tags":["Java"],"title":"java ç»§æ‰¿ test","uri":"/posts/jicheng/"},{"categories":["Java"],"content":"ä»£ç å— ä»£ç å—çš„æ‰§è¡Œé¡ºåºï¼š é™æ€ä»£ç å— â€“\u003e æ„é€ ä»£ç å— â€“\u003e æ„é€ æ–¹æ³• ä»£ç çš„æ‰§è¡Œç‰¹ç‚¹ï¼šé™æ€ä»£ç å—åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ„é€ ä»£ç å—æ¯æ¬¡è°ƒç”¨æ„é€ æ–¹æ³•éƒ½æ‰§è¡Œã€‚ package jicheng; class Fu { static { System.out.println(\"çˆ¶ç±»é™æ€ä»£ç å—\"); } { System.out.println(\"çˆ¶ç±»æ„é€ ä»£ç å—\"); } public Fu() { System.out.println(\"çˆ¶ç±»æ„é€ æ–¹æ³•\"); } } class Zi extends Fu { static { System.out.println(\"å­ç±»é™æ€ä»£ç å—\"); } { System.out.println(\"å­ç±»æ„é€ ä»£ç å—\"); } public Zi() { System.out.println(\"å­ç±»æ„é€ æ–¹æ³•\"); } } public class test { public static void main(String[] args) { Zi z = new Zi(); Zi z2 = new Zi(); } } ç¨‹åºè¿è¡Œç»“æœï¼š çˆ¶ç±»é™æ€ä»£ç å— å­ç±»é™æ€ä»£ç å— çˆ¶ç±»æ„é€ ä»£ç å— çˆ¶ç±»æ„é€ æ–¹æ³• å­ç±»æ„é€ ä»£ç å— å­ç±»æ„é€ æ–¹æ³• çˆ¶ç±»æ„é€ ä»£ç å— çˆ¶ç±»æ„é€ æ–¹æ³• å­ç±»æ„é€ ä»£ç å— å­ç±»æ„é€ æ–¹æ³• ","date":"2019-01-24","objectID":"/posts/jicheng/:0:4","tags":["Java"],"title":"java ç»§æ‰¿ test","uri":"/posts/jicheng/"},{"categories":["Java"],"content":"ç»§æ‰¿é—´çš„æˆå‘˜å…³ç³» æˆå‘˜æ–¹æ³• ä¸åŒåç§°ï¼š éå¸¸ç®€å•ï¼Œä¸€çœ‹å°±çŸ¥é“è°ƒç”¨è° ç›¸åŒåç§°ï¼š å…ˆåœ¨å­ç±»æ‰¾ï¼Œå†åœ¨çˆ¶ç±»æ‰¾ â€¦ æ‰¾ä¸åˆ°å°±æŠ¥é”™ã€‚ æˆå‘˜å˜é‡ï¼š åå­—ä¸åŒï¼š éå¸¸çš„ç®€å•ï¼Œä¸€çœ‹å°±çŸ¥é“ä½¿ç”¨çš„æ˜¯è°ã€‚ åå­—ç›¸åŒï¼š å°±è¿‘åŸåˆ™ã€‚ ä½¿ç”¨å˜é‡çš„æ—¶å€™ï¼Œä¼šå…ˆæ‰¾å±€éƒ¨èŒƒå›´ã€‚ å¦‚æœæƒ³ç›´æ¥ä½¿ç”¨æˆå‘˜å˜é‡ï¼ŒåŠ å…³é”®å­—ï¼šthis å³å¯ã€‚ å¦‚æœæƒ³ç›´æ¥ä½¿ç”¨çˆ¶ç±»çš„æˆå‘˜å˜é‡ï¼ŒåŠ å…³é”®å­—ï¼šsuper å³å¯ã€‚ ","date":"2019-01-24","objectID":"/posts/jicheng/:0:5","tags":["Java"],"title":"java ç»§æ‰¿ test","uri":"/posts/jicheng/"},{"categories":["Java"],"content":"æ³¨æ„äº‹é¡¹ å­ç±»ä¸­æ‰€æœ‰çš„æ„é€ æ–¹æ³•é»˜è®¤éƒ½ä¼šè®¿é—®çˆ¶ç±»ä¸­ç©ºå‚æ•°çš„æ„é€ æ–¹æ³•ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå­ç±»ä¼šç»§æ‰¿çˆ¶ç±»ä¸­çš„æ•°æ®ï¼Œå¯èƒ½è¿˜ä¼šä½¿ç”¨çˆ¶ç±»çš„æ•°æ®ã€‚æ‰€ä»¥ï¼Œå­ç±»åˆå§‹åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆå®Œæˆçˆ¶ç±»æ•°æ®çš„åˆå§‹åŒ–ã€‚ ","date":"2019-01-24","objectID":"/posts/jicheng/:0:6","tags":["Java"],"title":"java ç»§æ‰¿ test","uri":"/posts/jicheng/"},{"categories":["Memo"],"content":" æœ¬ä»¥ä¸º coding pages ä¸è…¾è®¯äº‘åˆä½œåä¼šæ›´å¥½ï¼Œæ²¡æƒ³åˆ°æ­£æ˜¯è¿™ç§åˆæœŸ bug ä¸æ–­ï¼Œé€Ÿåº¦ä¹Ÿæ˜¯éå¸¸æ…¢ã€‚æ¯” gitee, ç”šè‡³ github éƒ½è¦æ…¢å¾ˆå¤šäº†ã€‚æ‰€ä»¥å†³å®šæ”¾å¼ƒ coding äº†ï¼Œæœ¬æƒ³æŒ‚åˆ°äº‘æœåŠ¡å™¨ä¸Šï¼Œä½†æ˜¯è¿™ä¸ªäº‘æœåŠ¡å™¨åªç»­è´¹äº†åŠå¹´ï¼Œå¯èƒ½ä¸ä¼šå†ç»­è´¹ï¼Œå‰å‡ å¤©çœ‹åˆ°ç”¨è…¾è®¯äº‘çš„ cos æ¡¶ xml åˆ¶ä½œåŠ¨æ€ç›¸å†Œçš„æ–‡ç« ï¼ŒçŸ¥é“äº†å¯¹è±¡å­˜å‚¨è¿™ä¸ªç©æ„ï¼Œè…¾è®¯äº‘ COS æä¾›å…è´¹ 50G çš„å­˜å‚¨ç©ºé—´ï¼Œè¿˜æœ‰ CDN åŠ é€ŸæœåŠ¡ï¼Œæˆ‘è§‰å¾—æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œéƒ¨ç½²åå‘ç°é€Ÿåº¦è¿˜æŒºå¥½ã€‚ é€‚ç”¨äº hexo, hugo ç­‰é™æ€åšå®¢çš„éƒ¨ç½²ã€‚ ","date":"2019-01-22","objectID":"/posts/cos-hexo/:0:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Memo"],"content":"åˆ›å»ºå­˜å‚¨æ¡¶ æ‰“å¼€è…¾è®¯äº‘æ§åˆ¶å°â€“äº‘äº§å“â€“å­˜å‚¨â€“å¯¹è±¡å­˜å‚¨ï¼Œç„¶ååˆ›å»ºå­˜å‚¨æ¡¶ã€‚ ","date":"2019-01-22","objectID":"/posts/cos-hexo/:1:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Memo"],"content":"å¼€å¯é™æ€ç½‘ç«™è®¾ç½® åœ¨åŸºç¡€é…ç½®æ‰“å¼€é™æ€ç½‘ç«™ï¼ˆå…³æ‰å¼ºåˆ¶ https) ","date":"2019-01-22","objectID":"/posts/cos-hexo/:2:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Memo"],"content":"ç»‘å®šåŸŸå SSL è®¾ç½® ","date":"2019-01-22","objectID":"/posts/cos-hexo/:3:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Memo"],"content":"åŸŸåè§£æï¼Œæ·»åŠ è®°å½• å» dns æœåŠ¡å•†æ·»åŠ åŸŸåè§£æè®°å½• CNAME æŒ‡å‘ä¸Šé¢çš„åŸŸå ","date":"2019-01-22","objectID":"/posts/cos-hexo/:4:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Memo"],"content":"hexo è®¾ç½® å®‰è£…æ’ä»¶ npm install hexo-deployer-cos --save ç«™ç‚¹é…ç½®æ–‡ä»¶ deploy: type: cos bucket: yourBucketName #cos æ¡¶åç§° appId: yourAppId #cos æ¡¶åç§°åæ•°å­— secretId: yourSecretId #äº‘ API å¯†é’¥ secretKey: yourSecretKey #äº‘ API å¯†é’¥ region: yourRegion #æ‰€å±åœ°åŸŸ å‘å¸ƒè¿˜æ˜¯ä¸€æ ·çš„ hexo clean hexo g -d ç»“æœç±»ä¼¼äº ","date":"2019-01-22","objectID":"/posts/cos-hexo/:5:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Memo"],"content":"CDN åˆ·æ–° æ¯æ¬¡æ›´æ–°åšå®¢å†…å®¹å®Œåï¼Œéƒ½è¦ç™»é™†è…¾è®¯äº‘ CDNâ€“ç¼“å­˜åˆ·æ–°ï¼Œæ‰‹åŠ¨åˆ·æ–°ä¸€ä¸‹ CDNã€‚ ç”¨è„šæœ¬åœ¨æ¯æ¬¡æ›´æ–°ååˆ·æ–° å®‰è£… npm install qcloud-cdn-node-sdk --save åˆ›å»ºqcloudcdn.jsæ”¾å…¥scriptæ–‡ä»¶å¤¹ const qcloudSDK = require('qcloud-cdn-node-sdk'); qcloudSDK.config({ secretId: 'ä½ çš„ ID', secretKey: 'ä½ çš„å¯†é’¥' }); qcloudSDK.request( 'RefreshCdnDir', { 'dirs.1': 'http://åšå®¢åœ°å€' }, (res) =\u003e { console.log(res); } ); ","date":"2019-01-22","objectID":"/posts/cos-hexo/:6:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Memo"],"content":"è‡ªåŠ¨ CDN åˆ·æ–°é…ç½® ï¼ˆæ¨èï¼‰ è¿›å…¥è…¾è®¯äº‘ï¼Œæ‰¾åˆ° å‡½æ•°è®¡ç®— -\u003e CDN ç¼“å­˜åˆ·æ–°å‡½æ•° -\u003e åˆ›å»º CDN ç¼“å­˜åˆ·æ–°å‡½æ•° ä¿®æ”¹ index.js å†…å®¹åé‡æ–°éƒ¨ç½² 'use strict'; const CosSdk = require('cos-nodejs-sdk-v5'); const CdnSdk = require('./common/CdnSdk'); const CdnRefreshTask = require('./common/CdnRefreshTask'); const { getParams, getObjectUrl, logger, getLogSummary } = require('./common/utils'); exports.main_handler = async (event, context, callback) =\u003e { /** * parse param from event and process.env */ const { objects, cdnHosts, secretId, secretKey, token } = getParams(event); logger({ title: 'param is parsed success, param as follow: ', data: { objects, cdnHosts, event } }); /** * init cos instance */ if (!secretId || !secretKey || !token) { throw new Error(`secretId, secretKey or token is missing`); } const cdnSdkInstance = new CdnSdk({ secretId, secretKey, token }); const cosInstance = new CosSdk({ SecretId: secretId, SecretKey: secretKey, XCosSecurityToken: token }); const taskList = objects.map(({ bucket, region, key }) =\u003e { /* å˜æ›´å†…å®¹-START */ const purgeUrls = []; cdnHosts.forEach((host) =\u003e { const tempUrl = getObjectUrl({ cosInstance, bucket, region, key, origin: `${/^(http\\:\\/\\/|https\\:\\/\\/)/.test(host) ? '' : 'https://'}${host}` }); purgeUrls.push(tempUrl); // å¦‚æœä»¥ /index.html ç»“å°¾ï¼Œåˆ™å¢åŠ ç›®å½•é¦–é¡µ/ã€‚ // ä¾‹å¦‚ https://www.xxxx.com/index.html, åˆ™å¢åŠ  https://www.xxxx.com/ã€‚ if (tempUrl.lastIndexOf('/index.html') == tempUrl.length - 11) { purgeUrls.push(tempUrl.substr(0, tempUrl.length - 10)); } }); return new CdnRefreshTask({ cdnSdkInstance, urls: purgeUrls }); /* å˜æ›´å†…å®¹-END */ }); const taskResults = []; for (const task of taskList) { const results = await task.runPurgeTasks(); taskResults.push(...results); } logger({ title: 'cdn refresh full logs:', data: taskResults }); const { status, messages } = getLogSummary(taskResults); logger({ messages: messages.map((item) =\u003e item.replace(/\\,\\ /g, '\\n')) }); if (status === 'fail') { throw messages.join('; '); } else { return messages.join('; '); } }; ","date":"2019-01-22","objectID":"/posts/cos-hexo/:7:0","tags":["hexo","hugo","è…¾è®¯äº‘ cos æ¡¶","å¯¹è±¡å­˜å‚¨"],"title":"åˆ©ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS æ¡¶æ‰˜ç®¡ hexo åšå®¢","uri":"/posts/cos-hexo/"},{"categories":["Java"],"content":"ä¸»è¦æ–¹æ³• static type[] copyof(type[] original,int length) static int binarysearch(type[] a,type key) static boolean equals(type[] a,type[] b) static void fill(type[] a,type val) static void fill(type[] a,int fromindex,int toindex,type val) static void sort(type[] a) ","date":"2019-01-18","objectID":"/posts/java-arrays/:0:1","tags":["Java","Collator","Comparator"],"title":"Arrays ç±»åŠåŸºæœ¬ä½¿ç”¨","uri":"/posts/java-arrays/"},{"categories":["Java"],"content":"å®ä¾‹ä»£ç  package Arrays; import java.text.Collator; import java.util.Arrays; import java.util.Comparator; public class ArraysDemo { public static void main(String agrs[]) { Integer arr[]=new Integer[9]; for(int i=0;i\u003c9;i++) arr[i]=(int)(Math.random()*100); //æ˜¾ç¤ºï¼Œæ’åºæ•°ç»„ System.out.print(\"åŸå†…å®¹ï¼š\"); display(arr); Arrays.sort(arr); System.out.print(\"æ’åºåï¼š\"); display(arr); //å°†å€¼-1 åˆ†é…ç»™æ•°ç»„ arr ä¸­ä¸‹æ ‡ä» 0 åˆ° 3-1 çš„ä½ç½® Arrays.fill(arr, 0,3,-1); System.out.print(\"fill() åï¼š\"); display(arr); //æœç´¢ 23 System.out.print(\"å€¼ 23 çš„ä½ç½®ï¼š\"); int index =Arrays.binarySearch(arr, 23);//äºŒåˆ†æŸ¥æ‰¾ System.out.print(index);//å¦‚æœæŸ¥æ‰¾ä¸åˆ°ï¼Œindex ä¸ºè´Ÿ System.out.print(\"\\n æ’å…¥ 0 åœ¨ 3 å·ä½ç½®ï¼š\"); Arrays.fill(arr,3,4,0); display(arr); System.out.print(\"å€¼ 0 çš„ä½ç½®ï¼š\"); index =Arrays.binarySearch(arr, 0); System.out.print(index); Integer arr2[]=new Integer[8]; arr2=Arrays.copyOf(arr, arr2.length); //å¤åˆ¶ 8 ä¸ª System.out.print(\"\\n å¤åˆ¶åçš„æ•°ç»„ï¼š\"); display(arr2); if(Arrays.equals(arr, arr2)) System.out.println(\"ä¸¤æ•°ç»„ç›¸åŒï¼\"); else System.out.println(\"ä¸¤æ•°ç»„ä¸ç›¸åŒï¼\"); System.out.println(\"----------------------------------------\"); String[] str = {\"è®¡ç®—æœº\",\"é»„æ¡‘\",\"é€šä¿¡\",\"æç‘è±ª\"}; Arrays.sort(str); for(int i=0;i\u003cstr.length;i++) System.out.print(str[i]+\" \"); System.out.println(\"\"); //Collator ç±»æ˜¯ç”¨æ¥æ‰§è¡Œåˆ†è¯­è¨€ç¯å¢ƒçš„å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œè¿™é‡Œç”¨çš„ CHINA Comparator com=Collator.getInstance(java.util.Locale.CHINA);//è·å– Comparator å¯¹è±¡ï¼Œå‚æ•°è¡¨ç¤ºæŒ‰ä¸­æ–‡æ’åº //æ ¹æ®æŒ‡å®šçš„ \"æ¯”è¾ƒå™¨\" äº§ç”Ÿçš„é¡ºåºå¯¹ \"æŒ‡å®šå¯¹è±¡æ•°ç»„\" è¿›è¡Œæ’åº Arrays.sort(str,com);//sort(T[] a,Comparator\u003c?super T\u003ec) for(int i=0;i\u003cstr.length;i++) System.out.print(str[i]+\" \"); } static void display(Integer arr[]) { for(int i=0;i\u003carr.length;i++) System.out.print(arr[i]+\" \"); System.out.println(\"\"); } } ","date":"2019-01-18","objectID":"/posts/java-arrays/:0:2","tags":["Java","Collator","Comparator"],"title":"Arrays ç±»åŠåŸºæœ¬ä½¿ç”¨","uri":"/posts/java-arrays/"},{"categories":["Java"],"content":"ç¨‹åºè¿è¡Œç»“æœ åŸå†…å®¹ï¼š41 0 44 96 49 96 30 6 87 æ’åºåï¼š0 6 30 41 44 49 87 96 96 fill() åï¼š-1 -1 -1 41 44 49 87 96 96 å€¼ 23 çš„ä½ç½®ï¼š-4 æ’å…¥ 0 åœ¨ 3 å·ä½ç½®ï¼š-1 -1 -1 0 44 49 87 96 96 å€¼ 0 çš„ä½ç½®ï¼š3 å¤åˆ¶åçš„æ•°ç»„ï¼š-1 -1 -1 0 44 49 87 96 ä¸¤æ•°ç»„ä¸ç›¸åŒï¼ ---------------------------------------- æç‘è±ª è®¡ç®—æœº é€šä¿¡ é»„æ¡‘ é»„æ¡‘ è®¡ç®—æœº æç‘è±ª é€šä¿¡ ","date":"2019-01-18","objectID":"/posts/java-arrays/:0:3","tags":["Java","Collator","Comparator"],"title":"Arrays ç±»åŠåŸºæœ¬ä½¿ç”¨","uri":"/posts/java-arrays/"},{"categories":["Memo"],"content":" é¦–å…ˆåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å…³é”®å­— recent_posts: enable: true search: true post: false sidebar: false icon: history title: è¿‘æœŸæ–‡ç«  layout: block ","date":"2019-01-16","objectID":"/posts/recent-posts/:0:0","tags":["hexo"],"title":"åœ¨æœç´¢ã€æ–‡ç« åº•éƒ¨ã€ä¾§æ æ·»åŠ æœ€è¿‘æ–‡ç« æ¨¡å—","uri":"/posts/recent-posts/"},{"categories":["Memo"],"content":"ä¾§æ  åœ¨ next/layout/_macro/sidebar.swig ä¸­çš„ if theme.links å¯¹åº”çš„ endif åé¢ã€‚ {% if theme.recent_posts.enable and theme.recent_posts.sidebar %} \u003cdiv class=\"links-of-blogroll motion-element {{ \"links-of-blogroll-\" + theme.recent_posts.layout }}\"\u003e \u003cdiv class=\"links-of-blogroll-title\"\u003e \u003ci class=\"fa fa-history fa-{{ theme.recent_posts.icon | lower }}\" aria-hidden=\"true\"\u003e\u003c/i\u003e {{ theme.recent_posts.title }} \u003c/div\u003e \u003cul class=\"links-of-blogroll-list\"\u003e {% set posts = site.posts.sort('-date') %} {% for post in posts.slice('0', '3') %} \u003cli\u003e \u003ca href=\"{{ url_for(post.path) }}\" title=\"{{ post.title }}\" target=\"_blank\"\u003e{{ post.title }}\u003c/a\u003e \u003c/li\u003e {% endfor %} \u003c/ul\u003e \u003c/div\u003e {% endif %} ","date":"2019-01-16","objectID":"/posts/recent-posts/:1:0","tags":["hexo"],"title":"åœ¨æœç´¢ã€æ–‡ç« åº•éƒ¨ã€ä¾§æ æ·»åŠ æœ€è¿‘æ–‡ç« æ¨¡å—","uri":"/posts/recent-posts/"},{"categories":["Memo"],"content":"æœç´¢ç»“æœå¤„æ·»åŠ  æ‰¾åˆ°è·¯å¾„H:\\hexo\\themes\\hexo-theme-next\\layout\\_partials\\searchä¸‹localsearch.swigæ–‡ä»¶ æŠŠ\u003cdiv id=\"local-search-result\"\u003e\u003c/div\u003eä¿®æ”¹æˆä»¥ä¸‹å†…å®¹ï¼ˆè¿™é‡Œæ˜¾ç¤º 15 ç¯‡ï¼‰ \u003cdiv id=\"local-search-result\"\u003e {% if theme.recent_posts.enable and theme.recent_posts.search %} \u003cdiv style=\"text-align: center;padding: 3px 0 0;\"\u003e \u003cdiv style=\"margin-top: 20px;font-size: 18px;font-weight: 600;border-bottom: 1px solid #ccc;\"\u003e \u003ci class=\"fa fa-{{ theme.recent_posts.icon }}\" aria-hidden=\"true\"\u003e\u003c/i\u003e {{ theme.recent_posts.title }} \u003c/div\u003e \u003cul style=\"margin: 0;padding: 0;list-style: none;\"\u003e {% set posts = site.posts.sort('-date') %} {% for post in posts.slice('0', '15') %} \u003cli\u003e \u003ca href=\"{{ url_for(post.path) }}\" title=\"{{ post.title }}\" target=\"_blank\"\u003e{{ post.title }}\u003c/a\u003e \u003c/li\u003e {% endfor %} \u003c/ul\u003e \u003c/div\u003e {% endif %} \u003c/div\u003e ","date":"2019-01-16","objectID":"/posts/recent-posts/:2:0","tags":["hexo"],"title":"åœ¨æœç´¢ã€æ–‡ç« åº•éƒ¨ã€ä¾§æ æ·»åŠ æœ€è¿‘æ–‡ç« æ¨¡å—","uri":"/posts/recent-posts/"},{"categories":["Memo"],"content":"æ–‡ç« å°¾éƒ¨æ·»åŠ  æŠŠä»£ç åŠ åœ¨H:\\hexo\\themes\\hexo-theme-next\\layout\\_macro\\post.swigé‡Œçš„ç›¸åº”ä½ç½®ï¼ˆæˆ‘åŠ åœ¨ tags åï¼‰ {% if not is_index and theme.recent_posts.enable and theme.recent_posts.post %} \u003cdiv style=\"text-align: center;padding: 10px 0 0;\"\u003e \u003cdiv style=\"margin: 60px 0px 10px;font-size: 18px;border-bottom: 1px solid #eee;\"\u003e \u003ci class=\"fa fa-{{ theme.recent_posts.icon }}\" aria-hidden=\"true\"\u003e\u003c/i\u003e {{ theme.recent_posts.title }} \u003c/div\u003e \u003cul style=\"margin: 0;padding: 0;list-style: none;font-size: 11px;\"\u003e {% set posts = site.posts.sort('-date') %} {% for post in posts.slice('0', '5') %} \u003ca href=\"{{ url_for(post.path) }}\" title=\"{{ post.title }}\" target=\"_blank\"\u003e{{ post.title }}\u003c/a\u003e\u0026emsp; {% endfor %} \u003c/ul\u003e \u003c/div\u003e {% endif %} ","date":"2019-01-16","objectID":"/posts/recent-posts/:3:0","tags":["hexo"],"title":"åœ¨æœç´¢ã€æ–‡ç« åº•éƒ¨ã€ä¾§æ æ·»åŠ æœ€è¿‘æ–‡ç« æ¨¡å—","uri":"/posts/recent-posts/"},{"categories":["Memo"],"content":"å…¶ä»– å¯å°è¯•å°†-dateæ”¹ä¸º-update ","date":"2019-01-16","objectID":"/posts/recent-posts/:4:0","tags":["hexo"],"title":"åœ¨æœç´¢ã€æ–‡ç« åº•éƒ¨ã€ä¾§æ æ·»åŠ æœ€è¿‘æ–‡ç« æ¨¡å—","uri":"/posts/recent-posts/"},{"categories":["Java"],"content":" å¤§ä¸€åˆšå­¦ c çš„æ—¶å€™ä»¥å‰å†™è¿‡ c è¯­è¨€ç‰ˆ çš„ã€‚ Math: é’ˆå¯¹æ•°å­¦è¿›è¡Œè¿ç®—çš„ç±» ç‰¹ç‚¹ï¼šæ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œå› ä¸ºå®ƒçš„æˆå‘˜éƒ½æ˜¯é™æ€çš„ äº§ç”Ÿéšæœºæ•°ï¼š public static double random(): äº§ç”Ÿéšæœºæ•°ï¼ŒèŒƒå›´ [0.0,1.0) äº§ç”Ÿ 1-100 ä¹‹é—´çš„éšæœºæ•° int number = (int)(Math.random()*100)+1; çŒœæ•°å­—å°æ¸¸æˆæ¡ˆä¾‹ class MathDemo { public static void main(String[] args) { //è·å–éšæœºæ•° //double d = Math.random(); //System.out.println(d); /* for(int x=0; x\u003c10; x++) { //System.out.println(Math.random()); System.out.println(Math.random()*100); } */ //æˆ‘ä»¬å¦‚ä½•è·å– 1-100 ä¹‹é—´çš„éšæœºæ•°å‘¢ï¼Ÿ for(int x=0; x\u003c100; x++) { int number = (int)(Math.random()*100)+1; System.out.println(number); } } } ","date":"2019-01-15","objectID":"/posts/mathclass/:0:0","tags":["Java"],"title":"java çŒœæ•°å­—å°æ¸¸æˆï¼ˆMath ç±»ï¼‰","uri":"/posts/mathclass/"},{"categories":["Java"],"content":"å°æ¸¸æˆ è¯¥æ¸¸æˆå¯ä»¥ç”±ç¨‹åºéšæœºäº§ç”Ÿæˆ–ç”±ç”¨æˆ·è¾“å…¥å››ä¸ª 0 åˆ° 9 ä¹‹é—´çš„æ•°å­—ï¼Œä¸”ä¸é‡å¤ã€‚ç©æ¸¸æˆè€…é€šè¿‡æ¸¸æˆæç¤ºè¾“å…¥å…«æ¬¡æ¥åŒ¹é…ä¸Šé¢æ‰€è¾“å…¥çš„æ•°å­—ã€‚A è¡¨ç¤ºä½ç½®æ­£ç¡®ä¸”æ•°å­—æ­£ç¡®ï¼ŒB è¡¨ç¤ºæ•°å­—æ­£ç¡®è€Œä½ç½®ä¸æ­£ç¡®ã€‚ ç®—æ³•ï¼š å¯ä»¥ç›´æ¥ç®—å‡º A ç±»çš„æ•°ç›®ï¼Œä½†æ˜¯ B ç±»çš„æ•°ç›®ç›´æ¥ç®—å‡ºæˆ–è®¸ä¼šå¾ˆéº»çƒ¦ï¼Œæ­£å¥½æˆ‘ä»¬å¯ä»¥å…ˆç®—å‡º C ç±»æ•°ç›®æ°å¥½å‡å» A ç±»å°±æ˜¯ B ç±»äº†ã€‚ package caishuzi; import java.util.Scanner; class Num { private int[] a= {0,0,0,0}; public Num() {} public void setx() { /*for(int i=0;i\u003c4;i++) { a[i]=(int)(Math.random()*10); }*/ //ä¸ºäº†å››ä¸ªäº’ä¸ç›¸åŒçš„éšæœºæ•° a[0]=(int)Math.random()*10+1; for(int i=1;i\u003c4;i++) { int t=(int)(Math.random()*10); for(int j=0;j\u003ci;j++) { if(t==a[j]) { t=(int)(Math.random()*10); j=0; } } a[i]=t; } } public int[] getx() { return a; } public void show() { System.out.println(); for(int i=0;i\u003c4;i++) System.out.print(a[i]+\" \"); System.out.println(); } } public class caishuzi { public static void main(String agrs[]) { int a[] = {0,0,0,0},b[] = {0,0,0,0}; System.out.println(\"* * * *\\n è¯·è¾“å…¥ 4 ä¸ªæ•°å­—ï¼A è¡¨ç¤ºä½ç½®æ•°å­—éƒ½æ­£ç¡®ï¼ŒB è¡¨ç¤ºæ•°å­—æ­£ç¡®ä½ç½®é”™è¯¯ã€‚\"); Scanner sc=new Scanner(System.in); Num n=new Num(); n.setx(); a=n.getx(); /*for(int i=0;i\u003c4;i++) System.out.print(a[i]+\" \"); n.show();*/ for(int k=0;k\u003c10;k++) {//çŒœæµ‹æ¬¡æ•° int A=0,B=0,C=0; for(int i=0;i\u003c4;i++) { b[i]=sc.nextInt(); } sc.close(); for(int i=0;i\u003c4;i++){ if (b[i]==a[i])A++; for(int j=0;j\u003c4;j++){ C=b[i]==a[j]?++C:C;//C è¡¨ç¤ºçŒœæµ‹æ•°å†…å’Œéšæœºæ•°ä¸­ A ç±»å’Œ B ç±»æ•°çš„æ•°ç›® if (b[i]==a[j])break; } } B=C-A;// å…³é”®ç®—æ³•ï¼ˆæ„Ÿå¹æ•°å­¦é­…åŠ›ï¼‰ if(A==4) { System.out.println(\"æ­å–œçŒœå¯¹å•¦ï¼\"); }else { System.out.println(A+\"A\"+B+\"B\"); } } } } ","date":"2019-01-15","objectID":"/posts/mathclass/:0:1","tags":["Java"],"title":"java çŒœæ•°å­—å°æ¸¸æˆï¼ˆMath ç±»ï¼‰","uri":"/posts/mathclass/"},{"categories":["Java"],"content":"ä¸€æ¬¡æ¸¸æˆè¿‡ç¨‹ * * * * è¯·è¾“å…¥ 4 ä¸ªæ•°å­—ï¼A è¡¨ç¤ºä½ç½®æ•°å­—éƒ½æ­£ç¡®ï¼ŒB è¡¨ç¤ºæ•°å­—æ­£ç¡®ä½ç½®é”™è¯¯ã€‚ 0 1 2 3 0A1B 0 1 2 4 0A1B 0 1 2 5 1A1B 6 1 2 5 1A2B 1 6 2 5 3A0B 1 6 7 5 æ­å–œçŒœå¯¹å•¦ï¼ ","date":"2019-01-15","objectID":"/posts/mathclass/:0:2","tags":["Java"],"title":"java çŒœæ•°å­—å°æ¸¸æˆï¼ˆMath ç±»ï¼‰","uri":"/posts/mathclass/"},{"categories":["Java"],"content":"é¢å‘å¯¹è±¡æ€æƒ³ï¼ˆç†è§£ï¼‰ é¢å‘å¯¹è±¡æ˜¯åŸºäºé¢å‘è¿‡ç¨‹çš„ä¸€ç§ç¼–ç¨‹æ€æƒ³ æ€æƒ³ç‰¹ç‚¹ï¼š A: æ˜¯ä¸€ç§æ›´ç¬¦åˆæˆ‘ä»¬æ€è€ƒä¹ æƒ¯çš„æ€æƒ³ B: æŠŠå¤æ‚çš„é—®é¢˜ç®€å•åŒ– C: è®©æˆ‘ä»¬ä»æ‰§è¡Œè€…å˜æˆäº†æŒ‡æŒ¥è€… ä¸¾ä¾‹ï¼š A: æ´—è¡£æœ B: åƒé¥­ C: ä¹°ç”µè„‘ ä¸¾ä¾‹å¹¶ä»£ç ä½“ç° æŠŠå¤§è±¡è£…è¿›å†°ç®± ","date":"2019-01-15","objectID":"/posts/duixiang/:0:1","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"ç±»ä¸å¯¹è±¡ï¼ˆæŒæ¡ï¼‰ æˆ‘ä»¬å­¦ä¹ ç¼–ç¨‹æ˜¯ä¸ºäº†æŠŠç°å®ä¸–ç•Œçš„äº‹ç‰©ç”¨ç¼–ç¨‹è¯­è¨€æè¿°æ¥å®ç°ä¿¡æ¯åŒ–ã€‚ ç°å®ä¸–ç•Œäº‹ç‰©æ˜¯å¦‚ä½•è¡¨è¾¾çš„å‘¢ï¼Ÿ å±æ€§ï¼šå¤–åœ¨ç‰¹å¾ è¡Œä¸ºï¼šå†…åœ¨è¡Œä¸º æˆ‘ä»¬å­¦ä¹ çš„æ˜¯ java è¯­è¨€ï¼Œå®ƒæœ€åŸºæœ¬çš„å•ä½æ˜¯ç±»ã€‚ æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¼šç”¨ç±»æ¥ä½“ç°ä¸€ä¸ªäº‹ç‰©ã€‚ ç±»ï¼šæ˜¯ä¸€ç»„ç›¸å…³çš„å±æ€§å’Œè¡Œä¸ºçš„é›†åˆ å¯¹è±¡ï¼šæ˜¯è¯¥ç±»äº‹ç‰©çš„å…·ä½“ä¸ªä½“ã€‚ ä¸¾ä¾‹ï¼š å­¦ç”Ÿ ç±» å¼ ä¸‰ å¯¹è±¡ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:2","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"ç±»çš„ç»„æˆï¼ˆæŒæ¡ï¼‰ æˆå‘˜å˜é‡ å…¶å®å°±æ˜¯å˜é‡ï¼Œåªä¸è¿‡å®šä¹‰åœ¨ç±»ä¸­ï¼Œæ–¹æ³•å¤–ï¼Œå¹¶ä¸”å¯ä»¥ä¸ç”¨åˆå§‹åŒ–ã€‚ æˆå‘˜æ–¹æ³• å…¶å®å°±æ˜¯æ–¹æ³•ï¼Œåªä¸è¿‡ä¸éœ€è¦ static äº† æ¡ˆä¾‹ï¼š å­¦ç”Ÿç±» class Student { String name; int age; public void study() {} } ","date":"2019-01-15","objectID":"/posts/duixiang/:0:3","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"ç±»çš„ä½¿ç”¨ï¼ˆæŒæ¡ï¼‰ åˆ›å»ºå¯¹è±¡ æ ¼å¼ï¼šç±»å å¯¹è±¡å = new ç±»å (); ä½¿ç”¨æˆå‘˜ æˆå‘˜å˜é‡ï¼šå¯¹è±¡åã€‚å˜é‡åï¼› æˆå‘˜æ–¹æ³•ï¼šå¯¹è±¡åã€‚æ–¹æ³•å (â€¦); ","date":"2019-01-15","objectID":"/posts/duixiang/:0:4","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«ï¼ˆç†è§£ï¼‰ åœ¨ç±»ä¸­çš„ä½ç½®ä¸åŒ A: æˆå‘˜å˜é‡ ç±»ä¸­ï¼Œæ–¹æ³•å¤– B: å±€éƒ¨å˜é‡ æ–¹æ³•çš„å½¢å¼å‚æ•°ï¼Œæˆ–è€…æ–¹æ³•ä½“ä¸­ åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸åŒ A: æˆå‘˜å˜é‡ åœ¨å †ä¸­ B: å±€éƒ¨å˜é‡ åœ¨æ ˆä¸­ ç”Ÿå‘½å‘¨æœŸä¸åŒ A: æˆå‘˜å˜é‡ éšç€å¯¹è±¡çš„å­˜åœ¨è€Œå­˜åœ¨ï¼Œéšç€å¯¹è±¡çš„æ¶ˆå¤±è€Œæ¶ˆå¤± B: å±€éƒ¨å˜é‡ éšç€æ–¹æ³•çš„è°ƒç”¨è€Œå­˜åœ¨ï¼Œéšç€æ–¹æ³•çš„è°ƒç”¨å®Œæ¯•è€Œæ¶ˆå¤± åˆå§‹åŒ–å€¼ä¸åŒ A: æˆå‘˜å˜é‡ æœ‰é»˜è®¤åˆå§‹åŒ–å€¼ B: å±€éƒ¨å˜é‡ æ²¡æœ‰é»˜è®¤å€¼ï¼Œå¿…é¡»å…ˆå£°æ˜ï¼Œèµ‹å€¼ï¼Œæœ€åæ‰èƒ½ä½¿ç”¨ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:5","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"å½¢å¼å‚æ•°é—®é¢˜ï¼ˆç†è§£ï¼‰ åŸºæœ¬ç±»å‹ åŸºæœ¬ç±»å‹ä½œä¸ºå½¢å¼å‚æ•°ï¼Œéœ€è¦çš„æ˜¯è¯¥åŸºæœ¬ç±»å‹çš„å€¼ã€‚ å¼•ç”¨ç±»å‹ å¼•ç”¨ç±»å‹ä½œä¸ºå½¢å¼å‚æ•°ï¼Œéœ€è¦çš„æ˜¯è¯¥å¼•ç”¨ç±»å‹çš„åœ°å€å€¼ã€‚ï¼ˆå¯¹è±¡ï¼‰ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:6","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"åŒ¿åå¯¹è±¡ï¼ˆç†è§£ï¼‰ åŒ¿åå¯¹è±¡ï¼šæ²¡æœ‰åå­—çš„å¯¹è±¡ã€‚æ˜¯å¯¹è±¡çš„ç®€åŒ–ä¹¦å†™æ–¹å¼ã€‚ ä½¿ç”¨åœºæ™¯ A: è°ƒç”¨æ–¹æ³•ï¼Œä»…ä»…åªè°ƒç”¨ä¸€æ¬¡ B: ä½œä¸ºå®é™…å‚æ•°ä¼ é€’ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:7","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"å°è£…ï¼ˆæŒæ¡ï¼‰ éšè—å®ç°ç»†èŠ‚ï¼Œæä¾›å…¬å…±çš„è®¿é—®æ–¹å¼ å¥½å¤„ï¼š A: éšè—å®ç°ç»†èŠ‚ï¼Œæä¾›å…¬å…±çš„è®¿é—®æ–¹å¼ B: æé«˜äº†ä»£ç çš„å¤ç”¨æ€§ C: æé«˜äº†ä»£ç çš„å®‰å…¨æ€§ ä½¿ç”¨åŸåˆ™ A: æŠŠæˆå‘˜å˜é‡éšè— B: ç»™å‡ºè¯¥æˆå‘˜å˜é‡å¯¹åº”çš„å…¬å…±è®¿é—®æ–¹å¼ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:8","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"private å…³é”®å­—ï¼ˆæŒæ¡ï¼‰ æ˜¯ä¸€ä¸ªæƒé™ä¿®é¥°ç¬¦ å¯ä»¥ä¿®é¥°ç±»çš„æˆå‘˜ï¼ˆæˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ï¼‰ ä»…ä»…åœ¨æœ¬ç±»ä¸­å¯ä»¥è®¿é—®ï¼Œå¯¹å¤–æä¾›å¯¹åº”çš„ GetXXX()ï¼ŒSetXXX() ç­‰æ–¹æ³• æ ‡å‡†ä»£ç ï¼š class Student { private String name; private int age; public void setName(String n) { name = n; } public String getName() { return name; } public void setAge(int a) { age = a; } public int getAge() { return age; } public void study() {} } ","date":"2019-01-15","objectID":"/posts/duixiang/:0:9","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"this å…³é”®å­—ï¼ˆæŒæ¡ï¼‰ thisï¼šä»£è¡¨æœ¬ç±»çš„å¯¹è±¡ åº”ç”¨åœºæ™¯ï¼š è§£å†³äº†å±€éƒ¨å˜é‡éšè—æˆå‘˜å˜é‡çš„é—®é¢˜ã€‚ å…¶ä»–ç”¨æ³•å’Œ super ä¸€èµ·è®²ã€‚ æ ‡å‡†ä»£ç ï¼š class Student { private String name; private int age; public void setName(String name) {//å±€éƒ¨å˜é‡ this.name = name; } public String getName() { return name; } public void setAge(int age) { this.age = age; } public int getAge() { return age; } public void show() { System.out.println(\"å§“åæ˜¯ï¼š\"+name+\", å¹´é¾„æ˜¯ï¼š\"+age); } public void study() { System.out.println(\"å­¦ç”Ÿçˆ±å­¦ä¹ \"); } public void eat() { System.out.println(\"å­¦ç”Ÿè¦åƒé¥­\"); } public void sleep() { System.out.println(\"å­¦ç”Ÿæƒ³ç¡è§‰\"); } } class StudentTest { public static void main(String[] args) { Student s = new Student(); s.setName(\"æ—é’éœ\"); s.setAge(28); s.show(); s.study(); s.eat(); s.sleep(); System.out.println(\"å§“åæ˜¯ï¼š\"+s.getName()); System.out.println(\"å¹´é¾„æ˜¯ï¼š\"+s.getAge()); } } ","date":"2019-01-15","objectID":"/posts/duixiang/:0:10","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"æ„é€ æ–¹æ³•ï¼ˆæŒæ¡ï¼‰ ä½œç”¨ï¼šå¯¹å¯¹è±¡çš„æ•°æ®è¿›è¡Œåˆå§‹åŒ–ã€‚ ç‰¹ç‚¹ï¼š A: æ–¹æ³•åå’Œç±»åç›¸åŒ B: æ²¡æœ‰è¿”å›å€¼ç±»å‹ C: æ²¡æœ‰è¿”å›å€¼ æ³¨æ„äº‹é¡¹ A: å¦‚æœæˆ‘ä»¬æ²¡å†™æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿå°†é»˜è®¤ç»™å‡ºæ— å‚æ„é€ æ–¹æ³• B: å¦‚æœæˆ‘ä»¬å†™äº†æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿå°†ä¸å†ç»™å‡ºé»˜è®¤æ— å‚æ„é€ æ–¹æ³• å»ºè®®ï¼šæˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨ç»™å‡ºæ— å‚æ„é€ æ–¹æ³• ç»™æˆå‘˜å˜é‡èµ‹å€¼ï¼š A: æ— å‚+setXxx() B: å¸¦å‚ ä¸€ä¸ªæ ‡å‡†çš„ä»£ç ï¼š class Student { private String name; private int age; public Student() {} public Student(String name,int age) {//æ„é€ æ–¹æ³• this.name = name; this.age = age; } public void setName(String name) { this.name = name; } public String getName() { return name; } public void setAge(int age) { this.age = age; } public int getAge() { return age; } public void show() { System.out.println(\"å§“åæ˜¯ï¼š\"+name+\", å¹´é¾„æ˜¯ï¼š\"+age); } } class StudentTest { public static void main(String[] args) { //æ— å‚+setXxx() Student s = new Student(); s.setName(\"æ—é’éœ\"); s.setAge(28); s.show(); //å¸¦å‚ Student ss = new Student(\"å¼ æ›¼ç‰\",20); ss.show(); } } ","date":"2019-01-15","objectID":"/posts/duixiang/:0:11","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"å¯¹è±¡çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆç†è§£ï¼‰ Student s = new Student(); åšäº†å“ªäº›äº‹æƒ… A: åŠ è½½ Student.class æ–‡ä»¶è¿›å†…å­˜ B: åœ¨æ ˆä¸­ä¸º s å¼€è¾Ÿç©ºé—´ C: åœ¨å †ä¸­ä¸ºå­¦ç”Ÿå¯¹è±¡å¼€è¾Ÿç©ºé—´ D: ä¸ºå­¦ç”Ÿå¯¹è±¡çš„æˆå‘˜å˜é‡èµ‹é»˜è®¤å€¼ E: ä¸ºå­¦ç”Ÿå¯¹è±¡çš„æˆå‘˜å˜é‡èµ‹æ˜¾ç¤ºå€¼ F: é€šè¿‡æ„é€ æ–¹æ³•ç»™æˆå‘˜å˜é‡èµ‹å€¼ G: å¯¹è±¡æ„é€ å®Œæ¯•ï¼ŒæŠŠåœ°å€èµ‹å€¼ç»™ s å˜é‡ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:12","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"static å…³é”®å­—ï¼ˆæŒæ¡ï¼‰ æ˜¯ä¸€ä¸ªçŠ¶æ€ä¿®é¥°ç¬¦ã€‚é™æ€çš„æ„æ€ å®ƒå¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³• ç‰¹ç‚¹ï¼š A: éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ B: ä¼˜å…ˆäºå¯¹è±¡å­˜åœ¨ C: è¢«æ‰€æœ‰å¯¹è±¡å…±äº« è¿™ä¹Ÿæ˜¯åˆ¤æ–­æˆ‘ä»¬æ˜¯ä¸æ˜¯è¯¥ä½¿ç”¨é™æ€çš„æ¡ä»¶ ä¸¾ä¾‹ï¼šé¥®æ°´æœºï¼ˆå¯å…±äº« static) å’Œæ°´æ¯ä¾‹å­ã€‚ D: å¯ä»¥é€šè¿‡ç±»åè°ƒç”¨ é™æ€ä¿®é¥°çš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ç±»åè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡åè°ƒç”¨ æ–¹æ³•è®¿é—®ç‰¹ç‚¹ A: æ™®é€šæˆå‘˜æ–¹æ³• å¯ä»¥è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Œéé™æ€æˆå‘˜å˜é‡ï¼Œé™æ€æˆå‘˜æ–¹æ³•ï¼Œéé™æ€æˆå‘˜æ–¹æ³• B: é™æ€æˆå‘˜æ–¹æ³• åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Œé™æ€æˆå‘˜æ–¹æ³• ç®€è®°ï¼šé™æ€åªèƒ½è®¿é—®é™æ€ æ³¨æ„ï¼š é™æ€ä¸­æ˜¯ä¸èƒ½æœ‰ this çš„ã€‚ å…ˆè¿›å†…å­˜çš„ä¸èƒ½è®¿é—®åè¿›å†…å­˜çš„ã€‚åä¹‹å¯ä»¥ã€‚ /* ç­çº§ç¼–å·åº”è¯¥æ˜¯è¢«ç­çº§æ¯ä¸ªäººéƒ½å…±äº«çš„ï¼Œæ‰€ä»¥å®šä¹‰ä¸€ä¸ªå°±åº”è¯¥å¯ä»¥äº†ã€‚ è€Œå§“åå’Œå¹´é¾„ï¼Œæ¯ä¸ªäººåº”è¯¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªå¯¹è±¡ï¼Œéƒ½åº”è¯¥å®šä¹‰è‡ªå·±çš„ã€‚ åœ¨ java ä¸­ï¼Œç”¨ä»€ä¹ˆæ¥è¡¨ç¤ºæˆå‘˜å˜é‡æ˜¯è¢«å…±äº«çš„å‘¢ï¼Ÿstatic */ class Student { //å§“å String name; //å¹´é¾„ int age; //ç­çº§ç¼–å· //String classNumber; static String classNumber; public Student(String name,int age) { this.name = name; this.age = age; } public Student(String name,int age,String classNumber) { this.name = name; this.age = age; this.classNumber = classNumber; } public void show() { System.out.println(name+\"---\"+age+\"---\"+classNumber); } } class StudentDemo { public static void main(String[] args) { //åˆ›å»ºå­¦ç”Ÿå¯¹è±¡ Student s1 = new Student(\"æ—é’éœ\",28,\"20150306\"); s1.show(); /* Student s2 = new Student(\"é©¬äº‘\",35,\"20150306\"); s2.show(); Student s3 = new Student(\"é©¬åŒ–è…¾\",33,\"20150306\"); s3.show(); */ Student s2 = new Student(\"é©¬äº‘\",35); s2.show(); Student s3 = new Student(\"é©¬åŒ–è…¾\",33); s3.show(); } } /* static: é™æ€å…³é”®å­—ã€‚ ä½œç”¨ï¼š å¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³• ç‰¹ç‚¹ï¼š A: éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ B: ä¼˜å…ˆäºå¯¹è±¡å­˜åœ¨ C: è¢«ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº« è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åˆ¤æ–­æ˜¯å¦ä½¿ç”¨é™æ€å…³é”®å­—çš„æ¡ä»¶ é¥®æ°´æœºï¼šå¯ä»¥è¢«é™æ€ä¿®é¥° æ°´æ¯ï¼šä¸å¯ä»¥è¢«é™æ€ä¿®é¥° D: å¯ä»¥é€šè¿‡ç±»åè°ƒç”¨ æˆ‘ä»¬çš„è°ƒç”¨æ—¢å¯ä»¥æ˜¯å¯¹è±¡ï¼Œè¿˜å¯ä»¥æ˜¯ç±»å */ class Student { public void show() { System.out.println(\"show\"); } public static void show2() { System.out.println(\"show2\"); } } class StudentDemo2 { public static void main(String[] args) { Student s = new Student(); s.show(); s.show2(); Student.show2(); //Student.show();\u0026ensp; } } /* static çš„æ³¨æ„äº‹é¡¹ï¼š A: åœ¨é™æ€æ–¹æ³•ä¸­æ˜¯æ²¡æœ‰ this å…³é”®å­—çš„ å› ä¸ºé™æ€æ˜¯éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œä¼˜å…ˆäºå¯¹è±¡è€Œå­˜åœ¨ã€‚è€Œ this æ˜¯éšç€å¯¹è±¡çš„åˆ›å»ºè€Œå­˜åœ¨ã€‚ å…ˆè¿›å†…å­˜çš„ï¼Œ ä¸èƒ½è®¿é—®åè¿›å†…å­˜çš„ï¼›è€Œåè¿›å†…å­˜çš„ï¼Œå¯ä»¥è®¿é—®å…ˆè¿›å†…å­˜çš„ã€‚ B: é™æ€åªèƒ½è®¿é—®é™æ€ã€‚ éé™æ€çš„æˆå‘˜æ–¹æ³•ï¼š å¯ä»¥è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Œéé™æ€æˆå‘˜å˜é‡ï¼Œé™æ€æˆå‘˜æ–¹æ³•ï¼Œéé™æ€æˆå‘˜æ–¹æ³• é™æ€çš„æˆå‘˜æ–¹æ³•ï¼š åªèƒ½è®¿é—®é™æ€çš„æˆå‘˜å˜é‡ï¼Œé™æ€çš„æˆå‘˜æ–¹æ³• */ /* class Student { private String name; public static void setName(String name) {//\u0026ensp; é™æ€æ–¹æ³•ä¸èƒ½ç”¨ this this.name = name; } public void show() { System.out.println(name); } }*/ class Demo { int x = 10; static int y = 20; public void show() { System.out.println(x); System.out.println(y); } public static void show2() { //System.out.println(x);\u0026ensp; System.out.println(y);//âˆš } public void show3() { show(); show2(); } public static void show4() { //show(); åªèƒ½è®¿é—®é™æ€çš„æˆå‘˜æ–¹æ³• show2(); } } class StudentDemo3 { public static void main(String[] args) { //Student.setName(\"æ—é’éœ\"); } } ","date":"2019-01-15","objectID":"/posts/duixiang/:0:13","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"é™æ€æˆå‘˜å˜é‡å’Œæ™®é€šæˆå‘˜å˜é‡çš„åŒºåˆ«ï¼ˆç†è§£ï¼‰ æ‰€å±ä¸åŒ é™æ€å±äºç±»çš„ï¼Œç§°ä¸ºç±»å˜é‡ éé™æ€å±äºå¯¹è±¡çš„ï¼Œç§°ä¸ºå¯¹è±¡å˜é‡ï¼Œå®ä¾‹å˜é‡ å†…å­˜ç©ºé—´ä¸åŒ é™æ€åœ¨æ–¹æ³•åŒºçš„é™æ€åŒº éé™æ€åœ¨å †å†…å­˜ ç”Ÿå‘½å‘¨æœŸä¸åŒ é™æ€éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œéšç€ç±»çš„æ¶ˆå¤±è€Œæ¶ˆå¤± éé™æ€éšç€å¯¹è±¡çš„åˆ›å»ºè€Œå­˜åœ¨ï¼Œéšç€å¯¹è±¡çš„æ¶ˆå¤±è€Œæ¶ˆå¤± è°ƒç”¨ä¸åŒ é™æ€å¯ä»¥é€šè¿‡ç±»åè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡åè°ƒç”¨ã€‚å»ºè®®é€šè¿‡ç±»åè°ƒç”¨ éé™æ€åªèƒ½é€šè¿‡å¯¹è±¡åè°ƒç”¨ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:14","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"main æ–¹æ³•æ˜¯é™æ€çš„ï¼ˆç†è§£ï¼‰ public static void main(String[] args) public: è®¿é—®æƒé™ä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºæœ€å¤§çš„è®¿é—®æƒé™ï¼Œè¢« jvm è°ƒç”¨ï¼Œæ‰€æœ‰æƒé™è¦å¤Ÿå¤§ã€‚ static: è¢« jvm è°ƒç”¨ï¼Œä¸ç”¨åˆ›å»ºå¯¹è±¡ï¼Œç›´æ¥ç±»åè®¿é—® void: è¢« jvm è°ƒç”¨ï¼Œä¸éœ€è¦ç»™ jvm è¿”å›å€¼ main: ä¸€ä¸ªé€šç”¨çš„åç§°ï¼Œè™½ç„¶ä¸æ˜¯å…³é”®å­—ï¼Œä½†æ˜¯è¢« jvm è¯†åˆ« String[] args: æ—©æœŸå‡ºç°æ˜¯ä¸ºäº†æ¥æ”¶é”®ç›˜å½•å…¥æ•°æ®çš„ã€‚ ","date":"2019-01-15","objectID":"/posts/duixiang/:0:15","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"å®ä¾‹ /*æ±‚å’Œ*/ class Demo { private int x; private int y; public Demo() {} public Demo(int x,int y) { this.x = x; this.y = y; } public void setX(int x) { this.x = x; } public int getX() { return x; } public void setY(int y) { this.y = y; } public int getY() { return y; } //æˆå‘˜å˜é‡å·²ç»æœ‰ x,y äº†ã€‚è¿™é‡Œå°±æ²¡æœ‰å¿…è¦åœ¨å®šä¹‰äº† /* public int sum(int x,int y) { return x + y; } */ public int sum() { return x + y; } } class Test { public static void main(String[] args) { Demo d = new Demo(); d.setX(10); d.setY(20); int result = d.sum(); System.out.println(result); } } /*æ±‚å’Œ*/ class Demo { public int sum(int x,int y) { return x + y; } } class Test2 { public static void main(String[] args) { Demo d = new Demo(); int result = d.sum(10,20); System.out.println(result); } } /* å®šä¹‰ä¸€ä¸ªå‘˜å·¥ç±»ï¼Œè‡ªå·±åˆ†æå‡ºå‡ ä¸ªæˆå‘˜ï¼Œ ç„¶åç»™å‡ºæˆå‘˜å˜é‡ï¼Œæ„é€ æ–¹æ³•ï¼ŒgetXxx()/setXxx() æ–¹æ³•ï¼Œ ä»¥åŠä¸€ä¸ªæ˜¾ç¤ºæ‰€æœ‰æˆå‘˜ä¿¡æ¯çš„æ–¹æ³•ã€‚å¹¶æµ‹è¯•ã€‚ Employeeï¼š æˆå‘˜å˜é‡ï¼šå‘˜å·¥ç¼–å·ï¼Œå§“åï¼ŒèŒä½ æ„é€ æ–¹æ³•ï¼šæ— å‚ï¼Œå¸¦å‚ æˆå‘˜æ–¹æ³•ï¼šgetXxx()/setXxx() æ–¹æ³•ï¼Œshow() */ class Employee { private String eid; private String name; private String job; public Employee() {} public Employee(String eid,String name,String job) { this.eid = eid; this.name = name; this.job = job; } public void setEid(String eid) { this.eid = eid; } public String getEid() { return eid; } public void setName(String name) { this.name = name; } public String getName() { return name; } public void setJob(String job) { this.job = job; } public String getJob() { return job; } public void show() { System.out.println(\"å‘˜å·¥ç¼–å·æ˜¯ï¼š\"+eid+\", å§“åæ˜¯ï¼š\"+name+\", èŒä½æ˜¯ï¼š\"+job); } } class EmployeeDemo { public static void main(String[] args) { //æ— å‚ Employee e = new Employee(); e.setEid(\"itcast007\"); e.setName(\"å‘¨æ˜Ÿé©°\"); e.setJob(\"é«˜çº§å·¥ç¨‹å¸ˆ\"); e.show(); //å¸¦å‚ Employee e2 = new Employee(\"itcast003\",\"åˆ˜å¾·å\",\"æŒ–æ˜æœºå·¥ç¨‹å¸ˆ\"); e2.show(); } } ","date":"2019-01-15","objectID":"/posts/duixiang/:0:16","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":"java ç±»ä¸­çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•è®¿é—®æƒé™ å…³é”®è¯ åŒä¸€ä¸ªç±» åŒä¸€ä¸ªåŒ… ä¸åŒåŒ…ä¸­çš„å­ç±» ä¸åŒåŒ…ä¸­çš„éå­ç±» private âˆš default âˆš âˆš protected âˆš âˆš âˆš public âˆš âˆš âˆš âˆš ","date":"2019-01-15","objectID":"/posts/duixiang/:0:17","tags":["é¢å‘å¯¹è±¡","Java"],"title":"é¢å‘å¯¹è±¡åŸºç¡€çŸ¥è¯†æ€»ç»“","uri":"/posts/duixiang/"},{"categories":["Java"],"content":" æ°´ä»™èŠ±æ•°ï¼ˆNarcissistic numberï¼‰ä¹Ÿè¢«ç§°ä¸ºè¶…å®Œå…¨æ•°å­—ä¸å˜æ•°ï¼ˆpluperfect digital invariant, PPDIï¼‰ã€è‡ªæ‹æ•°ã€è‡ªå¹‚æ•°ã€é˜¿å§†æ–¯å£®æ•°æˆ–é˜¿å§†æ–¯ç‰¹æœ—æ•°ï¼ˆArmstrong numberï¼‰ï¼Œæ°´ä»™èŠ±æ•°æ˜¯æŒ‡ä¸€ä¸ª 3 ä½æ•°ï¼Œå®ƒçš„æ¯ä¸ªä½ä¸Šçš„æ•°å­—çš„ 3 æ¬¡å¹‚ä¹‹å’Œç­‰äºå®ƒæœ¬èº«ï¼ˆä¾‹å¦‚ï¼š1^3 + 5^3+ 3^3 = 153ï¼‰ã€‚ ","date":"2019-01-14","objectID":"/posts/java-range/:0:0","tags":["æ°´ä»™èŠ±æ•°","Java"],"title":"java æ°´ä»™èŠ±æ•°ï¼ˆå¾ªç¯ï¼‰","uri":"/posts/java-range/"},{"categories":["Java"],"content":"å®šä¹‰ æ°´ä»™èŠ±æ•°åªæ˜¯è‡ªå¹‚æ•°çš„ä¸€ç§ï¼Œä¸¥æ ¼æ¥è¯´ 3 ä½æ•°çš„ 3 æ¬¡å¹‚æ•°æ‰ç§°ä¸ºæ°´ä»™èŠ±æ•°ã€‚ é™„ï¼šå…¶ä»–ä½æ•°çš„è‡ªå¹‚æ•°åå­— ä¸€ä½è‡ªå¹‚æ•°ï¼šç‹¬èº«æ•° ä¸¤ä½è‡ªå¹‚æ•°ï¼šæ²¡æœ‰ ä¸‰ä½è‡ªå¹‚æ•°ï¼šæ°´ä»™èŠ±æ•° å››ä½è‡ªå¹‚æ•°ï¼šå››å¶ç«ç‘°æ•° äº”ä½è‡ªå¹‚æ•°ï¼šäº”è§’æ˜Ÿæ•° å…­ä½è‡ªå¹‚æ•°ï¼šå…­åˆæ•° ä¸ƒä½è‡ªå¹‚æ•°ï¼šåŒ—æ–—ä¸ƒæ˜Ÿæ•° å…«ä½è‡ªå¹‚æ•°ï¼šå…«ä»™æ•° ä¹ä½è‡ªå¹‚æ•°ï¼šä¹ä¹é‡é˜³æ•° åä½è‡ªå¹‚æ•°ï¼šåå…¨åç¾æ•° package xunhuan; import java.util.Scanner; public class shuixianhua { public static void main(String[] agrs) { System.out.print(\"æŒ‡å®šæœ€å¤§ä½æ•° N:\"); Scanner input = new Scanner(System.in); int N = input.nextInt(); input.close(); for (int i = 3; i \u003c= N; i++) { int a[] = new int[i]; int num = (int) Math.pow(10, i - 1) + 1; System.out.print(i + \"ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š\\t\"); while (num \u003c= Math.pow(10, i)) { int sum = 0; for (int j = 0; j \u003c i; j++) a[j] = (int) (num / Math.pow(10, j) % 10);//å–å„ä¸ªä½çš„æ•° for (int j = 0; j \u003c i; j++) sum = sum + (int) Math.pow(a[j], i); if (num == sum) System.out.print(num + \"\\t\"); num++; } System.out.print(\"\\n\"); } } } ç”±äº int ç²¾åº¦é™åˆ¶ï¼Œæœ€å¤šç®—åˆ° 9 ä½ï¼Œè€Œä¸”ä½¿ç”¨å¸¸è§„ç®—æ³•ï¼Œç®—åˆ° 8ï¼Œ9 ä½çš„æ—¶å€™å°±ç‰¹åˆ«æ…¢äº†ã€‚ æŒ‡å®šæœ€å¤§ä½æ•° N:10 3 ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š 153 370 371 407 4 ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š 1634 8208 9474 5 ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š 54748 92727 93084 6 ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š 548834 7 ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š 1741725 4210818 9800817 9926315 8 ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š 24678050 24678051 88593477 9 ä½çš„æ°´ä»™èŠ±æ•°æœ‰ï¼š 146511208 ","date":"2019-01-14","objectID":"/posts/java-range/:0:1","tags":["æ°´ä»™èŠ±æ•°","Java"],"title":"java æ°´ä»™èŠ±æ•°ï¼ˆå¾ªç¯ï¼‰","uri":"/posts/java-range/"},{"categories":["Java"],"content":"è®°å¿†æ ¼å¼ï¼š (1) å¯¼åŒ…ï¼š import java.util.Scanner; æ³¨æ„ï¼šä½ç½®åœ¨ class çš„ä¸Šé¢ã€‚ (2) åˆ›å»ºé”®ç›˜å½•å…¥å¯¹è±¡ï¼š Scanner sc = new Scanner(System.in); (3) è·å–æ•°æ® int i = sc.nextInt(); (4) ç»ƒä¹ ï¼š A: æ±‚ä¸¤ä¸ªæ•°æ®çš„å’Œ B: è·å–ä¸¤ä¸ªæ•°æ®ä¸­è¾ƒå¤§çš„å€¼ C: è·å–ä¸‰ä¸ªæ•°æ®ä¸­è¾ƒå¤§çš„å€¼ D: æ¯”è¾ƒä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ ","date":"2019-01-14","objectID":"/posts/java-input/:0:1","tags":["Java"],"title":"java å½•å…¥æ•°æ®","uri":"/posts/java-input/"},{"categories":["Java"],"content":"å®ä¾‹ package helloworld; import java.util.Scanner; public class helloworld { public static void main(String[] args) { Scanner sc = new Scanner(System.in); int i=sc.nextInt(),j=sc.nextInt(),k=sc.nextInt(); sc.close(); System.out.println(i+\"+\"+j+\"=\"+(i+j)); System.out.println(\"MAXij=\"+Max(i,j)); System.out.println(\"MAXijk=\"+Max(i,j,k)); } //Max() æ–¹æ³•é‡è½½ static int Max(int i,int j) { return i\u003ej?i:j; } static int Max(int i,int j,int k) { if(i==j) System.out.println(\"i å’Œ j ç›¸ç­‰\"); else if(i==k) System.out.println(\"i å’Œ k ç›¸ç­‰\"); else if(j==k) System.out.println(\"j å’Œ k ç›¸ç­‰\"); return (i=i\u003ej?i:j)\u003ek?i:k; } } ç»“æœ 5 5 6 5+5=10 MAXij=5 i å’Œ j ç›¸ç­‰ MAXijk=6 ","date":"2019-01-14","objectID":"/posts/java-input/:0:2","tags":["Java"],"title":"java å½•å…¥æ•°æ®","uri":"/posts/java-input/"},{"categories":["Java"],"content":"æ ‡è¯†ç¬¦ï¼š ç»™ç±»ï¼Œæ¥å£ï¼Œæ–¹æ³•æˆ–è€…å˜é‡èµ·åå­—çš„ç¬¦å· ","date":"2019-01-14","objectID":"/posts/biaoshi/:0:1","tags":["Java"],"title":"java æ ‡è¯†ç¬¦","uri":"/posts/biaoshi/"},{"categories":["Java"],"content":"ç»„æˆè§„åˆ™ï¼š A: è‹±æ–‡å­—æ¯å¤§å°å†™ B: æ•°å­— C:_å’Œ$ ","date":"2019-01-14","objectID":"/posts/biaoshi/:0:2","tags":["Java"],"title":"java æ ‡è¯†ç¬¦","uri":"/posts/biaoshi/"},{"categories":["Java"],"content":"æ³¨æ„äº‹é¡¹ï¼š A: ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ B: ä¸èƒ½æ˜¯ Java ä¸­çš„å…³é”®å­— C: åŒºåˆ†å¤§å°å†™ Student,student è¿™æ˜¯ä¸¤ä¸ªåç§° ","date":"2019-01-14","objectID":"/posts/biaoshi/:0:3","tags":["Java"],"title":"java æ ‡è¯†ç¬¦","uri":"/posts/biaoshi/"},{"categories":["Java"],"content":"å¸¸è§å‘½åæ–¹å¼ï¼š A: åŒ… å…¶å®å°±æ˜¯æ–‡ä»¶å¤¹ï¼Œç”¨äºè§£å†³ç›¸åŒç±»åé—®é¢˜ å…¨éƒ¨å°å†™ å•çº§ï¼šcom å¤šçº§ï¼šcn.itcast B: ç±»æˆ–è€…æ¥å£ ä¸€ä¸ªå•è¯ï¼šé¦–å­—æ¯å¤§å†™ Student,Person,Teacher å¤šä¸ªå•è¯ï¼šæ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ HelloWorld,MyName,NameDemo C: æ–¹æ³•æˆ–è€…å˜é‡ ä¸€ä¸ªå•è¯ï¼šå…¨éƒ¨å°å†™ name,age,show() å¤šä¸ªå•è¯ï¼šä»ç¬¬äºŒä¸ªå•è¯å¼€å§‹ï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ myName,showAllStudentNames() D: å¸¸é‡ ä¸€ä¸ªå•è¯ï¼šå…¨éƒ¨å¤§å†™ AGE å¤šä¸ªå•è¯ï¼šæ¯ä¸ªå•è¯éƒ½å¤§å†™ï¼Œç”¨_è¿æ¥ STUDENT_MAX_AGE ","date":"2019-01-14","objectID":"/posts/biaoshi/:0:4","tags":["Java"],"title":"java æ ‡è¯†ç¬¦","uri":"/posts/biaoshi/"},{"categories":["Study"],"content":"å¸¸è§æƒ…å†µ ","date":"2019-01-12","objectID":"/posts/subject-verb/:1:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"ç”± and æˆ– both and è¿æ¥çš„å¹¶åˆ—ä¸»è¯­ï¼Œè°“è¯­åŠ¨è¯ä¸€èˆ¬ç”¨å¤æ•° English and chinese are two quite different languages. Both brother and sister tire of city life. ","date":"2019-01-12","objectID":"/posts/subject-verb/:1:1","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"ä¸€ä½†ä¸»è¯­å‰è¢« no,every,each æ‰€ä¿®é¥°æ—¶ï¼Œè°“è¯­åŠ¨è¯ç”¨å•æ•° No desk and (no) chair is seen in the hall. All work and no play makes Jack a dull boy. They each have been to the Forbidden city. each ä½äºä¸»è¯­åï¼Œæ‰€ä»¥è°“è¯­åŠ¨è¯ç”¨å¤æ•° ","date":"2019-01-12","objectID":"/posts/subject-verb/:1:2","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"å½“ä¸»è¯­è¡¨ç¤ºåŒä¸€äº‹ç‰©çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒåŒä¸€ä¸ªäººçš„ä¸¤ä¸ªèº«ä»½ï¼ˆç¬¬äºŒä¸ªåè¯å‰æ— å† è¯ï¼‰ï¼Œè°“è¯­åŠ¨è¯ç”¨å•æ•° æ¯”å¦‚ theï¼ˆaï¼‰horse and cart a watch and chain a knife and fork a cup and soucer the butter and bread The horse and cart has fallen down the cliffï¼ˆæ‚¬å´–ï¼‰. Butter and bread is his favourate. The poetï¼ˆè¯—äººï¼‰ and writer has been sentencedï¼ˆåˆ¤å†³ï¼‰ to death. The poet and the writer have been sentencedï¼ˆåˆ¤å†³ï¼‰ to death. ","date":"2019-01-12","objectID":"/posts/subject-verb/:1:3","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"ä¸¤æ•°ç›¸åŠ æˆ–ç›¸ä¹˜ï¼Œå•å¤çš†å¯ï¼Œç›¸å‡æˆ–ç›¸é™¤ï¼Œåªèƒ½ç”¨å•æ•°ï¼Œé‡è¯åšä¸»è¯­ï¼Œç”¨å•æ•° ç­‰äºï¼š be,equal,be equal to,make ç›¸åŠ ï¼š and,plus ç›¸å‡ï¼š minus ç›¸ä¹˜ï¼š multily,time ç›¸é™¤ï¼š divided by One and one make(makes) two. ","date":"2019-01-12","objectID":"/posts/subject-verb/:1:4","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"å°±è¿‘åŸåˆ™ not onlyâ€¦but also there/here be or,nor,eitherâ€¦or,neitherâ€¦nor,notâ€¦but There is a desk and two chairs in the room. Are you or your sister fond of classical music? An apple or two lies on the desk.ï¼ˆæ•°é‡è¯åç”¨å•æ•°ï¼‰ One or two apples lie on the desk. Not he but you have come. ","date":"2019-01-12","objectID":"/posts/subject-verb/:2:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"å°±è¿œåŸåˆ™ ä¸¤å•ä½“ä¸¤ç»“æ„ä¸‰ with å››é™¤å¤– like,including rather than,as well as with,together with,along with except,besides,but,in addition to The couple in addition to their child are mean. Lauren,rather than anyone else was chose his partener. A library together with 3000 books was destroyed in the fire. ","date":"2019-01-12","objectID":"/posts/subject-verb/:3:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"æ—¶é—´ï¼Œé‡‘é’±ï¼Œè·ç¦»ï¼Œæ¸©åº¦ï¼Œå¤©æ°”ï¼Œé‡é‡ç­‰ä¸å¯æ•°åè¯ï¼Œto do,doing, ä»å¥åšä¸»è¯­æ—¶ï¼Œè°“ v ç”¨å•æ•° To go to bed early and rise early is a good habit. What he says and behaives doesnâ€™t concern me. ","date":"2019-01-12","objectID":"/posts/subject-verb/:4:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"åˆ†æ•°ï¼Œç™¾åˆ†æ•°ï¼Œthe rest(+of+n) åšä¸»è¯­ï¼Œç”¨å•æ•° è°“è¯­åŠ¨è¯ç”± of åé¢çš„åè¯å†³å®šï¼Œä¸€èˆ¬ç”¨å•æ•°ã€‚ åˆ†æ•°ç”¨æ³•ï¼š é€šå¸¸åˆ†å­è¯»åŸºæ•°ï¼Œåˆ†æ¯è¯»åºæ•°ï¼Œåˆ†å­è¶…è¿‡ 1 æ—¶ï¼Œåˆ†æ¯åŠ  sã€‚å³ åŸº+åº (s)+of+n+è°“ Most students are in favaour of the contractï¼ˆå¥‘çº¦ï¼‰ but the rest disagree. be favaour of: be for,approve of,support,agree with About two thirds of the earthâ€™s surface is covered by water. ","date":"2019-01-12","objectID":"/posts/subject-verb/:5:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"ä¸€äº›çŸ­è¯­ one of+n æˆ– the only one of+n, ä¸€èˆ¬ç”¨å•æ•°ï¼ˆå®šä»æ ¹æ®ä¸­å¿ƒè¯åœ¨ of å‰åï¼‰ a number of+nï¼ˆç”¨å¤æ•°ï¼‰ \u0026 the number of+nï¼ˆç”¨å•æ•°ï¼‰ one in æˆ– one out of+n ï¼ˆç”¨å•æ•°ï¼‰ a large quantity of \u0026 large quantity of + å¯ã€ä¸å¯æ•° n a large amount of \u0026 large amounts of + ä¸å¯æ•° n He is one of the students who were awarded the other day. He is the only one of the students who was awarded the other day. One of his family was a traitorï¼ˆå–å›½è´¼ï¼Œå›å¾’ï¼‰ during the world war two. A number of teenagers are addicted to the Internet. The number of students who are addicted to the Internet is up toï¼ˆæ¥è¿‘äºï¼‰ 15. Large amounts of power are foused on him alone.==a large amount of power is foused on him alone. ","date":"2019-01-12","objectID":"/posts/subject-verb/:6:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"ä¸å®šä»£è¯åšä¸»è¯­ï¼Œè°“è¯­åŠ¨è¯ç”¨å•æ•° all ä¿®é¥°äººï¼Œè°“è¯­åŠ¨è¯ç”¨å¤æ•°ï¼Œä¿®é¥°ç‰©ï¼Œè°“è¯­åŠ¨è¯ç”¨å•æ•° All are present besides the professor. All that glittersï¼ˆå‘å…‰ä½“ï¼‰ is not gold. not ä¸ all/both ç­‰è¿ç”¨è¡¨éƒ¨åˆ†å¦å®š ","date":"2019-01-12","objectID":"/posts/subject-verb/:7:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"the +adj è¡¨ä¸€ç±»äººåšä¸»è¯­æ—¶ï¼Œè°“è¯­åŠ¨è¯ç”¨å¤æ•° The injured are taken good care of in hospital. The agreeable is not always the useful.ï¼ˆä¸è¡¨äººï¼‰ ","date":"2019-01-12","objectID":"/posts/subject-verb/:8:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"æˆåŒæˆå¯¹çš„è¯åšä¸»è¯­ï¼Œç”¨å¤æ•° trousersï¼ˆè£¤å­ï¼‰,chopsticks,scissorsï¼ˆå‰ªåˆ€ï¼‰,glasses Pants are what I want. The pair of glasses seems expensive.ï¼ˆè°“è¯­åŠ¨è¯ä¸è¡¨ç¤ºè®¡é‡å•ä½çš„åè¯å½¢å¼ä¸€è‡´ï¼‰ Three set of fashionable socks are shown in todayâ€™s evening properï¼ˆæ°å½“åœ°ï¼‰. ä¸€ç³»åˆ—ï¼š a piece/pair/set/suit/series of ","date":"2019-01-12","objectID":"/posts/subject-verb/:9:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"ä»¥ s ç»“å°¾ç‰¹æ®Šä¸“ç”¨åè¯ï¼Œç”¨å•æ•° è¡¨å­¦ç§‘ï¼Œç–¾ç—…ï¼Œå±±è„‰ï¼Œæ²³æµï¼Œä¹¦åï¼Œæ­Œåï¼Œæ ¼è¨€ç­‰ maths,physicsaï¼ˆç‰©ç†ï¼‰,politicsï¼ˆæ”¿æ²»ï¼‰,classics,economics,Aids,SARs,diabetesï¼ˆç³–å°¿ç—…ï¼‰,arthritisï¼ˆå…³èŠ‚ç‚ï¼‰,bronchitisï¼ˆæ”¯æ°”ç®¡ç‚ï¼‰,Himalayas,Arabian Night Arabian Night sounds beautiful. ","date":"2019-01-12","objectID":"/posts/subject-verb/:10:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"many a +å• n+å•è°“ï¼š â€œè®¸å¤šâ€ more than one +å• n+å•è°“ï¼š â€œä¸æ­¢ä¸€ä¸ªâ€ Many a man thinks life is meaningless without a purpose/an aim. More than one student has put forward the suggestion. More students than one are against the proposal. More than 20% students were absent at the meeting yesterday.ï¼ˆä¸æ­¢ï¼‰ ","date":"2019-01-12","objectID":"/posts/subject-verb/:11:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"police,people,cattle åšä¸»è¯­ï¼Œç”¨å¤æ•° It is reported that police are trying their best to capture the murder. ","date":"2019-01-12","objectID":"/posts/subject-verb/:12:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"the Olympics \u0026 the Olympic games The Olympices is hold every four years. == The Olympic games are hold every four year. ","date":"2019-01-12","objectID":"/posts/subject-verb/:13:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"é›†ä½“åè¯åšä¸»è¯­ï¼Œè¡¨æ•´ä½“ç”¨å•æ•°ï¼Œè¡¨æˆå‘˜ç”¨å¤æ•° family,class,group,team,army,public,crew,population The innovation experimentï¼ˆé©æ–°å®éªŒï¼‰ class consists of 24 students and enjoy chinese. Population in China is 1.4 billion or so(about) 20% (Population) have no access to clean water. ","date":"2019-01-12","objectID":"/posts/subject-verb/:14:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"å•å¤åŒå½¢ï¼Œsheep,deer,means,Chinese ç­‰è°“è¯­åŠ¨è¯ä¾æ®æƒ…å†µè€Œå®š Many deer live on the African grassland. ","date":"2019-01-12","objectID":"/posts/subject-verb/:15:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"åœ°ç‚¹çŠ¶è¯­ä½äºå¥é¦– Among the crow stand his parents. On the wall hangs an alarm clock. ","date":"2019-01-12","objectID":"/posts/subject-verb/:16:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":"â€œofâ€: of è¡¨æ‰€å±æ—¶ï¼Œä¸­å¿ƒè¯åœ¨ of ä¹‹å‰ï¼Œè°“è¯­åŠ¨è¯ç”±ä¸­å¿ƒè¯å†³å®šï¼Œç‰¹ä¾‹é™¤å¤–ã€‚ ","date":"2019-01-12","objectID":"/posts/subject-verb/:17:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--ä¸»è°“ä¸€è‡´","uri":"/posts/subject-verb/"},{"categories":["Study"],"content":" å½¢å¼å€’è£…ï¼Œå¥å­æœ¬ä¸æ˜¯æœ¬æ¥çš„è¯­åºã€‚ ","date":"2018-12-10","objectID":"/posts/inversion-3/:0:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å½¢å¼å€’è£…","uri":"/posts/inversion-3/"},{"categories":["Study"],"content":"may ä½äºå¥é¦–ï¼Œæ ‡ç¥æ„¿ ä¾‹å¥ May you succeed. May you have a happy holiday. Long live chairman Mao.ï¼ˆæ¯›ä¸»å¸­ä¸‡å¤é•¿é’ï¼‰ ","date":"2018-12-10","objectID":"/posts/inversion-3/:0:1","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å½¢å¼å€’è£…","uri":"/posts/inversion-3/"},{"categories":["Study"],"content":"whatever ç›´æ¥åšæˆåˆ†æˆ–æ”¾åœ¨åè¯ä¹‹å‰ï¼Œhowever æ”¾åœ¨ adv,adj ä¹‹å‰æˆ– many,much ç­‰è¯ä¹‹å‰ ä¾‹å¥ Whatever the weather is,he sticks outï¼ˆåšæŒï¼‰ walking outside. Go to stamp sales and buy whatever you can offord. Whatever reasons you have,you should carry out your promise. However many difficulties(n.) you meet with,you should try to overcome them. Whatever difficulties(n.) you meet with,you should try to overcome them. However difficult(adj.) the problem is,we must work it out today. ","date":"2018-12-10","objectID":"/posts/inversion-3/:0:2","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å½¢å¼å€’è£…","uri":"/posts/inversion-3/"},{"categories":["Study"],"content":"the + æ¯”è¾ƒçº§ï¼Œthe + æ¯”è¾ƒçº§ --\u003eâ€œè¶Š â€¦ è¶Š â€¦â€ ä¾‹å¥ The hander you study,the greater progress you will make. The more you listen to English,the easier it becomes. The older you grow,the more challenges you will meet. ","date":"2018-12-10","objectID":"/posts/inversion-3/:0:3","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å½¢å¼å€’è£…","uri":"/posts/inversion-3/"},{"categories":["Study"],"content":"æ„Ÿå¹å¥ ä¾‹å¥ What an interesting talk they had! How interesting the talk was! ","date":"2018-12-10","objectID":"/posts/inversion-3/:0:4","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å½¢å¼å€’è£…","uri":"/posts/inversion-3/"},{"categories":["Study"],"content":" å®Œå…¨å€’è£…ï¼š æŠŠæ•´ä¸ªè°“è¯­åŠ¨è¯æ”¾åˆ°ä¸»è¯­å‰ã€‚ ","date":"2018-12-10","objectID":"/posts/inversion-2/:0:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å®Œå…¨å€’è£…","uri":"/posts/inversion-2/"},{"categories":["Study"],"content":"è¡¨æ–¹ä½æˆ–æ—¶é—´çš„å‰¯è¯ (adv)ã€è¡¨åœ°ç‚¹çš„ä»‹è¯çŸ­è¯­ä½äºå¥é¦–æ—¶ ä¾‹å¥ Here comes the bus. In the lecture hall of a university sits a professor. Out rushed the children. Now comes your turn. Up jumped the cat and caught the mouse. Down came the rain and up went the umbrellas. Among the people stood his friend,Jim. (To be) South of the river lies a small factory. ä½†ä¸»è¯­ä¸ºè¡¨ç¤ºäººç§°çš„ä»£è¯æ—¶æ— éœ€å€’è£… Here are you.â€ƒAway it flew. ","date":"2018-12-10","objectID":"/posts/inversion-2/:0:1","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å®Œå…¨å€’è£…","uri":"/posts/inversion-2/"},{"categories":["Study"],"content":"è¡¨è¯­ï¼ˆè¯/çŸ­è¯­ï¼‰ä½äºå¥é¦–æ—¶ï¼Œadj/doing/done ä¾‹å¥ Written on the blackboard are the name of these who were late. Gone are the days when we worked together. Standing at the tree is a shy girl with two big eges. Present(adj) at the conference were all leaders of this city. Lying on the grassland is the boy who was injured in the fire. ","date":"2018-12-10","objectID":"/posts/inversion-2/:0:2","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å®Œå…¨å€’è£…","uri":"/posts/inversion-2/"},{"categories":["Study"],"content":"å­˜åœ¨å¥ there be ä¸­ï¼Œå…¶ä¸­ be -\u003eexist/arise/follow/enter/appear/live ç­‰è¡¨çŠ¶æ€ vi ä¾‹å¥ There come shows for help from the river. There seems something wrong with machine. There remains nothing to be done. There happened an event last week. ","date":"2018-12-10","objectID":"/posts/inversion-2/:0:3","tags":["English"],"title":"è‹±è¯­è¯­æ³•--å®Œå…¨å€’è£…","uri":"/posts/inversion-2/"},{"categories":["Study"],"content":" è™½ç„¶æˆ‘è‹±è¯­å››çº§æ²¡è¿‡ï¼Œè¯æ±‡é‡ä¹Ÿä¸å¾ˆå¤šï¼Œç”šè‡³ä¸‹é™äº†å¾ˆå¤šï¼Œä½†æ˜¯å¯¹äºè‹±è¯­çš„è¯­æ³•æˆ‘è¿˜æ˜¯å¾ˆå–œæ¬¢çš„ï¼Œé©¬ä¸Šå¿«å››çº§äº†åˆï¼Œå¤ä¹ æ•´ç†ä¸€ä¸‹ä»¥å‰çš„è¯­æ³•ç¬”è®°ã€‚ä»¥ä¸‹å†…å®¹çº¯æ‰‹æ‰“ï¼ï¼ å…ˆä»å€’è£…å¥å¼€å§‹å§ï¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼Œéƒ¨åˆ†å€’è£…ï¼Œå®Œå…¨å€’è£…å’Œå½¢å¼å€’è£…ã€‚å…ˆå¤ä¹ ç¬¬ä¸€ç§ã€‚ éƒ¨åˆ†å€’è£…ï¼š æŠŠè°“è¯­åŠ¨è¯çš„ä¸€éƒ¨åˆ†ï¼ˆåŠ©åŠ¨è¯ï¼Œbe åŠ¨è¯ï¼Œæƒ…æ€åŠ¨è¯ï¼‰æåˆ°ä¸»è¯­å‰é¢ã€‚ ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:0","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"xx ä¹Ÿå¦‚æ­¤ï¼Œxx ä¹Ÿä¸€æ · è¡¨ç¤ºå‰é¢çš„å†…å®¹ä¹Ÿé€‚ç”¨äºåè€…ï¼Œç”¨\"so/nor/neither + åŠ¨è¯ + ä¸»è¯­\"å¥å‹ã€‚è¡¨â€œxx ä¹Ÿå¦‚æ­¤ï¼Œxx ä¹Ÿä¸€æ ·â€ã€‚å¯ç”¨,ã€;ã€andéš”å¼€ï¼ˆæ³¨æ„æƒ…å½¢ï¼‰ã€‚ ä¾‹å¥ They love having lots of friends, so dothe disabled.ï¼ˆè¿™é‡Œthe + å½¢å®¹è¯è¡¨ä¸€ç±»äººï¼‰ I have had a new idea; so hasmy friends. Lily canâ€™t ride bicycle, nor/neither canlucy. The injured look disappointedï¼ˆæ²®ä¸§çš„ï¼‰, so didsenior citizens.ï¼ˆè€äººï¼‰ ï¼ˆå¦å®šå‰ç¼€è¯ â‰  å¦å®šï¼‰ If you arenâ€™t for the plan; nor/neither willI. , æˆ– ; å‰çš„å¥å­è‹¥ä¸ºä»å¥ï¼Œå…ˆå°†ä¸»å¥è¡¥å……å‡ºï¼Œå…¶åå†æ ¹æ®ä¸»å¥æ”¹ã€‚ è¿™é‡Œä¸»å¥åº”ä¸ºï¼š I will not be for the plan.(be for åŒæ„ï¼‰ It is burningï¼ˆç‡ƒçƒ§ï¼‰ hot today, so it isï¼ˆé‚£ç¡®å®ï¼‰ and/; so was (it)yesterday.ï¼ˆè¿™é‡Œåªç”¨ç”¨ and æˆ–ï¼›) Everyone is here and looks upset, so it is with Mary = it is the same withMary. è¿™ä¸ªå¥å‹åŒæ ·é€‚ç”¨äºå‰é¢çš„å…­ä¸ªä¾‹å­ï¼Œä½†æ˜¯å‰é¢æ˜¯å¹¶åˆ—å¥å¿…é¡»ç”¨è¿™ä¸ªå¥å‹ã€‚ The truth is that no one is perfect.When all potentialï¼ˆæ½œåœ¨çš„ï¼‰ for ugliness in removed, so is all of the potential for beauty. ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:1","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"å¦å®šå‰¯è¯æˆ–å«æœ‰å¦å®šçš„ä»‹è¯çŸ­ä½äºå¥é¦– ä¾‹å¥ Neither does Mr.Green know the matterï¼ˆäº‹ä»¶ï¼‰ nor does he care about it. neitherâ€¦â€¦norâ€¦â€¦ æ—¢ä¸ä¹Ÿä¸â€ƒeitherâ€¦â€¦orâ€¦â€¦è¦ä¹ˆè¦ä¹ˆï¼Œä¸æ˜¯å°±æ˜¯ Not only did we lose our way but also (we) came close to losing our lives.(come close to æ¥è¿‘ï¼Œå·®ä¸€ç‚¹å°±ï¼‰ Not until I began to work hard did I realize how much time I had wasted. ä»å¥ä¸å€’è£…ï¼ŒåŸå¥ä¸ºï¼š I didnâ€™t realize how much time I had wasted until I began to work hard. No sooner had they arrived at the tomb than they fell ill.ï¼ˆä¸€â€¦â€¦å°±â€¦â€¦) In no case will we give up half-way. Hardly does Jim think it possible to finish the task before/when dark. hardlyâ€¦before/when ä¸€â€¦â€¦å°±â€¦â€¦ è¿™é‡Œå–\"å‡ ä¹ä¸\"é‡Šä¹‰åº”è¯¥æ›´åˆé€‚ã€‚ Not a (single) mistake has Mary made so far.ï¼ˆç›ä¸½åˆ°ç›®å‰ä¸ºæ­¢ä¸€ä¸ªé”™è¯¯ä¹Ÿæ²¡çŠ¯ã€‚) not a (single) + å•æ•°åè¯ è¡¨ç¤ºâ€œä¸€ä¸ªä¹Ÿæ²¡æœ‰â€%} In no timeï¼ˆç«‹åˆ»é©¬ä¸Šï¼‰ Jone worked out the figureï¼ˆä½“ç§¯ï¼‰. ï¼ˆæ— å¦å®šä¸å€’è£…ï¼‰ ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:2","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"only + çŠ¶è¯­ä½äºå¥é¦– ä¾‹å¥ Only in this way are you able to do it well. å€’è£…å‰ï¼š You are able to do it well only in this way. Only when they returned home did they understand what had happened. Only on such a trip will you gain a better appreciationï¼ˆç†è§£ï¼‰ of Eurepean literature. Only the teacher got the news that our school could have a 4-day holiday.ï¼ˆåŒä½è¯­ä»å¥ï¼Œonly+ä¸»è¯­æ‰€ä»¥ä¸å€’è£…ï¼‰ ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:3","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"So/Suchâ€¦thatâ€¦ å¥å‹ä½äºå¥é¦– So + adj + a/an + å•æ•°åè¯ = Such + a/an + adj + å•æ•°åè¯ å¦‚æ­¤ ... ä»¥è‡³äº ... so ä¾§é‡äº adj/advâ€ƒsuch ä¾§é‡äº n. æ¯”å¦‚ï¼Œso many/much/few/little ä¾‹å¥ So crowded was the art galleryï¼ˆå±•è§ˆä¼šï¼‰ that I couldnâ€™t move about (it). Such good weather was it that we all went out last week. Such a lovely girl is kate that everyone likes her. So loudly did he speak that even people next room could hear him. ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:4","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"as å¼•å¯¼è®©æ­¥ç‹€è¯­ä»å¥ as å¼•å¯¼è®©æ­¥çŠ¶è¯­ä»å¥ï¼ˆè™½ç„¶ï¼Œå³ä½¿ï¼Œå°½ç®¡ï¼Œæ— è®ºï¼‰ï¼ŒæŠŠä»å¥ä¸­çš„è¡¨è¯­ï¼ŒåŠ¨è¯ï¼Œå‰¯è¯æè‡³å¥é¦– (as åä¸ç”¨å†å€’è£…äº†ï¼‰ï¼Œå½“è¡¨è¯­æ˜¯åè¯æ—¶ï¼Œæè‡³å¥é¦–æ—¶ä¸€å¾‹ç”¨é›¶å† è¯ï¼ˆå…¶ä¸­ as å¯ç”¨ though æ›¿ä»£ï¼Œå€’è£…åçœç•¥ but,though,however,even,though,although ç­‰ï¼‰ ä¾‹å¥ Child as he is,he knows a lot. Poor as King was,he tried his best to help others. Try as he may,he has never made his boss satisfied. Search as you would,you could find no body in the room. Much as I want to buy the car,I canâ€™t affordï¼ˆæ”¯ä»˜ï¼‰ it. ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:5","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"æŠŠè™šæ‹Ÿè¯­æ°”ä»å¥ä¸­çš„ were,had,should æè‡³å¥é¦–ï¼Œå¹¶çœç•¥ if ä¾‹å¥ Had you followwed my advice,you couldnâ€™t have made such a silly mistake. Were you not a boy,you could wear a dress. Should he invite me,I might take part in this party. ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:6","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"è¡¨è‚¯å®šå«ä¹‰çš„æ—¶é—´é¢‘ç‡è¯ä½äºå¥é¦– always,often,many a time(many times å¤šæ¬¡ï¼‰,every + æ—¶é—´ï¼Œnow and thenï¼ˆæ—¶ä¸æ—¶çš„ï¼‰ ä¾‹å¥ Many a time has he offered me some good suggestions. Now and then does my class teacher warn us not yo use cellphones in the classroom. ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:7","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Study"],"content":"ç–‘é—®å¥ç”¨éƒ¨åˆ†å€’è£… æ™®é€šçš„ç–‘é—®å¥ï¼š How do you do that? é™¤äº†ï¼š What is wrong? = What is the matter? â€¦ ","date":"2018-12-08","objectID":"/posts/inversion-1/:0:8","tags":["English"],"title":"è‹±è¯­è¯­æ³•--éƒ¨åˆ†å€’è£…","uri":"/posts/inversion-1/"},{"categories":["Memo"],"content":" 2021/10/2 æ›´æ–° åšå®¢å·²è¿ç§»è‡³ Hugo, æ’ä»¶æ¼”ç¤ºä¸é€‚ç”¨ï¼Œå·²åˆ é™¤ã€‚ è®©æ–‡ç« å†™çš„å¥½çœ‹åˆç®€æ´åˆå¥½ç”¨çš„æ’ä»¶ï¼hexo å®Œæ•´çš„æ ‡ç­¾åˆ—è¡¨ï¼Œnext æ’ä»¶åˆ—è¡¨ ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:0","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"hexo æ’ä»¶ hexo-lazyload-image npm install hexo-lazyload-image --save First add configuration in _config.yml from your hexo project. lazyload: enable: true onlypost: false loadingImg: # eg ./images/loading.gif hexo-ruby-marks ä¸æ”¯æŒrubyæ–°æ ‡ç­¾çš„æµè§ˆå™¨å°†æ˜¾ç¤ºrpä¸­çš„å†…å®¹ã€‚ \u003cruby\u003eåšæ¡çœ¾é•·\u003crp\u003eï¼ˆ\u003c/rp\u003e \u003crt\u003elruihao.cn\u003c/rt\u003e\u003crp\u003eï¼‰\u003c/rp\u003e\u003c/ruby\u003e åšæ¡çœ¾é•·ï¼ˆ lruihao.cnï¼‰ æ’ä»¶ä½¿ç”¨ npm i hexo-ruby-marks {% ruby _**base**_|_**top text**_ %} hexo-pwa npm install --save hexo-pwa You can configure this plugin in _config.yml.ï¼ˆé…ç½®å®Œå³å¯ä½¿ç”¨ä¸è®¸å•ç‹¬è®¾ç½®manifest.jsonæ–‡ä»¶åŠé…ç½®ï¼Œæ’ä»¶ç”Ÿæˆï¼‰ pwa: manifest: path: /manifest.json body: name: hexo short_name: hexo icons: - src: /images/android-chrome-192x192.png sizes: 192x192 type: image/png - src: /images/android-chrome-512x512.png sizes: 512x512 type: image/png start_url: /index.html theme_color: '#ffffff' background_color: '#ffffff' display: standalone serviceWorker: path: /sw.js preload: urls: - / posts: 5 opts: networkTimeoutSeconds: 5 routes: - pattern: !!js/regexp /hm.baidu.com/ strategy: networkOnly - pattern: !!js/regexp /.*\\.(js|css|jpg|jpeg|png|gif)$/ strategy: cacheFirst - pattern: !!js/regexp /\\// strategy: networkFirst priority: 5 hexo-tag-dplayer hexo-tag-dplayer npm install hexo-tag-dplayer --save {% dplayer key=value ... %} key can be dplayer options: 'autoplay', 'loop', 'screenshot', 'hotkey', 'mutex', 'dmunlimited' : bool options, use \"yes\" \"y\" \"true\" \"1\" \"on\" or just without value to enable 'preload', 'theme', 'lang', 'logo', 'url', 'pic', 'thumbnails', 'vidtype', 'suburl', 'subtype', 'subbottom', 'subcolor', 'subcolor', 'id', 'api', 'token', 'addition', 'dmuser' : string arguments 'volume', 'maximum' : number arguments container options: 'width', 'height' : string, used in container element style other: 'code' : value of this key will be append to script tag {% dplayer \"url=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.jpg\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" %} hexo-tag-aplayer more npm install --save hexo-tag-aplayer {% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %} æ ‡ç­¾å‚æ•° title : æ›²ç›®æ ‡é¢˜ author: æ›²ç›®ä½œè€… url: éŸ³ä¹æ–‡ä»¶ URL åœ°å€ picture_url: ï¼ˆå¯é€‰ï¼‰ éŸ³ä¹å¯¹åº”çš„å›¾ç‰‡åœ°å€ narrow: ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼ autoplay: ï¼ˆå¯é€‰ï¼‰ è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½ width:xxx: ï¼ˆå¯é€‰ï¼‰ æ’­æ”¾å™¨å®½åº¦ ï¼ˆé»˜è®¤ï¼š100%) lrc:xxx: ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ–‡ä»¶ URL åœ°å€ å½“å¼€å¯ Hexo çš„ æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ åŠŸèƒ½æ—¶ï¼Œå¯ä»¥å°†å›¾ç‰‡ã€éŸ³ä¹æ–‡ä»¶ã€æ­Œè¯æ–‡ä»¶æ”¾å…¥ä¸æ–‡ç« å¯¹åº”çš„èµ„æºæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åç›´æ¥å¼•ç”¨ï¼š {% aplayer \"Caffeine\" \"Jeff Williams\" \"caffeine.mp3\" \"picture.jpg\" \"lrc:caffeine.txt\" %} {% aplayer \"ä½ ç¦»å¼€äº†å—äº¬ï¼Œä»æ­¤æ²¡äººå’Œæˆ‘è¯´è¯\" \"æå¿—\" \"https://cdn-1256932288.cos.ap-chengdu.myqcloud.com/files/nanjing.mp3\" \"https://p2.music.126.net/UuSe-Vc6rS7JtRJSQgDU2g==/2323268069553116.jpg?param=300x300\" %} hexo-pdf pdf ä¼ é€é—¨ hexo-filter-flowchartï¼ˆæµç¨‹å›¾ï¼‰ è¯­æ³• npm install --save hexo-filter-flowchart ```%flow #å»æ‰%å· st=\u003estart: Start|past:\u003ehttps://lruihao.cn[blank] e=\u003eend: End:\u003ehttps://www.lruihao.cn[blank] op1=\u003eoperation: My Operation|past op2=\u003eoperation: Stuff|current sub1=\u003esubroutine: My Subroutine|invalid cond=\u003econdition: Yes or No?|approved:\u003e/hexo/nextplugin.html c2=\u003econdition: Good idea|rejected io=\u003einputoutput: catch something...|request st-\u003eop1(right)-\u003econd cond(yes, right)-\u003ec2 cond(no)-\u003esub1(left)-\u003eop1 c2(yes)-\u003eio-\u003ee c2(no)-\u003eop2-\u003ee ``` hexo-spoiler npm install hexo-spoiler --save If hexo canâ€™t detect this plugin automatically, you need to modify the plugins section of [path_to_your_site]/_config.yml manually, like: plugins: - hexo-spoiler {% spoiler [text] %} It will pixelate your text, and click to reveal. Click again to hide your text again. But you need to add \u003cbr\u003e manually if you want line breaks after/before it. When you writes: {% spoiler text %} {% spoiler ~~text~~ %} {% spoiler *text* %} {% spoiler **text** %}\u003cbr\u003e {% spoiler **hello welcome to åšæ¡çœ¾é•·ï¼** %} ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:1","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"å®…éŸ³ä¹ä¾§æ æ’­æ”¾å™¨æ’ä»¶ ä½“éªŒ æºç  ç›®å‰åœ¨ next ä¸­å¯èƒ½å¼•èµ·éƒ¨åˆ† css å†²çªï¼Œå»ºè®®åœ¨ next ä¸­ä½¿ç”¨åœ¨å•ä¸ªé¡µé¢ä¸­ã€‚ ä¾èµ–äº jQueryï¼Œä¸€è¡Œ js å¯ä»¥å¼•å…¥æ’­æ”¾å™¨æ’ä»¶ã€‚ ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:2","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"caniuse ä½¿ç”¨ {% caniuse feature @ periods %} \u003c!-- Tag Alias --\u003e {% can feature @ periods %} feature : Search for the feature you want on https://caniuse.com, then click on the hash sign to the left of the search result heading and you will get the unique name of this feature. periods : Select the browser versions to display. Supported values: past_1, past_2, past_3, past_4, past_5, current, future_3, future_2, future_1. If this value is empty, the default value 'current' will be used. æ —å­ Caniuse without periods {% caniuse fetch %} Caniuse with current period {% can sharedarraybuffer @ current %} Caniuse with future periods {% caniuse loading-lazy-attr @ future_3,future_2,future_1 %} Caniuse with past periods {% caniuse link-rel-modulepreload @ past_1,past_2,past_3,past_4,past_5 %} ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:3","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"Include Raw This tag include any raw content into your posts. Path is relative to your site source directory. {% include_raw '_data/path/to/file.html' %} Letâ€™s create include-raw.html file in _data directory under site root directory with following content: Any \u003cstrong\u003eraw content\u003c/strong\u003e may be included with this tag. Then in any post we can use this content with include_raw tag: {% include_raw '_data/path/to/include-raw.html' %} Any raw content may be included with this tag. ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:4","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"button more info {% button url, text, icon [class], [title] %} \u003c!-- Tag Alias --\u003e {% btn url, text, icon [class], [title] %} url : Absolute or relative path to URL. text : Button text. Required if no icon specified. icon : FontAwesome icon name (without 'fa-' at the begining). Required if no text specified. [class] : FontAwesome class(es): fa-fw | fa-lg | fa-2x | fa-3x | fa-4x | fa-5x Optional parameter. [title] : Tooltip at mouseover. Optional parameter. {% btn #, Text \u0026 Large Icon \u0026 Title, home fa-fw fa-lg, Title %} ``` ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:5","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"Mermaid more info example {% mermaid gitGraph: %} options { \"nodeSpacing\": 150, \"nodeRadius\": 10 } end commit branch newbranch checkout newbranch commit checkout master commit merge newbranch {% endmermaid %} ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:6","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"video Usage {% video url %} Examples {% video https://example.com/sample.mp4 %} {% video /path/to/your/video.mp4 %} ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:7","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"tab é€‰é¡¹å¡ â€œtab\"ä¸ºé€‰é¡¹å¡çš„åç§°ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œæ•°å­—æ˜¯å‡ è¡¨ç¤ºä»ç¬¬å‡ ä¸ªé€‰é¡¹å¡å¼€å§‹ã€‚éå¿…é¡»ï¼Œè‹¥æ•°å€¼ä¸º-1 åˆ™éšè—é€‰é¡¹å¡å†…å®¹ã€‚ æŸ¥çœ‹æ›´å¤š {% tabs Unique name, [index] %} \u003c!-- tab [Tab caption] [@icon] --\u003e Any content (support inline tags too). \u003c!-- endtab --\u003e {% endtabs %} Unique name : Unique name of tabs block tag without comma. Will be used in #id's as prefix for each tab with their index numbers. If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes. Only for current url of post/page must be unique! [index] : Index number of active tab. If not specified, first tab (1) will be selected. If index is -1, no tab will be selected. It's will be something like spoiler. Optional parameter. [Tab caption] : Caption of current tab. If not caption specified, unique name with tab index suffix will be used as caption of tab. If not caption specified, but specified icon, caption will empty. Optional parameter. [@icon] : FontAwesome icon name (without 'fa-' at the begining). Can be specified with or without space; e.g. 'Tab caption @icon' similar to 'Tab caption@icon'. Optional parameter. {% tabs tab,2 %} \u003c!-- tab --\u003e this is tab1 \u003c!-- endtab --\u003e \u003c!-- tab --\u003e this is tab2 \u003c!-- endtab --\u003e \u003c!-- tab --\u003e this is tab3 \u003c!-- endtab --\u003e {% endtabs %} æ•°å€¼ä¸º-1 {% tabs é€‰é¡¹ï¼Œ-1 %} \u003c!-- tab --\u003e **é€‰é¡¹ 1** \u003c!-- endtab --\u003e \u003c!-- tab --\u003e **é€‰é¡¹ 2** \u003c!-- endtab --\u003e \u003c!-- tab --\u003e **é€‰é¡¹ 3** \u003c!-- endtab --\u003e {% endtabs %} åå­—å†™åœ¨é€‰é¡¹é‡Œé¢ {% tabs Fourth unique name %} \u003c!-- tab Solution 1 --\u003e **This is Tab 1.** \u003c!-- endtab --\u003e \u003c!-- tab Solution 2 --\u003e **This is Tab 2.** \u003c!-- endtab --\u003e \u003c!-- tab Solution 3 --\u003e **This is Tab 3.** \u003c!-- endtab --\u003e {% endtabs %} ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:8","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"note ä¾¿ç­¾ ä¸»é¢˜é…ç½®æ–‡ä»¶æœç´¢ note, å¯è®¾ç½®é£æ ¼å’Œå›¾æ ‡æ˜¯å¦æ˜¾ç¤ºã€‚ # Note tag (bs-callout). note: # Note tag style values: # - simple bs-callout old alert style. Default. # - modern bs-callout new (v2-v3) alert style. # - flat flat callout style with background, like on Mozilla or StackOverflow. # - disabled disable all CSS styles import of note tag. style: flat icons: true border_radius: 15 # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6). # Offset also applied to label tag variables. This option can work with disabled note tag. light_bg_offset: 0 å†™æ³• {% note default %} default ç±»å‹è¿˜æœ‰ä»¥ä¸‹å‡ ç§ {% endnote %} {% note primary %} primary å†…å®¹ {% endnote %} {% note success %} success å†…å®¹ {% endnote %} {% note info %} info å†…å®¹ {% endnote %} {% note warning %} warning å†…å®¹ {% endnote %} {% note danger %} danger å†…å®¹ {% endnote %} {% note %} ä¸å¡« å†…å®¹ {% endnote %} {% note danger no-icon %} danger no-icon å†…å®¹ {% endnote %} ### å¼•ç”¨ï¼ˆæ–‡æœ¬å±…ä¸­ï¼‰ {% cq %} there are test words {% endcq %} ### [Font Awesome å›¾æ ‡](https://www.runoob.com/font-awesome/fontawesome-tutorial.html) \u003e Font Awesome æ˜¯ä¸€å¥—ç»ä½³çš„å›¾æ ‡å­—ä½“åº“å’Œ CSS æ¡†æ¶ã€‚ \u003e Font Awesome å­—ä½“ä¸ºæ‚¨æä¾›å¯ç¼©æ”¾çŸ¢é‡å›¾æ ‡ï¼Œå®ƒå¯ä»¥è¢«å®šåˆ¶å¤§å°ã€é¢œè‰²ã€é˜´å½±ä»¥åŠä»»ä½•å¯ä»¥ç”¨ CSS çš„æ ·å¼ã€‚ \u003e è¦ä½¿ç”¨ Font Awesome å›¾æ ‡ï¼Œè¯·åœ¨ HTML é¡µé¢çš„ éƒ¨åˆ†ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼š #### 1ã€å›½å†…æ¨è CDN ``` #### 2ã€æµ·å¤–æ¨è CDN \u003clink rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\u003e next å·²ç»å¼•ç”¨äº†ï¼Œå¯ä»¥ç›´æ¥ç”¨ï¼Œæ¯”å¦‚ï¼š \u003ci class=\"fa fa-car\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-car\" style=\"font-size:48px;\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-car\" style=\"font-size:60px;color:red;\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-car fa-lg\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-car fa-2x\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-car fa-3x\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-car fa-4x\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-car fa-5x\"\u003e\u003c/i\u003e åŠ¨æ€å›¾æ ‡ \u003ci class=\"fa fa-spinner fa-spin\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-circle-o-notch fa-spin\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-refresh fa-spin\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-cog fa-spin\"\u003e\u003c/i\u003e \u003ci class=\"fa fa-spinner fa-pulse\"\u003e\u003c/i\u003e ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:9","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"ä»£ç å—ç­‰ [language] [title] [url] [link text] code snippet - printf(\"Hello World!\"); + printf(\"Hello_World!\"); iframe åœ¨æ–‡ç« ä¸­æ’å…¥ iframeã€‚ {% iframe url [width] [height] %} ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:10","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"Todo list å·²å®Œæˆ æœªå®Œæˆ \u003cul\u003e \u003cli\u003e\u003ci class=\"fa fa-check-square\"\u003e\u003c/i\u003e å·²å®Œæˆ\u003c/li\u003e \u003cli\u003e\u003ci class=\"fa fa-square\"\u003e\u003c/i\u003e æœªå®Œæˆ\u003c/li\u003e \u003c/ul\u003e \u003c!--æˆ–è€…--\u003e - \u003ci class=\"fa fa-check-square\"\u003e\u003c/i\u003e å·²å®Œæˆ - \u003ci class=\"fa fa-square\"\u003e\u003c/i\u003e æœªå®Œæˆ ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:11","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"Label ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ‰“å¼€ # Label tag. label: true @å‰é¢çš„æ˜¯ label çš„åå­—ï¼Œåé¢çš„æ˜¯è¦æ˜¾ç¤ºçš„æ–‡å­— {% label default@default %} primary success info warning danger ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:12","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["Memo"],"content":"å…¶ä»– åŒ…æ‹¬å°è‰²å—ã€å·¦ä¾§è‰²æ¡ã€å³ä¾§è‰²æ¡ã€ä¸Šæ–¹è‰²æ¡ã€æ•°å­—è‰²å—ï¼ˆéœ€è¦è‡ªå®šä¹‰æ ·å¼ï¼‰ ","date":"2018-11-24","objectID":"/posts/nextplugin/:0:13","tags":["hexo"],"title":"hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›†","uri":"/posts/nextplugin/"},{"categories":["OS"],"content":" å‰é¢æˆ‘æœ‰æ–‡ç« æåˆ°æ€ä¹ˆæäº¤æœ¬åœ°æ–‡ä»¶åˆ° github,coding ç­‰è¿œç¨‹ä»“åº“ã€‚æ¯æ¬¡å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ git add * ï¼ˆæ·»åŠ éœ€è¦æäº¤çš„æ–‡ä»¶ï¼Œè¿™é‡Œå…¨é€‰ï¼‰ git commit -m â€œæäº¤ä¿¡æ¯â€ git push ä½†æ˜¯è¿™æ ·æ„Ÿè§‰å¾ˆéº»çƒ¦æ¯æ¬¡éƒ½è¦é‡å¤è¾“å…¥æäº¤å‘½ä»¤å’Œæç¤ºä¿¡æ¯ã€‚ è¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨åˆ° windows æ‰¹å¤„ç† bat æ–‡ä»¶ (linux çš„è¯å¯ä»¥ç”¨ shell è„šæœ¬ï¼‰ã€‚ç”¨å®Œå‘ç°å¥½ç”¨åˆ°ä¸è¡Œï¼ ","date":"2018-11-17","objectID":"/posts/commit-bat/:0:0","tags":["bat"],"title":"é€šè¿‡ bat æ‰¹å¤„ç†æ–‡ä»¶è‡ªåŠ¨æäº¤åšå®¢ä»£ç ","uri":"/posts/commit-bat/"},{"categories":["OS"],"content":"æ–°å»ºæ–‡æœ¬æ–‡æ¡£ @echo off title Commit git add . set /p m=Message: git commit -m \"%m%\" git push ç„¶åå¦å­˜ä¸ºcommit.batæ–‡ä»¶ï¼Œåªè¦åç¼€æ˜¯batå°±è¡Œäº†ã€‚ ","date":"2018-11-17","objectID":"/posts/commit-bat/:0:1","tags":["bat"],"title":"é€šè¿‡ bat æ‰¹å¤„ç†æ–‡ä»¶è‡ªåŠ¨æäº¤åšå®¢ä»£ç ","uri":"/posts/commit-bat/"},{"categories":["OS"],"content":"ä½¿ç”¨ æŠŠæ–‡ä»¶æ”¾åˆ°ä½ åŸæœ¬éœ€è¦æäº¤ä»£ç çš„æœ¬åœ°æ–‡ä»¶å¤¹ã€‚åŒå‡»è¿è¡Œï¼Œè¾“å…¥æäº¤ä¿¡æ¯å›è½¦å³å¯ã€‚ ","date":"2018-11-17","objectID":"/posts/commit-bat/:0:2","tags":["bat"],"title":"é€šè¿‡ bat æ‰¹å¤„ç†æ–‡ä»¶è‡ªåŠ¨æäº¤åšå®¢ä»£ç ","uri":"/posts/commit-bat/"},{"categories":["OS"],"content":"hexo åšå®¢æ–°å§¿åŠ¿ hexo æäº¤ä¹Ÿå¾ˆéº»çƒ¦ï¼Œå½“ç„¶ä¹Ÿè¦æ‰¹å¤„ç†ä¸€ä¸‹å‘€ hexo clean\u0026\u0026hexo g -d ","date":"2018-11-17","objectID":"/posts/commit-bat/:0:3","tags":["bat"],"title":"é€šè¿‡ bat æ‰¹å¤„ç†æ–‡ä»¶è‡ªåŠ¨æäº¤åšå®¢ä»£ç ","uri":"/posts/commit-bat/"},{"categories":["OS"],"content":"å…¶ä»– æ­»æœºè„šæœ¬ (å‹æƒ…æé†’åƒä¸‡ä¸è¦åœ¨çœŸæœºå®éªŒï¼Œè¯·åœ¨è™šæ‹Ÿæœºè¿è¡Œ) start cmd ifconfig å¦å¤–ä¹Ÿè¯´ä¸€ä¸‹ linux æ­»æœºå‘½ä»¤ã€‚fork ç‚¸å¼¹ã€‚ æ­»æœºæ— éæ˜¯è€—å°½ç³»ç»Ÿèµ„æº _(){ _ | _ \u0026 }; _ è¿™ä¸ª\u0026æŒ‡åå°è¿è¡Œçš„æ„æ€ã€‚ ç»Ÿè®¡æ–‡ä»¶å dir \\\\?\\%1 /a:-d /b /o /p /w \u003eFilelist.txt å°†éœ€è¦ç»Ÿè®¡çš„æ–‡ä»¶å¤¹æ‹–åˆ° bat æ–‡ä»¶ä¸Šã€‚ ","date":"2018-11-17","objectID":"/posts/commit-bat/:0:4","tags":["bat"],"title":"é€šè¿‡ bat æ‰¹å¤„ç†æ–‡ä»¶è‡ªåŠ¨æäº¤åšå®¢ä»£ç ","uri":"/posts/commit-bat/"},{"categories":["Grocery"],"content":"ä»‹ç» ä½¿ç”¨ fusion app å¯¹ç½‘é¡µè¿›è¡Œçš„å°è£…ã€‚ åŠŸèƒ½ï¼š æµè§ˆæœ¬åšå®¢ï¼Œä¸»é¡µ ç§äººç½‘ç›˜ 2048 ç­‰å°æ¸¸æˆ åœ¨çº¿å®¢æœï¼ŒQQ ç­‰ pc ä¸ç§»åŠ¨æµè§ˆå™¨æ ‡è¯†åˆ‡æ¢ ç•™è¨€ï¼Œæ‰“èµï¼Œåšä¸»æ—¥å¿—ç­‰ åˆ†äº«åŠŸèƒ½ï¼Œåˆ†äº«åˆ° QQï¼Œå¾®ä¿¡ï¼Œæµè§ˆå™¨æ‰“å¼€ç­‰ app å†…æ·»åŠ ä¹¦ç­¾ï¼Œè‡ªåŠ¨è®°å½•å†å²è®°å½•ï¼Œåˆ·æ–°ç­‰ é…åˆåšå®¢çš„PWA + quicklinkåŠŸèƒ½å¯å®ç°ç¦»çº¿æµè§ˆ ","date":"2018-11-12","objectID":"/posts/fas-app/:0:1","tags":["lua","fusion"],"title":"åšæ¡çœ¾é•· app","uri":"/posts/fas-app/"},{"categories":["Grocery"],"content":"ä¸‹è½½ app å†…ä¹Ÿå¯ä»¥æ›´æ–°ï¼Œä¸è¿‡å°±æˆ‘è‡ªå·±ç”¨ï¼Œæ‡’å¾—æ›´æ–°ã€‚ ç™¾åº¦äº‘ï¼Œå¯†ç ï¼š479l github ä¸‹è½½ PWA åº”ç”¨ åœ°å€æ è¾“å…¥ï¼šChrome://flags æœç´¢å¹¶å¯ç”¨ä»¥ä¸‹é¡¹ç›®ï¼šDesktop PWAsï¼ˆæ¡Œé¢ PWAs)ã€App Bannersï¼ˆåº”ç”¨æ¨ªå¹…ï¼‰ã€Experimental App Bannersï¼ˆå®éªŒæ€§åº”ç”¨æ¨ªå¹…ï¼‰ é‡å¯æµè§ˆå™¨ä½¿ä¿®æ”¹çš„è®¾ç½®ç”Ÿæ•ˆ ç‚¹å‡»åœ°å€æ æœ€å³è¾¹æŒ‰é’® å®‰è£…â€œåšæ¡çœ¾é•·â€ ","date":"2018-11-12","objectID":"/posts/fas-app/:0:2","tags":["lua","fusion"],"title":"åšæ¡çœ¾é•· app","uri":"/posts/fas-app/"},{"categories":["Grocery"],"content":"éƒ¨åˆ†æºç  çœ‹åˆ°è¿™äº›ä¸­æ–‡çš„å‡½æ•°æ€»è§‰å¾—æ€ªæ€ªçš„å“ˆå“ˆå“ˆ ğŸ˜‚ è¯­è¨€ï¼šlua æ£€æµ‹æ›´æ–° --æ£€æŸ¥æµ‹å½“å‰æ˜¯å¦æœ€æ–°ç‰ˆæœ¬ local dl=ProgressDialog.show(activity,nil,'æ›´æ–°æ£€æµ‹ä¸­â€¦') dl.show() local tt=Ticker() tt.start() packinfo=this.getPackageManager().getPackageInfo(this.getPackageName(),((32552732/2/2-8183)/10000-6-231)/9) version=tostring(packinfo.versionName) versioncode=tostring(packinfo.versionCode) url=\"https://share.weiyun.com/43fa66d8fc95db27141530ed2d006be2\"; function è¿‡æ»¤ (content) ç‰ˆæœ¬å=content:match(\"ã€ç‰ˆæœ¬åã€‘(.-)ã€ç‰ˆæœ¬åã€‘\") ç‰ˆæœ¬=content:match(\"ã€ç‰ˆæœ¬ã€‘(.-)ã€ç‰ˆæœ¬ã€‘\") å†…å®¹=content:match(\"ã€å†…å®¹ã€‘(.-)ã€å†…å®¹ã€‘\") é“¾æ¥=content:match(\"ã€é“¾æ¥ã€‘(.-)ã€é“¾æ¥ã€‘\") ifï¼ˆç‰ˆæœ¬å==nil) then ç‰ˆæœ¬å=\"è·å–å¤±è´¥\" end ifï¼ˆç‰ˆæœ¬==nil) then ç‰ˆæœ¬=\"0\" end ifï¼ˆå†…å®¹==nil) then å†…å®¹=\"è·å–å¤±è´¥\" end ifï¼ˆé“¾æ¥==nil) then å¼¹å‡ºæ¶ˆæ¯ (\"æœåŠ¡å™¨å‚æ•°é…ç½®é”™è¯¯ï¼Œè¯·è¿‡æ®µæ—¶é—´å†æ¬¡å°è¯•\") end ifï¼ˆç‰ˆæœ¬ \u003e versioncode) then dl.dismiss() tt.stop() å¯¹è¯æ¡† () . è®¾ç½®æ ‡é¢˜ (\"æ£€æµ‹åˆ°æ›´æ–°\") . è®¾ç½®æ¶ˆæ¯ (\"ç‰ˆæœ¬ï¼š\"..version..\"â†’\".. ç‰ˆæœ¬åã€‚.\"\\n æ›´æ–°å†…å®¹ï¼š\".. å†…å®¹ï¼‰ . è®¾ç½®ç§¯ææŒ‰é’® (\"ä¸‹è½½æ›´æ–°\",function() ä¸‹è½½æ–‡ä»¶ï¼ˆé“¾æ¥ï¼‰ å¼¹å‡ºæ¶ˆæ¯ (\"ä¸‹è½½æ›´æ–°ä¸­â€¦\") end) . è®¾ç½®æ¶ˆææŒ‰é’® (\"å–æ¶ˆæ›´æ–°\") . æ˜¾ç¤º () else dl.dismiss() tt.stop() å¼¹å‡ºæ¶ˆæ¯ (\"å½“å‰å·²æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼\") end Http.get(url,nil,\"UTF-8\",nil,function(code,content,cookie,header) if(code==200 and content)then content=content:match(\"\\\"html_content\\\":(.-),\"):gsub(\"\\\\u003C/?.-%\u003e\",\"\"):gsub(\"\\\\\\\\\",\"\u0026revs;\"):gsub(\"\\\\n\",\"\\n\"):gsub(\"\u0026nbsp;\",\" \"):gsub(\"\u0026lt;\",\"\u003c\"):gsub(\"\u0026gt;\",\"\u003e\"):gsub(\"\u0026quot;\",\"\\\"\"):gsub(\"\u0026apos;\",\"'\"):gsub(\"\u0026revs;\",\"\\\\\"):gsub(\"\u0026amp;\",\"\u0026\"); è¿‡æ»¤ (content) else dl.dismiss() tt.stop() å¼¹å‡ºæ¶ˆæ¯ (\"æœ¬åœ°ç½‘ç»œæˆ–æœåŠ¡å™¨å¼‚å¸¸ \"..code) end end) æ–¹å‘é”å®š --flag åœ¨ç¨‹åºå¯åŠ¨äº‹ä»¶å£°æ˜çš„å…¨å±€å˜é‡ if flag==1 then activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR); SetHSP=\"H\" else SetHSP=nil end if SetHSP==nil then --ç«–å±é”å®š activity.setRequestedOrientation(1); flag=1 else flag=0 end ç¨‹åºå¯åŠ¨äº‹ä»¶ å¼¹å‡ºæ¶ˆæ¯ (\"Â©2018 æç‘è±ª\") --è‡ªåŠ¨ï¼Œç”±ç‰©ç†æ„Ÿåº”å™¨å†³å®š import \"android.content.pm.ActivityInfo\" flag=1 --ç¨‹åºé€€å‡ºæ—¶æ‰§è¡Œå¯¹è¯æ¡† function onKeyDown(key,event) if(key==4)then if(webView.canGoBack())then webView.goBack() else appinfo=this.getPackageManager().getApplicationInfo(this.getPackageName(),0) applabel=this.getPackageManager().getApplicationLabel(appinfo) é€€å‡ºç¡®è®¤=å¯¹è¯æ¡† () . è®¾ç½®æ¶ˆæ¯ (\"æ‚¨ç¡®å®šè¦é€€å‡º \"..applabel..\" å—ï¼Ÿ\") é€€å‡ºæŒ‰é’®={ [1]=function() é€€å‡ºç¡®è®¤ . è®¾ç½®ç§¯ææŒ‰é’® (\"ç¡®è®¤\",function() é€€å‡ºç¨‹åº () end ) . è®¾ç½®ä¸­ç«‹æŒ‰é’® (\"æ¸…é™¤ç¼“å­˜\",function() å¯¹è¯æ¡† () . è®¾ç½®æ¶ˆæ¯ (\"æ¸…é™¤ç¼“å­˜åå†æ¬¡è¿è¡Œç¨‹åºå°†å˜å¾—ç¼“æ…¢ã€n æ‚¨ç¡®å®šè¦æ¸…é™¤ \"..applabel..\" çš„ç¼“å­˜å—ï¼Ÿ\") . è®¾ç½®ç§¯ææŒ‰é’® (\"ç¡®å®š\",function() os.execute(\"pm clear \"..this.packageName) é€€å‡ºç¨‹åº () end) . è®¾ç½®æ¶ˆææŒ‰é’® (\"å–æ¶ˆ\",function() end) . æ˜¾ç¤º () end ) . è®¾ç½®æ¶ˆææŒ‰é’® (\"å–æ¶ˆ\") end } math.randomseed(tonumber(tostring(os.time()):reverse():sub(1, 6))) é€€å‡ºæŒ‰é’® [math.random(1,1)]() é€€å‡ºç¡®è®¤ã€‚show() end return true end end --å†å²è®°å½• lstads=\"/data/data/\"..activity.getPackageName()..\"/lst.lua\" lstwebads=\"/data/data/\"..activity.getPackageName()..\"/lstweb.lua\" --2. åºåˆ—åŒ– function slz(obj) local lua = \"\" local t = type(obj) if t == \"number\" then lua = lua .. obj elseif t == \"boolean\" then lua = lua .. tostring(obj) elseif t == \"string\" then lua = lua .. string.format(\"%q\", obj) elseif t == \"table\" then lua = lua .. \"{\\n\" for k, v in pairs(obj) do lua = lua .. \"[\" .. slz(k) .. \"]=\" .. slz(v) .. \",\\n\" end local metatable = getmetatable(obj) if metatable ~= nil and type(metatable.__index) == \"table\" then for k, v in pairs(metatable.__index) do lua = lua .. \"[\" .. slz(k) .. \"]=\" .. slz(v) .. \",\\n\" end end lua = lua .. \"}\" elseif t == \"nil\" then return nil else error(\"can not serialize a \" .. t .. \" type.\") end return lua end function rslz(lua) local t = type(lua) if t == \"nil\" or lua == \"\" then return {} elseif t == \"number\" or t == \"string\" or t == \"boolean\" then lua = tostring(lua) else error(\"can not unserialize a \" .. t .. \" type.\") end lua = \"return \" .. lua local func = loadstring(lua) if func == nil then return nil end return func() end --3. å†å²è®°å½•æ¡†å¸ƒå±€ function hstshow() hstlayout={ LinearLayout, orientation=\"1\", gravity=\"center\", layout_width=\"wrap_content\", layout_height=\"wrap_content\", { TextView, text=\"\", gravity=\"center\", layout_width=\"wrap_content\", textSize=\"0sp\", background=\"#000000\", layout_height=\"15dp\",}, { TextView, text=\"å†å²è®°å½•\", gravity=\"center\", layout_width=\"wrap_content\", textSize=\"30sp\", textStyle=\"bold\", layout_height=\"50dp\",}, { ListView, id=\"hlst\", items=","date":"2018-11-12","objectID":"/posts/fas-app/:0:3","tags":["lua","fusion"],"title":"åšæ¡çœ¾é•· app","uri":"/posts/fas-app/"},{"categories":["Grocery"],"content":"å®‰è£… cd ~ curl https://getcaddy.com | bash -s personal http.filemanager ","date":"2018-11-11","objectID":"/posts/caddy-file/:1:0","tags":["äº‘ç›˜","caddy","server"],"title":"caddy-ä¸¤æ­¥æ­å»ºè¶…ç®€å•äº‘ç›˜","uri":"/posts/caddy-file/"},{"categories":["Grocery"],"content":"ç¼–å†™é…ç½®æ–‡ä»¶ vim Caddyfile å†…å®¹å¦‚ä¸‹ï¼š :80 { filemanager / /sdcard timeouts none gzip } è¿™é‡Œçš„ 8080 ç«¯å£å·å¯ä»¥éšæ„æŒ‡å®šï¼Œå¦‚æœåœ¨æ‰‹æœº termux ç­‰æ­å»ºï¼Œç”±äºæ‰‹æœºæƒé™æ¯”è¾ƒä½ï¼Œæ‰€ä»¥ä¸€èˆ¬è®¾ç½® 1024 ä»¥ä¸Šçš„ç«¯å£ã€‚80ç«¯å£å¯ä»¥ç›´æ¥é€šè¿‡ ip è®¿é—®ã€‚å¦‚118.24.217.167 å¦‚æœç”¨åŸŸåï¼Œå…ˆåœ¨åŸŸåæœåŠ¡å•†è§£æ ip, å†é…ç½®æ–‡ä»¶å¦‚ä¸‹ https://pan.lruihao.cn { filemanager / /sdcard timeouts none tls admin@lruihao.cn gzip } æŒ‡å®šé‚®ç®±æ˜¯ä¸ºäº†ç”³è¯· ssl, å®ç° https. ","date":"2018-11-11","objectID":"/posts/caddy-file/:2:0","tags":["äº‘ç›˜","caddy","server"],"title":"caddy-ä¸¤æ­¥æ­å»ºè¶…ç®€å•äº‘ç›˜","uri":"/posts/caddy-file/"},{"categories":["Grocery"],"content":"demo å¯åŠ¨ caddy caddy è´¦å·å¯†ç é»˜è®¤admin ","date":"2018-11-11","objectID":"/posts/caddy-file/:3:0","tags":["äº‘ç›˜","caddy","server"],"title":"caddy-ä¸¤æ­¥æ­å»ºè¶…ç®€å•äº‘ç›˜","uri":"/posts/caddy-file/"},{"categories":["Grocery"],"content":"è®¾ç½®å®šæ—¶å™¨å¯åŠ¨ caddyï¼ˆå¥½åƒæ²¡ç”¨ï¼Œæˆ‘ä¸ä¼šï¼‰ ä¸ºäº†æ–­å¼€ xshell å caddy è¿˜åœ¨è¿è¡Œã€‚ vim run.sh ç¼–è¾‘ä»¥ä¸‹å†…å®¹ #!/bin/bash caddy åŠ æƒ chmod +x run.sh è®¾ç½®ä»»åŠ¡ å‚è€ƒ crontab -e åŠ å…¥ * * * * * /root/run.sh service crond start ","date":"2018-11-11","objectID":"/posts/caddy-file/:4:0","tags":["äº‘ç›˜","caddy","server"],"title":"caddy-ä¸¤æ­¥æ­å»ºè¶…ç®€å•äº‘ç›˜","uri":"/posts/caddy-file/"},{"categories":["Grocery"],"content":"ï¼Ÿï¼Ÿï¼Ÿ æœ€åè¯¯æ‰“è¯¯æ’å¼€å¯äº† caddy æ˜¨æ™šåŒåä¸€è¦æŠ¢è£¤å­ï¼ŒåŠ ä¸Šæ¹˜æ½­å¤©æ°”å¤ª tm å†·äº†ï¼Œå°±ä¸ŠåºŠäº†ï¼Œæ¥ç€ç”¨ termux è¿œç¨‹è¿æ¥æœåŠ¡å™¨ç»§ç»­æã€‚ç»“æœè¿æ¥çš„æ—¶å€™å‘½ä»¤è¾“é”™äº†-_-! æœ¬æ¥æ˜¯ssh root@118.24.217.167å†è¾“å…¥å¯†ç å°±å¯ä»¥äº†ã€‚è¿™æ¬¡æé”™äº†å¤šå†™äº†ä¸ª-T, ç„¶åè¿è¡Œcaddy,ctrl+c å†æ–­å¼€ï¼Œæ„å¤–åœ°å‘ç° filemanager ç«Ÿç„¶å¯ä»¥è®¿é—®äº†ã€‚ ssh -T root@118.24.217.167 caddy Ctrl+c ","date":"2018-11-11","objectID":"/posts/caddy-file/:5:0","tags":["äº‘ç›˜","caddy","server"],"title":"caddy-ä¸¤æ­¥æ­å»ºè¶…ç®€å•äº‘ç›˜","uri":"/posts/caddy-file/"},{"categories":["Memo"],"content":" æœ€æ–°çš„ next ä¸»é¢˜å·²ç»æ›´æ–°äº†æ”¯æŒ PDF åŠŸèƒ½ï¼Œå†™æ³•ä¹Ÿå’Œé“¾æ¥å†™æ³•ä¸€æ ·ï¼Œå¯æ˜¯æˆ‘æ²¡æœ‰æ›´æ–°ï¼Œæˆ‘æŒ‰ github ä¸Šé‚£ä¸ª readme è¯•äº†ä¸€ä¸‹å¥½åƒä¸å¯ä»¥ï¼Œæ‰€ä»¥ç”¨äº†å¦å¤–ä¸€ç§æ’ä»¶çš„æ–¹æ³•ã€‚ ","date":"2018-11-09","objectID":"/posts/next-pdf/:0:0","tags":["hexo"],"title":"nextæ·»åŠ æ”¯æŒpdf","uri":"/posts/next-pdf/"},{"categories":["Memo"],"content":"iframe(æ¨è) \u003ciframe src=\"/posts/next-pdf/1.pdf\" style=\"width: 100%;height: 800px;\"\u003e\u003c/iframe\u003e ","date":"2018-11-09","objectID":"/posts/next-pdf/:1:0","tags":["hexo"],"title":"nextæ·»åŠ æ”¯æŒpdf","uri":"/posts/next-pdf/"},{"categories":["Memo"],"content":"æ¨¡æ¿è‡ªå¸¦ ä»Šå¤©ï¼ˆ2019.4.3ï¼‰åˆçœ‹äº†ä¸€ä¸‹ï¼Œæ”¹äº†å†™æ³•ï¼Œå†™æ³•å’Œæ’ä»¶ä¸€æ ·ï¼Œæˆ‘åœ¨æˆ‘çš„æ¨¡æ¿é‡Œä¹Ÿæ›´æ–°äº†ã€‚ï¼ˆæ’ä»¶æ¨¡æ¿äºŒé€‰ä¸€å³å¯,ä¸ªäººæ›´å–œæ¬¢æ’ä»¶ï¼‰ ä½†æ˜¯å¦‚æœå®‰è£…æ’ä»¶åï¼Œä¹Ÿæ˜¯ä¼˜å…ˆæ¨¡æ¿çš„ pdf è„šæœ¬è§£æ pdf,æ‰€ä»¥åœ¨æˆ‘çš„æ¨¡æ¿ä¸­æŠŠæ¨¡æ¿çš„ pdf è„šæœ¬å…ˆæ³¨é‡Šäº†ã€‚è¦å¯ç”¨å»æ‰æ³¨é‡Šå³å¯ã€‚ /* 'use strict'; function pdf(args) { return `\u003cdiv class=\"pdf\" target=\"${args[0]}\" height=\"${args[1] || ''}\"\u003e\u003c/div\u003e`; } hexo.extend.tag.register('pdf', pdf, {ends: false}); */ ","date":"2018-11-09","objectID":"/posts/next-pdf/:2:0","tags":["hexo"],"title":"nextæ·»åŠ æ”¯æŒpdf","uri":"/posts/next-pdf/"},{"categories":["Memo"],"content":"pdf æ’ä»¶(æ¨è) ","date":"2018-11-09","objectID":"/posts/next-pdf/:3:0","tags":["hexo"],"title":"nextæ·»åŠ æ”¯æŒpdf","uri":"/posts/next-pdf/"},{"categories":["Memo"],"content":"å®‰è£… npm install --save hexo-pdf ","date":"2018-11-09","objectID":"/posts/next-pdf/:3:1","tags":["hexo"],"title":"nextæ·»åŠ æ”¯æŒpdf","uri":"/posts/next-pdf/"},{"categories":["Memo"],"content":"ä½¿ç”¨ {% pdf url %} æ¯”å¦‚æœ¬æ–‡ {% pdf /posts/next-pdf/1.pdf %} ","date":"2018-11-09","objectID":"/posts/next-pdf/:3:2","tags":["hexo"],"title":"nextæ·»åŠ æ”¯æŒpdf","uri":"/posts/next-pdf/"},{"categories":["JavaScript"],"content":"å‰ç«¯å¼€å‘ç»å¸¸é‡åˆ°éœ€è¦åˆ¤æ–­ç”¨æˆ·çš„æµè§ˆè®¾å¤‡ï¼Œæ˜¯ pc ç«¯è¿˜æ˜¯ç§»åŠ¨ç«¯ï¼Œç§»åŠ¨ç«¯ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆæ‰‹æœºç³»ç»Ÿï¼Ÿandroidã€iosã€ipadã€windows phone ç­‰ç­‰ï¼Œæœ‰æ—¶å€™è¿˜éœ€è¦çŸ¥é“ç”¨æˆ·æµè§ˆé¡µé¢æ˜¯åœ¨å¾®ä¿¡ä¸­æ‰“å¼€è¿˜æ˜¯åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œç­‰ç­‰ä¸€ç³»åˆ—åˆ¤æ–­åšä¸€äº›ç›¸åº”çš„å¤„ç†ã€‚ ","date":"2018-11-03","objectID":"/posts/js-device/:0:0","tags":["JavaScript","ä»–å±±ä¹‹çŸ³"],"title":"js åˆ¤æ–­ç”¨æˆ·è®¾å¤‡ç±»å‹åŠå¹³å°","uri":"/posts/js-device/"},{"categories":["JavaScript"],"content":"é¦–å…ˆåˆ¤æ–­ pc ç«¯è¿˜æ˜¯ç§»åŠ¨ç«¯ function IsPC() { var userAgentInfo = navigator.userAgent; var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"]; var flag = true; for (var v = 0; v \u003c Agents.length; v++) { if (userAgentInfo.indexOf(Agents[v]) \u003e 0) { flag = false; break; } } return flag; } ","date":"2018-11-03","objectID":"/posts/js-device/:0:1","tags":["JavaScript","ä»–å±±ä¹‹çŸ³"],"title":"js åˆ¤æ–­ç”¨æˆ·è®¾å¤‡ç±»å‹åŠå¹³å°","uri":"/posts/js-device/"},{"categories":["JavaScript"],"content":"åˆ¤æ–­ç”¨æˆ·ç§»åŠ¨ç«¯ä½¿ç”¨çš„ç³»ç»Ÿå¹³å° var u = navigator.userAgent; if (u.indexOf('Android') \u003e -1 || u.indexOf('Linux') \u003e -1) { //å®‰å“æ‰‹æœº } else if (u.indexOf('iPhone') \u003e -1) { //è‹¹æœæ‰‹æœº } else if (u.indexOf('Windows Phone') \u003e -1) { //winphone æ‰‹æœº } ","date":"2018-11-03","objectID":"/posts/js-device/:0:2","tags":["JavaScript","ä»–å±±ä¹‹çŸ³"],"title":"js åˆ¤æ–­ç”¨æˆ·è®¾å¤‡ç±»å‹åŠå¹³å°","uri":"/posts/js-device/"},{"categories":["JavaScript"],"content":"åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨å¾®ä¿¡ä¸­æ‰“å¼€ function isWeiXin(){ var ua = navigator.userAgent.toLowerCase(); if(ua.indexOf('micromessenger') != -1) { return true; } else { return false; } } ","date":"2018-11-03","objectID":"/posts/js-device/:0:3","tags":["JavaScript","ä»–å±±ä¹‹çŸ³"],"title":"js åˆ¤æ–­ç”¨æˆ·è®¾å¤‡ç±»å‹åŠå¹³å°","uri":"/posts/js-device/"},{"categories":["JavaScript"],"content":"å®é™…è¿ç”¨ æ ¹æ® pc æˆ–è€…ç§»åŠ¨ç«¯æ§åˆ¶é£˜èŠ±æ•°ç›®ï¼Œé™ä½ cpu æ¶ˆè€—ï¼Œå‡å°‘å¡é¡¿ã€‚demo \u003cscript\u003e function sakuraInit() { $(document).snowfall('clear'); var userAgentInfo = navigator.userAgent; var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"]; var flag = true; for (var v = 0; v \u003c Agents.length; v++) { if (userAgentInfo.indexOf(Agents[v]) \u003e 0) { flag = false; break; } } if (flag) { $(document).snowfall({image:\"images/1.png\", flakeCount:5, minSpeed:1, minSize:8, maxSize:15,}); $(document).snowfall({image:\"images/2.png\", flakeCount:5, minSpeed:1, minSize:8, maxSize:15,}); $(document).snowfall({image:\"images/3.png\", flakeCount:5, minSpeed:1, minSize:8, maxSize:15,}); $(document).snowfall({image:\"images/4.png\", flakeCount:5, minSpeed:1, minSize:8, maxSize:15,}); } else { $(document).snowfall({image:\"images/1.png\", flakeCount:2, minSpeed:1, minSize:8, maxSize:15,}); $(document).snowfall({image:\"images/2.png\", flakeCount:2, minSpeed:1, minSize:8, maxSize:15,}); $(document).snowfall({image:\"images/3.png\", flakeCount:2, minSpeed:1, minSize:8, maxSize:15,}); $(document).snowfall({image:\"images/4.png\", flakeCount:2, minSpeed:1, minSize:8, maxSize:15,}); } } window.onload = sakuraInit(); \u003c/script\u003e ","date":"2018-11-03","objectID":"/posts/js-device/:0:4","tags":["JavaScript","ä»–å±±ä¹‹çŸ³"],"title":"js åˆ¤æ–­ç”¨æˆ·è®¾å¤‡ç±»å‹åŠå¹³å°","uri":"/posts/js-device/"},{"categories":["Memo","Git"],"content":"å¤‡ä»½ hexo åšå®¢ //å¦‚æœ themes/nextï¼ˆä¸»é¢˜æ–‡ä»¶ï¼‰ä¸‹é¢æœ‰ã€‚gitï¼Œè¯·åˆ é™¤è¿™ä¸ªã€‚git æ–‡ä»¶å¤¹ã€‚ cd hexo git init //åˆå§‹åŒ–æœ¬åœ°ä»“åº“ git add source themes scaffolds _config.yml package.json package-lock.json //å°†å¿…è¦çš„æ–‡ä»¶ä¾æ¬¡æ·»åŠ  git commit -m \"blog hexo\" git branch hexo //æ–°å»º hexo åˆ†æ”¯ git checkout hexo //åˆ‡æ¢åˆ° hexo åˆ†æ”¯ä¸Š git remote add origin git@github.com:username/username.github.io.git //å°†æœ¬åœ°ä¸ Github é¡¹ç›®å¯¹æ¥ git push origin hexo //push åˆ° Github é¡¹ç›®çš„ hexo åˆ†æ”¯ä¸Š ","date":"2018-11-03","objectID":"/posts/blog-backup/:1:0","tags":["Git","Node.js","hexo"],"title":"hexo åšå®¢æºç å¤‡ä»½","uri":"/posts/blog-backup/"},{"categories":["Memo","Git"],"content":"åœ¨å…¶ä»–ç»ˆç«¯å…‹éš†å’Œæ›´æ–° hexo åšå®¢ nodejs,git,hexo å·²ç»å®‰è£…å¥½ï¼Œå³æ­å»ºå®Œæˆ ","date":"2018-11-03","objectID":"/posts/blog-backup/:2:0","tags":["Git","Node.js","hexo"],"title":"hexo åšå®¢æºç å¤‡ä»½","uri":"/posts/blog-backup/"},{"categories":["Memo","Git"],"content":"å…‹éš† hexo åšå®¢å¤‡ä»½ git clone -b hexo git@github.com:username/username.github.io.git //å°† Github ä¸­ hexo åˆ†æ”¯ clone åˆ°æœ¬åœ° cd user.github.io npm install //æ³¨æ„ï¼Œè¿™é‡Œä¸€å®šè¦åˆ‡æ¢åˆ°åˆšåˆš clone çš„æ–‡ä»¶å¤¹å†…æ‰§è¡Œï¼Œå®‰è£…å¿…è¦çš„æ‰€éœ€ç»„ä»¶ï¼Œä¸ç”¨å† init è¿™æ ·æˆ‘ä»¬çš„å¤‡ä»½æ–‡ä»¶å°±ä¼šåŸå°ä¸åŠ¨çš„æ‹·è´åˆ°æœ¬åœ°ã€‚ ","date":"2018-11-03","objectID":"/posts/blog-backup/:2:1","tags":["Git","Node.js","hexo"],"title":"hexo åšå®¢æºç å¤‡ä»½","uri":"/posts/blog-backup/"},{"categories":["Memo","Git"],"content":"å†™æ–°æ–‡ç« å¹¶å¤‡ä»½å’Œéƒ¨ç½²ï¼ˆå¤‡ç”¨æ“ä½œï¼‰ å…¶å®æºç æ‹·ä¸‹æ¥äº†ï¼Œè¿™æ­¥ä¸åšæˆ‘ä»¬ä¹ŸçŸ¥é“æ€ä¹ˆåšäº†ï¼Œå®Œå…¨æ²¡å¿…è¦æŒ‰ç…§æ•™ç¨‹æ­»æ¬ç¡¬å¥—ã€‚çµæ´»ä¸€ç‚¹å°±è¡Œäº†ã€‚ //è¿›å…¥ username.github.io æ–‡ä»¶å¤¹ï¼Œåº”æ˜¯ hexo åˆ†æ”¯ git pull origin hexo //æœ¬åœ°å’Œè¿œç«¯çš„èåˆ hexo new post \"new post name\" //å†™æ–°æ–‡ç«  git add source git commit -m \"xxx\" git push origin hexo //å¤‡ä»½ hexo d -g //éƒ¨ç½² å‚è€ƒ ","date":"2018-11-03","objectID":"/posts/blog-backup/:2:2","tags":["Git","Node.js","hexo"],"title":"hexo åšå®¢æºç å¤‡ä»½","uri":"/posts/blog-backup/"},{"categories":["éšç¬”"],"content":" å¤‡æ¡ˆ ç»è¿‡æ—¶é—´é•¿è¾¾ 20 å¤šå¤©çš„å¤‡æ¡ˆä¹‹æ—…ä»Šå¤©ç»ˆäºç»“æŸäº†ï¼Œä¹Ÿé—­é¦†äº† 20 å¤šå¤©ï¼Œä¹ŸæŒ‰ç›¸å…³è¦æ±‚æŠŠ ICP å¤‡æ¡ˆå·å’Œå…¬å®‰å¤‡æ¡ˆå·åŠ è½½äº†ç½‘ç«™å’Œåšå®¢åº•éƒ¨ã€‚åªæ˜¯ä»Šå¤©å»å²³å¡˜åˆ†å±€ç­¾ç½‘ç»œå®‰å…¨å‘ŠçŸ¥ä¹¦çš„æ—¶å€™ä¸å°å¿ƒæŠŠèº«ä»½è¯è½åœ¨é‚£ä¸ªåŠå…¬å®¤äº†ã€‚äºæˆ‘èµ°ä¹‹å‰ä¸€ç§’è¿˜åœ¨æé†’è‡ªå·±ï¼Œå”‰ï¼ä¸è¿‡é‚£ä¸ªåŠå…¬å®¤çš„å¤§å§å§æŒºå¥½çš„ï¼Œå‰é¢è·Ÿæˆ‘è¯´å¥½æ˜ŸæœŸä¸€æ¥ï¼Œæˆ‘è¿˜ä»Šå¤©ä¸Šåˆæå‰ç»™å¥¹æ‰“äº†ç”µè¯ï¼Œå¥¹è¿˜ä¸‹æ¥¼ç»™æˆ‘å¼€åŠå…¬æ¥¼æ¥¼é“çš„é—¨ç¦ï¼Œè¿˜æœ‰æˆ‘èº«ä»½è¯è½åœ¨é‚£é‡Œå¥¹è¯´å…ˆå¸®æˆ‘æ”¶ç€ï¼Œæœ‰æ—¶é—´å†å»æ‹¿ï¼æ€»ä¹‹ï¼Œè¿™ä¸ªå§å§çš„æœåŠ¡æ€åº¦äº”æ˜Ÿå¥½è¯„ï¼æ‰‹åŠ¨@å²³å¡˜åˆ†å±€ B204 çš„å§å§ã€‚ å¤‡æ¡ˆå®Œæˆä¹Ÿç®—æ”¾ä¸‹ä¸€å—æç€çš„çŸ³å¤´ï¼Œå¯ä»¥ç¡ä¸ªå¥½è§‰äº†ï¼ZzZzzzz ","date":"2018-10-29","objectID":"/posts/beian/:0:0","tags":["éšç¬”","ç½‘ç«™å¤‡æ¡ˆ"],"title":"ç½‘ç«™å¤‡æ¡ˆä¹‹æ—…","uri":"/posts/beian/"},{"categories":["OS"],"content":"ä»Šå¤©ä¸Šæœºå­¦äº†å‡ ä¸ªå°å‘½ä»¤ read echo if ç„¶åè‡ªå·±å†™äº†ä¸€ä¸ªå°è„šæœ¬è§‰å¾—è¿˜æŒºæœ‰è¶£çš„ #!/bin/bash #liruihao #menu.sh #sudo apt curl install nyancat sl figlet toilet cowsay echo \"-------------èœ-å•--------------\" echo \"------------1-æ‰“å°äºŒç»´ç --------\" echo \"------------2-å½©è™¹çŒ«------------\" echo \"------------3-å°ç«åˆ‡------------\" echo \"------------4-æ‰“å­—æœº------------\" echo \"------------5-å°è®¸ç‰›------------\" echo \"----------Ctrl+c æš‚åœç¨‹åº--------\" echo \"\" echo \"è¯·è¾“å…¥åºå·ï¼\" read i if test $i -eq 1 then echo \"è¯·è¾“å…¥ç½‘å€ï¼\" read s1 echo $s1 |curl -F-=\\\u003c- qrenco.de fi if test $i -eq 2 then nyancat fi if test $i -eq 3 then sl fi if test $i -eq 4 then echo \"è¯·è¾“å…¥å­—ç¬¦ä¸²ï¼\" read s2 echo \"é€‰æ‹©æ ·å¼ï¼š\" echo \"------æ ·å¼ 1-----\" echo \"------æ ·å¼ 2-----\" read j if test $j -eq 1 then figlet $s2 else toilet -f mono12 -F gay $s2 fi fi if test $i -eq 5 then echo \"è¯·è¾“å…¥å­—ç¬¦ä¸²ï¼\" read s3 cowsay $s3 fi echo \"ä»»æ„å»ºç»§ç»­ï¼\" read x clear ./menu.sh ","date":"2018-10-29","objectID":"/posts/shell/:0:0","tags":["shell","linux"],"title":"shell è„šæœ¬åˆä½“éªŒ","uri":"/posts/shell/"},{"categories":["OS"],"content":"æ­å»º Apache web æœåŠ¡ å®‰è£… Apache è¶…æ–‡æœ¬ä¼ è¾“åè®® (HTTP) æœåŠ¡å™¨çš„ä¸»ç¨‹åº [root@VM_0_6_centos /]# yum install -y httpd æ³¨æ„å®‰è£…ç›®å½•ï¼Œå¯é€šè¿‡ cd å‘½ä»¤åˆ‡æ¢ã€‚ å¯åŠ¨ HTTP æœåŠ¡ [root@VM_0_6_centos /]# systemctl start httpd.service å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œå¯é€šè¿‡ systemctl status httpd.service æŸ¥çœ‹é”™è¯¯åŸå› ã€‚ å¯åŠ¨æˆåŠŸï¼Œè¯æ˜ http æœåŠ¡å·²ç»å¯ä»¥ä½¿ç”¨ï¼Œå‘ç°è¿˜éœ€è¦æŠŠæœ¬åœ°æ–‡ä»¶ä¼ åˆ°æœåŠ¡å™¨ã€‚ é»˜è®¤æ ¹ç›®å½•/var/www/html/ ","date":"2018-10-29","objectID":"/posts/web-server-yun/:0:1","tags":["server","linux","ä»–å±±ä¹‹çŸ³"],"title":"äº‘æœåŠ¡å™¨ CentOS ç³»ç»Ÿæ­å»º web æœåŠ¡","uri":"/posts/web-server-yun/"},{"categories":["OS"],"content":"ä½¿ç”¨ SSH è¿æ¥æœåŠ¡å™¨ å°è¯•äº†ä¸¤ç§æ–¹å¼ï¼šPuTTY å’Œ Xshellï¼ˆæ¨èï¼‰ Xshell æ–¹å¼ å®˜ç½‘ä¸‹è½½å®‰è£… Xshell æ‰“å¼€ï¼Œè¾“å…¥ ip è´¦å·å¯†ç è¿æ¥ä¸»æœºã€‚ ä½¿ç”¨ lrzsz æ–¹å¼ä¸Šä¼ ä¸‹è½½æ–‡ä»¶ æ­¥éª¤ 1ï¼šåœ¨æœåŠ¡å™¨å®‰è£… lrzsz [root@VM_0_6_centos /]# yum -y install lrzsz æ­¥éª¤ 2ï¼šè¾“å…¥å‘½ä»¤rzæ‰“å¼€ä¸Šä¼ çª—å£ï¼ˆå¯ä»¥é€‰æ‹©å¤šä¸ªæ–‡ä»¶ã€‚) ä½¿ç”¨szæ–‡ä»¶åå‘½ä»¤å¯æ‰“å¼€ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶çš„ä¿å­˜çª—å£ã€‚ ","date":"2018-10-29","objectID":"/posts/web-server-yun/:0:2","tags":["server","linux","ä»–å±±ä¹‹çŸ³"],"title":"äº‘æœåŠ¡å™¨ CentOS ç³»ç»Ÿæ­å»º web æœåŠ¡","uri":"/posts/web-server-yun/"},{"categories":["OS"],"content":"ä¿®æ”¹ HTTP é…ç½® 1.VIM ç¼–è¾‘å™¨æ‰“å¼€é…ç½®æ–‡ä»¶ [root@VM_0_6_centos /]# vim /etc/httpd/conf/httpd.conf æŒ‰Ié”®è¿›å…¥ç¼–è¾‘æ¨¡å¼ æ‰¾åˆ°å¹¶ä¿®æ”¹ä»¥ä¸‹å†…å®¹ ServerAdmin ç®¡ç†å‘˜é‚®ç®±ï¼Œç”¨äºæµè§ˆå™¨è¯·æ±‚æŠ¥é”™æ—¶å±•ç¤º DocumentRoot è®¿é—®æ ¹ç›®å½•ï¼ˆé»˜è®¤ï¼š/var/www/htmlï¼‰ï¼Œå¦‚é¡¹ç›®å­˜æ”¾åœ¨å…¶ä»–åœ°æ–¹ï¼Œå¯ä¿®æ”¹ä¸ºé¡¹ç›®å­˜æ”¾ä½ç½® \u003cDirectory \"/var/www/html\"\u003e åŒ DocumentRoot é…ç½® ServerName æœåŠ¡å™¨ IP æˆ– åŸŸå æŒ‰ä¸‹ ESC é”®è¾“å…¥:wqä¿å­˜é€€å‡º é‡å¯æœåŠ¡service httpd restart æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€è®¿é—® å¦‚ï¼šæˆ‘çš„é¡¹ç›®ç´¢å¼• html è·¯å¾„ä¸º love/index.htmlï¼Œè¾“å…¥ http://IP åœ°å€æˆ–åŸŸå/love/index.html è®¿é—®ä¸æˆåŠŸï¼Œå…ˆæ£€æŸ¥ç½‘ç»œï¼Œå†æŸ¥çœ‹ http æœåŠ¡æ˜¯å¦å¼€å¯ï¼Œæœ€åæ£€æŸ¥é…ç½®ï¼› è®¿é—®æˆåŠŸï¼Œé…ç½®å®Œæˆã€‚ ","date":"2018-10-29","objectID":"/posts/web-server-yun/:0:3","tags":["server","linux","ä»–å±±ä¹‹çŸ³"],"title":"äº‘æœåŠ¡å™¨ CentOS ç³»ç»Ÿæ­å»º web æœåŠ¡","uri":"/posts/web-server-yun/"},{"categories":["JavaScript"],"content":"è·å–é“¾æ¥ï¼ˆè½¬ï¼‰ ä¼ é€é—¨ åœ¨ WEB å¼€å‘ä¸­ï¼Œæ—¶å¸¸ä¼šç”¨åˆ° javascript æ¥è·å–å½“å‰é¡µé¢çš„ url ç½‘å€ä¿¡æ¯ï¼Œåœ¨è¿™é‡Œæ˜¯æˆ‘çš„ä¸€äº›è·å– url ä¿¡æ¯çš„å°æ€»ç»“ã€‚ ä¸‹é¢æˆ‘ä»¬ä¸¾ä¾‹ä¸€ä¸ª URLï¼Œç„¶åè·å¾—å®ƒçš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼šhttp://i.cnblogs.com/EditPosts.aspx?opt=1 window.location.hrefï¼ˆè®¾ç½®æˆ–è·å–æ•´ä¸ª URL ä¸ºå­—ç¬¦ä¸²ï¼‰ var test = window.location.href; alert(test); è¿”å›ï¼šhttp://i.cnblogs.com/EditPosts.aspx?opt=1 window.location.protocolï¼ˆè®¾ç½®æˆ–è·å– URL çš„åè®®éƒ¨åˆ†ï¼‰ var test = window.location.protocol; alert(test); è¿”å›ï¼šhttp: window.location.hostï¼ˆè®¾ç½®æˆ–è·å– URL çš„ä¸»æœºéƒ¨åˆ†ï¼‰ var test = window.location.host; alert(test); è¿”å›ï¼ši.cnblogs.com window.location.portï¼ˆè®¾ç½®æˆ–è·å–ä¸ URL å…³è”çš„ç«¯å£å·ç ï¼‰ var test = window.location.port; alert(test); è¿”å›ï¼šç©ºå­—ç¬¦ï¼ˆå¦‚æœé‡‡ç”¨é»˜è®¤çš„ 80 ç«¯å£ (update: å³ä½¿æ·»åŠ äº†ï¼š80)ï¼Œé‚£ä¹ˆè¿”å›å€¼å¹¶ä¸æ˜¯é»˜è®¤çš„ 80 è€Œæ˜¯ç©ºå­—ç¬¦ï¼‰ window.location.pathnameï¼ˆè®¾ç½®æˆ–è·å–ä¸ URL çš„è·¯å¾„éƒ¨åˆ†ï¼ˆå°±æ˜¯æ–‡ä»¶åœ°å€ï¼‰) var test = window.location.pathname; alert(test); è¿”å›ï¼š/EditPosts.aspx window.location.searchï¼ˆè®¾ç½®æˆ–è·å– href å±æ€§ä¸­è·Ÿåœ¨é—®å·åé¢çš„éƒ¨åˆ†ï¼‰ var test = window.location.search; alert(test); è¿”å›ï¼š?opt=1 PSï¼šè·å¾—æŸ¥è¯¢ï¼ˆå‚æ•°ï¼‰éƒ¨åˆ†ï¼Œé™¤äº†ç»™åŠ¨æ€è¯­è¨€èµ‹å€¼ä»¥å¤–ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ç»™é™æ€é¡µé¢ï¼Œå¹¶ä½¿ç”¨ javascript æ¥è·å¾—ç›¸ä¿¡åº”çš„å‚æ•°å€¼ã€‚ window.location.hashï¼ˆè®¾ç½®æˆ–è·å– href å±æ€§ä¸­åœ¨äº•å·â€œ#â€åé¢çš„åˆ†æ®µï¼‰ var test = window.location.hash; alert(test); è¿”å›ï¼šç©ºå­—ç¬¦ï¼ˆå› ä¸º url ä¸­æ²¡æœ‰ï¼‰ js è·å– url ä¸­çš„å‚æ•°å€¼ æ­£åˆ™æ³• function getQueryString(name) { var reg = new RegExp('(^|\u0026)' + name + '=([^\u0026]*)(\u0026|$)', 'i'); var r = window.location.search.substr(1).match(reg); if (r != null) { return unescape(r[2]); } return null; } // è¿™æ ·è°ƒç”¨ï¼š alert(GetQueryString(\"å‚æ•°å 1\")); alert(GetQueryString(\"å‚æ•°å 2\")); alert(GetQueryString(\"å‚æ•°å 3\")); split æ‹†åˆ†æ³• function GetRequest() { var url = location.search; //è·å– url ä¸­\"?\"ç¬¦åçš„å­—ä¸² var theRequest = new Object(); if (url.indexOf(\"?\") != -1) { var str = url.substr(1); strs = str.split(\"\u0026\"); for(var i = 0; i \u003c strs.length; i ++) { theRequest[strs[i].split(\"=\")[0]] = unescape(strs[i].split(\"=\")[1]); } } return theRequest; } var Request = new Object(); Request = GetRequest();\u003cbr\u003e// var id=Request[\"id\"]; // var å‚æ•° 1, å‚æ•° 2, å‚æ•° 3, å‚æ•° N; // å‚æ•° 1 = Request['å‚æ•° 1']; // å‚æ•° 2 = Request['å‚æ•° 2']; // å‚æ•° 3 = Request['å‚æ•° 3']; // å‚æ•° N = Request['å‚æ•° N']; æŒ‡å®šå– æ¯”å¦‚è¯´ä¸€ä¸ª urlï¼šhttp://i.cnblogs.com/?j=js, æˆ‘ä»¬æƒ³å¾—åˆ°å‚æ•° j çš„å€¼ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡½æ•°è°ƒç”¨ã€‚ function GetQueryString(name) { var reg = new RegExp(\"(^|\u0026)\" + name + \"=([^\u0026]*)(\u0026|$)\", \"i\"); var r = window.location.search.substr(1).match(reg); //è·å– url ä¸­\"?\"ç¬¦åçš„å­—ç¬¦ä¸²å¹¶æ­£åˆ™åŒ¹é… var context = \"\"; if (r != null) context = r[2]; reg = null; r = null; return context == null || context == \"\" || context == \"undefined\" ? \"\" : context; } alert(GetQueryString(\"j\")); ","date":"2018-10-28","objectID":"/posts/href-301/:0:1","tags":["redirect","JavaScript","ä»–å±±ä¹‹çŸ³"],"title":"ä½¿ç”¨ js å‡†ç¡®è·å–å½“å‰é¡µé¢ url ç½‘å€ä¿¡æ¯åŠ 301 é‡å®šå‘å®æˆ˜","uri":"/posts/href-301/"},{"categories":["JavaScript"],"content":"301 é‡å®šå‘ï¼ˆå®è·µï¼‰ ç”±äºä¹‹å‰æŠŠ blog å’Œç½‘ç«™ä¸»é¡µåˆ†å¼€åœ¨ä¸¤ä¸ªä»“åº“æ‰€ä»¥è¦æƒ³åœ¨ blog ä¸­ menu é‡Œè·³è½¬åˆ°ç«™å¤–é“¾æ¥å°±è¦åšä¸€äº›å¤„ç†ã€‚ä»¥å‰ä¸€ç›´ç™¾åº¦ä¸åˆ°ã€‚ å…¶å®æƒ³æ³•æ—©å°±æœ‰äº†ï¼Œåªè¦åœ¨ blog é¦–é¡µæˆ–è€…ç½‘ç«™é¦–é¡µæ£€æµ‹åˆ°https://lruihao.cn/homeè¿™ä¸ªé“¾æ¥ï¼Œæˆ–è€…æ£€æµ‹åˆ° home å­—æ®µå°±è‡ªåŠ¨è·³è½¬ã€‚æƒ³æ³•å¾ˆç®€å•ã€‚å¯æ˜¯å¯¹ js çœŸçš„ä¸€ç‚¹éƒ½ä¸äº†è§£ï¼Œä»¥å‰ç™¾åº¦ä¹Ÿæ‰¾ä¸åˆ°å®é™…çš„æ•ˆæœæ¡ˆä¾‹ã€‚æ‰€ä»¥è¿˜æ˜¯è‡ªå·±å†™å§ï¼é™„ä¸Šè¹©è„šä»£ç ã€‚ var path = window.location.href; //alert(path); if (path=='https://lruihao.cn/home/') { window.location.replace(\"https://www.lruihao.cn\"); } æˆ–è€… var path = window.location.pathname; //alert(path); if (path=='/home/') { window.location.replace(\"https://www.lruihao.cn\"); } http å¼ºåˆ¶é‡å®šå‘ https \u003cscript\u003e var targetProtocol = \"https:\"; var host = \"lruihao.cn\"; //åŸŸååˆ¤æ–­ï¼Œå› ä¸º localhost ä»…æ”¯æŒ http if (window.location.host == host \u0026\u0026 window.location.protocol != targetProtocol){ window.location.href = targetProtocol + window.location.href.substring(window.location.protocol.length); } \u003c/script\u003e ","date":"2018-10-28","objectID":"/posts/href-301/:0:2","tags":["redirect","JavaScript","ä»–å±±ä¹‹çŸ³"],"title":"ä½¿ç”¨ js å‡†ç¡®è·å–å½“å‰é¡µé¢ url ç½‘å€ä¿¡æ¯åŠ 301 é‡å®šå‘å®æˆ˜","uri":"/posts/href-301/"},{"categories":["Grocery"],"content":" æˆ‘ç”¨çš„ win10 ","date":"2018-10-26","objectID":"/posts/web-server-win/:0:0","tags":["server","windows"],"title":"windows ä¸Šæ­å»º web æœåŠ¡å™¨","uri":"/posts/web-server-win/"},{"categories":["Grocery"],"content":"æ‰“å¼€æ§åˆ¶é¢æ¿ é€‰æ‹©å¹¶è¿›å…¥â€œç¨‹åºâ€ï¼ŒåŒå‡»â€œå¯ç”¨æˆ–å…³é—­ Windows æœåŠ¡â€ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©â€œInternet Information Servicesâ€ä¸‹é¢æ‰€æœ‰åœ°é€‰é¡¹ï¼Œç‚¹å‡»ç¡®å®šåï¼Œå¼€å§‹æ›´æ–°æœåŠ¡ã€‚ æ‰“å¼€æ§åˆ¶é¢æ¿ ","date":"2018-10-26","objectID":"/posts/web-server-win/:0:1","tags":["server","windows"],"title":"windows ä¸Šæ­å»º web æœåŠ¡å™¨","uri":"/posts/web-server-win/"},{"categories":["Grocery"],"content":"æŸ¥çœ‹ æ›´æ–°å®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥http://localhostæˆ–è€…127.0.0.1å›è½¦ï¼Œå¦‚æœæ­¤æ—¶å‡ºç° IIS7 æ¬¢è¿ç•Œé¢ï¼Œè¯´æ˜ Web æœåŠ¡å™¨å·²ç»æ­å»ºæˆåŠŸã€‚ æŸ¥çœ‹ ","date":"2018-10-26","objectID":"/posts/web-server-win/:0:2","tags":["server","windows"],"title":"windows ä¸Šæ­å»º web æœåŠ¡å™¨","uri":"/posts/web-server-win/"},{"categories":["Grocery"],"content":"ç½‘ç«™è®¾ç½® å½“ web æœåŠ¡å™¨æ­å»ºæˆåŠŸåï¼Œæˆ‘ä»¬ä¸‹ä¸€æ­¥æ‰€è¦åšçš„å°±æ˜¯æŠŠæˆ‘ä»¬å¼€å‘çš„ç½‘ç«™å®‰è£…åˆ° Web æœåŠ¡å™¨çš„ç›®å½•ä¸­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“ Web æœåŠ¡å™¨å®‰è£…å®Œæˆåï¼Œä¼šåˆ›å»ºè·¯å¾„%ç³»ç»Ÿæ ¹ç›®å½•%inetpub/wwwrootï¼Œå°†æˆ‘ä»¬å¼€å‘çš„ç½‘ç«™ COPY åˆ°è¯¥è·¯å¾„ä¸‹ã€‚å³å¯å®ç°æœ¬åœ°è®¿é—®è¯¥ç½‘ç«™ã€‚ ä¹Ÿå¯ä»¥æ›´æ”¹æ ¹ç›®å½•ï¼Œæœç´¢ IISï¼Œç‚¹å‡»ç½‘ç«™ï¼ŒDefault Web Siteï¼ŒåŸºæœ¬è®¾ç½®ä¿®æ”¹ç‰©ç†è·¯å¾„ï¼ˆé»˜è®¤ç«™ç‚¹åç§°ä¸è¦æ”¹ï¼‰ æˆ‘è¿™é‡Œæ”¹åˆ°äº† hexo çš„ public ç›¸å½“äº hexo éƒ¨ç½²åœ¨æœ¬åœ°æœåŠ¡å™¨58.45.227.225 ","date":"2018-10-26","objectID":"/posts/web-server-win/:0:3","tags":["server","windows"],"title":"windows ä¸Šæ­å»º web æœåŠ¡å™¨","uri":"/posts/web-server-win/"},{"categories":["Grocery"],"content":"è®¾ç½®é˜²ç«å¢™ è®©å±€åŸŸç½‘å½“å…¶å®ƒè®¡ç®—æœºä¹Ÿèƒ½è®¿é—®æœ¬åœ°ç½‘ç«™èµ„æºã€‚å…·ä½“æ–¹æ³•ï¼šæ‰“å¼€æ§åˆ¶é¢æ¿ï¼Œé€‰æ‹©â€œç³»ç»Ÿå’Œå®‰å…¨â€ï¼Œç‚¹å‡»â€œå…è®¸ç¨‹åºé€šè¿‡ Windows é˜²ç«å¢™â€ï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­å‹¾é€‰â€œä¸‡ç»´ç½‘æœåŠ¡ HTTPâ€å³ä¾§çš„ä¸¤ä¸ªå¤é€‰æ¡†ï¼Œæœ€åç‚¹å‡»ç¡®å®šé€€å‡ºã€‚ åœ¨å±€åŸŸç½‘ä¸­å…¶å®ƒè®¡ç®—æœºä¸Šï¼Œæ‰“å¼€æµè§ˆå™¨å°±å¯ä»¥é€šè¿‡ä½ ç”µè„‘çš„ ip åœ°å€è®¿é—®äº†ï¼ˆæ‰‹æœºä¹Ÿå¯ä»¥ï¼‰ æœ¬åœ° ip å¯ä»¥é€šè¿‡ cmd ç”¨ ipconfig æŸ¥çœ‹ ","date":"2018-10-26","objectID":"/posts/web-server-win/:0:4","tags":["server","windows"],"title":"windows ä¸Šæ­å»º web æœåŠ¡å™¨","uri":"/posts/web-server-win/"},{"categories":["Git"],"content":"config git config --global user.name \"Your Name\" git config --global user.email \"email@example.com\" ç¬¬ä¸€æ¬¡ä½¿ç”¨ git çš„æ—¶å€™éœ€è¦è®¾ç½®æäº¤è€…ä¿¡æ¯ã€‚ æ³¨æ„ï¼š å¦‚æœç”¨äº† --global é€‰é¡¹ï¼Œé‚£ä¹ˆæ›´æ”¹çš„é…ç½®æ–‡ä»¶å°±æ˜¯ä½äºä½ ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„é‚£ä¸ªï¼Œä»¥åä½ æ‰€æœ‰çš„é¡¹ç›®éƒ½ä¼šé»˜è®¤ä½¿ç”¨è¿™é‡Œé…ç½®çš„ç”¨æˆ·ä¿¡æ¯ã€‚ å¦‚æœè¦åœ¨æŸä¸ªç‰¹å®šçš„é¡¹ç›®ä¸­ä½¿ç”¨å…¶ä»–åå­—æˆ–è€…ç”µé‚®ï¼Œåªè¦å»æ‰ --global é€‰é¡¹é‡æ–°é…ç½®å³å¯ï¼Œæ–°çš„è®¾å®šä¿å­˜åœ¨å½“å‰é¡¹ç›®çš„ .git/config æ–‡ä»¶é‡Œã€‚ ","date":"2018-10-26","objectID":"/posts/gituse/:0:1","tags":["Git"],"title":"ä½¿ç”¨ Git ä¸Šä¼ ä»£ç åˆ° github, coding ç­‰ä»“åº“","uri":"/posts/gituse/"},{"categories":["Git"],"content":"ç”Ÿæˆ ssh ç”±äºä½ çš„æœ¬åœ° Git ä»“åº“å’Œ GitHub ä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡ SSH åŠ å¯†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é…ç½®éªŒè¯ä¿¡æ¯ï¼š ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ SSH Keyï¼š ssh-keygen -t rsa -C \"youremail@example.com\" åé¢çš„ your_email@youremail.com æ”¹ä¸ºä½ åœ¨ Github ä¸Šæ³¨å†Œçš„é‚®ç®±ï¼Œä¹‹åä¼šè¦æ±‚ç¡®è®¤è·¯å¾„å’Œè¾“å…¥å¯†ç ï¼Œæˆ‘ä»¬è¿™ä½¿ç”¨é»˜è®¤çš„ä¸€è·¯å›è½¦å°±è¡Œã€‚æˆåŠŸçš„è¯ä¼šåœ¨ C:\\Users\\ç”¨æˆ·åã€æˆ–è€…~/ ä¸‹ç”Ÿæˆ .sshæ–‡ä»¶å¤¹ï¼Œè¿›å»ï¼Œæ‰“å¼€ id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„ keyã€‚å» githubã€coding ç­‰å¹³å°é…ç½® SSH å…¬é’¥ï¼ˆæ ¹æ®è‡ªå·±æƒ…å†µï¼‰ ","date":"2018-10-26","objectID":"/posts/gituse/:0:2","tags":["Git"],"title":"ä½¿ç”¨ Git ä¸Šä¼ ä»£ç åˆ° github, coding ç­‰ä»“åº“","uri":"/posts/gituse/"},{"categories":["Git"],"content":"åˆ›å»ºæœ¬åœ°ä»£ç åº“ åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä½œä¸ºä½ ä¸Šä¼ ä»£ç çš„æœ¬åœ°ä»“åº“ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…ç‚¹å‡»å³é”®ï¼Œé€‰æ‹© Git Bash Hereï¼Œé¦–å…ˆè¦åˆå§‹åŒ–æœ¬åœ°ä»“åº“ï¼š git init æ¥ä¸‹æ¥è¿›è¡Œè¿œç¨‹ä»£ç åº“å…‹éš†ï¼ˆäº‹å…ˆåœ¨ coding ç­‰ä¸­å»ºç«‹ä¸€ä¸ªé¡¹ç›®ï¼Œå°±æ˜¯ä½ éœ€è¦é“¾æ¥çš„ä»“åº“ï¼‰ git clone https://github.com/Lruihao/Lruihao.github.io.git å…‹éš†æ—¶ä¼šå‡ºç°è¾“å…¥è´¦å·å¯†ç çš„ç¯èŠ‚æ­£ç¡®è¾“å…¥å³å¯ã€‚ ","date":"2018-10-26","objectID":"/posts/gituse/:0:3","tags":["Git"],"title":"ä½¿ç”¨ Git ä¸Šä¼ ä»£ç åˆ° github, coding ç­‰ä»“åº“","uri":"/posts/gituse/"},{"categories":["Git"],"content":"ä»£ç æ¨é€ï¼ˆé‡ç‚¹ï¼‰ git status git add * git commit -m \"ä»£ç å¤‡æ³¨éšä¾¿å†™\" git push origin master Gearn Git Branching ","date":"2018-10-26","objectID":"/posts/gituse/:0:4","tags":["Git"],"title":"ä½¿ç”¨ Git ä¸Šä¼ ä»£ç åˆ° github, coding ç­‰ä»“åº“","uri":"/posts/gituse/"},{"categories":["Memo"],"content":" å‰é¢æœ‰ä¸€ç¯‡æ–‡ç« å†™åˆ°ä¸€äº›ï¼Œåœ¨ Android ä¸Šæ­å»º hexo åšå®¢ æœ¬æ–‡å½“åˆæ‘˜è¦è‡ª å›½å…‰ä¸ªäººåšå®¢ å¦‚è‹¥ä½œè€…åšå®¢ IP è¢«å¢™ï¼Œå¯å‰å¾€å›½å…‰ç¬¬ä¸‰æ–¹åšå®¢è¯¸å¦‚ csdn ç­‰ã€‚å¤‡ç”¨ ","date":"2018-10-23","objectID":"/posts/termux1/:0:0","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"åˆå§‹åŒ– ä¸‹è½½å¹¶åˆå§‹åŒ– termux å®‰è£… vim å®‰è£…ç¼–è¾‘å™¨ vim pkg install vim è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ åœ¨ home ç›®å½•ä¸‹ï¼Œæ–°å»º .vimrc æ–‡ä»¶ vim .vimrc æ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š set fileencodings=utf-8,gb2312,gb18030,gbk,ucs-bom,cp936,latin1 set enc=utf8 set fencs=utf8,gbk,gb2312,gb18030 ç„¶å source ä¸‹å˜é‡ï¼š source .vimrc ä¿®æ”¹å¯åŠ¨é—®å€™è¯­ vim $PREFIX/etc/motd æŒ‰ i ç„¶åç¼–è¾‘ï¼Œæ¯”å¦‚ www.lruihao.cn æç‘è±ª Esc ç„¶åï¼šwq é€€å‡º ç®¡ç†å‘˜æƒé™ æ‰‹æœºå·²ç» root, å®‰è£… tsu, è¿™æ˜¯ä¸€ä¸ª su çš„ termux ç‰ˆæœ¬ï¼Œç”¨æ¥åœ¨ termux ä¸Šæ›¿ä»£ su: pkg install tsu ç„¶åç»ˆç«¯ä¸‹é¢è¾“å…¥ï¼š tsu å³å¯åˆ‡æ¢ root ç”¨æˆ·ï¼Œè¿™ä¸ªæ—¶å€™ä¼šå¼¹å‡º root æˆæƒæç¤ºã€‚åœ¨ç®¡ç†å‘˜èº«ä»½ä¸‹ï¼Œè¾“å…¥ exit å¯å›åˆ°æ™®é€šç”¨æˆ·èº«ä»½ã€‚ ","date":"2018-10-23","objectID":"/posts/termux1/:0:1","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"ç¾åŒ– Termux-ohmyzsh ä½œç”¨ ï¼š ç¾åŒ–ä¹‹å¤–ï¼Œä¸»è¦ä½¿ç”¨äº† zsh æ¥æ›¿ä»£ bash ä½œä¸ºé»˜è®¤ shellã€‚ä½¿ç”¨ä¸€é”®å®‰è£…è„šæœ¬æ¥å®‰è£…ï¼Œä¸€æ­¥åˆ°ä½ï¼Œé¡ºä¾¿å¯åŠ¨äº†å¤–ç½®å­˜å‚¨ï¼Œå¯ä»¥ç›´æ¥è®¿é—® SD å¡ä¸‹çš„ç›®å½•ï¼Œåˆ›å»ºè½¯æ–‡ä»¶å¤¹ã€‚ ä½¿ç”¨ sh -c \"$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)\" è®¾ç½®è‰²å½©æ ·å¼ï¼š è¿è¡Œ chcolor æ›´æ¢è‰²å½©æ ·å¼ï¼Œæˆ–è€…ï¼š ~/.termux/colors.sh è®¾ç½®å­—ä½“ è¿è¡Œ chfont æ›´æ¢å­—ä½“ï¼Œæˆ–è€…ï¼š ~/.termux/fonts.sh éœ€è¦è½¯ä»¶åŒ…ï¼š curl ","date":"2018-10-23","objectID":"/posts/termux1/:0:2","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"è®¿é—®å¤–ç½®å­˜å‚¨ æ‰§è¡Œè¿‡ä¸Šé¢çš„ zsh ä¸€é”®é…ç½®è„šæœ¬åï¼Œå¹¶ä¸”æˆäºˆæ–‡ä»¶è®¿é—®æƒé™çš„è¯ï¼Œä¼šåœ¨å®¶ç›®å½•ç”Ÿæˆ storage ç›®å½•ï¼Œå¹¶ä¸”ç”Ÿæˆè‹¥å¹²ç›®å½•ï¼Œè½¯è¿æ¥éƒ½æŒ‡å‘å¤–ç½®å­˜å‚¨å¡çš„ç›¸åº”ç›®å½• å¯ä»¥è®©ä»å¤–ç½®å‚¨å­˜å¤åˆ¶æ–‡ä»¶è¿› system åˆ†åŒº åˆ›å»º QQ æ–‡ä»¶å¤¹è½¯è¿æ¥ ln -s /data/data/com.termux/files/home/storage/shared/tencent/QQfile_recv QQ åˆ›å»º blog2 æ–‡ä»¶å¤¹è½¯è¿æ¥å¤‡ä»½æ–‡ä»¶ ln -s /data/data/com.termux/files/home/storage/shared/blog2 blog2 ","date":"2018-10-23","objectID":"/posts/termux1/:0:3","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"å®‰è£… hexo å®‰è£…å‡†å¤‡ pkg install nodejs pkg install git npm install hexo-cli -g npm install hexo-deployer-git --save pkg install openssh åˆå§‹åŒ– hexo hexo init blog cd blog hexo g hexo s æµè§ˆå™¨è¾“å…¥127.0.0.1:4000æŸ¥çœ‹æ•ˆæœ é“¾æ¥ github,coding,gitee ç­‰è¿œç¨‹ä»“åº“ ssh-keygen -t rsa -C \"your_email@example.com\" #è¿™å°†æŒ‰ç…§ä½ æä¾›çš„é‚®ç®±åœ°å€ï¼Œåˆ›å»ºä¸€å¯¹å¯†é’¥ï¼ˆä¸ªäººå–œæ¬¢ä¸€è·¯å›è½¦ï¼‰ æ‰¾åˆ°~/.ssh/id_rsa.pubè¿™ä¸ªæ–‡ä»¶å¤åˆ¶é‡Œé¢çš„å†…å®¹ï¼Œåˆ°å¯¹åº”çš„å¹³å°ç”Ÿæˆ SSH å…¬é’¥ è®¾ç½®ç”¨æˆ·ä¿¡æ¯ git config --global user.name \"lruihao\" git config --global user.email \"1074627678@qq.com\" æµ‹è¯•é“¾æ¥ ssh -T git@github.com #github ssh -T git@coding.net #coding ssh -T git@gitee.com #gitee æ³¨æ„#æ³¨é‡Šéƒ¨åˆ†ä¸è¦çš„ ç«™ç‚¹é…ç½®æ–‡ä»¶ æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶å¡«å†™ä»£ç åº“ ä¾‹å¦‚æˆ‘çš„ deploy: - type: git repository: github: git@github.com:Lruihao/Lruihao.github.io.git,master coding: git@git.coding.net:liruihao/liruihao.git,master #message: \"æ—¥å¸¸æ›´æ–°\" éƒ¨ç½² hexo clean hexo g -d æ²¡å‡ºé”™å°±å¯ä»¥æ­£å¸¸é€šè¿‡ç›¸åº”åŸŸåè®¿é—®äº†ã€‚ https://lruihao.github.io https://liruihao.coding.me https://lruihao.gitee.io //æ‰‹æœº hexo æ•ˆæœå±•ç¤º ","date":"2018-10-23","objectID":"/posts/termux1/:0:4","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"ssh è¿æ¥ç”µè„‘æˆ–è€…æœåŠ¡å™¨ ssh root@118.24.217.167 ä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œlinux ä¸‹è¾“å…¥å¯†ç æ˜¯çœ‹ä¸åˆ°çš„ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œå°å¿ƒç‚¹åˆ«è¾“å…¥é”™è¯¯ã€‚ ä¹‹åå°±å¯ä»¥æ‰‹æœºæ“ä½œæœåŠ¡å™¨äº†ã€‚ ","date":"2018-10-23","objectID":"/posts/termux1/:0:5","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"è§£å†³ npm å®‰è£…æŠ¥é”™ï¼ˆæœªéªŒè¯ï¼‰ vim $PREFIX/lib/node_modules/npm/node_modules/worker-farm/lib/farm.js æŠŠé‡Œé¢çš„ length æ”¹æˆ 4ï¼Œæˆ‘é»˜è®¤çš„æ˜¯ 1ã€‚ ","date":"2018-10-23","objectID":"/posts/termux1/:0:6","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"nyancat å½©è™¹çŒ« å½©è™¹è²“ï¼ˆè‹±è¯­ï¼šNyan Catï¼‰æ˜¯åœ¨ 2011 å¹´ 4 æœˆä¸Šä¼ åœ¨ Youtube çš„è§†é¢‘ï¼Œå¹¶ä¸”è¿…é€Ÿçˆ†çº¢äºç½‘ç»œï¼Œä¸¦åœ¨ 2011 å¹´ YouTube æµè§ˆé‡æœ€é«˜çš„è§†é¢‘ä¸­æ’åç¬¬äº”ã€‚ pkg install nyancat nyancat è¿˜æœ‰æ›´å¤šå§¿åŠ¿è¿™é‡Œå°±ä¸å†™äº†ï¼Œåªå†™ä¸€ä¸‹æ—¥å¸¸ç”¨åˆ°çš„ï¼Œå°±è¿™æ · OK ç¡è§‰ï¼ ","date":"2018-10-23","objectID":"/posts/termux1/:0:7","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Memo"],"content":"termux æ›´å¤šå¸¸ç”¨æœ‰è¶£å‘½ä»¤ï¼ˆé€‚ç”¨äº linuxï¼‰ vim $PREFIX/etc/motd chcolor chfont ~/.termux/colors.sh ~/.termux/fonts.sh echo \"https://www.lruihao.cn\" |curl -F-=\\\u003c- qrenco.de pkg install nyancat nyancat pkg install sl sl pkg install figlet figlet hello pkg install toilet toilet hello toilet -f mono12 -F gay \"hello\" pkg cowsay cowsay \"hello\" pkg install cmatrix cmatrix pkg install w3m w3m www.lruihao.cn cmatrix å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š cmatrix-a : å¼‚æ­¥æ»šåŠ¨ï¼ˆé»˜è®¤ï¼‰ cmatrix-b : éšæœºç²—ä½“ cmatrix-B : å…¨éƒ¨ç²—ä½“ cmatrix-o : ä½¿ç”¨æ—§é£æ ¼æ»šåŠ¨ cmatrix-x :X window æ¨¡å¼ cmatrix-V : æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ cmatrix-u : åˆ·æ–°é¢‘ç‡ï¼Œ0-9ï¼Œä¹Ÿå°±æ˜¯æ»šåŠ¨çš„å¿«æ…¢ cmatrix-C : æ˜¾ç¤ºçš„é¢œè‰²ï¼Œæ”¯æŒ greenï¼ˆé»˜è®¤ï¼‰,red,blue,white,yellow,cyan, magenta and black ä¾‹å¦‚ï¼šä½¿ç”¨çº¢è‰² cmatrix -b -C red ä½¿ç”¨è“è‰² cmatrix -b -C blue ç­‰ç­‰ ........ ä¸»ä¹‰ï¼šåœ¨è¿è¡ŒçŠ¶æ€ä¸‹ï¼Œä½¿ç”¨ 0-9 æ•°å­—ï¼Œå¯ä»¥æ”¹å˜è¿è¡Œé€Ÿåº¦å¿«æ…¢ã€‚ å¼€å¯ä½ çš„è£…é€¼ä¹‹è·¯æŠŠï¼Œéªšå¹´ï¼ ","date":"2018-10-23","objectID":"/posts/termux1/:0:8","tags":["Node.js","linux","termux"],"title":"termux åŸºæœ¬ä½¿ç”¨æ•™ç¨‹","uri":"/posts/termux1/"},{"categories":["Grocery"],"content":"html ç½‘é¡µå¼•ç”¨ä¸­æ–‡å­—ä½“ï¼Œæ–‡ä»¶è¿‡å¤§ï¼ŒåŠ è½½ç¼“æ…¢çš„è§£å†³åŠæ³•","date":"2018-10-17","objectID":"/posts/web-font/","tags":["Node.js","å­—ä½“å‹ç¼©"],"title":"ttf å­—ä½“å‹ç¼©","uri":"/posts/web-font/"},{"categories":["Grocery"],"content":"å®‰è£… nodeJs è¿™ä¸ªä¸å¤šè¯´ï¼Œéƒ½æœ‰ã€‚ ","date":"2018-10-17","objectID":"/posts/web-font/:0:1","tags":["Node.js","å­—ä½“å‹ç¼©"],"title":"ttf å­—ä½“å‹ç¼©","uri":"/posts/web-font/"},{"categories":["Grocery"],"content":"å®‰è£…å­—è›› è¾“å…¥å‘½ä»¤ npm install font-spider -g ","date":"2018-10-17","objectID":"/posts/web-font/:0:2","tags":["Node.js","å­—ä½“å‹ç¼©"],"title":"ttf å­—ä½“å‹ç¼©","uri":"/posts/web-font/"},{"categories":["Grocery"],"content":"è¿è¡Œ å®‰è£…æˆåŠŸä¹‹åå°±å¼€å§‹å‹ç¼©äº† æˆ‘çš„ css \u003cstyle type=\"text/css\"\u003e @font-face { font-family: MMT; src: url(\"font/MMT_579767_SOAJ0_0.ttf\"); } \u003c/style\u003e ç”Ÿæˆæ–°çš„å­—ä½“åº“ï¼Œå‘½ä»¤è¡Œè¾“å…¥ font-spider C:\\Users\\æç‘è±ªã€Desktop\\love\\index.html å®˜ç½‘ ","date":"2018-10-17","objectID":"/posts/web-font/:0:3","tags":["Node.js","å­—ä½“å‹ç¼©"],"title":"ttf å­—ä½“å‹ç¼©","uri":"/posts/web-font/"},{"categories":["OS"],"content":" åœ¨ Linux ä¸Šç¼–è¯‘ c è¯­è¨€æ–‡ä»¶ã€‚ ","date":"2018-10-15","objectID":"/posts/linux-hello-c/:0:0","tags":["linux","C"],"title":"linux ç¼–ç¨‹åˆä½“éªŒ","uri":"/posts/linux-hello-c/"},{"categories":["OS"],"content":"æ‰“å¼€ vim ç¼–è¾‘å™¨ ï¼ˆæ²¡æœ‰å°±ç”¨ vi, æˆ–è€…å…ˆå®‰è£… vimsudo apt-get install vim) $ vim ","date":"2018-10-15","objectID":"/posts/linux-hello-c/:0:1","tags":["linux","C"],"title":"linux ç¼–ç¨‹åˆä½“éªŒ","uri":"/posts/linux-hello-c/"},{"categories":["OS"],"content":"ç¼–è¾‘æ–‡ä»¶ æ‰“å¼€æ–‡ä»¶ç¼–è¾‘å™¨ä¹‹åç¼–è¾‘æ–‡ä»¶ é¦–å…ˆæŒ‰Escå†:è¿›å…¥æœ«è¡Œå‘½ä»¤ å†ä¿å­˜ä¸º hello.c æ–‡ä»¶åé€€å‡º : w hello.c : q æ‰“å¼€ç›®å½•çœ‹çœ‹ç”Ÿæˆçš„æ–‡ä»¶ $ ls ","date":"2018-10-15","objectID":"/posts/linux-hello-c/:0:2","tags":["linux","C"],"title":"linux ç¼–ç¨‹åˆä½“éªŒ","uri":"/posts/linux-hello-c/"},{"categories":["OS"],"content":"ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶å¹¶æ‰§è¡Œ $ gcc hello.c -o hello $ ./hello è‹¥æƒé™ä¸å¤Ÿåˆ™åŠ å¯æ‰§è¡Œæƒé™chmod +x hello ","date":"2018-10-15","objectID":"/posts/linux-hello-c/:0:3","tags":["linux","C"],"title":"linux ç¼–ç¨‹åˆä½“éªŒ","uri":"/posts/linux-hello-c/"},{"categories":["Projects"],"content":"é¢„è§ˆ {{ message || 'ã€Œæ²ç›®ä¹‹ï¼Œæ¹˜ä¹Ÿã€\\n ä»ä¸‹ç¬”åˆ°åœç¬”ï¼Œä»å¼€å§‹åˆ°ç»“æŸï¼Œæ²ç›®ä½“è§è¯äº†æˆ‘ä»¬ç¨šå«©åˆ°æˆç†Ÿã€‚\\næ•…äº‹çš„å¼€å¤´å¾€å¾€æå…·æ¸©æŸ”ï¼Œä½†ç»“å±€å¸¸å¸¸ä¸å°½äººæ„ã€‚\\né‚£äº›å¿˜ä¸æ‰çš„äººå’Œäº‹ï¼Œå²æœˆéƒ½å·²æ›¿æˆ‘è½»ææ·¡å†™ã€‚' }} From playlist, Powered By mmt-netease ç‚¹å‡»å±•å¼€æ›´å¤š ã€Šå¯Œå£«å±±ä¸‹ã€‹ ã€Šçˆ±æƒ…è½¬ç§»ã€‹ å‰å°˜ç¡¬åŒ–åƒçŸ³å¤´ é˜³å…‰åœ¨èº«ä¸Šæµè½¬ éšç¼˜åœ°æŠ›ä¸‹ä¾¿é€ƒèµ° ç­‰æ‰€æœ‰ä¸šéšœè¢«åŸè°… æˆ‘ç»ä¸ç½•æœ‰ çˆ±æƒ…ä¸åœç«™ å¾€è¡—é‡Œç»•è¿‡ä¸€å‘¨ æƒ³å¼€å¾€åœ°è€å¤©è’ æˆ‘ä¾¿åŒ–ä¹Œæœ‰ éœ€è¦å¤šå‹‡æ•¢ ä½ è¿˜å«Œä¸å¤Ÿ ä½ ä¸è¦å¤±æœ› æˆ‘æŠŠè¿™é™ˆå¹´é£è¤› è¡æ°”å›è‚ æ˜¯ä¸ºäº† é€èµ ä½ è§£å’’ æœ€ç¾çš„å¹³å‡¡ ","date":"2018-10-12","objectID":"/projects/font-mmt/:1:0","tags":["æ²ç›®ä½“"],"title":"æ²ç›®ä½“","uri":"/projects/font-mmt/"},{"categories":["Projects"],"content":"ä¸‹è½½ è­¦å‘Š æ²ç›®ä½“ ä»…ç”¨äºä¸ªäººéå•†ç”¨ï¼ ","date":"2018-10-12","objectID":"/projects/font-mmt/:2:0","tags":["æ²ç›®ä½“"],"title":"æ²ç›®ä½“","uri":"/projects/font-mmt/"},{"categories":["Grocery"],"content":"æ¦‚å¿µ æµæ°´çº¿æ˜¯æŒ‡åœ¨ç¨‹åºæ‰§è¡Œæ—¶å¤šæ¡æŒ‡ä»¤é‡å è¿›è¡Œæ“ä½œçš„ä¸€ç§å‡†å¹¶è¡Œå¤„ç†å®ç°æŠ€æœ¯ã€‚å„ç§éƒ¨ä»¶åŒæ—¶å¤„ç†æ˜¯é’ˆå¯¹ä¸åŒæŒ‡ä»¤è€Œè¨€çš„ï¼Œå®ƒä»¬å¯åŒæ—¶ä¸ºå¤šæ¡æŒ‡ä»¤çš„ä¸åŒéƒ¨åˆ†è¿›è¡Œå·¥ä½œï¼Œä»¥æé«˜å„éƒ¨ä»¶çš„åˆ©ç”¨ç‡å’ŒæŒ‡ä»¤çš„å¹³å‡æ‰§è¡Œé€Ÿåº¦ã€‚ æœªä½¿ç”¨æµæ°´çº¿ ä½¿ç”¨æµæ°´çº¿ æµæ°´çº¿å‘¨æœŸä¸ºæ‰§è¡Œæ—¶é—´æœ€é•¿çš„ä¸€æ®µã€‚ ","date":"2018-10-09","objectID":"/posts/liushuixian/:1:0","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"æµæ°´çº¿è®¡ç®—å…¬å¼ é¦–å…ˆä½¿ç”¨ç†è®ºå…¬å¼ï¼Œæ²¡æœ‰ç­”æ¡ˆç”¨å®è·µå…¬å¼ã€‚ ","date":"2018-10-09","objectID":"/posts/liushuixian/:2:0","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"æµæ°´çº¿ååç‡è®¡ç®— æµæ°´çº¿ååç‡æ˜¯æŒ‡å•ä½æ—¶é—´å†…å¤„ç†çš„ä»»åŠ¡çš„æ•°é‡ã€‚ åŸºæœ¬å…¬å¼ æœ€å¤§ååç‡ ","date":"2018-10-09","objectID":"/posts/liushuixian/:3:0","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"æµæ°´çº¿åŠ é€Ÿæ¯” å®Œæˆä¸€æ‰¹ä»»åŠ¡ï¼Œä¸ä½¿ç”¨æµæ°´çº¿æ‰€ç”¨çš„æ—¶é—´ä¸ä½¿ç”¨æµæ°´çº¿æ‰€ç”¨çš„æ—¶é—´ä¹‹æ¯”ç§°ä¸ºæµæ°´çº¿çš„åŠ é€Ÿæ¯”ã€‚ å…¬å¼ï¼š S=ä¸ä½¿ç”¨æµæ°´çº¿æ‰§è¡Œæ—¶é—´/ä½¿ç”¨æµæ°´çº¿æ‰§è¡Œæ—¶é—´ æµæ°´çº¿åŠ é€Ÿæ¯”è¶Šé«˜è¶Šå¥½ï¼Œè¯´æ˜ä½¿ç”¨æµæ°´çº¿çš„æ•ˆæœã€‚ ","date":"2018-10-09","objectID":"/posts/liushuixian/:4:0","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"æµæ°´çº¿çš„æ•ˆç‡ ","date":"2018-10-09","objectID":"/posts/liushuixian/:5:0","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"ä¾‹é¢˜ ","date":"2018-10-09","objectID":"/posts/liushuixian/:6:0","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"å…¶ä»– ","date":"2018-10-09","objectID":"/posts/liushuixian/:7:0","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"ä¸»æœº ","date":"2018-10-09","objectID":"/posts/liushuixian/:7:1","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"CISC å’Œ RISC ç±»å‹ æŒ‡ä»¤ å¯»å€æ–¹å¼ å®ç°æ–¹å¼ å…¶ä»– CISCï¼ˆå¤æ‚æŒ‡ä»¤é›†ï¼‰ æ•°é‡å¤šï¼Œä½¿ç”¨é¢‘ç‡å·®åˆ«å¤§ï¼Œå¯å˜é•¿æ ¼å¼ æ”¯æŒå¤šç§ å¾®ç¨‹åºæ§åˆ¶æŠ€æœ¯ï¼ˆå¾®ç ï¼‰ ç ”åˆ¶å‘¨æœŸé•¿ RISCï¼ˆç²¾ç®€æŒ‡ä»¤é›†ï¼‰ æ•°é‡å°‘ï¼Œä½¿ç”¨é¢‘ç‡æ¥è¿‘ï¼Œå®šé•¿æ ¼å¼ï¼Œå¤§éƒ¨åˆ†ä¸ºå•å‘¨æœŸæŒ‡ä»¤ï¼Œæ“ä½œå¯„å­˜å™¨ï¼Œåªæœ‰ Load/Store æ“ä½œå†…å­˜ æ”¯æŒæ–¹å¼å°‘ å¢åŠ äº†é€šç”¨å¯„å­˜å™¨ï¼›ç¡¬å¸ƒçº¿é€»è¾‘æ§åˆ¶ä¸ºä¸»ï¼›é€‚åˆé‡‡ç”¨æµæ°´çº¿ ä¼˜åŒ–ç¼–ç ï¼Œæœ‰æ•ˆæ”¯æŒé«˜çº§è¯­è¨€ ","date":"2018-10-09","objectID":"/posts/liushuixian/:7:2","tags":["æµæ°´çº¿","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"æµæ°´çº¿","uri":"/posts/liushuixian/"},{"categories":["Grocery"],"content":"æ•°æ®çš„è¡¨ç¤º æ•°æ®çš„è¡¨ç¤ºå¯åˆ†ä¸ºï¼šåŸç ï¼Œåç å’Œè¡¥ç ã€‚ï¼ˆäºŒè¿›åˆ¶ï¼‰ åŸç ï¼š ç¬¦å·ä½ 0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚ åç ï¼š ç¬¦å·ä½ 0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚ æ­£æ•°ï¼š åç åŒåŸç ã€‚ è´Ÿæ•°ï¼š ç¬¦å·ä½é™¤å¤–å…¶ä»–ä½æŒ‰ä½å–åã€‚ è¡¥ç ï¼š æ­£æ•°ï¼š åŒåŸç ã€‚ è´Ÿæ•°ï¼š ç¬¦å·ä½é™¤å¤–å…¶ä»–ä½æŒ‰ä½å–åå†+1ã€‚ ç§»ç ï¼š è¡¥ç ç¬¦å·ä½å–åã€‚ ","date":"2018-10-08","objectID":"/posts/data/:0:1","tags":["è®¡ç®—æœºæ•°æ®","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"è®¡ç®—æœºæ•°æ®","uri":"/posts/data/"},{"categories":["Grocery"],"content":"æ•°æ®è¡¨ç¤ºèŒƒå›´ åŸç ï¼š -(z^n-1 - 1) ~ 2^n-1 - 1 åç ï¼š -(z^n-1 - 1) ~ 2^n-1 - 1 è¡¥ç ï¼š -z^n-1 ~ 2^n-1 - 1 ï¼ˆè¡¥ç æ­£ 0 å’Œè´Ÿ 0 ç›¸åŒï¼Œå°‘å ä¸€æ•°ä½ï¼Œå°±å¤šä¸€ä¸ªèŒƒå›´ï¼‰ ä¾‹ï¼š 8 ä½äºŒè¿›åˆ¶ï¼Œé™¤å»ç¬¦å·ä½è¿˜æœ‰ 7 ä½ï¼Œ7 ä¸ª 1 ä¸ºæœ€å¤§æ•°ï¼Œç›¸å½“äº 8 ä¸ª 1 å‡ 1ï¼Œä¹Ÿå°±æ˜¯ 2^7-1, æ‰€ä»¥èŒƒå›´å°±ç®—å‡ºæ¥äº†ã€‚ ","date":"2018-10-08","objectID":"/posts/data/:0:2","tags":["è®¡ç®—æœºæ•°æ®","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"è®¡ç®—æœºæ•°æ®","uri":"/posts/data/"},{"categories":["Grocery"],"content":"æµ®ç‚¹æ•°è¿ç®— å¯¹é˜¶ï¼ˆå°é˜¶å¯¹å¤§é˜¶ï¼‰+ å°¾æ•°è®¡ç®—ï¼ˆç§‘å­¦è®¡æ•°æ³•ï¼‰+ ç»“æœè§„æ ¼åŒ–ï¼ˆç§‘å­¦æŠ€æœ¯æ³•ï¼‰ ","date":"2018-10-08","objectID":"/posts/data/:0:3","tags":["è®¡ç®—æœºæ•°æ®","è®¡ç®—æœºç»„æˆä¸ä½“ç³»ç»“æ„"],"title":"è®¡ç®—æœºæ•°æ®","uri":"/posts/data/"},{"categories":["JavaScript"],"content":" è¿™å‡ å¤©çœ‹åˆ°åˆ«äººçš„åšå®¢æœ‰å¼€å…³ç¯æ•ˆæœï¼Œå°±æƒ³ç»™è‡ªå·±çš„åšå®¢ä¹ŸåŠ ä¸€ä¸ªï¼Œå…¶å®ä»¥å‰å°±åœ¨æƒ³äº†ã€‚ç»è¿‡è°·æ­Œç™¾åº¦åè¿™æ ·å®ç°äº†ã€‚css+js å¦‚ä½•ç»™ Web é¡µé¢å¢åŠ å¤œé—´æ¨¡å¼åŠŸèƒ½ï¼Ÿå…¶å®æ‰€è°“çš„å¤œé—´æ¨¡å¼å°±æ˜¯åœ¨é¡µé¢ä¸Šå¢åŠ ä¸€ä¸ªé€æ˜çš„é®ç½©å±‚ï¼Œä½†æ˜¯é®ç½©å±‚ä¼šæŒ¡ä½é¡µé¢å…ƒç´ ï¼Œ è§£å†³æ–¹æ³•æ˜¯ æ·»åŠ  DIVï¼Œç»™ DIV çš„ outline å±æ€§ä¸€ä¸ªå¾ˆå¤§çš„ outline-width å€¼ï¼Œç”¨ outline çš„è¾¹æ¡†ä½œä¸ºé®ç½©ï¼Œè¿™æ ·æ—¢èƒ½æ­£å¸¸ç‚¹å‡»é¡µé¢å…ƒç´ ï¼Œåˆèƒ½è¾¾åˆ°å¤œé—´æ¨¡å¼çš„æ•ˆæœã€‚ ","date":"2018-09-27","objectID":"/posts/night/:0:0","tags":["JavaScript"],"title":"ç½‘é¡µå¤œé—´æ•ˆæœ","uri":"/posts/night/"},{"categories":["JavaScript"],"content":"css éƒ¨åˆ† \u003cstyle\u003e .cover{ position:fixed; top: 0px; left: 0px; outline:5000px solid rgba(0, 0, 0, 0);//åˆå§‹äº®åº¦ z-index: 99999; } \u003c/style\u003e ","date":"2018-09-27","objectID":"/posts/night/:0:1","tags":["JavaScript"],"title":"ç½‘é¡µå¤œé—´æ•ˆæœ","uri":"/posts/night/"},{"categories":["JavaScript"],"content":"js éƒ¨åˆ† \u003cscript\u003e var brightness; //æ˜¾ç¤ºé®ç½© function cover(brightness) { if (typeof(div) == 'undefined') { div = document.createElement('div'); div.setAttribute('style', 'position:fixed;top:0;left:0;outline:5000px solid;z-index:99999;'); document.body.appendChild(div); } else { div.style.display = ''; } div.style.outlineColor = 'rgba(0,0,0,' + brightness + ')'; } //äº‹ä»¶ç›‘å¬ window.addEventListener('keydown', function(e) { if (e.altKey \u0026\u0026 e.keyCode == 90) { cover(brightness = 0.3); } if (e.altKey \u0026\u0026 e.keyCode == 88) { cover(brightness = 0); } if (e.altKey \u0026\u0026 e.keyCode == 38) { if (brightness - 0.05 \u003e 0.05) cover(brightness -= 0.05); } if (e.altKey \u0026\u0026 e.keyCode == 40) { if (brightness + 0.05 \u003c 0.95) cover(brightness += 0.05); } }, false); \u003c/script\u003e ","date":"2018-09-27","objectID":"/posts/night/:0:2","tags":["JavaScript"],"title":"ç½‘é¡µå¤œé—´æ•ˆæœ","uri":"/posts/night/"},{"categories":["JavaScript"],"content":"html éƒ¨åˆ† \u003cdiv class=\"cover\"\u003e\u003c/div\u003e ","date":"2018-09-27","objectID":"/posts/night/:0:3","tags":["JavaScript"],"title":"ç½‘é¡µå¤œé—´æ•ˆæœ","uri":"/posts/night/"},{"categories":["JavaScript"],"content":"ä½¿ç”¨ Alt+Z: æ‰“å¼€å¤œé—´æ¨¡å¼ Alt+X: å…³é—­ Alt+â†‘: å¢åŠ äº®åº¦ Alt+â†“: é™ä½äº®åº¦ ","date":"2018-09-27","objectID":"/posts/night/:0:4","tags":["JavaScript"],"title":"ç½‘é¡µå¤œé—´æ•ˆæœ","uri":"/posts/night/"},{"categories":["JavaScript"],"content":" ä»æš‘å‡åˆ°ç°åœ¨æœ‰å¥½å‡ ä¸ªå°ä¼™ä¼´é—®æˆ‘åšå®¢çš„æ ‡é¢˜æ€ä¹ˆå˜æ¥å˜å»çš„ï¼Œä¸æƒ³å†å’Œæ¯ä¸ªäººéƒ½è¯´ä¸€éäº†ï¼Œè€½è¯¯æ—¶é—´ï¼Œç´¢æ€§å†™ä¸€ä¸‹ã€‚ ","date":"2018-09-26","objectID":"/posts/crash-cheat/:0:0","tags":["JavaScript","hexo"],"title":"ç½‘é¡µç¦»å¼€æ—¶æ”¹å˜æ ‡é¢˜â€œå´©æºƒæ¬ºéª—â€","uri":"/posts/crash-cheat/"},{"categories":["JavaScript"],"content":"åˆ›å»ºä¸€ä¸ª js æ–‡ä»¶ æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ª js æ–‡ä»¶ï¼Œæˆ‘ä»¬ç”¨è®°äº‹æœ¬å°±å¥½äº†ï¼Œç„¶åæ”¹ä¸ªæ–‡ä»¶åï¼Œä¸å¦¨å°±å«crash-cheat.jså§ï¼Œä½ ä»¬å¯ä»¥éšæ„ï¼ ç„¶åæŠŠæ–‡ä»¶æ”¾åˆ° source æ–‡ä»¶å¤¹çš„ js æ–‡ä»¶å¤¹çš„ src é‡Œé¢ã€‚ï¼ˆæˆ‘ç”¨çš„ next ä¸»é¢˜ï¼Œæ”¾è¿™é‡Œç»Ÿä¸€å­˜æ”¾ï¼Œå…¶ä»–ä¸»é¢˜éšæ„ï¼‰ å´©æºƒæ¬ºéª— (Jquery ç‰ˆï¼‰ var OriginTitle = document.title; var titleTime; document.addEventListener('visibilitychange', function () { if (document.hidden) { $('[rel=\"icon\"]').attr('href', 'https://i.loli.net/2018/08/24/5b7fcb00ed9bf.png'); document.title = 'æ€ä¹ˆå›äº‹â•­(Â°AÂ°`)â•®'; clearTimeout(titleTime); } else { $(\"[rel='icon']\").attr('href', 'https://i.loli.net/2018/09/25/5baa4f21661e7.png'); document.title = 'å°è€å¼Ÿ (à¸…\u003eÏ‰\u003c*à¸…)'; titleTime = setTimeout(function () { document.title = OriginTitle; $(\"[rel='icon']\").attr('href', '/images/favicon-32x32-next.png'); }, 2000); } }); å´©æºƒæ¬ºéª— (JS ç‰ˆï¼‰ var oldTitle = document.title; var titleTime; //æ¨™é¡Œæ¢å¾©è¨ˆæ™‚å™¨ document.addEventListener('visibilitychange', function () { if (document.hidden) { document.querySelector(\"[rel='icon']\").setAttribute('href', '/images/icons/favicon-32.png'); document.title = 'ç¶²ç«™å´©æ½°äº†ï¼'; clearTimeout(titleTime); } else { document.title = 'å…¶å¯¦ä¸¦æ²’æœ‰ï¼'; document.querySelector(\"[rel='icon']\").setAttribute('href', '/images/icons/crash.png'); titleTime = setTimeout(function () { document.title = oldTitle; }, 1000); } }); ","date":"2018-09-26","objectID":"/posts/crash-cheat/:1:0","tags":["JavaScript","hexo"],"title":"ç½‘é¡µç¦»å¼€æ—¶æ”¹å˜æ ‡é¢˜â€œå´©æºƒæ¬ºéª—â€","uri":"/posts/crash-cheat/"},{"categories":["JavaScript"],"content":"ä½¿ç”¨ åœ¨hexo\\themes\\hexo-theme-next\\layoutæ–‡ä»¶è·¯å¾„æ‰¾åˆ°layout.swigæ–‡ä»¶ï¼Œå…¶ä»–æœ‰äº›ä¸»é¢˜ç”¨çš„æ˜¯.ejsåç¼€ï¼Œä¸€æ ·çš„ã€‚ ç„¶åæ‰“å¼€æ–‡ä»¶ï¼Œåœ¨\u003cbody\u003e\u003c/body\u003eä¹‹é—´åŠ å…¥è°ƒç”¨åˆšåˆšçš„ jsã€‚ \u003cscript type=\"text/javascript\" src=\"/js/src/crash-cheat.js\"\u003e\u003c/script\u003e é‡æ–°éƒ¨ç½²åšå®¢å°±å¯ä»¥äº†ã€‚ ","date":"2018-09-26","objectID":"/posts/crash-cheat/:2:0","tags":["JavaScript","hexo"],"title":"ç½‘é¡µç¦»å¼€æ—¶æ”¹å˜æ ‡é¢˜â€œå´©æºƒæ¬ºéª—â€","uri":"/posts/crash-cheat/"},{"categories":["Git","OS"],"content":"ä¸‹è½½ git wget https://github.com/git/git/archive/v2.14.1.zip ","date":"2018-09-22","objectID":"/posts/linux-git/:0:1","tags":["Git","linux"],"title":"linux/centos ä¸‹çš„å®‰è£… git","uri":"/posts/linux-git/"},{"categories":["Git","OS"],"content":"å®‰è£…ä¾èµ– sudo yum -y install zlib-devel openssl-devel cpio expat-devel gettext-devel curl-devel perl-ExtUtils-CBuilder perl-ExtUtils-MakeMaker ","date":"2018-09-22","objectID":"/posts/linux-git/:0:2","tags":["Git","linux"],"title":"linux/centos ä¸‹çš„å®‰è£… git","uri":"/posts/linux-git/"},{"categories":["Git","OS"],"content":"è§£å‹ git unzip v2.14.1.zip æ³¨ï¼š unzip å‘½ä»¤ç”¨ä¸äº†ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š #yum list | grep zip/unzipÂ #yum install zip #yum install unzip åŸºæœ¬å®Œæˆï¼Œå¦‚æœåœ¨ç¼–è¯‘çš„æ—¶å€™å‡ºç°é”™è¯¯ï¼šgcc : error trying to exec 'cc1plus': execvp : No sunch file or directory å¯ä»¥ç”¨gcc -v/g++ -v æ¥æŸ¥çœ‹ gcc ç‰ˆæœ¬ï¼Œä¼šå‘ç°æ²¡æœ‰å®‰è£…ã€‚å®‰è£…å¦‚ä¸‹ï¼š #yum list | grep gcc #yum install gcc-c++ #yum install unzip ","date":"2018-09-22","objectID":"/posts/linux-git/:0:3","tags":["Git","linux"],"title":"linux/centos ä¸‹çš„å®‰è£… git","uri":"/posts/linux-git/"},{"categories":["Git","OS"],"content":"å°† git å®‰è£…åˆ°/usr/local ä¸Š å…ˆè¿›å…¥ git æ–‡ä»¶å¤¹ ç¼–è¯‘ å®‰è£… cd git-2.14.1 make prefix=/usr/local all make prefix=/usr/local install ","date":"2018-09-22","objectID":"/posts/linux-git/:0:4","tags":["Git","linux"],"title":"linux/centos ä¸‹çš„å®‰è£… git","uri":"/posts/linux-git/"},{"categories":["Git","OS"],"content":"éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆ git --version â€¦ ","date":"2018-09-22","objectID":"/posts/linux-git/:0:5","tags":["Git","linux"],"title":"linux/centos ä¸‹çš„å®‰è£… git","uri":"/posts/linux-git/"},{"categories":["Memo"],"content":"Vim é€ŸæŸ¥è¡¨-å¸®ä½ æé«˜ N å€æ•ˆç‡ ","date":"2018-08-31","objectID":"/posts/vim/:0:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"è¿›å…¥ vim å‘½ä»¤ æè¿° vim filename æ‰“å¼€æˆ–æ–°å»ºæ–‡ä»¶ï¼Œå¹¶å°†å…‰æ ‡ç½®äºç¬¬ä¸€è¡Œé¦– vim +n filename æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶å°†å…‰æ ‡ç½®äºç¬¬ n è¡Œé¦– vim + filename æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶å°†å…‰æ ‡ç½®äºæœ€åä¸€è¡Œé¦– vim +/pattern filename æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶å°†å…‰æ ‡ç½®äºç¬¬ä¸€ä¸ªä¸ pattern åŒ¹é…çš„ä¸²å¤„ vim -r filename åœ¨ä¸Šæ¬¡æ­£ç”¨ vim ç¼–è¾‘æ—¶å‘ç”Ÿç³»ç»Ÿå´©æºƒï¼Œæ¢å¤ filename vim filenameâ€¦.filename æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œä¾æ¬¡ç¼–è¾‘ ","date":"2018-08-31","objectID":"/posts/vim/:1:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"vim é…ç½® å‘½ä»¤ æè¿° all åˆ—å‡ºæ‰€æœ‰é€‰é¡¹è®¾ç½®æƒ…å†µ term è®¾ç½®ç»ˆç«¯ç±»å‹ ignorance åœ¨æœç´¢ä¸­å¿½ç•¥å¤§å°å†™ list æ˜¾ç¤ºåˆ¶è¡¨ä½ (Ctrl+I) å’Œè¡Œå°¾æ ‡å¿—ï¼ˆ$) number æ˜¾ç¤ºè¡Œå· report æ˜¾ç¤ºç”±é¢å‘è¡Œçš„å‘½ä»¤ä¿®æ”¹è¿‡çš„æ•°ç›® terse æ˜¾ç¤ºç®€çŸ­çš„è­¦å‘Šä¿¡æ¯ warn åœ¨è½¬åˆ°åˆ«çš„æ–‡ä»¶æ—¶è‹¥æ²¡ä¿å­˜å½“å‰æ–‡ä»¶åˆ™æ˜¾ç¤º NO write ä¿¡æ¯ nomagic å…è®¸åœ¨æœç´¢æ¨¡å¼ä¸­ï¼Œä½¿ç”¨å‰é¢ä¸å¸¦â€œ\\â€çš„ç‰¹æ®Šå­—ç¬¦ nowrapscan ç¦æ­¢ vi åœ¨æœç´¢åˆ°è¾¾æ–‡ä»¶ä¸¤ç«¯æ—¶ï¼Œåˆä»å¦ä¸€ç«¯å¼€å§‹ mesg å…è®¸ vi æ˜¾ç¤ºå…¶ä»–ç”¨æˆ·ç”¨ write å†™åˆ°è‡ªå·±ç»ˆç«¯ä¸Šçš„ä¿¡æ¯ :set number / set nonumber æ˜¾ç¤º/ä¸æ˜¾ç¤ºè¡Œå· :set ruler /set noruler æ˜¾ç¤º/ä¸æ˜¾ç¤ºæ ‡å°º :set hlsearch é«˜äº®æ˜¾ç¤ºæŸ¥æ‰¾åˆ°çš„å•è¯ :set nohlsearch å…³é—­é«˜äº®æ˜¾ç¤º :syntax on è¯­æ³•é«˜äº® :set nu æ˜¾ç¤ºè¡Œå· :set tabstop=8 è®¾ç½® tab å¤§å°ï¼Œ8 ä¸ºæœ€å¸¸ç”¨æœ€æ™®éçš„è®¾ç½® :set softtabstop=8 4:4 ä¸ªç©ºæ ¼ï¼Œ8: æ­£å¸¸çš„åˆ¶è¡¨ç¬¦ï¼Œ12: ä¸€ä¸ªåˆ¶è¡¨ç¬¦ 4 ä¸ªç©ºæ ¼ï¼Œ16: ä¸¤ä¸ªåˆ¶è¡¨ç¬¦ :set autoindent è‡ªåŠ¨ç¼©è¿› :set cindent C è¯­è¨€æ ¼å¼é‡Œé¢çš„è‡ªåŠ¨ç¼©è¿› ","date":"2018-08-31","objectID":"/posts/vim/:2:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"ç§»åŠ¨å…‰æ ‡ å‘½ä»¤ æè¿° k nk ä¸Š å‘ä¸Šç§»åŠ¨ n è¡Œ j nj ä¸‹ å‘ä¸‹ç§»åŠ¨ n è¡Œ h nh å·¦ å‘å·¦ç§»åŠ¨ n è¡Œ l nl å³ å‘å³ç§»åŠ¨ n è¡Œ Space å…‰æ ‡å³ç§»ä¸€ä¸ªå­—ç¬¦ Backspace å…‰æ ‡å·¦ç§»ä¸€ä¸ªå­—ç¬¦ Enter å…‰æ ‡ä¸‹ç§»ä¸€è¡Œ w/W å…‰æ ‡å³ç§»ä¸€ä¸ªå­—è‡³å­—é¦– b/B å…‰æ ‡å·¦ç§»ä¸€ä¸ªå­—è‡³å­—é¦– e æˆ– E å…‰æ ‡å³ç§»ä¸€ä¸ªå­—è‡³å­—å°¾ ) å…‰æ ‡ç§»è‡³å¥å°¾ ( å…‰æ ‡ç§»è‡³å¥é¦– } å…‰æ ‡ç§»è‡³æ®µè½å¼€å¤´ { å…‰æ ‡ç§»è‡³æ®µè½ç»“å°¾ n$ å…‰æ ‡ç§»è‡³ç¬¬ n è¡Œå°¾ H å…‰æ ‡ç§»è‡³å±å¹•é¡¶è¡Œ M å…‰æ ‡ç§»è‡³å±å¹•ä¸­é—´è¡Œ L å…‰æ ‡ç§»è‡³å±å¹•æœ€åè¡Œ 0 ï¼ˆæ³¨æ„æ˜¯æ•°å­—é›¶ï¼‰å…‰æ ‡ç§»è‡³å½“å‰è¡Œé¦– ^ ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸Šå» $ å…‰æ ‡ç§»è‡³å½“å‰è¡Œå°¾ gg ç§»åˆ°ç¬¬ä¸€è¡Œ G ç§»åˆ°æœ€åä¸€è¡Œ f ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰è¡Œçš„å­—ç¬¦ a ä¸Š F ç›¸å % ç§»åŠ¨åˆ°ä¸åˆ¶åŒ¹é…çš„æ‹¬å·ä¸Šå»ï¼ˆï¼‰ï¼Œ{}ï¼Œ[]ï¼Œ\u003c\u003eç­‰ nG ç§»åŠ¨åˆ°ç¬¬ n è¡Œä¸Š G åˆ°æœ€åä¸€è¡Œ ","date":"2018-08-31","objectID":"/posts/vim/:3:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"å±å¹•æ»šåŠ¨ å‘½ä»¤ æè¿° Ctrl+u å‘æ–‡ä»¶é¦–ç¿»åŠå± Ctrl+d å‘æ–‡ä»¶å°¾ç¿»åŠå± Ctrl+f å‘æ–‡ä»¶å°¾ç¿»ä¸€å± Ctrl ï¼‹ b å‘æ–‡ä»¶é¦–ç¿»ä¸€å± nz å°†ç¬¬ n è¡Œæ»šè‡³å±å¹•é¡¶éƒ¨ï¼Œä¸æŒ‡å®š n æ—¶å°†å½“å‰è¡Œæ»šè‡³å±å¹•é¡¶éƒ¨ ","date":"2018-08-31","objectID":"/posts/vim/:4:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"æ’å…¥æ–‡æœ¬ç±» å‘½ä»¤ æè¿° i åœ¨å…‰æ ‡å‰ I åœ¨å½“å‰è¡Œé¦– a å…‰æ ‡å A åœ¨å½“å‰è¡Œå°¾ o åœ¨å½“å‰è¡Œä¹‹ä¸‹æ–°å¼€ä¸€è¡Œ O åœ¨å½“å‰è¡Œä¹‹ä¸Šæ–°å¼€ä¸€è¡Œ r æ›¿æ¢å½“å‰å­—ç¬¦ R æ›¿æ¢å½“å‰å­—ç¬¦åŠå…¶åçš„å­—ç¬¦ï¼Œç›´è‡³æŒ‰ ESC é”® s ä»å½“å‰å…‰æ ‡ä½ç½®å¤„å¼€å§‹ï¼Œä»¥è¾“å…¥çš„æ–‡æœ¬æ›¿ä»£æŒ‡å®šæ•°ç›®çš„å­—ç¬¦ S åˆ é™¤æŒ‡å®šæ•°ç›®çš„è¡Œï¼Œå¹¶ä»¥æ‰€è¾“å…¥æ–‡æœ¬ä»£æ›¿ä¹‹ ncw/nCW ä¿®æ”¹æŒ‡å®šæ•°ç›®çš„å­— nCC ä¿®æ”¹æŒ‡å®šæ•°ç›®çš„è¡Œ ","date":"2018-08-31","objectID":"/posts/vim/:5:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"åˆ é™¤å‘½ä»¤ å‘½ä»¤ æè¿° x/X åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼Œx åˆ é™¤å…‰æ ‡åçš„ï¼Œè€Œ X åˆ é™¤å…‰æ ‡å‰çš„ dw åˆ é™¤ä¸€ä¸ªå•è¯ï¼ˆåˆ é™¤å…‰æ ‡ä½ç½®åˆ°ä¸‹ä¸€ä¸ªå•è¯å¼€å§‹çš„ä½ç½®ï¼‰ dnw åˆ é™¤ n ä¸ªå•è¯ dne ä¹Ÿå¯ï¼Œåªæ˜¯åˆ é™¤åˆ°å•è¯å°¾ do åˆ è‡³è¡Œé¦– d$ åˆ è‡³è¡Œå°¾ dd åˆ é™¤ä¸€è¡Œ ndd åˆ é™¤å½“å‰è¡ŒåŠå…¶å n-1 è¡Œ dnl å‘å³åˆ é™¤ n ä¸ªå­—æ¯ dnh å‘å·¦åˆ é™¤ n ä¸ªå­—æ¯ dnj å‘ä¸‹åˆ é™¤ n è¡Œï¼Œå½“å‰è¡Œ+å…¶ä¸Š n è¡Œ dnk å‘ä¸Šåˆ é™¤ n è¡Œï¼Œå½“æœŸè¡Œ+å…¶ä¸‹ n è¡Œ cnw[word] å°† n ä¸ª word æ”¹å˜ä¸º word C$ æ”¹å˜åˆ°è¡Œå°¾ cc æ”¹å˜æ•´è¡Œ shift+j åˆ é™¤è¡Œå°¾çš„æ¢è¡Œç¬¦ï¼Œä¸‹ä¸€è¡Œæ¥ä¸Šæ¥äº† ","date":"2018-08-31","objectID":"/posts/vim/:6:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"å¤åˆ¶ç²˜è´´ å‘½ä»¤ æè¿° p ç²˜è´´ç”¨ x æˆ– d åˆ é™¤çš„æ–‡æœ¬ ynw å¤åˆ¶ n ä¸ªå•è¯ yy å¤åˆ¶ä¸€è¡Œ ynl å¤åˆ¶ n ä¸ªå­—ç¬¦ y$ å¤åˆ¶å½“å‰å…‰æ ‡è‡³è¡Œå°¾å¤„ nyy æ‹·è´ n è¡Œ ","date":"2018-08-31","objectID":"/posts/vim/:7:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"æ’¤é”€ å‘½ä»¤ æè¿° u æ’¤é”€å‰ä¸€æ¬¡çš„æ“ä½œ shif+u(U) æ’¤é”€å¯¹è¯¥è¡Œçš„æ‰€æœ‰æ“ä½œ ","date":"2018-08-31","objectID":"/posts/vim/:8:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"æœç´¢åŠæ›¿æ¢ å‘½ä»¤ æè¿° /pattern ä»å…‰æ ‡å¼€å§‹å¤„å‘æ–‡ä»¶å°¾æœç´¢ pattern ?pattern ä»å…‰æ ‡å¼€å§‹å¤„å‘æ–‡ä»¶é¦–æœç´¢ pattern n åœ¨åŒä¸€æ–¹å‘é‡å¤ä¸Šä¸€æ¬¡æœç´¢å‘½ä»¤ N åœ¨åæ–¹å‘ä¸Šé‡å¤ä¸Šä¸€æ¬¡æœç´¢å‘½ä»¤ cw newword æ›¿æ¢ä¸º newword n ç»§ç»­æŸ¥æ‰¾ . æ‰§è¡Œæ›¿æ¢ :s/p1/p2/g å°†å½“å‰è¡Œä¸­æ‰€æœ‰ p1 å‡ç”¨ p2 æ›¿ä»£ï¼Œg è¡¨ç¤ºæ‰§è¡Œ ç”¨ c è¡¨ç¤ºéœ€è¦ç¡®è®¤ :n1,n2 s/p1/p2/g å°†ç¬¬ n1 è‡³ n2 è¡Œä¸­æ‰€æœ‰ p1 å‡ç”¨ p2 æ›¿ä»£ :g/p1/s//p2/g å°†æ–‡ä»¶ä¸­æ‰€æœ‰ p1 å‡ç”¨ p2 æ›¿æ¢ :1,$ s/string1/string2/g åœ¨å…¨æ–‡ä¸­å°† string1 æ›¿æ¢ä¸º string2 ","date":"2018-08-31","objectID":"/posts/vim/:9:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"ä¹¦ç­¾ å‘½ä»¤ æè¿° m[a-z] åœ¨æ–‡ä¸­åšæ ‡è®°ï¼Œæ ‡è®°å·å¯ä¸º a-z çš„ 26 ä¸ªå­—æ¯ `a ç§»åŠ¨åˆ°æ ‡è®° a å¤„ ","date":"2018-08-31","objectID":"/posts/vim/:10:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"visual æ¨¡å¼ å‘½ä»¤ æè¿° v è¿›å…¥ visual æ¨¡å¼ V è¿›å…¥è¡Œçš„ visual æ¨¡å¼ ctrl+v è¿›å¦‚å—æ“ä½œæ¨¡å¼ç”¨ o å’Œ O æ”¹å˜é€‰æ‹©çš„è¾¹çš„å¤§å° åœ¨æ‰€æœ‰è¡Œæ’å…¥ç›¸åŒçš„å†…å®¹å¦‚ include\u003c å°†å…‰æ ‡ç§»åˆ°å¼€å§‹æ’å…¥çš„ä½ç½®ï¼ŒæŒ‰ CTRL+V è¿›å…¥ VISUAL æ¨¡å¼ï¼Œé€‰æ‹©å¥½æ¨¡å—åæŒ‰ Iï¼ˆshift+i)ï¼Œåæ’å…¥è¦æ’å…¥çš„æ–‡æœ¬ï¼ŒæŒ‰ [ESC] å®Œæˆ ","date":"2018-08-31","objectID":"/posts/vim/:11:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"è¡Œæ–¹å¼å‘½ä»¤ å‘½ä»¤ æè¿° :n1,n2 co n3 å°† n1 è¡Œåˆ° n2 è¡Œä¹‹é—´çš„å†…å®¹æ‹·è´åˆ°ç¬¬ n3 è¡Œä¸‹ :n1,n2 m n3 å°† n1 è¡Œåˆ° n2 è¡Œä¹‹é—´çš„å†…å®¹ç§»è‡³åˆ°ç¬¬ n3 è¡Œä¸‹ :n1,n2 d å°† n1 è¡Œåˆ° n2 è¡Œä¹‹é—´çš„å†…å®¹åˆ é™¤ :n1,n2 w!command å°†æ–‡ä»¶ä¸­ n1 è¡Œè‡³ n2 è¡Œçš„å†…å®¹ä½œä¸º command çš„è¾“å…¥å¹¶æ‰§è¡Œä¹‹ è‹¥ä¸æŒ‡å®š n1ï¼Œn2ï¼Œåˆ™è¡¨ç¤ºå°†æ•´ä¸ªæ–‡ä»¶å†…å®¹ä½œä¸º command çš„è¾“å…¥ ","date":"2018-08-31","objectID":"/posts/vim/:12:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"å® å‘½ä»¤ æè¿° q[a-z] å¼€å§‹è®°å½•ä½†å‰å¼€å§‹çš„æ“ä½œä¸ºå®ï¼Œåç§°å¯ä¸ºã€a-zã€‘ï¼Œç„¶åç”¨ q ç»ˆæ­¢å½•åˆ¶å® reg æ˜¾ç¤ºå½“å‰å®šä¹‰çš„æ‰€æœ‰çš„å®ï¼Œç”¨@[a-z] æ¥åœ¨å½“å‰å…‰æ ‡å¤„æ‰§è¡Œå® [a-z] ","date":"2018-08-31","objectID":"/posts/vim/:13:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"çª—å£æ“ä½œ å‘½ä»¤ æè¿° :split åˆ†å‰²ä¸€ä¸ªçª—å£ :split file.c ä¸ºå¦ä¸€ä¸ªæ–‡ä»¶ file.c åˆ†éš”çª—å£ :nsplit file.c ä¸ºå¦ä¸€ä¸ªæ–‡ä»¶ file.c åˆ†éš”çª—å£ï¼Œå¹¶æŒ‡å®šå…¶è¡Œæ•° ctrl ï¼‹ w åœ¨çª—å£ä¸­åˆ‡æ¢ :close å…³é—­å½“å‰çª—å£ ","date":"2018-08-31","objectID":"/posts/vim/:14:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":"æ–‡ä»¶åŠå…¶ä»– å‘½ä»¤ æè¿° :q é€€å‡º vi :q! ä¸ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º vi :e filename æ‰“å¼€æ–‡ä»¶ filename è¿›è¡Œç¼–è¾‘ :e! æ”¾å¼ƒä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œé‡æ–°è½½å…¥è¯¥æ–‡ä»¶ç¼–è¾‘ :w ä¿å­˜å½“å‰æ–‡ä»¶ :wq å­˜ç›˜é€€å‡º :ZZ ä¿å­˜å½“å‰æ–‡æ¡£å¹¶é€€å‡º VIM :!command æ‰§è¡Œ shell å‘½ä»¤ command :r!command å°†å‘½ä»¤ command çš„è¾“å‡ºç»“æœæ”¾åˆ°å½“å‰è¡Œ :n1,n2 write temp.c :read file.c å°†æ–‡ä»¶ file.c çš„å†…å®¹æ’å…¥åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹é¢ ","date":"2018-08-31","objectID":"/posts/vim/:15:0","tags":["vim","ä»–å±±ä¹‹çŸ³"],"title":"Vim é€ŸæŸ¥è¡¨","uri":"/posts/vim/"},{"categories":["Memo"],"content":" è­¦å‘Š 2018/11/1 è¯´æ˜ next ä¸»é¢˜å¥½åƒæ›´æ–°äº†ï¼Œç°åœ¨è‡ªå¸¦çš„å¯ä»¥ç”¨äº†ï¼Œå¦‚æœå¯ä»¥ç”¨äº†ï¼Œä»¥ä¸‹æ•™ç¨‹å¯ä»¥å¿½ç•¥ï¼ï¼ï¼ æœ€è¿‘æœ‰å‡ ä¸ªå°ä¼™ä¼´é—®æˆ‘åšå®¢çš„å­—æ•°ç»Ÿè®¡æ€ä¹ˆå®ç°çš„ï¼Œæ€ä¹ˆç½‘ä¸Šçš„æ•™ç¨‹ä¸ç®¡ç”¨å•Šï¼Ÿä¸€å¼€å§‹æˆ‘æ­å»ºåšå®¢çš„æ—¶å€™ä¹Ÿé‡åˆ°äº†ç±»ä¼¼çš„é—®é¢˜ï¼ŒæŒ‰ç…§ github ä¸Š wordcount çš„ readme æ“ä½œåï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œæˆ‘æ‰“å¼€ post ç›¸å…³é…ç½®æ–‡ä»¶å¹¶æ²¡æœ‰å‘ç°å‘ç° wordcount è¿™ä¸ªå…³é”®è¯ï¼Œnext æœ¬èº«ä¼¼ä¹ä¹Ÿå¹¶æ²¡æœ‰åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶æä¾›é€‰é¡¹ï¼ˆæˆ–è®¸æ˜¯ä¸ªäººåŸå› ï¼‰ï¼Œæ‰€ä»¥åªå¥½è‡ªå·±åŠ¨æ‰‹åŠ ä¸€ä¸ªäº†ã€‚ä¸ºäº†ä¸é‡å¤å›ç­”é—®é¢˜ï¼Œå…ˆåšä¸ªåŸåˆ›è®°å½•ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚åœ¨æ­¤æŠ›è½¬å¼•ç‰ï¼Œå¦‚æœæœ‰æ›´å¥½çš„æ–¹æ³•è¯·åœ¨ç•™è¨€åŒºæå‡ºï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ã€‚åŒæ—¶ä¹Ÿå¸Œæœ›å°ä¼™ä¼´å¤šå‘æ‰¬æŠ˜è…¾ç²¾ç¥ï¼Œå¤šä¸“ç ”ï¼Œå°‘æé—®ï¼Œæ¯•ç«Ÿè¿˜æ˜¯ RTFSC å¤§æ³•å¥½ï¼(Read the fucking source code) ","date":"2018-08-30","objectID":"/posts/hexo-wordcount/:0:0","tags":["hexo","å­—æ•°ç»Ÿè®¡"],"title":"hexo next ä¸»é¢˜æ·»åŠ å­—æ•°ç»Ÿè®¡ï¼ˆ2018ï¼‰","uri":"/posts/hexo-wordcount/"},{"categories":["Memo"],"content":"å®‰è£… wordcount github å¦‚æœæ²¡æœ‰å®‰è£… hexo-wordcount æ’ä»¶ï¼Œå…ˆå®‰è£…è¯¥æ’ä»¶ï¼š npm i --save hexo-wordcount # Node ç‰ˆæœ¬ 7.6.0 ä¹‹å‰ï¼Œè¯·å®‰è£… 2.x ç‰ˆæœ¬ (Node.js v7.6.0 and previous) npm install hexo-wordcount@2 --save ","date":"2018-08-30","objectID":"/posts/hexo-wordcount/:1:0","tags":["hexo","å­—æ•°ç»Ÿè®¡"],"title":"hexo next ä¸»é¢˜æ·»åŠ å­—æ•°ç»Ÿè®¡ï¼ˆ2018ï¼‰","uri":"/posts/hexo-wordcount/"},{"categories":["Memo"],"content":"post æ·»åŠ  æ‰“å¼€hexo\\themes\\hexo-theme-next\\layout\\_macroè·¯å¾„ä¸‹çš„ post.swig æ–‡ä»¶ï¼Œæ—¢ç„¶æ²¡æœ‰å­—æ•°ç»Ÿè®¡é‚£ä¹ˆæˆ‘ä»¬å°±åŠ ä¸€ä¸ªï¼Œç®€å•æš´åŠ›åœ°ç›´æ¥åœ¨é˜…è¯»æ•°åé¢åŠ ä¸Šä¸€æ¡å°±å¥½äº†ï¼Œåœ¨æ–‡ä»¶ç±»æœç´¢å…³é”®è¯busuanzi, æˆ‘ç”¨çš„æ˜¯ä¸è’œå­ï¼Œå¦‚æœç”¨çš„äº† leancloud çš„æœ leancloud å°±å¥½äº†ï¼Œå…¶ä»–ç±»ä¼¼ã€‚æ‰¾åˆ°è¿™æ®µä»£ç å {% if not is_index and theme.busuanzi_count.enable and theme.busuanzi_count.post_views %} \u003cspan class=\"post-meta-divider\"\u003e|\u003c/span\u003e \u003cspan class=\"post-meta-item-icon\" {% if not theme.post_meta.item_text %} title=\"{{ __('post.views') }}\" {% endif %}\u003e \u003ci class=\"fa fa-{{ theme.busuanzi_count.post_views_icon }}\"\u003e\u003c/i\u003e {% if theme.post_meta.item_text %} {{__('post.views') + __('symbol.colon') }} {% endif %} \u003cspan class=\"busuanzi-value\" id=\"busuanzi_value_page_pv\" \u003e\u003c/span\u003e \u003c/span\u003e {% endif %} åœ¨endifä¸Šé¢ï¼Œå³æœ¬æ–‡ä»£ç å—é‚£ä¸ªç©ºè¡Œå¤„æ·»åŠ ä»¥ä¸‹ä»£ç  \u003cspan class=\"post-meta-divider\"\u003e|\u003c/span\u003e \u003cspan title=\"{{ __('post.wordcount') }}\"\u003e\u003cspan class=\"post-meta-item-icon\"\u003e\u003ci class=\"fa fa-file-word-o\"\u003e\u003c/i\u003e\u003c/span\u003eå­—æ•°ï¼š {{ wordcount(post.content) }}\u003c/span\u003e ","date":"2018-08-30","objectID":"/posts/hexo-wordcount/:2:0","tags":["hexo","å­—æ•°ç»Ÿè®¡"],"title":"hexo next ä¸»é¢˜æ·»åŠ å­—æ•°ç»Ÿè®¡ï¼ˆ2018ï¼‰","uri":"/posts/hexo-wordcount/"},{"categories":["Memo"],"content":"å…¨ç«™æ·»åŠ  æ‰“å¼€hexo\\themes\\hexo-theme-next\\layout\\_partialsè·¯å¾„ä¸‹ footer.swig æ–‡ä»¶ï¼Œåœ¨ä½ å–œæ¬¢çš„ä½ç½®æ·»åŠ ä»¥ä¸‹ä»£ç  \u003cdiv class=\"theme-info\"\u003e \u003cdiv class=\"powered-by\"\u003e\u003c/div\u003e \u003cspan class=\"post-count\"\u003eå…¨ç«™å…± {{ totalcount(site) }} å­—\u003c/span\u003e \u003c/div\u003e ","date":"2018-08-30","objectID":"/posts/hexo-wordcount/:3:0","tags":["hexo","å­—æ•°ç»Ÿè®¡"],"title":"hexo next ä¸»é¢˜æ·»åŠ å­—æ•°ç»Ÿè®¡ï¼ˆ2018ï¼‰","uri":"/posts/hexo-wordcount/"},{"categories":["Memo"],"content":"æ­å»ºè¿™ä¸ªåšå®¢ä»¥æ¥ï¼Œéš”ä¸€æ®µæ—¶é—´å°±å‡ºç°ä¸€æ¬¡éƒ¨ç½²å¤±è´¥çš„é”™è¯¯ï¼Œæ¯æ¬¡éƒ½å·®ä¸å¤šï¼Œè«åå…¶å¦™åœ°å‡ºç°çš„ã€‚å‰å‡ æ¬¡ä¸çŸ¥é“æ€ä¹ˆçæå°±å¥½äº†ã€‚ ç°åœ¨åšä¸€ä¸‹è®°å½•ï¼Œé˜²æ­¢ä»¥åå‡ºé”™ç”¨ã€‚ é”™è¯¯å¦‚ä¸‹ Connection reset by 13.229.188.59 port 22 fatal: sha1 file '\u003cstdout\u003e' write error: Broken pipe fatal: The remote end hung up unexpectedly FATAL Something's wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html Error: Connection reset by 13.229.188.59 port 22 fatal: sha1 file '\u003cstdout\u003e' write error: Broken pipe fatal: The remote end hung up unexpectedly at ChildProcess.\u003canonymous\u003e (H:\\Hexo\\node_modules\\hexo-util\\lib\\spawn.js:37:17) at emitTwo (events.js:106:13) at ChildProcess.emit (events.js:191:7) at ChildProcess.cp.emit (H:\\Hexo\\node_modules\\cross-spawn\\lib\\enoent.js:40:29) at maybeClose (internal/child_process.js:850:16) at Socket.\u003canonymous\u003e (internal/child_process.js:323:11) at emitOne (events.js:96:13) at Socket.emit (events.js:188:7) at Pipe._handle.close [as _onclose] (net.js:492:12) ... ç¡®ä¿ ssh æ­£å¸¸ï¼Œhexo-deploy-git æ’ä»¶æ­£å¸¸çš„æƒ…å†µä¸‹åˆ é™¤ã€‚deploy_git æ–‡ä»¶å¤¹å°±å¥½äº†ã€‚ æœ€ååæ§½ä¸€ä¸‹ï¼Œè¿™ä¸ªé¬¼é”™è¯¯ï¼Œææˆ‘ä¸€æ™šä¸Šé†‰äº†ã€‚æˆ‘åˆæ‰“ç®—é‡è£…äº†çš„ã€‚/åè¡€ ","date":"2018-08-21","objectID":"/posts/hexo-d-error/:0:0","tags":["hexo"],"title":"hexo d å‡ºé”™","uri":"/posts/hexo-d-error/"},{"categories":["Memo"],"content":" æœ¬æ–‡é€‚åˆæˆ‘è¿™ç§çº¯å°ç™½ã€‚ ç›®å‰ä¸ºæ­¢ï¼Œå…¨ç½‘ä¹Ÿå°±åªæœ‰ä¸€ä¸ªåšä¸»å†™åˆ°è¿‡è¿™æ ·åŠ¨æ€æ˜¾ç¤º subtitle çš„æ–‡ç« ã€‚ä¼ é€é—¨ï¼ˆå…³é”®è¯ï¼šjs, ååŠ è½½ï¼‰ ä½†æ˜¯å˜ï¼Œè¯¥åšå†™çš„ä¸æ€ä¹ˆè¯¦ç»†ï¼Œ17 å¹´åº•å†™çš„ã€‚å½“ç„¶æ›´å¤§çš„å¯èƒ½æ˜¯ next æ›´æ–°äº†ä¸€äº›æ–‡ä»¶ç»“æ„ï¼Œæ‰€ä»¥ä¸é€‚åˆç°åœ¨ä½¿ç”¨äº†ã€‚ä»¥å‰æˆ‘æŒ‰åŸåšçš„æµç¨‹é…ç½®äº†ä¸€ä¸‹æ²¡æˆåŠŸå°±æåœ¨é‚£é‡Œäº†ï¼Œä»Šå¤©çªç„¶å¿ƒè¡€æ¥æ½®ã€‚ç¿»äº†ç¿»åŸåšä¸»åšå®¢çš„æºç ï¼Œå†ä¸è‡ªå·±çš„å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œå‘ç°äº†ä¸€äº›ç«¯å€ªã€‚ç¨ä½œè°ƒæ•´åå¦‚ä¸‹ï¼š ","date":"2018-08-20","objectID":"/posts/dongtaisub/:0:0","tags":["hexo","JavaScript"],"title":"hexo ä¸ªæ€§åŒ– - next ä¸»é¢˜åŠ¨æ€æ˜¾ç¤º subtitle","uri":"/posts/dongtaisub/"},{"categories":["Memo"],"content":"ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œä¸»è¦ä¿®æ”¹ subtitle subtitle: ä¸æ€•ä¸‡äººé˜»æŒ¡ï¼Œåªæ€•è‡ªå·±æŠ•é™ã€‚W ä½ å¦‚ä½•å›å¿†ï¼Œå†³å®šä½ æ˜¯ä¸€ä¸ªæ€æ ·çš„äººï¼W è¿™æ˜¯ä¸€ä¸ªå¥å­ã€‚W è¿™æ˜¯å¦ä¸€ä¸ªå¥å­ã€‚W è¿™äº›å¥å­ä½ ä»¬ä¸è¦æä¸€æ ·çš„ä¸ç„¶æ€ä¹ˆå«ä¸ªæ€§ç­¾å-_-ï¼ã€‚ å¥å­ä¸å¥å­ä¹‹é—´ä»¥ W åˆ†å‰²ï¼Œåç»­éœ€è¦æ ¹æ®è¯¥æ ‡å¿—ä½å»æ‹†åˆ†å¥å­ç»„ã€‚ å°ä¼™ä¼´ä»¬åšä¸»è¿™é‡Œåªæ˜¯æä¾›ä¸€ä¸ªæ€è·¯ï¼Œä¸è¦å’Œæˆ‘ç”¨ä¸€æ¨¡ä¸€æ ·çš„å•Šï¼Œä¸ç„¶æ’äº†å¤šå°´å°¬å‘€ ","date":"2018-08-20","objectID":"/posts/dongtaisub/:1:0","tags":["hexo","JavaScript"],"title":"hexo ä¸ªæ€§åŒ– - next ä¸»é¢˜åŠ¨æ€æ˜¾ç¤º subtitle","uri":"/posts/dongtaisub/"},{"categories":["Memo"],"content":"ä¿®æ”¹ header\\index.swig ä¿®æ”¹ themes\\next\\layout_partials\\header ä¸‹é¢çš„ index.swig æ–‡ä»¶ åœ¨æœ€å¼€å¤´æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š ï¼ˆè¿™é‡Œç”¨çš„åŸåšçš„ js) \u003cscript\u003e function GetRandomNum(Min,Max) { var Range = Max - Min; var Rand = Math.random(); return(Min + Math.round(Rand * Range)); } function setSidebarMarginTop (headerOffset) { return $('#sidebar').css({ 'margin-top': headerOffset }); } function getHeaderOffset () { return $('.header-inner').height() + CONFIG.sidebar.offset; } window.onload=function(){ var subtitle = \"{{config.subtitle}}\"; var mytitle = subtitle.split(\"W\"); var max = mytitle.length-1; var index = GetRandomNum(0,max); var text = mytitle[index]; $(\"#helloTitle\").html(text); var headOffset = getHeaderOffset(); setSidebarMarginTop(headOffset); //åŠ¨æ€ subtitle è®¾ç½® } \u003c/script\u003e ","date":"2018-08-20","objectID":"/posts/dongtaisub/:2:0","tags":["hexo","JavaScript"],"title":"hexo ä¸ªæ€§åŒ– - next ä¸»é¢˜åŠ¨æ€æ˜¾ç¤º subtitle","uri":"/posts/dongtaisub/"},{"categories":["Memo"],"content":"ä¿®æ”¹ brand.swig æ‰¾åˆ° {% if subtitle %} {% if theme.seo %} ... {% else %} ... {% endif %} {% endif %} æŠŠè¿™ä¸€æ®µï¼ŒæŠŠåŸæ¥çš„ä¿®æ”¹æˆä»¥ä¸‹ä»£ç å³å¯ ps: titleå’Œsubtitleçš„å­—ä½“è¿˜æœ‰é¢œè‰²ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¿®æ”¹ï¼Œå³ä½¿ç”¨styleæ ‡ç­¾ï¼ŒæŒ‰ä¸ªäººçˆ±å¥½ä¿®æ”¹ä¹Ÿå¯ä¸è¦ã€‚ {% if subtitle %} {% if theme.seo %} \u003cp class=\"site-subtitle\" id=\"helloTitle\" itemprop=\"description\"\u003e\u003c/p\u003e {% else %} \u003cp id=\"helloTitle\" class=\"site-subtitle\"\u003e\u003c/p\u003e {% endif %} {% endif %} ä¹‹åéƒ¨ç½²åæ¯æ¬¡åˆ·æ–°å°±å¯ä»¥çœ‹åˆ°ä¸åŒçš„ subtitle äº†ï¼Œå¼€å¿ƒ ğŸ˜€ ","date":"2018-08-20","objectID":"/posts/dongtaisub/:3:0","tags":["hexo","JavaScript"],"title":"hexo ä¸ªæ€§åŒ– - next ä¸»é¢˜åŠ¨æ€æ˜¾ç¤º subtitle","uri":"/posts/dongtaisub/"},{"categories":["Memo"],"content":"ä»Šæ—¥è¯—è¯ ä»Šæ—¥è¯—è¯ \u003cspan id=\"jinrishici-sentence\"\u003eæ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯ ....\u003c/span\u003e \u003cscript src=\"https://sdk.jinrishici.com/v2/browser/jinrishici.js\" charset=\"utf-8\"\u003e\u003c/script\u003e æ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯ .... ","date":"2018-08-20","objectID":"/posts/dongtaisub/:4:0","tags":["hexo","JavaScript"],"title":"hexo ä¸ªæ€§åŒ– - next ä¸»é¢˜åŠ¨æ€æ˜¾ç¤º subtitle","uri":"/posts/dongtaisub/"},{"categories":["Memo"],"content":"api è°ƒç”¨ ç›´æ¥ js è°ƒç”¨ api ç®€å•å¿«é€Ÿ 2021/9/30 æ›´æ–° ä¸€è¨€ api-å‚æ•°è¯¦è§ å·²ç»æŒ‚äº† \u003cdiv\u003e \u003cscript type=\"text/javascript\" src=\"https://api.imjad.cn/hitokoto/?cat=\u0026charset=utf-8\u0026length=\u0026encode=js\u0026fun=sync\u0026source=\"\u003e\u003c/script\u003e \u003cdiv id=\"hitokoto\"\u003e \u003cscript\u003e hitokoto(); \u003c/script\u003e \u003c/div\u003e \u003c/div\u003e ","date":"2018-08-20","objectID":"/posts/dongtaisub/:5:0","tags":["hexo","JavaScript"],"title":"hexo ä¸ªæ€§åŒ– - next ä¸»é¢˜åŠ¨æ€æ˜¾ç¤º subtitle","uri":"/posts/dongtaisub/"},{"categories":["Git"],"content":"åœ¨ git æ²¡æœ‰è¿è¡Œå®Œæˆä¹‹å‰å¼ºåˆ¶å…³é—­ï¼Œä¸‹æ¬¡æäº¤çš„æ—¶å€™ä¼šäº§ä»¥ä¸‹ç”Ÿé”™è¯¯ï¼Œæˆ–è€…ç±»ä¼¼çš„ã€‚ fatal: Unable to create '/xxx/xx/.git/index.lock': File exists. If no other git process is currently running, this probably means a git process crashed in this repository earlier. Make sure no other git process is running and remove the file manually to continue. åŸå› æ˜¯åœ¨ä½ è¿›è¡ŒæŸäº›æ¯”è¾ƒè´¹æ—¶çš„ git æ“ä½œæ—¶è‡ªåŠ¨ç”Ÿæˆï¼Œæ“ä½œç»“æŸåè‡ªåŠ¨åˆ é™¤ï¼Œç›¸å½“äºä¸€ä¸ªé”å®šæ–‡ä»¶ï¼Œç›®çš„åœ¨äºé˜²æ­¢å¯¹ä¸€ä¸ªç›®å½•åŒæ—¶è¿›è¡Œå¤šä¸ªæ“ä½œã€‚ æœ‰æ—¶å¼ºåˆ¶å…³é—­è¿›è¡Œä¸­çš„ git æ“ä½œï¼Œè¿™ä¸ªæ–‡ä»¶æ²¡æœ‰è¢«è‡ªåŠ¨åˆ é™¤ï¼Œä¹‹åä½ å°±æ— æ³•è¿›è¡Œå…¶ä»–æ“ä½œï¼Œå¿…é¡»æ‰‹åŠ¨åˆ é™¤ï¼Œè¿›å…¥ã€‚git æ–‡ä»¶ä¸­åˆ é™¤ï¼Œæ‰“å¼€æ˜¾ç¤ºéšè—æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰çœ‹è§ã€‚git æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ç›´æ¥ç”¨å‘½ä»¤ rm -f ./.git/index.lockã€‚ä¹‹åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚ ","date":"2018-08-14","objectID":"/posts/git-index-lock/:0:0","tags":["Git"],"title":"git index.lock","uri":"/posts/git-index-lock/"},{"categories":["Memo"],"content":" æš‘å‡åˆšå¼€å§‹çš„æ—¶å€™æ”¾å‡å›å®¶æ²¡å¸¦ç”µè„‘ï¼Œåªèƒ½ç©æ‰‹æœºï¼Œæƒ³æŠ˜è…¾ä¸€ä¸‹åšå®¢éƒ½æ²¡æœ‰æ¡ä»¶ï¼Œåœ¨ä¸€ä¸ªå‘ç°ä¸€ä¸ª app, å§æ§½ ğŸ˜±ï¼Œtermux çœŸçš„å¼ºå¤§ï¼ï¼ˆåˆå§‹åŒ–éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰å®‰å“æ‰‹æœºä¸Šçš„ linux ç®€ç›´äº†ï¼Œåœ¨æ‰‹æœºå°±å¯ä»¥æ­äº†ä¸€ä¸ª hexo åšå®¢ï¼Œåªè¦åœ¨ github ä¸Šå®ç°åˆ†æ”¯ç®¡ç†å°±å¯ä»¥å¤šç»ˆç«¯åŒæ­¥æ›´æ–°äº†ã€‚æ•æˆ‘å­¦ç–æ‰æµ…ï¼Œè¿˜åªæƒ³åˆ°è¿™äº›ï¼ä¸€å¼€å§‹æƒ³å›æ ¡åï¼ŒæŠ˜è…¾ä¸€ä¸‹ hexo-admin å®ç°ç±»ä¼¼åŠ¨æ€åšå®¢ä¸€æ ·çš„å¤šç»ˆç«¯ç®¡ç†ï¼ˆæ‰‹åŠ¨æ»‘ç¨½ï¼‰ï¼Œç°åœ¨å‘ç° termux è¿™æ ·å­çš„æ“ä½œä¹Ÿä¸é”™å˜›ï¼ŒæŒºè£…å“” hhhhhh**éƒ¨ç½²åçš„æ•ˆæœ** ","date":"2018-08-11","objectID":"/posts/termux/:0:0","tags":["Node.js","hexo","termux"],"title":"åœ¨ Android ä¸Šæ­å»º hexo åšå®¢","uri":"/posts/termux/"},{"categories":["Memo"],"content":"å‡†å¤‡ Termux æ–‡ä»¶ç®¡ç†å™¨ï¼ˆRE,MT æ–‡ä»¶ç®¡ç†å™¨ç­‰é«˜çº§ä¸€ç‚¹çš„ï¼‰ ","date":"2018-08-11","objectID":"/posts/termux/:1:0","tags":["Node.js","hexo","termux"],"title":"åœ¨ Android ä¸Šæ­å»º hexo åšå®¢","uri":"/posts/termux/"},{"categories":["Memo"],"content":"å¼€å§‹ æ‰“å¼€ Termuxï¼Œè¾“å…¥$pkg install nodejså®‰è£… Nodejsï¼Œåœ¨è¾“å…¥pkg install gitå®‰è£… Gitã€‚ è¿‡ç¨‹ä¼šå‡ºç°ä¸€ä¸ªæç¤ºï¼Œè¾“å…¥ y å›è½¦ç¡®è®¤å³å¯ã€‚ æŒ‰ç…§ Hexo å®˜ç½‘æç¤ºå®‰è£… Hexoã€‚ npm install hexo-cli -g hexo init blog cd blog æ³¨æ„ ssh é…ç½®å…ˆå®‰è£…ï¼špkg install openssh ç„¶åæŒ‰ç…§åŸºæœ¬æ“ä½œé…ç½® Hexoï¼ŒGitHub æˆ–è€… gitee,coding ç­‰è¿ä¸Šï¼Œéƒ¨ç½²æµ‹è¯•ä¸€æ¬¡ã€‚ å®‰è£…éƒ¨ç½²æ’ä»¶npm install hexo-deployer-git --saveï¼Œéƒ¨ç½²hexo d -g æ²¡æœ‰é—®é¢˜çš„è¯è¿›è¡Œä¸‹ä¸€æ­¥ã€‚ ","date":"2018-08-11","objectID":"/posts/termux/:2:0","tags":["Node.js","hexo","termux"],"title":"åœ¨ Android ä¸Šæ­å»º hexo åšå®¢","uri":"/posts/termux/"},{"categories":["Memo"],"content":"ç¼–è¾‘ å†™æ–‡ç« çš„è¯åˆ›å»º md æ–‡ä»¶å‘½ä»¤å’Œç”µè„‘ä¸Šä¸€æ ·ï¼Œæ–‡ä»¶ç®¡ç†å™¨æ‰“å¼€/data/data/com.termux/files/home/i/source/_posts/ ç¼–è¾‘æ–‡ç«  md æ–‡ä»¶ã€‚è¿™ç§æ–¹å¼éœ€è¦ Rootã€‚ æ²¡æœ‰ Root çš„è¯å¯ä»¥ä½¿ç”¨ Vimï¼Œç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼ç›¸å¯¹æ¥è¯´æ›´éº»çƒ¦ã€‚ ","date":"2018-08-11","objectID":"/posts/termux/:3:0","tags":["Node.js","hexo","termux"],"title":"åœ¨ Android ä¸Šæ­å»º hexo åšå®¢","uri":"/posts/termux/"},{"categories":["Memo"],"content":"å‚è€ƒ termux é«˜çº§ç»ˆç«¯å®‰è£…ä½¿ç”¨é…ç½®æ•™ç¨‹ ä½¿ç”¨ Termux åœ¨æ‰‹æœºä¸Šè¿è¡Œ linux é»‘ç§‘æŠ€ hexo æ­å»ºè¿‡ç¨‹ è¶…è¯¦ç»†æ•™ç¨‹ ","date":"2018-08-11","objectID":"/posts/termux/:4:0","tags":["Node.js","hexo","termux"],"title":"åœ¨ Android ä¸Šæ­å»º hexo åšå®¢","uri":"/posts/termux/"},{"categories":["Memo"],"content":"æ•ˆæœå›¾ï¼ˆæœªè¿æ¥ githubï¼Œcoding ç­‰ï¼‰ æ•ˆæœå›¾ 1 æ•ˆæœå›¾ 2 æ•ˆæœå›¾ 3 æ•ˆæœå›¾ 4 ","date":"2018-08-11","objectID":"/posts/termux/:5:0","tags":["Node.js","hexo","termux"],"title":"åœ¨ Android ä¸Šæ­å»º hexo åšå®¢","uri":"/posts/termux/"},{"categories":["ACM"],"content":"é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/157/A æ¥æºï¼šç‰›å®¢ç½‘ ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:0","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"é¢˜ç›®æè¿° xb æœ‰ m ç§çŸ³å­ï¼Œæ¯ç§æ— é™ä¸ªï¼ŒTa æƒ³ä»è¿™äº›çŸ³å­ä¸­å–å‡º n ä¸ªï¼Œå¹¶æŒ‰é¡ºåºæ’åˆ—èµ·æ¥ï¼Œä¸ºäº†å¥½çœ‹ï¼Œç›¸é‚»çš„çŸ³å­ä¸èƒ½ç›¸åŒã€‚xb æƒ³çŸ¥é“æœ‰å¤šå°‘ç§æ’åˆ—çš„æ–¹æ³•ã€‚ ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:1","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"è¾“å…¥æè¿°ï¼š ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ­£æ•´æ•° nï¼Œmã€‚ ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:2","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"è¾“å‡ºæè¿°ï¼š ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåœ¨ m ç§çŸ³å­ä¸­å–å‡º n ä¸ªçš„æ’åˆ—æ–¹æ¡ˆæ•°æ¨¡ 1000000007 åçš„å€¼ã€‚ ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:3","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"ç¤ºä¾‹ 1 è¾“å…¥ 1 1 è¾“å‡º 1 ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:4","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"ç¤ºä¾‹ 2 è¾“å…¥ 2 3 è¾“å‡º 6 ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:5","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"ç¤ºä¾‹ 3 è¾“å…¥ 3 3 è¾“å‡º 12 ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:6","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"å¤‡æ³¨ï¼š å¯¹äº 100%çš„æµ‹è¯•æ•°æ®ï¼š 1 â‰¤ n, m â‰¤ 1000 æ•°æ®é‡è¾ƒå¤§ï¼Œæ³¨æ„ä½¿ç”¨æ›´å¿«çš„è¾“å…¥è¾“å‡ºæ–¹å¼ã€‚ æ°´é¢˜ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ long long n,m,ans; scanf(\"%lld%lld\",\u0026n,\u0026m); ans=m; for(int i=1;i\u003cn;i++) ans=(ans*(m-1))%1000000007; printf(\"%lld\\n\",ans); return 0; } ","date":"2018-08-10","objectID":"/posts/nowcoder157a/:0:7","tags":["æ•°å­¦","ç»„åˆæ•°å­¦","ACM","Nowcoder","C++"],"title":"çŸ³å­é˜µåˆ—ï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/nowcoder157a/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ Dreamoon wants to climb up a stair of n steps. He can climb 1 or 2 steps at each move. Dreamoon wants the number of moves to be a multiple of an integer m. What is the minimal number of moves making him climb to the top of the stairs that satisfies his condition? ","date":"2018-08-10","objectID":"/posts/codeforces476a/:0:0","tags":["Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and Stairs","uri":"/posts/codeforces476a/"},{"categories":["ACM"],"content":"Input The single line contains two space separated integers n, m (0â€‰\u003câ€‰nâ€‰â‰¤â€‰10000,â€‰1â€‰\u003câ€‰mâ€‰â‰¤â€‰10). ","date":"2018-08-10","objectID":"/posts/codeforces476a/:0:1","tags":["Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and Stairs","uri":"/posts/codeforces476a/"},{"categories":["ACM"],"content":"Output Print a single integer â€” the minimal number of moves being a multiple of m. If there is no way he can climb satisfying condition print -â€‰1 instead. ","date":"2018-08-10","objectID":"/posts/codeforces476a/:0:2","tags":["Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and Stairs","uri":"/posts/codeforces476a/"},{"categories":["ACM"],"content":"Examples input 10 2 output 6 input 3 5 output -1 ","date":"2018-08-10","objectID":"/posts/codeforces476a/:0:3","tags":["Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and Stairs","uri":"/posts/codeforces476a/"},{"categories":["ACM"],"content":"Note For the first sample, Dreamoon could climb in 6 moves with following sequence of steps: {2, 2, 2, 2, 1, 1}. For the second sample, there are only three valid sequence of steps {2, 1}, {1, 2}, {1, 1, 1} with 2, 2, and 3 steps respectively. All these numbers are not multiples of 5. æœ‰ä¸€ä¸ª n çº§å°é˜¶ï¼Œæ¯æ¬¡å¯ä»¥èµ°ä¸€çº§æˆ–ä¸¤çº§ï¼Œé—®æœ€å°‘çš„æ­¥æ•°æ˜¯å¤šå°‘ï¼Œä¸”æ­¥æ•°å¿…é¡»æ˜¯ m çš„å€æ•°ã€‚ æ‰¾ä¸€ä¸‹æ•°å­¦å…¬å¼å°±å¥½äº†ã€‚ å…·ä½“çœ‹ä»£ç ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ int x,n,m; cin\u003e\u003en\u003e\u003em; if(n\u003cm){ cout\u003c\u003c-1\u003c\u003cendl; return 0; } if(n==m){ cout\u003c\u003cn\u003c\u003cendl; return 0; } if(n%2==0){ x=n/2%m; if(x==0) cout\u003c\u003cn/2\u003c\u003cendl; else cout\u003c\u003cn/2+m-x\u003c\u003cendl; }else if(n%2!=0){ x=(n/2+1)%m; if(x==0) cout\u003c\u003cn/2+1\u003c\u003cendl; else cout\u003c\u003c(n/2+1)+m-x\u003c\u003cendl; } return 0; } ","date":"2018-08-10","objectID":"/posts/codeforces476a/:0:4","tags":["Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and Stairs","uri":"/posts/codeforces476a/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ ","date":"2018-08-10","objectID":"/posts/codeforces476b/:0:0","tags":["ç»„åˆæ•°å­¦","Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and WiFiï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/codeforces476b/"},{"categories":["ACM"],"content":"é¢˜ç›®å¤§æ„ å°±æ˜¯ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ç”±\"+\",\"-â€œç»„æˆï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²ç”±â€+\",\"-\",\"?â€œç»„æˆï¼Œâ€œ+â€ä»£è¡¨åŠ  1ï¼Œâ€-â€œä»£è¡¨å‡ä¸€ï¼Œâ€œ?â€œä»£è¡¨å¯å–æ­£ä¹Ÿå¯å–è´Ÿï¼Œé—®ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„ä½ç½®å’Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰çš„æ¦‚ç‡æ˜¯å¤šå°‘ã€‚ æˆ‘ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯æŠŠï¼ˆ+1ï¼Œ-1ï¼‰^n çœ‹æˆå’ŒäºŒé¡¹å¼å®šç†ä¸€æ ·çš„å±•å¼€å§‹å¼ï¼Œåªä¸è¿‡æŠŠä¹˜æ³•æ”¹ä¸ºåŠ æ³•ï¼Œç„¶åå¾—åˆ°å…¬å¼ c(n,0)(n+(-1)0)+c(n,1)(n-1+(-1)1)+c(n,i)(n-i+(-1)i)+...+c(n,n)(n-n+(-1)n) åŒ–ç®€ä¸€ä¸‹å¯çŸ¥é€šé¡¹ä¸ºc(n,i)(n-2*i) ç„¶åæˆ‘å¯¹ç¬¬ä¸€ä¸ªä¸²æ±‚å‡ºä½ç½® sum, ç¬¬äºŒä¸ªä¸²å…ˆæ±‚å‡ºå·²çŸ¥ä½ç½® sum1ï¼Œç„¶åè®°å½•ä¸‹ï¼Ÿçš„ä¸ªæ•°ï¼Œç„¶åéå†æ‰¾å‡ºå±•å¼€å¼ä¸­æŸä¸€é¡¹ n-2i+sum1==sumï¼Œè¿™æ · x çš„ç³»æ•°å°±æ˜¯å¯èƒ½å‡ºç°ä½ç½®ç›¸ç­‰çš„æ‰€æœ‰æƒ…å†µï¼Œç”¨ (n-2i)/ç³»æ•°å’Œå°±æ˜¯æ¦‚ç‡äº†å•Šï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆä¸å¯¹å‘¢ï¼Œæœ¬åœ°è°ƒè¯•ï¼Œæ•°æ®æ²¡é—®é¢˜ï¼Œå¯æ˜¯äº¤åˆ° cf ä¸Šç¬¬äºŒç»„éƒ½è¿‡ä¸äº†ï¼Œçƒ¦äºæˆ‘è¿˜è§‰å¾—æƒ³åˆ°ä¸€ä¸ªç‹¬è¾Ÿçš„æ–¹æ³•å‘¢ï¼Œè¿‡ä¸äº†ã€‚ //cf é”™è¯¯æŠ¥å‘Šï¼Œæ€å‰æåä¸æ™“å¾— why,wtf??? å…ˆç ç€å§ Test: #2, time: 0 ms., memory: 0 KB, exit code: 0, checker exit code: 1, verdict: WRONG_ANSWER Input +-+- +-?? Output -0.000000000000 Answer 0.500000000000 Checker Log wrong answer 1st numbers differ - expected: '0.5000000', found: '-0.0000000', error = '0.5000000' ","date":"2018-08-10","objectID":"/posts/codeforces476b/:0:1","tags":["ç»„åˆæ•°å­¦","Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and WiFiï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/codeforces476b/"},{"categories":["ACM"],"content":"é”™è¯¯ä»£ç  #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ int i,j,cnt=0; long long c[11][11],sum=0,sum1=0; for(i = 0; i \u003c 11; i++){//æ¨è¾‰ä¸‰è§’ c[i][0] = 1; c[i][i] = 1; for(j = 1; j \u003c i; j++) c[i][j] = c[i-1][j] + c[i-1][j-1]; } string a,b; cin\u003e\u003ea\u003e\u003eb; //cout\u003c\u003ca\u003c\u003cendl\u003c\u003cb\u003c\u003cendl; int len=a.length(); for(i=0;i\u003clen;i++) if(a[i]=='+') sum+=1; else sum-=1; for(i=0;i\u003cb.length();i++){ if(b[i]=='+') sum1+=1; else if(b[i]=='-')sum1-=1; if(b[i]=='?') cnt++; } if(sum==sum1\u0026\u0026cnt==0){ printf(\"1.000000000000\\n\"); return 0; } int flag=0; int x=0; for(j=0;j\u003c=cnt;j++) x+=c[cnt][j]; //cout\u003c\u003cx\u003c\u003cendl; for(i=0;i\u003c=cnt;i++) if(cnt-2*i+sum1==sum){ flag=1; long double y=c[cnt][i]*1.0/x; printf(\"%.12llf\\n\",y); } if(!flag)printf(\"0.000000000000\\n\"); return 0; } æƒ³ä¸é€šï¼Œæ²¡åŠæ³•åªå¥½æ¢æ€è·¯ã€‚ æˆ‘å…ˆåˆ†åˆ«è®°ä¸‹ a,b ä¸²çš„â€™+â€™,â€™-â€™,â€™?â€˜ä¸ªæ•°ï¼Œç„¶ååæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼Œå¦‚è¦ a,b ä½ç½®ç›¸ç­‰ï¼Œåˆ™åŠ å·å’Œå‡å·çš„æ•°ç›®ï¼Œä¸¤ä¸²è¦ç›¸ç­‰ï¼Œä¸” a ä¸­çš„åŠ å·è¦æ¯” b ä¸­å·²çŸ¥çš„åŠ å·è¦å¤šï¼Œå‡å·ä¹Ÿè¦æ¯” b ä¸­å·²çŸ¥çš„è¦å¤šï¼Œå¦åˆ™æ‰“æ­»éƒ½ä¸ä¼šç›¸ç­‰çš„ï¼Œä»”ç»†æ¯”åˆ’ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚ç„¶åæœ‰ z ä¸ªâ€˜?â€™ï¼Œç›¸å½“äºæœ‰ z ä¸ªå‘ï¼Œè®©æˆ‘ä»¬å»å¡«ä½¿å¾— a,b ç›¸ç­‰ã€‚åªèƒ½å¡«+æˆ–-ï¼Œè®¾åŠ å·å·®ç­‰äº x-p, æ‰€ä»¥æ¦‚ç‡å°±ç­‰äº c(z,x-p)/2^zã€‚ ","date":"2018-08-10","objectID":"/posts/codeforces476b/:0:2","tags":["ç»„åˆæ•°å­¦","Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and WiFiï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/codeforces476b/"},{"categories":["ACM"],"content":"AC ä»£ç  #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ string a,b; int x,y,z,p,q,c[11][11],i,j; for(i = 0; i \u003c 11; i++){ c[i][0] = 1; c[i][i] = 1; for(j = 1; j \u003c i; j++) c[i][j] = c[i-1][j] + c[i-1][j-1]; } cin\u003e\u003ea; cin\u003e\u003eb; x=y=z=p=q=0; for(i=0;i\u003ca.length();i++) if(a[i]=='+') x++; else y++; for(i=0;i\u003cb.length();i++){ if(b[i]=='+') p++; else if(b[i]=='-') q++; else z++; } if(x==p\u0026\u0026z==0){ printf(\"1.000000000000\\n\"); return 0; } if(x-p\u003c0||y-q\u003c0) { printf(\"0.000000000000\\n\"); return 0; } x=x-p; printf(\"%0.12f\",c[z][x]*1.0/(2\u003c\u003c(z-1))); return 0; } å‡ åˆ†é’Ÿå†™å®Œåé¢çš„ä»£ç ï¼Œå¿ƒä¸­ä¸€ä¸‡å¤´è‰æ³¥é©¬åœ¨å¥”è…¾ã€‚ ","date":"2018-08-10","objectID":"/posts/codeforces476b/:0:3","tags":["ç»„åˆæ•°å­¦","Codeforces","ACM","æ•°å­¦","C++","C"],"title":"Dreamoon and WiFiï¼ˆç»„åˆæ•°å­¦ï¼‰","uri":"/posts/codeforces476b/"},{"categories":["ACM"],"content":"é¢˜æ„ï¼š ç»™å‡º a,b,c,x1,x2,y1,y2ï¼Œæ±‚æ»¡è¶³ ax+by+c=0ï¼Œä¸” xâˆˆ[x1,x2],yâˆˆ[y1,y2] çš„æ•´æ•°è§£ä¸ªæ•°ã€‚ ","date":"2018-08-10","objectID":"/posts/euclid/:0:1","tags":["æ•°å­¦","æ•°è®º","ACM","æ¬§å‡ é‡Œå¾—","ä»–å±±ä¹‹çŸ³","C++","C"],"title":"The equation-SGU106ï¼ˆæ‰©å±•æ¬§å‡ é‡Œå¾—ï¼‰","uri":"/posts/euclid/"},{"categories":["ACM"],"content":"åˆ†æï¼š å¯¹äºè§£äºŒå…ƒä¸€æ¬¡ä¸å®šæ–¹ç¨‹ï¼Œå®¹æ˜“æƒ³åˆ°åˆ©ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—æ±‚å‡ºä¸€ç»„å¯è¡Œè§£åæ‰¾åˆ°é€šè§£ï¼Œä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹æ¬§å‡ é‡Œå¾—ä»¥åŠæ‰©å±•æ¬§å‡ é‡Œå¾—ã€‚ æ¬§å‡ é‡Œå¾—ï¼š åˆåè¾—è½¬ç›¸é™¤æ³•ï¼Œæ˜¯ç”¨æ¥è®¡ç®—ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼Œå…¶ä¸­å°±æ˜¯åˆ©ç”¨ gcd(a,b)=gcd(b,a mod b) æ¥æ±‚è§£ã€‚ä¸‹è¯ gcd(a,b)=gcd(b,a mod b) çš„æ­£ç¡®æ€§ï¼š è®¾ a,b çš„ä¸€ä¸ªå…¬çº¦æ•°ä¸º d è®¾ a mod b=rï¼Œåˆ™ a=kb+r(k ä¸ºæ•´æ•°ï¼‰ï¼Œr=a-kb å› ä¸º d|a,d|b æ‰€ä»¥ d|a-kb, å³ d|rï¼Œè€Œ r=a mod b æ‰€ä»¥ d ä¸º b,a mod b çš„å…¬çº¦æ•° åˆå› ä¸º d ä¹Ÿä¸º a,b çš„å…¬çº¦æ•°ï¼Œæ‰€ä»¥ï¼ˆa,b) å’Œ (b,a mod b) çš„å…¬çº¦æ•°ä¸€æ ·ï¼Œæ‰€ä»¥æœ€å¤§å…¬çº¦æ•°å¿…ç„¶ä¸€æ ·ï¼Œå¾—è¯ã€‚ ä»£ç æè¿°ï¼š int gcd(int a,int b) { if (b==0) return a; return gcd(b,a%b); } æ‰©å±•æ¬§å‡ é‡Œå¾— é¡¾åæ€ä¹‰ï¼Œä¸ºä¸Šè¿°æ¬§å‡ é‡Œå¾—ç®—æ³•çš„æ‰©å±•ã€‚æ¬§å‡ é‡Œå¾—æ˜¯ç”¨æ¥æ±‚ a,b çš„æœ€å¤§å…¬çº¦æ•°ï¼Œé‚£ä¹ˆæ‰©å±•æ¬§å‡ é‡Œå¾—ä¸ä»…èƒ½æ±‚å‡º a,b çš„æœ€å¤§å…¬çº¦æ•°ï¼Œè¿˜èƒ½æ±‚å‡ºæ»¡è¶³ ax+by=gcd(a,b) çš„ä¸€ç»„å¯è¡Œè§£ã€‚ æ±‚è§£è¿‡ç¨‹ä¸­ï¼Œæ‰©å±•æ¬§å‡ é‡Œå¾—æ¯”æ¬§å‡ é‡Œå¾—å¤šäº†ä¸€ä¸ªèµ‹å€¼è¿‡ç¨‹ï¼Œå…·ä½“è¯æ˜å¦‚ä¸‹ï¼š è®¾ ax1+by1=gcd(a,b),bx2+(a mod b)y2=gcd(b,a mod b) å› ä¸ºç”±æ¬§å‡ é‡Œå¾—ç®—æ³•å¯çŸ¥ï¼Œgcd(a,b)=gcd(b,a mod b) æ‰€ä»¥ ax1+by1=bx2+(a mod b)y2 å› ä¸ºa mod b=a-(a div b)*bï¼ˆdiv ä¸ºæ•´é™¤ æ‰€ä»¥æœ‰ax1+by1=bx2+(a-(a div b)*b)y2 å°†å³è¾¹ç§»é¡¹ï¼Œå±•å¼€å¾—ï¼š ax1+by1=ay2+bx2-(a div b)*b*y2 =ay2+b[x2-(a div b)]y2 æ‰€ä»¥å¯å¾—ï¼š x1=y2 y1=x2-(a div b)*y2 å°†å¾—åˆ°çš„çš„ x1,y1 é€’å½’æ“ä½œæ±‚è§£ x2,y2ï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œå°†ä¼šåƒæ¬§å‡ é‡Œå¾—ä¸€æ ·å¾—åˆ° b=0 çš„æƒ…å†µï¼Œæ­¤æ—¶é€’å½’ç»“æŸï¼Œè¿”å› x=1,y=0ï¼Œå›æº¯å¾—è§£ã€‚ ä»£ç æè¿°ï¼š æ­¤å‡½æ•°è¿”å›çš„æ˜¯ a,b çš„æœ€å¤§å…¬çº¦æ•°ï¼ŒåŒæ—¶ä¹Ÿæ±‚è§£å‡ºæ»¡è¶³ ax+by=gcd(a,b) çš„ä¸€ç»„å¯è¡Œçš„ (x,y) int exgcd(int a,int b,int \u0026x,int \u0026y) { if (b==0) {x=1;y=0;return a;} int t=exgcd(b,a%b,x,y); int x0=x,y0=y; x=y0;y=x0-(a/b)*y0; return t; } å…³äºæ±‚è§£äºŒå…ƒä¸€æ¬¡ä¸å®šæ–¹ç¨‹ ax+by=c é¦–å…ˆï¼Œå¦‚æœ c ä¸æ˜¯ gcd(a,b) çš„å€æ•°ï¼Œæ–¹ç¨‹æ˜¾ç„¶æ— è§£ã€‚ æ‰©å±•æ¬§å‡ é‡Œå¾—æ±‚è§£çš„æ˜¯ ax+by=gcd(a,b)=1 çš„å¯è¡Œè§£ï¼Œä½†æ˜¯é¢˜ç›®ä¸­å¹¶æ²¡æœ‰è¯´ c ä¸ a,b äº’è´¨ä¹‹ç±»çš„æ¡ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨å¼€å§‹æ—¶ä¸¤è¾¹åŒæ—¶é™¤ä»¥ gcd(a,b)ã€‚ è®¾ d=gcd(a,b) è®¾ aâ€™=a/d,bâ€™=b/d,câ€™=c/d, åˆ™ä¸‹é¢éœ€è¦æ±‚è§£ aâ€™x+bâ€™y=câ€™çš„æ•´æ•°è§£ï¼Œè€Œ gcd(aâ€™,bâ€™)=1ï¼Œ åˆ™æˆ‘ä»¬åªéœ€æ±‚ aâ€™x+bâ€™y=1 çš„å¯è¡Œè§£ ç›´æ¥ä½¿ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—ï¼Œå¾—åˆ° (xâ€™,yâ€™), åˆ™æœ€ç»ˆè§£ä¸ºx'*c',y'*c'è®¾ä¸º (x0,y0)ã€‚ ç°åœ¨å¾—åˆ°äº†ä¸€ç»„å¯è¡Œè§£ï¼Œä½†æ˜¯å¦‚ä½•å¾—åˆ°é€šè§£å‘¢ï¼Ÿ å°† (x0,y0) ä»£å…¥ ax+by=cï¼Œåˆ™æœ‰ a*(x0)+b*(y0)=c é€šè¿‡æ‹†æ·»é¡¹ï¼Œå¯æœ‰ï¼š a*(x0+1*b)+b*(y0-1*a)=c a*(x0+2*b)+b*(y0-2*a)=c a*(x0+3*b)+b*(y0-3*a)=c â€¦â€¦ a*(x0+k*b)+b*(y0-k*a)=c (kâˆˆZ) è‡³æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†é€šè§£çš„æ–¹ç¨‹ x=x0+k*b y=y0-k*a (kâˆˆZ) è¿™æ ·ï¼Œæ‰€æœ‰æ»¡è¶³ ax+by=c çš„å¯è¡Œè§£éƒ½å¯æ±‚å‡ºã€‚ ","date":"2018-08-10","objectID":"/posts/euclid/:0:2","tags":["æ•°å­¦","æ•°è®º","ACM","æ¬§å‡ é‡Œå¾—","ä»–å±±ä¹‹çŸ³","C++","C"],"title":"The equation-SGU106ï¼ˆæ‰©å±•æ¬§å‡ é‡Œå¾—ï¼‰","uri":"/posts/euclid/"},{"categories":["ACM"],"content":"å…·ä½“å®ç° æœ‰äº†ä¸»ä½“ç®—æ³•ï¼Œä¸‹é¢è¦è°ˆåˆ°å…·ä½“å®ç°äº†ã€‚ å…ˆå¤„ç†ä¸€ä¸‹æ— è§£çš„æƒ…å†µï¼š å½“ a=0 å¹¶ä¸” b=0ï¼Œè€Œ câ‰ 0 æ—¶ï¼Œæ˜¾ç„¶æ— è§£ï¼› å½“ a=0,b=0ï¼Œè€Œ c=0 æ—¶ï¼Œ[x1,x2],[y1,y2] éƒ½ä¸ºå¯è¡Œè§£ï¼Œæ ¹æ®ä¹˜æ³•åŸç†ï¼Œå¯è¡Œè§£çš„ä¸ªæ•°ä¸º(x2-x1+1)*(y2-y1+1); å½“ a=0 bâ‰ 0 æ—¶ï¼š æ­¤æ—¶å³ä¸ºæ±‚è§£ by=cï¼Œåˆ™ y=c/bï¼Œ å¦‚æœ c/b ä¸æ˜¯æ•´æ•°æˆ– c/b ä¸åœ¨ [y1,y2] çš„èŒƒå›´å†…ï¼Œæ— è§£ å¦åˆ™ [x1,x2] å†…å…¨éƒ¨æ•´æ•°éƒ½ä¸ºå¯è¡Œè§£ã€‚ å½“ b=0,aâ‰ 0 æ—¶ï¼ŒåŒä¸Šã€‚ è‹¥ c ä¸æ˜¯ gcd(a,b) çš„ä¸ªæ•°ï¼Œæ–¹ç¨‹æ˜¾ç„¶æ— è§£ã€‚ å¤„ç†å®Œäº†ä¸€äº›ç¹ççš„ç»†èŠ‚åï¼Œä¸‹é¢æ˜¯å…·ä½“çš„æ±‚è§£è¿‡ç¨‹ï¼š æ‰©å±•æ¬§å‡ é‡Œå¾—æ±‚è§£çš„æ˜¯ ax+by=cï¼Œè€Œæœ¬é¢˜æ˜¯ ax+by+c=0ï¼Œéœ€å°† c ç§»é¡¹ã€‚ å¯¹äºæœ¬é“é¢˜ï¼Œé¦–å…ˆè¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºè´Ÿæ•°çš„æ¨¡è¿ç®—åœ¨æ­¤ç®—æ³•ä¸­æ— æ³•å¾—åˆ°æ­£ç¡®è§£ï¼Œæ‰€ä»¥è¦å¤„ç†ä¸€ä¸‹ a,b,c çš„æ­£è´Ÿæƒ…å†µã€‚ å¦‚æœ a ä¸ºè´Ÿæ•°ï¼Œåªéœ€å°† a å–ç›¸åæ•°åï¼Œå†å¤„ç†ä¸€ä¸‹ xâˆˆ[x1,x2] çš„èŒƒå›´ã€‚å½“ a å–äº†ç›¸åæ•°ï¼Œç›¸å½“äºæŠŠ x ä¹Ÿå–åï¼Œåˆ™éœ€è¦æŠŠ x çš„èŒƒå›´ç”± [x1,x2] è½¬å˜æˆ [-x2,-x1], ç±»ä¼¼äºæŠŠæ•°è½´åäº†è¿‡æ¥ã€‚b åŒç†ã€‚ åˆ©ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—è§£äºŒå…ƒä¸€æ¬¡ä¸å®šæ–¹ç¨‹ï¼Œå¾—åˆ°ä¸€ç»„å¯è¡Œè§£ (x0,y0)ã€‚ å› ä¸ºé¢˜ç›®ä¸­å¯¹ x,y æœ‰æ¡ä»¶çº¦æŸï¼Œè€Œæœ‰ x=x0+kb,y=y0-kbï¼Œæˆ‘ä»¬å¯ä»¥æ±‚å‡ºæ»¡è¶³ xâˆˆ[x1,x2],yâˆˆ[y1,y2] çš„ k çš„å–å€¼èŒƒå›´ï¼Œ å³ä¸ºæ±‚è§£ x1\u003c=x0+kb\u003c=x2,y1\u003c=y0-kb\u003c=y2 çš„æ•´æ•° k çš„ä¸ªæ•° ä½†æ˜¯åœ¨æ±‚è§£è¿™ä¸¤ä¸ªä¸€æ¬¡å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰é™¤ä¸å°½çš„ç°è±¡ï¼Œè¯¥å¦‚ä½•å–æ•´å‘¢ï¼Ÿ ä¸¾ä¸ªä¾‹å­ å½“å‡ºç° 2.5\u003c=k\u003c=5.5 æ—¶ï¼Œæˆ‘ä»¬éœ€è¦çš„å¯è¡Œçš„ k ä¸º 3,4,5ï¼Œæ‰€ä»¥éœ€è¦å°† 2.5 å‘ä¸Šå–æ•´å¾—åˆ° 3ï¼Œ5.5 å‘ä¸‹å–æ•´å¾—åˆ° 5ï¼Œå³ä¸º 3\u003c=k\u003c=5ï¼› å½“å‡ºç°-5.5\u003c=\u003c=-2.5 æ—¶ï¼Œæˆ‘ä»¬éœ€è¦çš„å¯è¡Œçš„ k ä¸º-5,-4,-3, æ‰€ä»¥éœ€è¦å°†-5.5 å‘ä¸Šå–æ•´å¾—åˆ°-5,-2.5 å‘ä¸‹å–æ•´å¾—åˆ°-3ï¼Œå³ä¸º-5\u003c=k\u003c=-3ï¼› æ­£è´Ÿæ•°çš„æƒ…å†µéƒ½å·²ç»è€ƒè™‘å®Œå…¨äº†ï¼Œå¯ä»¥å¾—åˆ°å–æ•´çš„ç»“è®ºï¼šä¸Šç•Œä¸‹å–æ•´ï¼Œä¸‹ç•Œä¸Šå–æ•´ã€‚ æœ€åï¼Œå°†å¾—åˆ°çš„ä¸¤ä¸ªèŒƒå›´å–äº¤é›†ï¼Œå¾—åˆ° [l,r]ï¼Œåˆ™æœ€ç»ˆç­”æ¡ˆä¸º r-l+1ã€‚ è¿™æ ·ï¼Œæœ¬é¢˜å°±å¯ä»¥å®Œç¾è§£å†³äº†ã€‚ // BY Rinyo #include\u003ccstdio\u003e #include\u003ccmath\u003e long long a,b,c,x1,x2,yy1,y2,x0,yy0; inline long long cmin(const long long \u0026x,const long long \u0026y) {return x\u003cy?x:y;} inline long long cmax(const long long \u0026x,const long long \u0026y) {return x\u003ey?x:y;} long long gcd(long long a,long long b) { if (b==0) return a; return gcd(b,a % b); } void exgcd(long long a,long long b) { if (b==0){x0=1;yy0=0;return;} exgcd(b,a%b); long long t=x0;x0=yy0;yy0=t-a/b*yy0; return; } int main() { scanf(\"%I64d%I64d%I64d%I64d%I64d%I64d%I64d\",\u0026a,\u0026b,\u0026c,\u0026x1,\u0026x2,\u0026yy1,\u0026y2); c=-c; if (c\u003c0) {a=-a;b=-b;c=-c;} if (a\u003c0) {a=-a;long long t=x1;x1=-x2;x2=-t;} if (b\u003c0) {b=-b;long long t=yy1;yy1=-y2;y2=-t;} if (a==0 \u0026\u0026 b==0) { if (c==0) { printf(\"%I64d\",(x2-x1+1)*(y2-yy1+1)); return 0; } printf(\"0\");return 0; } else if (a==0) { if (c %b ==0) if (c/b\u003c=y2 \u0026\u0026 c/b\u003e=yy1) {printf(\"%I64d\",x2-x1+1);return 0;} printf(\"0\");return 0; } else if (b==0) { if (c%a==0) if (c/a\u003c=x2 \u0026\u0026 c/a\u003e=x1) {printf(\"%I64d\",y2-yy1+1);return 0;} printf(\"0\");return 0; } long long d=gcd(a,b); if (c%d!=0){printf(\"0\");return 0;} a=a/d;b=b/d;c=c/d; exgcd(a,b); x0=x0*c;yy0=yy0*c; double tx2=x2,tx1=x1,tx0=x0,ta=a,tb=b,tc=c,ty1=yy1,ty2=y2,ty0=yy0; long long down1=floor(((tx2-tx0)/tb)),down2=floor(((ty0-ty1)/ta)); long long r=cmin(down1,down2); long long up1=ceil(((tx1-tx0)/tb)),up2=ceil(((ty0-ty2)/ta)); long long l=cmax(up1,up2); if (r\u003cl) printf(\"0\"); else printf(\"%I64d\",r-l+1); return 0; } æ‰©å±•æ¬§å‡ é‡Œå¾—æ¨¡æ¿ #include\u003ciostream\u003e using namespace std; int exgcd(int a,int b,int \u0026x,int \u0026y) { if(b==0) { x=1; y=0; return a; } int gcd=exgcd(b,a%b,x,y); int x2=x,y2=y; x=y2; y=x2-(a/b)*y2; return gcd; } int main() { int x,y,a,b; cout\u003c\u003c\"è¯·è¾“å…¥ a å’Œ b:\"\u003c\u003cendl; cin\u003e\u003ea\u003e\u003eb; cout\u003c\u003c\"a å’Œ b çš„æœ€å¤§å…¬çº¦æ•°ï¼š\"\u003c\u003cendl; cout\u003c\u003cexgcd(a,b,x,y)\u003c\u003cendl; cout\u003c\u003c\"ax+by=gcd(a,b) çš„ä¸€ç»„è§£æ˜¯ï¼š\"\u003c\u003cendl; cout\u003c\u003cx\u003c\u003c\" \"\u003c\u003cy\u003c\u003cendl; return 0; } ","date":"2018-08-10","objectID":"/posts/euclid/:0:3","tags":["æ•°å­¦","æ•°è®º","ACM","æ¬§å‡ é‡Œå¾—","ä»–å±±ä¹‹çŸ³","C++","C"],"title":"The equation-SGU106ï¼ˆæ‰©å±•æ¬§å‡ é‡Œå¾—ï¼‰","uri":"/posts/euclid/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ ","date":"2018-08-09","objectID":"/posts/lightoj1282/:0:1","tags":["æ•°è®º","æ•°å­¦","å¿«é€Ÿå¹‚","ACM","C"],"title":"Leading and Trailing-lightoj1282ï¼ˆå¿«é€Ÿå¹‚+å¯¹æ•°è¿ç®—ï¼‰","uri":"/posts/lightoj1282/"},{"categories":["ACM"],"content":"é¢˜ç›®å¤§æ„ï¼š ç»™å®šä¸¤ä¸ªæ•° n,k æ±‚ n^k çš„å‰ä¸‰ä½å’Œæœ€åä¸‰ä½ã€‚ ","date":"2018-08-09","objectID":"/posts/lightoj1282/:0:2","tags":["æ•°è®º","æ•°å­¦","å¿«é€Ÿå¹‚","ACM","C"],"title":"Leading and Trailing-lightoj1282ï¼ˆå¿«é€Ÿå¹‚+å¯¹æ•°è¿ç®—ï¼‰","uri":"/posts/lightoj1282/"},{"categories":["ACM"],"content":"åˆ†æ æ±‚åä¸‰ä½çš„è¯ï¼šç›´æ¥å¿«é€Ÿå¹‚ï¼Œå¯¹ 1000 å–æ¨¡å°±å¥½äº†ã€‚ æ±‚å‰ä¸‰ä½ï¼Œå¯¹äºç»™å®šçš„ä¸€ä¸ªæ•° n, å®ƒå¯ä»¥å†™æˆ n=10^a, å…¶ä¸­è¿™ä¸ª a ä¸ºæµ®ç‚¹æ•°ï¼Œåˆ™t=n^k=(10^a)^k=10^a*k=(10^x)*(10^y);å…¶ä¸­ x,y åˆ†åˆ«æ˜¯a*kçš„æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ï¼Œå¯¹äº t=n^k è¿™ä¸ªæ•°ï¼Œå®ƒçš„ä½æ•°ç”± (10^x) å†³å®šï¼Œå®ƒçš„ä½æ•°ä¸Šçš„å€¼åˆ™æœ‰ (10^y) å†³å®šï¼Œå› æ­¤æˆ‘ä»¬è¦æ±‚ t çš„å‰ä¸‰ä½ï¼Œåªéœ€è¦å°† 10^y æ±‚å‡ºï¼Œåœ¨ä¹˜ä»¥ 100ï¼Œå°±å¾—åˆ°äº†å®ƒçš„å‰ä¸‰ä½ã€‚ åˆ†æå®Œï¼Œæˆ‘ä»¬å†æ•´ä½“çœ‹ï¼Œè®¾ n^k=10^z; é‚£ä¹ˆz=k*log10(n) fmod(z,1)å¯ä»¥æ±‚å‡º x çš„å°æ•°éƒ¨åˆ†ã€‚ //å†ä¸€æ¬¡åæ§½ lightoj çš„å¤´æ–‡ä»¶ï¼Œè®©æˆ‘ä¸èƒ½ç”¨ä¸‡èƒ½å¤´\u003cbits/stdc++.h\u003e #include\u003cstdio.h\u003e #include\u003cmath.h\u003e typedef long long LL; int quickpow (int m, int n, int k) { int b = 1; while (n \u003e 0) { if (n \u0026 1) b = (b * m) % k; n \u003e\u003e= 1; m = (m * m) % k; } return b%k; } int main () { int t, flag = 1; scanf (\"%d\", \u0026t); while (t--) { LL n, k; scanf (\"%lld %lld\", \u0026n, \u0026k); int first = pow (10.0, 2.0 + fmod (k*log10(n*1.0), 1)); int last = quickpow (n%1000, k, 1000); printf (\"Case %d: %d %03d\\n\", flag++, first, last); } return 0; } ","date":"2018-08-09","objectID":"/posts/lightoj1282/:0:3","tags":["æ•°è®º","æ•°å­¦","å¿«é€Ÿå¹‚","ACM","C"],"title":"Leading and Trailing-lightoj1282ï¼ˆå¿«é€Ÿå¹‚+å¯¹æ•°è¿ç®—ï¼‰","uri":"/posts/lightoj1282/"},{"categories":["ACM"],"content":"æ³¨ï¼š C åº“å‡½æ•° - fmod() C åº“å‡½æ•° double fmod(double x, double y) è¿”å› x é™¤ä»¥ y çš„ä½™æ•°ã€‚ x â€“ ä»£è¡¨åˆ†å­çš„æµ®ç‚¹å€¼ã€‚ y â€“ ä»£è¡¨åˆ†æ¯çš„æµ®ç‚¹å€¼ã€‚ è¯¥å‡½æ•°è¿”å› x/y çš„ä½™æ•°ã€‚ ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº† fmod() å‡½æ•°çš„ç”¨æ³•ã€‚ #include \u003cstdio.h\u003e #include \u003cmath.h\u003e int main () { float a, b; int c; a = 9.2; b = 3.7; c = 2; printf(\"%f / %d çš„ä½™æ•°æ˜¯ %lf\\n\", a, c, fmod(a,c)); printf(\"%f / %f çš„ä½™æ•°æ˜¯ %lf\\n\", a, b, fmod(a,b)); return(0); } ç»“æœï¼š 9.200000 / 2 çš„ä½™æ•°æ˜¯ 1.200000 9.200000 / 3.700000 çš„ä½™æ•°æ˜¯ 1.800000 ","date":"2018-08-09","objectID":"/posts/lightoj1282/:0:4","tags":["æ•°è®º","æ•°å­¦","å¿«é€Ÿå¹‚","ACM","C"],"title":"Leading and Trailing-lightoj1282ï¼ˆå¿«é€Ÿå¹‚+å¯¹æ•°è¿ç®—ï¼‰","uri":"/posts/lightoj1282/"},{"categories":["ACM"],"content":"A. The Rank é¢˜ç›®å¤§æ„ï¼š ç»™å‡º n ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼ŒThomas Smith çš„æˆç»©æ˜¯ç¬¬ä¸€è¡Œï¼Œç„¶åè¦æŒ‰æ€»æˆç»©è¿›è¡Œæ’åºï¼Œæ€»åˆ†ç›¸åŒçš„æŒ‰ç¼–å·ä»å°åˆ°å¤§æ’ï¼› å¼€å§‹çœ‹è¿˜ä»¥ä¸ºè¦å†™ sort çš„ cmp å‡½æ•°è¿›è¡Œå¤šæ¡ä»¶æ’åºï¼Œæ•²å®Œæ‰å‘ç°å…¶å®åªè¦æŒ‰æ€»åˆ†å°±å¯ä»¥äº†ï¼Œå› ä¸ºæ‰˜é©¬æ–¯çš„ id æ˜¯ä¸€ï¼Œå¿…ç„¶ä¼šæ’åœ¨å‰é¢ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int a[4],sum[1005]; int main(){ int n,s,f1; cin\u003e\u003en; for(int j=1;j\u003c=n;j++){ s=0; for(int i=0;i\u003c4;i++){ cin\u003e\u003ea[i]; s+=a[i]; } sum[j]=s; if(j==1) f1=s; } sort(sum+1,sum+n+1,greater\u003cint\u003e()); for(int i=1;i\u003c=n;i++) if(sum[i]==f1){ cout\u003c\u003ci\u003c\u003cendl; break; } return 0; } ","date":"2018-08-09","objectID":"/posts/cfcontest1017/:0:1","tags":["ACM","Codeforces","ç»„åˆæ•°å­¦","C++"],"title":"Codeforces Round 502(Div.1 + Div.2)","uri":"/posts/cfcontest1017/"},{"categories":["ACM"],"content":"B. The Bits é¢˜ç›®å¤§æ„ï¼š å…ˆç»™å‡ºäºŒè¿›åˆ¶æ•°çš„é•¿åº¦ï¼Œç„¶åè¾“å…¥ä¸¤ä¸ªäºŒè¿›åˆ¶æ•° a,bï¼Œé—®äº¤æ¢ a ä¸­çš„æŸäº›ä½æ•°çš„æ•°ï¼Œä½¿å¾— a|bï¼ˆæŒ‰ä½æˆ–ï¼‰çš„ç»“æœä¸åŒï¼Œæ±‚æœ‰å¤šå°‘ç§ä¸åŒçš„æˆ–å€¼ã€‚ a,b ä¸Šä¸‹å¯¹åº”çš„æƒ…å†µï¼ša/b ä¸ªæ•° 1/0 m 0/0 n 1/1 x 0/1 y ç”¨ç»„åˆæ•°å­¦çš„æ€æƒ³æ¥æƒ³ï¼š åªè¦çœ‹ b ä¸º 0 çš„ä½å°±è¡Œäº†ï¼Œå¦‚æœ 0/0,a åªèƒ½æ¢ 1 çš„ä½ç½®ï¼Œä¸ºäº†é¿å…é‡å¤ï¼Œæ‰€ä»¥è¿™é‡Œæ€»æ•°ä¸ºn*x, å†è€ƒè™‘ 1/0 çš„æƒ…å†µï¼Œåªèƒ½å’Œ 0 çš„ä½ç½®æ¢ï¼Œè¿™æ˜¯åå¯ä»¥æŠŠ 0/0 æ²¡ç®—çš„éƒ½ç®—ä¸Šï¼Œæ‰€ä»¥æ€»æ•°m*(n+y) æ‰€ä»¥æœ€åæ€»æ•°ä¸ºsum=n*x+m*(n+y) #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ long long n,m,x,y,t; n=m=x=y=0; char a[100005],b[100005]; cin\u003e\u003et; cin\u003e\u003ea\u003e\u003eb; for(int i=0;i\u003ct;i++){ int p=a[i]-'0'; int q=b[i]-'0'; if(p==0\u0026\u0026q==0) n++; if(p==1\u0026\u0026q==0) m++; if(p==1\u0026\u0026q==1) x++; if(p==0\u0026\u0026q==1) y++; } long long sum=n*x+m*(y+n); cout\u003c\u003csum\u003c\u003cendl; return 0; } ","date":"2018-08-09","objectID":"/posts/cfcontest1017/:0:2","tags":["ACM","Codeforces","ç»„åˆæ•°å­¦","C++"],"title":"Codeforces Round 502(Div.1 + Div.2)","uri":"/posts/cfcontest1017/"},{"categories":["ACM"],"content":"æ¬§æ‹‰å‡½æ•°æ˜¯æ±‚å°äº x å¹¶ä¸”å’Œ xäº’è´¨ çš„æ•°çš„ä¸ªæ•° é€šå¼ï¼šÏ†(x)=x(1-1/p1)(1-1/p2)(1-1/p3)(1-1/p4)â€¦..(1-1/pn) å…¶ä¸­ p1, p2â€¦â€¦pn ä¸º x çš„æ‰€æœ‰è´¨å› æ•°ï¼Œx æ˜¯ä¸ä¸º 0 çš„æ•´æ•° Ï†(1)=1ï¼ˆå”¯ä¸€å’Œ 1 äº’è´¨çš„æ•°å°±æ˜¯ 1 æœ¬èº«ï¼‰ã€æ³¨æ„ï¼šæ¯ç§è´¨å› æ•°åªä¸€ä¸ªã€‚æ¯”å¦‚ 12=223ã€‘ ","date":"2018-08-08","objectID":"/posts/euler/:0:1","tags":["æ•°å­¦","æ•°è®º","euler","C"],"title":"æ¬§æ‹‰å‡½æ•°","uri":"/posts/euler/"},{"categories":["ACM"],"content":"å®šç†ï¼š è‹¥ n æ˜¯ç´ æ•° p çš„ k æ¬¡å¹‚ï¼ŒÏ†(n)=p^k-p^(k-1)=(p-1)p^(k-1)ï¼Œå› ä¸ºé™¤äº† p çš„å€æ•°å¤–ï¼Œå…¶ä»–æ•°éƒ½è·Ÿ n äº’è´¨ æ¬§æ‹‰å‡½æ•°æ˜¯ç§¯æ€§å‡½æ•°â€”â€”è‹¥ m,n äº’è´¨ï¼ŒÏ†(mn)=Ï†(m)Ï†(n) ","date":"2018-08-08","objectID":"/posts/euler/:0:2","tags":["æ•°å­¦","æ•°è®º","euler","C"],"title":"æ¬§æ‹‰å‡½æ•°","uri":"/posts/euler/"},{"categories":["ACM"],"content":"ç‰¹æ®Šæ€§è´¨ï¼š å½“ n ä¸ºå¥‡æ•°æ—¶ï¼ŒÏ†(2n)=Ï†(n) p æ˜¯ç´ æ•°ï¼ŒÏ†(p) = p - 1ï¼ŒÏ†(p) ç§°ä¸º p çš„æ¬§æ‹‰å€¼ è‹¥ a ä¸ºç´ æ•°ï¼Œb mod a=0,Ï†(a*b)=Ï†(b)*a ","date":"2018-08-08","objectID":"/posts/euler/:0:3","tags":["æ•°å­¦","æ•°è®º","euler","C"],"title":"æ¬§æ‹‰å‡½æ•°","uri":"/posts/euler/"},{"categories":["ACM"],"content":"æ¨¡æ¿ //ç›´æ¥æ³• int Euler(int n){ int res = n,i; //ç”±äºä»»ä½•ä¸€ä¸ªåˆæ•°éƒ½è‡³å°‘æœ‰ä¸€ä¸ªä¸å¤§äºæ ¹å· n çš„ç´ å› å­ï¼Œæ‰€ä»¥åªè¦éå†åˆ°æ ¹å· n å³å¯ for(i=2;i * i \u003c= n;i++) if(n%i == 0){ //ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„å¿…ä¸ºç´ å› å­ n /=i ; res = res - res/i; //x(1-1/p1) while(n % i ==0) n/=i; //å°†è¯¥ç´ å› å­çš„å€æ•°ä¹Ÿå…¨éƒ¨ç­›æ‰ } if (n \u003e 1) res = res - res/n; return res; } ä»¥ä¸Šè½¬è½½æ³¨æ˜ //ç´ æ•°ç­›é€‰æ³•ï¼Œå…ˆç´ æ•°ç­›é€‰ï¼Œå†æ±‚æ¬§æ‹‰ /* ç‰¹æ€§ : 1. è‹¥ a ä¸ºè´¨æ•°ï¼Œphi[a]=a-1; 2. è‹¥ a ä¸ºè´¨æ•°ï¼Œb mod a=0,phi[a*b]=phi[b]*a 3. è‹¥ a,b äº’è´¨ï¼Œphi[a*b]=phi[a]*phi[b](å½“ a ä¸ºè´¨æ•°æ—¶ï¼Œif b mod a!=0 ,phi[a*b]=phi[a]*phi[b]) */ int m[n],phi[n],p[n],nump; //m[i] æ ‡è®° i æ˜¯å¦ä¸ºç´ æ•°ï¼Œ0 ä¸ºç´ æ•°ï¼Œ1 ä¸ä¸ºç´ æ•°ï¼›p æ˜¯å­˜æ”¾ç´ æ•°çš„æ•°ç»„ï¼›nump æ˜¯å½“å‰ç´ æ•°ä¸ªæ•°ï¼›phi[i] ä¸ºæ¬§æ‹‰å‡½æ•° int make() { phi[1]=1; for (int i=2;i\u003c=n;i++) { if (!m[i])//i ä¸ºç´ æ•°ï¼Œm[] åˆå§‹åŒ–ä¸º 0 { p[++nump]=i;//å°† i åŠ å…¥ç´ æ•°æ•°ç»„ p ä¸­ phi[i]=i-1;//å› ä¸º i æ˜¯ç´ æ•°ï¼Œç”±ç‰¹æ€§å¾—çŸ¥ } for (int j=1;j\u003c=nump\u0026\u0026p[j]*i\u003cn;j++) //ç”¨å½“å‰å·²çš„åˆ°çš„ç´ æ•°æ•°ç»„ p ç­›ï¼Œç­›å» p[j]*i { m[p[j]*i]=1;//å¯ä»¥ç¡®å®š i*p[j] ä¸æ˜¯ç´ æ•° if (i%p[j]==0) //çœ‹ p[j] æ˜¯å¦æ˜¯ i çš„çº¦æ•°ï¼Œå› ä¸ºç´ æ•° p[j], ç­‰äºåˆ¤æ–­ i å’Œ p[j] æ˜¯å¦äº’è´¨ { phi[p[j]*i]=phi[i]*p[j]; //ç‰¹æ€§ 2 break; } else phi[p[j]*i]=phi[i]*(p[j]-1); //äº’è´¨ï¼Œç‰¹æ€§ 3,p[j]-1 å°±æ˜¯ phi[p[j]] } } } é™„ç´ æ•°æ‰“è¡¨ int p[N]={1,1,0}; void prime(){ for(int i=2;i\u003cN;i++) if(!p[i]){ for(int j=2*i;j\u003c=N;j+=i)//ç­›æ‰ i çš„å€æ•° p[j]=1; } } ","date":"2018-08-08","objectID":"/posts/euler/:0:4","tags":["æ•°å­¦","æ•°è®º","euler","C"],"title":"æ¬§æ‹‰å‡½æ•°","uri":"/posts/euler/"},{"categories":["ACM"],"content":"ä¾‹é¢˜ Bi-shoe and Phi-shoe LightOJ - 1370 é¢˜æ„ï¼š ç»™ä¸€äº›æ•° Aiï¼ˆç¬¬ i ä¸ªæ•°ï¼‰ï¼ŒAi è¿™äº›æ•°ä»£è¡¨çš„æ˜¯æŸä¸ªæ•°æ¬§æ‹‰å‡½æ•°çš„å€¼ï¼Œæˆ‘ä»¬è¦æ±‚å‡ºæ•° Ni çš„æ¬§æ‹‰å‡½æ•°å€¼ä¸å°äº Aiã€‚è€Œæˆ‘ä»¬è¦æ±‚çš„å°±æ˜¯è¿™äº› Ni è¿™äº›æ•°å­—çš„å’Œ sumï¼Œè€Œä¸”æˆ‘ä»¬æƒ³è¦ sum æœ€å°ï¼Œæ±‚å‡º sum æœ€å°å¤šå°‘ã€‚ è§£é¢˜æ€è·¯ï¼š è¦æ±‚å’Œæœ€å°ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¯ä¸ªæ•°éƒ½å°½é‡å°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€åå¾—åˆ°çš„è‚¯å®šå°±æ˜¯ä¸€ä¸ªæœ€å°å€¼ã€‚ ç»™å®šä¸€ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°å€¼ Ïˆ(N)ï¼Œæˆ‘ä»¬æ€ä¹ˆæ ·æ‰èƒ½æ±‚å¾—æœ€å°çš„ N? æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªç´ æ•° P çš„æ¬§æ‹‰å‡½æ•°å€¼ Ïˆ(P)=P-1ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬çŸ¥é“ Ïˆ(N)ï¼Œé‚£ä¹ˆæœ€å°çš„ N å°±æ˜¯æœ€æ¥è¿‘ Ïˆ(N)ï¼Œå¹¶ä¸”å¤§äº Ïˆ(N) çš„ç´ æ•°ã€‚æˆ‘ä»¬æŠŠæ‰€æœ‰ç´ æ•°æ‰“è¡¨ä¹‹åå†åˆ¤æ–­å°±å¯ä»¥äº†ã€‚ è¿™ä¸ª lightoj æœ‰æ¯’ï¼Œä»€ä¹ˆå¤´æ–‡ä»¶éƒ½ä¸æ”¯æŒï¼Œå¡äº†æˆ‘å¥½ä¹…ã€‚ #include\u003cstdio.h\u003e #define N 1000005 #define ll long long int m[N]={1,1,0}; int p[100000],cnt=0; int max(int x,int y){ return x\u003ey?x:y; } void prime(){ for(int i=2;i\u003cN;i++) if(!m[i]){ for(int j=2*i;j\u003c=N;j+=i) m[j]=1; p[cnt++]=i; } } int binary_search(int x){//äºŒåˆ†æŸ¥æ‰¾ int l=0,r=cnt; while(l\u003c=r){ int mid=(l+r)/2; if(p[mid]\u003ex) r=mid-1; else l=mid+1; } for(int i=max(r,0);;i++) if(p[i]\u003ex) return p[i]; } int main(){ prime(); int T,n,cas=1,temp; scanf(\"%d\",\u0026T); while(T--){ scanf(\"%d\",\u0026n); ll sum=0; for(int i=0;i\u003cn;i++){ scanf(\"%d\",\u0026temp); sum+=binary_search(temp); } printf(\"Case %d: %lld Xukha\\n\",cas++,sum); } return 0; } ","date":"2018-08-08","objectID":"/posts/euler/:0:5","tags":["æ•°å­¦","æ•°è®º","euler","C"],"title":"æ¬§æ‹‰å‡½æ•°","uri":"/posts/euler/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥](http://poj.org/problem?id=1797) å¤§æ„ï¼š è¦ä»åŸå¸‚ 1 åˆ°åŸå¸‚ N è¿é€è´§ç‰©ï¼Œæœ‰ M æ¡é“è·¯ï¼Œæ¯æ¡é“è·¯éƒ½æœ‰å®ƒçš„æœ€å¤§è½½é‡é‡ï¼Œé—®ä»åŸå¸‚ 1 åˆ°åŸå¸‚ N è¿é€æœ€å¤šçš„é‡é‡æ˜¯å¤šå°‘ã€‚ å…¶å®é¢˜æ„å¾ˆç®€å•ï¼Œå°±æ˜¯æ‰¾ä¸€æ¡ 1â€“\u003eN çš„è·¯å¾„ï¼Œåœ¨ä¸è¶…è¿‡æ¯æ¡è·¯å¾„çš„æœ€å¤§è½½é‡é‡çš„æƒ…å†µä¸‹ï¼Œä½¿å¾—è¿é€çš„è´§ç‰©æœ€å¤šã€‚ä¸€æ¡è·¯å¾„ä¸Šçš„æœ€å¤§è½½é‡é‡ä¸ºè¿™ä¸ªè·¯å¾„ä¸Šæƒå€¼æœ€å°çš„è¾¹ï¼› //dijkstra #include\u003ciostream\u003e #include\u003ccstdio\u003e #define min(a,b) (a\u003cb?a:b) using namespace std; int n,m,v[1010],maps[1010][1010],d[1010];//æ­¤æ—¶ d è¡¨ç¤º 1 åˆ°æ¯ä¸€ä¸ªç‚¹çš„èƒ½é€šè¿‡çš„æœ€å¤§çš„é‡é‡ int dijkstra(){ int i,j,k; for(i=1;i\u003c=n;i++){ v[i]=0; d[i]=maps[1][i];//è¿™ä¸ªæ—¶å€™ d ä¸ä»£è¡¨æœ€çŸ­è·¯å¾„ï¼Œè€Œæ˜¯ä» 1 åˆ° n çš„æœ€å¤§æ‰¿è½½é‡ } for(i=1;i\u003c=n;i++){//n ä¸ªç‚¹ int f=-1; for(j=1;j\u003c=n;j++) if(!v[j]\u0026\u0026d[j]\u003ef){ f=d[j]; k=j; } v[k]=1; for(j=1;j\u003c=n;j++) if(!v[j]\u0026\u0026d[j]\u003cmin(d[k],maps[k][j]))//æ›´æ–°è¯´æ˜è§å›¾è§£ d[j]=min(d[k],maps[k][j]); } return d[n]; } int main(){ int ans=1; int a,b,w; int T; scanf(\"%d\",\u0026T); while(T--){ for(int i=0;i\u003c=n;i++) for(int j=0;j\u003c=n;j++) maps[i][j]=0; scanf(\"%d%d\",\u0026n,\u0026m); for(int i=1;i\u003c=m;i++){ scanf(\"%d%d%d\",\u0026a,\u0026b,\u0026w); maps[a][b]=maps[b][a]=w; } printf(\"Scenario #%d:\\n%d\\n\\n\",ans++,dijkstra()); } return 0; } ","date":"2018-08-06","objectID":"/posts/poj1797/:0:0","tags":["ACM","POJ","æœ€çŸ­è·¯","C++"],"title":"Heavy Transportation-poj1797(dijkstra æˆ–æœ€å¤§ç”Ÿæˆæ ‘ï¼‰","uri":"/posts/poj1797/"},{"categories":["JavaScript"],"content":"çœ‹åˆ°çŸ¥ä¹ï¼Œç™¾åº¦çš„é¡µé¢ F12 æ£€æŸ¥åéƒ½ä¼šæœ‰ä¸€äº›æœ‰è¶£çš„æ‹›è˜ä¿¡æ¯ã€‚äºæ˜¯ä¹æˆ‘ä¹Ÿæƒ³ç»™æˆ‘çš„åšå®¢åŠ ä¸€ä¸ªã€‚ æˆ‘ä¸»è¦ç”¨åˆ°çš„å·¥å…·ï¼š console.log() Notepad++ åœ¨çº¿å›¾ç‰‡è½¬æ–‡å­—å·¥å…· ","date":"2018-08-04","objectID":"/posts/console-log/:0:0","tags":["hexo","JavaScript"],"title":"hexo åšå®¢è‡ªå®šä¹‰ console log","uri":"/posts/console-log/"},{"categories":["JavaScript"],"content":"ç”¨æ³• ç”¨ js åœ¨\u003cbody\u003e\u003c/body\u003eä½¿ç”¨ console.log() å°±è¡Œäº†ï¼Œhexo çš„ä¸»é¢˜æ–‡ä»¶åœ¨_layout.swigé‡Œï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œåœ¨è¯¥ä½ç½®ï¼Œæ·»åŠ  js å°±è¡Œäº†ï¼› ","date":"2018-08-04","objectID":"/posts/console-log/:1:0","tags":["hexo","JavaScript"],"title":"hexo åšå®¢è‡ªå®šä¹‰ console log","uri":"/posts/console-log/"},{"categories":["JavaScript"],"content":"å›¾æ¡ˆ æˆ‘ç”¨çš„æˆ‘è‡ªå·±çš„ä¸€å¼ ç…§ç‰‡ï¼ˆç”µè„‘ä¸Šç…§ç‰‡å°±é‚£ä¹ˆå‡ å¼ ã€‚)ï¼Œç„¶åç”¨ åœ¨çº¿å›¾ç‰‡è½¬æ–‡å­—å·¥å…· è½¬å­—ç¬¦ï¼Œ é€‰æ‹©æ–‡ä»¶ï¼Œè®¾ç½®å¤§å°ï¼Œç„¶åç”Ÿæˆï¼Œ ç”Ÿæˆåï¼Œå¤åˆ¶ TXT æ–‡ä»¶ï¼ˆä¸‹é¢é‚£ä¸ªæ¡†ï¼Œä¸Šé¢çš„æ˜¯ HTML ä»£ç ï¼‰ ç²˜è´´åˆ° Notepad++ é‡Œé¢ï¼Œç„¶åæŒ‰å›¾æ“ä½œï¼› Ctrl+H æ›¿æ¢ æœ€åå°±å˜æˆä¸€ä¸ªå­—ç¬¦ä¸²äº†ã€‚ ","date":"2018-08-04","objectID":"/posts/console-log/:2:0","tags":["hexo","JavaScript"],"title":"hexo åšå®¢è‡ªå®šä¹‰ console log","uri":"/posts/console-log/"},{"categories":["JavaScript"],"content":"æ•ˆæœå›¾ çº¿ä¸Š demo, æŒ‰ F12 æ‰¾åˆ° console ","date":"2018-08-04","objectID":"/posts/console-log/:3:0","tags":["hexo","JavaScript"],"title":"hexo åšå®¢è‡ªå®šä¹‰ console log","uri":"/posts/console-log/"},{"categories":["JavaScript"],"content":"æˆ‘çš„ txt \\n` @@#``@@@@@@@@@@@@@@@@@@##,` \\n` @@#`;@@@@@@@@@@@@@@@@@@@':' \\n` @@#`@@@@@@@@@@@@@@@@@@@#+#;` \\n` @@#`@@@@@@@@@@@@@@@@@@###@'. \\n` @@+.@@@@@@@@@@@@@@@@@@@@@##, \\n` @@#,@@@@@@@@@@@@@@@@@@@@@@#, \\n` #@#:@@@@@@@@@@@@@@@@@@@@@@@, \\n` #@#'@@@@@@@@@@@@@@@@@@@@@@@. \\n` +@#;@@@@@@@@@@@@@@@@@@@@@@# \\n` `;: ;@#'@@@@@@@@@@@@@@@@@@+'+@' \\n` `,,;';'+';'@@+:@@@@@@@@@@@@##@#',.:#; \\n,, `` ``..,:;@@#'@@@@@@@@#####@@@@#:`:. \\n` `````:++@@@@@@@@@@@@@###@@@@#+,.. \\n ``````.#@@@@@@@@@@@@@@#@@@#++#'`` \\n` ```.,,:,.`:@@@@@@@@@@@@@###@@@##'.` \\n``..`````..,::;+@@@@@@@@@@@@#+`::+##'`. \\n` ````.```,@@@@@@@@@@@##;``.,';` ` \\n``.;@@@@@@@@@@@@@@@@@@@@@@###;``..`````` \\n#@@@@@@@@@@@@@@@@@@@@@@@@##@#;``,``,.`` \\n@@@@@@@@@@@@@@@@@@@.`````..``.. +` `:` \\n@+''++#####@@#`.@@@``````` ` `,``` `` \\n';;;;'+##+'+.`;+@@@,..```` `` :,. \\n;::,,:;+#++``,,#@@@'..``````` ,`.`` \\n;,,,,...'#.,,..#@@@#,,.`````` .```` \\n:,,,,....`,::;''+#@#;,..`````````.`` \\n:,,,.....'##++''';:+':,.`..,,...` \\n:,,,...#####+'+#@@@'.';+:. ` `` \\n;,,.`'####'#,`.`+@@@+'``` `.` \\n;,.`#@@@#+:'+++##+@##@,,,,` \\n',.#@@###'''';:,.```,+#. \\n+,#@@@####;,,..``````````````` `.:,::\\n+@@@@###+;,,..`````````````````` `.,\\n#@@@##+',,,........`````````````` \\n@@@@#+:,,,,`........`````````` \\n@@@#+:,,,,.`````.....`````````` `` \\n@@##':,......`````....``` ````` ```\\n@@@#':,....,..``````..```` ``` ```\\n@@@#',....,,,..``````````` ``` ..\\n@@@#,.....,,,,.`` ```````` `````` \\n@@@+....,,,,,..````````````` `````````` \\n@@@:....,,,,.LiRuihao```````` ```````````` \\n#@@,....,,,,.Always Be Yourself !````````````\\n,##,,...,::,.````````````..`````` `......``\\n,'#,,..,,:::.`````````........`````` `.,,..\\n\\n ä½ å¥½ï¼\\n æ¬¢è¿è¿›å…¥ä»€ä¹ˆéƒ½ä¸ä¼šçš„æç‘è±ªçš„ä¸ªäººç½‘ç«™ï¼\\nhttps://lruihao.cn\\nhttps://www.lruihao.cn\\nhttps://lruihao.github.io\\nhttps://liruihao.coding.me\\n\\n\\n\\n å…¶ä»–ä¸ªäººç½‘ç«™ï¼Œä¸ªäººåšå®¢ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ ","date":"2018-08-04","objectID":"/posts/console-log/:4:0","tags":["hexo","JavaScript"],"title":"hexo åšå®¢è‡ªå®šä¹‰ console log","uri":"/posts/console-log/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ é¢˜ç›®å¤§æ„ï¼š è¯´çš„æ˜¯ï¼Œä¸€åªå¥¶ç‰›ä½äº N å·èŠ‚ç‚¹ï¼Œè¾“å…¥ N ä¸ªèŠ‚ç‚¹å’Œ T å¯¹åŒå‘çš„è¾¹ï¼Œæ±‚å‡ºç”± N åˆ° 1 çš„æœ€çŸ­çš„è·ç¦»ï¼Œå…¶å®å°±æ˜¯é—®çš„å•æºæœ€çŸ­è·¯é—®é¢˜ã€‚ ä¸¤ä¸ªç‚¹å¯èƒ½æœ‰å¤šæ¡è·¯ï¼Œé€‰æ‹©æœ€çŸ­çš„ã€‚ #include\u003cstdio.h\u003e #include\u003cstring.h\u003e #include\u003calgorithm\u003e using namespace std; const int INF=99999999; //è®¾ä¸ºæ— ç©·å¤§ int maps[1005][1005],v[1005],d[1005]; //v è¡¨ç¤ºæ˜¯å¦å·²ç»è¿‡éå† d è¡¨ç¤ºä»æºåˆ°ç‚¹å½“å‰æœ€çŸ­è·¯ int n; void Dijkstra(int s,int t) { int i,j,k,mini; for(i=1;i\u003c=n;i++) d[i]=INF; //é™¤æºç‚¹è®¾ä¸º 0 è·ç¦»å¤– å…¶ä»–å…ˆè®¾ä¸ºæ— ç©·å¤§ d[s]=0; for(i=1;i\u003c=n;i++) //n ç‚¹å¾ªç¯ n æ¬¡ , æ‰¾å‡º n ä¸ª k, æ‰¾ n ä¸ªç‚¹ { mini=INF; k=-1; for(j=1;j\u003c=n;j++) //åœ¨æ‰€æœ‰æœªæ ‡è®°ç‚¹ä¸­ é€‰ d å€¼æœ€å°çš„ç‚¹ if(!v[j] \u0026\u0026 d[j]\u003cmini) mini=d[k=j]; v[k]=1; //æ ‡è®°èŠ‚ç‚¹ if(k==t) { printf(\"%d\\n\",d[t]); return; } for(j=1;j\u003c=n;j++) if(!v[j] \u0026\u0026 (d[k]+maps[k][j])\u003cd[j]) //è¡¨ç¤ºä» k å‡ºå‘çš„ç‚¹ï¼Œå¯¹äºæ‰€æœ‰è¾¹ï¼Œæ›´æ–°ç›¸è¿ç‚¹ d[j]=d[k]+maps[k][j]; } } int main() { int T,i,j,x,y,D; while(scanf(\"%d %d\",\u0026T,\u0026n)!=EOF) { memset(v,0,sizeof(v)); //æ¸…é™¤æ ‡è®° for(i=1;i\u003c=n;i++) for(j=1;j\u003c=n;j++) maps[i][j]=INF; for(i=1;i\u003c=T;i++){ scanf(\"%d%d%d\",\u0026x,\u0026y,\u0026D); if(maps[x][y]\u003eD) //å¯èƒ½æœ‰å¤šæ¡è·¯ï¼Œåªè®°å½•æœ€çŸ­çš„ maps[x][y]=D,maps[y][x]=D; } Dijkstra(1,n); } return 0; } ","date":"2018-08-03","objectID":"/posts/poj2387/:0:0","tags":["ACM","æœ€çŸ­è·¯","C++","C"],"title":"Til the Cows Come Home-poj2387(dijkstra åˆ¤æ–­é‡è¾¹ï¼‰","uri":"/posts/poj2387/"},{"categories":["ACM"],"content":"Dijkstra ç®—æ³• ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:1:0","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"1. å®šä¹‰æ¦‚è§ˆ Dijkstraï¼ˆè¿ªæ°æ–¯ç‰¹æ‹‰ï¼‰ç®—æ³•æ˜¯å…¸å‹çš„å•æºæœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªèŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ä¸»è¦ç‰¹ç‚¹æ˜¯ä»¥èµ·å§‹ç‚¹ä¸ºä¸­å¿ƒå‘å¤–å±‚å±‚æ‰©å±•ï¼Œç›´åˆ°æ‰©å±•åˆ°ç»ˆç‚¹ä¸ºæ­¢ã€‚Dijkstra ç®—æ³•æ˜¯å¾ˆæœ‰ä»£è¡¨æ€§çš„æœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œåœ¨å¾ˆå¤šä¸“ä¸šè¯¾ç¨‹ä¸­éƒ½ä½œä¸ºåŸºæœ¬å†…å®¹æœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œå¦‚æ•°æ®ç»“æ„ï¼Œå›¾è®ºï¼Œè¿ç­¹å­¦ç­‰ç­‰ã€‚æ³¨æ„è¯¥ç®—æ³•è¦æ±‚å›¾ä¸­ä¸å­˜åœ¨è´Ÿæƒè¾¹ã€‚ é—®é¢˜æè¿°ï¼šåœ¨æ— å‘å›¾ G=(V,E) ä¸­ï¼Œå‡è®¾æ¯æ¡è¾¹ E[i] çš„é•¿åº¦ä¸º w[i]ï¼Œæ‰¾åˆ°ç”±é¡¶ç‚¹ V0 åˆ°å…¶ä½™å„ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ï¼ˆå•æºæœ€çŸ­è·¯å¾„ï¼‰ ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:1:1","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"2. ç®—æ³•æè¿° 1) ç®—æ³•æ€æƒ³ï¼š è®¾ G=(V,E) æ˜¯ä¸€ä¸ªå¸¦æƒæœ‰å‘å›¾ï¼ŒæŠŠå›¾ä¸­é¡¶ç‚¹é›†åˆ V åˆ†æˆä¸¤ç»„ï¼Œç¬¬ä¸€ç»„ä¸ºå·²æ±‚å‡ºæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹é›†åˆï¼ˆç”¨ S è¡¨ç¤ºï¼Œåˆå§‹æ—¶ S ä¸­åªæœ‰ä¸€ä¸ªæºç‚¹ï¼Œä»¥åæ¯æ±‚å¾—ä¸€æ¡æœ€çŸ­è·¯å¾„ , å°±å°†åŠ å…¥åˆ°é›†åˆ S ä¸­ï¼Œç›´åˆ°å…¨éƒ¨é¡¶ç‚¹éƒ½åŠ å…¥åˆ° S ä¸­ï¼Œç®—æ³•å°±ç»“æŸäº†ï¼‰ï¼Œç¬¬äºŒç»„ä¸ºå…¶ä½™æœªç¡®å®šæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹é›†åˆï¼ˆç”¨ U è¡¨ç¤ºï¼‰ï¼ŒæŒ‰æœ€çŸ­è·¯å¾„é•¿åº¦çš„é€’å¢æ¬¡åºä¾æ¬¡æŠŠç¬¬äºŒç»„çš„é¡¶ç‚¹åŠ å…¥ S ä¸­ã€‚åœ¨åŠ å…¥çš„è¿‡ç¨‹ä¸­ï¼Œæ€»ä¿æŒä»æºç‚¹ v åˆ° S ä¸­å„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¸å¤§äºä»æºç‚¹ v åˆ° U ä¸­ä»»ä½•é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªé¡¶ç‚¹å¯¹åº”ä¸€ä¸ªè·ç¦»ï¼ŒS ä¸­çš„é¡¶ç‚¹çš„è·ç¦»å°±æ˜¯ä» v åˆ°æ­¤é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼ŒU ä¸­çš„é¡¶ç‚¹çš„è·ç¦»ï¼Œæ˜¯ä» v åˆ°æ­¤é¡¶ç‚¹åªåŒ…æ‹¬ S ä¸­çš„é¡¶ç‚¹ä¸ºä¸­é—´é¡¶ç‚¹çš„å½“å‰æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚ 2) ç®—æ³•æ­¥éª¤ï¼š a. åˆå§‹æ—¶ï¼ŒS åªåŒ…å«æºç‚¹ï¼Œå³ S ï¼{v}ï¼Œv çš„è·ç¦»ä¸º 0ã€‚U åŒ…å«é™¤ v å¤–çš„å…¶ä»–é¡¶ç‚¹ï¼Œå³ï¼šU={å…¶ä½™é¡¶ç‚¹}ï¼Œè‹¥ v ä¸ U ä¸­é¡¶ç‚¹ u æœ‰è¾¹ï¼Œåˆ™\u003cu,v\u003eæ­£å¸¸æœ‰æƒå€¼ï¼Œè‹¥ u ä¸æ˜¯ v çš„å‡ºè¾¹é‚»æ¥ç‚¹ï¼Œåˆ™\u003cu,v\u003eæƒå€¼ä¸º âˆã€‚ b. ä» U ä¸­é€‰å–ä¸€ä¸ªè·ç¦» v æœ€å°çš„é¡¶ç‚¹ kï¼ŒæŠŠ kï¼ŒåŠ å…¥ S ä¸­ï¼ˆè¯¥é€‰å®šçš„è·ç¦»å°±æ˜¯ v åˆ° k çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼‰ã€‚ c. ä»¥ k ä¸ºæ–°è€ƒè™‘çš„ä¸­é—´ç‚¹ï¼Œä¿®æ”¹ U ä¸­å„é¡¶ç‚¹çš„è·ç¦»ï¼›è‹¥ä»æºç‚¹ v åˆ°é¡¶ç‚¹ u çš„è·ç¦»ï¼ˆç»è¿‡é¡¶ç‚¹ kï¼‰æ¯”åŸæ¥è·ç¦»ï¼ˆä¸ç»è¿‡é¡¶ç‚¹ kï¼‰çŸ­ï¼Œåˆ™ä¿®æ”¹é¡¶ç‚¹ u çš„è·ç¦»å€¼ï¼Œä¿®æ”¹åçš„è·ç¦»å€¼çš„é¡¶ç‚¹ k çš„è·ç¦»åŠ ä¸Šè¾¹ä¸Šçš„æƒã€‚ d. é‡å¤æ­¥éª¤ b å’Œ c ç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½åŒ…å«åœ¨ S ä¸­ã€‚ æ‰§è¡ŒåŠ¨ç”»è¿‡ç¨‹å¦‚ä¸‹å›¾ ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:1:2","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"spfa ç®—æ³• spfa æ˜¯ä¸€ç§æ±‚å•æºæœ€çŸ­è·¯çš„ç®—æ³• ç®—æ³•ä¸­éœ€è¦ç”¨åˆ°çš„ä¸»è¦å˜é‡ int n; //è¡¨ç¤º n ä¸ªç‚¹ï¼Œä» 1 åˆ° n æ ‡å· int s,t; //s ä¸ºæºç‚¹ï¼Œt ä¸ºç»ˆç‚¹ int d[N]; //d[i] è¡¨ç¤ºæºç‚¹ s åˆ°ç‚¹ i çš„æœ€çŸ­è·¯ int p[N]; //è®°å½•è·¯å¾„ï¼ˆæˆ–è€…è¯´è®°å½•å‰é©±ï¼‰ queue q; //ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç”¨ STL å®ç°ï¼Œå½“ç„¶å¯æœ‰æ‰‹æ‰“é˜Ÿåˆ—ï¼Œæ— æ‰€è°“ bool vis[N]; //vis[i]=1 è¡¨ç¤ºç‚¹ i åœ¨é˜Ÿåˆ—ä¸­ vis[i]=0 è¡¨ç¤ºä¸åœ¨é˜Ÿåˆ—ä¸­ ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:2:0","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"å‡ ä¹æ‰€æœ‰çš„æœ€çŸ­è·¯ç®—æ³•å…¶æ­¥éª¤éƒ½å¯ä»¥åˆ†ä¸ºä¸¤æ­¥ åˆå§‹åŒ– æ¾å¼›æ“ä½œ ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:3:0","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"åˆå§‹åŒ–ï¼š d æ•°ç»„å…¨éƒ¨èµ‹å€¼ä¸º INFï¼ˆæ— ç©·å¤§ï¼‰ï¼›p æ•°ç»„å…¨éƒ¨èµ‹å€¼ä¸º sï¼ˆå³æºç‚¹ï¼‰ï¼Œæˆ–è€…èµ‹å€¼ä¸º-1ï¼Œè¡¨ç¤ºè¿˜æ²¡æœ‰çŸ¥é“å‰é©±ï¼Œç„¶å d[s]=0; è¡¨ç¤ºæºç‚¹ä¸ç”¨æ±‚æœ€çŸ­è·¯å¾„ï¼Œæˆ–è€…è¯´æœ€çŸ­è·¯å°±æ˜¯ 0ã€‚å°†æºç‚¹å…¥é˜Ÿï¼› ï¼ˆå¦å¤–è®°ä½åœ¨æ•´ä¸ªç®—æ³•ä¸­æœ‰é¡¶ç‚¹å…¥é˜Ÿäº†è¦è®°å¾—æ ‡è®° vis æ•°ç»„ï¼Œæœ‰é¡¶ç‚¹å‡ºé˜Ÿäº†è®°å¾—æ¶ˆé™¤é‚£ä¸ªæ ‡è®°ï¼‰ ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:3:1","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"é˜Ÿåˆ—+æ¾å¼›æ“ä½œ è¯»å–é˜Ÿå¤´é¡¶ç‚¹ uï¼Œå¹¶å°†é˜Ÿå¤´é¡¶ç‚¹ u å‡ºé˜Ÿï¼ˆè®°å¾—æ¶ˆé™¤æ ‡è®°ï¼‰ï¼›å°†ä¸ç‚¹ u ç›¸è¿çš„æ‰€æœ‰ç‚¹ v è¿›è¡Œæ¾å¼›æ“ä½œï¼Œå¦‚æœèƒ½æ›´æ–°ä¼°è®¡å€¼ï¼ˆå³ä»¤ d[v] å˜å°ï¼‰ï¼Œé‚£ä¹ˆå°±æ›´æ–°ï¼Œå¦å¤–ï¼Œå¦‚æœç‚¹ v æ²¡æœ‰åœ¨é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆè¦å°†ç‚¹ v å…¥é˜Ÿï¼ˆè®°å¾—æ ‡è®°ï¼‰ï¼Œå¦‚æœå·²ç»åœ¨é˜Ÿåˆ—ä¸­äº†ï¼Œé‚£ä¹ˆå°±ä¸ç”¨å…¥é˜Ÿ ä»¥æ­¤å¾ªç¯ï¼Œç›´åˆ°é˜Ÿç©ºä¸ºæ­¢å°±å®Œæˆäº†å•æºæœ€çŸ­è·¯çš„æ±‚è§£ ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:3:2","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"SPFA å¯ä»¥å¤„ç†è´Ÿæƒè¾¹ å®šç†ï¼šåªè¦æœ€çŸ­è·¯å¾„å­˜åœ¨ï¼Œä¸Šè¿° SPFA ç®—æ³•å¿…å®šèƒ½æ±‚å‡ºæœ€å°å€¼ã€‚ è¯æ˜ï¼š æ¯æ¬¡å°†ç‚¹æ”¾å…¥é˜Ÿå°¾ï¼Œéƒ½æ˜¯ç»è¿‡æ¾å¼›æ“ä½œè¾¾åˆ°çš„ã€‚æ¢è¨€ä¹‹ï¼Œæ¯æ¬¡çš„ä¼˜åŒ–å°†ä¼šæœ‰æŸä¸ªç‚¹ v çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼ d[v] å˜å°ã€‚æ‰€ä»¥ç®—æ³•çš„æ‰§è¡Œä¼šä½¿ d è¶Šæ¥è¶Šå°ã€‚ç”±äºæˆ‘ä»¬å‡å®šå›¾ä¸­ä¸å­˜åœ¨è´Ÿæƒå›è·¯ï¼Œæ‰€ä»¥æ¯ä¸ªç»“ç‚¹éƒ½æœ‰æœ€çŸ­è·¯å¾„å€¼ã€‚å› æ­¤ï¼Œç®—æ³•ä¸ä¼šæ— é™æ‰§è¡Œä¸‹å»ï¼Œéšç€ d å€¼çš„é€æ¸å˜å°ï¼Œç›´åˆ°åˆ°è¾¾æœ€çŸ­è·¯å¾„å€¼æ—¶ï¼Œç®—æ³•ç»“æŸï¼Œè¿™æ—¶çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼å°±æ˜¯å¯¹åº”ç»“ç‚¹çš„æœ€çŸ­è·¯å¾„å€¼ã€‚ï¼ˆè¯æ¯•ï¼‰ æœŸæœ›çš„æ—¶é—´å¤æ‚åº¦ O(ke)ï¼Œ å…¶ä¸­ k ä¸ºæ‰€æœ‰é¡¶ç‚¹è¿›é˜Ÿçš„å¹³å‡æ¬¡æ•°ï¼Œå¯ä»¥è¯æ˜ k ä¸€èˆ¬å°äºç­‰äº 2ã€‚ åˆ¤æ–­æœ‰æ— è´Ÿç¯ï¼š å¦‚æœæŸä¸ªç‚¹è¿›å…¥é˜Ÿåˆ—çš„æ¬¡æ•°è¶…è¿‡ N æ¬¡åˆ™å­˜åœ¨è´Ÿç¯ï¼ˆSPFA æ— æ³•å¤„ç†å¸¦è´Ÿç¯çš„å›¾ï¼‰ ä»£ç  ","date":"2018-08-03","objectID":"/posts/zuiduanlu/:4:0","tags":["æœ€çŸ­è·¯","ACM"],"title":"æœ€çŸ­è·¯å…¥é—¨","uri":"/posts/zuiduanlu/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ å¯†ç ï¼šl9sn ç»ˆäºä¸çˆ†é›¶äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ wa äº†æ— æ•°æ¬¡ï¼Œæœ‰æ—¶å€™ä»£ç æ„Ÿè§‰éƒ½å·®ä¸å¤š ","date":"2018-08-02","objectID":"/posts/nowcodersummer-5th/:0:0","tags":["Nowcoder","ACM","C++"],"title":"ç‰›å®¢æš‘å‡å¤šæ ¡ç¬¬äº”åœº","uri":"/posts/nowcodersummer-5th/"},{"categories":["ACM"],"content":"G-max /* //wa #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ int n,c;//å¥½åƒä¸ä¼šçˆ† int å§ï¼Œå¤´æ™• cin\u003e\u003ec\u003e\u003en; int t=n/c; if(t\u003c1) cout\u003c\u003c\"-1\\n\";// else if(t==1) cout\u003c\u003cc*c\u003c\u003cendl; else cout\u003c\u003c(t*c)*((t-1)*c)\u003c\u003cendl; return 0; }*/ //AC #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ long long n,c; cin\u003e\u003ec\u003e\u003en; long long t=n/c; if(t\u003c1) cout\u003c\u003c-1\u003c\u003cendl; else if(t==1) cout\u003c\u003cc*c\u003c\u003cendl; else cout\u003c\u003c(t*c)*((t-1)*c)\u003c\u003cendl; return 0; } ","date":"2018-08-02","objectID":"/posts/nowcodersummer-5th/:1:0","tags":["Nowcoder","ACM","C++"],"title":"ç‰›å®¢æš‘å‡å¤šæ ¡ç¬¬äº”åœº","uri":"/posts/nowcodersummer-5th/"},{"categories":["ACM"],"content":"J-plan /*æšä¸¾æ‰€æœ‰æƒ…å†µ å…¨ä¹°åŒäºº n%2 0 or 1//å‰© 1 ä¸ªäººçš„æ—¶å€™ï¼Œå¯ä»¥å¤šå¼€ä¸€é—´æˆ¿æˆ–è€…é€€ä¸€é—´ 2 äººæˆ¿å¼€ä¸€é—´ 3 äººæˆ¿ å…¨ä¹° 3 äºº n%3 0 or 1 or 2 å†æ¯”è¾ƒå¤§å° */ #include\u003cbits/stdc++.h\u003e #define INF 1\u003c\u003c20 using namespace std; typedef long long ll; ll min(ll a,ll b){ return a\u003cb?a:b; } int main(){ ll n,p2,p3,sum,sum1; while(cin\u003e\u003en\u003e\u003ep2\u003e\u003ep3){ if(n%2==0) sum=p2*(n/2); else sum=p2*(n/2)+min(min(p2,p3),p3-p2);//é€€äºŒä¹°ä¸‰ï¼› if(n%3==0) sum1=p3*(n/3); else if(n%3==1) sum1=p3*(n/3)+min(min(p2,p3),2*p2-p3);//é€€ 3 ä¹° 2*2 else if(n%3==2) sum1=p3*(n/3)+min(p3,p2);//é€€ 3 ä¹° 3*2 cout\u003c\u003cmin(sum1,sum)\u003c\u003cendl; } return 0; } ","date":"2018-08-02","objectID":"/posts/nowcodersummer-5th/:2:0","tags":["Nowcoder","ACM","C++"],"title":"ç‰›å®¢æš‘å‡å¤šæ ¡ç¬¬äº”åœº","uri":"/posts/nowcodersummer-5th/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ æ€è·¯å‚è€ƒ 1,æ€è·¯å‚è€ƒ 2ï¼ˆæ²¡çœ‹æ‡‚ï¼‰ å…ˆå å‘ï¼Œæœ‰æ—¶é—´å†ç†ç†æ€è·¯ã€‚ åŒä¸€æ£µæ ‘ä¸­ d=1, å³ x å’Œ y æ˜¯åŒç±»ï¼Œåˆ™éœ€æ»¡è¶³ r[x]==r[y] d=2,x åº”è¯¥åƒäº† y, ä¹Ÿå°±æ˜¯ (r[x]+1)%3 == r[y] ä¸åŒæ ‘åˆå¹¶ä¸”æ›´æ–°å…³ç³» (x æ ‘åšä¸»æ ¹) â€™ å¦‚æœ x å’Œ y ä¸ºå…³ç³» r1, y å’Œ z ä¸ºå…³ç³» r2ï¼Œ é‚£ä¹ˆ x å’Œ z çš„å…³ç³»å°±æ˜¯ï¼ˆr1+r2ï¼‰%3 å¦‚æœ d==1 åˆ™ x å’Œ y æ˜¯åŒç±» ï¼Œé‚£ä¹ˆ y å¯¹ x çš„å…³ç³»æ˜¯ 0, å¦‚æœ d==2 , åˆ™ x åƒäº† y, é‚£ä¹ˆ y å¯¹ x çš„å…³ç³»æ˜¯ 1, x å¯¹ y çš„å…³ç³»æ˜¯ 2ã€‚ç»¼ä¸Šæ‰€è¿° , æ— è®º d ä¸º 1 æˆ–è€…æ˜¯ä¸º 2, y å¯¹ x çš„å…³ç³»éƒ½æ˜¯ d-1ã€‚ fy å¯¹ y çš„å…³ç³»ä¸º 3-r[y] ï¼ˆæœ‰ç‚¹äº’è¡¥çš„æ„Ÿè§‰ï¼Œæ³¨æ„è¿™é‡Œæ˜¯ä¸åŒç±»å–”ï¼‰ y å¯¹ x çš„å…³ç³»ä¸º d-1, x å¯¹ fx çš„å…³ç³»ä¸º r[x] æ‰€ä»¥ fy å¯¹ fx çš„å…³ç³»æ˜¯ï¼ˆ3-r[y] + d-1 + r[x]ï¼‰%3ã€‚å¯ä»¥å€ŸåŠ©å‘é‡å›¾ç†è§£ fy-\u003ey-\u003ex-\u003efx #include\u003ccstdio\u003e const int maxn = 50000+10; int p[maxn]; //å­˜çˆ¶èŠ‚ç‚¹ int r[maxn];//å­˜ä¸çˆ¶èŠ‚ç‚¹çš„å…³ç³» 0 åŒä¸€ç±»ï¼Œ1 è¢«çˆ¶èŠ‚ç‚¹åƒï¼Œ2 åƒçˆ¶èŠ‚ç‚¹ void set(int n) //åˆå§‹åŒ– { for(int x = 1; x \u003c= n; x++) { p[x] = x; //å¼€å§‹è‡ªå·±æ˜¯è‡ªå·±çš„çˆ¶äº²èŠ‚ç‚¹ r[x] = 0;//å¼€å§‹è‡ªå·±å°±æ˜¯è‡ªå·±çš„çˆ¶äº²ï¼Œæ¯ä¸€ä¸ªç‚¹å‡ç‹¬ç«‹ } } int find(int x) //æ‰¾çˆ¶äº²èŠ‚ç‚¹ { if(x == p[x]) return x; int t = p[x]; p[x] = find(p[x]); r[x] = (r[x]+r[t])%3; //å›æº¯ç”±å­èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹çš„å…³ç³»å’Œçˆ¶èŠ‚ç‚¹ä¸æ ¹èŠ‚ç‚¹çš„å…³ç³»æ‰¾å­èŠ‚ç‚¹ä¸æ ¹èŠ‚ç‚¹çš„å…³ç³» return p[x]; } void Union(int x, int y, int d) { int fx = find(x); int fy = find(y); p[fy] = fx; //åˆå¹¶æ ‘ æ³¨æ„ï¼šè¢« x åƒï¼Œæ‰€ä»¥ä»¥ x çš„æ ¹ä¸ºçˆ¶ r[fy] = (r[x]-r[y]+3+(d-1))%3; //å¯¹åº”æ›´æ–°ä¸çˆ¶èŠ‚ç‚¹çš„å…³ç³» } int main() { int n, m; scanf(\"%d%d\", \u0026n, \u0026m); set(n); int ans = 0; int d, x, y; while(m--) { scanf(\"%d%d%d\", \u0026d, \u0026x, \u0026y); if(x \u003e n || y \u003e n || (d == 2 \u0026\u0026 x == y)) ans++; //å¦‚æœèŠ‚ç‚¹ç¼–å·å¤§äºæœ€å¤§ç¼–å·ï¼Œæˆ–è€…è‡ªå·±åƒè‡ªå·±ï¼Œè¯´è° else if(find(x) == find(y)) //å¦‚æœåŸæ¥æœ‰å…³ç³»ï¼Œä¹Ÿå°±æ˜¯åœ¨åŒä¸€æ£µæ ‘ä¸­ï¼Œé‚£ä¹ˆç›´æ¥åˆ¤æ–­æ˜¯å¦è¯´è° { if(d == 1 \u0026\u0026 r[x] != r[y]) ans++; //å¦‚æœ x å’Œ y ä¸å±äºåŒä¸€ç±» if(d == 2 \u0026\u0026 (r[x]+1)%3 != r[y]) ans++; // å¦‚æœ x æ²¡æœ‰åƒ y ï¼ˆæ³¨æ„è¦å¯¹åº” Uinon(x, y) çš„æƒ…å†µï¼Œå¦åˆ™ä¸€è·¯ WA åˆ°æ­»å•Šï¼ï¼ï¼) } else Union(x, y, d); //å¦‚æœå¼€å§‹æ²¡æœ‰å…³ç³»ï¼Œåˆ™å»ºç«‹å…³ç³» } printf(\"%d\\n\", ans); return 0; } ","date":"2018-08-02","objectID":"/posts/poj1182/:0:0","tags":["ACM","å¹¶æŸ¥é›†","POJ","C++","C"],"title":"é£Ÿç‰©é“¾-poj1182ï¼ˆå¸¦æƒå¹¶æŸ¥é›†ç»å…¸æ¨¡æ¿ï¼‰","uri":"/posts/poj1182/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ï¼šå°å¸Œçš„è¿·å®« ","date":"2018-08-01","objectID":"/posts/hdu1272/:1:0","tags":["ACM","å¹¶æŸ¥é›†","HDU","C++","C"],"title":"å°å¸Œçš„è¿·å®«-HDU-1272ï¼ˆå¹¶æŸ¥é›† or æ ‘æ€§è´¨ï¼‰","uri":"/posts/hdu1272/"},{"categories":["ACM"],"content":"å¹¶æŸ¥é›†ï¼š æ— å›è·¯ å•è¿é€š å¹¶æŸ¥é›†åšï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯åˆ¤æ–­ä¸¤ä¸ªç‚¹æ˜¯å¦è¿é€šï¼Œä¸è¿é€šå°±åˆå¹¶ï¼Œå·²è¿é€šçš„è¯è¯´æ˜ä¼šå½¢æˆå›è·¯ï¼Œåˆ™å¯ä»¥åˆ¤å®š Noï¼Œäº¤äº†ä¸€å‘é”™äº†ã€‚ æƒ³äº†ä¸€ä¸‹æ²¡æœ‰è€ƒè™‘åˆ°å¤šä¸ªè¿é€šåŸŸçš„æƒ…å†µï¼Œè¯¥é¢˜å¿…é¡»åªæœ‰ä¸€ä¸ªè¿é€šåŸŸ ","date":"2018-08-01","objectID":"/posts/hdu1272/:2:0","tags":["ACM","å¹¶æŸ¥é›†","HDU","C++","C"],"title":"å°å¸Œçš„è¿·å®«-HDU-1272ï¼ˆå¹¶æŸ¥é›† or æ ‘æ€§è´¨ï¼‰","uri":"/posts/hdu1272/"},{"categories":["ACM"],"content":"æ ‘çš„æ€§è´¨ï¼š æ—¢ç„¶å•è¿é€šæ— å›è·¯ï¼Œåˆ™è¿™è‚¯å®šæ˜¯ä¸€æ£µæ ‘ï¼›é‚£ä¹ˆ edge=v-1; æœ€åæ³¨æ„ç©ºæ ‘çš„æƒ…å†µï¼Œè‡³äºè‡ªç¯æˆ‘è¿™é‡Œ No ä¹Ÿè¿‡äº†ï¼Œæ²¡æœ‰å»éªŒè¯è‡ªç¯ Yes çš„æƒ…å†µäº† //å¹¶æŸ¥é›† #include\u003cbits/stdc++.h\u003e using namespace std; int pre[100001]; int find(int root){ int son,t; son=root; while(root!=pre[root]) root=pre[root]; while(son!=root){ t=pre[son]; pre[son]=root; son=t; } return root; } void join(int a,int b){ int x=find(a),y=find(b); if(x!=y) pre[y]=x; } int main(){ int a,b,flag,i,sum; while(1) { flag = 0; while(~scanf(\"%d%d\",\u0026a,\u0026b) \u0026\u0026 a!=0 \u0026\u0026 b!=0){ if(a==-1 \u0026\u0026 b==-1) return 0; if(pre[a]==0)pre[a]=a; if(pre[b]==0)pre[b]=b; if(find(a)==find(b))flag = 1; else if(flag!=1) join(a,b); } for(sum = 0,i=1;i\u003c100001;i++){ if(pre[i]==i)sum++; pre[i] = 0; } if(sum\u003e1 || flag == 1) printf(\"No\\n\"); else printf(\"Yes\\n\"); } } //1 2 3 4 0 0 No æ²¡æœ‰è¿é€š //0 0 Yes //1 1 0 0 Noï¼ˆè¯¥ä»£ç ï¼‰ //æ ‘æ€§è´¨ #include \u003cstdio.h\u003e bool s[100001]; int main() { int a,b,i,len,num,v; for(i=0;i\u003c100001;++i) s[i]=false; len=0,num=0,v=0; while(1) { scanf(\"%d%d\",\u0026a,\u0026b); if(a==-1\u0026\u0026b==-1) break; if(a==0\u0026\u0026b==0) { if(v==0) { printf(\"Yes\\n\"); continue; } if(num==len-1) //åˆ’é‡ç‚¹ï¼ï¼ printf(\"Yes\\n\"); else printf(\"No\\n\"); num=len=v=0; for(i=0;i\u003c100001;++i) s[i]=false; continue; } v=1; if(s[a]==false) len++;//ç‚¹æ•° if(s[b]==false) len++; s[a]=s[b]=true; num++;//è¾¹æ•° } return 0; ","date":"2018-08-01","objectID":"/posts/hdu1272/:3:0","tags":["ACM","å¹¶æŸ¥é›†","HDU","C++","C"],"title":"å°å¸Œçš„è¿·å®«-HDU-1272ï¼ˆå¹¶æŸ¥é›† or æ ‘æ€§è´¨ï¼‰","uri":"/posts/hdu1272/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ï¼šHow Many Answers Are Wrong æ€è·¯å‚è€ƒï¼šæœ¬é¢˜ç›´æ¥å‚è€ƒ,å›¾æ–‡è§£é‡Š #include\u003cbits/stdc++.h\u003e using namespace std; typedef long long LL; int pre[200010],ranks[200010]; int find(int root){ if(pre[root] != root) { int f = pre[root]; pre[root] = find(pre[root]);//é€’å½’è·¯å¾„å‹ç¼© ranks[root] += ranks[f]; /*ç²¾é«“å‡å¦‚ä¸€å¼€å§‹æ²¡å…³ç³»ï¼Œé‚£ä¹ˆç”¨ rank æ•°ç»„æ¥è¡¨ç¤º aï¼Œb å„è‡ªåˆ°å„è‡ªç¥–å…ˆçš„è·ç¦»ã€‚ é‚£ä¹ˆåœ¨æŠŠ a çš„ç¥–å…ˆç»™ b çš„ç¥–å…ˆå½“çˆ¶äº²ä¹‹åï¼Œé‚£ä¹ˆ b åˆ°ç¥–å…ˆçš„è·ç¦»ä¹Ÿå°±æ˜¯ rank[b] å°±è¦å†åŠ ä¸Š b åŸæœ¬çš„ç¥–å…ˆåˆ° a çš„ç¥–å…ˆçš„è·ç¦»ï¼Œæ›´æ–°ä¸€ä¸‹ï¼Œ å…¶ä¸­ find å‡½æ•°ï¼ˆæ‰¾æ ¹èŠ‚ç‚¹çš„å‡½æ•°ï¼‰é‡Œ rank[x]+=rank[pre[x]]ï¼ˆè¿™é‡Œ pre æ•°ç»„å­˜çš„æ˜¯å¯¹åº”æ•°çš„çˆ¶èŠ‚ç‚¹ï¼‰*/ } return pre[root]; } int main(){ int n,m; while(~scanf(\"%d%d\",\u0026n,\u0026m)){ int ans=0; for(int i=1; i\u003c=n; i++) pre[i]=i; memset(ranks,0,sizeof(ranks)); while(m--){ int a,b,c; scanf(\"%d%d%d\",\u0026a,\u0026b,\u0026c); a--;//[a,b]~~(a--,b] int fa=find(a); int fb=find(b); if(fa!=fb){ pre[fb]=fa;//æ³¨æ„åˆå¹¶é¡ºåºï¼Œåè¿‡æ¥ä¸‹é¢çš„ä¹Ÿè¦æ”¹ ranks[fb]=ranks[a]-ranks[b]+c;//æ›´æ–°è·ç¦» } else { if(ranks[b]-ranks[a]!=c) ans++; } } printf(\"%d\\n\",ans); } return 0; } ","date":"2018-08-01","objectID":"/posts/hdu3038/:0:0","tags":["å¹¶æŸ¥é›†","ACM","HDU","C++"],"title":"How Many Answers Are Wrong-hdu3038ï¼ˆå¸¦æƒå¹¶æŸ¥é›†ï¼‰","uri":"/posts/hdu3038/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ï¼šBear and Finding Criminals å¤§è‡´é¢˜æ„å°±æ˜¯å°ç†Šè­¦å¯Ÿä½åœ¨æŸä¸ªåŸå¸‚ï¼Œä»–è¦æŠ“å„ä¸ªåŸå¸‚çš„ç½ªçŠ¯ï¼Œç°åœ¨ç”¨ä¸€ä¸ª BCD å¯ä»¥çŸ¥é“é‚£ä¸ªåŸå¸‚é‡Œä¸€å®šæœ‰ç½ªçŠ¯ã€‚ ä¸€å®šèƒ½ç¡®å®šè¯¥åŸå¸‚æœ‰å°å·çš„å‡ ç§æƒ…å†µï¼š è­¦å¯Ÿæ‰€ä½åŸå¸‚æœ‰ç½ªçŠ¯ï¼Œåˆ™ä¸€å®šèƒ½æ£€æµ‹åˆ° è­¦å¯Ÿæ‰€ä½åŸå¸‚çš„å·¦è¾¹å’Œå³è¾¹ä½ç½®è‹¥éƒ½ä¸ä¸º 0ï¼Œåˆ™è¯´æ˜ä¸¤åº§åŸå¸‚éƒ½æœ‰ç½ªçŠ¯ï¼ˆåªæœ‰ä¸€è¾¹ä¸º 1 æ˜¯ä¸èƒ½ç¡®å®šåˆ°åº•å“ªä¸ªåŸå¸‚æœ‰ç½ªçŠ¯çš„ï¼‰ è­¦å¯Ÿæ‰€åœ¨åŸå¸‚çš„ä¸€è¾¹æ£€æµ‹åˆ°æœ‰ç½ªçŠ¯ï¼Œä½†åœ¨å¦ä¸€è¾¹å·²ç»æ²¡æœ‰åŸå¸‚äº†ï¼Œåˆ™è¯´æ˜è¯¥åŸå¸‚ä¸€å®šæœ‰ç½ªçŠ¯ #include\u003cbits/stdc++.h\u003e using namespace std; int t[107]; int main() { int n, a; while(cin\u003e\u003en\u003e\u003ea){ int sum = 0; for(int i =1; i \u003c= n; i++) cin \u003e\u003e t[i]; if(t[a]) sum++;//å°ç†Šæ‰€åœ¨åŸå¸‚æœ‰ç½ªçŠ¯ for(int i = 1; i \u003c= n; i++){ if(a-i \u003e 0\u0026\u0026a+i \u003c= n) { if(t[a-i] == 1\u0026\u0026t[a+i] == 1) sum+=2; } else if(a-i \u003c= 0\u0026\u0026a+i \u003c= n){//è­¦å¯Ÿåœ¨ç¬¬ä¸€ä¸ªç‚¹ if(t[a+i]) sum++; } else if(a-i \u003e 0\u0026\u0026a+i \u003e n){ if(t[a-i]) sum++; } } cout \u003c\u003csum\u003c\u003cendl; } return 0; } ","date":"2018-07-31","objectID":"/posts/codeforces680b/:0:0","tags":["Codeforces","ACM","C++"],"title":"Bear and Finding Criminals-Codeforces680B","uri":"/posts/codeforces680b/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ï¼šBear and Five Cards å¤§è‡´é¢˜æ„å°±æ˜¯å°ç†Šæœ‰ 5 å¼ å¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡æœ‰å¯¹åº”çš„åˆ†æ•°ï¼Œä»–å¯ä»¥é€‰æ‹©ä¸¢å¼ƒ 2 å¼ ç›¸åŒçš„æˆ–è€… 3 å¼ ç›¸åŒçš„å¡ç‰‡ï¼Œæ²¡æœ‰ç›¸åŒçš„å°±æ— æ³•ä¸¢å¼ƒï¼Œé—®å°ç†Šå‰©ä¸‹çš„åˆ†æ•°æœ€å°‘æ˜¯å¤šå°‘ã€‚ æ²¡æœ‰æƒ³å¾—é‚£ä¹ˆå¤æ‚ï¼Œç”±äºåˆ†æ•°æœ€å¤§æ‰ 100ï¼Œæ‰€ä»¥ç›´æ¥æš´åŠ›å°±å¥½äº†ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ int a[5],b[107],i,j,sum=0,sum1=0; for(i=0;i\u003c5;i++){ cin\u003e\u003ea[i]; sum+=a[i]; } sort(a,a+5); memset(b,0,sizeof(b)); for(i=0;i\u003c5;i++) b[a[i]]++; for(i=0;i\u003c107;i++){ if(b[i]==2) sum1=max(2*i,sum1); if(b[i]\u003e=3) {sum1=max(3*i,sum1);/*cout\u003c\u003c3*i\u003c\u003c\" \"\u003c\u003csum1\u003c\u003cendl;*/} } cout\u003c\u003csum-sum1\u003c\u003cendl; return 0; } ","date":"2018-07-31","objectID":"/posts/codeforces680a/:0:0","tags":["Codeforces","ACM","C++"],"title":"Bear and Five Cards-Codeforces680A","uri":"/posts/codeforces680a/"},{"categories":["ACM"],"content":"å¹¶æŸ¥é›†æ±‚è¿é€šåŸŸæ•°ç›®ï¼Œåˆå§‹åŒ– sum=nï¼› é¢˜ç›®é“¾æ¥ï¼š how many tables #include\u003cbits/stdc++.h\u003e using namespace std; int pre[1005]; int find(int root){ int son,t; son=root; while(root!=pre[root]) root=pre[root]; while(son!=root){ t=pre[son]; pre[son]=root; son=t; } return root; } int main(){ int n,m,t,sum,root1,root2; cin\u003e\u003et; while(t--){ cin\u003e\u003en\u003e\u003em; sum=n; for(int i=1;i\u003c=n;i++) pre[i]=i; for(int i=0;i\u003cm;i++){ cin\u003e\u003eroot1\u003e\u003eroot2; int xx=find(root1); int yy=find(root2); if(xx!=yy){ pre[xx]=yy; sum--; } } cout\u003c\u003csum\u003c\u003cendl; } return 0; } ","date":"2018-07-31","objectID":"/posts/how-tables/:0:0","tags":["å¹¶æŸ¥é›†","HDU","C++","ACM"],"title":"how many tables-HDU-1213ï¼ˆå¹¶æŸ¥é›†æ±‚è¿é€šåŸŸæ•°ç›®ï¼‰","uri":"/posts/how-tables/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ï¼šThe-suspects ","date":"2018-07-31","objectID":"/posts/poj-1611/:1:0","tags":["å¹¶æŸ¥é›†","POJ","ACM","C","C++"],"title":"The-suspects-POJ-1611ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-1611/"},{"categories":["ACM"],"content":"ç¿»è¯‘ï¼š è­¦å¯ŸæŠ“è´©æ¯’é›†å›¢ã€‚æœ‰ä¸åŒç±»å‹çš„çŠ¯ç½ªé›†å›¢ï¼Œäººå‘˜å¯èƒ½é‡å¤ï¼Œé›†å›¢å†…çš„äººä¼šç›¸äº’æ¥è§¦ã€‚ç°åœ¨è­¦å¯Ÿåœ¨å…¶ä¸­ä¸€äººï¼ˆ0 å·ï¼‰èº«ä¸Šæœå‡ºæ¯’å“ï¼Œè®¤ä¸ºä¸è¿™ä¸ªäººç›´æ¥æ¥è§¦æˆ–é€šè¿‡å…¶ä»–äººæœ‰é—´æ¥æ¥è§¦çš„äººéƒ½æ˜¯å«Œç–‘çŠ¯ã€‚é—®åŒ…æ‹¬ 0 å·çŠ¯äººå…±æœ‰å¤šå°‘å«Œç–‘çŠ¯ï¼Ÿ ","date":"2018-07-31","objectID":"/posts/poj-1611/:2:0","tags":["å¹¶æŸ¥é›†","POJ","ACM","C","C++"],"title":"The-suspects-POJ-1611ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-1611/"},{"categories":["ACM"],"content":"Input å¤šæ ·ä¾‹è¾“å…¥ã€‚ æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä»¥ä¸¤ä¸ªæ•´æ•° n å’Œ m å¼€å¤´ï¼Œå…¶ä¸­ n ä¸ºäººæ•°ï¼Œm ä¸ºçŠ¯ç½ªé›†å›¢æ•°ã€‚ä½ å¯ä»¥å‡å®š 0 \u003c n \u003c= 30000 å’Œ 0 \u003c= m \u003c= 500ã€‚åœ¨æ‰€æœ‰çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„æ•´æ•°ç¼–å· 0 åˆ° nâˆ’1, ä¸” 0 å·æ˜¯å…¬è®¤çš„å«Œç–‘çŠ¯ã€‚ æ¥ä¸‹æ¥ m è¡Œè¾“å…¥ï¼Œæ¯ä¸ªçŠ¯ç½ªé›†å›¢ä¸€è¡Œã€‚æ¯ä¸€è¡Œä»ä¸€ä¸ªæ•´æ•° k å¼€å§‹ï¼Œå®ƒæœ¬èº«è¡¨ç¤ºé›†å›¢å†…æˆå‘˜çš„æ•°é‡ã€‚æŒ‰ç…§æˆå‘˜çš„æ•°é‡ï¼Œåœ¨è¿™ä¸ªç»„ä¸­æœ‰ k ä¸ªæ•´æ•°è¡¨ç¤ºäººå‘˜ã€‚ä¸€è¡Œä¸­çš„æ‰€æœ‰æ•´æ•°éƒ½è¢«è‡³å°‘ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚ n = 0 ä¸” m = 0 æ—¶è¾“å…¥ç»“æŸã€‚ ","date":"2018-07-31","objectID":"/posts/poj-1611/:2:1","tags":["å¹¶æŸ¥é›†","POJ","ACM","C","C++"],"title":"The-suspects-POJ-1611ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-1611/"},{"categories":["ACM"],"content":"Output å¯¹äºæ¯ä¸ªæ ·ä¾‹ï¼Œè¾“å‡ºå«Œç–‘çŠ¯äººæ•°ã€‚ ","date":"2018-07-31","objectID":"/posts/poj-1611/:2:2","tags":["å¹¶æŸ¥é›†","POJ","ACM","C","C++"],"title":"The-suspects-POJ-1611ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-1611/"},{"categories":["ACM"],"content":"Sample Input 100 4 2 1 2 5 10 13 11 12 14 2 0 1 2 99 2 200 2 1 5 5 1 2 3 4 5 1 0 0 0 ","date":"2018-07-31","objectID":"/posts/poj-1611/:2:3","tags":["å¹¶æŸ¥é›†","POJ","ACM","C","C++"],"title":"The-suspects-POJ-1611ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-1611/"},{"categories":["ACM"],"content":"Sample Output 4 1 è¿™é¢˜ä¹Ÿå¾ˆå¥½ç†è§£ï¼ŒAC ä»£ç å¦‚ä¸‹ï¼š #include\u003ccstdio\u003e int pre[30010],x[30010]; int find(int root){ int son,t; son=root; while(root!=pre[root]) root=pre[root]; while(son!=root){ t=pre[son]; pre[son]=root; son=t; } return root; } void join(int x,int y){ int fx=find(x),fy=find(y); if(fx!=fy) pre[fy]=fx; } int main(){ int n,m,i,k,sum; while(scanf(\"%d%d\",\u0026n,\u0026m),n||m){ sum=0; for(i=0;i\u003cn;i++) pre[i]=i; while(m--){ scanf(\"%d\",\u0026k); for(i=0;i\u003ck;i++) scanf(\"%d\",\u0026x[i]); for(i=1;i\u003ck;i++) join(x[i-1],x[i]); } for(i=0;i\u003cn;i++) if(find(0)==find(i)) sum++;//å†æ¬¡æŸ¥æ‰¾å¹¶å‹ç¼©è·¯å¾„ï¼Œæ³¨ä¸ç”¨ pre[i] printf(\"%d\\n\",sum); } return 0; } ","date":"2018-07-31","objectID":"/posts/poj-1611/:2:4","tags":["å¹¶æŸ¥é›†","POJ","ACM","C","C++"],"title":"The-suspects-POJ-1611ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-1611/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ï¼šwireless network ","date":"2018-07-31","objectID":"/posts/poj-2236/:1:0","tags":["å¹¶æŸ¥é›†","ACM","POJ","C++","C"],"title":"wireless network-POJ-2236ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-2236/"},{"categories":["ACM"],"content":"ç¿»è¯‘ï¼š å—äºšå‘ç”Ÿäº†ä¸€æ¬¡åœ°éœ‡ã€‚ACM (Asia Cooperated Medical äºšæ´²è”åˆåŒ»ç–—é˜Ÿï¼‰ å·²ç»ä¸ºè†ä¸Šå‹ç”µè„‘æ­å»ºäº†ä¸€ä¸ªæ— çº¿ç½‘ç»œï¼Œä½†å—åˆ°äº†ä¸€æ¬¡ä¸å¯é¢„çŸ¥çš„ä½™éœ‡æ”»å‡»ï¼Œå› æ­¤ç½‘ç»œä¸­çš„æ‰€æœ‰ç”µè„‘éƒ½è¢«ç ´åäº†ã€‚ç”µè„‘è¢«é€å°ä¿®å¤ï¼Œç½‘ç»œé€æ­¥æ¢å¤äº†å·¥ä½œã€‚ç”±äºå—åˆ°ç¡¬ä»¶çš„çº¦æŸï¼Œæ¯å°ç”µè„‘åªèƒ½ä¸è·ç¦»å®ƒä¸è¶…è¿‡ d ç±³çš„å…¶å®ƒç”µè„‘ç›´æ¥é€šä¿¡ã€‚ä½†æ¯å°ç”µè„‘å¯è¢«çœ‹ä½œå…¶å®ƒä¸¤å°ç”µè„‘çš„é€šä¿¡ä¸­è½¬ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç”µè„‘ A å’Œç”µè„‘ B å¯ä»¥ç›´æ¥é€šä¿¡ï¼Œæˆ–å­˜åœ¨ä¸€å°ç”µè„‘ C æ—¢å¯ä¸ A ä¹Ÿå¯ä¸ B é€šä¿¡ï¼Œé‚£ä¹ˆç”µè„‘ A å’Œç”µè„‘ B ä¹‹é—´å°±èƒ½å¤Ÿé€šä¿¡ã€‚ åœ¨å¤„ç†ç½‘ç»œä¿®å¤çš„è¿‡ç¨‹ä¸­ï¼Œå·¥ä½œäººå‘˜ä»¬åœ¨ä»»ä½•ä¸€ä¸ªæ—¶åˆ»ï¼Œå¯ä»¥æ‰§è¡Œä¸¤ç§æ“ä½œï¼šç»´ä¿®ä¸€å°ç”µè„‘ï¼Œæˆ–æµ‹è¯•ä¸¤å°ç”µè„‘æ˜¯å¦èƒ½å¤Ÿé€šä¿¡ã€‚è¯·æ‚¨æ‰¾å‡ºå…¨éƒ¨çš„æµ‹è¯•æ“ä½œã€‚ ","date":"2018-07-31","objectID":"/posts/poj-2236/:2:0","tags":["å¹¶æŸ¥é›†","ACM","POJ","C++","C"],"title":"wireless network-POJ-2236ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-2236/"},{"categories":["ACM"],"content":"è¾“å…¥ ç¬¬ä¸€è¡ŒåŒ…å«äº†ä¸¤ä¸ªæ•´æ•° N å’Œ d (1 \u003c= N \u003c= 1001, 0 \u003c= d \u003c= 20000)ã€‚æ­¤å¤„ N æ˜¯ç”µè„‘çš„æ•°ç›®ï¼Œç¼–å·ä» 1 åˆ° Nï¼›åŒæ—¶ï¼ŒD æ˜¯ä¸¤å°ç”µè„‘ä¹‹é—´èƒ½å¤Ÿç›´æ¥é€šä¿¡çš„æœ€å¤§è·ç¦»ã€‚æ¥ä¸‹æ¥çš„ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° xi, yi (0 \u003c= xi, yi \u003c= 10000)ï¼Œè¡¨ç¤º N å°ç”µè„‘çš„åæ ‡ã€‚ä»ç¬¬ (N+1) è¡Œåˆ°è¾“å…¥ç»“æŸï¼Œæ˜¯é€ä¸€æ‰§è¡Œçš„æ“ä½œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œï¼Œæ ¼å¼æ˜¯ä»¥ä¸‹ä¸¤è€…ä¹‹ä¸€ï¼š â€œO pâ€ (1 \u003c= p \u003c= N)ï¼Œè¡¨ç¤ºç»´æŠ¤ç”µè„‘ p ã€‚ â€œS p qâ€ (1 \u003c= p, q \u003c= N)ï¼Œè¡¨ç¤ºæµ‹è¯•ç”µè„‘ p å’Œ q æ˜¯å¦èƒ½å¤Ÿé€šä¿¡ã€‚ è¾“å…¥ä¸è¶…è¿‡ 300000 è¡Œã€‚ ","date":"2018-07-31","objectID":"/posts/poj-2236/:2:1","tags":["å¹¶æŸ¥é›†","ACM","POJ","C++","C"],"title":"wireless network-POJ-2236ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-2236/"},{"categories":["ACM"],"content":"è¾“å‡º å¯¹äºæ¯ä¸ªæµ‹è¯•æ“ä½œï¼Œå¦‚æœä¸¤å°ç”µè„‘èƒ½å¤Ÿé€šä¿¡ï¼Œåˆ™æ‰“å° â€œSUCCESSâ€ï¼›å¦åˆ™ï¼Œæ‰“å° â€œFAILâ€ã€‚ ","date":"2018-07-31","objectID":"/posts/poj-2236/:2:2","tags":["å¹¶æŸ¥é›†","ACM","POJ","C++","C"],"title":"wireless network-POJ-2236ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-2236/"},{"categories":["ACM"],"content":"ç¤ºä¾‹è¾“å…¥ 4 1 0 1 0 2 0 3 0 4 O 1 O 2 O 4 S 1 4 O 3 S 1 4 ","date":"2018-07-31","objectID":"/posts/poj-2236/:2:3","tags":["å¹¶æŸ¥é›†","ACM","POJ","C++","C"],"title":"wireless network-POJ-2236ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-2236/"},{"categories":["ACM"],"content":"ç¤ºä¾‹è¾“å‡º FAIL SUCCESS ","date":"2018-07-31","objectID":"/posts/poj-2236/:2:4","tags":["å¹¶æŸ¥é›†","ACM","POJ","C++","C"],"title":"wireless network-POJ-2236ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-2236/"},{"categories":["ACM"],"content":"AC ä»£ç ï¼š #include \"iostream\" #include \"cstring\" using namespace std; int pre[1005]; int x[1005],y[1005],use[1005]; int findd(int root){ int son,t; son=root; while(root!=pre[root]) root=pre[root]; while(son!=root){ t=pre[son]; pre[son]=root; son=t; } return root; } void join(int x,int y){ int fx=findd(x),fy=findd(y); if(fx!=fy) pre[fx]=fy; } int dis(int i,int num,int d){ d=d*d; int xx=x[i]-x[num]; int yy=y[i]-y[num]; if((xx*xx+yy*yy)\u003c=d) return 1; return 0; } int main(){ int n,d; char s; memset(use,0,sizeof(use)); cin\u003e\u003en\u003e\u003ed; for(int i=0;i\u003c=n;i++) pre[i]=i; for(int i=1;i\u003c=n;i++) cin\u003e\u003ex[i]\u003e\u003ey[i]; while(cin\u003e\u003es){ if(s=='O'){ int num; cin\u003e\u003enum; use[num]=1; findd(num);//è·¯å¾„å‹ç¼© for(int i=1;i\u003c=n;i++) if(i!=num\u0026\u0026use[i]==1\u0026\u0026dis(i,num,d))//ä¿®å¥½äº†ï¼Œä¸”å¯ä»¥è¢«åˆå¹¶ï¼ˆè‡ªå·±é™¤å¤–ï¼‰ join(i,num); } else if(s=='S'){ int q,p; cin\u003e\u003eq\u003e\u003ep; if(findd(q)==findd(p)) cout\u003c\u003c\"SUCCESS\"\u003c\u003cendl; else cout\u003c\u003c\"FAIL\"\u003c\u003cendl; } } return 0; } ","date":"2018-07-31","objectID":"/posts/poj-2236/:2:5","tags":["å¹¶æŸ¥é›†","ACM","POJ","C++","C"],"title":"wireless network-POJ-2236ï¼ˆå¹¶æŸ¥é›†ï¼‰","uri":"/posts/poj-2236/"},{"categories":["ACM"],"content":"Codeforces Round #500 (Div. 2) é¢˜ç›®é“¾æ¥ï¼šPiles With Stones å¤§è‡´é¢˜æ„å°±æ˜¯æœ‰ n å †çŸ³å¤´ï¼Œç¬¬ä¸€å¤©æ¯å †æœ‰ä¸€å®šæ•°ç›®çš„çŸ³å¤´ï¼Œç¬¬äºŒå¤©çŸ³å¤´å¯èƒ½è¢«å°æœ‹å‹ç§»åŠ¨æˆ–è€…å¸¦èµ°ï¼Œæ±‚æ»¡è¶³é¢˜æ„çš„ä¸¤å¤©çš„çŸ³ç¢“ï¼› æ‰€ä»¥ç¬¬äºŒå¤©çš„çŸ³å¤´æ€»æ•°ä¸ä¼šå¤§äºç¬¬ä¸€å¤©çš„ï¼Œæ‰€ä»¥æ˜¯ sum1-sum2\u003e=0 å³å¯ã€‚ //åˆåªæ‰“äº†ä¸€é“é¢˜ï¼Œæ‰£äº† 80 å¤šåˆ†ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int x[55],y[55],n,s1=0,s2=0; int main(){ scanf(\"%d\",\u0026n); for(int i=0;i\u003cn;i++){ scanf(\"%d\",\u0026x[i]); s1+=x[i]; } for(int i=0;i\u003cn;i++){ scanf(\"%d\",\u0026y[i]); s2+=y[i]; } if((s1-s2)\u003e=0) printf(\"Yes\\n\"); else printf(\"No\\n\"); return 0; } ","date":"2018-07-31","objectID":"/posts/piles-with-stones/:0:0","tags":["ACM","Codeforces","C++"],"title":"Piles-with-stones","uri":"/posts/piles-with-stones/"},{"categories":["ACM"],"content":"å¹¶æŸ¥é›†å…¥é—¨æ¨èï¼šè¶…æœ‰çˆ±çš„å¹¶æŸ¥é›†~ é¢˜ç›®é“¾æ¥ï¼šç•…é€šå·¥ç¨‹ é¢˜æ„åˆ†æï¼š é¦–å…ˆåœ¨åœ°å›¾ä¸Šç»™ä½ è‹¥å¹²ä¸ªåŸé•‡ï¼Œè¿™äº›åŸé•‡éƒ½å¯ä»¥çœ‹ä½œç‚¹ï¼Œç„¶åå‘Šè¯‰ä½ å“ªäº›å¯¹åŸé•‡ä¹‹é—´æ˜¯æœ‰é“è·¯ç›´æ¥ç›¸è¿çš„ã€‚æœ€åè¦è§£å†³çš„æ˜¯æ•´å¹…å›¾çš„è¿é€šæ€§é—®é¢˜ã€‚æ¯”å¦‚éšæ„ç»™ä½ ä¸¤ä¸ªç‚¹ï¼Œè®©ä½ åˆ¤æ–­å®ƒä»¬æ˜¯å¦è¿é€šï¼Œæˆ–è€…é—®ä½ æ•´å¹…å›¾ä¸€å…±æœ‰å‡ ä¸ªè¿é€šåˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ†æˆäº†å‡ ä¸ªäº’ç›¸ç‹¬ç«‹çš„å—ã€‚åƒç•…é€šå·¥ç¨‹è¿™é¢˜ï¼Œé—®è¿˜éœ€è¦ä¿®å‡ æ¡è·¯ï¼Œå®è´¨å°±æ˜¯æ±‚æœ‰å‡ ä¸ªè¿é€šåˆ†æ”¯ã€‚ #include\u003ciostream\u003e #include\u003ccstdio\u003e using namespace std; int pre[1010]; int findd(int root){ int son,t; son=root; while(root!=pre[root]) root=pre[root]; while(son!=root){ t=pre[son]; pre[son]=root; son=t; } return root; } int main(){ int n,m,i,sum,r1,r2,star,end1; while(scanf(\"%d\",\u0026n)\u0026\u0026n){ sum=n-1; for(i=1;i\u003c=n;i++) pre[i]=i; scanf(\"%d\",\u0026m); while(m--){ scanf(\"%d%d\",\u0026star,\u0026end1); r1=findd(star); r2=findd(end1); if(r1!=r2){ pre[r1]=r2; sum--; } } printf(\"%d\\n\",sum); } return 0; } åŸºç¡€å›é¡¾ï¼š find() å‡½æ•°æ‰¾æ ¹ç»“ç‚¹çš„ä¸¤ç§å†™æ³•å¦‚ä¸‹ï¼š ç¬¬ä¸€ç§é€’å½’ï¼š int find(int x) { return x == pre[x] ? x : find(pre[x]); } ç¬¬äºŒç§ï¼š int find(int x) { int root, temp; root = x; while(root != pre[root]) root = pre[root]; while(x != root) { temp = pre[x]; pre[temp] = root; x = temp; } return root; } åˆå¹¶å‡½æ•° void join(int x,int y){ int fx=find(x); int fy=find(y); if(fx!=fy) pre[fx]=fy; } ","date":"2018-07-31","objectID":"/posts/%E7%95%85%E9%80%9A%E5%B7%A5%E7%A8%8B/:0:0","tags":["ACM","å¹¶æŸ¥é›†","HDU","C++","C"],"title":"ç•…é€šå·¥ç¨‹-HDU-1232ï¼ˆå¹¶æŸ¥é›†ç»å…¸æ¨¡æ¿ï¼‰","uri":"/posts/%E7%95%85%E9%80%9A%E5%B7%A5%E7%A8%8B/"},{"categories":["ACM"],"content":"ä¸¤é¢˜æ°´è¿‡ï¼Œæš´åŠ›ï¼Œæ‰¾è§„å¾‹ã€‚ ","date":"2018-07-27","objectID":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/:0:0","tags":["Nowcoder","ACM","C++","C"],"title":"ç‰›å®¢ç»ƒä¹ èµ› 23","uri":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/"},{"categories":["ACM"],"content":"æ‰˜ç±³çš„èµŒçƒ ","date":"2018-07-27","objectID":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/:1:0","tags":["Nowcoder","ACM","C++","C"],"title":"ç‰›å®¢ç»ƒä¹ èµ› 23","uri":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/"},{"categories":["ACM"],"content":"æ‰˜ç±³çš„åˆ’åˆ† ","date":"2018-07-27","objectID":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/:2:0","tags":["Nowcoder","ACM","C++","C"],"title":"ç‰›å®¢ç»ƒä¹ èµ› 23","uri":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/"},{"categories":["ACM"],"content":"a #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ int c[13],d[13]={100,50,20,10,5,2,1,50,20,10,5,2,1}; int i,t; cin\u003e\u003et; int a,b; while(t--){ memset(c,0,sizeof(c)); cin\u003e\u003ea\u003e\u003eb; for(i=0;i\u003c7;i++){ int x=0; if(a\u003ec[i]){ x=a/d[i]; c[i]+=x; a-=x*d[i]; } for(i=7;i\u003c13;i++){ int x=0; if(b\u003ec[i]){ x=b/d[i]; c[i]+=x; b-=x*d[i]; } cout\u003c\u003cc[0]; for(i=1;i\u003c13;i++) cout\u003c\u003c\" \"\u003c\u003cc[i]; cout\u003c\u003cendl; } return 0; } ","date":"2018-07-27","objectID":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/:3:0","tags":["Nowcoder","ACM","C++","C"],"title":"ç‰›å®¢ç»ƒä¹ èµ› 23","uri":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/"},{"categories":["ACM"],"content":"b f(n)=f(n-1)+n-1; #include\u003cbits/stdc++.h\u003e using namespace std; long long sum; int main(){ int n; int t; cin\u003e\u003et; while(t--){ sum=1; cin\u003e\u003en; if(n==1) sum=0; for(int i=3;i\u003c=n;i++) sum+=i-1; cout\u003c\u003csum\u003c\u003cendl; } return 0; } ","date":"2018-07-27","objectID":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/:4:0","tags":["Nowcoder","ACM","C++","C"],"title":"ç‰›å®¢ç»ƒä¹ èµ› 23","uri":"/posts/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B23/"},{"categories":["Grocery"],"content":"åœ¨çº¿ç®—æ³• åœ¨çº¿ç®—æ³•æ˜¯æŒ‡å®ƒå¯ä»¥ä»¥åºåˆ—åŒ–çš„æ–¹å¼ä¸€ä¸ªä¸ªçš„å¤„ç†è¾“å…¥ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å¼€å§‹æ—¶å¹¶ä¸éœ€è¦å·²ç»çŸ¥é“æ‰€æœ‰çš„è¾“å…¥ã€‚ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œä¸€ä¸ªåœ¨çº¿ç®—æ³•æ˜¯æŒ‡å®ƒå¯ä»¥ä»¥åºåˆ—åŒ–çš„æ–¹å¼ä¸€ä¸ªä¸ªçš„å¤„ç†è¾“å…¥ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å¼€å§‹æ—¶å¹¶ä¸éœ€è¦å·²ç»çŸ¥é“æ‰€æœ‰çš„è¾“å…¥ã€‚ç›¸å¯¹çš„ï¼Œå¯¹äºä¸€ä¸ªç¦»çº¿ç®—æ³•ï¼Œåœ¨å¼€å§‹æ—¶å°±éœ€è¦çŸ¥é“é—®é¢˜çš„æ‰€æœ‰è¾“å…¥æ•°æ®ï¼Œè€Œä¸”åœ¨è§£å†³ä¸€ä¸ªé—®é¢˜åå°±è¦ç«‹å³è¾“å‡ºç»“æœã€‚ä¾‹å¦‚ï¼Œé€‰æ‹©æ’åºåœ¨æ’åºå‰å°±éœ€è¦çŸ¥é“æ‰€æœ‰å¾…æ’åºå…ƒç´ ï¼Œç„¶è€Œæ’å…¥æ’åºå°±ä¸å¿…ã€‚ å› ä¸ºåœ¨çº¿ç®—æ³•å¹¶ä¸çŸ¥é“æ•´ä¸ªçš„è¾“å…¥ï¼Œæ‰€ä»¥å®ƒè¢«è¿«åšå‡ºçš„é€‰æ‹©æœ€åå¯èƒ½ä¼šè¢«è¯æ˜ä¸æ˜¯æœ€ä¼˜çš„ï¼Œå¯¹åœ¨çº¿ç®—æ³•çš„ç ”ç©¶ä¸»è¦é›†ä¸­åœ¨å½“å‰ç¯å¢ƒä¸‹æ€ä¹ˆåšå‡ºé€‰æ‹©ã€‚å¯¹ç›¸åŒé—®é¢˜çš„åœ¨çº¿ç®—æ³•å’Œç¦»çº¿ç®—æ³•çš„å¯¹æ¯”åˆ†æå½¢æˆäº†ä»¥ä¸Šè§‚ç‚¹ã€‚å¦‚æœæƒ³ä»å…¶ä»–è§’åº¦äº†è§£åœ¨çº¿ç®—æ³•å¯ä»¥çœ‹ä¸€ä¸‹æµç®—æ³•ï¼ˆå…³æ³¨ç²¾ç¡®å‘ˆç°è¿‡å»çš„è¾“å…¥æ‰€ä½¿ç”¨çš„å†…å­˜çš„é‡ï¼‰ï¼ŒåŠ¨æ€ç®—æ³•ï¼ˆå…³æ³¨ç»´æŠ¤ä¸€ä¸ªåœ¨çº¿è¾“å…¥çš„ç»“æœæ‰€éœ€è¦çš„æ—¶é—´å¤æ‚åº¦ï¼‰å’Œåœ¨çº¿æœºå™¨å­¦ä¹ ã€‚ ä¸€ä¸ªå¾ˆå¥½çš„å±•ç¤ºåœ¨çº¿ç®—æ³•æ¦‚å¿µçš„ä¾‹å­æ˜¯ åŠ æ‹¿å¤§æ—…è¡Œè€…é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜çš„ç›®æ ‡æ˜¯åœ¨ä¸€ä¸ªæœ‰æƒå›¾ä¸­ä»¥æœ€å°çš„ä»£ä»·åˆ°è¾¾ä¸€ä¸ªç›®æ ‡èŠ‚ç‚¹ï¼Œä½†è¿™ä¸ªæœ‰æƒå›¾ä¸­æœ‰äº›è¾¹æ˜¯ä¸å¯é çš„å¯èƒ½å·²ç»è¢«å‰”é™¤ã€‚ç„¶è€Œä¸€ä¸ªæ—…è¡Œè€…åªæœ‰åˆ°æŸä¸ªè¾¹çš„ä¸€ä¸ªç«¯ç‚¹æ—¶æ‰èƒ½ç¡®å®šè¯¥è¾¹æ˜¯å¦å·²ç»è¢«ç§»é™¤äº†ã€‚æœ€åæƒ…å†µä¸‹ï¼Œè¯¥é—®é¢˜ä¼šå˜å¾—ç®€å•äº†ï¼Œå³æ‰€æœ‰çš„ä¸ç¡®å®šçš„è¾¹éƒ½è¢«ç§»é™¤è¯¥é—®é¢˜å°†ä¼šå˜æˆé€šå¸¸çš„æœ€çŸ­è·¯å¾„é—®é¢˜ã€‚ ","date":"2018-07-26","objectID":"/posts/%E5%9C%A8%E7%BA%BF%E7%A6%BB%E7%BA%BF%E7%AE%97%E6%B3%95/:1:0","tags":["åœ¨çº¿ç¦»çº¿ç®—æ³•"],"title":"åœ¨çº¿ç¦»çº¿ç®—æ³•","uri":"/posts/%E5%9C%A8%E7%BA%BF%E7%A6%BB%E7%BA%BF%E7%AE%97%E6%B3%95/"},{"categories":["Grocery"],"content":"ç¦»çº¿ç®—æ³• ç¦»çº¿ç®—æ³• ( off line algorithms)ï¼Œæ˜¯æŒ‡åŸºäºåœ¨æ‰§è¡Œç®—æ³•å‰è¾“å…¥æ•°æ®å·²çŸ¥çš„åŸºæœ¬å‡è®¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªç¦»çº¿ç®—æ³•ï¼Œåœ¨å¼€å§‹æ—¶å°±éœ€è¦çŸ¥é“é—®é¢˜çš„æ‰€æœ‰è¾“å…¥æ•°æ®ï¼Œè€Œä¸”åœ¨è§£å†³ä¸€ä¸ªé—®é¢˜åå°±è¦ç«‹å³è¾“å‡ºç»“æœã€‚ è®¾è®¡ç­–ç•¥ åœ¨æ‰§è¡Œç®—æ³•å‰è¾“å…¥å·²çŸ¥çš„åŸºæœ¬å‡è®¾ å‰æ å…·æœ‰é—®é¢˜å®Œå…¨ä¿¡æ¯ ç®—æ³•è®¾è®¡ç­–ç•¥éƒ½æ˜¯åŸºäºåœ¨æ‰§è¡Œç®—æ³•å‰è¾“å…¥æ•°æ®å·²çŸ¥çš„åŸºæœ¬å‡è®¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªç¦»çº¿ç®—æ³•ï¼Œåœ¨å¼€å§‹æ—¶å°±éœ€è¦çŸ¥é“é—®é¢˜çš„æ‰€æœ‰è¾“å…¥æ•°æ®ï¼Œè€Œä¸”åœ¨è§£å†³ä¸€ä¸ªé—®é¢˜åå°±è¦ç«‹å³è¾“å‡ºç»“æœï¼Œé€šå¸¸å°†è¿™ç±»å…·æœ‰é—®é¢˜å®Œå…¨ä¿¡æ¯å‰æä¸‹è®¾è®¡å‡ºçš„ç®—æ³•ç§°ä¸ºç¦»çº¿ç®—æ³• ( off line algorithms) ","date":"2018-07-26","objectID":"/posts/%E5%9C%A8%E7%BA%BF%E7%A6%BB%E7%BA%BF%E7%AE%97%E6%B3%95/:2:0","tags":["åœ¨çº¿ç¦»çº¿ç®—æ³•"],"title":"åœ¨çº¿ç¦»çº¿ç®—æ³•","uri":"/posts/%E5%9C%A8%E7%BA%BF%E7%A6%BB%E7%BA%BF%E7%AE%97%E6%B3%95/"},{"categories":["ACM"],"content":"éå¸¸å¯ä¹ å¤§å®¶ä¸€å®šè§‰çš„è¿åŠ¨ä»¥åå–å¯ä¹æ˜¯ä¸€ä»¶å¾ˆæƒ¬æ„çš„äº‹æƒ…ï¼Œä½†æ˜¯ seeyou å´ä¸è¿™ä¹ˆè®¤ä¸ºã€‚å› ä¸ºæ¯æ¬¡å½“ seeyou ä¹°äº†å¯ä¹ä»¥åï¼Œé˜¿ç‰›å°±è¦æ±‚å’Œ seeyou ä¸€èµ·åˆ†äº«è¿™ä¸€ç“¶å¯ä¹ï¼Œè€Œä¸”ä¸€å®šè¦å–çš„å’Œ seeyou ä¸€æ ·å¤šã€‚ä½† seeyou çš„æ‰‹ä¸­åªæœ‰ä¸¤ä¸ªæ¯å­ï¼Œå®ƒä»¬çš„å®¹é‡åˆ†åˆ«æ˜¯ N æ¯«å‡å’Œ M æ¯«å‡ å¯ä¹çš„ä½“ç§¯ä¸º S ï¼ˆS\u003c101ï¼‰æ¯«å‡ã€€ï¼ˆæ­£å¥½è£…æ»¡ä¸€ç“¶ï¼‰ ï¼Œå®ƒä»¬ä¸‰ä¸ªä¹‹é—´å¯ä»¥ç›¸äº’å€’å¯ä¹ ï¼ˆéƒ½æ˜¯æ²¡æœ‰åˆ»åº¦çš„ï¼Œä¸” S==N+Mï¼Œ101 ï¼ S ï¼ 0ï¼ŒN ï¼ 0ï¼ŒM ï¼ 0) ã€‚èªæ˜çš„ ACMER ä½ ä»¬è¯´ä»–ä»¬èƒ½å¹³åˆ†å—ï¼Ÿå¦‚æœèƒ½è¯·è¾“å‡ºå€’å¯ä¹çš„æœ€å°‘çš„æ¬¡æ•°ï¼Œå¦‚æœä¸èƒ½è¾“å‡º\"NO\"ã€‚ ","date":"2018-07-24","objectID":"/posts/hdu-1495/:0:0","tags":["ACM","HDU","æœç´¢","C++"],"title":"HDU-1495-éå¸¸å¯ä¹ï¼ˆbfs æ¨¡æ‹Ÿå€’æ°´ or æ•°è®ºï¼‰","uri":"/posts/hdu-1495/"},{"categories":["ACM"],"content":"Input ä¸‰ä¸ªæ•´æ•° : S å¯ä¹çš„ä½“ç§¯ , N å’Œ M æ˜¯ä¸¤ä¸ªæ¯å­çš„å®¹é‡ï¼Œä»¥\"0 0 0\"ç»“æŸã€‚ ","date":"2018-07-24","objectID":"/posts/hdu-1495/:0:1","tags":["ACM","HDU","æœç´¢","C++"],"title":"HDU-1495-éå¸¸å¯ä¹ï¼ˆbfs æ¨¡æ‹Ÿå€’æ°´ or æ•°è®ºï¼‰","uri":"/posts/hdu-1495/"},{"categories":["ACM"],"content":"Output å¦‚æœèƒ½å¹³åˆ†çš„è¯è¯·è¾“å‡ºæœ€å°‘è¦å€’çš„æ¬¡æ•°ï¼Œå¦åˆ™è¾“å‡º\"NO\"ã€‚ ","date":"2018-07-24","objectID":"/posts/hdu-1495/:0:2","tags":["ACM","HDU","æœç´¢","C++"],"title":"HDU-1495-éå¸¸å¯ä¹ï¼ˆbfs æ¨¡æ‹Ÿå€’æ°´ or æ•°è®ºï¼‰","uri":"/posts/hdu-1495/"},{"categories":["ACM"],"content":"Sample Input 7 4 3 4 1 3 0 0 0 ","date":"2018-07-24","objectID":"/posts/hdu-1495/:0:3","tags":["ACM","HDU","æœç´¢","C++"],"title":"HDU-1495-éå¸¸å¯ä¹ï¼ˆbfs æ¨¡æ‹Ÿå€’æ°´ or æ•°è®ºï¼‰","uri":"/posts/hdu-1495/"},{"categories":["ACM"],"content":"Sample Output NO 3 æ¨¡æ‹Ÿä¸€ä¸‹å€’æ°´çš„è¿‡ç¨‹ï¼Œä¸€å…±æœ‰ä¸‰ç§å€’æ³•ï¼Œa å‘ bcï¼Œb å‘ acï¼Œc å‘ abã€‚ï¼ˆç›¸å½“äºä¸€å…±å…­ä¸ªæ–¹å‘ï¼‰æœç´¢å¹¶è®°å½•æœç´¢è¿‡çš„è¿‡ç¨‹å°±å¥½äº†ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int a,b,c; int used[111][111][111]; struct node { int x,y,z; int step; }m,n; int bfs() { queue\u003cnode\u003eq; m.x = a; m.y = 0; m.z = 0; m.step = 0; used[a][0][0] = 1; q.push(m); while (!q.empty()) { int trans; //å€’æ°´é‡ m = q.front(); q.pop(); //æˆåŠŸåˆ†å¥½çš„ä¸‰ç§æƒ…å†µ if ((m.x == 0 \u0026\u0026 m.y == m.z) || (m.y == 0 \u0026\u0026 m.x == m.z) || (m.z == 0 \u0026\u0026 m.x == m.y)) return m.step; //ä¸‹é¢å¼€å§‹ 6 ä¸ªæœç´¢ï¼ˆç”±ä¸€ä¸ªæ¯å­å‘å¦å¤–ä¸¤ä¸ªå€’æ°´ï¼‰ if (m.x) { //ç¬¬ä¸€ trans = min(m.x , b - m.y);//è‡ªå·±æ¨¡æ‹Ÿä¸€ä¸‹å€’æ°´è¿‡ç¨‹å°±çŸ¥é“äº† n.x = m.x - trans; n.y = m.y + trans; n.z = m.z; n.step = m.step + 1; if (!used[n.x][n.y][n.z]) { q.push(n); used[n.x][n.y][n.z] = 1; } //ç¬¬äºŒ trans = min(m.x , c - m.z); n.x = m.x - trans; n.y = m.y; n.z = m.z + trans; n.step = m.step + 1; if (!used[n.x][n.y][n.z]) { q.push(n); used[n.x][n.y][n.z] = 1; } } if (m.y) { //ç¬¬ä¸‰ trans = min(m.y , a - m.x); n.x = m.x + trans; n.y = m.y - trans; n.z = m.z; n.step = m.step + 1; if (!used[n.x][n.y][n.z]) { used[n.x][n.y][n.z] = 1; q.push(n); } //ç¬¬å›› trans = min(m.y , c - m.z); n.x = m.x; n.y = m.y - trans; n.z = m.z + trans; n.step = m.step + 1; if (!used[n.x][n.y][n.z]) { used[n.x][n.y][n.z] = 1; q.push(n); } } if (m.z) { //ç¬¬äº” trans = min(m.z , a - m.x); n.x = m.x + trans; n.y = m.y; n.z = m.z - trans; n.step = m.step + 1; if (!used[n.x][n.y][n.z]) { used[n.x][n.y][n.z] = 1; q.push(n); } //ç¬¬å…­ trans = min(m.z , b - m.y); n.x = m.x; n.y = m.y + trans; n.z = m.z - trans; n.step = m.step + 1; if (!used[n.x][n.y][n.z]) { q.push(n); used[n.x][n.y][n.z] = 1; } } } return 0; } int main() { while (~scanf (\"%d %d %d\",\u0026a,\u0026b,\u0026c) \u0026\u0026 (a || b || c)) { if (a\u00261) //å…ˆç®€å•çš„å‰ªæä¸€ä¸‹ï¼Œå¥‡æ•°è‚¯å®šä¸èƒ½å¹³åˆ† printf (\"NO\\n\"); else { memset (used,0,sizeof (used)); int ans = bfs(); if (ans) printf (\"%d\\n\",ans); else printf (\"NO\\n\"); } } return 0; } ç„¶åæ­ç”µä¸Šè®¨è®ºæ¿å­ä¸Šæä¾›ä¸€ç§æ•°è®ºé¢˜è§£ï¼Œä½†æ˜¯æ•°æ®å­˜åœ¨ä¸€ç‚¹é—®é¢˜ï¼Œåªä¸è¿‡æœ‰äº›æ•°æ®å¥½åƒä¸å¯¹ï¼›æ¯”å¦‚ï¼š 10 6 5 çš„ç»“æœåº”è¯¥æ˜¯ 1 è€Œä¸æ˜¯ 9ï¼Œ ä¹Ÿæç¤ºæˆ‘ä»¬å¤šç»´æ€è€ƒåŒä¸€ä¸ªé—®é¢˜ï¼ æ•°è®ºæ¨å¯¼ #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ int s,n,m; while(cin\u003e\u003es\u003e\u003en\u003e\u003em,s+n+m){ s/=__gcd(n,m); if(s\u00261)//å¥‡æ•° cout\u003c\u003c\"NO\\n\"; else cout\u003c\u003cs-1\u003c\u003cendl; } return 0; } ","date":"2018-07-24","objectID":"/posts/hdu-1495/:0:4","tags":["ACM","HDU","æœç´¢","C++"],"title":"HDU-1495-éå¸¸å¯ä¹ï¼ˆbfs æ¨¡æ‹Ÿå€’æ°´ or æ•°è®ºï¼‰","uri":"/posts/hdu-1495/"},{"categories":["ACM"],"content":"Find a way åœ£è¯èŠ‚è¦åˆ°äº†ï¼Œå¤ç¥å’Œç‘ç‘è¿™å¯¹åŸºä½¬æƒ³ä¸€èµ·å»å¬å”¤å¸ˆå¤§å³¡è°·å¼€å¼€è½¦ã€‚ç™¾åº¦åœ°å›¾ä¸€ä¸‹ï¼Œå‘ç°å‘¨å›´çš„å¬å”¤å¸ˆå¤§å³¡è°·è¿˜ä¸å°‘ï¼Œè¿™å¯¹åŸºä½¬çº ç»“ç€ï¼Œè¯¥å»å“ªä¸€ä¸ªã€‚å¤ç¥ï¼šæˆ‘è¦å»å·¦è¾¹çš„è¿™ä¸ªï¼ˆå› ä¸ºç¦»è‡ªå·±æ¯”è¾ƒè¿‘ å“ˆå“ˆ~ï¼‰ã€‚ç‘ç‘ï¼šæˆ‘è¦å»å³è¾¹çš„è¿™ä¸ªï¼ˆå› ä¸ºç¦»è‡ªå·±æ¯”è¾ƒè¿‘ å˜¿å˜¿~ï¼‰ â€¦â€¦.. è¿™å¯¹åŸºä½¬é—¹çŸ›ç›¾äº†ï¼Œå¼€è½¦æœ‰å±é™©äº†ï¼ ä¸ºäº†ä¸è®©ä»–ä»¬å»å¬å”¤å¸ˆå¤§å³¡è°·å‘äººï¼Œriot å†³å®šè®©ä»–ä»¬å» X å¬å”¤å¸ˆå¤§å³¡è°·ï¼Œä¿è¯ä»–ä¿©æ‰€èµ°çš„è·¯ç¨‹å’Œæœ€çŸ­ã€‚æ¯èµ°ä¸€ä¸ªç‚¹éœ€è¦èŠ±è´¹ 11 åˆ†é’Ÿï¼Œè¾“å‡ºä»–ä»¬ä¸€å…±èŠ±è´¹å¤šå°‘æ—¶é—´ï¼ˆæœ€çŸ­æ—¶é—´å™¢ï¼‰ ","date":"2018-07-23","objectID":"/posts/hdu-2612/:0:1","tags":["ACM","HDU","æœç´¢","C++"],"title":"hdu-2612-Find a wayï¼ˆåŒ bfsï¼‰","uri":"/posts/hdu-2612/"},{"categories":["ACM"],"content":"Input å¤šç»„æµ‹è¯•æ•°æ® æ¯ç»„æ•°æ®ï¼Œå¼€å§‹ä¸€è¡Œ nï¼Œm (2\u003c=n,m\u003c=200) æ¥ä¸‹æ¥æ˜¯ä¸ª n x m çš„çŸ©é˜µ â€˜Yâ€™ è¡¨ç¤ºå¤ç¥æ‰€åœ¨çš„åˆå§‹ä½ç½® â€˜Mâ€™ è¡¨ç¤ºç‘ç‘æ‰€åœ¨çš„åˆå§‹ä½ç½® â€˜#â€™ è¯¥ç‚¹ç¦æ­¢é€šè¡Œ â€˜.â€™ è¯¥ç‚¹å¯é€šè¡Œ â€˜@â€™ å¬å”¤å¸ˆå¤§å³¡è°· ","date":"2018-07-23","objectID":"/posts/hdu-2612/:0:2","tags":["ACM","HDU","æœç´¢","C++"],"title":"hdu-2612-Find a wayï¼ˆåŒ bfsï¼‰","uri":"/posts/hdu-2612/"},{"categories":["ACM"],"content":"Output æ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºå¤ç¥å’Œç‘ç‘åˆ°è¾¾åŒä¸€ä¸ªå¬å”¤å¸ˆå¤§å³¡è°·æ‰€èŠ±è´¹çš„æœ€çŸ­æ—¶é—´ã€‚ ","date":"2018-07-23","objectID":"/posts/hdu-2612/:0:3","tags":["ACM","HDU","æœç´¢","C++"],"title":"hdu-2612-Find a wayï¼ˆåŒ bfsï¼‰","uri":"/posts/hdu-2612/"},{"categories":["ACM"],"content":"Sample Input 4 4 Y.#@ .... .#.. @..M 4 4 Y.#@ .... .#.. @#.M 5 5 Y..@. .#... @..M. `#...#` ","date":"2018-07-23","objectID":"/posts/hdu-2612/:0:4","tags":["ACM","HDU","æœç´¢","C++"],"title":"hdu-2612-Find a wayï¼ˆåŒ bfsï¼‰","uri":"/posts/hdu-2612/"},{"categories":["ACM"],"content":"Sample Output 66 88 66 ","date":"2018-07-23","objectID":"/posts/hdu-2612/:0:5","tags":["ACM","HDU","æœç´¢","C++"],"title":"hdu-2612-Find a wayï¼ˆåŒ bfsï¼‰","uri":"/posts/hdu-2612/"},{"categories":["ACM"],"content":"Hint å¯¹äºç¬¬ä¸€ç»„æ ·ä¾‹ï¼Œå¤ç¥å’Œç‘ç‘å»çŸ©é˜µï¼ˆ4,1ï¼‰ è¿™ä¸ªå¬å”¤å¸ˆå¤§å³¡è°·ï¼Œè€—è´¹çš„æ—¶é—´ä¸º 3 _ 11 + 3 _ 11 = 66ï¼Œ å»çŸ©é˜µï¼ˆ1,4ï¼‰è¿™ä¸ªå¬å”¤å¸ˆå¤§å³¡è°·ï¼Œè€—è´¹çš„æ—¶é—´ä¸º 5 _ 11 + 3 _ 11 = 88 ã€‚æ‰€ä»¥ï¼Œæœ€ç»ˆç­”æ¡ˆï¼š66ã€‚æ€è·¯å‚è€ƒ å†™ä»£ç æ€»æ˜¯å¥½ç²—å¿ƒï¼ï¼ #include \u003cbits/stdc++.h\u003e #define inf 0x3f3f3f3f //acm ä¸­â€œæ— ç©·å¤§â€çš„ä¸€èˆ¬å®šä¹‰ using namespace std; const int M=202; char mp[M][M]; //åœ°å›¾ int a[M][M],b[M][M]; bool vis[M][M]; //æ ‡è®°æ•°ç»„ int n,m; int ans; struct node { int x,y,step; }; void init() //åˆå§‹åŒ–å‡½æ•° { ans=inf; for(int i=0; i\u003cn; i++) for(int j=0; j\u003cm; j++) { a[i][j]=inf; b[i][j]=inf; } } void bfs(int x,int y,bool flag){ int dir[4][2]={-1,0,1,0,0,1,0,-1}; node u,v; queue\u003cnode\u003e q; //åˆå§‹åŒ–é˜Ÿåˆ—ç¬¬ä¸€ä¸ªå…ƒç´  u.x=x; u.y=y; u.step=0; vis[x][y]=true; q.push(u); while(!q.empty()){ u=q.front(); q.pop(); if(mp[u.x][u.y]=='@'){ if(!flag) a[u.x][u.y]=u.step; else b[u.x][u.y]=u.step; } for(int i=0;i\u003c4;i++){ int tx=u.x+dir[i][0]; int ty=u.y+dir[i][1]; if(tx\u003e=0\u0026\u0026ty\u003e=0\u0026\u0026tx\u003cn\u0026\u0026ty\u003cm\u0026\u0026!vis[tx][ty]\u0026\u0026mp[tx][ty]!='#'){//æ³¨æ„@å’Œ Mï¼ŒY ä¹Ÿæ˜¯å¯ä»¥èµ°çš„ã€‚ v.x=tx; //æ¯æ¬¡å†™æœç´¢éƒ½å¿˜è®° vis!!!! v.y=ty; vis[tx][ty]=true; //æˆ‘æ€»æ˜¯å¿˜è®°ã€‚ v.step=u.step+1; q.push(v); } } } } int main() { while(~scanf(\"%d%d\",\u0026n,\u0026m)) { init(); for(int i=0; i\u003cn; i++) scanf(\"%s\",mp[i]); for(int i=0; i\u003cn; i++) for(int j=0; j\u003cm; j++) { if(mp[i][j]=='Y') { memset(vis,false,sizeof(vis)); bfs(i,j,false); } if(mp[i][j]=='M') { memset(vis,false,sizeof(vis)); //è®°å¾—å†æ¬¡åˆå§‹åŒ–æ ‡è®°æ•°ç»„ bfs(i,j,true); } } for(int i=0; i\u003cn; i++) for(int j=0; j\u003cm; j++) if(mp[i][j]=='@') ans=min(ans,a[i][j]+b[i][j]); printf(\"%d\\n\",ans*11); } return 0; } ","date":"2018-07-23","objectID":"/posts/hdu-2612/:0:6","tags":["ACM","HDU","æœç´¢","C++"],"title":"hdu-2612-Find a wayï¼ˆåŒ bfsï¼‰","uri":"/posts/hdu-2612/"},{"categories":["ACM"],"content":"Farmer John has been informed of the location of a fugitive cow and wants to catch her immediately. He starts at a point N (0 â‰¤ N â‰¤ 100,000) on a number line and the cow is at a point K (0 â‰¤ K â‰¤ 100,000) on the same number line. Farmer John has two modes of transportation: walking and teleporting. Walking: FJ can move from any point X to the points X\",â€œ1 or X + 1 in a single minute Teleporting: FJ can move from any point X to the point 2 Ã— X in a single minute. If the cow, unaware of its pursuit, does not move at all, how long does it take for Farmer John to retrieve it? ","date":"2018-07-22","objectID":"/posts/poj-3278/:0:0","tags":["BFS","ACM","æœç´¢","POJ","C++"],"title":"POJ-3278-Catch That Cow(bfs)","uri":"/posts/poj-3278/"},{"categories":["ACM"],"content":"Input Line 1: Two space-separated integers: N and K ","date":"2018-07-22","objectID":"/posts/poj-3278/:0:1","tags":["BFS","ACM","æœç´¢","POJ","C++"],"title":"POJ-3278-Catch That Cow(bfs)","uri":"/posts/poj-3278/"},{"categories":["ACM"],"content":"Output Line 1: The least amount of time, in minutes, it takes for Farmer John to catch the fugitive cow. ","date":"2018-07-22","objectID":"/posts/poj-3278/:0:2","tags":["BFS","ACM","æœç´¢","POJ","C++"],"title":"POJ-3278-Catch That Cow(bfs)","uri":"/posts/poj-3278/"},{"categories":["ACM"],"content":"Sample Input 5 17 ","date":"2018-07-22","objectID":"/posts/poj-3278/:0:3","tags":["BFS","ACM","æœç´¢","POJ","C++"],"title":"POJ-3278-Catch That Cow(bfs)","uri":"/posts/poj-3278/"},{"categories":["ACM"],"content":"Sample Output 4 ","date":"2018-07-22","objectID":"/posts/poj-3278/:0:4","tags":["BFS","ACM","æœç´¢","POJ","C++"],"title":"POJ-3278-Catch That Cow(bfs)","uri":"/posts/poj-3278/"},{"categories":["ACM"],"content":"Hint The fastest way for Farmer John to reach the fugitive cow is to move along the following path: 5-10-9-18-17, which takes 4 minutes. ","date":"2018-07-22","objectID":"/posts/poj-3278/:0:5","tags":["BFS","ACM","æœç´¢","POJ","C++"],"title":"POJ-3278-Catch That Cow(bfs)","uri":"/posts/poj-3278/"},{"categories":["ACM"],"content":"é¢˜æ„ï¼š å†œåœºä¸»çš„ç‰›ä¸è§äº†ï¼Œä¸»äººå’Œç‰›åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œä¸”ç‰›æ²¡æœ‰æ–°çš„ç›®æ ‡ï¼Œå®ƒä¸ä¼šèµ°åŠ¨ï¼Œä¸»äººçš„ä½ç½®æ˜¯ä½  nï¼Œç‰›çš„ä½ç½®æ˜¯ kï¼Œä¸»äººå¯ä»¥æœ‰ä¸‰ç§èµ°è·¯çš„æ–¹æ³•ï¼Œå³å·¦ï¼ˆè·ç¦»+-1ï¼‰ï¼Œé—ªç°ï¼ˆè·ç¦»+x,x ä¸ºå½“å‰ä½ç½®ï¼‰ï¼Œæ¯èµ°ä¸€æ­¥ï¼Œä¸€åˆ†é’Ÿï¼Œé—®å‡ åˆ†é’Ÿä¸»äººèƒ½æ‰¾åˆ°ç‰›ã€‚bfs æœç´¢æ–¹å‘å³ä¸ºä¸‰ä¸ªâ€œæ–¹å‘â€ã€‚æœç´¢æ‰€æœ‰èµ°æ³•ï¼› #include\"iostream\" #include\u003cqueue\u003e #include\"string.h\" using namespace std; int n,k; bool sign[200007]; struct node{ int x,step; }; bool check(int a) { if(!sign[a]\u0026\u0026a\u003e=0\u0026\u0026a\u003c110000) return true; return false; } void bfs() { node u,v; queue\u003cnode\u003e q; v.x=n;//åˆå§‹åŒ–èµ·ç‚¹ v.step=0; q.push(v); sign[v.x]=true; while(!q.empty()){ u=q.front(); q.pop(); if(u.x==k){ cout\u003c\u003cu.step\u003c\u003cendl; return ; } //ä¸‰ç§å‰è¿›æ–¹å‘ï¼Œå·¦å³å’Œé—ªç° v=u; v.x++; v.step++; if(check(v.x)){ sign[v.x]=true; q.push(v); } v=u; v.x--; v.step++; if(check(v.x)){ sign[v.x]=true; q.push(v); } v=u; v.x=2*v.x; v.step++; if(check(v.x)){ sign[v.x]=true; q.push(v); } } } int main() { cin\u003e\u003en\u003e\u003ek; memset(sign,0,sizeof(sign)); bfs(); return 0; } ","date":"2018-07-22","objectID":"/posts/poj-3278/:0:6","tags":["BFS","ACM","æœç´¢","POJ","C++"],"title":"POJ-3278-Catch That Cow(bfs)","uri":"/posts/poj-3278/"},{"categories":["ACM"],"content":"è‹±æ–‡åŸé¢˜é“¾æ¥ ","date":"2018-07-22","objectID":"/posts/poj-2251/:0:0","tags":["BFS","ACM","æœç´¢","POJ","C++","C"],"title":"poj-2251-Dungeon Masterï¼ˆä¸‰ç»´ bfs æœ€çŸ­è·¯ï¼‰","uri":"/posts/poj-2251/"},{"categories":["ACM"],"content":"Description - é¢˜ç›®æè¿° ä½ è¢«å›°åœ¨ä¸€ä¸ªä¸‰ç»´çš„ç©ºé—´ä¸­ï¼Œç°åœ¨è¦å¯»æ‰¾æœ€çŸ­è·¯å¾„é€ƒç”Ÿï¼ ç©ºé—´ç”±ç«‹æ–¹ä½“å•ä½æ„æˆ ä½ æ¯æ¬¡å‘ä¸Šä¸‹å‰åå·¦å³ç§»åŠ¨ä¸€ä¸ªå•ä½éœ€è¦ä¸€åˆ†é’Ÿ ä½ ä¸èƒ½å¯¹è§’çº¿ç§»åŠ¨å¹¶ä¸”å››å‘¨å°é—­ æ˜¯å¦å­˜åœ¨é€ƒå‡ºç”Ÿå¤©çš„å¯èƒ½æ€§ï¼Ÿå¦‚æœå­˜åœ¨ï¼Œåˆ™éœ€è¦å¤šå°‘æ—¶é—´ï¼Ÿ ","date":"2018-07-22","objectID":"/posts/poj-2251/:0:1","tags":["BFS","ACM","æœç´¢","POJ","C++","C"],"title":"poj-2251-Dungeon Masterï¼ˆä¸‰ç»´ bfs æœ€çŸ­è·¯ï¼‰","uri":"/posts/poj-2251/"},{"categories":["ACM"],"content":"Input - è¾“å…¥ è¾“å…¥ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•°è¡¨ç¤ºç©ºé—´çš„æ•°é‡ã€‚ æ¯ä¸ªç©ºé—´çš„æè¿°çš„ç¬¬ä¸€è¡Œä¸º Lï¼ŒR å’Œ Cï¼ˆçš†ä¸è¶…è¿‡ 30ï¼‰ã€‚ L è¡¨ç¤ºç©ºé—´çš„é«˜åº¦ã€‚R å’Œ C åˆ†åˆ«è¡¨ç¤ºæ¯å±‚ç©ºé—´çš„è¡Œä¸åˆ—çš„å¤§å°ã€‚ éšå L å±‚åœ°ç‰¢ï¼Œæ¯å±‚ R è¡Œï¼Œæ¯è¡Œ C ä¸ªå­—ç¬¦ã€‚ æ¯ä¸ªå­—ç¬¦è¡¨ç¤ºç©ºé—´çš„ä¸€ä¸ªå•å…ƒã€‚â€™#â€˜è¡¨ç¤ºä¸å¯é€šè¿‡å•å…ƒï¼Œâ€™.â€˜è¡¨ç¤ºç©ºç™½å•å…ƒã€‚ä½ çš„èµ·å§‹ä½ç½®åœ¨â€™Sâ€™ï¼Œå‡ºå£ä¸ºâ€™Eâ€™ã€‚ æ¯å±‚ç©ºé—´åéƒ½æœ‰ä¸€ä¸ªç©ºè¡Œã€‚Lï¼ŒR å’Œ C å‡ä¸º 0 æ—¶è¾“å…¥ç»“æŸã€‚ ","date":"2018-07-22","objectID":"/posts/poj-2251/:0:2","tags":["BFS","ACM","æœç´¢","POJ","C++","C"],"title":"poj-2251-Dungeon Masterï¼ˆä¸‰ç»´ bfs æœ€çŸ­è·¯ï¼‰","uri":"/posts/poj-2251/"},{"categories":["ACM"],"content":"Output - è¾“å‡º æ¯ä¸ªç©ºé—´å¯¹åº”ä¸€è¡Œè¾“å‡ºã€‚ å¦‚æœå¯ä»¥é€ƒç”Ÿï¼Œåˆ™è¾“å‡ºå¦‚ä¸‹ Escaped in x minute(s). x ä¸ºæœ€çŸ­è„±ç¦»æ—¶é—´ã€‚ å¦‚æœæ— æ³•é€ƒç”Ÿï¼Œåˆ™è¾“å‡ºå¦‚ä¸‹ Trapped! ","date":"2018-07-22","objectID":"/posts/poj-2251/:0:3","tags":["BFS","ACM","æœç´¢","POJ","C++","C"],"title":"poj-2251-Dungeon Masterï¼ˆä¸‰ç»´ bfs æœ€çŸ­è·¯ï¼‰","uri":"/posts/poj-2251/"},{"categories":["ACM"],"content":"Sample Input - è¾“å…¥æ ·ä¾‹ 3 4 5 S.... .###. .##.. ###.# ##### ##.## ##... ##### #.### ####E 1 3 3 S## #E# ### 0 0 0 ","date":"2018-07-22","objectID":"/posts/poj-2251/:0:4","tags":["BFS","ACM","æœç´¢","POJ","C++","C"],"title":"poj-2251-Dungeon Masterï¼ˆä¸‰ç»´ bfs æœ€çŸ­è·¯ï¼‰","uri":"/posts/poj-2251/"},{"categories":["ACM"],"content":"Sample Output - è¾“å‡ºæ ·ä¾‹ Escaped in 11 minute(s). Trapped! ç±»ä¼¼äºŒç»´å››ä¸ªæ–¹å‘çš„ bfs æœ€çŸ­è·¯ï¼Œæ”¹æˆä¸Šä¸‹ä¸œè¥¿å—åŒ—å°±è¡Œäº†ï¼Œä¸‰ç»´ bfs æœ€çŸ­è·¯ #include \u003ciostream\u003e #include \u003cstdio.h\u003e #include \u003cstring.h\u003e #include \u003cqueue\u003e #include \u003calgorithm\u003e using namespace std; char map[35][35][35]; int vis[35][35][35]; int k,n,m,sx,sy,sz,ex,ey,ez; int to[6][3] = {{0,0,1},{0,0,-1},{0,1,0},{0,-1,0},{1,0,0},{-1,0,0}};//ä¸Šä¸‹ä¸œè¥¿å—åŒ— struct node { int x,y,z,step; }; int check(int x,int y,int z)//æ£€æŸ¥æ˜¯å¦å¯èµ° { if(x\u003c0 || y\u003c0 || z\u003c0 || x\u003e=k || y\u003e=n || z\u003e=m)//è¶Šç•Œåˆ¤æ–­ return 1; else if(map[x][y][z] == '#') return 1; else if(vis[x][y][z]) return 1; return 0; } int bfs() { int i; node a,next; queue\u003cnode\u003e Q; a.x = sx,a.y = sy,a.z = sz; a.step = 0; vis[sx][sy][sz] = 1; Q.push(a); while(!Q.empty()) { a = Q.front(); Q.pop(); if(a.x == ex \u0026\u0026 a.y == ey \u0026\u0026 a.z == ez) return a.step; for(i = 0; i\u003c6; i++) { next = a; next.x = a.x+to[i][0]; next.y = a.y+to[i][1]; next.z = a.z+to[i][2]; if(check(next.x,next.y,next.z)) continue; vis[next.x][next.y][next.z] = 1; next.step = a.step+1; Q.push(next); } } return 0; } int main() { int i,j,r; while(scanf(\"%d%d%d\",\u0026k,\u0026n,\u0026m),n+m+k) { for(i = 0; i\u003ck; i++) { for(j = 0; j\u003cn; j++) { scanf(\"%s\",map[i][j]); for(r = 0; r\u003cm; r++) { if(map[i][j][r] == 'S') { sx = i,sy = j,sz = r; } else if(map[i][j][r] == 'E') { ex = i,ey = j,ez = r; } } } } memset(vis,0,sizeof(vis)); int ans; ans = bfs(); if(ans) printf(\"Escaped in %d minute(s).\\n\",ans); else printf(\"Trapped!\\n\"); } return 0; } ","date":"2018-07-22","objectID":"/posts/poj-2251/:0:5","tags":["BFS","ACM","æœç´¢","POJ","C++","C"],"title":"poj-2251-Dungeon Masterï¼ˆä¸‰ç»´ bfs æœ€çŸ­è·¯ï¼‰","uri":"/posts/poj-2251/"},{"categories":["ACM"],"content":"Time Limit: 1000MS Memory Limit: 10000K Total Submissions: 63659 Accepted: 30423 ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:0","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"Description åœ¨ä¸€ä¸ªç»™å®šå½¢çŠ¶çš„æ£‹ç›˜ï¼ˆå½¢çŠ¶å¯èƒ½æ˜¯ä¸è§„åˆ™çš„ï¼‰ä¸Šé¢æ‘†æ”¾æ£‹å­ï¼Œæ£‹å­æ²¡æœ‰åŒºåˆ«ã€‚è¦æ±‚æ‘†æ”¾æ—¶ä»»æ„çš„ä¸¤ä¸ªæ£‹å­ä¸èƒ½æ”¾åœ¨æ£‹ç›˜ä¸­çš„åŒä¸€è¡Œæˆ–è€…åŒä¸€åˆ—ï¼Œè¯·ç¼–ç¨‹æ±‚è§£å¯¹äºç»™å®šå½¢çŠ¶å’Œå¤§å°çš„æ£‹ç›˜ï¼Œæ‘†æ”¾ k ä¸ªæ£‹å­çš„æ‰€æœ‰å¯è¡Œçš„æ‘†æ”¾æ–¹æ¡ˆ Cã€‚ ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:1","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"Input è¾“å…¥å«æœ‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚ æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ­£æ•´æ•°ï¼Œn kï¼Œç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œè¡¨ç¤ºäº†å°†åœ¨ä¸€ä¸ª n * n çš„çŸ©é˜µå†…æè¿°æ£‹ç›˜ï¼Œä»¥åŠæ‘†æ”¾æ£‹å­çš„æ•°ç›®ã€‚ n \u003c= 8 , k \u003c= n å½“ä¸º-1 -1 æ—¶è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚ éšåçš„ n è¡Œæè¿°äº†æ£‹ç›˜çš„å½¢çŠ¶ï¼šæ¯è¡Œæœ‰ n ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­ # è¡¨ç¤ºæ£‹ç›˜åŒºåŸŸï¼Œ . è¡¨ç¤ºç©ºç™½åŒºåŸŸï¼ˆæ•°æ®ä¿è¯ä¸å‡ºç°å¤šä½™çš„ç©ºç™½è¡Œæˆ–è€…ç©ºç™½åˆ—ï¼‰ã€‚ ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:2","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"Output å¯¹äºæ¯ä¸€ç»„æ•°æ®ï¼Œç»™å‡ºä¸€è¡Œè¾“å‡ºï¼Œè¾“å‡ºæ‘†æ”¾çš„æ–¹æ¡ˆæ•°ç›® C ï¼ˆæ•°æ®ä¿è¯ C\u003c2^31ï¼‰ã€‚ ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:3","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"Sample Input 2 1 #. .# 4 4 ...# ..#. .#.. #... -1 -1 ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:4","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"Sample Output 2 1 ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:5","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"Source è”¡é”™@pku ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:6","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"æ€è·¯ ä¸‹å­æ–¹æ¡ˆæ•°å°±ç›¸å½“äºéå†å›¾çš„ä¸åŒéå†æ•°ï¼Œç”¨ dfs å˜å½¢ã€‚ ç†è§£ä»¥ä¸‹æ•°æ®è¿˜æœ‰æ ·ä¾‹åº”è¯¥å·®ä¸å¤šäº† 3 2 #.. .#. ..# 3 3 2 #.. .## ..# 4 ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:7","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"AC ä»£ç  #include\u003ciostream\u003e #include\u003ccstdio\u003e #include\u003ccstring\u003e #include\u003calgorithm\u003e using namespace std; char mp[8][8]; int v[8]; int n,k,w,r;//çŠ¶æ€è®¡æ•°å™¨ r void dfs(int x)//é€è¡Œæ·±æœï¼Œx ä¸ºå½“å‰æœç´¢è¡Œ { if(w==k)//ä¸‹å­æ•° w { r++;return; } if(x==n)return; for(int i=0;i\u003cn;i++) { if(v[i]!=1\u0026\u0026mp[x][i]=='#') { v[i]=1; w++; dfs(x+1); w--; v[i]=0; } } dfs(x+1);//æœç´¢ä¸‹ä¸€è¡Œ } int main() { while(cin\u003e\u003en\u003e\u003ek) { if(n==-1\u0026\u0026k==-1) return 0; memset(mp,0,sizeof(mp)); memset(v,0,sizeof(v)); for(int i=0;i\u003cn;i++) cin\u003e\u003emp[i]; w=0;r=0; dfs(0); cout\u003c\u003cr\u003c\u003cendl; } } ä¼ é€é—¨ ","date":"2018-07-22","objectID":"/posts/poj-1321/:0:8","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1321 æ£‹ç›˜é—®é¢˜ï¼ˆdfsï¼‰","uri":"/posts/poj-1321/"},{"categories":["ACM"],"content":"Find The Multiple Time Limit: 1000MS Memory Limit: 10000K Total Submissions: 40713 Accepted: 17088 Special Judge ","date":"2018-07-22","objectID":"/posts/poj-1426/:1:0","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1426-Find The Multiple(dfs)","uri":"/posts/poj-1426/"},{"categories":["ACM"],"content":"Description Given a positive integer n, write a program to find out a nonzero multiple m of n whose decimal representation contains only the digits 0 and 1. You may assume that n is not greater than 200 and there is a corresponding m containing no more than 100 decimal digits. ","date":"2018-07-22","objectID":"/posts/poj-1426/:1:1","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1426-Find The Multiple(dfs)","uri":"/posts/poj-1426/"},{"categories":["ACM"],"content":"Input The input file may contain multiple test cases. Each line contains a value of n (1 \u003c= n \u003c= 200). A line containing a zero terminates the input. ","date":"2018-07-22","objectID":"/posts/poj-1426/:1:2","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1426-Find The Multiple(dfs)","uri":"/posts/poj-1426/"},{"categories":["ACM"],"content":"Output For each value of n in the input print a line containing the corresponding value of m. The decimal representation of m must not contain more than 100 digits. If there are multiple solutions for a given value of n, any one of them is acceptable. ","date":"2018-07-22","objectID":"/posts/poj-1426/:1:3","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1426-Find The Multiple(dfs)","uri":"/posts/poj-1426/"},{"categories":["ACM"],"content":"Sample Input 2 6 19 0 ","date":"2018-07-22","objectID":"/posts/poj-1426/:1:4","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1426-Find The Multiple(dfs)","uri":"/posts/poj-1426/"},{"categories":["ACM"],"content":"Sample Output 10 100100100100100100 111111111111111111 ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºæ¥å¯»æ‰¾ n çš„ä¸€ä¸ªéé›¶çš„å€æ•° mï¼Œè¿™ä¸ª m åº”å½“åœ¨åè¿›åˆ¶è¡¨ç¤ºæ—¶æ¯ä¸€ä½ä¸ŠåªåŒ…å« 0 æˆ–è€… 1ã€‚ä½ å¯ä»¥å‡å®š n ä¸å¤§äº 200 ä¸” m ä¸å¤šäº 100 ä½ã€‚ æç¤ºï¼šæœ¬é¢˜é‡‡ç”¨ Special Judgeï¼Œä½ æ— éœ€è¾“å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ mï¼Œä½ åªéœ€è¦è¾“å‡ºä»»ä¸€ç¬¦åˆæ¡ä»¶çš„ m å³å¯ã€‚ #include\"iostream\" using namespace std; typedef unsigned long long ll; int n; bool sign; void dfs(ll x,int count) { if(sign) return ; if(x%n==0){ sign=true; cout\u003c\u003cx\u003c\u003cendl; return ; } if(count==19)//m æœ€å¤š 200 ä½ return ; dfs(x*10,count+1); dfs(x*10+1,count+1); //æ¯ä¸¤ä½æ•°åä¸¤ä½æœ‰ä¸¤ç§æƒ…å†µï¼Œ10 æˆ– 11ï¼Œæ·±æœæ‰€æœ‰æƒ…å†µï¼Œæ‰¾åˆ°ä¸€ç§å°±è¿”å›ï¼Œæ‰¾ä¸åˆ°æ‰¾å¦å¤–ä¸€é¢—å­æ ‘ } int main() { while(cin\u003e\u003en\u0026\u0026n) { sign=false; dfs(1,0); } return 0; } ","date":"2018-07-22","objectID":"/posts/poj-1426/:1:5","tags":["DFS","ACM","æœç´¢","POJ","C++"],"title":"poj-1426-Find The Multiple(dfs)","uri":"/posts/poj-1426/"},{"categories":["ACM"],"content":"Codeforces Round 498 (Div. 3) A. Adjacent Replacementsï¼ˆæ°´ï¼‰","date":"2018-07-22","objectID":"/posts/adjacent-replacements/","tags":["Codeforces","ACM","C++"],"title":"Adjacent Replacements","uri":"/posts/adjacent-replacements/"},{"categories":["ACM"],"content":"A. Adjacent Replacements ç¬¬ä¸€æ¬¡æ‰“ cf å°±åšå‡ºä¸€é“è¿™æ ·çš„æ‰¾è§„å¾‹çš„é¢˜ï¼Œæ‰“åˆ°è‡ªé—­ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int main(){ int n,a[1001]; cin\u003e\u003en; int i; int flag=0; for(i=0;i\u003cn;i++){ cin\u003e\u003ea[i]; if(!(a[i]\u00261)) a[i]--; if(!flag) {cout\u003c\u003ca[i];flag=1;} else cout\u003c\u003c\" \"\u003c\u003ca[i]; } return 0; } ","date":"2018-07-22","objectID":"/posts/adjacent-replacements/:0:0","tags":["Codeforces","ACM","C++"],"title":"Adjacent Replacements","uri":"/posts/adjacent-replacements/"},{"categories":["ACM"],"content":"è¿·å®«é—®é¢˜ Time Limit: 1000MS Memory Limit: 65536K Total Submissions: 32323 Accepted: 18471 ","date":"2018-07-22","objectID":"/posts/poj-3984/:0:1","tags":["BFS","ACM","POJ","C++","C"],"title":"poj-3984-è¿·å®«é—®é¢˜ (bfs è·¯å¾„ï¼‰","uri":"/posts/poj-3984/"},{"categories":["ACM"],"content":"Description å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼š int maze[5][5] = { 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, }; å®ƒè¡¨ç¤ºä¸€ä¸ªè¿·å®«ï¼Œå…¶ä¸­çš„ 1 è¡¨ç¤ºå¢™å£ï¼Œ0 è¡¨ç¤ºå¯ä»¥èµ°çš„è·¯ï¼Œåªèƒ½æ¨ªç€èµ°æˆ–ç«–ç€èµ°ï¼Œä¸èƒ½æ–œç€èµ°ï¼Œè¦æ±‚ç¼–ç¨‹åºæ‰¾å‡ºä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æœ€çŸ­è·¯çº¿ã€‚ ","date":"2018-07-22","objectID":"/posts/poj-3984/:0:2","tags":["BFS","ACM","POJ","C++","C"],"title":"poj-3984-è¿·å®«é—®é¢˜ (bfs è·¯å¾„ï¼‰","uri":"/posts/poj-3984/"},{"categories":["ACM"],"content":"Input ä¸€ä¸ª 5 Ã— 5 çš„äºŒç»´æ•°ç»„ï¼Œè¡¨ç¤ºä¸€ä¸ªè¿·å®«ã€‚æ•°æ®ä¿è¯æœ‰å”¯ä¸€è§£ã€‚ ","date":"2018-07-22","objectID":"/posts/poj-3984/:0:3","tags":["BFS","ACM","POJ","C++","C"],"title":"poj-3984-è¿·å®«é—®é¢˜ (bfs è·¯å¾„ï¼‰","uri":"/posts/poj-3984/"},{"categories":["ACM"],"content":"Output å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æœ€çŸ­è·¯å¾„ï¼Œæ ¼å¼å¦‚æ ·ä¾‹æ‰€ç¤ºã€‚ ","date":"2018-07-22","objectID":"/posts/poj-3984/:0:4","tags":["BFS","ACM","POJ","C++","C"],"title":"poj-3984-è¿·å®«é—®é¢˜ (bfs è·¯å¾„ï¼‰","uri":"/posts/poj-3984/"},{"categories":["ACM"],"content":"Sample Input 0 1 0 0 0 0 1 0 1 0 0 0 0 0 0 0 1 1 1 0 0 0 0 1 0 ","date":"2018-07-22","objectID":"/posts/poj-3984/:0:5","tags":["BFS","ACM","POJ","C++","C"],"title":"poj-3984-è¿·å®«é—®é¢˜ (bfs è·¯å¾„ï¼‰","uri":"/posts/poj-3984/"},{"categories":["ACM"],"content":"Sample Output (0, 0) (1, 0) (2, 0) (2, 1) (2, 2) (2, 3) (2, 4) (3, 4) (4, 4) å¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œä¸»è¦æ˜¯ bfs è·¯å¾„çš„é—®é¢˜æœ‰ç‚¹éš¾åº¦ï¼Œæå¾—æ™•æ™•çš„ã€‚ #include\u003ciostream\u003e #include\u003ccstring\u003e using namespace std; int map[5][5]; int visited[5][5]; int dx[4]={0, 1, 0, -1}; int dy[4]={ 1, 0,-1, 0}; int head,tail; struct node{ int xx,yy; int fa;//çˆ¶èŠ‚ç‚¹ }pre[25],way[25]; void BFS(int x,int y) { int x1,y1; head=0,tail=1; visited[x][y]=1; pre[0].xx=x,pre[0].yy=y; while(tail\u003ehead)//æ ˆç©º { x=pre[head].xx; y=pre[head].yy; if(x==4\u0026\u0026y==4)//ç»“æŸæ ‡å¿— return ; for(int i=0;i\u003c4;i++) { x1=x+dx[i];y1=y+dy[i]; if(x1\u003e=0\u0026\u0026x1\u003c=4\u0026\u0026y1\u003e=0\u0026\u0026y1\u003c=4) if(map[x1][y1]==0\u0026\u0026!visited[x1][y1]) { pre[tail].xx=x1; pre[tail].yy=y1; pre[tail].fa=head; visited[x1][y1]=1; tail+=1;//å…¥æ ˆ } } head++;//ç›¸å½“äºå‡ºæ ˆ } } int main() { int i,j; ios::sync_with_stdio(false); memset(map,0,sizeof(map)); memset(visited,0,sizeof(visited)); for(i=0;i\u003c5;i++) for(j=0;j\u003c5;j++) cin\u003e\u003emap[i][j]; BFS(0,0); i=0; while(head)//é€†åºè¿›è¡Œèµ‹å€¼è¾“å‡ºå°±æ˜¯é€šè·¯ { way[i].xx=pre[head].xx; way[i].yy=pre[head].yy; head=pre[head].fa; i++; } //ç”»ä¸€ä¸‹é˜Ÿåˆ— way[i].xx=0;way[i].yy=0; while(i!=-1) { cout\u003c\u003c\"(\"\u003c\u003cway[i].xx\u003c\u003c\", \"\u003c\u003cway[i].yy\u003c\u003c\")\"\u003c\u003cendl; i--; } return 0; } ","date":"2018-07-22","objectID":"/posts/poj-3984/:0:6","tags":["BFS","ACM","POJ","C++","C"],"title":"poj-3984-è¿·å®«é—®é¢˜ (bfs è·¯å¾„ï¼‰","uri":"/posts/poj-3984/"},{"categories":["ACM"],"content":"é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/133/A æ¥æºï¼šç‰›å®¢ç½‘ ","date":"2018-07-22","objectID":"/posts/wannafly-20/:0:0","tags":["ACM","Nowcoder","C++","C"],"title":"Wannafly æŒ‘æˆ˜èµ› 20-æŸ“è‰²","uri":"/posts/wannafly-20/"},{"categories":["ACM"],"content":"é¢˜ç›®æè¿° ç°åœ¨æœ‰ä¸€æ£µè¢« Samsara-Karma æŸ“äº† k ç§é¢œè‰²çš„æ ‘ï¼Œæ¯ç§é¢œè‰²æœ‰ç€ä¸åŒçš„ä»·å€¼ï¼ŒApplese è§‰å¾— Samsara-Karma æŸ“çš„å¤ªéš¾çœ‹äº†ï¼Œäºæ˜¯æ‰“ç®—æŠŠæ•´æ£µæ ‘é‡æ–°æŸ“æˆåŒä¸€ç§é¢œè‰²ï¼Œä½†æ˜¯ï¼Œç”±äºä¸€äº›å¥¥å¦™é‡é‡çš„åŸå› ï¼Œæ¯ä¸€æ¬¡æŸ“è‰² Applese å¯ä»¥é€‰æ‹©ä¸¤ä¸ªæœ‰è¾¹ç›¸è¿çš„ç‚¹ï¼Œå°†å…¶ä¸­ä¸€ä¸ªæŸ“æˆå¦ä¸€ä¸ªçš„é¢œè‰²ã€‚è€Œè¿›è¡Œä¸€æ¬¡è¿™æ ·çš„æ“ä½œéœ€è¦ä»˜å‡ºä¸¤ç§é¢œè‰²ä»·å€¼å’Œçš„ä»£ä»·ï¼Œ ç°åœ¨ï¼ŒApplese çš„é’±è¦ç”¨æ¥ä¹°ä¹¦ (game)ï¼Œæ‰€ä»¥ä»–æƒ³è¦æœ€å°åŒ–ä»£ä»· ","date":"2018-07-22","objectID":"/posts/wannafly-20/:0:1","tags":["ACM","Nowcoder","C++","C"],"title":"Wannafly æŒ‘æˆ˜èµ› 20-æŸ“è‰²","uri":"/posts/wannafly-20/"},{"categories":["ACM"],"content":"è¾“å…¥æè¿°ï¼š è¾“å…¥åŒ…æ‹¬è‹¥å¹²è¡Œç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ªæ•° nï¼Œè¡¨ç¤ºè¿™æ£µæ ‘æœ‰ n ä¸ªèŠ‚ç‚¹ç¬¬äºŒè¡ŒåŒ…æ‹¬ n ä¸ªæ•°ï¼Œç¬¬ i ä¸ªæ•°è¡¨ç¤ºç¬¬ i ä¸ªèŠ‚ç‚¹çš„é¢œè‰² coli æ³¨æ„ï¼šä¸€ä¸ªé¢œè‰²çš„æ ‡å·å³ä»·å€¼æ¥ä¸‹æ¥çš„ n - 1 è¡Œï¼Œæ¯è¡ŒåŒ…æ‹¬ä¸¤ä¸ªæ•° u, vï¼Œè¡¨ç¤º u èŠ‚ç‚¹ä¸ v èŠ‚ç‚¹ä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ n â‰¤ 100000, 1 â‰¤ coli â‰¤ 1e9ï¼Œæ•°æ®ä¿è¯æ˜¯ä¸€æ£µæ ‘ ","date":"2018-07-22","objectID":"/posts/wannafly-20/:0:2","tags":["ACM","Nowcoder","C++","C"],"title":"Wannafly æŒ‘æˆ˜èµ› 20-æŸ“è‰²","uri":"/posts/wannafly-20/"},{"categories":["ACM"],"content":"è¾“å‡ºæè¿°ï¼š è¾“å‡ºåŒ…æ‹¬ä¸€è¡Œç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæœ€å°ä»£ä»· ","date":"2018-07-22","objectID":"/posts/wannafly-20/:0:3","tags":["ACM","Nowcoder","C++","C"],"title":"Wannafly æŒ‘æˆ˜èµ› 20-æŸ“è‰²","uri":"/posts/wannafly-20/"},{"categories":["ACM"],"content":"ç¤ºä¾‹ 1 è¾“å…¥ 4 2 3 4 3 1 2 2 3 3 4 è¾“å‡º 12 è’Ÿè’»æš´åŠ›æšä¸¾-_-! #include \u003cbits/stdc++.h\u003e using namespace std; const int MAXN=1e5+10; int a[MAXN]; map\u003cint, int \u003ema; set\u003cint\u003ese; int x[MAXN],y[MAXN]; int main() { int n; scanf(\"%d\",\u0026n); for (int i = 1; i \u003c=n ; ++i) { scanf(\"%d\",\u0026a[i]); se.insert(a[i]); } for (int i = 1; i \u003cn ; ++i) { scanf(\"%d%d\",\u0026x[i],\u0026y[i]); } long long ans=1e14,sum=0; set\u003cint\u003e::iterator it; for (it=se.begin(); it !=se.end() ; ++it) { sum=0; for (int j = 1; j \u003c=n ; ++j) { if((*it)!=a[j]) sum+=((*it)+a[j]); } ans=min(sum,ans); } printf(\"%lld\\n\",ans); return 0; } æœ€åæƒ³è¯´è¿™éƒ½è¿‡äº†ä»€ä¹ˆé¬¼ï¼Œä¸ä¼šæ•°æ®è¿™ä¹ˆå¼±å§ï¼Ÿï¼Ÿï¼? æˆ‘åªæšä¸¾äº†æœ€å°çš„ä»·å€¼é¢œè‰²çš„æƒ…å†µï¼Œå”‰ï¼Œä¸ç®¡äº†ä¸ç®¡äº†ã€‚ #include\u003cbits/stdc++.h\u003e using namespace std; int a[1000000],n,m,k=1,t,ans=0; int main() { scanf(\"%d\",\u0026n); for(int i=1;i\u003c=n;++i) scanf(\"%d\",\u0026a[i]); sort(a+1,a+n+1); for(int i=2;i\u003c=n;++i) if(a[i]!=a[1]) ans+=a[i]+a[1]; printf(\"%d\",ans); return 0; } ","date":"2018-07-22","objectID":"/posts/wannafly-20/:0:4","tags":["ACM","Nowcoder","C++","C"],"title":"Wannafly æŒ‘æˆ˜èµ› 20-æŸ“è‰²","uri":"/posts/wannafly-20/"},{"categories":["ACM"],"content":"Oil Deposits ç¿»è¯‘ Time Limit: 2000/1000 MS (Java/Others) Memory Limit: 65536/32768 K (Java/Others) Total Submission(s): 41406 Accepted Submission(s): 23977 Problem Description The GeoSurvComp geologic survey company is responsible for detecting underground oil deposits. GeoSurvComp works with one large rectangular region of land at a time, and creates a grid that divides the land into numerous square plots. It then analyzes each plot separately, using sensing equipment to determine whether or not the plot contains oil. A plot containing oil is called a pocket. If two pockets are adjacent, then they are part of the same oil deposit. Oil deposits can be quite large and may contain numerous pockets. Your job is to determine how many different oil deposits are contained in a grid. Input The input file contains one or more grids. Each grid begins with a line containing m and n, the number of rows and columns in the grid, separated by a single space. If m = 0 it signals the end of the input; otherwise 1 \u003c= m \u003c= 100 and 1 \u003c= n \u003c= 100. Following this are m lines of n characters each (not counting the end-of-line characters). Each character corresponds to one plot, and is either â€™ * â€˜, representing the absence of oil, or â€˜@â€™, representing an oil pocket. Output For each grid, output the number of distinct oil deposits. Two different pockets are part of the same oil deposit if they are adjacent horizontally, vertically, or diagonally. An oil deposit will not contain more than 100 pockets. Sample Input 1 1 * 3 5 *@*@* **@** *@*@* 1 8 @@****@* 5 5 ****@ *@@*@ *@**@ @@@*@ @@**@ 0 0 Sample Output 0 1 2 Source Mid-Central USA 1997 Recommend Eddy | We have carefully selected several similar problems for you: 1016 1010 1312 1242 1240 æ€è·¯ dfs æ¨¡æ¿é¢˜å§ï¼Œå…«ä¸ªæ–¹å‘æœç´¢ï¼›ï¼ˆåƒ iï¼Œj è¿™æ ·çš„è®¡æ•°å™¨è¿˜æ˜¯å†™åœ¨å±€éƒ¨æ¯”è¾ƒå¥½ï¼Œæˆ‘å°½ç„¶è¢«å®šä¹‰åŸŸçš„é—®é¢˜æäº†ä¸€æ™šä¸Šé†‰äº†é†‰äº†ã€‚ï¼‰ #include\u003cbits/stdc++.h\u003e using namespace std; int n,m,s; char maze[107][107]; int vx[8]={-1,1,0,0,-1,-1,1,1}; int vy[8]={0,0,-1,1,-1,1,1,-1}; void dfs(int x,int y){ maze[x][y]='*'; for(int i=0;i\u003c8;i++){ int tx=x+vx[i]; int ty=y+vy[i]; if(tx\u003e=0\u0026\u0026tx\u003cm\u0026\u0026ty\u003e=0\u0026\u0026ty\u003cn\u0026\u0026maze[tx][ty]=='@') dfs(tx,ty); } } int main(){ int i,j; while(cin\u003e\u003em\u003e\u003en\u0026\u0026m){ s=0; for(i=0;i\u003cm;i++) cin\u003e\u003emaze[i]; for(i=0;i\u003cm;i++){//ç›¸å½“äºä¸è¿é€šçš„æƒ…å†µ for(j=0;j\u003cn;j++){ if(maze[i][j]=='@'){ dfs(i,j); s++; } } } cout\u003c\u003cs\u003c\u003cendl; } return 0; } ","date":"2018-07-22","objectID":"/posts/hdu-1241/:1:0","tags":["DFS","æœç´¢","HDU","ACM","C++"],"title":"hdu-1241-Oil Deposits (dfs)","uri":"/posts/hdu-1241/"},{"categories":["ACM"],"content":"å‡è®¾æœ‰ä¸€ä¸ª n è¡Œ m åˆ—çš„è¿·å®«ï¼Œæ¯ä¸ªå•ä½è¦ä¹ˆæ˜¯ç©ºåœ°ï¼ˆç”¨ 1 è¡¨ç¤ºï¼‰è¦ä¹ˆæ˜¯éšœç¢ç‰©ï¼ˆç”¨ 0 è¡¨ç¤ºï¼‰. å¦‚å’Œæ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Ÿåˆ©ç”¨ BFS æœç´¢ï¼Œé€æ­¥è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åˆ°èµ·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œ ä»¥åŠæœ€çŸ­è·¯å¾„æ¯ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚æœ€ç»ˆå°†ç”Ÿæˆä¸€é¢—ä»¥èµ·ç‚¹ä¸ºæ ¹çš„ BFS æ ‘ã€‚æ­¤æ—¶ BFS å¯ä»¥æ±‚å‡ºä»»æ„ä¸€ç‚¹åˆ°èµ·ç‚¹çš„è·ç¦»ã€‚ ","date":"2018-07-22","objectID":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/:0:0","tags":["BFS","æœç´¢","C++"],"title":"BFS æ±‚æœ€çŸ­è·¯","uri":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/"},{"categories":["ACM"],"content":"å›¾ 1 3 0 21 23 2 0 17 20 22 4 0 14 0 0 5 0 12 15 18 6 8 10 0 19 7 9 11 13 16 ","date":"2018-07-22","objectID":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/:1:0","tags":["BFS","æœç´¢","C++"],"title":"BFS æ±‚æœ€çŸ­è·¯","uri":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/"},{"categories":["ACM"],"content":"è¾“å…¥ 6 5 1 1 0 1 1 1 0 1 1 1 1 0 1 0 0 1 0 1 1 1 1 1 1 0 1 1 1 1 1 1 ","date":"2018-07-22","objectID":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/:2:0","tags":["BFS","æœç´¢","C++"],"title":"BFS æ±‚æœ€çŸ­è·¯","uri":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/"},{"categories":["ACM"],"content":"è¾“å‡º 1 2 4 5 6 8 10 12 14 17 20 21 23 12//æœ€çŸ­è·ç¦» ","date":"2018-07-22","objectID":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/:3:0","tags":["BFS","æœç´¢","C++"],"title":"BFS æ±‚æœ€çŸ­è·¯","uri":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/"},{"categories":["ACM"],"content":"ä»£ç  #include\u003ciostream\u003e #include\u003cqueue\u003e #include\u003ccstdio\u003e #include\u003ccstring\u003e #include\u003cvector\u003e using namespace std; const int maxn=100+5; int G[maxn][maxn]; //å­˜å›¾çš„ d=id int path[maxn]; //å­˜æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå³è·¯å¾„ int n,m; //n è¡Œ m åˆ— int k=1;//è®°å½•ç¼–å· int end_num; int vx[5] = {-1,1,0,0}; //vx vy ç”¨æ¥è®¡ç®—ä¸€ä¸ªèŠ‚ç‚¹å‘¨å›´ä¸Šä¸‹å·¦å³ 4 ä¸ªèŠ‚ç‚¹ int vy[5] = {0,0,-1,1}; bool vis[maxn][maxn]; //åˆ¤æ–­æŸèŠ‚ç‚¹æ˜¯å¦å·²ç»è¢«è®¿é—®è¿‡ struct node { int x; int y; int id; int parent=0; node(int a,int b,int c) { x=a; y=b; id=c; } }; int main() { //freopen(\"in.txt\",\"r\",stdin); memset(G,0,sizeof(G)); memset(vis,0,sizeof(vis)); memset(path,0,sizeof(path)); cin\u003e\u003en\u003e\u003em; for(int i=1; i\u003c=n; i++) for(int j=1; j\u003c=m; j++) { cin\u003e\u003eG[i][j]; } queue\u003cnode\u003e q; node v=node(1,1,1); q.push(v); vis[1][1]=1; while(!q.empty()) { node u=q.front(); q.pop(); path[u.id]=u.parent;//è®°å½•æ¯ä¸ªç‚¹çš„çˆ¶èŠ‚ç‚¹ for(int i=0; i\u003c4; i++) { int tx=u.x+vx[i]; int ty=u.y+vy[i]; if(G[tx][ty]\u0026\u0026!vis[tx][ty])//æœ‰è·¯å¯èµ°ä¸”æœªè®¿é—® { vis[tx][ty]=1; //cout\u003c\u003ctx\u003c\u003cty\u003c\u003cendl; node v=node(tx,ty,++k); end_num=k; v.parent=u.id; q.push(v); } } } vector\u003cint\u003e ans; //cout\u003c\u003cend_num\u003c\u003cendl; while(end_num)//ä»åé¢å¼€å§‹æ‰¾çˆ¶äº²èŠ‚ç‚¹ { ans.push_back(end_num); end_num=path[end_num]; } int s=0; while(!ans.empty()) { s++; cout\u003c\u003c*(ans.end()-1)\u003c\u003c' ';//ans æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ 0 ans.pop_back(); } cout\u003c\u003cendl\u003c\u003cs-1; return 0; } ","date":"2018-07-22","objectID":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/:4:0","tags":["BFS","æœç´¢","C++"],"title":"BFS æ±‚æœ€çŸ­è·¯","uri":"/posts/bfs%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/"},{"categories":["ACM"],"content":"é‚£å¤©æ™šä¸ŠæŠ¥åäº†æ²¡æ‰“ï¼Œç¬¬äºŒå¤©æ—©ä¸Šæ‰“çš„ï¼Œä¹Ÿåªå‡ºäº†ä¸¤é¢˜ã€‚ ","date":"2018-07-22","objectID":"/posts/cf-1009/:0:0","tags":["Codeforces","ACM","C++","C"],"title":"Educational Codeforces Round 47 (Rated for Div. 2)","uri":"/posts/cf-1009/"},{"categories":["ACM"],"content":"A. Game Shopping #include\u003ciostream\u003e using namespace std; int main(){ int n,m,s=0; cin\u003e\u003en\u003e\u003em; int i,j; int c[1000],a[1000]; for(i=0;i\u003cn;i++) cin\u003e\u003ec[i]; for(i=0;i\u003cm;i++) cin\u003e\u003ea[i]; for(i=0,j=0;i\u003cn;){ if(j==m) break; if(c[i]\u003c=a[j]){ s++; j++; i++; } else i++; } if(i==n\u0026\u0026s==0) cout\u003c\u003c\"0\\n\"; else cout\u003c\u003cs\u003c\u003cendl; return 0; } ","date":"2018-07-22","objectID":"/posts/cf-1009/:1:0","tags":["Codeforces","ACM","C++","C"],"title":"Educational Codeforces Round 47 (Rated for Div. 2)","uri":"/posts/cf-1009/"},{"categories":["ACM"],"content":"B. Minimum Ternary String #include \u003cbits/stdc++.h\u003e using namespace std; string s, ans; int main(){ cin \u003e\u003e s; int one = 0; for (int i = 0; i \u003c s.size(); i++){ if (s[i] == '0') ans += \"0\"; if (s[i] == '1') one++; if (s[i] == '2') ans += \"2\"; } bool flag = false; for (int i = 0; i \u003c ans.size(); i++){ if (ans[i] == '2' \u0026\u0026 !flag) flag = true, cout \u003c\u003c string(one, '1'); cout \u003c\u003c ans[i]; } if (!flag) cout \u003c\u003c string(one, '1'); return 0; } /* 100210 11222121 20 2001 020201 2012101 111 000 */ ","date":"2018-07-22","objectID":"/posts/cf-1009/:2:0","tags":["Codeforces","ACM","C++","C"],"title":"Educational Codeforces Round 47 (Rated for Div. 2)","uri":"/posts/cf-1009/"},{"categories":["ACM"],"content":" 2018 å¹´å…¨å›½å¤šæ ¡ç®—æ³•å¯’å‡è®­ç»ƒè¥ç»ƒä¹ æ¯”èµ›ï¼ˆç¬¬äºŒåœºï¼‰B(0 1 èƒŒåŒ…å˜åŒ– ç‰¹æ®Šå¤„ç†ä¸€ä¸ªç‰©å“ï¼‰ é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/74/B æ¥æºï¼šç‰›å®¢ç½‘ ","date":"2018-07-22","objectID":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/:0:0","tags":["èƒŒåŒ…é—®é¢˜","Nowcoder","C++"],"title":"TaoTao è¦åƒé¸¡","uri":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/"},{"categories":["ACM"],"content":"é¢˜ç›®æè¿° Taotao çš„ç”µè„‘å¸¦ä¸åŠ¨ç»åœ°æ±‚ç”Ÿï¼Œæ‰€ä»¥ taotao åªèƒ½å»ç© pc ç‰ˆçš„è’é‡è¡ŒåŠ¨äº†ï¼Œ å’Œç»åœ°æ±‚ç”Ÿä¸€æ ·ï¼Œæ¸¸æˆäººç‰©æœ¬èº«å¯ä»¥æºå¸¦ä¸€å®šé‡é‡ m çš„ç‰©å“ï¼Œè£…å¤‡èƒŒåŒ… ä¹‹åå¯ä»¥å¤šæºå¸¦ hï¼ˆh ä¸º 0 ä»£è¡¨æ²¡æœ‰è£…å¤‡èƒŒåŒ…ï¼‰é‡é‡çš„ä¸œè¥¿ã€‚ç©äº†å‡ å¤© taotao å‘ç°äº†ä¸€ä¸ª BUGï¼Œå½“è£…å¤‡èƒŒåŒ…ä¹‹åï¼Œå¦‚æœå¯æºå¸¦é‡é‡æ²¡æœ‰æ»¡ï¼Œå°± å¯ä»¥æ‹¿ä¸€ä¸ªä»»æ„é‡çš„ä¸œè¥¿ã€‚ï¼ˆè§£é‡Šçœ‹æ ·ä¾‹ï¼‰æœ‰ä¸€å¤© taotao ç©ºé™åˆ°äº†ä¸€ä¸ª å¥‡æ€ªçš„å²›ä¸Šï¼Œå²›ä¸Šæœ‰ n ä»¶è£…å¤‡ï¼Œæ¯ä¸ªè£…å¤‡éƒ½æœ‰é‡é‡ Wi å’Œå¨åŠ›å€¼ Vi, ä½† taotao ä¸è®¤è¯†è¿™äº›è£…å¤‡ï¼Œæ‰€ä»¥ä»–æ¥æ±‚åŠ©ä½ ï¼ŒæŒ‘é€‰å¨åŠ›æœ€å¤§çš„è£…å¤‡ï¼Œå¸®åŠ©ä»–åƒé¸¡ã€‚ ","date":"2018-07-22","objectID":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/:0:1","tags":["èƒŒåŒ…é—®é¢˜","Nowcoder","C++"],"title":"TaoTao è¦åƒé¸¡","uri":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/"},{"categories":["ACM"],"content":"è¾“å…¥æè¿°ï¼š æœ¬é¢˜æœ‰å¤šç»„è¾“å…¥ï¼ˆå°äº 10ï¼‰ï¼Œå½“ n=0 æ—¶ç»“æŸè¾“å…¥ã€‚ç¬¬ä¸€è¡Œè¾“å…¥ n,m,hã€‚nï¼Œmï¼Œh ä¸ºæ•´æ•°ï¼Œå¹¶ä¸” 0\u003c=n,m,h\u003c=100ï¼Œæ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œè¾“å…¥ç¬¬ i ä¸ªç‰©å“çš„ç‰©å“çš„é‡é‡ Wi å’Œå¨åŠ›å€¼ Viã€‚0\u003c=Wi,Vi\u003c=100. ","date":"2018-07-22","objectID":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/:0:2","tags":["èƒŒåŒ…é—®é¢˜","Nowcoder","C++"],"title":"TaoTao è¦åƒé¸¡","uri":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/"},{"categories":["ACM"],"content":"è¾“å‡ºæè¿°ï¼š è¾“å‡ºæœ€å¤§å¨åŠ›å€¼ï¼Œæ¯ç»„è¾“å‡ºä¸€è¡Œã€‚ ","date":"2018-07-22","objectID":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/:0:3","tags":["èƒŒåŒ…é—®é¢˜","Nowcoder","C++"],"title":"TaoTao è¦åƒé¸¡","uri":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/"},{"categories":["ACM"],"content":"ç¤ºä¾‹ 1 è¾“å…¥ 3 3 3 2 3 3 2 2 3 0 è¾“å‡º 8 ","date":"2018-07-22","objectID":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/:0:4","tags":["èƒŒåŒ…é—®é¢˜","Nowcoder","C++"],"title":"TaoTao è¦åƒé¸¡","uri":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/"},{"categories":["ACM"],"content":"è¯´æ˜ å¯æºå¸¦çš„æ€»é‡é‡ä¸º 6ï¼Œå½“æ‹¿äº†å‰ä¸¤ä»¶è£…å¤‡ï¼Œæ­¤æ—¶å®¹é‡ä¸º 5/6ï¼Œè¿˜å¯ä»¥å†æ‹¿ç¬¬ä¸‰ä»¶ç‰©å“ã€‚ æ€è·¯ï¼š0-1 èƒŒåŒ…çš„å˜å½¢é¢˜ç›®ï¼Œh=0 çš„æ—¶å€™ä¸ºèƒŒåŒ…çš„æ¨¡æ¿ï¼Œhï¼=0 çš„æ—¶å€™æšä¸¾æ¯ä¸€ä¸ªéœ€è¦ç‰¹æ®Šå¤„ç†çš„ç‰©å“å†èƒŒåŒ… #include \u003cbits/stdc++.h\u003e using namespace std; int v[105]; int w[105]; int n,m,h; int dp[205]; int main() { while(scanf(\"%d\",\u0026n)==1\u0026\u0026n!=0){ int sum=0; scanf(\"%d%d\",\u0026m,\u0026h); for(int i=1;i\u003c=n;i++) scanf(\"%d%d\",\u0026w[i],\u0026v[i]); if(h==0){ memset(dp,0,sizeof(dp)); for(int i=1;i\u003c=n;i++) //å‰ i ä¸ªç‰©å“ for(int j=m;j\u003e=w[i];j--) //æšä¸¾èƒŒåŒ…é‡é‡ dp[j]=max(dp[j],dp[j-w[i]]+v[i]); // sum=dp[m]; } else{ m+=h for(int k=1;k\u003c=n;k++) //æšä¸¾å¯ä»¥è¢«å‰©ä¸‹çš„ç‰©å“ { memset(dp,0,sizeof(dp)); for(int i=1;i\u003c=n;i++){ //å‰ i ä¸ªç‰©å“ if(i!=k){ for(int j=m;j\u003e=w[i];j--) //æšä¸¾èƒŒåŒ…é‡é‡ dp[j]=max(dp[j],dp[j-w[i]]+v[i]); } } //ç•™ä¸‹æ¥ä¸€ä¸ªé‡é‡ï¼Œå³åˆå§‹åŒ–å¨åŠ›ä¸ºé‚£ä¸ªé‡é‡çš„å¨åŠ› for(int j=m-1;j\u003e=m-w[k];j--) //æšä¸¾èƒŒåŒ…é‡é‡+å‰©ä¸‹ç‰©å“ dp[m]=max(dp[m],dp[j]+v[k]); // printf(\"%d\\n\",dp[m]); sum=max(sum,dp[m]); } } printf(\"%d\\n\",sum); } return 0; } ","date":"2018-07-22","objectID":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/:0:5","tags":["èƒŒåŒ…é—®é¢˜","Nowcoder","C++"],"title":"TaoTao è¦åƒé¸¡","uri":"/posts/taotao%E8%A6%81%E5%90%83%E9%B8%A1/"},{"categories":["ACM"],"content":"ç™¾åº¦çŸ¥é“ 1 1 1 1 2 1 1 3 3 1 1 4 6 4 1 1 5 10 10 5 1 1 6 15 20 15 6 1 1ã€æ¯è¡Œæ•°å­—å·¦å³å¯¹ç§°ï¼Œç”± 1 å¼€å§‹é€æ¸å˜å¤§ï¼Œç„¶åå˜å°ï¼Œå›åˆ° 1ã€‚ 2ã€ç¬¬ n è¡Œçš„æ•°å­—ä¸ªæ•°ä¸º n ä¸ªã€‚ 3ã€ç¬¬ n è¡Œæ•°å­—å’Œä¸º 2^(nï¼1)ã€‚ 4ã€æ¯ä¸ªæ•°å­—ç­‰äºä¸Šä¸€è¡Œçš„å·¦å³ä¸¤ä¸ªæ•°å­—ä¹‹å’Œã€‚å¯ç”¨æ­¤æ€§è´¨å†™å‡ºæ•´ä¸ªå¸•æ–¯å¡ä¸‰è§’å½¢ã€‚ 5ã€å°†ç¬¬ 2n+1 è¡Œç¬¬ 1 ä¸ªæ•°ï¼Œè·Ÿç¬¬ 2n+2 è¡Œç¬¬ 3 ä¸ªæ•°ã€ç¬¬ 2n+3 è¡Œç¬¬ 5 ä¸ªæ•°â€¦â€¦è¿æˆä¸€çº¿ï¼Œè¿™äº›æ•°çš„å’Œæ˜¯ç¬¬ 2n ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚å°†ç¬¬ 2n è¡Œç¬¬ 2 ä¸ªæ•°ï¼Œè·Ÿç¬¬ 2n+1 è¡Œç¬¬ 4 ä¸ªæ•°ã€ç¬¬ 2n+2 è¡Œç¬¬ 6 ä¸ªæ•°â€¦â€¦è¿™äº›æ•°ä¹‹å’Œæ˜¯ç¬¬ 2n-1 ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚ 6ã€ç¬¬ n è¡Œçš„ç¬¬ 1 ä¸ªæ•°ä¸º 1ï¼Œç¬¬äºŒä¸ªæ•°ä¸º 1Ã—(n-1)ï¼Œç¬¬ä¸‰ä¸ªæ•°ä¸º 1Ã—(n-1)Ã—ï¼ˆn-2ï¼‰/2ï¼Œç¬¬å››ä¸ªæ•°ä¸º 1Ã—(n-1)Ã—ï¼ˆn-2ï¼‰/2Ã—ï¼ˆn-3ï¼‰/3â€¦ä¾æ­¤ç±»æ¨ã€‚ æ­¤æ•°åˆ—ä¸­å„è¡Œä¸­çš„æ•°å­—æ­£å¥½æ˜¯äºŒé¡¹å¼ a+b ä¹˜æ–¹åï¼Œå±•å¼€å§‹ç»ˆå„é¡¹çš„ç³»æ•°ã€‚å¦‚ï¼š (a+b)^1=a^1+b^1 (a+b)^2=a^2+2ab+b^2 (a+b)^3=a^3+3a^2b+3ab^2+b^3 â€¦â€¦ (a+b)^6=a^6+6a^5b+15a^4b^2+20a^3b^3+15a^2b^4+6ab^5+b^6ï¼ˆæ³¨æ„å‘ç°è§„å¾‹ï¼‰ â€¦â€¦ äºŒé¡¹å¼å±•å¼€å¼ï¼š ","date":"2018-07-22","objectID":"/posts/%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92/:0:0","tags":["æ•°å­¦","æ¨è¾‰ä¸‰è§’"],"title":"æ¨è¾‰ä¸‰è§’","uri":"/posts/%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92/"},{"categories":["ACM"],"content":"å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ å¹¿åº¦ä¼˜å…ˆæœç´¢åœ¨è¿›ä¸€æ­¥éå†å›¾ä¸­é¡¶ç‚¹ä¹‹å‰ï¼Œå…ˆè®¿é—®å½“å‰é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥ç»“ç‚¹ã€‚è®¿é—®äº†å°±å…¥é˜Ÿã€‚ ","date":"2018-07-22","objectID":"/posts/dfs_bfs/:0:1","tags":["ACM","BFS","DFS","æœç´¢","C","C++"],"title":"æ·±æœå¹¿æœ","uri":"/posts/dfs_bfs/"},{"categories":["ACM"],"content":"æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ æ·±åº¦ä¼˜å…ˆæœç´¢åœ¨æœç´¢è¿‡ç¨‹ä¸­è®¿é—®æŸä¸ªé¡¶ç‚¹åï¼Œéœ€è¦é€’å½’åœ°è®¿é—®æ­¤é¡¶ç‚¹çš„æ‰€æœ‰æœªè®¿é—®è¿‡çš„ç›¸é‚»é¡¶ç‚¹ã€‚ #include \u003cbits/stdc++.h\u003e #define N 5 using namespace std; int maze[N][N] = {//æ— æƒæœ‰å‘å›¾é‚»æ¥çŸ©é˜µ { 0, 1, 0, 1, 0 }, { 0, 0, 1, 0, 0 }, { 0, 0, 0, 0, 1 }, { 0, 0, 1, 0, 0 }, { 0, 0, 0, 0, 0 } }; int visited[N]; void DFS(int start) { cout \u003c\u003c start\u003c\u003c \" \"; visited[start] = 1; for (int i = 0; i \u003c N; i++) { if (!visited[i] \u0026\u0026 maze[start][i] == 1)//æ²¡è®¿é—®è¿‡ä¸”ä¸ºé‚»å±…èŠ‚ç‚¹ DFS(i); } } void BFS(int start){ queue\u003cint\u003e Q;//é˜Ÿåˆ— Q.push(start); visited[start] = 1; while (!Q.empty()) { int front = Q.front();//å¤´ cout \u003c\u003c front \u003c\u003c \" \"; Q.pop(); for (int i = 0; i \u003cN; i++) { if (!visited[i] \u0026\u0026 maze[front][i] == 1) { visited[i] = 1; Q.push(i); } } } } int main() { memset(visited,0,sizeof(visited)); for (int i = 0; i \u003c N; i++)//ä¸è¿é€šçš„æƒ…å†µ { if (visited[i] == 1)//è®¿é—®è¿‡ continue; DFS(i); } cout\u003c\u003cendl; memset(visited,0,sizeof(visited)); for (int i = 0; i \u003c N; i++)//ä¸è¿é€šçš„æƒ…å†µ { if (visited[i] == 1)//è®¿é—®è¿‡ continue; BFS(i); } return 0; } ä¼ é€é—¨ ","date":"2018-07-22","objectID":"/posts/dfs_bfs/:0:2","tags":["ACM","BFS","DFS","æœç´¢","C","C++"],"title":"æ·±æœå¹¿æœ","uri":"/posts/dfs_bfs/"},{"categories":["ACM"],"content":"æ—¶é—´é™åˆ¶ï¼šC/C++ 1 ç§’ï¼Œå…¶ä»–è¯­è¨€ 2 ç§’ ç©ºé—´é™åˆ¶ï¼šC/C++ 262144Kï¼Œå…¶ä»–è¯­è¨€ 524288K 64bit IO Format: %lld é¢˜ç›®æè¿° æœ‰ä¸€ä¸ªé•¿åº¦ä¸º n çš„åºåˆ— aï¼Œå·²çŸ¥ a[1]=a[n]=1ï¼Œä¸”å¯¹äº 2 \u003c= x \u003c= nï¼Œa[x] / a[x-1] æ˜¯ä»¥ä¸‹ä¸‰ä¸ªæ•°å­—ä¹‹ä¸€ [ 1ï¼Œ-2ï¼Œ0.5 ], é—®æœ‰å¤šå°‘ç§ä¸åŒçš„åºåˆ—æ»¡è¶³é¢˜æ„ã€‚ ä¸¤ä¸ªåºåˆ—ä¸åŒå½“ä¸”ä»…å½“å®ƒä»¬æœ‰è‡³å°‘ä¸€ä¸ªä½ç½®ä¸Šçš„æ•°å­—ä¸åŒï¼Œåºåˆ— a å¯ä»¥ä¸ºä»»ä½•å®æ•°ã€‚ è¾“å…¥æè¿°ï¼š ä¸€ä¸ªæ•´æ•° è¡¨ç¤º n (1\u003c= n \u003c= 1e3) è¾“å‡ºæè¿°ï¼š ä¸€ä¸ªæ•´æ•° è¡¨ç¤ºç­”æ¡ˆæ¨¡ 109+7 ç¤ºä¾‹ 1 è¾“å…¥ 5 è¾“å‡º 7 è§£é¢˜æ€è·¯ï¼š æ•´ä½“æ¥çœ‹ï¼Œa[x] = a[x-1] _ [1, -2, 0.5]ï¼Œé‚£ä¹ˆç­‰äºä» n-1 ä¸ª [1,-2,0.5] ä¸­é€‰å‡º n-1 ä¸ªæ•°å€¼ç›¸ä¹˜ï¼ˆa[x-1]=a[x-2] _ [1,-2,0.5] åŒç†åŒ–ç®€å¼å­ï¼‰ï¼Œ æœ€åç­”æ¡ˆè¦æ˜¯ 1ï¼Œæ‰€ä»¥-2 å°±å¿…é¡»æœ‰å¶æ•°ä¸ªï¼ŒåŒç† 0.5 çš„ä¸ªæ•°è¦ç­‰äº-2. é¡ºåºæ— å…³ã€‚ é‚£æ‰€æœ‰çš„è½¬æ¢ä¸­ï¼Œå°±åªè¦ä¿è¯æœ‰è‹¥å¹²ç»„ (-2,-2,0.5,0.5) å­˜åœ¨ è¡¨ç¤ºå¶æ•°ä¸ª 2 çš„ä¸ªæ•°ä¸å¶æ•°ä¸ª 0.5 çš„ä¸ªæ•°ç»„åˆï¼›ç»„åˆæ•°ç”¨äºŒé¡¹å¼ç³»æ•°ï¼Œæ¨è¾‰ä¸‰è§’æ¥æ±‚ã€‚ #include \u003cbits/stdc++.h\u003e using namespace std; const int maxn = 1e3 + 5; const int mod = 1e9 + 7; long long c[maxn][maxn]; int main(){ for(int i = 0; i \u003c maxn; i++){//æ¨è¾‰ä¸‰è§’ c[i][0] = 1; c[i][i] = 1; for(int j = 1; j \u003c i; j++) c[i][j] = (c[i-1][j] + c[i-1][j-1]) % mod; } int n; while(~scanf(\"%d\", \u0026n)){ n--; long long ans = 0; for(int i = 0; i*2 \u003c= n; i += 2){ ans = (ans%mod + (c[n][i]*c[n-i][i])%mod)%mod; } printf(\"%lld\\n\", ans); } return 0; } ","date":"2018-07-18","objectID":"/posts/wannafly-18/:0:0","tags":["ç»„åˆæ•°å­¦","ACM","Nowcoder","C++","C"],"title":"Wannafly æŒ‘æˆ˜èµ› 18-åºåˆ—","uri":"/posts/wannafly-18/"},{"categories":["ACM"],"content":"å¼±é¸¡è¿˜æ˜¯å¼±é¸¡å•Šæœ€ç®€å•çš„èƒŒåŒ…é—®é¢˜â€”â€”ã€‚â€”â€”ï¼ ","date":"2018-06-16","objectID":"/posts/%E7%AE%80%E5%8D%95%E8%83%8C%E5%8C%85/:0:0","tags":["èƒŒåŒ…é—®é¢˜","C"],"title":"ç®€å•èƒŒåŒ…","uri":"/posts/%E7%AE%80%E5%8D%95%E8%83%8C%E5%8C%85/"},{"categories":["ACM"],"content":"1) é—®é¢˜æè¿°ï¼š å‡è®¾æœ‰ä¸€ä¸ªèƒ½è£…å…¥æ€»ä½“ç§¯ä¸º T çš„èƒŒåŒ…å’Œ n ä»¶ä½“ç§¯åˆ†åˆ«ä¸º W1ï¼ŒW2ï¼ŒÂ·Â·Â·ï¼ŒWn çš„ç‰©å“ï¼Œèƒ½å¦ä» n ä»¶ç‰©å“ä¸­æŒ‘é€‰è‹¥å¹²ä»¶æ°å¥½è£…æ»¡èƒŒåŒ…ï¼Œå³ä½¿ W1+W2+Â·Â·Â·+Wn=Tï¼Œè¦æ±‚æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„è§£ã€‚ä¾‹å¦‚ï¼šå½“ T=10ï¼Œå…± 6 ä»¶ç‰©å“ï¼Œç‰©å“çš„ä½“ç§¯ä¸º{1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ8}ï¼Œé‚£ä¹ˆå¯æ‰¾åˆ°ä¸‹åˆ— 4 ç»„è§£ï¼šï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼‰ã€ï¼ˆ1ï¼Œ4ï¼Œ5ï¼‰ã€ï¼ˆ2ï¼Œ3ï¼Œ5ï¼‰ã€ï¼ˆ2ã€8ï¼‰ã€‚ ","date":"2018-06-16","objectID":"/posts/%E7%AE%80%E5%8D%95%E8%83%8C%E5%8C%85/:1:0","tags":["èƒŒåŒ…é—®é¢˜","C"],"title":"ç®€å•èƒŒåŒ…","uri":"/posts/%E7%AE%80%E5%8D%95%E8%83%8C%E5%8C%85/"},{"categories":["ACM"],"content":"2) å®ç°æç¤ºï¼š å¯åˆ©ç”¨å›æº¯æ³•çš„è®¾è®¡æ€æƒ³æ¥è§£å†³èƒŒåŒ…é—®é¢˜ã€‚é¦–å…ˆï¼Œå°†ç‰©å“æ’æˆä¸€åˆ—ï¼Œç„¶åé¡ºåºé€‰å–ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå‡è®¾å·²é€‰å–äº†å‰ i ä»¶ç‰©å“ä¹‹åèƒŒåŒ…è¿˜æ²¡æœ‰è£…æ»¡ï¼Œåˆ™ç»§ç»­é€‰å–ç¬¬ i+1 ä»¶ç‰©å“ï¼Œè‹¥è¯¥ä»¶ç‰©å“â€œå¤ªå¤§â€ä¸èƒ½è£…å…¥ï¼Œåˆ™ä¸¢å¼ƒè€Œç»§ç»­é€‰å–ä¸‹ä¸€ä»¶ï¼Œç›´è‡³èƒŒåŒ…è£…æ»¡ä¸ºæ­¢ã€‚ä½†å¦‚æœåœ¨å‰©ä½™çš„ç‰©å“ä¸­æ‰¾ä¸åˆ°åˆé€‚çš„ç‰©å“ä»¥å¡«æ»¡èƒŒåŒ…ï¼Œåˆ™è¯´æ˜â€œåˆšåˆšâ€è£…å…¥èƒŒåŒ…çš„é‚£ä»¶ç‰©å“â€œä¸åˆé€‚â€ï¼Œåº”å°†å®ƒå–å‡ºâ€œä¸¢å¼ƒä¸€è¾¹â€ï¼Œç»§ç»­å†ä»â€œå®ƒä¹‹åâ€çš„ç‰©å“ä¸­é€‰å–ï¼Œå¦‚æ­¤é‡å¤ï¼Œç›´è‡³æ±‚å¾—æ»¡è¶³æ¡ä»¶çš„è§£ï¼Œæˆ–è€…æ— è§£ã€‚ç”±äºå›æº¯æ±‚è§£çš„è§„åˆ™æ˜¯â€œåè¿›å…ˆå‡ºâ€ï¼Œå› æ­¤è¦ç”¨åˆ°æ ˆã€‚ ä½¿ç”¨æ ˆä½œä¸ºè¯¥ç¨‹åºçš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨æ ˆè¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼Œä»¥æ·±åº¦ä¼˜å…ˆçš„æœç´¢æ–¹å¼è§£ç©ºé—´ï¼Œå®ç°é€’å½’è¿‡ç¨‹å’Œå‡½æ•°çš„è°ƒç”¨ï¼Œåœ¨è®¾è®¡æ—¶è¿˜ä½¿ç”¨ C è¯­è¨€çš„æ•°ç»„åŠå…¶å¾ªç¯è¯­è¨€æ¥å®ç°ç¨‹åºã€‚ è¿ç”¨å›æº¯æ³•è§£é¢˜ï¼Œåœ¨æœç´¢è§£ç©ºé—´æ ‘æ—¶ï¼Œåªè¦å…¶å·¦å„¿å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå¯è¡Œç»“ç‚¹ï¼Œæœç´¢å°±è¿›å…¥å·¦å­æ ‘ï¼Œåœ¨å³å­æ ‘ä¸­æœ‰å¯èƒ½åŒ…å«æœ€ä¼˜è§£æ˜¯æ‰è¿›å…¥å³å­æ ‘æœç´¢ã€‚å¦åˆ™å°†å³å­æ ‘å‰ªå»ã€‚ #include \u003cstdio.h\u003e #include \u003cwindows.h\u003e #define size 50 struct stacks { int data[size]; int top; } stack; void backpack(int number,int V,int w[]){ int i,j=1,k=0; int flag=0; do { while (V \u003e 0 \u0026\u0026 k \u003c= number) { if (V \u003e= w[k]) { stack.data[stack.top] = k;//ç¬¬ k ä¸ªç‰©å“çš„ä½“ç§¯ä¸‹æ ‡ stack.top++; V -= w[k]; } k++; } if (V == 0) { flag=1; printf(\"ç¬¬%d ä¸ªç¬¦åˆæ¡ä»¶çš„è§£ï¼š\", j); for (i = 0; i \u003c stack.top; i++) { printf(\"%d \", w[stack.data[i]]); } j++; printf(\"\\n\"); } //k æ»¡æ—¶å›æº¯ k = stack.data[--stack.top]; stack.data[stack.top] = 0; V += w[k]; k++; } while (!(stack.top == 0 \u0026\u0026 k == number)); if(!flag){ printf(\"èƒŒåŒ…æ— è§£ï¼\\n\"); } } void judge(int number,int V,int w[]){ int i,s = 0; for (i = 0; i \u003c number; i++) s = s + w[i]; if(V \u003e s){ printf(\"èƒŒåŒ…æ— è§£ï¼\\n\"); exit(0); } if(V==s){ printf(\"åªæœ‰ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„è§£ï¼š%d\\n\", V); exit(0); } } int main() { int w[size]; int V; int i = 0; int j = 0; int number; printf(\"\\t **ç®€å•èƒŒåŒ…é—®é¢˜**\\n\\n\"); printf(\"\\n è¯·è¾“å…¥å¯ä¾›é€‰æ‹©è£…å…¥ç‰©å“çš„ä¸ªæ•°ï¼š\\n\"); scanf(\"%d\", \u0026number); printf(\"\\n è¯·è¾“å…¥å„ä»¶ç‰©å“çš„ä½“ç§¯ï¼š\\n\"); for (i = 0; i \u003c number; i++) scanf(\"%d\", \u0026w[i]); //æ’åº for(i=0;i\u003cnumber;i++) for(j=i+1;j\u003cnumber;j++) if(w[i]\u003ew[j]){ w[i]=w[i]^w[j]; w[j]=w[i]^w[j]; w[i]=w[i]^w[j]; } printf(\"\\n è¯·è¾“å…¥èƒŒåŒ…çš„æ€»ä½“ç§¯ï¼š\\n\"); scanf(\"%d\", \u0026V); while(V \u003c 0){ printf(\"è¾“å…¥èƒŒåŒ…ä½“ç§¯é”™è¯¯ï¼é‡æ–°è¾“å…¥ï¼\\n\"); scanf(\"%d\",\u0026V); } judge(number,V,w); //åˆå§‹åŒ–æ ˆ for (i = 0; i \u003c number; i++) stack.data[i] = 0; stack.top = 0; backpack(number,V,w); return 0; } --è¿™ä¹ˆç®€å•çš„é—®é¢˜æˆ‘éƒ½è´¹åŠ›ï¼Œå¤ªè¾£é¸¡äº† ","date":"2018-06-16","objectID":"/posts/%E7%AE%80%E5%8D%95%E8%83%8C%E5%8C%85/:2:0","tags":["èƒŒåŒ…é—®é¢˜","C"],"title":"ç®€å•èƒŒåŒ…","uri":"/posts/%E7%AE%80%E5%8D%95%E8%83%8C%E5%8C%85/"},{"categories":["ACM"],"content":" æ¥è‡ªä¸€ä½å¤§ä½¬çš„æ¼”è®² å°Šæ•¬çš„é¢†å¯¼ã€æ•™ç»ƒï¼Œäº²çˆ±çš„å‚èµ›é€‰æ‰‹ä»¬ï¼š å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¥è‡ªå¹¿ä¸œå·¥ä¸šå¤§å­¦çš„ tmkã€‚ä»Šå¤©å¾ˆè£å¹¸èƒ½å¤Ÿç«™åœ¨è¿™é‡Œä»£è¡¨å…¨ä½“å‚èµ›é€‰æ‰‹å‘è¨€ï¼Œä¸å¤§å®¶åˆ†äº«æˆ‘çš„ç»å†å’Œæ„Ÿå—ã€‚ åˆšå¼€å§‹æ¥åˆ°å¤§å­¦çš„æ—¶å€™ï¼Œæˆ‘ä¸€å¿ƒå‘å­¦ï¼Œæœ¬ç€â€œå¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šï¼Œä¸ºæ ¡äº‰å…‰ï¼Œä¸æå¯¹è±¡â€çš„ä¿¡å¿µï¼Œæƒ³åœ¨å¤§å­¦ä¸€å±•å®å›¾ã€‚å› ä¸ºé«˜ä¸­ OI çš„æŒ«è´¥ï¼Œæˆ‘åœ¨åˆšä¸Šå¤§å­¦çš„æ—¶å€™å°±é€‰æ‹©äº† ACM è¿™æ¡â€œä¸å½’è·¯â€ã€‚ä¸€å¼€å§‹æ˜¯å› ä¸ºé«˜ä¸­çš„é—æ†¾ï¼Œåˆ°åæ¥å°±å®Œå…¨æ˜¯å› ä¸ºä¿¡å¿µå’Œå…´è¶£æ…¢æ…¢ä¸€ç›´æåˆ°ç°åœ¨ã€‚å½“æ—¶çš„æˆ‘è¿˜ä¸çŸ¥é“è¸ä¸Š ACM è¿™æ¡è·¯çš„è‹¦ï¼Œè€Œå¦‚ä»Šçš„æˆ‘å´ä¹Ÿå°åˆ°äº† ACM å¸¦ç»™æˆ‘çš„ä¹ã€‚ åœ¨è¿™ä¸‰å¹´é‡Œï¼Œæœ‰æ•°ä¸æ¸…çš„å¤œæ™šï¼Œæˆ‘çš„èˆå‹ä»¬åœ¨å¯å®¤é‡Œå¼€é»‘ï¼Œè€Œæˆ‘å’Œæˆ‘çš„é˜Ÿå‹åœ¨æœºæˆ¿é‡Œå¼€é»‘ï¼›åœ¨è¿™ä¸‰å¹´é‡Œï¼Œæœ‰æ•°ä¸æ¸…çš„å‘¨æœ«ï¼Œæˆ‘çš„èˆå‹ä»¬åœ¨æ ¡å›­é‡Œé©°éª‹ï¼Œè€Œæˆ‘å’Œæˆ‘çš„é˜Ÿå‹åœ¨é¢˜åº“é‡Œé©°éª‹ï¼›åœ¨è¿™ä¸‰å¹´é‡Œï¼Œæœ‰æ•°ä¸æ¸…çš„å‡æœŸï¼Œæˆ‘çš„èˆå‹ä»¬åœ¨å¬å”¤å¸ˆå³¡è°·é‡Œå¾æˆ˜ï¼Œè€Œæˆ‘å’Œæˆ‘çš„é˜Ÿå‹åœ¨ä¸­å›½å„çœå¸‚å¾æˆ˜ã€‚ä¸‰å¹´è¿‡å»äº†ï¼Œæˆ‘çš„èˆå‹ä»¬æˆä¸ºäº† offer æ”¶å‰²æœºï¼Œè€Œæˆ‘å’Œæˆ‘çš„é˜Ÿå‹æˆä¸ºäº†æ°”çƒæ”¶å‰²æœºã€‚ ä¸ºäº†å˜å¼ºæ˜¯ä¸€ä¸ªç—›è‹¦ä¸”æ¼«é•¿çš„è¿‡ç¨‹ï¼Œåªæœ‰è€å¾—ä½å¯‚å¯ï¼Œæ‰èƒ½å®ˆå¾—ä½ç¹åã€‚æˆ‘çš„ä¸€ä½é˜Ÿå‹ä¸ºäº†å˜å¼ºç”šè‡³ç‰ºç‰²äº†è‡ªå·±çš„å¤´å‘ï¼Œä»…ä»…æ˜¯å› ä¸ºä»–æ‹…å¿ƒä»–çš„å¤´å‘é˜»ç¢äº†ä»–æ€ç»´çš„å‘æ•£ã€‚ä»–å˜ç§ƒäº†ä¹Ÿå˜å¼ºäº†ã€‚ ä¸‰å¹´çš„ ACM è®©æˆ‘æˆé•¿å¾ˆå¤šï¼Œæ”¶è·å¾ˆå¤šã€‚æˆ‘ä¹Ÿä»ä¸€ä¸ªâ€œå¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸Šä¸ºæ ¡äº‰å…‰ä¸æå¯¹è±¡â€çš„æ— çŸ¥é’å¹´å˜æˆäº†ä¸€ä¸ªå†™çš„äº†å·¥ç¨‹æŸ¥å¾—å‡ºå¼‚å¸¸çš„å‡†ç¨‹åºå‘˜ã€‚æˆ‘è§‰å¾—ä¸‰å¹´çŒ®èº«äº ACM çš„æ—¥å­æ˜¯å€¼å¾—çš„ï¼Œå’Œä¸€å¤§å †èŒèŒçš„ç”·å­©å­ä»¬åœ¨å±‹å­é‡Œé¢ä¸€ä¸ªåˆä¸€ä¸ªé€šå®µå¥‹æ–—çš„é…£ç•…æ·‹æ¼“çš„æ—¥å­æ˜¯å€¼å¾—çš„ï¼Œçœ‹ç€è°ˆæ‹çˆ±çš„å¤§å®¶ä¸€ä¼šå„¿å“€ä¼¤ä¸€ä¼šå„¿å¿§æ„è€Œæˆ‘ä¸ä»£ç è‡ªå¾—å…¶ä¹çŸ¢å¿—ä¸æ¸çš„æ—¥å­æ˜¯å€¼å¾—çš„ã€‚æ­¤å¤–ä»–è¿˜ç»™æˆ‘å¸¦æ¥ä¸¤ä¸ªæœ€å¥½çš„å°ä¼™ä¼´ï¼Œæ˜¯ä»–ä»¬çš„ä¸€è·¯é™ªä¼´ï¼Œè®©æˆ‘æœ‰å‹‡æ°”ä¸€ç›´èµ°ä¸‹å»ã€‚æˆ‘å’Œä»–ä»¬èµ°è¿‡çš„åœ°æ–¹ï¼Œæ¯”æˆ‘å’Œå¥³æœ‹å‹å»è¿‡çš„åœ°æ–¹è¿˜è¦å¤šã€‚å™¢ï¼Œå¯¹äº†ï¼Œæˆ‘å¥½åƒæ²¡æœ‰å¥³æœ‹å‹ã€‚æ€»è€Œè¨€ä¹‹ï¼Œè¯·çæƒœä½ ä»¬çš„é˜Ÿå‹ï¼Œä»–ä»¬æ˜¯ä½ ä»¬åœ¨å¤§å­¦é‡Œä¸ºæ•°ä¸å¤šä¸€èµ·å¥‹æ–—çš„å°ä¼™ä¼´ã€‚å¸Œæœ›å¤§å®¶åƒæˆ‘ä¸€æ ·ï¼Œä¹Ÿçˆ±ç€ ACMï¼Œä¸ºè‡ªå·±å¿ƒçˆ±çš„åŠªåŠ›ã€‚ æœ€åé¢„ç¥å„ä½å‚èµ›é€‰æ‰‹ä»¬å–å¾—ç†æƒ³çš„æˆç»©ï¼Œä¹Ÿé¢„ç¥æœ¬æ¬¡å¤§èµ›åœ†æ»¡æˆåŠŸã€‚è°¢è°¢å¤§å®¶ã€‚ ","date":"2018-06-15","objectID":"/posts/18%E6%B9%98%E6%BD%AD%E9%82%80%E8%AF%B7%E8%B5%9B%E9%98%9F%E5%91%98%E4%BB%A3%E8%A1%A8%E5%8F%91%E8%A8%80/:0:0","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›"],"title":"18 æ¹˜æ½­é‚€è¯·èµ›å‚èµ›é˜Ÿå‘˜ä»£è¡¨å‘è¨€","uri":"/posts/18%E6%B9%98%E6%BD%AD%E9%82%80%E8%AF%B7%E8%B5%9B%E9%98%9F%E5%91%98%E4%BB%A3%E8%A1%A8%E5%8F%91%E8%A8%80/"},{"categories":["ACM"],"content":"é¢˜ç›®é“¾æ¥ï¼ˆhdu å¤èµ›ï¼‰ 2018 å¹´æ¹˜æ½­é‚€è¯·èµ›ï¼Œåœ¨æ¹˜å¤§ä¸¾è¡Œï¼Œå½“æ—¶ä¸€èµ·æ‰“çš„è¿‡å»çš„ï¼Œå› ä¸ºæ²¡å‡ºå¸‚å°±æ–¹ä¾¿ç‚¹ã€‚ç¬¬ä¸€æ¬¡å‚åŠ ç°åœºèµ›ï¼Œé¦–å…ˆåçœä¸€ä¸‹è‡ªå·±ï¼Œæ¯”èµ›å‰ç®—æ³•å…ˆä¸è¯´ï¼ˆæ²¡æœ‰å¥½å¥½æè¿‡ï¼‰ï¼Œå°±è¿æ™®é€šçš„é¢˜ï¼Œæ•°å­¦æ€§è´¨çš„é¢˜éƒ½å¾ˆå°‘åˆ·ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šï¼Œç„¶åè‹±è¯­ä¸è¯´å››å…­çº§çš„ä¸œè¥¿ï¼Œå¾ˆå¤šä¸“ä¸šè‹±è¯­è¯æ±‡éƒ½æ²¡æœ‰å¥½å¥½äº†è§£è¿‡ï¼Œä¸»è¦çš„åŸå› è¿˜æ˜¯åˆ·é¢˜åˆ·å°‘äº†ï¼Œè‹±æ–‡é¢˜åˆ·å°‘äº†ã€‚ç†æ‰€å½“ç„¶ï¼ŒæˆåŠŸæ‹¿ä¸‹ä¸€é“ï¼Œæ¹˜æ½­èµ›æ‰“é“å‘Šç»ˆã€‚ æ¯”èµ›å¼€å§‹ï¼Œè¿™æ¬¡æ˜¯ä¸‰ä¸ªäººæ²¡äººä¸€ä»½çº¸è´¨é¢˜ç›®ï¼Œæ‹¿åˆ°é¢˜ç›®ï¼Œçœ‹æœ€åä¸€é¢˜ï¼Œk.2018 å‘ç°å¯ä»¥åšï¼Œï¼ˆäº‹å®è¯æ˜ç¡®å®æ˜¯ä¸€é“æ°´é¢˜ï¼‰ï¼Œæˆ‘å°±åœ¨åšè¿™é¢˜ï¼Œä»–ä»¬çœ‹äº† a é¢˜ï¼Œå¥½åƒæ˜¯ k é¢˜ä¸€é¡¿æ“ä½œåæäº¤ï¼Œé”™äº†ï¼Œä¸€ç›´åˆ°æ¯”èµ›ç»“æŸéƒ½æ²¡åšå‡ºæ¥ï¼Œåæ¥å›å»çœ‹åˆ«äººçš„é¢˜è§£ï¼Œå‘ç°è‡ªå·±æƒ…å†µæ²¡æœ‰åˆ†æå…¨é¢ï¼Œå…¶å®æ˜¯å®Œå…¨å¯ä»¥è§£å‡ºæ¥çš„ï¼ŒçœŸçš„åšçš„å¤ªå°‘å¤ªå°‘äº†ã€‚a é¢˜æœ€åä¹Ÿæ˜¯æ²¡è¿‡ï¼Œè¿˜æœ‰ä¸€ä¸ª f é¢˜ï¼Œsortï¼Œæˆ‘æœ€åˆçš„æƒ³æ³•æ˜¯ç”¨ stl é‡Œçš„é‚£ä¸ª sort æ’åºï¼Œåªè¦å¯¹ sort çš„ compare å‡½æ•°åšå¤„ç†åº”è¯¥å¯ä»¥å®Œæˆæ’åºï¼Œæ¯”èµ›ä¹‹å‰æˆ‘çœ‹è¿‡ï¼Œä½†æ˜¯ä¸ç†Ÿæ‚‰ï¼Œzxm å¥¹ä¹Ÿçœ‹äº†æˆ‘å°±äº¤ç»™å¥¹äº†ï¼Œæœ€åå¥½åƒå› ä¸ºçˆ† long double çš„é—®é¢˜ä¹Ÿæ²¡åšå‡ºæ¥ã€‚ å“ï¼Œèœè¿˜æ˜¯èœï¼Œå¾ˆå¤šç®—æ³•éƒ½ä¸æ‡‚ï¼Œæ•°æ®ç»“æ„ä¹Ÿæ²¡å­¦å¥½ï¼Œå¾ˆæœ‰ä¸€æ®µæ—¶é—´æˆ‘éƒ½ç‰¹åˆ«å¤´ç–¼ç®—æ³•ï¼Œä¸æƒ³å­¦ï¼Œè´¹åŠ²ï¼Œè§‰å¾—è‡ªå·±ä¸é€‚åˆå­¦è®¡ç®—æœºï¼Œæ›´ä¸é€‚åˆ ACMã€‚æœ‰æ—¶å€™åˆæƒ³ï¼Œä¸é€‚åˆå¥½åƒæ€»æ˜¯ loser çš„å€Ÿå£ï¼æ€»æ˜¯åœ¨åæ‚”å’Œå·æ‡’çš„çŸ›ç›¾ä¸­ï¼ æœ€åï¼Œæ”¾ä¸Šï¼Œâ€œå‚èµ›å¥–\"ç¾è¾±è‡ªå·±ï¼Œä¹Ÿæ˜¯é­ç­–ï¼ ","date":"2018-06-14","objectID":"/posts/18%E6%B9%98%E6%BD%AD%E9%82%80%E8%AF%B7%E8%B5%9B%E6%80%BB%E7%BB%93/:0:0","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","Summaries"],"title":"18 æ¹˜æ½­é‚€è¯·èµ›æ€»ç»“","uri":"/posts/18%E6%B9%98%E6%BD%AD%E9%82%80%E8%AF%B7%E8%B5%9B%E6%80%BB%E7%BB%93/"},{"categories":["ACM"],"content":"Sample Input 2 1 1 1 1 1 2 2 1 1 2 1 1 1 3 1 3 1 2 2 1 3 1 1 ","date":"2018-06-14","objectID":"/posts/f-sorting/:1:0","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM"],"title":"F.sorting","uri":"/posts/f-sorting/"},{"categories":["ACM"],"content":"Sample Output 2 1 1 2 1 2 3 é¢˜æ„ï¼šç»™å®š n ä¸ªå…ƒç»„ (a1,b1,c1),(a2,b2,c2),â€¦,(an,bn,cn)ï¼Œå°†å…¶æŒ‰ (ai+bi)/(ai+bi+ci) çš„å€¼ä»å°åˆ°å¤§æ’åºï¼Œè¾“å‡ºæ’åºåçš„ n ä¸ªå…ƒç»„çš„åŸåºå·ï¼› æ€è·¯ï¼šç¼–å†™ sort é‡Œçš„ cmp å‡½æ•°ï¼ˆå½¢å‚ä¸ºå…ƒç»„ç»“æ„ä½“å…ƒç´ ï¼Œè®¾ä¸º Tuple x,Tuple y)ï¼Œè‹¥ç›´æ¥ç®—å‡º (x.a+x.b)(y.a+y.b+y.c) å’Œ (y.a+y.b)(x.a+x.b+x.c) å†æ¯”è¾ƒå¤§å°ï¼Œè¿™ä¸¤ä¸ªç»“æœä¼šçˆ† unsigned long longï¼› å¯ä»¥æŠŠå› å¼ä¹˜ç§¯å±•å¼€æˆå¤šé¡¹å¼çš„å’Œï¼Œçº¦å»ä¸¤å¼ä¸­ç›¸åŒçš„é¡¹ï¼Œå¾—åˆ° x.ay.c+x.by.c å’Œ y.ax.c+y.bx.cï¼Œå› æ­¤åªéœ€è®¡ç®—å®ƒä¿©å†æ¯”è¾ƒå³å¯ï¼Œç»“æœä¸ä¼šçˆ† unsigned long long å AC ä»£ç  #include \"bits/stdc++.h\" using namespace std; struct node{ long double a,b,c; int numb; }ss[1005]; bool cmp(const node \u0026a,const node \u0026b){ long double suma,sumb; //suma=a.a*b.c+a.b*b.c; //sumb=b.a*a.c+b.b*a.c; suma=(a.a+a.b)/(a.a+a.b+a.c); sumb=(b.a+b.b)/(b.a+b.b+b.c); if(suma!=sumb)return suma\u003csumb; return a.numb\u003cb.numb; } int main(){ int n; while(cin\u003e\u003en){ for(int i=0;i\u003cn;i++){ cin\u003e\u003ess[i].a\u003e\u003ess[i].b\u003e\u003ess[i].c; ss[i].numb=i+1; } stable_sort(ss,ss+n,cmp); int i; for(i=0;i\u003cn-1;i++) cout\u003c\u003css[i].numb\u003c\u003c\" \"; cout\u003c\u003css[i].numb\u003c\u003cendl; } return 0; } ","date":"2018-06-14","objectID":"/posts/f-sorting/:2:0","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM"],"title":"F.sorting","uri":"/posts/f-sorting/"},{"categories":["ACM"],"content":"K. 2018 Given a,b,c,d, ï¬nd out the number of pairs of integers (x,y) where a â‰¤ x â‰¤ b,c â‰¤ y â‰¤ d and xÂ·y is a multiple of 2018. ","date":"2018-06-14","objectID":"/posts/k-2018/:1:0","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"K.2018","uri":"/posts/k-2018/"},{"categories":["ACM"],"content":"Input The input consists of several test cases and is terminated by end-of-ï¬le. Each test case contains four integers a,b,c,d. ","date":"2018-06-14","objectID":"/posts/k-2018/:1:1","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"K.2018","uri":"/posts/k-2018/"},{"categories":["ACM"],"content":"Output For each test case, print an integer which denotes the result. ","date":"2018-06-14","objectID":"/posts/k-2018/:1:2","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"K.2018","uri":"/posts/k-2018/"},{"categories":["ACM"],"content":"Constraint â€¢ 1â‰¤ a â‰¤ b â‰¤109,1â‰¤ c â‰¤ d â‰¤109 â€¢ The number of tests cases does not exceed 104. ","date":"2018-06-14","objectID":"/posts/k-2018/:1:3","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"K.2018","uri":"/posts/k-2018/"},{"categories":["ACM"],"content":"Sample Input 1 2 1 2018 1 2018 1 2018 1 1000000000 1 1000000000 ","date":"2018-06-14","objectID":"/posts/k-2018/:1:4","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"K.2018","uri":"/posts/k-2018/"},{"categories":["ACM"],"content":"Sample Output 3 6051 1485883320325200 é¢˜æ„ï¼šç»™å®šåŒºé—´ [a,b]ã€[c,d]ï¼Œé—®æœ‰å¤šå°‘å¯¹æœ‰åºæ•°ç»„ (x,y)(xâˆˆ[a,b],yâˆˆ[c,d]) ä½¿å¾— xy æ˜¯ 2018 çš„å€æ•° æ€è·¯ï¼š2018=21009ï¼ˆåˆ†è§£è´¨å› æ•°ï¼‰ï¼Œåˆ™å¯¹ x åˆ†ç±»è®¨è®ºï¼š1) ä»…ä¸º 2 çš„å€æ•°ï¼›2ï¼‰ä»…ä¸º 1009 çš„å€æ•°ï¼›3ï¼‰å³ä¸º 2 åˆä¸º 1009 çš„å€æ•°ï¼›4ï¼‰æ—¢ä¸ä¸º 2 åˆä¸ä¸º 1009 çš„å€æ•° ç­‰ä»·äºå¦‚ä¸‹åˆ†ç±»è®¨è®ºï¼š è‹¥ x æ˜¯å¶æ•°ï¼š1ï¼‰è‹¥ x æ˜¯ 1009 çš„å€æ•°ï¼Œåˆ™ y å¯ä¸º [c,d] ä¸­ä»»æ„æ•°ï¼› 2ï¼‰è‹¥ x ä¸æ˜¯ 1009 çš„å€æ•°ï¼Œåˆ™ y å¿…å®šä¸º [c,d] ä¸­ 1009 çš„å€æ•° è‹¥ x æ˜¯å¥‡æ•°ï¼š1ï¼‰è‹¥ x æ˜¯ 1009 çš„å€æ•°ï¼Œåˆ™ y å¿…å®šä¸º [c,d] ä¸­ 2 çš„å€æ•°ï¼› 2ï¼‰è‹¥ x ä¸æ˜¯ 1009 çš„å€æ•°ï¼Œåˆ™ y å¿…å®šä¸º [c,d] ä¸­ 2018 çš„å€æ•° å AC ä»£ç  #include\u003ccstdio\u003e #include\u003ciostream\u003e typedef unsigned long long ll; using namespace std; int main(){ ll a,b,c,d; while(cin\u003e\u003ea\u003e\u003eb\u003e\u003ec\u003e\u003ed){ ll num1_all_1009=b/1009-(a-1)/1009; ll num1_even=b/2-(a-1)/2; ll num1_1009_in_even=b/2018-(a-1)/2018; ll num1_rest_in_even=num1_even-num1_1009_in_even; ll num1_odd=(b-a+1)-num1_even; ll num1_1009_in_odd=num1_all_1009-num1_1009_in_even; ll num1_rest_in_odd=num1_odd-num1_1009_in_odd; ll ans=0; ans+=num1_1009_in_even*(d-c+1); ll num2_all_1009=d/1009-(c-1)/1009; ans+=num1_rest_in_even*num2_all_1009; ll num2_even=d/2-(c-1)/2; ans+=num1_1009_in_odd*num2_even; ll num2_all_2018=d/2018-(c-1)/2018; ans+=num1_rest_in_odd*num2_all_2018; cout\u003c\u003cans\u003c\u003cendl; } return 0; } ","date":"2018-06-14","objectID":"/posts/k-2018/:1:5","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"K.2018","uri":"/posts/k-2018/"},{"categories":["ACM"],"content":"B. Higher h-index The h-index of an author is the largest h where he has at least h papers with citations not less than h. Bobo has no papers and he is going to publish some subsequently. If he works on a paper for x hours, the paper will get (aÂ·x) citations, where a is a known constant. Itâ€™s clear that x should be a positive integer. There is also a trick â€“ one can cite his own papers published earlier. Given Bobo has n working hours, ï¬nd the maximum h-index of him. ","date":"2018-06-14","objectID":"/posts/b-higher/:1:0","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","C++","C"],"title":"B.Higher h-index","uri":"/posts/b-higher/"},{"categories":["ACM"],"content":"Input The input consists of several test cases and is terminated by end-of-ï¬le. Each test case contains two integers n and a. ","date":"2018-06-14","objectID":"/posts/b-higher/:1:1","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","C++","C"],"title":"B.Higher h-index","uri":"/posts/b-higher/"},{"categories":["ACM"],"content":"Output For each test case, print an integer which denotes the maximum h-index. ","date":"2018-06-14","objectID":"/posts/b-higher/:1:2","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","C++","C"],"title":"B.Higher h-index","uri":"/posts/b-higher/"},{"categories":["ACM"],"content":"Constraint â€¢ 1â‰¤ n â‰¤109 â€¢ 0â‰¤ a â‰¤ n â€¢ The number of test cases does not exceed 104. ","date":"2018-06-14","objectID":"/posts/b-higher/:1:3","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","C++","C"],"title":"B.Higher h-index","uri":"/posts/b-higher/"},{"categories":["ACM"],"content":"Sample Input 3 0 3 1 1000000000 1000000000 ","date":"2018-06-14","objectID":"/posts/b-higher/:1:4","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","C++","C"],"title":"B.Higher h-index","uri":"/posts/b-higher/"},{"categories":["ACM"],"content":"Sample Output 1 2 1000000000 ","date":"2018-06-14","objectID":"/posts/b-higher/:1:5","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","C++","C"],"title":"B.Higher h-index","uri":"/posts/b-higher/"},{"categories":["ACM"],"content":"Note For the ï¬rst sample, Bobo can work 3 papers for 1 hour each. With the trick mentioned, he will get papers with citations 2,1,0. Thus, his h-index is 1. For the second sample, Bobo can work 2 papers for 1 and 2 hours respectively. He will get papers with citations 1+1,2+0. Thus, his h-index is 2. é¢˜æ„ï¼šç»™å®š n ä¸ªå°æ—¶ï¼Œå¯ä»¥ç”¨å…¶ä¸­ x(1\u003c=x\u003c=n) ä¸ªå°æ—¶å†™ä¸€ç¯‡è®ºæ–‡ï¼Œé‚£ä¹ˆè¿™ç¯‡è®ºæ–‡çš„\"æ—¢å®š\"å¼•ç”¨æ•°å°†ä¼šæ˜¯x*a(a ä¸ºç»™å®šæ­£æ•´æ•°ï¼‰ï¼›æ­¤å¤–ï¼Œå·²ç»å†™å¥½çš„è®ºæ–‡å°†ä¼šè¢«å…¶åå†™æˆçš„è®ºæ–‡æ‰€å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç¯‡è®ºæ–‡çš„æ€»å¼•ç”¨æ•°å°†ä¼šæ˜¯\"æ—¢å®š\"å¼•ç”¨æ•°+å…¶åè®ºæ–‡ç¯‡æ•°ï¼›é—®åœ¨æ‰€æœ‰çš„å†™è®ºæ–‡æ–¹æ¡ˆä¸­ï¼ˆä¾‹å¦‚ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ç”¨ n ä¸ªå°æ—¶å†™ n ç¯‡è®ºæ–‡ï¼Œæ¯ç¯‡è®ºæ–‡å„èŠ± 1 å°æ—¶ï¼ˆå¯ä»¥å¾—åˆ°è¿™ n ç¯‡è®ºæ–‡çš„å¼•ç”¨æ•°ï¼‰)ï¼Œh æœ€å¤§ä¸ºå¤šå°‘ (h çš„å«ä¹‰åŒä¸Šé¢˜ï¼‰ï¼ˆæ¯ä¸€ç§æ–¹æ¡ˆéƒ½å¯¹åº”ç€ä¸€ä¸ª hï¼Œæ±‚è¿™äº› h ä¸­çš„æœ€å¤§è€…ï¼‰ æ€è·¯ï¼šæœ€ä¼˜æ–¹æ¡ˆï¼ˆå³å¯¹åº” h å€¼æœ€å¤§çš„æ–¹æ¡ˆï¼‰æ˜¯å¹³æ‘Š n å°æ—¶å†™æˆ n ç¯‡è®ºæ–‡ï¼ˆè¯æ˜æœªçŸ¥ï¼‰ï¼›æ­¤æ—¶ n ç¯‡è®ºæ–‡çš„å¼•ç”¨æ•°ä¸º a,a+1,a+2,â€¦,a+n-1ï¼Œå¼•ç”¨æ•°ä¸º a+i æ—¶ï¼Œå¼•ç”¨æ•°å¤§äºç­‰äºå®ƒçš„è®ºæ–‡æœ‰ n-i ç¯‡ï¼Œä»¤ a+i=n-i å¾— i=(n-a)/2, æ‰€ä»¥ h=a+(n-a)/2; å AC ä»£ç  #include\u003ccstdio\u003e int main(){ int n,a; while(scanf(\"%d%d\",\u0026n,\u0026a)!=EOF){ printf(\"%d\\n\",a+(n-a)/2); } return 0; } ","date":"2018-06-14","objectID":"/posts/b-higher/:1:6","tags":["ACM","2018 æ¹˜æ½­é‚€è¯·èµ›","C++","C"],"title":"B.Higher h-index","uri":"/posts/b-higher/"},{"categories":["ACM"],"content":"A. Easy h-index The h-index of an author is the largest h where he has at least h papers with citations not less than h. Bobo has published many papers. Given a0,a1,a2,â€¦,an which means Bobo has published ai papers with itations exactly i, ï¬nd the h-index of Bobo. ","date":"2018-06-14","objectID":"/posts/a-easy/:1:0","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"A.Easy h-index","uri":"/posts/a-easy/"},{"categories":["ACM"],"content":"Input The input consists of several test cases and is terminated by end-of-ï¬le. The ï¬rst line of each test case contains an integer n. The second line contains (n+1) integers a0,a1,â€¦,an. ","date":"2018-06-14","objectID":"/posts/a-easy/:1:1","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"A.Easy h-index","uri":"/posts/a-easy/"},{"categories":["ACM"],"content":"Output For each test case, print an integer which denotes the result. ","date":"2018-06-14","objectID":"/posts/a-easy/:1:2","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"A.Easy h-index","uri":"/posts/a-easy/"},{"categories":["ACM"],"content":"Constraint â€¢ 1â‰¤ n â‰¤2Â·105 â€¢ 0â‰¤ ai â‰¤109 â€¢ The sum of n does not exceed 250,000. ","date":"2018-06-14","objectID":"/posts/a-easy/:1:3","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"A.Easy h-index","uri":"/posts/a-easy/"},{"categories":["ACM"],"content":"Sample Input 1 1 2 2 1 2 3 3 0 0 0 0 ","date":"2018-06-14","objectID":"/posts/a-easy/:1:4","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"A.Easy h-index","uri":"/posts/a-easy/"},{"categories":["ACM"],"content":"Sample Output 1 2 0 é¢˜æ„ï¼šç»™å®šè¢«å¼•ç”¨æ¬¡æ•°ä¸º 0~n çš„è®ºæ–‡åˆ†åˆ«æœ‰å‡ å¼ ï¼Œæ‰¾åˆ°æœ€å¤§çš„ hï¼Œæ»¡è¶³è¢«å¼•ç”¨æ¬¡æ•°å¤§äºç­‰äº h çš„è®ºæ–‡è‡³å°‘æœ‰ h å¼  æ€è·¯ï¼šåœ¨åŒºé—´ [0,n] å†…äºŒåˆ†ç­”æ¡ˆï¼›æˆ–ç›´æ¥ä» n~0 éå†æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ h å AC ä»£ç  #include \"bits/stdc++.h\" using namespace std; int main(){ int a[200005]; int n; int i; while(cin\u003e\u003en){ for(i=0;i\u003c=n;i++) cin\u003e\u003ea[i]; int sum=a[n]; for(i=n;i\u003e=0;){ if(sum\u003e=i){ cout\u003c\u003ci\u003c\u003cendl; break; } else sum+=a[--i]; } if(i\u003c0) cout\u003c\u003c\"0\"\u003c\u003cendl; } return 0; } ","date":"2018-06-14","objectID":"/posts/a-easy/:1:5","tags":["2018 æ¹˜æ½­é‚€è¯·èµ›","ACM","C++"],"title":"A.Easy h-index","uri":"/posts/a-easy/"},{"categories":["ACM"],"content":"sort ä½¿ç”¨#include\u003calgorithm\u003eå¤´æ–‡ä»¶ï¼Œ sortï¼ˆå¼€å§‹åœ°å€ï¼Œç»“æŸåœ°å€ï¼Œæ’åºæ–¹å¼ï¼‰ï¼Œå…¶ä¸­ç¬¬ä¸‰å‚æ•°å¯ä»¥æ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä¸ºå‡åºæ’åºã€‚ æˆ–è€…ç®€å•çš„ç”¨ less\u003cå‚æ•°ç±»å‹\u003e()è¡¨ç¤ºå‡åº greater\u003cå‚æ•°ç±»å‹\u003e()è¡¨ç¤ºé™åº ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ª bool å‹å‡½æ•°ï¼Œæ¯”å¦‚ï¼š bool cmp(int a,int b){ return a\u003eb;//è¡¨ä»å¤§åˆ°å°ï¼Œå³é™åº } å‡è®¾è‡ªå·±å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ node typedef struct node { int a; int b; double c; }note; æœ‰ä¸€ä¸ª node ç±»å‹çš„æ•°ç»„ node arr[100]ï¼Œæƒ³å¯¹å®ƒè¿›è¡Œæ’åºï¼šå…ˆæŒ‰ a å€¼å‡åºæ’åˆ—ï¼Œå¦‚æœ a å€¼ç›¸åŒï¼Œå†æŒ‰ b å€¼é™åºæ’åˆ—ï¼Œå¦‚æœ b è¿˜ç›¸åŒï¼Œå°±æŒ‰ c é™åºæ’åˆ—ã€‚å°±å¯ä»¥å†™è¿™æ ·ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼š ä»¥ä¸‹æ˜¯ä»£ç ç‰‡æ®µï¼š bool cmp(node x,node y) { if(x.a!=y.a) return x.a\u003cy.a; if(x.b!=y.b) return x.b\u003ey.b; return x.c\u003ey.c; } sort() å‡½æ•°æ˜¯å®Œå…¨é€šç”¨çš„ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥æ“ä½œå‡ ä¹ä»»ä½•æ•°æ®é›†åˆï¼ŒåŒ…æ‹¬é“¾è¡¨ï¼Œå®¹å™¨å’Œæ•°ç»„ï¼Œæ•°ç»„ç±»å‹å¯ä»¥æ˜¯ int,char ç­‰ã€‚ å®ä¾‹ï¼šå…ˆé™åºå†å‡åº #include\u003ciostream\u003e #include\u003calgorithm\u003e using namespace std; typedef struct data{ int a; double b; }date; bool cmp(date a,date b){ if(a.b!=b.b) return a.b\u003eb.b; return a.a\u003cb.a; } int main(){ date a[3]={{5,56.5},{4,56.5},{8,85}}; sort(a,a+3,cmp); for(int i=0;i\u003c3;i++) cout\u003c\u003ca[i].a\u003c\u003c\"-\"\u003c\u003ca[i].b\u003c\u003cendl; cout\u003c\u003cendl; return 0; } ä¼ é€é—¨ ","date":"2018-06-14","objectID":"/posts/c-sort/:0:0","tags":["C++","sort","STL","ACM"],"title":"sort æ’åº","uri":"/posts/c-sort/"},{"categories":["ACM"],"content":"1.swapï¼ˆäº¤æ¢ä¸¤å…ƒç´ å€¼ï¼Œåœ¨ algorithm ä¸‹ï¼Œç”¨æ³•ï¼šswap(a,b);ï¼‰ äº¤æ¢ä¸¤å…ƒç´ çš„å€¼åœ¨ C è¯­è¨€è¯¾ä¸Šä½œä¸ºæŒ‡é’ˆè®²è§£çš„å…¸ä¾‹ã€‚ int a=1,b=2; swap(a,b); //æ­¤æ—¶ a=2,b=1 ï¼ˆå¯ä»¥æ˜¯å…¶ä»–ç±»å‹ï¼‰ ","date":"2018-06-14","objectID":"/posts/c-with-stl/:1:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["ACM"],"content":"2.sort(,,) sort æ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œstl ä¸­çš„ stable_sort æ‰æ˜¯ç¨³å®šçš„ inta[10]={1,6,2,3,5,4,3,8,9,7}; stable_sort(a,a+10,greater\u003cint\u003e()); for(int i=0;i\u003c10;i++) cout\u003c\u003ca[i]\u003c\u003c\" \"; ","date":"2018-06-14","objectID":"/posts/c-with-stl/:2:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["ACM"],"content":"3.reverseï¼ˆç¿»è½¬åºåˆ—ï¼Œåœ¨ algorithm ä¸‹ï¼‰ //å¸¸ç”¨åœ¨å­—ç¬¦ä¸²ä¸Š int a[5]={1,2,3,4,5}; reverse(a,a+5); //åºåˆ—ç°åœ¨æ˜¯ 5 4 3 2 1 char s[]=â€œericxieâ€; reverse(s,s+strlen(s)); //åºåˆ—ç°åœ¨æ˜¯ â€œeixcireâ€ //åŒæ ·é€‚ç”¨äº string string s=â€œqwerâ€; reverse(s.begin(),s.end()); ","date":"2018-06-14","objectID":"/posts/c-with-stl/:3:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["ACM"],"content":"4.minï¼Œmaxï¼ˆå–å¤§ï¼Œå–å°ï¼‰ int a=1,b=2,c; c=min(a,b); //æ­¤æ—¶ c ç­‰äº 1 c=max(a,b); //æ­¤æ—¶ c ç­‰äº 2 string s=â€œqwerâ€,d=â€œasjkâ€,c; c=min(s,d); //c=â€œasjkâ€ ","date":"2018-06-14","objectID":"/posts/c-with-stl/:4:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["ACM"],"content":"5.__gcdï¼ˆæœ€å¤§å…¬çº¦æ•°ï¼‰ æ‰‹å†™ gcd å‡½æ•°ä¹Ÿè¡Œï¼Œè¾—è½¬ç›¸é™¤ï¼Œè¾—è½¬ç›¸å‡ï¼› int gcd(int a,int b){ return a%b ? b : gcd(b,a%b); } //ç›´æ¥ç”¨ int a=4,b=6; int c=__gcd(a,b); //æ³¨æ„ä¸‹åˆ’çº¿ï¼Œæ­¤æ—¶ c ç­‰äº 2 ","date":"2018-06-14","objectID":"/posts/c-with-stl/:5:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["ACM"],"content":"6.lower_bound å’Œ upper_boundï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰ lower_bound æ„æ€å°±æ˜¯ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼Œä½¿å¾—ï¼šå¦‚æœåœ¨è¿™ä¸ªä½ç½®æ’å…¥ value åï¼ŒåŸæœ‰åºåºåˆ—ä¾æ—§æœ‰åºã€‚ upper_bound æ˜¯æ‰¾åˆ°æœ€åä¸€ä¸ªç¬¦åˆæ•°ä½ç½®åä¸€ä¸ªä½ç½®ï¼Œä½¿å¾—ï¼šå¦‚æœåœ¨è¿™ä¸ªä½ç½®æ’å…¥ value åï¼ŒåŸæœ‰åºåºåˆ—ä¾æ—§æœ‰åºã€‚ //æ•°ç»„ int a[8]={1,2,4,4,9,12,12,15}; int pos1 = lower_bound(a,a+8,4)-a; int pos2 = upper_bound(a,a+8,4)-a-1; //åœ¨è¿™ä¸ªæ ·ä¾‹ä¸‹ pos1!=pos2;pos1=2;pos2=3; æ ¹æ®æˆ‘çš„ç†è§£ lower_bound(a,a+8,value) å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œæ‹¿è¿™ä¸ªåœ°å€å‡å»æ•°ç»„é¦–åœ°å€ a[0]ï¼Œé‚£ä¹ˆåˆšå¥½å°±æ˜¯ value åº”è¯¥æ”¾å…¥çš„ä½ç½®ã€‚ //vector vector\u003cint\u003e a; è‹¥ a ä¸­ç›®å‰çš„å…ƒç´ ä¹Ÿæ˜¯{1,2,4,4,9,12,12,15}; é‚£ä¹ˆè¿™é‡Œç”¨ lower_bound å¾—åˆ°çš„åº”è¯¥ä¹Ÿæ˜¯ä¸€ä¸ªç±»ä¼¼äºæŒ‡é’ˆçš„ä¸œè¥¿ï¼Œä¸ºä»€ä¹ˆä¸å«å®ƒæŒ‡é’ˆå‘¢ï¼Ÿå› ä¸ºä»–æœ‰äº†ä¸€ä¸ªåå­—ï¼Œå«åšè¿­ä»£å™¨ã€‚ vector\u003cint\u003e::iterator it; it = lower_bound(a.begin(),a.end(),4); //è¿™é‡Œçš„ it å°±æ˜¯è¿­ä»£å™¨ï¼Œé‚£ä¹ˆ* it å°±æ˜¯è¯¥ä¸‹æ ‡å¯¹åº”çš„ value äº†ã€‚ //set é›†åˆ set\u003cint\u003e a; set\u003cint\u003e::iterator it; it = a.lower_bound(value); ","date":"2018-06-14","objectID":"/posts/c-with-stl/:6:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["ACM"],"content":"7.next_permutation ï¼ˆæ’åˆ—ï¼‰ bool next_permutation( iterator start, iterator end ); é€šå¸¸ç”¨äºç”Ÿæˆåºåˆ—çš„å…¨æ’åˆ—ã€‚ç”¨ä¹‹å‰å…ˆä¿è¯æœ‰åºï¼› int a[]={1,2,3}; do{ for(int i=0;i\u003c3;i++) cout\u003c\u003ca[i]\u003c\u003c\" \"; cout\u003c\u003cendl; }while(next_permutation(a,a+3)); ç»“æœä¸ºï¼š 1 2 3 1 3 2 2 1 3 2 3 1 3 1 2 3 2 1 string str=\"STL\"; sort(str.begin(), str.end()); do{ cout \u003c\u003c str \u003c\u003c endl; }while (next_permutation(str.begin(),str.end()))ï¼› ç»“æœï¼š LST LTS SLT STL TLS TSL å¤§æ•°æ® c æ¯” c++æ•ˆç‡é«˜ int length; char str[MAX]; gets(str); length = strlen(str); sort(str, str + length); do{ puts(str); }while(next_permutation(str, str+length))ï¼› ","date":"2018-06-14","objectID":"/posts/c-with-stl/:7:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["ACM"],"content":"8.unique ï¼ˆå»é‡ï¼‰ å¦‚ä½•æŠŠåºåˆ— a ä¸­çš„é‡å¤å…ƒç´ å»é™¤å‘¢ï¼Ÿé¦–å…ˆéœ€è¦å¯¹åŸåºåˆ— a è¿›è¡Œæ’åºï¼Œä¿è¯æœ‰åºåï¼Œè°ƒç”¨ unique(a.head , a.tail ) å°±å¯ä»¥äº†ã€‚unique ä¼šè¿”å›ä¸€ä¸ªç±»ä¼¼æŒ‡é’ˆçš„ä¸œè¥¿ï¼ˆå’Œ lower_bound æœ‰ç‚¹åƒï¼‰ï¼Œ-a åè¡¨ç¤ºå»é‡ä¹‹ååºåˆ—çš„é•¿åº¦ã€‚ ä¸‹é¢æ˜¯å®ä¾‹ã€‚ int a[]={1,3,5,7,9,2,2,2,1,1,1}; sort(a,a+11); int len = unique(a,a+11)-a; for(int i=0;i\u003clen;i++) cout\u003c\u003ca[i]\u003c\u003c\" \"; è¾“å‡ºç»“æœä¸ºï¼š1 2 3 5 7 9 ä¼ é€é—¨ ","date":"2018-06-14","objectID":"/posts/c-with-stl/:8:0","tags":["ACM","STL","C++"],"title":"C++ with STL","uri":"/posts/c-with-stl/"},{"categories":["Grocery"],"content":"1. \u0026è¿ç®— \u0026è¿ç®—é€šå¸¸ç”¨äºäºŒè¿›åˆ¶å–ä½æ“ä½œï¼Œä¾‹å¦‚ä¸€ä¸ªæ•° \u0026 1 çš„ç»“æœå°±æ˜¯å–äºŒè¿›åˆ¶çš„æœ€æœ«ä½ã€‚è¿™å¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°çš„å¥‡å¶ï¼ŒäºŒè¿›åˆ¶çš„æœ€æœ«ä½ä¸º 0 è¡¨ç¤ºè¯¥æ•°ä¸ºå¶æ•°ï¼Œæœ€æœ«ä½ä¸º 1 è¡¨ç¤ºè¯¥æ•°ä¸ºå¥‡æ•°ã€‚ ","date":"2018-06-14","objectID":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/:1:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["Grocery"],"content":"2. |è¿ç®— |è¿ç®—é€šå¸¸ç”¨äºäºŒè¿›åˆ¶ç‰¹å®šä½ä¸Šçš„æ— æ¡ä»¶èµ‹å€¼ï¼Œä¾‹å¦‚ä¸€ä¸ªæ•° or 1 çš„ç»“æœå°±æ˜¯æŠŠäºŒè¿›åˆ¶æœ€æœ«ä½å¼ºè¡Œå˜æˆ 1ã€‚å¦‚æœéœ€è¦æŠŠäºŒè¿›åˆ¶æœ€æœ«ä½å˜æˆ 0ï¼Œå¯¹è¿™ä¸ªæ•°| 1 ä¹‹åå†å‡ä¸€å°±å¯ä»¥äº†ï¼Œå…¶å®é™…æ„ä¹‰å°±æ˜¯æŠŠè¿™ä¸ªæ•°å¼ºè¡Œå˜æˆæœ€æ¥è¿‘çš„å¶æ•°ã€‚ ","date":"2018-06-14","objectID":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/:2:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["Grocery"],"content":"3. ^è¿ç®— ^è¿ç®—é€šå¸¸ç”¨äºå¯¹äºŒè¿›åˆ¶çš„ç‰¹å®šä¸€ä½è¿›è¡Œå–åæ“ä½œï¼Œå› ä¸ºå¼‚æˆ–å¯ä»¥è¿™æ ·å®šä¹‰ï¼šå¼‚æˆ– 0 éƒ½ä¸å˜ï¼Œå¼‚æˆ– 1 åˆ™å–åã€‚ ^è¿ç®—çš„é€†è¿ç®—æ˜¯å®ƒæœ¬èº«ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤æ¬¡å¼‚æˆ–åŒä¸€ä¸ªæ•°æœ€åç»“æœä¸å˜ï¼Œå³ a ^ b ^ b = aã€‚^è¿ç®—å¯ä»¥ç”¨äºç®€å•çš„åŠ å¯†ï¼Œæ¯”å¦‚ä½ æƒ³å¯¹ä½  MM è¯´ 1314520ï¼Œä½†æ€•åˆ«äººçŸ¥é“ï¼Œäºæ˜¯åŒæ–¹çº¦å®šæ‹¿ä½ çš„ç”Ÿæ—¥ 19880516 ä½œä¸ºå¯†é’¥ã€‚1314520^19880516 = 20665500ï¼Œä½ å°±æŠŠ 20665500 å‘Šè¯‰ MMã€‚MM å†æ¬¡è®¡ç®— 20665500 ^ 19880516 çš„å€¼ï¼Œå¾—åˆ° 1314520ï¼Œäºæ˜¯å¥¹å°±æ˜ç™½äº†ä½ çš„ä¼å›¾ã€‚ è¿˜å¯ä»¥ç”¨å¼‚æˆ–æ¥è¿›è¡Œå¿«é€Ÿåœ°äº¤æ¢æ•°æ®ï¼Œ a=2;b=3;//å…ˆè½¬åŒ–æˆäºŒè¿›åˆ¶ a=a^b; b=a^b; a=a^b; æ“ä½œå a=3;b=2; ","date":"2018-06-14","objectID":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/:3:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["Grocery"],"content":"4. ~ è¿ç®— ~è¿ç®—çš„å®šä¹‰æ˜¯æŠŠå†…å­˜ä¸­çš„ 0 å’Œ 1 å…¨éƒ¨å–åã€‚ä½¿ç”¨~è¿ç®—æ—¶è¦æ ¼å¤–å°å¿ƒï¼Œä½ éœ€è¦æ³¨æ„æ•´æ•°ç±»å‹æœ‰æ²¡æœ‰ç¬¦å·ã€‚å¦‚æœ~çš„å¯¹è±¡æ˜¯æ— ç¬¦å·æ•´æ•°ï¼ˆä¸èƒ½è¡¨ç¤ºè´Ÿæ•°ï¼‰ï¼Œé‚£ä¹ˆå¾—åˆ°çš„å€¼å°±æ˜¯å®ƒä¸è¯¥ç±»å‹ä¸Šç•Œçš„å·®ï¼Œå› ä¸ºæ— ç¬¦å·ç±»å‹çš„æ•°æ˜¯ç”¨$0000 åˆ°$FFFF ä¾æ¬¡è¡¨ç¤ºçš„ã€‚ ","date":"2018-06-14","objectID":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/:4:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["Grocery"],"content":"5. Â«è¿ç®— a Â« b å°±è¡¨ç¤ºæŠŠ a è½¬ä¸ºäºŒè¿›åˆ¶åå·¦ç§» b ä½ï¼ˆåœ¨åé¢æ·» b ä¸ª 0ï¼‰ã€‚ä¾‹å¦‚ 100 çš„äºŒè¿›åˆ¶ä¸º 1100100ï¼Œè€Œ 110010000 è½¬æˆåè¿›åˆ¶æ˜¯ 400ï¼Œé‚£ä¹ˆ 100 Â«2 = 400ã€‚å¯ä»¥çœ‹å‡ºï¼Œa Â« b çš„å€¼å®é™…ä¸Šå°±æ˜¯ a ä¹˜ä»¥ 2 çš„ b æ¬¡æ–¹ï¼Œå› ä¸ºåœ¨äºŒè¿›åˆ¶æ•°åæ·»ä¸€ä¸ª 0 å°±ç›¸å½“äºè¯¥æ•°ä¹˜ä»¥ 2ã€‚ é€šå¸¸è®¤ä¸º a Â« 1 æ¯” a * 2 æ›´å¿«ï¼Œå› ä¸ºå‰è€…æ˜¯æ›´åº•å±‚ä¸€äº›çš„æ“ä½œã€‚å› æ­¤ç¨‹åºä¸­ä¹˜ä»¥ 2 çš„æ“ä½œè¯·å°½é‡ç”¨å·¦ç§»ä¸€ä½æ¥ä»£æ›¿ã€‚ å®šä¹‰ä¸€äº›å¸¸é‡å¯èƒ½ä¼šç”¨åˆ°Â«è¿ç®—ã€‚ä½ å¯ä»¥æ–¹ä¾¿åœ°ç”¨ 1 Â«16 â€“ 1 æ¥è¡¨ç¤º 65535ã€‚å¾ˆå¤šç®—æ³•å’Œæ•°æ®ç»“æ„è¦æ±‚æ•°æ®è§„æ¨¡å¿…é¡»æ˜¯ 2 çš„å¹‚ï¼Œæ­¤æ—¶å¯ä»¥ç”¨Â«æ¥å®šä¹‰ Max_N ç­‰å¸¸é‡ã€‚ ","date":"2018-06-14","objectID":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/:5:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["Grocery"],"content":"6. Â»è¿ç®— å’ŒÂ«ç›¸ä¼¼ï¼Œa Â» b è¡¨ç¤ºäºŒè¿›åˆ¶å³ç§» b ä½ï¼ˆå»æ‰æœ« b ä½ï¼‰ï¼Œç›¸å½“äº a é™¤ä»¥ 2 çš„ b æ¬¡æ–¹ï¼ˆå–æ•´ï¼‰ã€‚æˆ‘ä»¬ä¹Ÿç»å¸¸ç”¨Â» 1 æ¥ä»£æ›¿ div 2ï¼Œæ¯”å¦‚äºŒåˆ†æŸ¥æ‰¾ã€å †çš„æ’å…¥æ“ä½œç­‰ç­‰ã€‚æƒ³åŠæ³•ç”¨Â»ä»£æ›¿é™¤æ³•è¿ç®—å¯ä»¥ä½¿ç¨‹åºæ•ˆç‡å¤§å¤§æé«˜ã€‚æœ€å¤§å…¬çº¦æ•°çš„äºŒè¿›åˆ¶ç®—æ³•ç”¨é™¤ä»¥ 2 æ“ä½œæ¥ä»£æ›¿æ…¢å¾—å‡ºå¥‡çš„ mod è¿ç®—ï¼Œæ•ˆç‡å¯ä»¥æé«˜ 60% ä¼ é€é—¨ åŸæ–‡ï¼šhttp://www.matrix67.com/blog/archives/263 ","date":"2018-06-14","objectID":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/:6:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/posts/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["Memo"],"content":" 2021/10/1 æ›´æ–° ä½¿ç”¨ Chrome ç­‰æµè§ˆå™¨ç®¡ç†ä¹¦ç­¾æ˜¯æ›´å¥½æ›´æ–¹ä¾¿çš„æ–¹å¼ï¼Œç™»é™† google è´¦å·ï¼Œæˆ–è€…å¯¼å‡º html ä¹¦ç­¾æ–‡ä»¶éƒ½æŒºæ–¹ä¾¿ã€‚ æˆ‘ä»¬åœ¨å¹³æ—¶å­¦ä¹ ç”Ÿæ´»æ€»ä¼šé‡åˆ°å¾ˆå¤šå¾ˆå¤šæœ‰ç”¨çš„ç½‘ç«™ï¼Œä¹Ÿè®¸æˆ‘ä»¬æ”¶è—åœ¨äº†æµè§ˆå™¨ä¹¦ç­¾é‡Œï¼Œå¯è¿‡ä¹…äº†ï¼Œä¸åšè¯´æ˜ï¼Œè¿™äº›é“¾æ¥çš„ä»·å€¼å°±è¢«æ—¶é—´æ·¹æ²¡äº†ï¼Œæˆ‘ä»¬è‡ªå·±éƒ½è®°ä¸èµ·æ¥äº†ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« å› æ­¤è€Œç”Ÿã€‚å¯¹è‡ªå·±æ”¶è—çš„é“¾æ¥åšäº›ç®€å•çš„è¯´æ˜ï¼ˆç¬¬ä¸€æ¬¡ç¼–å†™ç”¨äº†æˆ‘ä¸€ä¸ªä¸‹åˆï¼‰ï¼›ä¹Ÿç›¸å½“äºæˆ‘çš„é“¾æ¥æ”¶è—å¤¹ï¼Œåˆ†äº«ä¸€äº›æœ‰è¶£çš„ç½‘ç«™ï¼Œ ","date":"2018-06-07","objectID":"/posts/links/:0:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"ACM ç›¸å…³ é“¾æ¥ æè¿° å„å¤§ OJ é¢˜ç›®åˆ†ç±» å„ç§ç®—æ³•åˆ†ç±»ï¼Œå¯¹åº” OJ é¢˜å·è¶…é“¾æ¥ ACM é¢˜ç›®åˆ†ç±» codeforces ä¿„å›½ CF åœ¨çº¿ç¼–ç¨‹ï¼Œä¸€èˆ¬æ¯”èµ›åœ¨æ™šä¸Š 9:30 å’Œ 11ï¼š00 ç‰›å®¢ç½‘ å›½å†…æ±‚èŒå­¦ä¹ ç½‘ï¼Œæœ‰å¾ˆå¤šç¨‹åºè®¾è®¡æ¯”èµ› vjudge è¿™ä¸ªä¸ç”¨è¯´äº†å§ hihocoder æ‰“å¾—å°‘ï¼Œæ„Ÿè§‰å¥½å¤šæ•°æ®ç»“æ„çš„é¢˜ ç™¾ç»ƒ OpenJudge çš„ä¸€ä¸ªå°ç»„ï¼Œå¾ˆå¤šé¢˜ç›®æ¥è‡ª POJï¼›ä¹Ÿæ˜¯æˆ‘ ACM å¯è’™åœ° HDUOJ æ­å·ç”µå­ç§‘æŠ€å¤§å­¦ OJ POJ åŒ—äº¬å¤§å­¦ OJ æ´›è°· lintcode é¢†æ‰£ï¼ˆå›½å¤–ï¼‰ leedcode åŠ›æ‰£ codewar å›½å¤– æ›´å¤š OJï¼Œåœ¨çº¿åˆ·é¢˜ç½‘ç«™ â€¦ ","date":"2018-06-07","objectID":"/posts/links/:1:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"ç¼–ç¨‹ï¼Œå­¦ä¹  é“¾æ¥ æè¿° visualgo ç®—æ³•å­¦ä¹ ï¼Œæ•°æ®ç»“æ„å’Œç®—æ³•åŠ¨æ€å¯è§†åŒ– c,c++å­¦ä¹  å¾ˆè¯¦ç»†çš„çŸ¥è¯†è®²è§£ Tomcat ä¸‹è½½ Tomcat å„ç‰ˆæœ¬ä¸‹è½½ï¼ŒTomcat è§£å‹å³å®‰è£…ï¼›\\binä¸‹å¯ä»¥å¯åŠ¨å’Œå…³é—­æœåŠ¡å™¨ï¼›å¯æ‰‹åŠ¨åœ¨\\webappsé‡Œåˆ›å»º web åº”ç”¨ï¼Œä¹Ÿå¯ä»¥é…åˆEclisp IDE for Java EE Developersç­‰ Java IDE å·¥å…·åˆ›å»º w3school å¯åœ¨çº¿æµ‹è¯•ï¼ŒWeb æŠ€æœ¯æ•™ç¨‹ï¼ŒHTML, æµè§ˆå™¨è„šæœ¬ï¼ŒæœåŠ¡å™¨è„šæœ¬ï¼Œxml æ•™ç¨‹ç­‰ w3cschool å’Œä¸Šé¢ä¸åŒå“¦ï¼Œæ˜¯ä¸æ˜¯å’Œä¸Šé¢çš„å¾ˆåƒå“ˆå“ˆå“ˆï¼æˆ‘ä¼°è®¡æ˜¯ä¸Šä¸€ä¸ªç½‘ç«™çš„æ–°ç‰ˆï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼Œå†…å®¹æ›´ä¸°å¯Œï¼Œè¿˜æœ‰å¾®ä¿¡å°ç¨‹åºæ•™ç¨‹ç­‰ èœé¸Ÿæ•™ç¨‹ å’Œä¸Šé¢ä¸¤ä¸ªå·®ä¸å¤šï¼Œè¿˜æœ‰ä¸€äº›æ•°æ®åº“ã€å®‰å“çš„ä¸œè¥¿ï¼Œgit å­¦ä¹  python å­¦ä¹  Python åº“å®‰è£…åŒ…ä¸‹è½½ï¼Œpython,Django,HTML,ACM å­¦ä¹  python123 Python123 æ˜¯ä¸“æ³¨äºä¸ºä¸­å›½é«˜ç­‰é™¢æ ¡æ•™å­¦ Python è¯­è¨€çš„è€Œå¼€å‘çš„ä¸€æ¬¾å­¦ä¹ å·¥å…·ç½‘ç«™ python å­¦ä¹  pypi Find, install and publish Python packages with the Python Package Index ä¼˜çŸ¿ python åœ¨çº¿æµ‹è¯•ï¼Œç¬”è®° é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— å¼€å‘è€…æ‰‹å†Œï¼ŒJavaScript ç­‰ç­‰ å»–é›ªå³° git,python,javascript å­¦ä¹  æ–°æ™´ç½‘ PS å­¦ä¹ ï¼Œæ‘„å½±æ•™ç¨‹ç­‰ å®éªŒæ¥¼ åœ¨çº¿åšå®éªŒï¼Œé«˜æ•ˆå­¦ç¼–ç¨‹ æ…•è¯¾ç½‘ åœ¨çº¿å­¦ä¹ ï¼Œå…è´¹ï¼Œä»˜è´¹è§†é¢‘ wxpy ä¸€ä¸ª python å…³äºå¾®ä¿¡çš„åº“ So1n python å­¦ä¹  ","date":"2018-06-07","objectID":"/posts/links/:2:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"äº‘æœåŠ¡åŠç«™é•¿å·¥å…· é“¾æ¥ æè¿° è…¾è®¯äº‘ dnspod è§£ææ–°ç‰ˆå…¥å£ï¼Œè…¾è®¯äº‘æ§åˆ¶å° dnspod è§£æ åŸŸåè§£æï¼Œå…¶ä»–ï¼šé˜¿é‡Œäº‘ç­‰ cloudflare è§£æ åŸŸåè§£æï¼Œhttps è§£æï¼Œ[ä»‹ç»](https://oliverqueen.cn/2018/01/25/å¯èƒ½æ˜¯æœ€å…¨çš„ä½¿ç”¨ HEXO æ­å»ºä¸ªäººåšå®¢æ•™ç¨‹) cloud studio è¿™æ˜¯è…¾è®¯äº‘å’Œ coding åˆä½œåçš„ä¸€ä¸ªä¸œè¥¿ï¼Œç®€å•æ¥è¯´å°±æ˜¯äº‘ç«¯å¼€å‘ç¯å¢ƒã€‚è¯•äº†ä¸€ä¸‹å®Œå…¨å¯ä»¥æŠŠ hexo åšå®¢æºç æŒ‚ä¸Šé¢ç¼–è¾‘ã€‚è¿™ä¹Ÿå°±ä¸ç”¨åªå±€é™äºä¸€å°ç”µè„‘å‘å¸ƒåšå®¢äº†ã€‚ è…¾è®¯äº‘å¤§å­¦å¼€æ”¾å®éªŒå®¤ å¯ä»¥åœ¨çº¿è¿›è¡Œä¸€äº›äº‘æœåŠ¡åº”ç”¨æ­å»ºç­‰çš„å®éªŒã€‚ä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰é˜¿é‡Œäº‘å¼€æ”¾å®éªŒå®¤ å®å¡”é¢æ¿ å®å¡”é¢æ¿æ˜¯ä¸€æ¬¾ä½¿ç”¨æ–¹ä¾¿ã€åŠŸèƒ½å¼ºå¤§ä¸”ç»ˆèº«å…è´¹çš„æœåŠ¡å™¨ç®¡ç†è½¯ä»¶ï¼Œæ”¯æŒ Linux ä¸ Windows ç³»ç»Ÿã€‚ä¸€é”®é…ç½®ï¼šLAMP/LNMPã€ç½‘ç«™ã€æ•°æ®åº“ã€FTPã€SSLï¼Œé€šè¿‡ Web ç«¯è½»æ¾ç®¡ç†æœåŠ¡å™¨ã€‚ leancloud ä¸€ç«™å¼åç«¯äº‘æœåŠ¡ daovoice ç½‘ç«™åœ¨çº¿å®¢æœ ç™¾åº¦ç½‘ç«™æ”¶å½• ç½‘ç«™ seo Bing ç«™é•¿ Bing ç½‘ç«™ç®¡ç†å‘˜å·¥å…· ç«™é•¿å·¥å…· ç½‘ç«™ä¿¡æ¯æŸ¥è¯¢ï¼Œæƒé‡ï¼Œseoï¼Œç½‘ç«™é€Ÿåº¦æŸ¥è¯¢ï¼Œping ç­‰ ç«™é•¿å·¥å…·å¤§å…¨ å„ç§ seo ä¼˜åŒ–ï¼Œå·¥å…·ç­‰ ","date":"2018-06-07","objectID":"/posts/links/:3:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"å‰ç«¯å·¥å…· é“¾æ¥ æè¿° å…¨æ ˆå¼€å‘è€… é¡¾åæ€ä¹‰ï¼Œæœ‰å¾ˆå¤š web å¼€å‘çš„æ•™ç¨‹ï¼Œä¹Ÿå¯ä»¥åœ¨çº¿æ‰§è¡Œä»£ç  JSFuck JSFuck æ˜¯ä¸€ç§åŸºäº JavaScript åŸå­éƒ¨åˆ†çš„æ·±å¥¥æ•™è‚²ç¼–ç¨‹é£æ ¼ã€‚å®ƒåªä½¿ç”¨å…­ä¸ªä¸åŒçš„å­—ç¬¦æ¥ç¼–å†™å’Œæ‰§è¡Œä»£ç ã€‚ï¼ˆä»£ç æä¸‘åŒ–ï¼‰ BootCDN ç¨³å®šã€å¿«é€Ÿã€å…è´¹çš„å‰ç«¯å¼€æºé¡¹ç›® CDN åŠ é€ŸæœåŠ¡ï¼Œå…±æ”¶å½•äº† 3441 ä¸ªå‰ç«¯å¼€æºé¡¹ç›®ã€‚æ¯”å¦‚vue,fancyboxç­‰ bootstrap ä¸­æ–‡ç½‘ ç®€æ´ã€ç›´è§‚ã€å¼ºæ‚çš„å‰ç«¯å¼€å‘æ¡†æ¶ï¼Œè®© web å¼€å‘æ›´è¿…é€Ÿã€ç®€å•ã€‚è¿˜æœ‰ä¸€äº›åŸºäº bootstrap å¼€å‘æˆ–æ‰©å……çš„é¡¹ç›®çš„ cdnï¼ŒBootCDNä¹Ÿæ˜¯åœ¨è¯¥ç½‘ç«™æ——ä¸‹ Font Awesome å›¾æ ‡åº“ hexo æŒ‡å®šå›¾æ ‡åº“ iconfont é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ easyicon å›¾æ ‡åº“ å›¾æ ‡ä¸‹è½½ï¼Œæ ¼å¼è½¬æ¢ï¼Œå¯å¤–é“¾ semantic-ui.com å›¾æ ‡åº“ semantic-ui.com è¿˜æœ‰å¾ˆå¤šå‰ç«¯æ ·å¼å¯¹åº”ä»£ç  colorhunt é…è‰²æ–¹æ¡ˆæ¨èï¼Œè°ƒè¯• grabient æ¸å˜è‰² æ¸å˜è‰²è°ƒè‰² gradient æ¸å˜è‰²è°ƒè‰² æ¸å˜è‰²è°ƒè‰²ï¼Œè·å–ä»£ç  encycolorpedia encycolorpedia å–è‰²å™¨ ä¼˜é…·è§†é¢‘ä¸Šä¼  è·å–è§†é¢‘å¤–é“¾ï¼Œå…¶ä»–ï¼šè…¾è®¯è§†é¢‘ sm.ms éå¸¸å¥½ç”¨çš„å›¾åºŠ imgURL ä¸€ä¸ªå¼€æºçš„å›¾åºŠï¼Œå¾ˆä¸é”™ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±å°è¯•æ­å»ºï¼Œæ¯”å¦‚ img.lruihao.cn ç°å®å›å¤–é“¾ æ”¯æŒå¤šç§æ–‡ä»¶å¤–é“¾ï¼Œå”¯ä¸€ä¸å¥½çš„æ˜¯ http PEXELS ç¾å›¾ æ–‡ç« é…å›¾ï¼Œæ— ç‰ˆæƒç¾å›¾ç½‘ï¼Œé¿å…é…å›¾ä¾µæƒ unsplash ç¾å›¾ API è¿˜å¯ä»¥è·å– éšæœºå›¾ å›¾æ ‡å·¥å‚ ç§»åŠ¨åº”ç”¨å›¾æ ‡ç”Ÿæˆå·¥å…·ï¼Œä¸€é”®ç”Ÿæˆæ‰€æœ‰å°ºå¯¸çš„åº”ç”¨å›¾æ ‡ emoji åœ¨çº¿å¤åˆ¶ Simple emoji copy and paste HTML å­—ç¬¦å®ä½“ ç½‘é¡µç‰¹æ®Šç¬¦å·å¤§å…¨ ç‰¹æ•ˆå­—è½¬æ¢å·¥å…·é›† å„ç§ç‰¹æ•ˆå­—è½¬æ¢å·¥å…·ï¼Œå½©è™¹å­—ç”Ÿæˆå™¨ï¼ŒRGB è½¬ 16 è¿›åˆ¶é¢œè‰²ç­‰ å‹ç¼©å›¾ åœ¨çº¿ psï¼Œå›¾ç‰‡å»åº•ï¼Œè¯ä»¶ç…§æ¢åº•ç­‰æ“ä½œå¾ˆæ–¹ä¾¿çš„ web å›¾ç‰‡å¤„ç†å·¥å…· æ”¹å›¾å® åœ¨çº¿æ”¹å›¾å‹ç¼©ï¼ŒåŠ æ°´å°ï¼Œç”ŸæˆäºŒç»´ç ï¼Œå°ç« åˆ¶ä½œç­‰ GIF ä¹‹å®¶ ä¸€ä¸ªå‹ç¼©æ•ˆæœå¾ˆå¥½ä¸”å…è´¹çš„ gif å‹ç¼©å·¥å…· äºŒç»´ç è§£ç å™¨ è‰æ–™äºŒç»´ç  https://cli.im è”å›¾äºŒç»´ç  ç¬¬ä¹å·¥å‚ æ­»ç£•è‰ºæœ¯äºŒç»´ç  æ¨¡æ¿ç  åŠ¨æ€äºŒç»´ç ç­‰ ","date":"2018-06-07","objectID":"/posts/links/:4:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"å®ç”¨å·¥å…· é“¾æ¥ æè¿° Gearn Git Branching é€šè¿‡æ¸¸æˆé—¯å…³çš„æ–¹å¼å­¦ä¹  gitï¼ PicGo ä¸€ä¸ªå¾ˆå¥½çš„å¼€æºçš„å›¾åºŠç®¡ç†æ¡Œé¢ç¨‹åºï¼Œå›¾åºŠç¥å™¨æ”¯æŒå¾®åšå›¾åºŠã€ä¸ƒç‰›å›¾åºŠã€è…¾è®¯äº‘ COSã€åˆæ‹äº‘ã€GitHub å›¾åºŠã€é˜¿é‡Œäº‘ OSSã€Imgur å›¾åºŠç­‰ç­‰ Proxyee Down ç™¾åº¦äº‘ä¸‹è½½è§£å†³æ–¹æ¡ˆï¼Œæ»¡é€Ÿä¸‹è½½ï¼Œä½†ä¸é™äºç™¾åº¦äº‘çš„ä¸‹è½½ï¼Œæ„Ÿè§‰æ¯”è¿…é›·è¿˜å¥½ç”¨ï¼ PanDownload è¿™æ˜¯ pandownload ç½‘é¡µç‰ˆï¼ŒæŠŠéœ€è¦ä¸‹è½½çš„ç™¾åº¦ç½‘ç›˜é“¾æ¥baiduæ”¹æˆbaiduwpå³å¯åŠ é€Ÿï¼Œä¹Ÿæœ‰æ¡Œé¢ç‰ˆã€‚ ubuntu pastebin ä»£ç å±•ç¤ºæ‰˜ç®¡ï¼Œç”Ÿæˆåˆ†äº«ç½‘å€ï¼Œé˜²æ­¢ä»£ç ç›´æ¥åˆ†äº«ç¼©è¿›æ¶ˆå¤± å›¾ç‰‡è½¬å­—ç¬¦å·¥å…· Imgâ€“\u003eString everyfont ä¸­æ–‡å­—åº“åœ¨çº¿å‹ç¼© å­—è›› font-spider ä¸­æ–‡å­—åº“å‹ç¼© mdtr2pdf markdown è½¬ pdf ADâ€™s API åŒ…æ‹¬åŠ¨æ€ç­¾åï¼Œç½‘æ˜“éŸ³ä¹ç­‰ åœ¨çº¿å·¥å…· w3cschool çš„åœ¨çº¿å·¥å…·é›†åˆ åœ¨çº¿å·¥å…· å¼€æºä¸­å›½ç¤¾åŒº èœé¸Ÿå·¥å…· èœé¸Ÿæ•™ç¨‹ åœ¨çº¿å·¥å…·ï¼Œç¼–è¯‘ï¼ŒåŠ å¯†ï¼Œå‹ç¼©ä»£ç ç­‰ msdn windows ç³»ç»Ÿä¸Š office ç­‰è½¯ä»¶ä¸‹è½½ï¼ˆå¤‡ç”¨ï¼‰ è€æ®ç§‘æŠ€ Adobe ç­‰å„ç§ç»¿è‰²ç ´è§£è½¯ä»¶ ç™¾åº¦æ¥å£ ç™¾åº¦æœç´¢å…³é”®è¯æ¥å£ åœ¨çº¿çŸ­ä¿¡ ä¸æƒ³æ³„éœ²ä¸ªäººçš„ç”µè¯å·ç ï¼Œæ³¨å†Œä¸€äº›ä¸€æ¬¡æ€§ç½‘ç«™å¯ä»¥ç”¨åˆ° é…éŸ³é˜ æ–‡å­—è½¬æ¢è¯­éŸ³/è¯­éŸ³åˆæˆå¹¿å‘Šå«å–å½•éŸ³åœ¨çº¿é…éŸ³ç½‘ç»œè½¯ä»¶_ä¿ƒé”€å®£ä¼ ç‰‡é…éŸ³-é…éŸ³é˜-é…éŸ³é˜ï¼Œå›½å†…ä¸“ä¸šçš„å¹¿å‘Šé…éŸ³å¹³å° hacknical åœ¨çº¿ä¸ªæ€§ç®€å†ï¼Œä¸ªäºº Github æ€»ç»“åˆ†æ ","date":"2018-06-07","objectID":"/posts/links/:5:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"å…¶ä»– é“¾æ¥ æè¿° ä¿„ç½—æ–¯æ–¹å— è¿™æ˜¯ä¸€ä¸ªå¼€æºçš„æ¸¸æˆï¼Œå°ç™½çš„æˆ‘çœ‹æ¥ç®€ç›´ç‰›é€¼çˆ†äº†ï¼Œå¥½é€¼çœŸï¼Œåˆ·æ–°éƒ½ä¸ä¼šæ‰“æ–­æ¸¸æˆè¿›åº¦ï¼ï¼ ç½‘å€è¿·å®« nazo_game ä¸€ä¸ªç¨‹åºå‘˜çš„ç½‘é¡µæ¸¸æˆï¼Œæˆ‘åªç©åˆ° 12 å…³ã€‚ æ— æŸéŸ³ä¹ä¸‹è½½ æ‰‹å†™ä½“åˆ¶ä½œ åŒ—äº¬å¤§å­¦è®¡ç®—æœºç§‘å­¦æŠ€æœ¯ç ”ç©¶æ‰€çš„ä¸€ä¸ªé¡¹ç›®59.108.48.27 ï¼ˆæˆ‘çš„å­—ä½“è‡³ä»Šè¿˜æœªå®Œæˆï¼‰ å¤§è±¡ä»£ç† æ”¶è´¹ï¼Œå£ç¢‘ä¸é”™ è’²å…¬è‹± åº”ç”¨å†…æµ‹å‘å¸ƒå¹³å° ","date":"2018-06-07","objectID":"/posts/links/:6:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"åšå®¢æ–‡ç«  æ–‡ç«  æ¦‚æ‹¬ Web ç¬”è®° è®°å½•ä¸€ä¸‹è‡ªå·± web ç›¸å…³å­¦ä¹ çš„ç¬”è®° Git å¸¸ç”¨æŒ‡ä»¤æ±‡æ€» å¯èƒ½ç”¨åˆ°æŒ‰éœ€è‡ªæŸ¥ hexo æ’ä»¶åŠ next å†…ç½®æ ·å¼é›† è®©æ–‡ç« å†™çš„å¥½çœ‹åˆç®€æ´åˆå¥½ç”¨çš„æ’ä»¶ï¼hexo æ›´å¤šè¯·çœ‹åˆ†ç±» hexo-theme-next @modified LRH å¯¹ next ä¸»é¢˜çš„ DIY è®¾è®¡è®°å½•æ—¥å¿— ä¸€æ¬¾è‡ªå·±å†™çš„å­—ä½“ - æ²ç›®ä½“ æ²ç›®ä½“â€“release ","date":"2018-06-07","objectID":"/posts/links/:7:0","tags":["ACM"],"title":"å„ç§ Links æ±‡æ€»ä¸åˆ†äº«","uri":"/posts/links/"},{"categories":["Memo"],"content":"æ›´å¤šå…³äº hexo ","date":"2018-06-01","objectID":"/posts/hexobuild/:0:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"é¦–å…ˆ å®˜æ–¹æ–‡æ¡£ æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€æ‰‹èµ„æ–™ï¼Œä¹Ÿæ˜¯æœ€å¥½çš„ã€‚ å®‰è£… Hexo ç›¸å½“ç®€å•ã€‚ç„¶è€Œåœ¨å®‰è£…å‰ï¼Œæ‚¨å¿…é¡»æ£€æŸ¥ç”µè„‘ä¸­æ˜¯å¦å·²å®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºï¼š Node.js Git ","date":"2018-06-01","objectID":"/posts/hexobuild/:1:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"hexo å®‰è£… å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œæ‚¨ï¼æ¥ä¸‹æ¥åªéœ€è¦ä½¿ç”¨ npm å³å¯å®Œæˆ Hexo çš„å®‰è£…ã€‚ npm install -g hexo-cli ","date":"2018-06-01","objectID":"/posts/hexobuild/:2:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"å»ºç«™ å®‰è£… Hexo å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚ hexo init \u003cfolder\u003e cd \u003cfolder\u003e npm install ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹çš„åå­— æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š . â”œâ”€â”€ _config.yml â”œâ”€â”€ package.json â”œâ”€â”€ scaffolds â”œâ”€â”€ source | â”œâ”€â”€ _drafts | â””â”€â”€ _posts â””â”€â”€ themes ","date":"2018-06-01","objectID":"/posts/hexobuild/:3:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"å®‰è£… hexo æ’ä»¶ å…¨è£…ä¸Šå§ï¼Œæ²¡äº‹ã€‚ npm install hexo-generator-index --save npm install hexo-generator-archive --save npm install hexo-generator-category --save npm install hexo-generator-tag --save npm install hexo-server --save npm install hexo-deployer-git --save npm install hexo-deployer-heroku --save npm install hexo-deployer-rsync --save npm install hexo-deployer-openshift --save npm install hexo-renderer-marked@0.2 --save npm install hexo-renderer-stylus@0.2 --save npm install hexo-generator-feed@1 --save npm install hexo-generator-sitemap@1 --save ","date":"2018-06-01","objectID":"/posts/hexobuild/:4:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"æœ¬åœ°æŸ¥çœ‹æ•ˆæœ æ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œæ‰§è¡Œå®Œå†ç™»å½• localhost:4000 æŸ¥çœ‹æ•ˆæœï¼ˆæ‰§è¡Œå®Œä¸è¦æŒ‰ Ctrl+Cï¼Œä¸ç„¶å°±åœæ­¢äº†ï¼‰ hexo g hexo s å…¶ä»–æ­¥éª¤åœ¨è¿™é‡Œä¸èµ˜è¿°ï¼Œå‚è§ è¶…è¯¦ç»†æ•™ç¨‹ å®‰å“ä¸Šæ­å»º hexo åšå®¢ ","date":"2018-06-01","objectID":"/posts/hexobuild/:5:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"éƒ¨ç½² hexo g -d éƒ¨ç½²åæˆ‘ä»¬å¯ä»¥æµè§ˆå™¨æœ username.github.io æŸ¥çœ‹è‡ªå·±çš„åšå®¢æ•ˆæœï¼Œæ¯”å¦‚æˆ‘çš„ lruihao.github.io ","date":"2018-06-01","objectID":"/posts/hexobuild/:6:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"ç¾åŒ– è¿™äº›ç¾åŒ–éƒ½å†™çš„å¾ˆè¯¦ç»†ï¼Œæˆ‘å»ºè®®ä½ ä»¬è‡ªå·±å¥½å¥½çœ‹çœ‹å§ï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨è¿™é‡Œçœ‹åˆ°çš„ï¼Œå¦‚æœé—®æˆ‘å’Œè¿™é‡Œè¯´çš„æ˜¯ä¸€æ ·çš„ã€‚ hexo ä¸ªæ€§åŒ–æ•™ç¨‹ valine ç‰¹åˆ«é¸£è°¢èµµä¿Š ğŸ‘ asdfv1929 hexo å®˜æ–¹ä¸»é¢˜é›†åˆï¼Œæˆ‘ç”¨çš„æ˜¯ aloha ä¸»é¢˜ï¼Œè¯¥ä¸»é¢˜ å®˜æ–¹æ–‡æ¡£ï¼Œåæ”¹ç”¨ next ä¸»é¢˜ next ä¸»é¢˜ hexo å®˜æ–¹æ’ä»¶ è¯´è¯´æˆ‘çš„ä¸»é¢˜é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œç”±äºè¿™ä¸ªä¸»é¢˜ç”¨çš„äººå°‘ï¼Œæ‰€ä»¥ä½œè€…ä¼˜åŒ–çš„ä¸æ˜¯å¾ˆå¥½ï¼ˆnext ä½¿ç”¨æœ€å¤šï¼‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åè¿‡æ¥è¯´ï¼Œæ‰€ä»¥è‡ªå·±ç¾åŒ–äº†ä¸€ç‚¹ ","date":"2018-06-01","objectID":"/posts/hexobuild/:7:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"åšæ–‡ç½®é¡¶ ä¿®æ”¹ hero-generator-index æ’ä»¶ï¼ŒæŠŠæ–‡ä»¶ï¼šnode_modules/hexo-generator-index/lib/generator.js å†…çš„ä»£ç æ›¿æ¢ä¸ºï¼š 'use strict'; var pagination = require('hexo-pagination'); module.exports = function(locals){ var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) { if(a.top \u0026\u0026 b.top) { // ä¸¤ç¯‡æ–‡ç«  top éƒ½æœ‰å®šä¹‰ if(a.top == b.top) return b.date - a.date; // è‹¥ top å€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’ else return b.top - a.top; // å¦åˆ™æŒ‰ç…§ top å€¼é™åºæ’ } else if(a.top \u0026\u0026 !b.top) { // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç«  top æœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰ top çš„æ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ 233ï¼‰ return -1; } else if(!a.top \u0026\u0026 b.top) { return 1; } else return b.date - a.date; // éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’ }); var paginationDir = config.pagination_dir || 'page'; return pagination('', posts, { perPage: config.index_generator.per_page, layout: ['index', 'archive'], format: paginationDir + '/%d/', data: { __index: true } }); }; ","date":"2018-06-01","objectID":"/posts/hexobuild/:7:1","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"about é¡µé¢ about é¡µé¢å¯ä»¥ç”¨ HTML å†™ï¼Œä½ æƒ³æ€ä¹ˆå†™éƒ½è¡Œï¼Œæˆ‘ç”¨çš„æœ€ç®€å•çš„æ–¹æ³•ï¼Œç›´æ¥hexo n page \"about\"åï¼Œä¼šç”Ÿæˆä¸€ä¸ª md æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯åé¢è¯´çš„æ–‡ç« ï¼Œç›´æ¥å†™æ–‡ç« å°±è¡Œäº†ã€‚ ","date":"2018-06-01","objectID":"/posts/hexobuild/:7:2","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"æ·»åŠ æœç´¢ï¼Œè¯„è®ºï¼Œåˆ†äº« æœç´¢åŠŸèƒ½çœŸå¿ƒå¥½ç”¨ï¼Œå½“æ–‡ç« å¤šèµ·æ¥çš„æ—¶å€™ï¼Œæ ‡ç­¾æä¾›çš„ä½œç”¨å·²ç»å¾ˆå°‘äº†ï¼Œåªèƒ½ç®€å•ç´¢å¼•ï¼Œæœç´¢å´èƒ½ç²¾ç¡®æŸ¥æ‰¾ï¼Œè¿™é‡Œæˆ‘ç”¨çš„ä¾æ—§æ˜¯æœ€ç®€å•çš„æœ¬åœ°ç«™å†…æœç´¢ã€‚ å®‰è£…hexo-generator-searchdb åœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š npm install hexo-generator-searchdb --save é…ç½®ç«™ç‚¹é…ç½®æ–‡ä»¶ æ–°å¢ä»¥ä¸‹å†…å®¹åˆ°ä»»æ„ä½ç½®ï¼š search: path: search.xml field: post format: html limit: 10000 é…ç½®ä¸»é¢˜é…ç½®æ–‡ä»¶ ## Local search local_search: enable: true algolia å‚è€ƒæ–‡ä»¶ è®©æœç´¢å¼•æ“æ‰¾åˆ°ä½ çš„åšå®¢ï¼Œè¿˜æ˜¯çœ‹åˆ°é‚±æ‰¿ä½³å­¦é•¿åšæ–‡æœ‰å†™åˆ° ä¼ é€é—¨ ","date":"2018-06-01","objectID":"/posts/hexobuild/:7:3","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"æ·»åŠ è®¿å®¢æ•°ï¼Œé˜…è¯»é‡ç­‰ è¯„è®ºæœ‰å¤šè¯´ï¼ˆå¤šè¯´å¥½åƒæŒ‚äº†ï¼‰ï¼Œè®¡æ•°æœ‰ä¸è’œï¼Œæˆ‘ç”¨çš„ä¸è’œå­ï¼Œè¿˜æœ‰å…¶ä»–çš„ã€‚ æ–‡ç« é˜…è¯»é‡ ä»¥ä¸‹é€‚åˆé next ä¸»é¢˜çš„éƒ¨åˆ†ä¸»é¢˜ï¼Œnext ä¸»é¢˜å·²ç»è‡ªå¸¦ï¼Œåˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹å°±å¥½äº†ã€‚ æ‰“å¼€ä»¥ä¸‹è·¯å¾„åœ¨ä½ å–œæ¬¢çš„åœ°æ–¹æ·»åŠ ä»£ç ï¼Œ\\blog\\hexo\\themes\\ä¸»é¢˜åå­—ã€layout\\_partialï¼Œæ‰¾åˆ° article.ejsæ–‡ä»¶ \u003cdiv align=\"left\"\u003e \u003cspan id=\"busuanzi_container_page_pv\"\u003e æœ¬æ–‡æ€»é˜…è¯»é‡\u003cspan id=\"busuanzi_value_page_pv\"\u003e\u003c/span\u003eæ¬¡ \u003c/span\u003e \u003c/div\u003e ç«™ç‚¹è®¿é—®é‡ï¼Œè®¿å®¢æ•° æ‰“å¼€ä»¥ä¸‹è·¯å¾„åœ¨ä½ å–œæ¬¢çš„åœ°æ–¹æ·»åŠ ä»£ç ï¼Œ\\blog\\hexo\\themes\\ä¸»é¢˜åå­—ã€layout\\_partialï¼Œæ‰¾åˆ° footer.ejsæ–‡ä»¶ \u003cscript src=\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\" async defer\u003e\u003c/script\u003e \u003cspan id=\"busuanzi_container_page_pv\"\u003e æœ¬ç«™æ€»è®¿é—®é‡\u003cspan id=\"busuanzi_value_site_pv\"\u003e\u003c/span\u003eæ¬¡ | \u003c/span\u003e \u003cspan id=\"busuanzi_container_site_uv\"\u003e æœ¬ç«™è®¿å®¢æ•°\u003cspan id=\"busuanzi_value_site_uv\"\u003e\u003c/span\u003eäººæ¬¡ \u003c/span\u003e 2018.10.08 æ›´æ–° ä¸è’œå­å®˜ç½‘è¯´ä¸ƒç‰›å¼ºåˆ¶è¿‡æœŸåŸŸådn-lbstatics.qbox.me, æ‰€ä»¥ js æ–‡ä»¶ä½ç½®å‘ç”Ÿæ”¹å˜ï¼Œæ”¹ä¸ºbusuanzi.ibruce.info ","date":"2018-06-01","objectID":"/posts/hexobuild/:7:4","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":"å†™æ–‡ç«  hexo æ–‡ç« ç”¨è½»é‡å‹æ ‡ç­¾è¯­è¨€ Markdown ç¼–å†™ markdown å…¥é—¨ ç¹ä½“åŸå§‹æ–‡ä»¶ ç¹ä½“åŸå§‹æ–‡ä»¶ github ","date":"2018-06-01","objectID":"/posts/hexobuild/:8:0","tags":["Node.js","hexo"],"title":"hexo+github æ­å»ºä¸ªäººåšå®¢åŠç¾åŒ–","uri":"/posts/hexobuild/"},{"categories":["Memo"],"content":" å¦‚æœå®åœ¨æå¾—å¤´æ™•ç›´æ¥å» ç®€ä¹¦ å†™æ–‡ç« ï¼Œå†æŠŠç®€ä¹¦ç”Ÿæˆçš„ md æ–‡ç« å¤åˆ¶è¿‡æ¥å°±å¥½äº†ï¼ˆç®€ä¹¦æ˜¯ä¸ªä¸é”™çš„ Markdown åœ¨çº¿ç¼–è¾‘å™¨ï¼‰ï¼Œè¿˜å¯ä»¥å» é©¬å…‹é£è±¡ï¼Œä¸“ä¸ºå°è±¡ç¬”è®°æ‰“é€ çš„ Markdown ç¼–è¾‘å™¨ï¼Œtypora ä¹Ÿæ˜¯ä¸é”™çš„ï¼Œçªç„¶å‘ç° csdn ä¹Ÿæ”¯æŒ Markdown ç¼–è¯‘å™¨äº† ","date":"2018-05-31","objectID":"/posts/hexowrite/:0:0","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"1. é¦–å…ˆ åˆšåˆšæ­åšå®¢ï¼Œå¾ˆå¤šéƒ½ä¸æ‡‚ï¼Œå°±è¿æ’å…¥å›¾ç‰‡çš„è·¯å¾„é—®é¢˜éƒ½æŠŠæˆ‘æ•´çš„è¦å‘½ã€‚ï¼ˆæˆ‘ç”¨çš„ Sublime Text 3 ç¼–è¯‘å™¨ï¼‰ ä¸‹é¢è®²è®²ï¼š ","date":"2018-05-31","objectID":"/posts/hexowrite/:1:0","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"1.1 è®¾ç½®ç«™ç‚¹é…ç½®_config.yml post_asset_folder: true ","date":"2018-05-31","objectID":"/posts/hexowrite/:1:1","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"1.2 å®‰è£…æ’ä»¶ npm install https://github.com/CodeFalling/hexo-asset-image -- save ","date":"2018-05-31","objectID":"/posts/hexowrite/:1:2","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"1.3 ä¸‹æ¬¡å†è¿è¡Œ hexo n â€œxxxx\"æ¥ç”Ÿæˆ md åšæ–‡æ—¶ï¼Œä¸‹è·¯å¾„ /source/_posts æ–‡ä»¶å¤¹å†…é™¤äº† xxxx.md æ–‡ä»¶è¿˜æœ‰ä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ï¼Œåœ¨ xxxx.md ä¸­æƒ³å¼•å…¥å›¾ç‰‡æ—¶ï¼Œå…ˆæŠŠå›¾ç‰‡å¤åˆ¶åˆ° xxxx è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶ååªéœ€è¦åœ¨ xxxx.md ä¸­æŒ‰ç…§ markdown çš„æ ¼å¼å¼•å…¥å›¾ç‰‡ã€‚ ","date":"2018-05-31","objectID":"/posts/hexowrite/:1:3","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"2. æ·»åŠ å›¾ç‰‡ é¦–å…ˆå¤§å®¶å¯ä»¥æŸ¥çœ‹ hexo å®˜æ–¹æ–‡æ¡£ èµ„æºæ–‡ä»¶å¤¹ç« èŠ‚ ","date":"2018-05-31","objectID":"/posts/hexowrite/:2:0","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"2.1 markdown æ·»åŠ  ç›¸å¯¹è·¯å¾„æ·»åŠ ï¼ˆæˆ‘è¢«è¿™ä¸ªç›¸å¯¹è·¯å¾„æå¾—è¦æ­»ï¼Œå‰é¢å„ç§å‡ºé”™ï¼Œå¤§å®¶å¯ä»¥å¯¹ç…§æˆ‘çš„æ¥æ’å…¥å›¾ç‰‡ â€¦ï¼‰ #ç›´æ¥å†™å›¾ç‰‡åå°±å¥½äº†ï¼Œå›¾ç‰‡å®ä¾‹è§ä¸‹ ![kyrie irving](294136.jpg) #å¦‚æœæ”¹äº† Permalink å°±è¦åŠ ä¸Šæ–‡ç« åï¼Œå³åŒåæ–‡ä»¶å¤¹å ![kyrie irving](hexo-æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘/294136.jpg) #ä»£ç å‹ç¼©åå‰é¢è¿˜è¦åŠ ä¸€ä¸ª/ ![kyrie irving](/hexo-æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘/294136.jpg) ","date":"2018-05-31","objectID":"/posts/hexowrite/:2:1","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"2.2 æ’ä»¶æ·»åŠ  ä¼ é€é—¨ è¿™ç§æ–¹å¼è¢«å¾ˆå¤šäººè¯Ÿç—…ï¼Œä½†æœ‰æ—¶å€™ä¹Ÿä¸å¤±ä¸€ç§å¥½æ–¹å¼ï¼Œç®€å•å¿«æ·ã€‚ è¿˜æœ‰å›¾ç‰‡åå­—æ˜¾ç¤ºï¼Œä¸é”™çš„ã€‚ {% asset_img 297787.jpg kyrie irving %} ","date":"2018-05-31","objectID":"/posts/hexowrite/:2:2","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"3. éŸ³ä¹ å¤§å®¶å¯ä»¥çœ‹ ç½‘æ˜“äº‘éŸ³ä¹ çš„å®˜ç½‘ï¼Œæ’­æ”¾éŸ³ä¹å¯ä»¥ç”Ÿæˆå¤–é“¾ï¼Œç›´æ¥æ‹¿æ¥ç”¨å°±è¡Œäº†ã€‚iframe æ’ä»¶å¯ä»¥åœ¨ä»£ç ä¸­è®¾ç½®å®½é«˜ç­‰å‚æ•°ï¼Œauto ä¸ºè‡ªåŠ¨æ’­æ”¾ã€‚flash ä¸å¯ä»¥è‡ªå·±è®¾ç½®å‚æ•°ã€‚çœ‹å–œå¥½ï¼Œéšä¾¿ä½ ã€‚ å…¶ä»–éŸ³ä¹ï¼ŒæŠŠæ’ä»¶ä¸­çš„é“¾æ¥æ›¿æ¢æˆè¦æ’­æ”¾çš„é“¾æ¥å°±å¯ä»¥äº† #iframe æ’ä»¶ \u003ciframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2\u0026id=66651\u0026auto=0\u0026height=66\"\u003e \u003c/iframe\u003e #flash æ’ä»¶ \u003cembed src=\"//music.163.com/style/swf/widget.swf?sid=40249713\u0026type=2\u0026auto=0\u0026width=320\u0026height=66\" width=\"340\" height=\"86\" allowNetworking=\"all\"\u003e \u003c/embed\u003e ","date":"2018-05-31","objectID":"/posts/hexowrite/:3:0","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"4. æ·»åŠ é“¾æ¥ [æˆ‘çš„å¾®åš](https://weibo.com/liahao) {% link text url title %} ","date":"2018-05-31","objectID":"/posts/hexowrite/:4:0","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"5. æ·»åŠ è§†é¢‘ è§†é¢‘é“¾æ¥æœ€å¥½æ˜¯æ‰“å¼€å°±æ˜¯è§†é¢‘çš„é“¾æ¥ï¼ˆyoukuï¼ŒYouTubeï¼ŒæŠ–éŸ³ç­‰ï¼‰ å¯ä»¥æŠŠè§†é¢‘ä¸Šä¼ åˆ°ä¼˜é…·ï¼ŒæŠ–éŸ³ç­‰ç”Ÿæˆå¤–é“¾å†æ‹¿æ¥ç”¨ã€‚ï¼ˆä¼˜é…·ä¸Šä¼ éœ€è¦æ³¨å†Œå’Œå®åè®¤è¯ï¼‰ æ’ä»¶å‚è€ƒèµ„æ–™ è‡ªæ‹æ‰‹å†™è§†é¢‘ï¼ˆä¼˜é…·ï¼‰ å®éªŒå®¤æ— èŠæ‹çš„ \u003ciframe height=500 width=100% src=\"https://player.youku.com/embed/XMzY0MzgxNDMyOA==\" frameborder=0 allowfullscreen\u003e \u003c/iframe\u003e ","date":"2018-05-31","objectID":"/posts/hexowrite/:5:0","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["Memo"],"content":"å·¥å…·é›†åˆ Picgo é©¬å…‹é£è±¡ã€CSDNã€ç®€ä¹¦ SM.MS å›¾åºŠ ","date":"2018-05-31","objectID":"/posts/hexowrite/:6:0","tags":["hexo"],"title":"hexo æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œé“¾æ¥ï¼Œè§†é¢‘","uri":"/posts/hexowrite/"},{"categories":["éšç¬”"],"content":" â€œæ¯å¤©æ—©æ™¨å«é†’ä½ çš„ä¸æ˜¯é¬§é˜ï¼Œè€Œæ˜¯ä½ çš„å¤¢æƒ³ã€‚â€ æˆ‘æœ‰éé è‘—é€™ç¨®ä¿¡å¿µæ’ä¸‹ä¾†çš„æ—¥å­ï¼Œæˆ‘è¦‹éè‡ªå·±åŠªåŠ›çš„æ¨£å­ï¼Œè‡³æ–¼ç¾åœ¨çš„è‡ªå·±é…ä¸é…å¾—ä¸Šç•¶åˆåŠªåŠ›çš„è‡ªå·±ï¼Œ å…¶å¯¦ä¹Ÿä¸é‡è¦äº†ï¼Œé‚„æœ›æŠ«èŠæ–¬æ£˜ï¼Œä¸æ”¹åˆå¿ƒã€‚ ä¸æ€•è¬äººé˜»æ“‹ï¼Œåªæ€•è‡ªå·±æŠ•é™ã€‚ä½ å¦‚ä½•å›æ†¶ï¼Œæ±ºå®šä½ æ˜¯ä¸€å€‹æ€æ¨£çš„äººï¼ å¾å¤§ä¸€ä¼Šå§‹ï¼Œæ‰“ ACM æ¯”è³½ï¼Œè¨“ç·´åˆ·é¡Œï¼Œå†åˆ°æ¯…ç„¶æ±ºç„¶é›¢é–‹å¯¦é©—å®¤ï¼Œé¸æ“‡é™Œç”Ÿçš„ Web é–‹ç™¼ï¼Œå¾å·¥ä½œå‰çš„ä¸€ç„¡æ‰€çŸ¥åˆ°ï¼Œåˆ°å‰ç«¯é–‹ç™¼ï¼Œå¾Œç«¯é–‹ç™¼ï¼Œåˆ°æ•™å¯¦ç¿’ç”Ÿï¼Œåˆ°é¢è©¦æ–°äººï¼Œåˆ°é–‹å§‹ä¹å‘³ã€‚é€™ä¸€è·¯èµ°ä¾†ï¼Œå¥½å¥‡å¿ƒï¼Œæ¢ç´¢æ¬²ï¼Œçæ“‡é¨°ï¼Œæˆ–è¨±é‚„æœ‰æ„›æ„ï¼Œéƒ½æ˜¯æ”¯æ’æˆ‘çš„å‹•åŠ›ã€‚ æ™‚é–“ä¸¦ä¸æœƒå› ç‚ºä½ çš„è¿·èŒ«å’Œé²ç–‘è€Œåœç•™ï¼Œå°±åƒä½ åœ¨çœ‹åˆ°é€™ç¯‡åšå®¢çš„æ™‚å€™ï¼Œä¸çŸ¥é“æœ‰å¤šå°‘äººæ­£é¢¨é›¨å…¼ç¨‹è¶•èµ´å¤¢æƒ³ã€‚æ²’æœ‰èª°ç”Ÿä¾†å°±æ˜¯ç¥ç‰›ï¼Œåƒè£ä¹‹è¡Œï¼Œå§‹æ–¼è¶³ä¸‹ï¼æ¯”è‡ªå·±å„ªç§€çš„äººæœ‰å¾ˆå¤šï¼Œæ°¸é ä¸è¦æ„Ÿå‹•è‡ªå·±ï¼Œä¿æŒè¬™éœï¼Œæ²‰æ¾±è‡ªå·±ï¼Œæ„Ÿè¬æ¯ä¸€å€‹æ›¾ç¶“åŠªåŠ›çš„è‡ªå·±ã€‚ä¸å¿…åŸ·è‘—æ–¼éå»ï¼Œä¹Ÿä¸å¿…éåº¦æ“”æ†‚æœªä¾†ï¼Œæœ›æŠ«èŠæ–¬æ£˜ï¼Œä¸å¿˜åˆå¿ƒã€‚ æœ€é–‹å§‹å¯«åšå®¢ï¼Œæ˜¯åœ¨æ‰“ ACM çš„æ™‚å€™ï¼Œæ·±å—ä¸€å€‹å­¸é•·çš„åšå®¢å½±éŸ¿ï¼Œä»–çš„åšå®¢æ˜¯ hexo æ­å»ºçš„ï¼ŒID æ˜¯ [æˆç¢¼ä¸€ç”Ÿ]ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿç…§è‘«è˜†ç•«ç“¢ç”¨ hexo æ­å»ºäº†ä¸€å€‹ï¼Œä¸€ç”¨å°±æ˜¯ 3 å¹´ï¼Œåšå®¢åå­—åŸ â€œåšæ¡çœ¾é•·â€ æ”¹ä¸º â€œè èœçœ¾é•·â€ï¼Œå› ç‚ºä¸èƒ½ç”¨æˆèªä½œç‚ºç¶²ç«™åå­—ï¼Œå°±é€™å€‹åŸå› ã€‚ ç›´åˆ° 21 å¹´ä¸‹åŠå¹´ï¼Œå‡ç´š windows 11, ç³»çµ±å‡ºäº† BUG, æ•´ç†ç£ç›¤ä¸å°å¿ƒæŠŠä»£ç¢¼åˆªæ‰äº†ï¼Œå°±ä¹¾è„†æ›æˆ hugo äº†ã€‚ ç¾åœ¨ä¸¦æ²’æœ‰åˆ€æ§å…¥åº«ï¼Œé¦¬æ”¾å—å±±ï¼Œè¡¹æ˜¯åœ¨å¥”èµ´å¦ä¸€ç‰‡å±±æµ· ","date":"2018-05-28","objectID":"/posts/hello-world/:0:0","tags":["éšç¬”"],"title":"Hello World","uri":"/posts/hello-world/"},{"categories":null,"content":"ç¦»çº¿ - è èœçœ¾é•·","date":"0001-01-01","objectID":"/offline/","tags":null,"title":"","uri":"/offline/"}]