<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>平面几何 - 标签 - yejian's blog</title><link>https://jianye0428.github.io/tags/%E5%B9%B3%E9%9D%A2%E5%87%A0%E4%BD%95/</link><description>平面几何 - 标签 - yejian's blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>18817571704@163.com (Jian YE)</managingEditor><webMaster>18817571704@163.com (Jian YE)</webMaster><lastBuildDate>Sun, 12 May 2024 17:56:54 +0800</lastBuildDate><atom:link href="https://jianye0428.github.io/tags/%E5%B9%B3%E9%9D%A2%E5%87%A0%E4%BD%95/" rel="self" type="application/rss+xml"/><item><title>点、线、面之间的关系</title><link>https://jianye0428.github.io/posts/pointlineplane/</link><pubDate>Sun, 12 May 2024 17:56:54 +0800</pubDate><author>Jian YE</author><guid>https://jianye0428.github.io/posts/pointlineplane/</guid><description><![CDATA[<h2 id="1-点到直线的距离">1. 点到直线的距离</h2>
<p><mark><strong><font color=red>第一种:</font></strong></mark>
本文默认情况下，直线的方程为 $l:Ax+By+C=0$，$A$, $B$ 均不为0，斜率为 $k_l$，点的坐标为P(x0, y0)，点 $P$ 到 $l$ 的距离为 $d$ 。</p>
<p>则距离为:</p>
<p>$$d=\frac{|Ax_0+By_0+C|}{\sqrt{A^2+B^2}}$$</p>
<p>推导过程如下: <a href="https://zhuanlan.zhihu.com/p/26307123"target="_blank" rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/26307123<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<p><mark><strong><font color=red>第二种:</font></strong></mark>
直线的方程为 $l: y = ax + b$，$a$, $b$ 均不为0，斜率为 $a$，点的坐标为P(x0, y0)，点 $P$ 到直线 $l$ 的距离为 $d$ 。</p>
<p>$$d=\frac{|ax_{0} - y_{0} + b|}{\sqrt{a^2+b^2}}$$</p>
<h2 id="2-如何判断两点在直线的两侧">2. 如何判断两点在直线的两侧</h2>
<p><mark><strong><font color=red>判断点在直线的一侧:</font></strong></mark></p>
<p><strong>方法一:</strong></p>
<p>已知 $P(0,0)$, $Q(3,2)$ 两点，试判断 $P$ , $Q$是否在直线 $2x+3y=4$ 的同一侧。</p>
<p>解：直线2x+3y=4, 即直线2x+3y-4=0, 把P、Q代入2x+3y-4得到:</p>
<p>$$2 \times 0 + 3 \times 0-4=-4&lt;0$$</p>
<p>$$2 {\times} 3+3 {\times} 2 - 4 = 8 &gt; 0$$</p>
<p>所以，在<strong>两侧</strong>。</p>
<p><strong>方法2:</strong></p>
<blockquote>
<p>怎么判断坐标为(xp,yp)的点P是在直线的哪一侧呢?</p>
</blockquote>
<p>设直线是由其上两点 $(x_1,y_1)$，$(x_2,y_2)$ 确定的，直线方向是由 $(x_1,y_1)$ 到 $(x_2,y_2)$ 的方向。</p>
<p>假设直线方程为：$Ax+By+C=0$，则有:</p>
<p>$A=y2-y1$; $B=x1-x2$; $C=x2<em>y1-x1</em>y2$;</p>
<p>$$\left{\begin{aligned}
A&amp;=y_2-y_1\
B&amp;=x_1-x_2\
C&amp;=x_2<em>y_1-x_1</em>y_2
\end{aligned}\right.$$</p>
<p>这时可以通过计算D,来判断点P是在直线的哪一侧:</p>
<p>$$D=A<em>x_p+B</em>y_p+C$$</p>
<p>若D&lt;0, 则点P在直线的左侧;
若D&gt;0, 则点P在直线的右侧;
若D=0, 则点P在直线上。</p>
<blockquote>
<p>注：这里的直线是有方向性的！</p>
</blockquote>
<p><strong>方法3：</strong></p>
<blockquote>
<p>利用矢量计算快速判定一点在直线的哪一侧!</p>
</blockquote>
<p>例如矢量A×矢量B=矢量C</p>
<p>设想矢量A沿小于180度的角度转向矢量B</p>
<p>将右手的四指指向矢量A的方向，右手的四指弯曲代表上述旋转方向，则伸直的拇指指向它们的叉乘得到的矢量C</p>
<p>如果矢量C的方向相同，则在同侧；否则在两侧。</p>
<blockquote>
<p>注：叉乘计算公式！</p>
</blockquote>
<p>若将向量用坐标表示（三维向量），向量 $a=(x_1,y_1,z_1)$，向量 $b=(x_2,y_2,z_2)$，则：</p>
<p><strong>点乘</strong>，也叫向量的内积、数量积。</p>
<p>$$向量a·向量b = |a||b|cos\theta$$
$$向量a·向量b = x_1 * x_2 + y_1 * y_2 + z_1 * z_2$$</p>
<p><strong>叉乘</strong>，也叫向量的外积、向量积。</p>
<p>$$|向量c| = |向量a×向量b| = |a||b|sin \theta$$</p>
<p>向量c的方向与a,b所在的平面垂直，且方向要用“右手法则”判断（用右手的四指先表示向量a的方向，然后手指朝着手心的方向&lt;180摆动到向量b的方向，大拇指所指的方向就是向量c的方向）；</p>
<p>$$a\times b=\begin{vmatrix}\mathrm{i}&amp;\mathrm{j}&amp;\mathrm{k}\x_{1}&amp;y_{1}&amp;z_{1}\x_{2}&amp;y_{2}&amp;z_{2}\end{vmatrix}=(y_{1}z_{2}-y_{2}z_{1})i-(x_{1}z_{2}-x_{2}z_{1})j+(x_{1}y_{2}-x_{2}y_{1})k$$</p>
<p>（i、j、k分别为空间中相互垂直的三条坐标轴的单位向量）</p>
<p><a href="https://aipiano.github.io/2019/01/25/%E5%8F%89%E4%B9%98%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C/"target="_blank" rel="external nofollow noopener noreferrer">Cross Product叉乘速查手册<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>
<a href="https://zhuanlan.zhihu.com/p/359975221"target="_blank" rel="external nofollow noopener noreferrer">叉乘几何意义<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>
<a href="https://blog.csdn.net/wzyaiwl/article/details/106310705"target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/wzyaiwl/article/details/106310705<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<h2 id="3-判断点是否在矩形多边形中">3. 判断点是否在矩形、多边形中</h2>
<p><strong>方法一:</strong></p>
<blockquote>
<p>只要判断该点的横坐标和纵坐标是否夹在矩形的左右边和上下边之间。</p>
</blockquote>
<p>例如: 判断一个点是否在两条线段之间夹着就转化成，判断一个点是否在某条线段的一边上，就可以利用叉乘的方向性，来判断夹角是否超过了180度</p>
<p>如下图:
<br></p>
<center>
  
  <br>
  <div style="color:orange; border-bottom: 1px solid #d9d9d9; display: inline-block; color: #999; padding: 2px;">BP Network</div>
</center>
<br>
<p>只要判断(AB X AE ) * (CDX CE)  &gt;= 0 就说明E在AD和BC中间夹着，同理(DA X DE ) * (BC X BE) &gt;= 0计算另两边AB,CD就可以了。(<a href="https://www.cnblogs.com/fangsmile/p/14690062.html"target="_blank" rel="external nofollow noopener noreferrer">备注可进一步学习：向量点乘，叉乘的意义和几何意义<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>)</p>
<p>最后就是只需要判断</p>
<p>$$(AB \times AE ) * (CD \times CE)  &gt;= 0 \text{且} (DA \times DE ) * (BC \times BE) &gt;= 0$$ 。</p>
<p>参考代码:</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// 计算 |p1 p2| X |p1 p|
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">function</span> <span class="nf">GetCross</span><span class="p">(</span><span class="nl">p1</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="nl">p2</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="nl">p</span><span class="p">:</span> <span class="n">Point</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//判断点p是否在p1p2p3p4的正方形内
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">function</span> <span class="nf">IsPointInMatrix</span><span class="p">(</span><span class="nl">p1</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="nl">p2</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="nl">p3</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="nl">p4</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="nl">p</span><span class="p">:</span> <span class="n">Point</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">let</span> <span class="n">isPointIn</span> <span class="o">=</span> <span class="n">GetCross</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">*</span> <span class="n">GetCross</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">GetCross</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">*</span> <span class="n">GetCross</span><span class="p">(</span><span class="n">p4</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">isPointIn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>举例: <a href="https://www.cnblogs.com/fangsmile/p/9306510.html"target="_blank" rel="external nofollow noopener noreferrer">https://www.cnblogs.com/fangsmile/p/9306510.html<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<p><strong>方法2：</strong></p>
<blockquote>
<p>采用点是否包含在多边形中判断</p>
</blockquote>
<p>以该点为顶点，做一条射线，使得矩形四个顶点中任意一点都不在射线上。</p>
<p>若该射线与矩形有且仅有一个交点，则在矩形内；若有零个或两个焦点，则在矩形外。</p>
<p>至于射线，可以通过选择肯定在矩形外的一点和已知点练成线段来构成。</p>
<p>References:
[1] <a href="https://oi-wiki.org/geometry/2d/"target="_blank" rel="external nofollow noopener noreferrer">二维计算几何基础<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
]]></description></item></channel></rss>